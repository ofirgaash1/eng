var $y=Object.defineProperty;var Uy=(e,t,n)=>t in e?$y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var pi=(e,t,n)=>Uy(e,typeof t!="symbol"?t+"":t,n);function By(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Vd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ih={exports:{}},Al={},Fh={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eo=Symbol.for("react.element"),Ky=Symbol.for("react.portal"),Wy=Symbol.for("react.fragment"),Hy=Symbol.for("react.strict_mode"),Vy=Symbol.for("react.profiler"),qy=Symbol.for("react.provider"),Qy=Symbol.for("react.context"),Yy=Symbol.for("react.forward_ref"),Xy=Symbol.for("react.suspense"),Gy=Symbol.for("react.memo"),Jy=Symbol.for("react.lazy"),qd=Symbol.iterator;function Zy(e){return e===null||typeof e!="object"?null:(e=qd&&e[qd]||e["@@iterator"],typeof e=="function"?e:null)}var Mh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ah=Object.assign,zh={};function Hi(e,t,n){this.props=e,this.context=t,this.refs=zh,this.updater=n||Mh}Hi.prototype.isReactComponent={};Hi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Hi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Dh(){}Dh.prototype=Hi.prototype;function bc(e,t,n){this.props=e,this.context=t,this.refs=zh,this.updater=n||Mh}var Sc=bc.prototype=new Dh;Sc.constructor=bc;Ah(Sc,Hi.prototype);Sc.isPureReactComponent=!0;var Qd=Array.isArray,$h=Object.prototype.hasOwnProperty,kc={current:null},Uh={key:!0,ref:!0,__self:!0,__source:!0};function Bh(e,t,n){var r,i={},o=null,c=null;if(t!=null)for(r in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(o=""+t.key),t)$h.call(t,r)&&!Uh.hasOwnProperty(r)&&(i[r]=t[r]);var h=arguments.length-2;if(h===1)i.children=n;else if(1<h){for(var p=Array(h),g=0;g<h;g++)p[g]=arguments[g+2];i.children=p}if(e&&e.defaultProps)for(r in h=e.defaultProps,h)i[r]===void 0&&(i[r]=h[r]);return{$$typeof:eo,type:e,key:o,ref:c,props:i,_owner:kc.current}}function ev(e,t){return{$$typeof:eo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jc(e){return typeof e=="object"&&e!==null&&e.$$typeof===eo}function tv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Yd=/\/+/g;function Oa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?tv(""+e.key):t.toString(36)}function Yo(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(o){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case eo:case Ky:c=!0}}if(c)return c=e,i=i(c),e=r===""?"."+Oa(c,0):r,Qd(i)?(n="",e!=null&&(n=e.replace(Yd,"$&/")+"/"),Yo(i,t,n,"",function(g){return g})):i!=null&&(jc(i)&&(i=ev(i,n+(!i.key||c&&c.key===i.key?"":(""+i.key).replace(Yd,"$&/")+"/")+e)),t.push(i)),1;if(c=0,r=r===""?".":r+":",Qd(e))for(var h=0;h<e.length;h++){o=e[h];var p=r+Oa(o,h);c+=Yo(o,t,n,p,i)}else if(p=Zy(e),typeof p=="function")for(e=p.call(e),h=0;!(o=e.next()).done;)o=o.value,p=r+Oa(o,h++),c+=Yo(o,t,n,p,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function Eo(e,t,n){if(e==null)return e;var r=[],i=0;return Yo(e,r,"","",function(o){return t.call(n,o,i++)}),r}function nv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ot={current:null},Xo={transition:null},rv={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:Xo,ReactCurrentOwner:kc};function Kh(){throw Error("act(...) is not supported in production builds of React.")}Le.Children={map:Eo,forEach:function(e,t,n){Eo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Eo(e,function(){t++}),t},toArray:function(e){return Eo(e,function(t){return t})||[]},only:function(e){if(!jc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Le.Component=Hi;Le.Fragment=Wy;Le.Profiler=Vy;Le.PureComponent=bc;Le.StrictMode=Hy;Le.Suspense=Xy;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rv;Le.act=Kh;Le.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ah({},e.props),i=e.key,o=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,c=kc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var h=e.type.defaultProps;for(p in t)$h.call(t,p)&&!Uh.hasOwnProperty(p)&&(r[p]=t[p]===void 0&&h!==void 0?h[p]:t[p])}var p=arguments.length-2;if(p===1)r.children=n;else if(1<p){h=Array(p);for(var g=0;g<p;g++)h[g]=arguments[g+2];r.children=h}return{$$typeof:eo,type:e.type,key:i,ref:o,props:r,_owner:c}};Le.createContext=function(e){return e={$$typeof:Qy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:qy,_context:e},e.Consumer=e};Le.createElement=Bh;Le.createFactory=function(e){var t=Bh.bind(null,e);return t.type=e,t};Le.createRef=function(){return{current:null}};Le.forwardRef=function(e){return{$$typeof:Yy,render:e}};Le.isValidElement=jc;Le.lazy=function(e){return{$$typeof:Jy,_payload:{_status:-1,_result:e},_init:nv}};Le.memo=function(e,t){return{$$typeof:Gy,type:e,compare:t===void 0?null:t}};Le.startTransition=function(e){var t=Xo.transition;Xo.transition={};try{e()}finally{Xo.transition=t}};Le.unstable_act=Kh;Le.useCallback=function(e,t){return Ot.current.useCallback(e,t)};Le.useContext=function(e){return Ot.current.useContext(e)};Le.useDebugValue=function(){};Le.useDeferredValue=function(e){return Ot.current.useDeferredValue(e)};Le.useEffect=function(e,t){return Ot.current.useEffect(e,t)};Le.useId=function(){return Ot.current.useId()};Le.useImperativeHandle=function(e,t,n){return Ot.current.useImperativeHandle(e,t,n)};Le.useInsertionEffect=function(e,t){return Ot.current.useInsertionEffect(e,t)};Le.useLayoutEffect=function(e,t){return Ot.current.useLayoutEffect(e,t)};Le.useMemo=function(e,t){return Ot.current.useMemo(e,t)};Le.useReducer=function(e,t,n){return Ot.current.useReducer(e,t,n)};Le.useRef=function(e){return Ot.current.useRef(e)};Le.useState=function(e){return Ot.current.useState(e)};Le.useSyncExternalStore=function(e,t,n){return Ot.current.useSyncExternalStore(e,t,n)};Le.useTransition=function(){return Ot.current.useTransition()};Le.version="18.3.1";Fh.exports=Le;var x=Fh.exports;const Nc=wc(x),iv=By({__proto__:null,default:Nc},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv=x,ov=Symbol.for("react.element"),lv=Symbol.for("react.fragment"),av=Object.prototype.hasOwnProperty,uv=sv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cv={key:!0,ref:!0,__self:!0,__source:!0};function Wh(e,t,n){var r,i={},o=null,c=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(c=t.ref);for(r in t)av.call(t,r)&&!cv.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:ov,type:e,key:o,ref:c,props:i,_owner:uv.current}}Al.Fragment=lv;Al.jsx=Wh;Al.jsxs=Wh;Ih.exports=Al;var u=Ih.exports,pu={},Hh={exports:{}},Jt={},Vh={exports:{}},qh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,ie){var ne=H.length;H.push(ie);e:for(;0<ne;){var xe=ne-1>>>1,Ne=H[xe];if(0<i(Ne,ie))H[xe]=ie,H[ne]=Ne,ne=xe;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var ie=H[0],ne=H.pop();if(ne!==ie){H[0]=ne;e:for(var xe=0,Ne=H.length,ze=Ne>>>1;xe<ze;){var Ct=2*(xe+1)-1,ut=H[Ct],ct=Ct+1,It=H[ct];if(0>i(ut,ne))ct<Ne&&0>i(It,ut)?(H[xe]=It,H[ct]=ne,xe=ct):(H[xe]=ut,H[Ct]=ne,xe=Ct);else if(ct<Ne&&0>i(It,ne))H[xe]=It,H[ct]=ne,xe=ct;else break e}}return ie}function i(H,ie){var ne=H.sortIndex-ie.sortIndex;return ne!==0?ne:H.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();e.unstable_now=function(){return c.now()-h}}var p=[],g=[],S=1,b=null,E=3,U=!1,A=!1,B=!1,q=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(H){for(var ie=n(g);ie!==null;){if(ie.callback===null)r(g);else if(ie.startTime<=H)r(g),ie.sortIndex=ie.expirationTime,t(p,ie);else break;ie=n(g)}}function $(H){if(B=!1,k(H),!A)if(n(p)!==null)A=!0,Y(X);else{var ie=n(g);ie!==null&&we($,ie.startTime-H)}}function X(H,ie){A=!1,B&&(B=!1,N(re),re=-1),U=!0;var ne=E;try{for(k(ie),b=n(p);b!==null&&(!(b.expirationTime>ie)||H&&!Ie());){var xe=b.callback;if(typeof xe=="function"){b.callback=null,E=b.priorityLevel;var Ne=xe(b.expirationTime<=ie);ie=e.unstable_now(),typeof Ne=="function"?b.callback=Ne:b===n(p)&&r(p),k(ie)}else r(p);b=n(p)}if(b!==null)var ze=!0;else{var Ct=n(g);Ct!==null&&we($,Ct.startTime-ie),ze=!1}return ze}finally{b=null,E=ne,U=!1}}var Q=!1,J=null,re=-1,je=5,he=-1;function Ie(){return!(e.unstable_now()-he<je)}function Ue(){if(J!==null){var H=e.unstable_now();he=H;var ie=!0;try{ie=J(!0,H)}finally{ie?oe():(Q=!1,J=null)}}else Q=!1}var oe;if(typeof v=="function")oe=function(){v(Ue)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ee=G.port2;G.port1.onmessage=Ue,oe=function(){ee.postMessage(null)}}else oe=function(){q(Ue,0)};function Y(H){J=H,Q||(Q=!0,oe())}function we(H,ie){re=q(function(){H(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){A||U||(A=!0,Y(X))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):je=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_getFirstCallbackNode=function(){return n(p)},e.unstable_next=function(H){switch(E){case 1:case 2:case 3:var ie=3;break;default:ie=E}var ne=E;E=ie;try{return H()}finally{E=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,ie){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ne=E;E=H;try{return ie()}finally{E=ne}},e.unstable_scheduleCallback=function(H,ie,ne){var xe=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?xe+ne:xe):ne=xe,H){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=ne+Ne,H={id:S++,callback:ie,priorityLevel:H,startTime:ne,expirationTime:Ne,sortIndex:-1},ne>xe?(H.sortIndex=ne,t(g,H),n(p)===null&&H===n(g)&&(B?(N(re),re=-1):B=!0,we($,ne-xe))):(H.sortIndex=Ne,t(p,H),A||U||(A=!0,Y(X))),H},e.unstable_shouldYield=Ie,e.unstable_wrapCallback=function(H){var ie=E;return function(){var ne=E;E=ie;try{return H.apply(this,arguments)}finally{E=ne}}}})(qh);Vh.exports=qh;var dv=Vh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv=x,Gt=dv;function Z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qh=new Set,Ls={};function si(e,t){Mi(e,t),Mi(e+"Capture",t)}function Mi(e,t){for(Ls[e]=t,e=0;e<t.length;e++)Qh.add(t[e])}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mu=Object.prototype.hasOwnProperty,hv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xd={},Gd={};function pv(e){return mu.call(Gd,e)?!0:mu.call(Xd,e)?!1:hv.test(e)?Gd[e]=!0:(Xd[e]=!0,!1)}function mv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function yv(e,t,n,r){if(t===null||typeof t>"u"||mv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Lt(e,t,n,r,i,o,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=c}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){gt[e]=new Lt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];gt[t]=new Lt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){gt[e]=new Lt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){gt[e]=new Lt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){gt[e]=new Lt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){gt[e]=new Lt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){gt[e]=new Lt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){gt[e]=new Lt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){gt[e]=new Lt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Cc=/[\-:]([a-z])/g;function Ec(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Cc,Ec);gt[t]=new Lt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Cc,Ec);gt[t]=new Lt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Cc,Ec);gt[t]=new Lt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){gt[e]=new Lt(e,1,!1,e.toLowerCase(),null,!1,!1)});gt.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){gt[e]=new Lt(e,1,!1,e.toLowerCase(),null,!0,!0)});function _c(e,t,n,r){var i=gt.hasOwnProperty(t)?gt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(yv(t,n,i,r)&&(n=null),r||i===null?pv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Gn=fv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_o=Symbol.for("react.element"),gi=Symbol.for("react.portal"),xi=Symbol.for("react.fragment"),Pc=Symbol.for("react.strict_mode"),yu=Symbol.for("react.profiler"),Yh=Symbol.for("react.provider"),Xh=Symbol.for("react.context"),Tc=Symbol.for("react.forward_ref"),vu=Symbol.for("react.suspense"),gu=Symbol.for("react.suspense_list"),Rc=Symbol.for("react.memo"),cr=Symbol.for("react.lazy"),Gh=Symbol.for("react.offscreen"),Jd=Symbol.iterator;function ds(e){return e===null||typeof e!="object"?null:(e=Jd&&e[Jd]||e["@@iterator"],typeof e=="function"?e:null)}var Xe=Object.assign,La;function xs(e){if(La===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);La=t&&t[1]||""}return`
`+La+e}var Ia=!1;function Fa(e,t){if(!e||Ia)return"";Ia=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var r=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){r=g}e.call(t.prototype)}else{try{throw Error()}catch(g){r=g}e()}}catch(g){if(g&&r&&typeof g.stack=="string"){for(var i=g.stack.split(`
`),o=r.stack.split(`
`),c=i.length-1,h=o.length-1;1<=c&&0<=h&&i[c]!==o[h];)h--;for(;1<=c&&0<=h;c--,h--)if(i[c]!==o[h]){if(c!==1||h!==1)do if(c--,h--,0>h||i[c]!==o[h]){var p=`
`+i[c].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=c&&0<=h);break}}}finally{Ia=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?xs(e):""}function vv(e){switch(e.tag){case 5:return xs(e.type);case 16:return xs("Lazy");case 13:return xs("Suspense");case 19:return xs("SuspenseList");case 0:case 2:case 15:return e=Fa(e.type,!1),e;case 11:return e=Fa(e.type.render,!1),e;case 1:return e=Fa(e.type,!0),e;default:return""}}function xu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xi:return"Fragment";case gi:return"Portal";case yu:return"Profiler";case Pc:return"StrictMode";case vu:return"Suspense";case gu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Xh:return(e.displayName||"Context")+".Consumer";case Yh:return(e._context.displayName||"Context")+".Provider";case Tc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Rc:return t=e.displayName||null,t!==null?t:xu(e.type)||"Memo";case cr:t=e._payload,e=e._init;try{return xu(e(t))}catch{}}return null}function gv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xu(t);case 8:return t===Pc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Er(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xv(e){var t=Jh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(c){r=""+c,o.call(this,c)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(c){r=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Po(e){e._valueTracker||(e._valueTracker=xv(e))}function Zh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Jh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ul(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wu(e,t){var n=t.checked;return Xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Zd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Er(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ep(e,t){t=t.checked,t!=null&&_c(e,"checked",t,!1)}function bu(e,t){ep(e,t);var n=Er(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Su(e,t.type,n):t.hasOwnProperty("defaultValue")&&Su(e,t.type,Er(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ef(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Su(e,t,n){(t!=="number"||ul(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ws=Array.isArray;function Ti(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Er(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ku(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Z(91));return Xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Z(92));if(ws(n)){if(1<n.length)throw Error(Z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Er(n)}}function tp(e,t){var n=Er(t.value),r=Er(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function nf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function np(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ju(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?np(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var To,rp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(To=To||document.createElement("div"),To.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=To.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Is(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wv=["Webkit","ms","Moz","O"];Object.keys(js).forEach(function(e){wv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),js[t]=js[e]})});function ip(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||js.hasOwnProperty(e)&&js[e]?(""+t).trim():t+"px"}function sp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ip(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var bv=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nu(e,t){if(t){if(bv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Z(62))}}function Cu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eu=null;function Oc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _u=null,Ri=null,Oi=null;function rf(e){if(e=ro(e)){if(typeof _u!="function")throw Error(Z(280));var t=e.stateNode;t&&(t=Bl(t),_u(e.stateNode,e.type,t))}}function op(e){Ri?Oi?Oi.push(e):Oi=[e]:Ri=e}function lp(){if(Ri){var e=Ri,t=Oi;if(Oi=Ri=null,rf(e),t)for(e=0;e<t.length;e++)rf(t[e])}}function ap(e,t){return e(t)}function up(){}var Ma=!1;function cp(e,t,n){if(Ma)return e(t,n);Ma=!0;try{return ap(e,t,n)}finally{Ma=!1,(Ri!==null||Oi!==null)&&(up(),lp())}}function Fs(e,t){var n=e.stateNode;if(n===null)return null;var r=Bl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Z(231,t,typeof n));return n}var Pu=!1;if(qn)try{var fs={};Object.defineProperty(fs,"passive",{get:function(){Pu=!0}}),window.addEventListener("test",fs,fs),window.removeEventListener("test",fs,fs)}catch{Pu=!1}function Sv(e,t,n,r,i,o,c,h,p){var g=Array.prototype.slice.call(arguments,3);try{t.apply(n,g)}catch(S){this.onError(S)}}var Ns=!1,cl=null,dl=!1,Tu=null,kv={onError:function(e){Ns=!0,cl=e}};function jv(e,t,n,r,i,o,c,h,p){Ns=!1,cl=null,Sv.apply(kv,arguments)}function Nv(e,t,n,r,i,o,c,h,p){if(jv.apply(this,arguments),Ns){if(Ns){var g=cl;Ns=!1,cl=null}else throw Error(Z(198));dl||(dl=!0,Tu=g)}}function oi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function dp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sf(e){if(oi(e)!==e)throw Error(Z(188))}function Cv(e){var t=e.alternate;if(!t){if(t=oi(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return sf(i),e;if(o===r)return sf(i),t;o=o.sibling}throw Error(Z(188))}if(n.return!==r.return)n=i,r=o;else{for(var c=!1,h=i.child;h;){if(h===n){c=!0,n=i,r=o;break}if(h===r){c=!0,r=i,n=o;break}h=h.sibling}if(!c){for(h=o.child;h;){if(h===n){c=!0,n=o,r=i;break}if(h===r){c=!0,r=o,n=i;break}h=h.sibling}if(!c)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?e:t}function fp(e){return e=Cv(e),e!==null?hp(e):null}function hp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hp(e);if(t!==null)return t;e=e.sibling}return null}var pp=Gt.unstable_scheduleCallback,of=Gt.unstable_cancelCallback,Ev=Gt.unstable_shouldYield,_v=Gt.unstable_requestPaint,nt=Gt.unstable_now,Pv=Gt.unstable_getCurrentPriorityLevel,Lc=Gt.unstable_ImmediatePriority,mp=Gt.unstable_UserBlockingPriority,fl=Gt.unstable_NormalPriority,Tv=Gt.unstable_LowPriority,yp=Gt.unstable_IdlePriority,zl=null,On=null;function Rv(e){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(zl,e,void 0,(e.current.flags&128)===128)}catch{}}var xn=Math.clz32?Math.clz32:Iv,Ov=Math.log,Lv=Math.LN2;function Iv(e){return e>>>=0,e===0?32:31-(Ov(e)/Lv|0)|0}var Ro=64,Oo=4194304;function bs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,c=n&268435455;if(c!==0){var h=c&~i;h!==0?r=bs(h):(o&=c,o!==0&&(r=bs(o)))}else c=n&~i,c!==0?r=bs(c):o!==0&&(r=bs(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-xn(t),i=1<<n,r|=e[n],t&=~i;return r}function Fv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var c=31-xn(o),h=1<<c,p=i[c];p===-1?(!(h&n)||h&r)&&(i[c]=Fv(h,t)):p<=t&&(e.expiredLanes|=h),o&=~h}}function Ru(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vp(){var e=Ro;return Ro<<=1,!(Ro&4194240)&&(Ro=64),e}function Aa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function to(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xn(t),e[t]=n}function Av(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-xn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Ic(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var $e=0;function gp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xp,Fc,wp,bp,Sp,Ou=!1,Lo=[],gr=null,xr=null,wr=null,Ms=new Map,As=new Map,fr=[],zv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lf(e,t){switch(e){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":Ms.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":As.delete(t.pointerId)}}function hs(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=ro(t),t!==null&&Fc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Dv(e,t,n,r,i){switch(t){case"focusin":return gr=hs(gr,e,t,n,r,i),!0;case"dragenter":return xr=hs(xr,e,t,n,r,i),!0;case"mouseover":return wr=hs(wr,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ms.set(o,hs(Ms.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,As.set(o,hs(As.get(o)||null,e,t,n,r,i)),!0}return!1}function kp(e){var t=Qr(e.target);if(t!==null){var n=oi(t);if(n!==null){if(t=n.tag,t===13){if(t=dp(n),t!==null){e.blockedOn=t,Sp(e.priority,function(){wp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Go(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Lu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Eu=r,n.target.dispatchEvent(r),Eu=null}else return t=ro(n),t!==null&&Fc(t),e.blockedOn=n,!1;t.shift()}return!0}function af(e,t,n){Go(e)&&n.delete(t)}function $v(){Ou=!1,gr!==null&&Go(gr)&&(gr=null),xr!==null&&Go(xr)&&(xr=null),wr!==null&&Go(wr)&&(wr=null),Ms.forEach(af),As.forEach(af)}function ps(e,t){e.blockedOn===t&&(e.blockedOn=null,Ou||(Ou=!0,Gt.unstable_scheduleCallback(Gt.unstable_NormalPriority,$v)))}function zs(e){function t(i){return ps(i,e)}if(0<Lo.length){ps(Lo[0],e);for(var n=1;n<Lo.length;n++){var r=Lo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(gr!==null&&ps(gr,e),xr!==null&&ps(xr,e),wr!==null&&ps(wr,e),Ms.forEach(t),As.forEach(t),n=0;n<fr.length;n++)r=fr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<fr.length&&(n=fr[0],n.blockedOn===null);)kp(n),n.blockedOn===null&&fr.shift()}var Li=Gn.ReactCurrentBatchConfig,pl=!0;function Uv(e,t,n,r){var i=$e,o=Li.transition;Li.transition=null;try{$e=1,Mc(e,t,n,r)}finally{$e=i,Li.transition=o}}function Bv(e,t,n,r){var i=$e,o=Li.transition;Li.transition=null;try{$e=4,Mc(e,t,n,r)}finally{$e=i,Li.transition=o}}function Mc(e,t,n,r){if(pl){var i=Lu(e,t,n,r);if(i===null)qa(e,t,r,ml,n),lf(e,r);else if(Dv(i,e,t,n,r))r.stopPropagation();else if(lf(e,r),t&4&&-1<zv.indexOf(e)){for(;i!==null;){var o=ro(i);if(o!==null&&xp(o),o=Lu(e,t,n,r),o===null&&qa(e,t,r,ml,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else qa(e,t,r,null,n)}}var ml=null;function Lu(e,t,n,r){if(ml=null,e=Oc(r),e=Qr(e),e!==null)if(t=oi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=dp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ml=e,null}function jp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pv()){case Lc:return 1;case mp:return 4;case fl:case Tv:return 16;case yp:return 536870912;default:return 16}default:return 16}}var pr=null,Ac=null,Jo=null;function Np(){if(Jo)return Jo;var e,t=Ac,n=t.length,r,i="value"in pr?pr.value:pr.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var c=n-e;for(r=1;r<=c&&t[n-r]===i[o-r];r++);return Jo=i.slice(e,1<r?1-r:void 0)}function Zo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Io(){return!0}function uf(){return!1}function Zt(e){function t(n,r,i,o,c){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=c,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(n=e[h],this[h]=n?n(o):o[h]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Io:uf,this.isPropagationStopped=uf,this}return Xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Io)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Io)},persist:function(){},isPersistent:Io}),t}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zc=Zt(Vi),no=Xe({},Vi,{view:0,detail:0}),Kv=Zt(no),za,Da,ms,Dl=Xe({},no,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ms&&(ms&&e.type==="mousemove"?(za=e.screenX-ms.screenX,Da=e.screenY-ms.screenY):Da=za=0,ms=e),za)},movementY:function(e){return"movementY"in e?e.movementY:Da}}),cf=Zt(Dl),Wv=Xe({},Dl,{dataTransfer:0}),Hv=Zt(Wv),Vv=Xe({},no,{relatedTarget:0}),$a=Zt(Vv),qv=Xe({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),Qv=Zt(qv),Yv=Xe({},Vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xv=Zt(Yv),Gv=Xe({},Vi,{data:0}),df=Zt(Gv),Jv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=eg[e])?!!t[e]:!1}function Dc(){return tg}var ng=Xe({},no,{key:function(e){if(e.key){var t=Jv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dc,charCode:function(e){return e.type==="keypress"?Zo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rg=Zt(ng),ig=Xe({},Dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ff=Zt(ig),sg=Xe({},no,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dc}),og=Zt(sg),lg=Xe({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ag=Zt(lg),ug=Xe({},Dl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cg=Zt(ug),dg=[9,13,27,32],$c=qn&&"CompositionEvent"in window,Cs=null;qn&&"documentMode"in document&&(Cs=document.documentMode);var fg=qn&&"TextEvent"in window&&!Cs,Cp=qn&&(!$c||Cs&&8<Cs&&11>=Cs),hf=" ",pf=!1;function Ep(e,t){switch(e){case"keyup":return dg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _p(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wi=!1;function hg(e,t){switch(e){case"compositionend":return _p(t);case"keypress":return t.which!==32?null:(pf=!0,hf);case"textInput":return e=t.data,e===hf&&pf?null:e;default:return null}}function pg(e,t){if(wi)return e==="compositionend"||!$c&&Ep(e,t)?(e=Np(),Jo=Ac=pr=null,wi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cp&&t.locale!=="ko"?null:t.data;default:return null}}var mg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mg[e.type]:t==="textarea"}function Pp(e,t,n,r){op(r),t=yl(t,"onChange"),0<t.length&&(n=new zc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Es=null,Ds=null;function yg(e){$p(e,0)}function $l(e){var t=ki(e);if(Zh(t))return e}function vg(e,t){if(e==="change")return t}var Tp=!1;if(qn){var Ua;if(qn){var Ba="oninput"in document;if(!Ba){var yf=document.createElement("div");yf.setAttribute("oninput","return;"),Ba=typeof yf.oninput=="function"}Ua=Ba}else Ua=!1;Tp=Ua&&(!document.documentMode||9<document.documentMode)}function vf(){Es&&(Es.detachEvent("onpropertychange",Rp),Ds=Es=null)}function Rp(e){if(e.propertyName==="value"&&$l(Ds)){var t=[];Pp(t,Ds,e,Oc(e)),cp(yg,t)}}function gg(e,t,n){e==="focusin"?(vf(),Es=t,Ds=n,Es.attachEvent("onpropertychange",Rp)):e==="focusout"&&vf()}function xg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $l(Ds)}function wg(e,t){if(e==="click")return $l(t)}function bg(e,t){if(e==="input"||e==="change")return $l(t)}function Sg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bn=typeof Object.is=="function"?Object.is:Sg;function $s(e,t){if(bn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!mu.call(t,i)||!bn(e[i],t[i]))return!1}return!0}function gf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xf(e,t){var n=gf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gf(n)}}function Op(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Op(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Lp(){for(var e=window,t=ul();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ul(e.document)}return t}function Uc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kg(e){var t=Lp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Op(n.ownerDocument.documentElement,n)){if(r!==null&&Uc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=xf(n,o);var c=xf(n,r);i&&c&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jg=qn&&"documentMode"in document&&11>=document.documentMode,bi=null,Iu=null,_s=null,Fu=!1;function wf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fu||bi==null||bi!==ul(r)||(r=bi,"selectionStart"in r&&Uc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_s&&$s(_s,r)||(_s=r,r=yl(Iu,"onSelect"),0<r.length&&(t=new zc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=bi)))}function Fo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Si={animationend:Fo("Animation","AnimationEnd"),animationiteration:Fo("Animation","AnimationIteration"),animationstart:Fo("Animation","AnimationStart"),transitionend:Fo("Transition","TransitionEnd")},Ka={},Ip={};qn&&(Ip=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);function Ul(e){if(Ka[e])return Ka[e];if(!Si[e])return e;var t=Si[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ip)return Ka[e]=t[n];return e}var Fp=Ul("animationend"),Mp=Ul("animationiteration"),Ap=Ul("animationstart"),zp=Ul("transitionend"),Dp=new Map,bf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Dp.set(e,t),si(t,[e])}for(var Wa=0;Wa<bf.length;Wa++){var Ha=bf[Wa],Ng=Ha.toLowerCase(),Cg=Ha[0].toUpperCase()+Ha.slice(1);Pr(Ng,"on"+Cg)}Pr(Fp,"onAnimationEnd");Pr(Mp,"onAnimationIteration");Pr(Ap,"onAnimationStart");Pr("dblclick","onDoubleClick");Pr("focusin","onFocus");Pr("focusout","onBlur");Pr(zp,"onTransitionEnd");Mi("onMouseEnter",["mouseout","mouseover"]);Mi("onMouseLeave",["mouseout","mouseover"]);Mi("onPointerEnter",["pointerout","pointerover"]);Mi("onPointerLeave",["pointerout","pointerover"]);si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));si("onBeforeInput",["compositionend","keypress","textInput","paste"]);si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Eg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ss));function Sf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Nv(r,t,void 0,e),e.currentTarget=null}function $p(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var c=r.length-1;0<=c;c--){var h=r[c],p=h.instance,g=h.currentTarget;if(h=h.listener,p!==o&&i.isPropagationStopped())break e;Sf(i,h,g),o=p}else for(c=0;c<r.length;c++){if(h=r[c],p=h.instance,g=h.currentTarget,h=h.listener,p!==o&&i.isPropagationStopped())break e;Sf(i,h,g),o=p}}}if(dl)throw e=Tu,dl=!1,Tu=null,e}function He(e,t){var n=t[$u];n===void 0&&(n=t[$u]=new Set);var r=e+"__bubble";n.has(r)||(Up(t,e,2,!1),n.add(r))}function Va(e,t,n){var r=0;t&&(r|=4),Up(n,e,r,t)}var Mo="_reactListening"+Math.random().toString(36).slice(2);function Us(e){if(!e[Mo]){e[Mo]=!0,Qh.forEach(function(n){n!=="selectionchange"&&(Eg.has(n)||Va(n,!1,e),Va(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mo]||(t[Mo]=!0,Va("selectionchange",!1,t))}}function Up(e,t,n,r){switch(jp(t)){case 1:var i=Uv;break;case 4:i=Bv;break;default:i=Mc}n=i.bind(null,t,n,e),i=void 0,!Pu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qa(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var c=r.tag;if(c===3||c===4){var h=r.stateNode.containerInfo;if(h===i||h.nodeType===8&&h.parentNode===i)break;if(c===4)for(c=r.return;c!==null;){var p=c.tag;if((p===3||p===4)&&(p=c.stateNode.containerInfo,p===i||p.nodeType===8&&p.parentNode===i))return;c=c.return}for(;h!==null;){if(c=Qr(h),c===null)return;if(p=c.tag,p===5||p===6){r=o=c;continue e}h=h.parentNode}}r=r.return}cp(function(){var g=o,S=Oc(n),b=[];e:{var E=Dp.get(e);if(E!==void 0){var U=zc,A=e;switch(e){case"keypress":if(Zo(n)===0)break e;case"keydown":case"keyup":U=rg;break;case"focusin":A="focus",U=$a;break;case"focusout":A="blur",U=$a;break;case"beforeblur":case"afterblur":U=$a;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=cf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=Hv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=og;break;case Fp:case Mp:case Ap:U=Qv;break;case zp:U=ag;break;case"scroll":U=Kv;break;case"wheel":U=cg;break;case"copy":case"cut":case"paste":U=Xv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=ff}var B=(t&4)!==0,q=!B&&e==="scroll",N=B?E!==null?E+"Capture":null:E;B=[];for(var v=g,k;v!==null;){k=v;var $=k.stateNode;if(k.tag===5&&$!==null&&(k=$,N!==null&&($=Fs(v,N),$!=null&&B.push(Bs(v,$,k)))),q)break;v=v.return}0<B.length&&(E=new U(E,A,null,n,S),b.push({event:E,listeners:B}))}}if(!(t&7)){e:{if(E=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",E&&n!==Eu&&(A=n.relatedTarget||n.fromElement)&&(Qr(A)||A[Qn]))break e;if((U||E)&&(E=S.window===S?S:(E=S.ownerDocument)?E.defaultView||E.parentWindow:window,U?(A=n.relatedTarget||n.toElement,U=g,A=A?Qr(A):null,A!==null&&(q=oi(A),A!==q||A.tag!==5&&A.tag!==6)&&(A=null)):(U=null,A=g),U!==A)){if(B=cf,$="onMouseLeave",N="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(B=ff,$="onPointerLeave",N="onPointerEnter",v="pointer"),q=U==null?E:ki(U),k=A==null?E:ki(A),E=new B($,v+"leave",U,n,S),E.target=q,E.relatedTarget=k,$=null,Qr(S)===g&&(B=new B(N,v+"enter",A,n,S),B.target=k,B.relatedTarget=q,$=B),q=$,U&&A)t:{for(B=U,N=A,v=0,k=B;k;k=mi(k))v++;for(k=0,$=N;$;$=mi($))k++;for(;0<v-k;)B=mi(B),v--;for(;0<k-v;)N=mi(N),k--;for(;v--;){if(B===N||N!==null&&B===N.alternate)break t;B=mi(B),N=mi(N)}B=null}else B=null;U!==null&&kf(b,E,U,B,!1),A!==null&&q!==null&&kf(b,q,A,B,!0)}}e:{if(E=g?ki(g):window,U=E.nodeName&&E.nodeName.toLowerCase(),U==="select"||U==="input"&&E.type==="file")var X=vg;else if(mf(E))if(Tp)X=bg;else{X=xg;var Q=gg}else(U=E.nodeName)&&U.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(X=wg);if(X&&(X=X(e,g))){Pp(b,X,n,S);break e}Q&&Q(e,E,g),e==="focusout"&&(Q=E._wrapperState)&&Q.controlled&&E.type==="number"&&Su(E,"number",E.value)}switch(Q=g?ki(g):window,e){case"focusin":(mf(Q)||Q.contentEditable==="true")&&(bi=Q,Iu=g,_s=null);break;case"focusout":_s=Iu=bi=null;break;case"mousedown":Fu=!0;break;case"contextmenu":case"mouseup":case"dragend":Fu=!1,wf(b,n,S);break;case"selectionchange":if(jg)break;case"keydown":case"keyup":wf(b,n,S)}var J;if($c)e:{switch(e){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else wi?Ep(e,n)&&(re="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(re="onCompositionStart");re&&(Cp&&n.locale!=="ko"&&(wi||re!=="onCompositionStart"?re==="onCompositionEnd"&&wi&&(J=Np()):(pr=S,Ac="value"in pr?pr.value:pr.textContent,wi=!0)),Q=yl(g,re),0<Q.length&&(re=new df(re,e,null,n,S),b.push({event:re,listeners:Q}),J?re.data=J:(J=_p(n),J!==null&&(re.data=J)))),(J=fg?hg(e,n):pg(e,n))&&(g=yl(g,"onBeforeInput"),0<g.length&&(S=new df("onBeforeInput","beforeinput",null,n,S),b.push({event:S,listeners:g}),S.data=J))}$p(b,t)})}function Bs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function yl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Fs(e,n),o!=null&&r.unshift(Bs(e,o,i)),o=Fs(e,t),o!=null&&r.push(Bs(e,o,i))),e=e.return}return r}function mi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function kf(e,t,n,r,i){for(var o=t._reactName,c=[];n!==null&&n!==r;){var h=n,p=h.alternate,g=h.stateNode;if(p!==null&&p===r)break;h.tag===5&&g!==null&&(h=g,i?(p=Fs(n,o),p!=null&&c.unshift(Bs(n,p,h))):i||(p=Fs(n,o),p!=null&&c.push(Bs(n,p,h)))),n=n.return}c.length!==0&&e.push({event:t,listeners:c})}var _g=/\r\n?/g,Pg=/\u0000|\uFFFD/g;function jf(e){return(typeof e=="string"?e:""+e).replace(_g,`
`).replace(Pg,"")}function Ao(e,t,n){if(t=jf(t),jf(e)!==t&&n)throw Error(Z(425))}function vl(){}var Mu=null,Au=null;function zu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Du=typeof setTimeout=="function"?setTimeout:void 0,Tg=typeof clearTimeout=="function"?clearTimeout:void 0,Nf=typeof Promise=="function"?Promise:void 0,Rg=typeof queueMicrotask=="function"?queueMicrotask:typeof Nf<"u"?function(e){return Nf.resolve(null).then(e).catch(Og)}:Du;function Og(e){setTimeout(function(){throw e})}function Qa(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),zs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);zs(t)}function br(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Cf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qi=Math.random().toString(36).slice(2),Rn="__reactFiber$"+qi,Ks="__reactProps$"+qi,Qn="__reactContainer$"+qi,$u="__reactEvents$"+qi,Lg="__reactListeners$"+qi,Ig="__reactHandles$"+qi;function Qr(e){var t=e[Rn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qn]||n[Rn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Cf(e);e!==null;){if(n=e[Rn])return n;e=Cf(e)}return t}e=n,n=e.parentNode}return null}function ro(e){return e=e[Rn]||e[Qn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ki(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Z(33))}function Bl(e){return e[Ks]||null}var Uu=[],ji=-1;function Tr(e){return{current:e}}function Ve(e){0>ji||(e.current=Uu[ji],Uu[ji]=null,ji--)}function We(e,t){ji++,Uu[ji]=e.current,e.current=t}var _r={},Nt=Tr(_r),$t=Tr(!1),ei=_r;function Ai(e,t){var n=e.type.contextTypes;if(!n)return _r;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ut(e){return e=e.childContextTypes,e!=null}function gl(){Ve($t),Ve(Nt)}function Ef(e,t,n){if(Nt.current!==_r)throw Error(Z(168));We(Nt,t),We($t,n)}function Bp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Z(108,gv(e)||"Unknown",i));return Xe({},n,r)}function xl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_r,ei=Nt.current,We(Nt,e),We($t,$t.current),!0}function _f(e,t,n){var r=e.stateNode;if(!r)throw Error(Z(169));n?(e=Bp(e,t,ei),r.__reactInternalMemoizedMergedChildContext=e,Ve($t),Ve(Nt),We(Nt,e)):Ve($t),We($t,n)}var Bn=null,Kl=!1,Ya=!1;function Kp(e){Bn===null?Bn=[e]:Bn.push(e)}function Fg(e){Kl=!0,Kp(e)}function Rr(){if(!Ya&&Bn!==null){Ya=!0;var e=0,t=$e;try{var n=Bn;for($e=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Bn=null,Kl=!1}catch(i){throw Bn!==null&&(Bn=Bn.slice(e+1)),pp(Lc,Rr),i}finally{$e=t,Ya=!1}}return null}var Ni=[],Ci=0,wl=null,bl=0,rn=[],sn=0,ti=null,Kn=1,Wn="";function Hr(e,t){Ni[Ci++]=bl,Ni[Ci++]=wl,wl=e,bl=t}function Wp(e,t,n){rn[sn++]=Kn,rn[sn++]=Wn,rn[sn++]=ti,ti=e;var r=Kn;e=Wn;var i=32-xn(r)-1;r&=~(1<<i),n+=1;var o=32-xn(t)+i;if(30<o){var c=i-i%5;o=(r&(1<<c)-1).toString(32),r>>=c,i-=c,Kn=1<<32-xn(t)+i|n<<i|r,Wn=o+e}else Kn=1<<o|n<<i|r,Wn=e}function Bc(e){e.return!==null&&(Hr(e,1),Wp(e,1,0))}function Kc(e){for(;e===wl;)wl=Ni[--Ci],Ni[Ci]=null,bl=Ni[--Ci],Ni[Ci]=null;for(;e===ti;)ti=rn[--sn],rn[sn]=null,Wn=rn[--sn],rn[sn]=null,Kn=rn[--sn],rn[sn]=null}var Xt=null,Yt=null,qe=!1,gn=null;function Hp(e,t){var n=on(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Pf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xt=e,Yt=br(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xt=e,Yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ti!==null?{id:Kn,overflow:Wn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=on(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Xt=e,Yt=null,!0):!1;default:return!1}}function Bu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ku(e){if(qe){var t=Yt;if(t){var n=t;if(!Pf(e,t)){if(Bu(e))throw Error(Z(418));t=br(n.nextSibling);var r=Xt;t&&Pf(e,t)?Hp(r,n):(e.flags=e.flags&-4097|2,qe=!1,Xt=e)}}else{if(Bu(e))throw Error(Z(418));e.flags=e.flags&-4097|2,qe=!1,Xt=e}}}function Tf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xt=e}function zo(e){if(e!==Xt)return!1;if(!qe)return Tf(e),qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!zu(e.type,e.memoizedProps)),t&&(t=Yt)){if(Bu(e))throw Vp(),Error(Z(418));for(;t;)Hp(e,t),t=br(t.nextSibling)}if(Tf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Yt=br(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Yt=null}}else Yt=Xt?br(e.stateNode.nextSibling):null;return!0}function Vp(){for(var e=Yt;e;)e=br(e.nextSibling)}function zi(){Yt=Xt=null,qe=!1}function Wc(e){gn===null?gn=[e]:gn.push(e)}var Mg=Gn.ReactCurrentBatchConfig;function ys(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(c){var h=i.refs;c===null?delete h[o]:h[o]=c},t._stringRef=o,t)}if(typeof e!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,e))}return e}function Do(e,t){throw e=Object.prototype.toString.call(t),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rf(e){var t=e._init;return t(e._payload)}function qp(e){function t(N,v){if(e){var k=N.deletions;k===null?(N.deletions=[v],N.flags|=16):k.push(v)}}function n(N,v){if(!e)return null;for(;v!==null;)t(N,v),v=v.sibling;return null}function r(N,v){for(N=new Map;v!==null;)v.key!==null?N.set(v.key,v):N.set(v.index,v),v=v.sibling;return N}function i(N,v){return N=Nr(N,v),N.index=0,N.sibling=null,N}function o(N,v,k){return N.index=k,e?(k=N.alternate,k!==null?(k=k.index,k<v?(N.flags|=2,v):k):(N.flags|=2,v)):(N.flags|=1048576,v)}function c(N){return e&&N.alternate===null&&(N.flags|=2),N}function h(N,v,k,$){return v===null||v.tag!==6?(v=nu(k,N.mode,$),v.return=N,v):(v=i(v,k),v.return=N,v)}function p(N,v,k,$){var X=k.type;return X===xi?S(N,v,k.props.children,$,k.key):v!==null&&(v.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===cr&&Rf(X)===v.type)?($=i(v,k.props),$.ref=ys(N,v,k),$.return=N,$):($=ol(k.type,k.key,k.props,null,N.mode,$),$.ref=ys(N,v,k),$.return=N,$)}function g(N,v,k,$){return v===null||v.tag!==4||v.stateNode.containerInfo!==k.containerInfo||v.stateNode.implementation!==k.implementation?(v=ru(k,N.mode,$),v.return=N,v):(v=i(v,k.children||[]),v.return=N,v)}function S(N,v,k,$,X){return v===null||v.tag!==7?(v=Zr(k,N.mode,$,X),v.return=N,v):(v=i(v,k),v.return=N,v)}function b(N,v,k){if(typeof v=="string"&&v!==""||typeof v=="number")return v=nu(""+v,N.mode,k),v.return=N,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case _o:return k=ol(v.type,v.key,v.props,null,N.mode,k),k.ref=ys(N,null,v),k.return=N,k;case gi:return v=ru(v,N.mode,k),v.return=N,v;case cr:var $=v._init;return b(N,$(v._payload),k)}if(ws(v)||ds(v))return v=Zr(v,N.mode,k,null),v.return=N,v;Do(N,v)}return null}function E(N,v,k,$){var X=v!==null?v.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return X!==null?null:h(N,v,""+k,$);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case _o:return k.key===X?p(N,v,k,$):null;case gi:return k.key===X?g(N,v,k,$):null;case cr:return X=k._init,E(N,v,X(k._payload),$)}if(ws(k)||ds(k))return X!==null?null:S(N,v,k,$,null);Do(N,k)}return null}function U(N,v,k,$,X){if(typeof $=="string"&&$!==""||typeof $=="number")return N=N.get(k)||null,h(v,N,""+$,X);if(typeof $=="object"&&$!==null){switch($.$$typeof){case _o:return N=N.get($.key===null?k:$.key)||null,p(v,N,$,X);case gi:return N=N.get($.key===null?k:$.key)||null,g(v,N,$,X);case cr:var Q=$._init;return U(N,v,k,Q($._payload),X)}if(ws($)||ds($))return N=N.get(k)||null,S(v,N,$,X,null);Do(v,$)}return null}function A(N,v,k,$){for(var X=null,Q=null,J=v,re=v=0,je=null;J!==null&&re<k.length;re++){J.index>re?(je=J,J=null):je=J.sibling;var he=E(N,J,k[re],$);if(he===null){J===null&&(J=je);break}e&&J&&he.alternate===null&&t(N,J),v=o(he,v,re),Q===null?X=he:Q.sibling=he,Q=he,J=je}if(re===k.length)return n(N,J),qe&&Hr(N,re),X;if(J===null){for(;re<k.length;re++)J=b(N,k[re],$),J!==null&&(v=o(J,v,re),Q===null?X=J:Q.sibling=J,Q=J);return qe&&Hr(N,re),X}for(J=r(N,J);re<k.length;re++)je=U(J,N,re,k[re],$),je!==null&&(e&&je.alternate!==null&&J.delete(je.key===null?re:je.key),v=o(je,v,re),Q===null?X=je:Q.sibling=je,Q=je);return e&&J.forEach(function(Ie){return t(N,Ie)}),qe&&Hr(N,re),X}function B(N,v,k,$){var X=ds(k);if(typeof X!="function")throw Error(Z(150));if(k=X.call(k),k==null)throw Error(Z(151));for(var Q=X=null,J=v,re=v=0,je=null,he=k.next();J!==null&&!he.done;re++,he=k.next()){J.index>re?(je=J,J=null):je=J.sibling;var Ie=E(N,J,he.value,$);if(Ie===null){J===null&&(J=je);break}e&&J&&Ie.alternate===null&&t(N,J),v=o(Ie,v,re),Q===null?X=Ie:Q.sibling=Ie,Q=Ie,J=je}if(he.done)return n(N,J),qe&&Hr(N,re),X;if(J===null){for(;!he.done;re++,he=k.next())he=b(N,he.value,$),he!==null&&(v=o(he,v,re),Q===null?X=he:Q.sibling=he,Q=he);return qe&&Hr(N,re),X}for(J=r(N,J);!he.done;re++,he=k.next())he=U(J,N,re,he.value,$),he!==null&&(e&&he.alternate!==null&&J.delete(he.key===null?re:he.key),v=o(he,v,re),Q===null?X=he:Q.sibling=he,Q=he);return e&&J.forEach(function(Ue){return t(N,Ue)}),qe&&Hr(N,re),X}function q(N,v,k,$){if(typeof k=="object"&&k!==null&&k.type===xi&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case _o:e:{for(var X=k.key,Q=v;Q!==null;){if(Q.key===X){if(X=k.type,X===xi){if(Q.tag===7){n(N,Q.sibling),v=i(Q,k.props.children),v.return=N,N=v;break e}}else if(Q.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===cr&&Rf(X)===Q.type){n(N,Q.sibling),v=i(Q,k.props),v.ref=ys(N,Q,k),v.return=N,N=v;break e}n(N,Q);break}else t(N,Q);Q=Q.sibling}k.type===xi?(v=Zr(k.props.children,N.mode,$,k.key),v.return=N,N=v):($=ol(k.type,k.key,k.props,null,N.mode,$),$.ref=ys(N,v,k),$.return=N,N=$)}return c(N);case gi:e:{for(Q=k.key;v!==null;){if(v.key===Q)if(v.tag===4&&v.stateNode.containerInfo===k.containerInfo&&v.stateNode.implementation===k.implementation){n(N,v.sibling),v=i(v,k.children||[]),v.return=N,N=v;break e}else{n(N,v);break}else t(N,v);v=v.sibling}v=ru(k,N.mode,$),v.return=N,N=v}return c(N);case cr:return Q=k._init,q(N,v,Q(k._payload),$)}if(ws(k))return A(N,v,k,$);if(ds(k))return B(N,v,k,$);Do(N,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,v!==null&&v.tag===6?(n(N,v.sibling),v=i(v,k),v.return=N,N=v):(n(N,v),v=nu(k,N.mode,$),v.return=N,N=v),c(N)):n(N,v)}return q}var Di=qp(!0),Qp=qp(!1),Sl=Tr(null),kl=null,Ei=null,Hc=null;function Vc(){Hc=Ei=kl=null}function qc(e){var t=Sl.current;Ve(Sl),e._currentValue=t}function Wu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ii(e,t){kl=e,Hc=Ei=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Dt=!0),e.firstContext=null)}function an(e){var t=e._currentValue;if(Hc!==e)if(e={context:e,memoizedValue:t,next:null},Ei===null){if(kl===null)throw Error(Z(308));Ei=e,kl.dependencies={lanes:0,firstContext:e}}else Ei=Ei.next=e;return t}var Yr=null;function Qc(e){Yr===null?Yr=[e]:Yr.push(e)}function Yp(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Qc(t)):(n.next=i.next,i.next=n),t.interleaved=n,Yn(e,r)}function Yn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var dr=!1;function Yc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Sr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Me&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Yn(e,n)}return i=r.interleaved,i===null?(t.next=t,Qc(r)):(t.next=i.next,i.next=t),r.interleaved=t,Yn(e,n)}function el(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ic(e,n)}}function Of(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var c={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=c:o=o.next=c,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jl(e,t,n,r){var i=e.updateQueue;dr=!1;var o=i.firstBaseUpdate,c=i.lastBaseUpdate,h=i.shared.pending;if(h!==null){i.shared.pending=null;var p=h,g=p.next;p.next=null,c===null?o=g:c.next=g,c=p;var S=e.alternate;S!==null&&(S=S.updateQueue,h=S.lastBaseUpdate,h!==c&&(h===null?S.firstBaseUpdate=g:h.next=g,S.lastBaseUpdate=p))}if(o!==null){var b=i.baseState;c=0,S=g=p=null,h=o;do{var E=h.lane,U=h.eventTime;if((r&E)===E){S!==null&&(S=S.next={eventTime:U,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var A=e,B=h;switch(E=t,U=n,B.tag){case 1:if(A=B.payload,typeof A=="function"){b=A.call(U,b,E);break e}b=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=B.payload,E=typeof A=="function"?A.call(U,b,E):A,E==null)break e;b=Xe({},b,E);break e;case 2:dr=!0}}h.callback!==null&&h.lane!==0&&(e.flags|=64,E=i.effects,E===null?i.effects=[h]:E.push(h))}else U={eventTime:U,lane:E,tag:h.tag,payload:h.payload,callback:h.callback,next:null},S===null?(g=S=U,p=b):S=S.next=U,c|=E;if(h=h.next,h===null){if(h=i.shared.pending,h===null)break;E=h,h=E.next,E.next=null,i.lastBaseUpdate=E,i.shared.pending=null}}while(!0);if(S===null&&(p=b),i.baseState=p,i.firstBaseUpdate=g,i.lastBaseUpdate=S,t=i.shared.interleaved,t!==null){i=t;do c|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);ri|=c,e.lanes=c,e.memoizedState=b}}function Lf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Z(191,i));i.call(r)}}}var io={},Ln=Tr(io),Ws=Tr(io),Hs=Tr(io);function Xr(e){if(e===io)throw Error(Z(174));return e}function Xc(e,t){switch(We(Hs,t),We(Ws,e),We(Ln,io),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ju(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ju(t,e)}Ve(Ln),We(Ln,t)}function $i(){Ve(Ln),Ve(Ws),Ve(Hs)}function Gp(e){Xr(Hs.current);var t=Xr(Ln.current),n=ju(t,e.type);t!==n&&(We(Ws,e),We(Ln,n))}function Gc(e){Ws.current===e&&(Ve(Ln),Ve(Ws))}var Qe=Tr(0);function Nl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xa=[];function Jc(){for(var e=0;e<Xa.length;e++)Xa[e]._workInProgressVersionPrimary=null;Xa.length=0}var tl=Gn.ReactCurrentDispatcher,Ga=Gn.ReactCurrentBatchConfig,ni=0,Ye=null,lt=null,ft=null,Cl=!1,Ps=!1,Vs=0,Ag=0;function St(){throw Error(Z(321))}function Zc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!bn(e[n],t[n]))return!1;return!0}function ed(e,t,n,r,i,o){if(ni=o,Ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,tl.current=e===null||e.memoizedState===null?Ug:Bg,e=n(r,i),Ps){o=0;do{if(Ps=!1,Vs=0,25<=o)throw Error(Z(301));o+=1,ft=lt=null,t.updateQueue=null,tl.current=Kg,e=n(r,i)}while(Ps)}if(tl.current=El,t=lt!==null&&lt.next!==null,ni=0,ft=lt=Ye=null,Cl=!1,t)throw Error(Z(300));return e}function td(){var e=Vs!==0;return Vs=0,e}function Tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Ye.memoizedState=ft=e:ft=ft.next=e,ft}function un(){if(lt===null){var e=Ye.alternate;e=e!==null?e.memoizedState:null}else e=lt.next;var t=ft===null?Ye.memoizedState:ft.next;if(t!==null)ft=t,lt=e;else{if(e===null)throw Error(Z(310));lt=e,e={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},ft===null?Ye.memoizedState=ft=e:ft=ft.next=e}return ft}function qs(e,t){return typeof t=="function"?t(e):t}function Ja(e){var t=un(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var r=lt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var c=i.next;i.next=o.next,o.next=c}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var h=c=null,p=null,g=o;do{var S=g.lane;if((ni&S)===S)p!==null&&(p=p.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),r=g.hasEagerState?g.eagerState:e(r,g.action);else{var b={lane:S,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};p===null?(h=p=b,c=r):p=p.next=b,Ye.lanes|=S,ri|=S}g=g.next}while(g!==null&&g!==o);p===null?c=r:p.next=h,bn(r,t.memoizedState)||(Dt=!0),t.memoizedState=r,t.baseState=c,t.baseQueue=p,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Ye.lanes|=o,ri|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Za(e){var t=un(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var c=i=i.next;do o=e(o,c.action),c=c.next;while(c!==i);bn(o,t.memoizedState)||(Dt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Jp(){}function Zp(e,t){var n=Ye,r=un(),i=t(),o=!bn(r.memoizedState,i);if(o&&(r.memoizedState=i,Dt=!0),r=r.queue,nd(nm.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||ft!==null&&ft.memoizedState.tag&1){if(n.flags|=2048,Qs(9,tm.bind(null,n,r,i,t),void 0,null),ht===null)throw Error(Z(349));ni&30||em(n,t,i)}return i}function em(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function tm(e,t,n,r){t.value=n,t.getSnapshot=r,rm(t)&&im(e)}function nm(e,t,n){return n(function(){rm(t)&&im(e)})}function rm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bn(e,n)}catch{return!0}}function im(e){var t=Yn(e,1);t!==null&&wn(t,e,1,-1)}function If(e){var t=Tn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:e},t.queue=e,e=e.dispatch=$g.bind(null,Ye,e),[t.memoizedState,e]}function Qs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function sm(){return un().memoizedState}function nl(e,t,n,r){var i=Tn();Ye.flags|=e,i.memoizedState=Qs(1|t,n,void 0,r===void 0?null:r)}function Wl(e,t,n,r){var i=un();r=r===void 0?null:r;var o=void 0;if(lt!==null){var c=lt.memoizedState;if(o=c.destroy,r!==null&&Zc(r,c.deps)){i.memoizedState=Qs(t,n,o,r);return}}Ye.flags|=e,i.memoizedState=Qs(1|t,n,o,r)}function Ff(e,t){return nl(8390656,8,e,t)}function nd(e,t){return Wl(2048,8,e,t)}function om(e,t){return Wl(4,2,e,t)}function lm(e,t){return Wl(4,4,e,t)}function am(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function um(e,t,n){return n=n!=null?n.concat([e]):null,Wl(4,4,am.bind(null,t,e),n)}function rd(){}function cm(e,t){var n=un();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function dm(e,t){var n=un();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function fm(e,t,n){return ni&21?(bn(n,t)||(n=vp(),Ye.lanes|=n,ri|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Dt=!0),e.memoizedState=n)}function zg(e,t){var n=$e;$e=n!==0&&4>n?n:4,e(!0);var r=Ga.transition;Ga.transition={};try{e(!1),t()}finally{$e=n,Ga.transition=r}}function hm(){return un().memoizedState}function Dg(e,t,n){var r=jr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},pm(e))mm(t,n);else if(n=Yp(e,t,n,r),n!==null){var i=Rt();wn(n,e,r,i),ym(n,t,r)}}function $g(e,t,n){var r=jr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(pm(e))mm(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var c=t.lastRenderedState,h=o(c,n);if(i.hasEagerState=!0,i.eagerState=h,bn(h,c)){var p=t.interleaved;p===null?(i.next=i,Qc(t)):(i.next=p.next,p.next=i),t.interleaved=i;return}}catch{}finally{}n=Yp(e,t,i,r),n!==null&&(i=Rt(),wn(n,e,r,i),ym(n,t,r))}}function pm(e){var t=e.alternate;return e===Ye||t!==null&&t===Ye}function mm(e,t){Ps=Cl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ym(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ic(e,n)}}var El={readContext:an,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},Ug={readContext:an,useCallback:function(e,t){return Tn().memoizedState=[e,t===void 0?null:t],e},useContext:an,useEffect:Ff,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,nl(4194308,4,am.bind(null,t,e),n)},useLayoutEffect:function(e,t){return nl(4194308,4,e,t)},useInsertionEffect:function(e,t){return nl(4,2,e,t)},useMemo:function(e,t){var n=Tn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Tn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Dg.bind(null,Ye,e),[r.memoizedState,e]},useRef:function(e){var t=Tn();return e={current:e},t.memoizedState=e},useState:If,useDebugValue:rd,useDeferredValue:function(e){return Tn().memoizedState=e},useTransition:function(){var e=If(!1),t=e[0];return e=zg.bind(null,e[1]),Tn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ye,i=Tn();if(qe){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=t(),ht===null)throw Error(Z(349));ni&30||em(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ff(nm.bind(null,r,o,e),[e]),r.flags|=2048,Qs(9,tm.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Tn(),t=ht.identifierPrefix;if(qe){var n=Wn,r=Kn;n=(r&~(1<<32-xn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Vs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ag++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Bg={readContext:an,useCallback:cm,useContext:an,useEffect:nd,useImperativeHandle:um,useInsertionEffect:om,useLayoutEffect:lm,useMemo:dm,useReducer:Ja,useRef:sm,useState:function(){return Ja(qs)},useDebugValue:rd,useDeferredValue:function(e){var t=un();return fm(t,lt.memoizedState,e)},useTransition:function(){var e=Ja(qs)[0],t=un().memoizedState;return[e,t]},useMutableSource:Jp,useSyncExternalStore:Zp,useId:hm,unstable_isNewReconciler:!1},Kg={readContext:an,useCallback:cm,useContext:an,useEffect:nd,useImperativeHandle:um,useInsertionEffect:om,useLayoutEffect:lm,useMemo:dm,useReducer:Za,useRef:sm,useState:function(){return Za(qs)},useDebugValue:rd,useDeferredValue:function(e){var t=un();return lt===null?t.memoizedState=e:fm(t,lt.memoizedState,e)},useTransition:function(){var e=Za(qs)[0],t=un().memoizedState;return[e,t]},useMutableSource:Jp,useSyncExternalStore:Zp,useId:hm,unstable_isNewReconciler:!1};function yn(e,t){if(e&&e.defaultProps){t=Xe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Hu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Hl={isMounted:function(e){return(e=e._reactInternals)?oi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Rt(),i=jr(e),o=Vn(r,i);o.payload=t,n!=null&&(o.callback=n),t=Sr(e,o,i),t!==null&&(wn(t,e,i,r),el(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Rt(),i=jr(e),o=Vn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Sr(e,o,i),t!==null&&(wn(t,e,i,r),el(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rt(),r=jr(e),i=Vn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Sr(e,i,r),t!==null&&(wn(t,e,r,n),el(t,e,r))}};function Mf(e,t,n,r,i,o,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,c):t.prototype&&t.prototype.isPureReactComponent?!$s(n,r)||!$s(i,o):!0}function vm(e,t,n){var r=!1,i=_r,o=t.contextType;return typeof o=="object"&&o!==null?o=an(o):(i=Ut(t)?ei:Nt.current,r=t.contextTypes,o=(r=r!=null)?Ai(e,i):_r),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Af(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Hl.enqueueReplaceState(t,t.state,null)}function Vu(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Yc(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=an(o):(o=Ut(t)?ei:Nt.current,i.context=Ai(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Hu(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Hl.enqueueReplaceState(i,i.state,null),jl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ui(e,t){try{var n="",r=t;do n+=vv(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function eu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function qu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Wg=typeof WeakMap=="function"?WeakMap:Map;function gm(e,t,n){n=Vn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Pl||(Pl=!0,rc=r),qu(e,t)},n}function xm(e,t,n){n=Vn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){qu(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){qu(e,t),typeof r!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),n}function zf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Wg;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ix.bind(null,e,t,n),t.then(e,e))}function Df(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $f(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vn(-1,1),t.tag=2,Sr(n,t,1))),n.lanes|=1),e)}var Hg=Gn.ReactCurrentOwner,Dt=!1;function Tt(e,t,n,r){t.child=e===null?Qp(t,null,n,r):Di(t,e.child,n,r)}function Uf(e,t,n,r,i){n=n.render;var o=t.ref;return Ii(t,i),r=ed(e,t,n,r,o,i),n=td(),e!==null&&!Dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xn(e,t,i)):(qe&&n&&Bc(t),t.flags|=1,Tt(e,t,r,i),t.child)}function Bf(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!dd(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,wm(e,t,o,r,i)):(e=ol(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var c=o.memoizedProps;if(n=n.compare,n=n!==null?n:$s,n(c,r)&&e.ref===t.ref)return Xn(e,t,i)}return t.flags|=1,e=Nr(o,r),e.ref=t.ref,e.return=t,t.child=e}function wm(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if($s(o,r)&&e.ref===t.ref)if(Dt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Dt=!0);else return t.lanes=e.lanes,Xn(e,t,i)}return Qu(e,t,n,r,i)}function bm(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Pi,Qt),Qt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,We(Pi,Qt),Qt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,We(Pi,Qt),Qt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,We(Pi,Qt),Qt|=r;return Tt(e,t,i,n),t.child}function Sm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Qu(e,t,n,r,i){var o=Ut(n)?ei:Nt.current;return o=Ai(t,o),Ii(t,i),n=ed(e,t,n,r,o,i),r=td(),e!==null&&!Dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xn(e,t,i)):(qe&&r&&Bc(t),t.flags|=1,Tt(e,t,n,i),t.child)}function Kf(e,t,n,r,i){if(Ut(n)){var o=!0;xl(t)}else o=!1;if(Ii(t,i),t.stateNode===null)rl(e,t),vm(t,n,r),Vu(t,n,r,i),r=!0;else if(e===null){var c=t.stateNode,h=t.memoizedProps;c.props=h;var p=c.context,g=n.contextType;typeof g=="object"&&g!==null?g=an(g):(g=Ut(n)?ei:Nt.current,g=Ai(t,g));var S=n.getDerivedStateFromProps,b=typeof S=="function"||typeof c.getSnapshotBeforeUpdate=="function";b||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==r||p!==g)&&Af(t,c,r,g),dr=!1;var E=t.memoizedState;c.state=E,jl(t,r,c,i),p=t.memoizedState,h!==r||E!==p||$t.current||dr?(typeof S=="function"&&(Hu(t,n,S,r),p=t.memoizedState),(h=dr||Mf(t,n,h,r,E,p,g))?(b||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=p),c.props=r,c.state=p,c.context=g,r=h):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{c=t.stateNode,Xp(e,t),h=t.memoizedProps,g=t.type===t.elementType?h:yn(t.type,h),c.props=g,b=t.pendingProps,E=c.context,p=n.contextType,typeof p=="object"&&p!==null?p=an(p):(p=Ut(n)?ei:Nt.current,p=Ai(t,p));var U=n.getDerivedStateFromProps;(S=typeof U=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==b||E!==p)&&Af(t,c,r,p),dr=!1,E=t.memoizedState,c.state=E,jl(t,r,c,i);var A=t.memoizedState;h!==b||E!==A||$t.current||dr?(typeof U=="function"&&(Hu(t,n,U,r),A=t.memoizedState),(g=dr||Mf(t,n,g,r,E,A,p)||!1)?(S||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,A,p),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,A,p)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=A),c.props=r,c.state=A,c.context=p,r=g):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),r=!1)}return Yu(e,t,n,r,o,i)}function Yu(e,t,n,r,i,o){Sm(e,t);var c=(t.flags&128)!==0;if(!r&&!c)return i&&_f(t,n,!1),Xn(e,t,o);r=t.stateNode,Hg.current=t;var h=c&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&c?(t.child=Di(t,e.child,null,o),t.child=Di(t,null,h,o)):Tt(e,t,h,o),t.memoizedState=r.state,i&&_f(t,n,!0),t.child}function km(e){var t=e.stateNode;t.pendingContext?Ef(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ef(e,t.context,!1),Xc(e,t.containerInfo)}function Wf(e,t,n,r,i){return zi(),Wc(i),t.flags|=256,Tt(e,t,n,r),t.child}var Xu={dehydrated:null,treeContext:null,retryLane:0};function Gu(e){return{baseLanes:e,cachePool:null,transitions:null}}function jm(e,t,n){var r=t.pendingProps,i=Qe.current,o=!1,c=(t.flags&128)!==0,h;if((h=c)||(h=e!==null&&e.memoizedState===null?!1:(i&2)!==0),h?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),We(Qe,i&1),e===null)return Ku(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=r.children,e=r.fallback,o?(r=t.mode,o=t.child,c={mode:"hidden",children:c},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=c):o=Ql(c,r,0,null),e=Zr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Gu(n),t.memoizedState=Xu,e):id(t,c));if(i=e.memoizedState,i!==null&&(h=i.dehydrated,h!==null))return Vg(e,t,c,r,h,i,n);if(o){o=r.fallback,c=t.mode,i=e.child,h=i.sibling;var p={mode:"hidden",children:r.children};return!(c&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=p,t.deletions=null):(r=Nr(i,p),r.subtreeFlags=i.subtreeFlags&14680064),h!==null?o=Nr(h,o):(o=Zr(o,c,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,c=e.child.memoizedState,c=c===null?Gu(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},o.memoizedState=c,o.childLanes=e.childLanes&~n,t.memoizedState=Xu,r}return o=e.child,e=o.sibling,r=Nr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function id(e,t){return t=Ql({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $o(e,t,n,r){return r!==null&&Wc(r),Di(t,e.child,null,n),e=id(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vg(e,t,n,r,i,o,c){if(n)return t.flags&256?(t.flags&=-257,r=eu(Error(Z(422))),$o(e,t,c,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ql({mode:"visible",children:r.children},i,0,null),o=Zr(o,i,c,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Di(t,e.child,null,c),t.child.memoizedState=Gu(c),t.memoizedState=Xu,o);if(!(t.mode&1))return $o(e,t,c,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var h=r.dgst;return r=h,o=Error(Z(419)),r=eu(o,r,void 0),$o(e,t,c,r)}if(h=(c&e.childLanes)!==0,Dt||h){if(r=ht,r!==null){switch(c&-c){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|c)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Yn(e,i),wn(r,e,i,-1))}return cd(),r=eu(Error(Z(421))),$o(e,t,c,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=sx.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Yt=br(i.nextSibling),Xt=t,qe=!0,gn=null,e!==null&&(rn[sn++]=Kn,rn[sn++]=Wn,rn[sn++]=ti,Kn=e.id,Wn=e.overflow,ti=t),t=id(t,r.children),t.flags|=4096,t)}function Hf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Wu(e.return,t,n)}function tu(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Nm(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Tt(e,t,r.children,n),r=Qe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hf(e,n,t);else if(e.tag===19)Hf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(We(Qe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Nl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),tu(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Nl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}tu(t,!0,n,null,o);break;case"together":tu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function rl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ri|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,n=Nr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Nr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function qg(e,t,n){switch(t.tag){case 3:km(t),zi();break;case 5:Gp(t);break;case 1:Ut(t.type)&&xl(t);break;case 4:Xc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;We(Sl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(We(Qe,Qe.current&1),t.flags|=128,null):n&t.child.childLanes?jm(e,t,n):(We(Qe,Qe.current&1),e=Xn(e,t,n),e!==null?e.sibling:null);We(Qe,Qe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Nm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),We(Qe,Qe.current),r)break;return null;case 22:case 23:return t.lanes=0,bm(e,t,n)}return Xn(e,t,n)}var Cm,Ju,Em,_m;Cm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ju=function(){};Em=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xr(Ln.current);var o=null;switch(n){case"input":i=wu(e,i),r=wu(e,r),o=[];break;case"select":i=Xe({},i,{value:void 0}),r=Xe({},r,{value:void 0}),o=[];break;case"textarea":i=ku(e,i),r=ku(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=vl)}Nu(n,r);var c;n=null;for(g in i)if(!r.hasOwnProperty(g)&&i.hasOwnProperty(g)&&i[g]!=null)if(g==="style"){var h=i[g];for(c in h)h.hasOwnProperty(c)&&(n||(n={}),n[c]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Ls.hasOwnProperty(g)?o||(o=[]):(o=o||[]).push(g,null));for(g in r){var p=r[g];if(h=i!=null?i[g]:void 0,r.hasOwnProperty(g)&&p!==h&&(p!=null||h!=null))if(g==="style")if(h){for(c in h)!h.hasOwnProperty(c)||p&&p.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in p)p.hasOwnProperty(c)&&h[c]!==p[c]&&(n||(n={}),n[c]=p[c])}else n||(o||(o=[]),o.push(g,n)),n=p;else g==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,h=h?h.__html:void 0,p!=null&&h!==p&&(o=o||[]).push(g,p)):g==="children"?typeof p!="string"&&typeof p!="number"||(o=o||[]).push(g,""+p):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(Ls.hasOwnProperty(g)?(p!=null&&g==="onScroll"&&He("scroll",e),o||h===p||(o=[])):(o=o||[]).push(g,p))}n&&(o=o||[]).push("style",n);var g=o;(t.updateQueue=g)&&(t.flags|=4)}};_m=function(e,t,n,r){n!==r&&(t.flags|=4)};function vs(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function kt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qg(e,t,n){var r=t.pendingProps;switch(Kc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(t),null;case 1:return Ut(t.type)&&gl(),kt(t),null;case 3:return r=t.stateNode,$i(),Ve($t),Ve(Nt),Jc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(zo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,gn!==null&&(oc(gn),gn=null))),Ju(e,t),kt(t),null;case 5:Gc(t);var i=Xr(Hs.current);if(n=t.type,e!==null&&t.stateNode!=null)Em(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Z(166));return kt(t),null}if(e=Xr(Ln.current),zo(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Rn]=t,r[Ks]=o,e=(t.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(i=0;i<Ss.length;i++)He(Ss[i],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":Zd(r,o),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},He("invalid",r);break;case"textarea":tf(r,o),He("invalid",r)}Nu(n,o),i=null;for(var c in o)if(o.hasOwnProperty(c)){var h=o[c];c==="children"?typeof h=="string"?r.textContent!==h&&(o.suppressHydrationWarning!==!0&&Ao(r.textContent,h,e),i=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(o.suppressHydrationWarning!==!0&&Ao(r.textContent,h,e),i=["children",""+h]):Ls.hasOwnProperty(c)&&h!=null&&c==="onScroll"&&He("scroll",r)}switch(n){case"input":Po(r),ef(r,o,!0);break;case"textarea":Po(r),nf(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=vl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{c=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=np(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),n==="select"&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Rn]=t,e[Ks]=r,Cm(e,t,!1,!1),t.stateNode=e;e:{switch(c=Cu(n,r),n){case"dialog":He("cancel",e),He("close",e),i=r;break;case"iframe":case"object":case"embed":He("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ss.length;i++)He(Ss[i],e);i=r;break;case"source":He("error",e),i=r;break;case"img":case"image":case"link":He("error",e),He("load",e),i=r;break;case"details":He("toggle",e),i=r;break;case"input":Zd(e,r),i=wu(e,r),He("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Xe({},r,{value:void 0}),He("invalid",e);break;case"textarea":tf(e,r),i=ku(e,r),He("invalid",e);break;default:i=r}Nu(n,i),h=i;for(o in h)if(h.hasOwnProperty(o)){var p=h[o];o==="style"?sp(e,p):o==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&rp(e,p)):o==="children"?typeof p=="string"?(n!=="textarea"||p!=="")&&Is(e,p):typeof p=="number"&&Is(e,""+p):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ls.hasOwnProperty(o)?p!=null&&o==="onScroll"&&He("scroll",e):p!=null&&_c(e,o,p,c))}switch(n){case"input":Po(e),ef(e,r,!1);break;case"textarea":Po(e),nf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Er(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Ti(e,!!r.multiple,o,!1):r.defaultValue!=null&&Ti(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=vl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return kt(t),null;case 6:if(e&&t.stateNode!=null)_m(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Z(166));if(n=Xr(Hs.current),Xr(Ln.current),zo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Rn]=t,(o=r.nodeValue!==n)&&(e=Xt,e!==null))switch(e.tag){case 3:Ao(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ao(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rn]=t,t.stateNode=r}return kt(t),null;case 13:if(Ve(Qe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qe&&Yt!==null&&t.mode&1&&!(t.flags&128))Vp(),zi(),t.flags|=98560,o=!1;else if(o=zo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(Z(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Z(317));o[Rn]=t}else zi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;kt(t),o=!1}else gn!==null&&(oc(gn),gn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Qe.current&1?at===0&&(at=3):cd())),t.updateQueue!==null&&(t.flags|=4),kt(t),null);case 4:return $i(),Ju(e,t),e===null&&Us(t.stateNode.containerInfo),kt(t),null;case 10:return qc(t.type._context),kt(t),null;case 17:return Ut(t.type)&&gl(),kt(t),null;case 19:if(Ve(Qe),o=t.memoizedState,o===null)return kt(t),null;if(r=(t.flags&128)!==0,c=o.rendering,c===null)if(r)vs(o,!1);else{if(at!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=Nl(e),c!==null){for(t.flags|=128,vs(o,!1),r=c.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,c=o.alternate,c===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,e=c.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return We(Qe,Qe.current&1|2),t.child}e=e.sibling}o.tail!==null&&nt()>Bi&&(t.flags|=128,r=!0,vs(o,!1),t.lanes=4194304)}else{if(!r)if(e=Nl(c),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),vs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!c.alternate&&!qe)return kt(t),null}else 2*nt()-o.renderingStartTime>Bi&&n!==1073741824&&(t.flags|=128,r=!0,vs(o,!1),t.lanes=4194304);o.isBackwards?(c.sibling=t.child,t.child=c):(n=o.last,n!==null?n.sibling=c:t.child=c,o.last=c)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=nt(),t.sibling=null,n=Qe.current,We(Qe,r?n&1|2:n&1),t):(kt(t),null);case 22:case 23:return ud(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Qt&1073741824&&(kt(t),t.subtreeFlags&6&&(t.flags|=8192)):kt(t),null;case 24:return null;case 25:return null}throw Error(Z(156,t.tag))}function Yg(e,t){switch(Kc(t),t.tag){case 1:return Ut(t.type)&&gl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $i(),Ve($t),Ve(Nt),Jc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Gc(t),null;case 13:if(Ve(Qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Z(340));zi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ve(Qe),null;case 4:return $i(),null;case 10:return qc(t.type._context),null;case 22:case 23:return ud(),null;case 24:return null;default:return null}}var Uo=!1,jt=!1,Xg=typeof WeakSet=="function"?WeakSet:Set,me=null;function _i(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(e,t,r)}else n.current=null}function Zu(e,t,n){try{n()}catch(r){Je(e,t,r)}}var Vf=!1;function Gg(e,t){if(Mu=pl,e=Lp(),Uc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var c=0,h=-1,p=-1,g=0,S=0,b=e,E=null;t:for(;;){for(var U;b!==n||i!==0&&b.nodeType!==3||(h=c+i),b!==o||r!==0&&b.nodeType!==3||(p=c+r),b.nodeType===3&&(c+=b.nodeValue.length),(U=b.firstChild)!==null;)E=b,b=U;for(;;){if(b===e)break t;if(E===n&&++g===i&&(h=c),E===o&&++S===r&&(p=c),(U=b.nextSibling)!==null)break;b=E,E=b.parentNode}b=U}n=h===-1||p===-1?null:{start:h,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(Au={focusedElem:e,selectionRange:n},pl=!1,me=t;me!==null;)if(t=me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,me=e;else for(;me!==null;){t=me;try{var A=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var B=A.memoizedProps,q=A.memoizedState,N=t.stateNode,v=N.getSnapshotBeforeUpdate(t.elementType===t.type?B:yn(t.type,B),q);N.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch($){Je(t,t.return,$)}if(e=t.sibling,e!==null){e.return=t.return,me=e;break}me=t.return}return A=Vf,Vf=!1,A}function Ts(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Zu(t,n,o)}i=i.next}while(i!==r)}}function Vl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ec(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Pm(e){var t=e.alternate;t!==null&&(e.alternate=null,Pm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rn],delete t[Ks],delete t[$u],delete t[Lg],delete t[Ig])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tm(e){return e.tag===5||e.tag===3||e.tag===4}function qf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vl));else if(r!==4&&(e=e.child,e!==null))for(tc(e,t,n),e=e.sibling;e!==null;)tc(e,t,n),e=e.sibling}function nc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(nc(e,t,n),e=e.sibling;e!==null;)nc(e,t,n),e=e.sibling}var mt=null,vn=!1;function ur(e,t,n){for(n=n.child;n!==null;)Rm(e,t,n),n=n.sibling}function Rm(e,t,n){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(zl,n)}catch{}switch(n.tag){case 5:jt||_i(n,t);case 6:var r=mt,i=vn;mt=null,ur(e,t,n),mt=r,vn=i,mt!==null&&(vn?(e=mt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):mt.removeChild(n.stateNode));break;case 18:mt!==null&&(vn?(e=mt,n=n.stateNode,e.nodeType===8?Qa(e.parentNode,n):e.nodeType===1&&Qa(e,n),zs(e)):Qa(mt,n.stateNode));break;case 4:r=mt,i=vn,mt=n.stateNode.containerInfo,vn=!0,ur(e,t,n),mt=r,vn=i;break;case 0:case 11:case 14:case 15:if(!jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,c=o.destroy;o=o.tag,c!==void 0&&(o&2||o&4)&&Zu(n,t,c),i=i.next}while(i!==r)}ur(e,t,n);break;case 1:if(!jt&&(_i(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){Je(n,t,h)}ur(e,t,n);break;case 21:ur(e,t,n);break;case 22:n.mode&1?(jt=(r=jt)||n.memoizedState!==null,ur(e,t,n),jt=r):ur(e,t,n);break;default:ur(e,t,n)}}function Qf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Xg),t.forEach(function(r){var i=ox.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function mn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,c=t,h=c;e:for(;h!==null;){switch(h.tag){case 5:mt=h.stateNode,vn=!1;break e;case 3:mt=h.stateNode.containerInfo,vn=!0;break e;case 4:mt=h.stateNode.containerInfo,vn=!0;break e}h=h.return}if(mt===null)throw Error(Z(160));Rm(o,c,i),mt=null,vn=!1;var p=i.alternate;p!==null&&(p.return=null),i.return=null}catch(g){Je(i,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Om(t,e),t=t.sibling}function Om(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mn(t,e),Pn(e),r&4){try{Ts(3,e,e.return),Vl(3,e)}catch(B){Je(e,e.return,B)}try{Ts(5,e,e.return)}catch(B){Je(e,e.return,B)}}break;case 1:mn(t,e),Pn(e),r&512&&n!==null&&_i(n,n.return);break;case 5:if(mn(t,e),Pn(e),r&512&&n!==null&&_i(n,n.return),e.flags&32){var i=e.stateNode;try{Is(i,"")}catch(B){Je(e,e.return,B)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,c=n!==null?n.memoizedProps:o,h=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{h==="input"&&o.type==="radio"&&o.name!=null&&ep(i,o),Cu(h,c);var g=Cu(h,o);for(c=0;c<p.length;c+=2){var S=p[c],b=p[c+1];S==="style"?sp(i,b):S==="dangerouslySetInnerHTML"?rp(i,b):S==="children"?Is(i,b):_c(i,S,b,g)}switch(h){case"input":bu(i,o);break;case"textarea":tp(i,o);break;case"select":var E=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var U=o.value;U!=null?Ti(i,!!o.multiple,U,!1):E!==!!o.multiple&&(o.defaultValue!=null?Ti(i,!!o.multiple,o.defaultValue,!0):Ti(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ks]=o}catch(B){Je(e,e.return,B)}}break;case 6:if(mn(t,e),Pn(e),r&4){if(e.stateNode===null)throw Error(Z(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(B){Je(e,e.return,B)}}break;case 3:if(mn(t,e),Pn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zs(t.containerInfo)}catch(B){Je(e,e.return,B)}break;case 4:mn(t,e),Pn(e);break;case 13:mn(t,e),Pn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(ld=nt())),r&4&&Qf(e);break;case 22:if(S=n!==null&&n.memoizedState!==null,e.mode&1?(jt=(g=jt)||S,mn(t,e),jt=g):mn(t,e),Pn(e),r&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!S&&e.mode&1)for(me=e,S=e.child;S!==null;){for(b=me=S;me!==null;){switch(E=me,U=E.child,E.tag){case 0:case 11:case 14:case 15:Ts(4,E,E.return);break;case 1:_i(E,E.return);var A=E.stateNode;if(typeof A.componentWillUnmount=="function"){r=E,n=E.return;try{t=r,A.props=t.memoizedProps,A.state=t.memoizedState,A.componentWillUnmount()}catch(B){Je(r,n,B)}}break;case 5:_i(E,E.return);break;case 22:if(E.memoizedState!==null){Xf(b);continue}}U!==null?(U.return=E,me=U):Xf(b)}S=S.sibling}e:for(S=null,b=e;;){if(b.tag===5){if(S===null){S=b;try{i=b.stateNode,g?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(h=b.stateNode,p=b.memoizedProps.style,c=p!=null&&p.hasOwnProperty("display")?p.display:null,h.style.display=ip("display",c))}catch(B){Je(e,e.return,B)}}}else if(b.tag===6){if(S===null)try{b.stateNode.nodeValue=g?"":b.memoizedProps}catch(B){Je(e,e.return,B)}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===e)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===e)break e;for(;b.sibling===null;){if(b.return===null||b.return===e)break e;S===b&&(S=null),b=b.return}S===b&&(S=null),b.sibling.return=b.return,b=b.sibling}}break;case 19:mn(t,e),Pn(e),r&4&&Qf(e);break;case 21:break;default:mn(t,e),Pn(e)}}function Pn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Tm(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Is(i,""),r.flags&=-33);var o=qf(e);nc(e,o,i);break;case 3:case 4:var c=r.stateNode.containerInfo,h=qf(e);tc(e,h,c);break;default:throw Error(Z(161))}}catch(p){Je(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jg(e,t,n){me=e,Lm(e)}function Lm(e,t,n){for(var r=(e.mode&1)!==0;me!==null;){var i=me,o=i.child;if(i.tag===22&&r){var c=i.memoizedState!==null||Uo;if(!c){var h=i.alternate,p=h!==null&&h.memoizedState!==null||jt;h=Uo;var g=jt;if(Uo=c,(jt=p)&&!g)for(me=i;me!==null;)c=me,p=c.child,c.tag===22&&c.memoizedState!==null?Gf(i):p!==null?(p.return=c,me=p):Gf(i);for(;o!==null;)me=o,Lm(o),o=o.sibling;me=i,Uo=h,jt=g}Yf(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,me=o):Yf(e)}}function Yf(e){for(;me!==null;){var t=me;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:jt||Vl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!jt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:yn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Lf(t,o,r);break;case 3:var c=t.updateQueue;if(c!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Lf(t,c,n)}break;case 5:var h=t.stateNode;if(n===null&&t.flags&4){n=h;var p=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&n.focus();break;case"img":p.src&&(n.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var S=g.memoizedState;if(S!==null){var b=S.dehydrated;b!==null&&zs(b)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}jt||t.flags&512&&ec(t)}catch(E){Je(t,t.return,E)}}if(t===e){me=null;break}if(n=t.sibling,n!==null){n.return=t.return,me=n;break}me=t.return}}function Xf(e){for(;me!==null;){var t=me;if(t===e){me=null;break}var n=t.sibling;if(n!==null){n.return=t.return,me=n;break}me=t.return}}function Gf(e){for(;me!==null;){var t=me;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Vl(4,t)}catch(p){Je(t,n,p)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(p){Je(t,i,p)}}var o=t.return;try{ec(t)}catch(p){Je(t,o,p)}break;case 5:var c=t.return;try{ec(t)}catch(p){Je(t,c,p)}}}catch(p){Je(t,t.return,p)}if(t===e){me=null;break}var h=t.sibling;if(h!==null){h.return=t.return,me=h;break}me=t.return}}var Zg=Math.ceil,_l=Gn.ReactCurrentDispatcher,sd=Gn.ReactCurrentOwner,ln=Gn.ReactCurrentBatchConfig,Me=0,ht=null,st=null,vt=0,Qt=0,Pi=Tr(0),at=0,Ys=null,ri=0,ql=0,od=0,Rs=null,At=null,ld=0,Bi=1/0,Un=null,Pl=!1,rc=null,kr=null,Bo=!1,mr=null,Tl=0,Os=0,ic=null,il=-1,sl=0;function Rt(){return Me&6?nt():il!==-1?il:il=nt()}function jr(e){return e.mode&1?Me&2&&vt!==0?vt&-vt:Mg.transition!==null?(sl===0&&(sl=vp()),sl):(e=$e,e!==0||(e=window.event,e=e===void 0?16:jp(e.type)),e):1}function wn(e,t,n,r){if(50<Os)throw Os=0,ic=null,Error(Z(185));to(e,n,r),(!(Me&2)||e!==ht)&&(e===ht&&(!(Me&2)&&(ql|=n),at===4&&hr(e,vt)),Bt(e,r),n===1&&Me===0&&!(t.mode&1)&&(Bi=nt()+500,Kl&&Rr()))}function Bt(e,t){var n=e.callbackNode;Mv(e,t);var r=hl(e,e===ht?vt:0);if(r===0)n!==null&&of(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&of(n),t===1)e.tag===0?Fg(Jf.bind(null,e)):Kp(Jf.bind(null,e)),Rg(function(){!(Me&6)&&Rr()}),n=null;else{switch(gp(r)){case 1:n=Lc;break;case 4:n=mp;break;case 16:n=fl;break;case 536870912:n=yp;break;default:n=fl}n=Um(n,Im.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Im(e,t){if(il=-1,sl=0,Me&6)throw Error(Z(327));var n=e.callbackNode;if(Fi()&&e.callbackNode!==n)return null;var r=hl(e,e===ht?vt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Rl(e,r);else{t=r;var i=Me;Me|=2;var o=Mm();(ht!==e||vt!==t)&&(Un=null,Bi=nt()+500,Jr(e,t));do try{nx();break}catch(h){Fm(e,h)}while(!0);Vc(),_l.current=o,Me=i,st!==null?t=0:(ht=null,vt=0,t=at)}if(t!==0){if(t===2&&(i=Ru(e),i!==0&&(r=i,t=sc(e,i))),t===1)throw n=Ys,Jr(e,0),hr(e,r),Bt(e,nt()),n;if(t===6)hr(e,r);else{if(i=e.current.alternate,!(r&30)&&!ex(i)&&(t=Rl(e,r),t===2&&(o=Ru(e),o!==0&&(r=o,t=sc(e,o))),t===1))throw n=Ys,Jr(e,0),hr(e,r),Bt(e,nt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Z(345));case 2:Vr(e,At,Un);break;case 3:if(hr(e,r),(r&130023424)===r&&(t=ld+500-nt(),10<t)){if(hl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Rt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Du(Vr.bind(null,e,At,Un),t);break}Vr(e,At,Un);break;case 4:if(hr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var c=31-xn(r);o=1<<c,c=t[c],c>i&&(i=c),r&=~o}if(r=i,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Zg(r/1960))-r,10<r){e.timeoutHandle=Du(Vr.bind(null,e,At,Un),r);break}Vr(e,At,Un);break;case 5:Vr(e,At,Un);break;default:throw Error(Z(329))}}}return Bt(e,nt()),e.callbackNode===n?Im.bind(null,e):null}function sc(e,t){var n=Rs;return e.current.memoizedState.isDehydrated&&(Jr(e,t).flags|=256),e=Rl(e,t),e!==2&&(t=At,At=n,t!==null&&oc(t)),e}function oc(e){At===null?At=e:At.push.apply(At,e)}function ex(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!bn(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hr(e,t){for(t&=~od,t&=~ql,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xn(t),r=1<<n;e[n]=-1,t&=~r}}function Jf(e){if(Me&6)throw Error(Z(327));Fi();var t=hl(e,0);if(!(t&1))return Bt(e,nt()),null;var n=Rl(e,t);if(e.tag!==0&&n===2){var r=Ru(e);r!==0&&(t=r,n=sc(e,r))}if(n===1)throw n=Ys,Jr(e,0),hr(e,t),Bt(e,nt()),n;if(n===6)throw Error(Z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vr(e,At,Un),Bt(e,nt()),null}function ad(e,t){var n=Me;Me|=1;try{return e(t)}finally{Me=n,Me===0&&(Bi=nt()+500,Kl&&Rr())}}function ii(e){mr!==null&&mr.tag===0&&!(Me&6)&&Fi();var t=Me;Me|=1;var n=ln.transition,r=$e;try{if(ln.transition=null,$e=1,e)return e()}finally{$e=r,ln.transition=n,Me=t,!(Me&6)&&Rr()}}function ud(){Qt=Pi.current,Ve(Pi)}function Jr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Tg(n)),st!==null)for(n=st.return;n!==null;){var r=n;switch(Kc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gl();break;case 3:$i(),Ve($t),Ve(Nt),Jc();break;case 5:Gc(r);break;case 4:$i();break;case 13:Ve(Qe);break;case 19:Ve(Qe);break;case 10:qc(r.type._context);break;case 22:case 23:ud()}n=n.return}if(ht=e,st=e=Nr(e.current,null),vt=Qt=t,at=0,Ys=null,od=ql=ri=0,At=Rs=null,Yr!==null){for(t=0;t<Yr.length;t++)if(n=Yr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var c=o.next;o.next=i,r.next=c}n.pending=r}Yr=null}return e}function Fm(e,t){do{var n=st;try{if(Vc(),tl.current=El,Cl){for(var r=Ye.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cl=!1}if(ni=0,ft=lt=Ye=null,Ps=!1,Vs=0,sd.current=null,n===null||n.return===null){at=1,Ys=t,st=null;break}e:{var o=e,c=n.return,h=n,p=t;if(t=vt,h.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var g=p,S=h,b=S.tag;if(!(S.mode&1)&&(b===0||b===11||b===15)){var E=S.alternate;E?(S.updateQueue=E.updateQueue,S.memoizedState=E.memoizedState,S.lanes=E.lanes):(S.updateQueue=null,S.memoizedState=null)}var U=Df(c);if(U!==null){U.flags&=-257,$f(U,c,h,o,t),U.mode&1&&zf(o,g,t),t=U,p=g;var A=t.updateQueue;if(A===null){var B=new Set;B.add(p),t.updateQueue=B}else A.add(p);break e}else{if(!(t&1)){zf(o,g,t),cd();break e}p=Error(Z(426))}}else if(qe&&h.mode&1){var q=Df(c);if(q!==null){!(q.flags&65536)&&(q.flags|=256),$f(q,c,h,o,t),Wc(Ui(p,h));break e}}o=p=Ui(p,h),at!==4&&(at=2),Rs===null?Rs=[o]:Rs.push(o),o=c;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var N=gm(o,p,t);Of(o,N);break e;case 1:h=p;var v=o.type,k=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(kr===null||!kr.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t;var $=xm(o,h,t);Of(o,$);break e}}o=o.return}while(o!==null)}zm(n)}catch(X){t=X,st===n&&n!==null&&(st=n=n.return);continue}break}while(!0)}function Mm(){var e=_l.current;return _l.current=El,e===null?El:e}function cd(){(at===0||at===3||at===2)&&(at=4),ht===null||!(ri&268435455)&&!(ql&268435455)||hr(ht,vt)}function Rl(e,t){var n=Me;Me|=2;var r=Mm();(ht!==e||vt!==t)&&(Un=null,Jr(e,t));do try{tx();break}catch(i){Fm(e,i)}while(!0);if(Vc(),Me=n,_l.current=r,st!==null)throw Error(Z(261));return ht=null,vt=0,at}function tx(){for(;st!==null;)Am(st)}function nx(){for(;st!==null&&!Ev();)Am(st)}function Am(e){var t=$m(e.alternate,e,Qt);e.memoizedProps=e.pendingProps,t===null?zm(e):st=t,sd.current=null}function zm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Yg(n,t),n!==null){n.flags&=32767,st=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{at=6,st=null;return}}else if(n=Qg(n,t,Qt),n!==null){st=n;return}if(t=t.sibling,t!==null){st=t;return}st=t=e}while(t!==null);at===0&&(at=5)}function Vr(e,t,n){var r=$e,i=ln.transition;try{ln.transition=null,$e=1,rx(e,t,n,r)}finally{ln.transition=i,$e=r}return null}function rx(e,t,n,r){do Fi();while(mr!==null);if(Me&6)throw Error(Z(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Z(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Av(e,o),e===ht&&(st=ht=null,vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bo||(Bo=!0,Um(fl,function(){return Fi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ln.transition,ln.transition=null;var c=$e;$e=1;var h=Me;Me|=4,sd.current=null,Gg(e,n),Om(n,e),kg(Au),pl=!!Mu,Au=Mu=null,e.current=n,Jg(n),_v(),Me=h,$e=c,ln.transition=o}else e.current=n;if(Bo&&(Bo=!1,mr=e,Tl=i),o=e.pendingLanes,o===0&&(kr=null),Rv(n.stateNode),Bt(e,nt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Pl)throw Pl=!1,e=rc,rc=null,e;return Tl&1&&e.tag!==0&&Fi(),o=e.pendingLanes,o&1?e===ic?Os++:(Os=0,ic=e):Os=0,Rr(),null}function Fi(){if(mr!==null){var e=gp(Tl),t=ln.transition,n=$e;try{if(ln.transition=null,$e=16>e?16:e,mr===null)var r=!1;else{if(e=mr,mr=null,Tl=0,Me&6)throw Error(Z(331));var i=Me;for(Me|=4,me=e.current;me!==null;){var o=me,c=o.child;if(me.flags&16){var h=o.deletions;if(h!==null){for(var p=0;p<h.length;p++){var g=h[p];for(me=g;me!==null;){var S=me;switch(S.tag){case 0:case 11:case 15:Ts(8,S,o)}var b=S.child;if(b!==null)b.return=S,me=b;else for(;me!==null;){S=me;var E=S.sibling,U=S.return;if(Pm(S),S===g){me=null;break}if(E!==null){E.return=U,me=E;break}me=U}}}var A=o.alternate;if(A!==null){var B=A.child;if(B!==null){A.child=null;do{var q=B.sibling;B.sibling=null,B=q}while(B!==null)}}me=o}}if(o.subtreeFlags&2064&&c!==null)c.return=o,me=c;else e:for(;me!==null;){if(o=me,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ts(9,o,o.return)}var N=o.sibling;if(N!==null){N.return=o.return,me=N;break e}me=o.return}}var v=e.current;for(me=v;me!==null;){c=me;var k=c.child;if(c.subtreeFlags&2064&&k!==null)k.return=c,me=k;else e:for(c=v;me!==null;){if(h=me,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:Vl(9,h)}}catch(X){Je(h,h.return,X)}if(h===c){me=null;break e}var $=h.sibling;if($!==null){$.return=h.return,me=$;break e}me=h.return}}if(Me=i,Rr(),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(zl,e)}catch{}r=!0}return r}finally{$e=n,ln.transition=t}}return!1}function Zf(e,t,n){t=Ui(n,t),t=gm(e,t,1),e=Sr(e,t,1),t=Rt(),e!==null&&(to(e,1,t),Bt(e,t))}function Je(e,t,n){if(e.tag===3)Zf(e,e,n);else for(;t!==null;){if(t.tag===3){Zf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(kr===null||!kr.has(r))){e=Ui(n,e),e=xm(t,e,1),t=Sr(t,e,1),e=Rt(),t!==null&&(to(t,1,e),Bt(t,e));break}}t=t.return}}function ix(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Rt(),e.pingedLanes|=e.suspendedLanes&n,ht===e&&(vt&n)===n&&(at===4||at===3&&(vt&130023424)===vt&&500>nt()-ld?Jr(e,0):od|=n),Bt(e,t)}function Dm(e,t){t===0&&(e.mode&1?(t=Oo,Oo<<=1,!(Oo&130023424)&&(Oo=4194304)):t=1);var n=Rt();e=Yn(e,t),e!==null&&(to(e,t,n),Bt(e,n))}function sx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Dm(e,n)}function ox(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(t),Dm(e,n)}var $m;$m=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||$t.current)Dt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Dt=!1,qg(e,t,n);Dt=!!(e.flags&131072)}else Dt=!1,qe&&t.flags&1048576&&Wp(t,bl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;rl(e,t),e=t.pendingProps;var i=Ai(t,Nt.current);Ii(t,n),i=ed(null,t,r,e,i,n);var o=td();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ut(r)?(o=!0,xl(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Yc(t),i.updater=Hl,t.stateNode=i,i._reactInternals=t,Vu(t,r,e,n),t=Yu(null,t,r,!0,o,n)):(t.tag=0,qe&&o&&Bc(t),Tt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(rl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=ax(r),e=yn(r,e),i){case 0:t=Qu(null,t,r,e,n);break e;case 1:t=Kf(null,t,r,e,n);break e;case 11:t=Uf(null,t,r,e,n);break e;case 14:t=Bf(null,t,r,yn(r.type,e),n);break e}throw Error(Z(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yn(r,i),Qu(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yn(r,i),Kf(e,t,r,i,n);case 3:e:{if(km(t),e===null)throw Error(Z(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Xp(e,t),jl(t,r,null,n);var c=t.memoizedState;if(r=c.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Ui(Error(Z(423)),t),t=Wf(e,t,r,n,i);break e}else if(r!==i){i=Ui(Error(Z(424)),t),t=Wf(e,t,r,n,i);break e}else for(Yt=br(t.stateNode.containerInfo.firstChild),Xt=t,qe=!0,gn=null,n=Qp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zi(),r===i){t=Xn(e,t,n);break e}Tt(e,t,r,n)}t=t.child}return t;case 5:return Gp(t),e===null&&Ku(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,c=i.children,zu(r,i)?c=null:o!==null&&zu(r,o)&&(t.flags|=32),Sm(e,t),Tt(e,t,c,n),t.child;case 6:return e===null&&Ku(t),null;case 13:return jm(e,t,n);case 4:return Xc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Di(t,null,r,n):Tt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yn(r,i),Uf(e,t,r,i,n);case 7:return Tt(e,t,t.pendingProps,n),t.child;case 8:return Tt(e,t,t.pendingProps.children,n),t.child;case 12:return Tt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,c=i.value,We(Sl,r._currentValue),r._currentValue=c,o!==null)if(bn(o.value,c)){if(o.children===i.children&&!$t.current){t=Xn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var h=o.dependencies;if(h!==null){c=o.child;for(var p=h.firstContext;p!==null;){if(p.context===r){if(o.tag===1){p=Vn(-1,n&-n),p.tag=2;var g=o.updateQueue;if(g!==null){g=g.shared;var S=g.pending;S===null?p.next=p:(p.next=S.next,S.next=p),g.pending=p}}o.lanes|=n,p=o.alternate,p!==null&&(p.lanes|=n),Wu(o.return,n,t),h.lanes|=n;break}p=p.next}}else if(o.tag===10)c=o.type===t.type?null:o.child;else if(o.tag===18){if(c=o.return,c===null)throw Error(Z(341));c.lanes|=n,h=c.alternate,h!==null&&(h.lanes|=n),Wu(c,n,t),c=o.sibling}else c=o.child;if(c!==null)c.return=o;else for(c=o;c!==null;){if(c===t){c=null;break}if(o=c.sibling,o!==null){o.return=c.return,c=o;break}c=c.return}o=c}Tt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ii(t,n),i=an(i),r=r(i),t.flags|=1,Tt(e,t,r,n),t.child;case 14:return r=t.type,i=yn(r,t.pendingProps),i=yn(r.type,i),Bf(e,t,r,i,n);case 15:return wm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yn(r,i),rl(e,t),t.tag=1,Ut(r)?(e=!0,xl(t)):e=!1,Ii(t,n),vm(t,r,i),Vu(t,r,i,n),Yu(null,t,r,!0,e,n);case 19:return Nm(e,t,n);case 22:return bm(e,t,n)}throw Error(Z(156,t.tag))};function Um(e,t){return pp(e,t)}function lx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(e,t,n,r){return new lx(e,t,n,r)}function dd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ax(e){if(typeof e=="function")return dd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Tc)return 11;if(e===Rc)return 14}return 2}function Nr(e,t){var n=e.alternate;return n===null?(n=on(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ol(e,t,n,r,i,o){var c=2;if(r=e,typeof e=="function")dd(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case xi:return Zr(n.children,i,o,t);case Pc:c=8,i|=8;break;case yu:return e=on(12,n,t,i|2),e.elementType=yu,e.lanes=o,e;case vu:return e=on(13,n,t,i),e.elementType=vu,e.lanes=o,e;case gu:return e=on(19,n,t,i),e.elementType=gu,e.lanes=o,e;case Gh:return Ql(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Yh:c=10;break e;case Xh:c=9;break e;case Tc:c=11;break e;case Rc:c=14;break e;case cr:c=16,r=null;break e}throw Error(Z(130,e==null?e:typeof e,""))}return t=on(c,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Zr(e,t,n,r){return e=on(7,e,r,t),e.lanes=n,e}function Ql(e,t,n,r){return e=on(22,e,r,t),e.elementType=Gh,e.lanes=n,e.stateNode={isHidden:!1},e}function nu(e,t,n){return e=on(6,e,null,t),e.lanes=n,e}function ru(e,t,n){return t=on(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ux(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Aa(0),this.expirationTimes=Aa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Aa(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function fd(e,t,n,r,i,o,c,h,p){return e=new ux(e,t,n,h,p),t===1?(t=1,o===!0&&(t|=8)):t=0,o=on(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yc(o),e}function cx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Bm(e){if(!e)return _r;e=e._reactInternals;e:{if(oi(e)!==e||e.tag!==1)throw Error(Z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Z(171))}if(e.tag===1){var n=e.type;if(Ut(n))return Bp(e,n,t)}return t}function Km(e,t,n,r,i,o,c,h,p){return e=fd(n,r,!0,e,i,o,c,h,p),e.context=Bm(null),n=e.current,r=Rt(),i=jr(n),o=Vn(r,i),o.callback=t??null,Sr(n,o,i),e.current.lanes=i,to(e,i,r),Bt(e,r),e}function Yl(e,t,n,r){var i=t.current,o=Rt(),c=jr(i);return n=Bm(n),t.context===null?t.context=n:t.pendingContext=n,t=Vn(o,c),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Sr(i,t,c),e!==null&&(wn(e,i,c,o),el(e,i,c)),c}function Ol(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function eh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function hd(e,t){eh(e,t),(e=e.alternate)&&eh(e,t)}function dx(){return null}var Wm=typeof reportError=="function"?reportError:function(e){console.error(e)};function pd(e){this._internalRoot=e}Xl.prototype.render=pd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Z(409));Yl(e,t,null,null)};Xl.prototype.unmount=pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ii(function(){Yl(null,e,null,null)}),t[Qn]=null}};function Xl(e){this._internalRoot=e}Xl.prototype.unstable_scheduleHydration=function(e){if(e){var t=bp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<fr.length&&t!==0&&t<fr[n].priority;n++);fr.splice(n,0,e),n===0&&kp(e)}};function md(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function th(){}function fx(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var g=Ol(c);o.call(g)}}var c=Km(t,r,e,0,null,!1,!1,"",th);return e._reactRootContainer=c,e[Qn]=c.current,Us(e.nodeType===8?e.parentNode:e),ii(),c}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var h=r;r=function(){var g=Ol(p);h.call(g)}}var p=fd(e,0,!1,null,null,!1,!1,"",th);return e._reactRootContainer=p,e[Qn]=p.current,Us(e.nodeType===8?e.parentNode:e),ii(function(){Yl(t,p,n,r)}),p}function Jl(e,t,n,r,i){var o=n._reactRootContainer;if(o){var c=o;if(typeof i=="function"){var h=i;i=function(){var p=Ol(c);h.call(p)}}Yl(t,c,e,i)}else c=fx(n,t,e,i,r);return Ol(c)}xp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=bs(t.pendingLanes);n!==0&&(Ic(t,n|1),Bt(t,nt()),!(Me&6)&&(Bi=nt()+500,Rr()))}break;case 13:ii(function(){var r=Yn(e,1);if(r!==null){var i=Rt();wn(r,e,1,i)}}),hd(e,1)}};Fc=function(e){if(e.tag===13){var t=Yn(e,134217728);if(t!==null){var n=Rt();wn(t,e,134217728,n)}hd(e,134217728)}};wp=function(e){if(e.tag===13){var t=jr(e),n=Yn(e,t);if(n!==null){var r=Rt();wn(n,e,t,r)}hd(e,t)}};bp=function(){return $e};Sp=function(e,t){var n=$e;try{return $e=e,t()}finally{$e=n}};_u=function(e,t,n){switch(t){case"input":if(bu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Bl(r);if(!i)throw Error(Z(90));Zh(r),bu(r,i)}}}break;case"textarea":tp(e,n);break;case"select":t=n.value,t!=null&&Ti(e,!!n.multiple,t,!1)}};ap=ad;up=ii;var hx={usingClientEntryPoint:!1,Events:[ro,ki,Bl,op,lp,ad]},gs={findFiberByHostInstance:Qr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},px={bundleType:gs.bundleType,version:gs.version,rendererPackageName:gs.rendererPackageName,rendererConfig:gs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fp(e),e===null?null:e.stateNode},findFiberByHostInstance:gs.findFiberByHostInstance||dx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ko.isDisabled&&Ko.supportsFiber)try{zl=Ko.inject(px),On=Ko}catch{}}Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hx;Jt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!md(t))throw Error(Z(200));return cx(e,t,null,n)};Jt.createRoot=function(e,t){if(!md(e))throw Error(Z(299));var n=!1,r="",i=Wm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=fd(e,1,!1,null,null,n,!1,r,i),e[Qn]=t.current,Us(e.nodeType===8?e.parentNode:e),new pd(t)};Jt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=fp(t),e=e===null?null:e.stateNode,e};Jt.flushSync=function(e){return ii(e)};Jt.hydrate=function(e,t,n){if(!Gl(t))throw Error(Z(200));return Jl(null,e,t,!0,n)};Jt.hydrateRoot=function(e,t,n){if(!md(e))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",c=Wm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),t=Km(t,null,e,1,n??null,i,!1,o,c),e[Qn]=t.current,Us(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xl(t)};Jt.render=function(e,t,n){if(!Gl(t))throw Error(Z(200));return Jl(null,e,t,!1,n)};Jt.unmountComponentAtNode=function(e){if(!Gl(e))throw Error(Z(40));return e._reactRootContainer?(ii(function(){Jl(null,null,e,!1,function(){e._reactRootContainer=null,e[Qn]=null})}),!0):!1};Jt.unstable_batchedUpdates=ad;Jt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Gl(n))throw Error(Z(200));if(e==null||e._reactInternals===void 0)throw Error(Z(38));return Jl(e,t,n,!1,r)};Jt.version="18.3.1-next-f1338f8080-20240426";function Hm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hm)}catch(e){console.error(e)}}Hm(),Hh.exports=Jt;var mx=Hh.exports,nh=mx;pu.createRoot=nh.createRoot,pu.hydrateRoot=nh.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xs(){return Xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xs.apply(this,arguments)}var yr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(yr||(yr={}));const rh="popstate";function yx(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:c,hash:h}=r.location;return lc("",{pathname:o,search:c,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ll(i)}return gx(t,n,null,e)}function Ze(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Vm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function vx(){return Math.random().toString(36).substr(2,8)}function ih(e,t){return{usr:e.state,key:e.key,idx:t}}function lc(e,t,n,r){return n===void 0&&(n=null),Xs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Qi(t):t,{state:n,key:t&&t.key||r||vx()})}function Ll(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Qi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function gx(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,c=i.history,h=yr.Pop,p=null,g=S();g==null&&(g=0,c.replaceState(Xs({},c.state,{idx:g}),""));function S(){return(c.state||{idx:null}).idx}function b(){h=yr.Pop;let q=S(),N=q==null?null:q-g;g=q,p&&p({action:h,location:B.location,delta:N})}function E(q,N){h=yr.Push;let v=lc(B.location,q,N);g=S()+1;let k=ih(v,g),$=B.createHref(v);try{c.pushState(k,"",$)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;i.location.assign($)}o&&p&&p({action:h,location:B.location,delta:1})}function U(q,N){h=yr.Replace;let v=lc(B.location,q,N);g=S();let k=ih(v,g),$=B.createHref(v);c.replaceState(k,"",$),o&&p&&p({action:h,location:B.location,delta:0})}function A(q){let N=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof q=="string"?q:Ll(q);return v=v.replace(/ $/,"%20"),Ze(N,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,N)}let B={get action(){return h},get location(){return e(i,c)},listen(q){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(rh,b),p=q,()=>{i.removeEventListener(rh,b),p=null}},createHref(q){return t(i,q)},createURL:A,encodeLocation(q){let N=A(q);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:E,replace:U,go(q){return c.go(q)}};return B}var sh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(sh||(sh={}));function xx(e,t,n){return n===void 0&&(n="/"),wx(e,t,n)}function wx(e,t,n,r){let i=typeof t=="string"?Qi(t):t,o=Ki(i.pathname||"/",n);if(o==null)return null;let c=qm(e);bx(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let g=Ox(o);h=Tx(c[p],g)}return h}function qm(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,c,h)=>{let p={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};p.relativePath.startsWith("/")&&(Ze(p.relativePath.startsWith(r),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(r.length));let g=Cr([r,p.relativePath]),S=n.concat(p);o.children&&o.children.length>0&&(Ze(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),qm(o.children,t,S,g)),!(o.path==null&&!o.index)&&t.push({path:g,score:_x(g,o.index),routesMeta:S})};return e.forEach((o,c)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))i(o,c);else for(let p of Qm(o.path))i(o,c,p)}),t}function Qm(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let c=Qm(r.join("/")),h=[];return h.push(...c.map(p=>p===""?o:[o,p].join("/"))),i&&h.push(...c),h.map(p=>e.startsWith("/")&&p===""?"/":p)}function bx(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Px(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Sx=/^:[\w-]+$/,kx=3,jx=2,Nx=1,Cx=10,Ex=-2,oh=e=>e==="*";function _x(e,t){let n=e.split("/"),r=n.length;return n.some(oh)&&(r+=Ex),t&&(r+=jx),n.filter(i=>!oh(i)).reduce((i,o)=>i+(Sx.test(o)?kx:o===""?Nx:Cx),r)}function Px(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Tx(e,t,n){let{routesMeta:r}=e,i={},o="/",c=[];for(let h=0;h<r.length;++h){let p=r[h],g=h===r.length-1,S=o==="/"?t:t.slice(o.length)||"/",b=ac({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},S),E=p.route;if(!b)return null;Object.assign(i,b.params),c.push({params:i,pathname:Cr([o,b.pathname]),pathnameBase:Mx(Cr([o,b.pathnameBase])),route:E}),b.pathnameBase!=="/"&&(o=Cr([o,b.pathnameBase]))}return c}function ac(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Rx(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((g,S,b)=>{let{paramName:E,isOptional:U}=S;if(E==="*"){let B=h[b]||"";c=o.slice(0,o.length-B.length).replace(/(.)\/+$/,"$1")}const A=h[b];return U&&!A?g[E]=void 0:g[E]=(A||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:c,pattern:e}}function Rx(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Vm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(r.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Ox(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Vm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ki(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Lx(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Qi(e):e;return{pathname:n?n.startsWith("/")?n:Ix(n,t):t,search:Ax(r),hash:zx(i)}}function Ix(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function iu(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Fx(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ym(e,t){let n=Fx(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Xm(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Qi(e):(i=Xs({},e),Ze(!i.pathname||!i.pathname.includes("?"),iu("?","pathname","search",i)),Ze(!i.pathname||!i.pathname.includes("#"),iu("#","pathname","hash",i)),Ze(!i.search||!i.search.includes("#"),iu("#","search","hash",i)));let o=e===""||i.pathname==="",c=o?"/":i.pathname,h;if(c==null)h=n;else{let b=t.length-1;if(!r&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),b-=1;i.pathname=E.join("/")}h=b>=0?t[b]:"/"}let p=Lx(i,h),g=c&&c!=="/"&&c.endsWith("/"),S=(o||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||S)&&(p.pathname+="/"),p}const Cr=e=>e.join("/").replace(/\/\/+/g,"/"),Mx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ax=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,zx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Dx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Gm=["post","put","patch","delete"];new Set(Gm);const $x=["get",...Gm];new Set($x);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gs(){return Gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gs.apply(this,arguments)}const Zl=x.createContext(null),Jm=x.createContext(null),Or=x.createContext(null),ea=x.createContext(null),li=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Zm=x.createContext(null);function Ux(e,t){let{relative:n}=t===void 0?{}:t;so()||Ze(!1);let{basename:r,navigator:i}=x.useContext(Or),{hash:o,pathname:c,search:h}=ta(e,{relative:n}),p=c;return r!=="/"&&(p=c==="/"?r:Cr([r,c])),i.createHref({pathname:p,search:h,hash:o})}function so(){return x.useContext(ea)!=null}function oo(){return so()||Ze(!1),x.useContext(ea).location}function ey(e){x.useContext(Or).static||x.useLayoutEffect(e)}function Bx(){let{isDataRoute:e}=x.useContext(li);return e?t0():Kx()}function Kx(){so()||Ze(!1);let e=x.useContext(Zl),{basename:t,future:n,navigator:r}=x.useContext(Or),{matches:i}=x.useContext(li),{pathname:o}=oo(),c=JSON.stringify(Ym(i,n.v7_relativeSplatPath)),h=x.useRef(!1);return ey(()=>{h.current=!0}),x.useCallback(function(g,S){if(S===void 0&&(S={}),!h.current)return;if(typeof g=="number"){r.go(g);return}let b=Xm(g,JSON.parse(c),o,S.relative==="path");e==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:Cr([t,b.pathname])),(S.replace?r.replace:r.push)(b,S.state,S)},[t,r,c,o,e])}function ta(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=x.useContext(Or),{matches:i}=x.useContext(li),{pathname:o}=oo(),c=JSON.stringify(Ym(i,r.v7_relativeSplatPath));return x.useMemo(()=>Xm(e,JSON.parse(c),o,n==="path"),[e,c,o,n])}function Wx(e,t){return Hx(e,t)}function Hx(e,t,n,r){so()||Ze(!1);let{navigator:i}=x.useContext(Or),{matches:o}=x.useContext(li),c=o[o.length-1],h=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let g=oo(),S;if(t){var b;let q=typeof t=="string"?Qi(t):t;p==="/"||(b=q.pathname)!=null&&b.startsWith(p)||Ze(!1),S=q}else S=g;let E=S.pathname||"/",U=E;if(p!=="/"){let q=p.replace(/^\//,"").split("/");U="/"+E.replace(/^\//,"").split("/").slice(q.length).join("/")}let A=xx(e,{pathname:U}),B=Xx(A&&A.map(q=>Object.assign({},q,{params:Object.assign({},h,q.params),pathname:Cr([p,i.encodeLocation?i.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?p:Cr([p,i.encodeLocation?i.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),o,n,r);return t&&B?x.createElement(ea.Provider,{value:{location:Gs({pathname:"/",search:"",hash:"",state:null,key:"default"},S),navigationType:yr.Pop}},B):B}function Vx(){let e=e0(),t=Dx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:i},n):null,null)}const qx=x.createElement(Vx,null);class Qx extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(li.Provider,{value:this.props.routeContext},x.createElement(Zm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Yx(e){let{routeContext:t,match:n,children:r}=e,i=x.useContext(Zl);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(li.Provider,{value:t},r)}function Xx(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let c=e,h=(i=n)==null?void 0:i.errors;if(h!=null){let S=c.findIndex(b=>b.route.id&&(h==null?void 0:h[b.route.id])!==void 0);S>=0||Ze(!1),c=c.slice(0,Math.min(c.length,S+1))}let p=!1,g=-1;if(n&&r&&r.v7_partialHydration)for(let S=0;S<c.length;S++){let b=c[S];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=S),b.route.id){let{loaderData:E,errors:U}=n,A=b.route.loader&&E[b.route.id]===void 0&&(!U||U[b.route.id]===void 0);if(b.route.lazy||A){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((S,b,E)=>{let U,A=!1,B=null,q=null;n&&(U=h&&b.route.id?h[b.route.id]:void 0,B=b.route.errorElement||qx,p&&(g<0&&E===0?(n0("route-fallback"),A=!0,q=null):g===E&&(A=!0,q=b.route.hydrateFallbackElement||null)));let N=t.concat(c.slice(0,E+1)),v=()=>{let k;return U?k=B:A?k=q:b.route.Component?k=x.createElement(b.route.Component,null):b.route.element?k=b.route.element:k=S,x.createElement(Yx,{match:b,routeContext:{outlet:S,matches:N,isDataRoute:n!=null},children:k})};return n&&(b.route.ErrorBoundary||b.route.errorElement||E===0)?x.createElement(Qx,{location:n.location,revalidation:n.revalidation,component:B,error:U,children:v(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):v()},null)}var ty=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ty||{}),ny=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ny||{});function Gx(e){let t=x.useContext(Zl);return t||Ze(!1),t}function Jx(e){let t=x.useContext(Jm);return t||Ze(!1),t}function Zx(e){let t=x.useContext(li);return t||Ze(!1),t}function ry(e){let t=Zx(),n=t.matches[t.matches.length-1];return n.route.id||Ze(!1),n.route.id}function e0(){var e;let t=x.useContext(Zm),n=Jx(),r=ry();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function t0(){let{router:e}=Gx(ty.UseNavigateStable),t=ry(ny.UseNavigateStable),n=x.useRef(!1);return ey(()=>{n.current=!0}),x.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Gs({fromRouteId:t},o)))},[e,t])}const lh={};function n0(e,t,n){lh[e]||(lh[e]=!0)}function r0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function $n(e){Ze(!1)}function i0(e){let{basename:t="/",children:n=null,location:r,navigationType:i=yr.Pop,navigator:o,static:c=!1,future:h}=e;so()&&Ze(!1);let p=t.replace(/^\/*/,"/"),g=x.useMemo(()=>({basename:p,navigator:o,static:c,future:Gs({v7_relativeSplatPath:!1},h)}),[p,h,o,c]);typeof r=="string"&&(r=Qi(r));let{pathname:S="/",search:b="",hash:E="",state:U=null,key:A="default"}=r,B=x.useMemo(()=>{let q=Ki(S,p);return q==null?null:{location:{pathname:q,search:b,hash:E,state:U,key:A},navigationType:i}},[p,S,b,E,U,A,i]);return B==null?null:x.createElement(Or.Provider,{value:g},x.createElement(ea.Provider,{children:n,value:B}))}function s0(e){let{children:t,location:n}=e;return Wx(uc(t),n)}new Promise(()=>{});function uc(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(r,i)=>{if(!x.isValidElement(r))return;let o=[...t,i];if(r.type===x.Fragment){n.push.apply(n,uc(r.props.children,o));return}r.type!==$n&&Ze(!1),!r.props.index||!r.props.children||Ze(!1);let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=uc(r.props.children,o)),n.push(c)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Il(){return Il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Il.apply(this,arguments)}function iy(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function o0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function l0(e,t){return e.button===0&&(!t||t==="_self")&&!o0(e)}const a0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],u0=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],c0="6";try{window.__reactRouterVersion=c0}catch{}const d0=x.createContext({isTransitioning:!1}),f0="startTransition",ah=iv[f0];function h0(e){let{basename:t,children:n,future:r,window:i}=e,o=x.useRef();o.current==null&&(o.current=yx({window:i,v5Compat:!0}));let c=o.current,[h,p]=x.useState({action:c.action,location:c.location}),{v7_startTransition:g}=r||{},S=x.useCallback(b=>{g&&ah?ah(()=>p(b)):p(b)},[p,g]);return x.useLayoutEffect(()=>c.listen(S),[c,S]),x.useEffect(()=>r0(r),[r]),x.createElement(i0,{basename:t,children:n,location:h.location,navigationType:h.action,navigator:c,future:r})}const p0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",m0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,y0=x.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:c,state:h,target:p,to:g,preventScrollReset:S,viewTransition:b}=t,E=iy(t,a0),{basename:U}=x.useContext(Or),A,B=!1;if(typeof g=="string"&&m0.test(g)&&(A=g,p0))try{let k=new URL(window.location.href),$=g.startsWith("//")?new URL(k.protocol+g):new URL(g),X=Ki($.pathname,U);$.origin===k.origin&&X!=null?g=X+$.search+$.hash:B=!0}catch{}let q=Ux(g,{relative:i}),N=g0(g,{replace:c,state:h,target:p,preventScrollReset:S,relative:i,viewTransition:b});function v(k){r&&r(k),k.defaultPrevented||N(k)}return x.createElement("a",Il({},E,{href:A||q,onClick:B||o?r:v,ref:n,target:p}))}),Br=x.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:c=!1,style:h,to:p,viewTransition:g,children:S}=t,b=iy(t,u0),E=ta(p,{relative:b.relative}),U=oo(),A=x.useContext(Jm),{navigator:B,basename:q}=x.useContext(Or),N=A!=null&&x0(E)&&g===!0,v=B.encodeLocation?B.encodeLocation(E).pathname:E.pathname,k=U.pathname,$=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;i||(k=k.toLowerCase(),$=$?$.toLowerCase():null,v=v.toLowerCase()),$&&q&&($=Ki($,q)||$);const X=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let Q=k===v||!c&&k.startsWith(v)&&k.charAt(X)==="/",J=$!=null&&($===v||!c&&$.startsWith(v)&&$.charAt(v.length)==="/"),re={isActive:Q,isPending:J,isTransitioning:N},je=Q?r:void 0,he;typeof o=="function"?he=o(re):he=[o,Q?"active":null,J?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let Ie=typeof h=="function"?h(re):h;return x.createElement(y0,Il({},b,{"aria-current":je,className:he,ref:n,style:Ie,to:p,viewTransition:g}),typeof S=="function"?S(re):S)});var cc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(cc||(cc={}));var uh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(uh||(uh={}));function v0(e){let t=x.useContext(Zl);return t||Ze(!1),t}function g0(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:c,viewTransition:h}=t===void 0?{}:t,p=Bx(),g=oo(),S=ta(e,{relative:c});return x.useCallback(b=>{if(l0(b,n)){b.preventDefault();let E=r!==void 0?r:Ll(g)===Ll(S);p(e,{replace:E,state:i,preventScrollReset:o,relative:c,viewTransition:h})}},[g,p,S,r,i,n,e,o,c,h])}function x0(e,t){t===void 0&&(t={});let n=x.useContext(d0);n==null&&Ze(!1);let{basename:r}=v0(cc.useViewTransitionState),i=ta(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=Ki(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Ki(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ac(i.pathname,c)!=null||ac(i.pathname,o)!=null}let dc=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");const w0={},ch=e=>{let t;const n=new Set,r=(S,b)=>{const E=typeof S=="function"?S(t):S;if(!Object.is(E,t)){const U=t;t=b??(typeof E!="object"||E===null)?E:Object.assign({},t,E),n.forEach(A=>A(t,U))}},i=()=>t,p={setState:r,getState:i,getInitialState:()=>g,subscribe:S=>(n.add(S),()=>n.delete(S)),destroy:()=>{(w0?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},g=t=e(r,i,p);return p},b0=e=>e?ch(e):ch;var sy={exports:{}},oy={},ly={exports:{}},ay={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wi=x;function S0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var k0=typeof Object.is=="function"?Object.is:S0,j0=Wi.useState,N0=Wi.useEffect,C0=Wi.useLayoutEffect,E0=Wi.useDebugValue;function _0(e,t){var n=t(),r=j0({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return C0(function(){i.value=n,i.getSnapshot=t,su(i)&&o({inst:i})},[e,n,t]),N0(function(){return su(i)&&o({inst:i}),e(function(){su(i)&&o({inst:i})})},[e]),E0(n),n}function su(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!k0(e,n)}catch{return!0}}function P0(e,t){return t()}var T0=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?P0:_0;ay.useSyncExternalStore=Wi.useSyncExternalStore!==void 0?Wi.useSyncExternalStore:T0;ly.exports=ay;var R0=ly.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var na=x,O0=R0;function L0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var I0=typeof Object.is=="function"?Object.is:L0,F0=O0.useSyncExternalStore,M0=na.useRef,A0=na.useEffect,z0=na.useMemo,D0=na.useDebugValue;oy.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=M0(null);if(o.current===null){var c={hasValue:!1,value:null};o.current=c}else c=o.current;o=z0(function(){function p(U){if(!g){if(g=!0,S=U,U=r(U),i!==void 0&&c.hasValue){var A=c.value;if(i(A,U))return b=A}return b=U}if(A=b,I0(S,U))return A;var B=r(U);return i!==void 0&&i(A,B)?(S=U,A):(S=U,b=B)}var g=!1,S,b,E=n===void 0?null:n;return[function(){return p(t())},E===null?void 0:function(){return p(E())}]},[t,n,r,i]);var h=F0(e,o[0],o[1]);return A0(function(){c.hasValue=!0,c.value=h},[h]),D0(h),h};sy.exports=oy;var $0=sy.exports;const U0=wc($0),uy={},{useDebugValue:B0}=Nc,{useSyncExternalStoreWithSelector:K0}=U0;let dh=!1;const W0=e=>e;function H0(e,t=W0,n){(uy?"production":void 0)!=="production"&&n&&!dh&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),dh=!0);const r=K0(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return B0(r),r}const fh=e=>{(uy?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?b0(e):e,n=(r,i)=>H0(t,r,i);return Object.assign(n,t),n},cy=e=>e?fh(e):fh,V0=/['\u2019\u02BC](s|d)$/u,q0=/['\u2019\u02BC]$/u,Q0=new Set(["a","e","i","o","u"]),Y0=["ness","ss","ous","us","is"],X0=new Map([["boonies","boonie"]]);function hh(e){return/[aeiouy]/u.test(e)}function Js(e){return Q0.has(e)}function G0(e){if(e.length<2)return!1;const t=e[e.length-1],n=e[e.length-2];return t===n&&!Js(t)}function J0(e){if(e.length<3||!e.endsWith("l"))return!1;const t=e[e.length-2],n=e[e.length-3];return t===n&&!Js(t)}function Z0(e,t){return t||!e.endsWith("g")?!1:!e.endsWith("ng")}function ew(e){if(e.length<2||!e.endsWith("k"))return!1;const t=e[e.length-2];return Js(t)}function ph(e){if(e.endsWith("at")||e.endsWith("bl")||e.endsWith("iz"))return`${e}e`;let t=e,n=!1;return G0(t)&&!["l","s","z"].includes(t[t.length-1])&&(t=t.slice(0,-1),n=!0),J0(t)?`${t}e`:Z0(t,n)?`${t}e`:ew(t)?`${t}e`:t.endsWith("is")&&t.length>3?`${t}e`:t}function yd(e){let t=e.toLowerCase().normalize("NFC");if(t=t.replace(V0,""),t=t.replace(q0,""),t.length<=3)return t;if(t.endsWith("ier")&&t.length>5){const n=t.slice(0,-3),r=n[n.length-1],i=n[n.length-2];if(r&&i&&r===i&&!Js(r))return`${n}y`}if(t.endsWith("ied")&&t.length>3){const n=t.slice(0,-3);return t.length<=4?`${n}ie`:`${n}y`}if(t.endsWith("ies")&&t.length>3){const n=X0.get(t);if(n)return n;const r=t.slice(0,-3);return t.length<=4?`${r}ie`:`${r}y`}if(t.endsWith("ing")){const n=t.slice(0,-3);if(n.length>=3&&hh(n))return ph(n)}if(t.endsWith("ed")){const n=t.slice(0,-2);if(n.length>=2&&hh(n))return ph(n)}if(t.endsWith("ly")&&t.length>4){const n=t[t.length-3];if(n&&!Js(n))return t.slice(0,-2)}return t.endsWith("es")&&t.length>4?t.endsWith("ches")||t.endsWith("shes")||t.endsWith("xes")||t.endsWith("zes")?t.slice(0,-2):t.slice(0,-1):t.endsWith("s")&&t.length>4&&!Y0.some(n=>t.endsWith(n))?t.slice(0,-1):t}const tw=new RegExp("(\\p{L}+(?:['\\u2019\\u02BC-]\\p{L}+)*)|(\\d+)|([^\\s\\p{L}\\d]+)","gu");function Hn(e){const t=e.replace(/[\u0001\u0002]/g,""),n=[];let r;for(;r=tw.exec(t);){const[i,o,c,h]=r;if(o){const p=o.toLowerCase().normalize("NFC");n.push({text:i,normalized:p,stem:yd(p),isWord:!0})}else c?n.push({text:i,normalized:c,stem:c,isWord:!1}):h&&n.push({text:i,normalized:h,stem:h,isWord:!1})}return n.length>0?n:[{text:e,normalized:e,stem:e,isWord:new RegExp("\\p{L}","u").test(e)}]}var dy={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Vd,function(){var n=function(s,l){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(a[f]=d[f])})(s,l)},r=function(){return(r=Object.assign||function(s){for(var l,a=1,d=arguments.length;a<d;a++)for(var f in l=arguments[a])Object.prototype.hasOwnProperty.call(l,f)&&(s[f]=l[f]);return s}).apply(this,arguments)};function i(s,l,a){for(var d,f=0,m=l.length;f<m;f++)!d&&f in l||((d=d||Array.prototype.slice.call(l,0,f))[f]=l[f]);return s.concat(d||Array.prototype.slice.call(l))}var o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Vd,c=Object.keys,h=Array.isArray;function p(s,l){return typeof l!="object"||c(l).forEach(function(a){s[a]=l[a]}),s}typeof Promise>"u"||o.Promise||(o.Promise=Promise);var g=Object.getPrototypeOf,S={}.hasOwnProperty;function b(s,l){return S.call(s,l)}function E(s,l){typeof l=="function"&&(l=l(g(s))),(typeof Reflect>"u"?c:Reflect.ownKeys)(l).forEach(function(a){A(s,a,l[a])})}var U=Object.defineProperty;function A(s,l,a,d){U(s,l,p(a&&b(a,"get")&&typeof a.get=="function"?{get:a.get,set:a.set,configurable:!0}:{value:a,configurable:!0,writable:!0},d))}function B(s){return{from:function(l){return s.prototype=Object.create(l.prototype),A(s.prototype,"constructor",s),{extend:E.bind(null,s.prototype)}}}}var q=Object.getOwnPropertyDescriptor,N=[].slice;function v(s,l,a){return N.call(s,l,a)}function k(s,l){return l(s)}function $(s){if(!s)throw new Error("Assertion Failed")}function X(s){o.setImmediate?setImmediate(s):setTimeout(s,0)}function Q(s,l){if(typeof l=="string"&&b(s,l))return s[l];if(!l)return s;if(typeof l!="string"){for(var a=[],d=0,f=l.length;d<f;++d){var m=Q(s,l[d]);a.push(m)}return a}var y=l.indexOf(".");if(y!==-1){var w=s[l.substr(0,y)];return w==null?void 0:Q(w,l.substr(y+1))}}function J(s,l,a){if(s&&l!==void 0&&!("isFrozen"in Object&&Object.isFrozen(s)))if(typeof l!="string"&&"length"in l){$(typeof a!="string"&&"length"in a);for(var d=0,f=l.length;d<f;++d)J(s,l[d],a[d])}else{var m,y,w=l.indexOf(".");w!==-1?(m=l.substr(0,w),(y=l.substr(w+1))===""?a===void 0?h(s)&&!isNaN(parseInt(m))?s.splice(m,1):delete s[m]:s[m]=a:J(w=!(w=s[m])||!b(s,m)?s[m]={}:w,y,a)):a===void 0?h(s)&&!isNaN(parseInt(l))?s.splice(l,1):delete s[l]:s[l]=a}}function re(s){var l,a={};for(l in s)b(s,l)&&(a[l]=s[l]);return a}var je=[].concat;function he(s){return je.apply([],s)}var jn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(he([8,16,32,64].map(function(s){return["Int","Uint","Float"].map(function(l){return l+s+"Array"})}))).filter(function(s){return o[s]}),Ie=new Set(jn.map(function(s){return o[s]})),Ue=null;function oe(s){return Ue=new WeakMap,s=function l(a){if(!a||typeof a!="object")return a;var d=Ue.get(a);if(d)return d;if(h(a)){d=[],Ue.set(a,d);for(var f=0,m=a.length;f<m;++f)d.push(l(a[f]))}else if(Ie.has(a.constructor))d=a;else{var y,w=g(a);for(y in d=w===Object.prototype?{}:Object.create(w),Ue.set(a,d),a)b(a,y)&&(d[y]=l(a[y]))}return d}(s),Ue=null,s}var G={}.toString;function ee(s){return G.call(s).slice(8,-1)}var Y=typeof Symbol<"u"?Symbol.iterator:"@@iterator",we=typeof Y=="symbol"?function(s){var l;return s!=null&&(l=s[Y])&&l.apply(s)}:function(){return null};function H(s,l){return l=s.indexOf(l),0<=l&&s.splice(l,1),0<=l}var ie={};function ne(s){var l,a,d,f;if(arguments.length===1){if(h(s))return s.slice();if(this===ie&&typeof s=="string")return[s];if(f=we(s)){for(a=[];!(d=f.next()).done;)a.push(d.value);return a}if(s==null)return[s];if(typeof(l=s.length)!="number")return[s];for(a=new Array(l);l--;)a[l]=s[l];return a}for(l=arguments.length,a=new Array(l);l--;)a[l]=arguments[l];return a}var xe=typeof Symbol<"u"?function(s){return s[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},kn=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],nn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(kn),Ne={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ze(s,l){this.name=s,this.message=l}function Ct(s,l){return s+". Errors: "+Object.keys(l).map(function(a){return l[a].toString()}).filter(function(a,d,f){return f.indexOf(a)===d}).join(`
`)}function ut(s,l,a,d){this.failures=l,this.failedKeys=d,this.successCount=a,this.message=Ct(s,l)}function ct(s,l){this.name="BulkError",this.failures=Object.keys(l).map(function(a){return l[a]}),this.failuresByPos=l,this.message=Ct(s,this.failures)}B(ze).from(Error).extend({toString:function(){return this.name+": "+this.message}}),B(ut).from(ze),B(ct).from(ze);var It=nn.reduce(function(s,l){return s[l]=l+"Error",s},{}),Yi=ze,D=nn.reduce(function(s,l){var a=l+"Error";function d(f,m){this.name=a,f?typeof f=="string"?(this.message="".concat(f).concat(m?`
 `+m:""),this.inner=m||null):typeof f=="object"&&(this.message="".concat(f.name," ").concat(f.message),this.inner=f):(this.message=Ne[l]||a,this.inner=null)}return B(d).from(Yi),s[l]=d,s},{});D.Syntax=SyntaxError,D.Type=TypeError,D.Range=RangeError;var Ee=kn.reduce(function(s,l){return s[l+"Error"]=D[l],s},{}),ve=nn.reduce(function(s,l){return["Syntax","Type","Range"].indexOf(l)===-1&&(s[l+"Error"]=D[l]),s},{});function ge(){}function De(s){return s}function rt(s,l){return s==null||s===De?l:function(a){return l(s(a))}}function ot(s,l){return function(){s.apply(this,arguments),l.apply(this,arguments)}}function Sn(s,l){return s===ge?l:function(){var a=s.apply(this,arguments);a!==void 0&&(arguments[0]=a);var d=this.onsuccess,f=this.onerror;this.onsuccess=null,this.onerror=null;var m=l.apply(this,arguments);return d&&(this.onsuccess=this.onsuccess?ot(d,this.onsuccess):d),f&&(this.onerror=this.onerror?ot(f,this.onerror):f),m!==void 0?m:a}}function Kt(s,l){return s===ge?l:function(){s.apply(this,arguments);var a=this.onsuccess,d=this.onerror;this.onsuccess=this.onerror=null,l.apply(this,arguments),a&&(this.onsuccess=this.onsuccess?ot(a,this.onsuccess):a),d&&(this.onerror=this.onerror?ot(d,this.onerror):d)}}function In(s,l){return s===ge?l:function(a){var d=s.apply(this,arguments);p(a,d);var f=this.onsuccess,m=this.onerror;return this.onsuccess=null,this.onerror=null,a=l.apply(this,arguments),f&&(this.onsuccess=this.onsuccess?ot(f,this.onsuccess):f),m&&(this.onerror=this.onerror?ot(m,this.onerror):m),d===void 0?a===void 0?void 0:a:p(d,a)}}function Jn(s,l){return s===ge?l:function(){return l.apply(this,arguments)!==!1&&s.apply(this,arguments)}}function Zn(s,l){return s===ge?l:function(){var a=s.apply(this,arguments);if(a&&typeof a.then=="function"){for(var d=this,f=arguments.length,m=new Array(f);f--;)m[f]=arguments[f];return a.then(function(){return l.apply(d,m)})}return l.apply(this,arguments)}}ve.ModifyError=ut,ve.DexieError=ze,ve.BulkError=ct;var Ft=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Xi(s){Ft=s}var er={},Gi=100,jn=typeof Promise>"u"?[]:function(){var s=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[s,g(s),s];var l=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[l,g(l),s]}(),kn=jn[0],nn=jn[1],jn=jn[2],nn=nn&&nn.then,cn=kn&&kn.constructor,Lr=!!jn,Et=function(s,l){Nn.push([s,l]),dn&&(queueMicrotask(sa),dn=!1)},Wt=!0,dn=!0,Mt=[],Ir=[],ai=De,Ht={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ge,pgp:!1,env:{},finalize:ge},ye=Ht,Nn=[],fn=0,Fn=[];function fe(s){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var l=this._PSD=ye;if(typeof s!="function"){if(s!==er)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&tr(this,this._value))}this._state=null,this._value=null,++l.ref,function a(d,f){try{f(function(m){if(d._state===null){if(m===d)throw new TypeError("A promise cannot be resolved with itself.");var y=d._lib&&nr();m&&typeof m.then=="function"?a(d,function(w,C){m instanceof fe?m._then(w,C):m.then(w,C)}):(d._state=!0,d._value=m,es(d)),y&&en()}},tr.bind(null,d))}catch(m){tr(d,m)}}(this,s)}var Ji={get:function(){var s=ye,l=pt;function a(d,f){var m=this,y=!s.global&&(s!==ye||l!==pt),w=y&&!tn(),C=new fe(function(_,L){ts(m,new Zi(T(d,s,y,w),T(f,s,y,w),_,L,s))});return this._consoleTask&&(C._consoleTask=this._consoleTask),C}return a.prototype=er,a},set:function(s){A(this,"then",s&&s.prototype===er?Ji:{get:function(){return s},set:Ji.set})}};function Zi(s,l,a,d,f){this.onFulfilled=typeof s=="function"?s:null,this.onRejected=typeof l=="function"?l:null,this.resolve=a,this.reject=d,this.psd=f}function tr(s,l){var a,d;Ir.push(l),s._state===null&&(a=s._lib&&nr(),l=ai(l),s._state=!1,s._value=l,d=s,Mt.some(function(f){return f._value===d._value})||Mt.push(d),es(s),a&&en())}function es(s){var l=s._listeners;s._listeners=[];for(var a=0,d=l.length;a<d;++a)ts(s,l[a]);var f=s._PSD;--f.ref||f.finalize(),fn===0&&(++fn,Et(function(){--fn==0&&Fr()},[]))}function ts(s,l){if(s._state!==null){var a=s._state?l.onFulfilled:l.onRejected;if(a===null)return(s._state?l.resolve:l.reject)(s._value);++l.psd.ref,++fn,Et(ia,[a,s,l])}else s._listeners.push(l)}function ia(s,l,a){try{var d,f=l._value;!l._state&&Ir.length&&(Ir=[]),d=Ft&&l._consoleTask?l._consoleTask.run(function(){return s(f)}):s(f),l._state||Ir.indexOf(f)!==-1||function(m){for(var y=Mt.length;y;)if(Mt[--y]._value===m._value)return Mt.splice(y,1)}(l),a.resolve(d)}catch(m){a.reject(m)}finally{--fn==0&&Fr(),--a.psd.ref||a.psd.finalize()}}function sa(){pn(Ht,function(){nr()&&en()})}function nr(){var s=Wt;return dn=Wt=!1,s}function en(){var s,l,a;do for(;0<Nn.length;)for(s=Nn,Nn=[],a=s.length,l=0;l<a;++l){var d=s[l];d[0].apply(null,d[1])}while(0<Nn.length);dn=Wt=!0}function Fr(){var s=Mt;Mt=[],s.forEach(function(d){d._PSD.onunhandled.call(null,d._value,d)});for(var l=Fn.slice(0),a=l.length;a;)l[--a]()}function ui(s){return new fe(er,!1,s)}function Be(s,l){var a=ye;return function(){var d=nr(),f=ye;try{return Cn(a,!0),s.apply(this,arguments)}catch(m){l&&l(m)}finally{Cn(f,!1),d&&en()}}}E(fe.prototype,{then:Ji,_then:function(s,l){ts(this,new Zi(null,null,s,l,ye))},catch:function(s){if(arguments.length===1)return this.then(null,s);var l=s,a=arguments[1];return typeof l=="function"?this.then(null,function(d){return(d instanceof l?a:ui)(d)}):this.then(null,function(d){return(d&&d.name===l?a:ui)(d)})},finally:function(s){return this.then(function(l){return fe.resolve(s()).then(function(){return l})},function(l){return fe.resolve(s()).then(function(){return ui(l)})})},timeout:function(s,l){var a=this;return s<1/0?new fe(function(d,f){var m=setTimeout(function(){return f(new D.Timeout(l))},s);a.then(d,f).finally(clearTimeout.bind(null,m))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&A(fe.prototype,Symbol.toStringTag,"Dexie.Promise"),Ht.env=sr(),E(fe,{all:function(){var s=ne.apply(null,arguments).map(Mn);return new fe(function(l,a){s.length===0&&l([]);var d=s.length;s.forEach(function(f,m){return fe.resolve(f).then(function(y){s[m]=y,--d||l(s)},a)})})},resolve:function(s){return s instanceof fe?s:s&&typeof s.then=="function"?new fe(function(l,a){s.then(l,a)}):new fe(er,!0,s)},reject:ui,race:function(){var s=ne.apply(null,arguments).map(Mn);return new fe(function(l,a){s.map(function(d){return fe.resolve(d).then(l,a)})})},PSD:{get:function(){return ye},set:function(s){return ye=s}},totalEchoes:{get:function(){return pt}},newPSD:_t,usePSD:pn,scheduler:{get:function(){return Et},set:function(s){Et=s}},rejectionMapper:{get:function(){return ai},set:function(s){ai=s}},follow:function(s,l){return new fe(function(a,d){return _t(function(f,m){var y=ye;y.unhandleds=[],y.onunhandled=m,y.finalize=ot(function(){var w,C=this;w=function(){C.unhandleds.length===0?f():m(C.unhandleds[0])},Fn.push(function _(){w(),Fn.splice(Fn.indexOf(_),1)}),++fn,Et(function(){--fn==0&&Fr()},[])},y.finalize),s()},l,a,d)})}}),cn&&(cn.allSettled&&A(fe,"allSettled",function(){var s=ne.apply(null,arguments).map(Mn);return new fe(function(l){s.length===0&&l([]);var a=s.length,d=new Array(a);s.forEach(function(f,m){return fe.resolve(f).then(function(y){return d[m]={status:"fulfilled",value:y}},function(y){return d[m]={status:"rejected",reason:y}}).then(function(){return--a||l(d)})})})}),cn.any&&typeof AggregateError<"u"&&A(fe,"any",function(){var s=ne.apply(null,arguments).map(Mn);return new fe(function(l,a){s.length===0&&a(new AggregateError([]));var d=s.length,f=new Array(d);s.forEach(function(m,y){return fe.resolve(m).then(function(w){return l(w)},function(w){f[y]=w,--d||a(new AggregateError(f))})})})}),cn.withResolvers&&(fe.withResolvers=cn.withResolvers));var et={awaits:0,echoes:0,id:0},lo=0,Mr=[],rr=0,pt=0,ir=0;function _t(s,l,a,d){var f=ye,m=Object.create(f);return m.parent=f,m.ref=0,m.global=!1,m.id=++ir,Ht.env,m.env=Lr?{Promise:fe,PromiseProp:{value:fe,configurable:!0,writable:!0},all:fe.all,race:fe.race,allSettled:fe.allSettled,any:fe.any,resolve:fe.resolve,reject:fe.reject}:{},l&&p(m,l),++f.ref,m.finalize=function(){--this.parent.ref||this.parent.finalize()},d=pn(m,s,a,d),m.ref===0&&m.finalize(),d}function hn(){return et.id||(et.id=++lo),++et.awaits,et.echoes+=Gi,et.id}function tn(){return!!et.awaits&&(--et.awaits==0&&(et.id=0),et.echoes=et.awaits*Gi,!0)}function Mn(s){return et.echoes&&s&&s.constructor===cn?(hn(),s.then(function(l){return tn(),l},function(l){return tn(),K(l)})):s}function ao(){var s=Mr[Mr.length-1];Mr.pop(),Cn(s,!1)}function Cn(s,l){var a,d=ye;(l?!et.echoes||rr++&&s===ye:!rr||--rr&&s===ye)||queueMicrotask(l?(function(f){++pt,et.echoes&&--et.echoes!=0||(et.echoes=et.awaits=et.id=0),Mr.push(ye),Cn(f,!0)}).bind(null,s):ao),s!==ye&&(ye=s,d===Ht&&(Ht.env=sr()),Lr&&(a=Ht.env.Promise,l=s.env,(d.global||s.global)&&(Object.defineProperty(o,"Promise",l.PromiseProp),a.all=l.all,a.race=l.race,a.resolve=l.resolve,a.reject=l.reject,l.allSettled&&(a.allSettled=l.allSettled),l.any&&(a.any=l.any))))}function sr(){var s=o.Promise;return Lr?{Promise:s,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:s.all,race:s.race,allSettled:s.allSettled,any:s.any,resolve:s.resolve,reject:s.reject}:{}}function pn(s,l,a,d,f){var m=ye;try{return Cn(s,!0),l(a,d,f)}finally{Cn(m,!1)}}function T(s,l,a,d){return typeof s!="function"?s:function(){var f=ye;a&&hn(),Cn(l,!0);try{return s.apply(this,arguments)}finally{Cn(f,!1),d&&queueMicrotask(tn)}}}function ue(s){Promise===cn&&et.echoes===0?rr===0?s():enqueueNativeMicroTask(s):setTimeout(s,0)}(""+nn).indexOf("[native code]")===-1&&(hn=tn=ge);var K=fe.reject,be="",Pe="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ke="String expected.",Re=[],Ar="__dbnames",oa="readonly",la="readwrite";function zr(s,l){return s?l?function(){return s.apply(this,arguments)&&l.apply(this,arguments)}:s:l}var gd={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function uo(s){return typeof s!="string"||/\./.test(s)?function(l){return l}:function(l){return l[s]===void 0&&s in l&&delete(l=oe(l))[s],l}}function xd(){throw D.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Fe(s,l){try{var a=wd(s),d=wd(l);if(a!==d)return a==="Array"?1:d==="Array"?-1:a==="binary"?1:d==="binary"?-1:a==="string"?1:d==="string"?-1:a==="Date"?1:d!=="Date"?NaN:-1;switch(a){case"number":case"Date":case"string":return l<s?1:s<l?-1:0;case"binary":return function(f,m){for(var y=f.length,w=m.length,C=y<w?y:w,_=0;_<C;++_)if(f[_]!==m[_])return f[_]<m[_]?-1:1;return y===w?0:y<w?-1:1}(bd(s),bd(l));case"Array":return function(f,m){for(var y=f.length,w=m.length,C=y<w?y:w,_=0;_<C;++_){var L=Fe(f[_],m[_]);if(L!==0)return L}return y===w?0:y<w?-1:1}(s,l)}}catch{}return NaN}function wd(s){var l=typeof s;return l!="object"?l:ArrayBuffer.isView(s)?"binary":(s=ee(s),s==="ArrayBuffer"?"binary":s)}function bd(s){return s instanceof Uint8Array?s:ArrayBuffer.isView(s)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s)}function co(s,l,a){var d=s.schema.yProps;return d?(l&&0<a.numFailures&&(l=l.filter(function(f,m){return!a.failures[m]})),Promise.all(d.map(function(f){return f=f.updatesTable,l?s.db.table(f).where("k").anyOf(l).delete():s.db.table(f).clear()})).then(function(){return a})):a}var ns=(Sd.prototype.execute=function(s){var l=this["@@propmod"];if(l.add!==void 0){var a=l.add;if(h(a))return i(i([],h(s)?s:[],!0),a).sort();if(typeof a=="number")return(Number(s)||0)+a;if(typeof a=="bigint")try{return BigInt(s)+a}catch{return BigInt(0)+a}throw new TypeError("Invalid term ".concat(a))}if(l.remove!==void 0){var d=l.remove;if(h(d))return h(s)?s.filter(function(f){return!d.includes(f)}).sort():[];if(typeof d=="number")return Number(s)-d;if(typeof d=="bigint")try{return BigInt(s)-d}catch{return BigInt(0)-d}throw new TypeError("Invalid subtrahend ".concat(d))}return a=(a=l.replacePrefix)===null||a===void 0?void 0:a[0],a&&typeof s=="string"&&s.startsWith(a)?l.replacePrefix[1]+s.substring(a.length):s},Sd);function Sd(s){this["@@propmod"]=s}function kd(s,l){for(var a=c(l),d=a.length,f=!1,m=0;m<d;++m){var y=a[m],w=l[y],C=Q(s,y);w instanceof ns?(J(s,y,w.execute(C)),f=!0):C!==w&&(J(s,y,w),f=!0)}return f}var jd=(Ke.prototype._trans=function(s,l,a){var d=this._tx||ye.trans,f=this.name,m=Ft&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(s==="readonly"?"read":"write"," ").concat(this.name));function y(_,L,j){if(!j.schema[f])throw new D.NotFound("Table "+f+" not part of transaction");return l(j.idbtrans,j)}var w=nr();try{var C=d&&d.db._novip===this.db._novip?d===ye.trans?d._promise(s,y,a):_t(function(){return d._promise(s,y,a)},{trans:d,transless:ye.transless||ye}):function _(L,j,F,P){if(L.idbdb&&(L._state.openComplete||ye.letThrough||L._vip)){var R=L._createTransaction(j,F,L._dbSchema);try{R.create(),L._state.PR1398_maxLoop=3}catch(O){return O.name===It.InvalidState&&L.isOpen()&&0<--L._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),L.close({disableAutoOpen:!1}),L.open().then(function(){return _(L,j,F,P)})):K(O)}return R._promise(j,function(O,I){return _t(function(){return ye.trans=R,P(O,I,R)})}).then(function(O){if(j==="readwrite")try{R.idbtrans.commit()}catch{}return j==="readonly"?O:R._completion.then(function(){return O})})}if(L._state.openComplete)return K(new D.DatabaseClosed(L._state.dbOpenError));if(!L._state.isBeingOpened){if(!L._state.autoOpen)return K(new D.DatabaseClosed);L.open().catch(ge)}return L._state.dbReadyPromise.then(function(){return _(L,j,F,P)})}(this.db,s,[this.name],y);return m&&(C._consoleTask=m,C=C.catch(function(_){return console.trace(_),K(_)})),C}finally{w&&en()}},Ke.prototype.get=function(s,l){var a=this;return s&&s.constructor===Object?this.where(s).first(l):s==null?K(new D.Type("Invalid argument to Table.get()")):this._trans("readonly",function(d){return a.core.get({trans:d,key:s}).then(function(f){return a.hook.reading.fire(f)})}).then(l)},Ke.prototype.where=function(s){if(typeof s=="string")return new this.db.WhereClause(this,s);if(h(s))return new this.db.WhereClause(this,"[".concat(s.join("+"),"]"));var l=c(s);if(l.length===1)return this.where(l[0]).equals(s[l[0]]);var a=this.schema.indexes.concat(this.schema.primKey).filter(function(w){if(w.compound&&l.every(function(_){return 0<=w.keyPath.indexOf(_)})){for(var C=0;C<l.length;++C)if(l.indexOf(w.keyPath[C])===-1)return!1;return!0}return!1}).sort(function(w,C){return w.keyPath.length-C.keyPath.length})[0];if(a&&this.db._maxKey!==be){var m=a.keyPath.slice(0,l.length);return this.where(m).equals(m.map(function(C){return s[C]}))}!a&&Ft&&console.warn("The query ".concat(JSON.stringify(s)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(l.join("+"),"]"));var d=this.schema.idxByName;function f(w,C){return Fe(w,C)===0}var y=l.reduce(function(j,C){var _=j[0],L=j[1],j=d[C],F=s[C];return[_||j,_||!j?zr(L,j&&j.multi?function(P){return P=Q(P,C),h(P)&&P.some(function(R){return f(F,R)})}:function(P){return f(F,Q(P,C))}):L]},[null,null]),m=y[0],y=y[1];return m?this.where(m.name).equals(s[m.keyPath]).filter(y):a?this.filter(y):this.where(l).equals("")},Ke.prototype.filter=function(s){return this.toCollection().and(s)},Ke.prototype.count=function(s){return this.toCollection().count(s)},Ke.prototype.offset=function(s){return this.toCollection().offset(s)},Ke.prototype.limit=function(s){return this.toCollection().limit(s)},Ke.prototype.each=function(s){return this.toCollection().each(s)},Ke.prototype.toArray=function(s){return this.toCollection().toArray(s)},Ke.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Ke.prototype.orderBy=function(s){return new this.db.Collection(new this.db.WhereClause(this,h(s)?"[".concat(s.join("+"),"]"):s))},Ke.prototype.reverse=function(){return this.toCollection().reverse()},Ke.prototype.mapToClass=function(s){var l,a=this.db,d=this.name;function f(){return l!==null&&l.apply(this,arguments)||this}(this.schema.mappedClass=s).prototype instanceof xd&&(function(C,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function L(){this.constructor=C}n(C,_),C.prototype=_===null?Object.create(_):(L.prototype=_.prototype,new L)}(f,l=s),Object.defineProperty(f.prototype,"db",{get:function(){return a},enumerable:!1,configurable:!0}),f.prototype.table=function(){return d},s=f);for(var m=new Set,y=s.prototype;y;y=g(y))Object.getOwnPropertyNames(y).forEach(function(C){return m.add(C)});function w(C){if(!C)return C;var _,L=Object.create(s.prototype);for(_ in C)if(!m.has(_))try{L[_]=C[_]}catch{}return L}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=w,this.hook("reading",w),s},Ke.prototype.defineClass=function(){return this.mapToClass(function(s){p(this,s)})},Ke.prototype.add=function(s,l){var a=this,d=this.schema.primKey,f=d.auto,m=d.keyPath,y=s;return m&&f&&(y=uo(m)(s)),this._trans("readwrite",function(w){return a.core.mutate({trans:w,type:"add",keys:l!=null?[l]:null,values:[y]})}).then(function(w){return w.numFailures?fe.reject(w.failures[0]):w.lastResult}).then(function(w){if(m)try{J(s,m,w)}catch{}return w})},Ke.prototype.upsert=function(s,l){var a=this,d=this.schema.primKey.keyPath;return this._trans("readwrite",function(f){return a.core.get({trans:f,key:s}).then(function(m){var y=m??{};return kd(y,l),d&&J(y,d,s),a.core.mutate({trans:f,type:"put",values:[y],keys:[s],upsert:!0,updates:{keys:[s],changeSpecs:[l]}}).then(function(w){return w.numFailures?fe.reject(w.failures[0]):!!m})})})},Ke.prototype.update=function(s,l){return typeof s!="object"||h(s)?this.where(":id").equals(s).modify(l):(s=Q(s,this.schema.primKey.keyPath),s===void 0?K(new D.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(s).modify(l))},Ke.prototype.put=function(s,l){var a=this,d=this.schema.primKey,f=d.auto,m=d.keyPath,y=s;return m&&f&&(y=uo(m)(s)),this._trans("readwrite",function(w){return a.core.mutate({trans:w,type:"put",values:[y],keys:l!=null?[l]:null})}).then(function(w){return w.numFailures?fe.reject(w.failures[0]):w.lastResult}).then(function(w){if(m)try{J(s,m,w)}catch{}return w})},Ke.prototype.delete=function(s){var l=this;return this._trans("readwrite",function(a){return l.core.mutate({trans:a,type:"delete",keys:[s]}).then(function(d){return co(l,[s],d)}).then(function(d){return d.numFailures?fe.reject(d.failures[0]):void 0})})},Ke.prototype.clear=function(){var s=this;return this._trans("readwrite",function(l){return s.core.mutate({trans:l,type:"deleteRange",range:gd}).then(function(a){return co(s,null,a)})}).then(function(l){return l.numFailures?fe.reject(l.failures[0]):void 0})},Ke.prototype.bulkGet=function(s){var l=this;return this._trans("readonly",function(a){return l.core.getMany({keys:s,trans:a}).then(function(d){return d.map(function(f){return l.hook.reading.fire(f)})})})},Ke.prototype.bulkAdd=function(s,l,a){var d=this,f=Array.isArray(l)?l:void 0,m=(a=a||(f?void 0:l))?a.allKeys:void 0;return this._trans("readwrite",function(y){var _=d.schema.primKey,w=_.auto,_=_.keyPath;if(_&&f)throw new D.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(f&&f.length!==s.length)throw new D.InvalidArgument("Arguments objects and keys must have the same length");var C=s.length,_=_&&w?s.map(uo(_)):s;return d.core.mutate({trans:y,type:"add",keys:f,values:_,wantResults:m}).then(function(R){var j=R.numFailures,F=R.results,P=R.lastResult,R=R.failures;if(j===0)return m?F:P;throw new ct("".concat(d.name,".bulkAdd(): ").concat(j," of ").concat(C," operations failed"),R)})})},Ke.prototype.bulkPut=function(s,l,a){var d=this,f=Array.isArray(l)?l:void 0,m=(a=a||(f?void 0:l))?a.allKeys:void 0;return this._trans("readwrite",function(y){var _=d.schema.primKey,w=_.auto,_=_.keyPath;if(_&&f)throw new D.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(f&&f.length!==s.length)throw new D.InvalidArgument("Arguments objects and keys must have the same length");var C=s.length,_=_&&w?s.map(uo(_)):s;return d.core.mutate({trans:y,type:"put",keys:f,values:_,wantResults:m}).then(function(R){var j=R.numFailures,F=R.results,P=R.lastResult,R=R.failures;if(j===0)return m?F:P;throw new ct("".concat(d.name,".bulkPut(): ").concat(j," of ").concat(C," operations failed"),R)})})},Ke.prototype.bulkUpdate=function(s){var l=this,a=this.core,d=s.map(function(y){return y.key}),f=s.map(function(y){return y.changes}),m=[];return this._trans("readwrite",function(y){return a.getMany({trans:y,keys:d,cache:"clone"}).then(function(w){var C=[],_=[];s.forEach(function(j,F){var P=j.key,R=j.changes,O=w[F];if(O){for(var I=0,M=Object.keys(R);I<M.length;I++){var z=M[I],W=R[z];if(z===l.schema.primKey.keyPath){if(Fe(W,P)!==0)throw new D.Constraint("Cannot update primary key in bulkUpdate()")}else J(O,z,W)}m.push(F),C.push(P),_.push(O)}});var L=C.length;return a.mutate({trans:y,type:"put",keys:C,values:_,updates:{keys:d,changeSpecs:f}}).then(function(j){var F=j.numFailures,P=j.failures;if(F===0)return L;for(var R=0,O=Object.keys(P);R<O.length;R++){var I,M=O[R],z=m[Number(M)];z!=null&&(I=P[M],delete P[M],P[z]=I)}throw new ct("".concat(l.name,".bulkUpdate(): ").concat(F," of ").concat(L," operations failed"),P)})})})},Ke.prototype.bulkDelete=function(s){var l=this,a=s.length;return this._trans("readwrite",function(d){return l.core.mutate({trans:d,type:"delete",keys:s}).then(function(f){return co(l,s,f)})}).then(function(y){var f=y.numFailures,m=y.lastResult,y=y.failures;if(f===0)return m;throw new ct("".concat(l.name,".bulkDelete(): ").concat(f," of ").concat(a," operations failed"),y)})},Ke);function Ke(){}function rs(s){function l(y,w){if(w){for(var C=arguments.length,_=new Array(C-1);--C;)_[C-1]=arguments[C];return a[y].subscribe.apply(null,_),s}if(typeof y=="string")return a[y]}var a={};l.addEventType=m;for(var d=1,f=arguments.length;d<f;++d)m(arguments[d]);return l;function m(y,w,C){if(typeof y!="object"){var _;w=w||Jn;var L={subscribers:[],fire:C=C||ge,subscribe:function(j){L.subscribers.indexOf(j)===-1&&(L.subscribers.push(j),L.fire=w(L.fire,j))},unsubscribe:function(j){L.subscribers=L.subscribers.filter(function(F){return F!==j}),L.fire=L.subscribers.reduce(w,C)}};return a[y]=l[y]=L}c(_=y).forEach(function(j){var F=_[j];if(h(F))m(j,_[j][0],_[j][1]);else{if(F!=="asap")throw new D.InvalidArgument("Invalid event config");var P=m(j,De,function(){for(var R=arguments.length,O=new Array(R);R--;)O[R]=arguments[R];P.subscribers.forEach(function(I){X(function(){I.apply(null,O)})})})}})}}function is(s,l){return B(l).from({prototype:s}),l}function ci(s,l){return!(s.filter||s.algorithm||s.or)&&(l?s.justLimit:!s.replayFilter)}function aa(s,l){s.filter=zr(s.filter,l)}function ua(s,l,a){var d=s.replayFilter;s.replayFilter=d?function(){return zr(d(),l())}:l,s.justLimit=a&&!d}function fo(s,l){if(s.isPrimKey)return l.primaryKey;var a=l.getIndexByKeyPath(s.index);if(!a)throw new D.Schema("KeyPath "+s.index+" on object store "+l.name+" is not indexed");return a}function Nd(s,l,a){var d=fo(s,l.schema);return l.openCursor({trans:a,values:!s.keysOnly,reverse:s.dir==="prev",unique:!!s.unique,query:{index:d,range:s.range}})}function ho(s,l,a,d){var f=s.replayFilter?zr(s.filter,s.replayFilter()):s.filter;if(s.or){var m={},y=function(w,C,_){var L,j;f&&!f(C,_,function(F){return C.stop(F)},function(F){return C.fail(F)})||((j=""+(L=C.primaryKey))=="[object ArrayBuffer]"&&(j=""+new Uint8Array(L)),b(m,j)||(m[j]=!0,l(w,C,_)))};return Promise.all([s.or._iterate(y,a),Cd(Nd(s,d,a),s.algorithm,y,!s.keysOnly&&s.valueMapper)])}return Cd(Nd(s,d,a),zr(s.algorithm,f),l,!s.keysOnly&&s.valueMapper)}function Cd(s,l,a,d){var f=Be(d?function(m,y,w){return a(d(m),y,w)}:a);return s.then(function(m){if(m)return m.start(function(){var y=function(){return m.continue()};l&&!l(m,function(w){return y=w},function(w){m.stop(w),y=ge},function(w){m.fail(w),y=ge})||f(m.value,m,function(w){return y=w}),y()})})}var wy=(Ae.prototype._read=function(s,l){var a=this._ctx;return a.error?a.table._trans(null,K.bind(null,a.error)):a.table._trans("readonly",s).then(l)},Ae.prototype._write=function(s){var l=this._ctx;return l.error?l.table._trans(null,K.bind(null,l.error)):l.table._trans("readwrite",s,"locked")},Ae.prototype._addAlgorithm=function(s){var l=this._ctx;l.algorithm=zr(l.algorithm,s)},Ae.prototype._iterate=function(s,l){return ho(this._ctx,s,l,this._ctx.table.core)},Ae.prototype.clone=function(s){var l=Object.create(this.constructor.prototype),a=Object.create(this._ctx);return s&&p(a,s),l._ctx=a,l},Ae.prototype.raw=function(){return this._ctx.valueMapper=null,this},Ae.prototype.each=function(s){var l=this._ctx;return this._read(function(a){return ho(l,s,a,l.table.core)})},Ae.prototype.count=function(s){var l=this;return this._read(function(a){var d=l._ctx,f=d.table.core;if(ci(d,!0))return f.count({trans:a,query:{index:fo(d,f.schema),range:d.range}}).then(function(y){return Math.min(y,d.limit)});var m=0;return ho(d,function(){return++m,!1},a,f).then(function(){return m})}).then(s)},Ae.prototype.sortBy=function(s,l){var a=s.split(".").reverse(),d=a[0],f=a.length-1;function m(C,_){return _?m(C[a[_]],_-1):C[d]}var y=this._ctx.dir==="next"?1:-1;function w(C,_){return Fe(m(C,f),m(_,f))*y}return this.toArray(function(C){return C.sort(w)}).then(l)},Ae.prototype.toArray=function(s){var l=this;return this._read(function(a){var d=l._ctx;if(d.dir==="next"&&ci(d,!0)&&0<d.limit){var f=d.valueMapper,m=fo(d,d.table.core.schema);return d.table.core.query({trans:a,limit:d.limit,values:!0,query:{index:m,range:d.range}}).then(function(w){return w=w.result,f?w.map(f):w})}var y=[];return ho(d,function(w){return y.push(w)},a,d.table.core).then(function(){return y})},s)},Ae.prototype.offset=function(s){var l=this._ctx;return s<=0||(l.offset+=s,ci(l)?ua(l,function(){var a=s;return function(d,f){return a===0||(a===1?--a:f(function(){d.advance(a),a=0}),!1)}}):ua(l,function(){var a=s;return function(){return--a<0}})),this},Ae.prototype.limit=function(s){return this._ctx.limit=Math.min(this._ctx.limit,s),ua(this._ctx,function(){var l=s;return function(a,d,f){return--l<=0&&d(f),0<=l}},!0),this},Ae.prototype.until=function(s,l){return aa(this._ctx,function(a,d,f){return!s(a.value)||(d(f),l)}),this},Ae.prototype.first=function(s){return this.limit(1).toArray(function(l){return l[0]}).then(s)},Ae.prototype.last=function(s){return this.reverse().first(s)},Ae.prototype.filter=function(s){var l;return aa(this._ctx,function(a){return s(a.value)}),(l=this._ctx).isMatch=zr(l.isMatch,s),this},Ae.prototype.and=function(s){return this.filter(s)},Ae.prototype.or=function(s){return new this.db.WhereClause(this._ctx.table,s,this)},Ae.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Ae.prototype.desc=function(){return this.reverse()},Ae.prototype.eachKey=function(s){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(a,d){s(d.key,d)})},Ae.prototype.eachUniqueKey=function(s){return this._ctx.unique="unique",this.eachKey(s)},Ae.prototype.eachPrimaryKey=function(s){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(a,d){s(d.primaryKey,d)})},Ae.prototype.keys=function(s){var l=this._ctx;l.keysOnly=!l.isMatch;var a=[];return this.each(function(d,f){a.push(f.key)}).then(function(){return a}).then(s)},Ae.prototype.primaryKeys=function(s){var l=this._ctx;if(l.dir==="next"&&ci(l,!0)&&0<l.limit)return this._read(function(d){var f=fo(l,l.table.core.schema);return l.table.core.query({trans:d,values:!1,limit:l.limit,query:{index:f,range:l.range}})}).then(function(d){return d.result}).then(s);l.keysOnly=!l.isMatch;var a=[];return this.each(function(d,f){a.push(f.primaryKey)}).then(function(){return a}).then(s)},Ae.prototype.uniqueKeys=function(s){return this._ctx.unique="unique",this.keys(s)},Ae.prototype.firstKey=function(s){return this.limit(1).keys(function(l){return l[0]}).then(s)},Ae.prototype.lastKey=function(s){return this.reverse().firstKey(s)},Ae.prototype.distinct=function(){var s=this._ctx,s=s.index&&s.table.schema.idxByName[s.index];if(!s||!s.multi)return this;var l={};return aa(this._ctx,function(f){var d=f.primaryKey.toString(),f=b(l,d);return l[d]=!0,!f}),this},Ae.prototype.modify=function(s){var l=this,a=this._ctx;return this._write(function(d){var f=typeof s=="function"?s:function(O){return kd(O,s)},m=a.table.core,_=m.schema.primaryKey,y=_.outbound,w=_.extractKey,C=200,_=l.db._options.modifyChunkSize;_&&(C=typeof _=="object"?_[m.name]||_["*"]||200:_);function L(O,z){var M=z.failures,z=z.numFailures;F+=O-z;for(var W=0,V=c(M);W<V.length;W++){var se=V[W];j.push(M[se])}}var j=[],F=0,P=[],R=s===Ed;return l.clone().primaryKeys().then(function(O){function I(z){var W=Math.min(C,O.length-z),V=O.slice(z,z+W);return(R?Promise.resolve([]):m.getMany({trans:d,keys:V,cache:"immutable"})).then(function(se){var ce=[],te=[],le=y?[]:null,de=R?V:[];if(!R)for(var ae=0;ae<W;++ae){var pe=se[ae],_e={value:oe(pe),primKey:O[z+ae]};f.call(_e,_e.value,_e)!==!1&&(_e.value==null?de.push(O[z+ae]):y||Fe(w(pe),w(_e.value))===0?(te.push(_e.value),y&&le.push(O[z+ae])):(de.push(O[z+ae]),ce.push(_e.value)))}return Promise.resolve(0<ce.length&&m.mutate({trans:d,type:"add",values:ce}).then(function(Te){for(var Oe in Te.failures)de.splice(parseInt(Oe),1);L(ce.length,Te)})).then(function(){return(0<te.length||M&&typeof s=="object")&&m.mutate({trans:d,type:"put",keys:le,values:te,criteria:M,changeSpec:typeof s!="function"&&s,isAdditionalChunk:0<z}).then(function(Te){return L(te.length,Te)})}).then(function(){return(0<de.length||M&&R)&&m.mutate({trans:d,type:"delete",keys:de,criteria:M,isAdditionalChunk:0<z}).then(function(Te){return co(a.table,de,Te)}).then(function(Te){return L(de.length,Te)})}).then(function(){return O.length>z+W&&I(z+C)})})}var M=ci(a)&&a.limit===1/0&&(typeof s!="function"||R)&&{index:a.index,range:a.range};return I(0).then(function(){if(0<j.length)throw new ut("Error modifying one or more objects",j,F,P);return O.length})})})},Ae.prototype.delete=function(){var s=this._ctx,l=s.range;return!ci(s)||s.table.schema.yProps||!s.isPrimKey&&l.type!==3?this.modify(Ed):this._write(function(a){var d=s.table.core.schema.primaryKey,f=l;return s.table.core.count({trans:a,query:{index:d,range:f}}).then(function(m){return s.table.core.mutate({trans:a,type:"deleteRange",range:f}).then(function(C){var w=C.failures,C=C.numFailures;if(C)throw new ut("Could not delete some values",Object.keys(w).map(function(_){return w[_]}),m-C);return m-C})})})},Ae);function Ae(){}var Ed=function(s,l){return l.value=null};function by(s,l){return s<l?-1:s===l?0:1}function Sy(s,l){return l<s?-1:s===l?0:1}function Vt(s,l,a){return s=s instanceof Pd?new s.Collection(s):s,s._ctx.error=new(a||TypeError)(l),s}function di(s){return new s.Collection(s,function(){return _d("")}).limit(0)}function po(s,l,a,d){var f,m,y,w,C,_,L,j=a.length;if(!a.every(function(R){return typeof R=="string"}))return Vt(s,ke);function F(R){f=R==="next"?function(I){return I.toUpperCase()}:function(I){return I.toLowerCase()},m=R==="next"?function(I){return I.toLowerCase()}:function(I){return I.toUpperCase()},y=R==="next"?by:Sy;var O=a.map(function(I){return{lower:m(I),upper:f(I)}}).sort(function(I,M){return y(I.lower,M.lower)});w=O.map(function(I){return I.upper}),C=O.map(function(I){return I.lower}),L=(_=R)==="next"?"":d}F("next"),s=new s.Collection(s,function(){return or(w[0],C[j-1]+d)}),s._ondirectionchange=function(R){F(R)};var P=0;return s._addAlgorithm(function(R,O,I){var M=R.key;if(typeof M!="string")return!1;var z=m(M);if(l(z,C,P))return!0;for(var W=null,V=P;V<j;++V){var se=function(ce,te,le,de,ae,pe){for(var _e=Math.min(ce.length,de.length),Te=-1,Oe=0;Oe<_e;++Oe){var qt=te[Oe];if(qt!==de[Oe])return ae(ce[Oe],le[Oe])<0?ce.substr(0,Oe)+le[Oe]+le.substr(Oe+1):ae(ce[Oe],de[Oe])<0?ce.substr(0,Oe)+de[Oe]+le.substr(Oe+1):0<=Te?ce.substr(0,Te)+te[Te]+le.substr(Te+1):null;ae(ce[Oe],qt)<0&&(Te=Oe)}return _e<de.length&&pe==="next"?ce+le.substr(ce.length):_e<ce.length&&pe==="prev"?ce.substr(0,le.length):Te<0?null:ce.substr(0,Te)+de[Te]+le.substr(Te+1)}(M,z,w[V],C[V],y,_);se===null&&W===null?P=V+1:(W===null||0<y(W,se))&&(W=se)}return O(W!==null?function(){R.continue(W+L)}:I),!1}),s}function or(s,l,a,d){return{type:2,lower:s,upper:l,lowerOpen:a,upperOpen:d}}function _d(s){return{type:1,lower:s,upper:s}}var Pd=(Object.defineProperty(dt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),dt.prototype.between=function(s,l,a,d){a=a!==!1,d=d===!0;try{return 0<this._cmp(s,l)||this._cmp(s,l)===0&&(a||d)&&(!a||!d)?di(this):new this.Collection(this,function(){return or(s,l,!a,!d)})}catch{return Vt(this,Pe)}},dt.prototype.equals=function(s){return s==null?Vt(this,Pe):new this.Collection(this,function(){return _d(s)})},dt.prototype.above=function(s){return s==null?Vt(this,Pe):new this.Collection(this,function(){return or(s,void 0,!0)})},dt.prototype.aboveOrEqual=function(s){return s==null?Vt(this,Pe):new this.Collection(this,function(){return or(s,void 0,!1)})},dt.prototype.below=function(s){return s==null?Vt(this,Pe):new this.Collection(this,function(){return or(void 0,s,!1,!0)})},dt.prototype.belowOrEqual=function(s){return s==null?Vt(this,Pe):new this.Collection(this,function(){return or(void 0,s)})},dt.prototype.startsWith=function(s){return typeof s!="string"?Vt(this,ke):this.between(s,s+be,!0,!0)},dt.prototype.startsWithIgnoreCase=function(s){return s===""?this.startsWith(s):po(this,function(l,a){return l.indexOf(a[0])===0},[s],be)},dt.prototype.equalsIgnoreCase=function(s){return po(this,function(l,a){return l===a[0]},[s],"")},dt.prototype.anyOfIgnoreCase=function(){var s=ne.apply(ie,arguments);return s.length===0?di(this):po(this,function(l,a){return a.indexOf(l)!==-1},s,"")},dt.prototype.startsWithAnyOfIgnoreCase=function(){var s=ne.apply(ie,arguments);return s.length===0?di(this):po(this,function(l,a){return a.some(function(d){return l.indexOf(d)===0})},s,be)},dt.prototype.anyOf=function(){var s=this,l=ne.apply(ie,arguments),a=this._cmp;try{l.sort(a)}catch{return Vt(this,Pe)}if(l.length===0)return di(this);var d=new this.Collection(this,function(){return or(l[0],l[l.length-1])});d._ondirectionchange=function(m){a=m==="next"?s._ascending:s._descending,l.sort(a)};var f=0;return d._addAlgorithm(function(m,y,w){for(var C=m.key;0<a(C,l[f]);)if(++f===l.length)return y(w),!1;return a(C,l[f])===0||(y(function(){m.continue(l[f])}),!1)}),d},dt.prototype.notEqual=function(s){return this.inAnyRange([[-1/0,s],[s,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},dt.prototype.noneOf=function(){var s=ne.apply(ie,arguments);if(s.length===0)return new this.Collection(this);try{s.sort(this._ascending)}catch{return Vt(this,Pe)}var l=s.reduce(function(a,d){return a?a.concat([[a[a.length-1][1],d]]):[[-1/0,d]]},null);return l.push([s[s.length-1],this.db._maxKey]),this.inAnyRange(l,{includeLowers:!1,includeUppers:!1})},dt.prototype.inAnyRange=function(M,l){var a=this,d=this._cmp,f=this._ascending,m=this._descending,y=this._min,w=this._max;if(M.length===0)return di(this);if(!M.every(function(z){return z[0]!==void 0&&z[1]!==void 0&&f(z[0],z[1])<=0}))return Vt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",D.InvalidArgument);var C=!l||l.includeLowers!==!1,_=l&&l.includeUppers===!0,L,j=f;function F(z,W){return j(z[0],W[0])}try{(L=M.reduce(function(z,W){for(var V=0,se=z.length;V<se;++V){var ce=z[V];if(d(W[0],ce[1])<0&&0<d(W[1],ce[0])){ce[0]=y(ce[0],W[0]),ce[1]=w(ce[1],W[1]);break}}return V===se&&z.push(W),z},[])).sort(F)}catch{return Vt(this,Pe)}var P=0,R=_?function(z){return 0<f(z,L[P][1])}:function(z){return 0<=f(z,L[P][1])},O=C?function(z){return 0<m(z,L[P][0])}:function(z){return 0<=m(z,L[P][0])},I=R,M=new this.Collection(this,function(){return or(L[0][0],L[L.length-1][1],!C,!_)});return M._ondirectionchange=function(z){j=z==="next"?(I=R,f):(I=O,m),L.sort(F)},M._addAlgorithm(function(z,W,V){for(var se,ce=z.key;I(ce);)if(++P===L.length)return W(V),!1;return!R(se=ce)&&!O(se)||(a._cmp(ce,L[P][1])===0||a._cmp(ce,L[P][0])===0||W(function(){j===f?z.continue(L[P][0]):z.continue(L[P][1])}),!1)}),M},dt.prototype.startsWithAnyOf=function(){var s=ne.apply(ie,arguments);return s.every(function(l){return typeof l=="string"})?s.length===0?di(this):this.inAnyRange(s.map(function(l){return[l,l+be]})):Vt(this,"startsWithAnyOf() only works with strings")},dt);function dt(){}function En(s){return Be(function(l){return ss(l),s(l.target.error),!1})}function ss(s){s.stopPropagation&&s.stopPropagation(),s.preventDefault&&s.preventDefault()}var os="storagemutated",ca="x-storagemutated-1",lr=rs(null,os),ky=(_n.prototype._lock=function(){return $(!ye.global),++this._reculock,this._reculock!==1||ye.global||(ye.lockOwnerFor=this),this},_n.prototype._unlock=function(){if($(!ye.global),--this._reculock==0)for(ye.global||(ye.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var s=this._blockedFuncs.shift();try{pn(s[1],s[0])}catch{}}return this},_n.prototype._locked=function(){return this._reculock&&ye.lockOwnerFor!==this},_n.prototype.create=function(s){var l=this;if(!this.mode)return this;var a=this.db.idbdb,d=this.db._state.dbOpenError;if($(!this.idbtrans),!s&&!a)switch(d&&d.name){case"DatabaseClosedError":throw new D.DatabaseClosed(d);case"MissingAPIError":throw new D.MissingAPI(d.message,d);default:throw new D.OpenFailed(d)}if(!this.active)throw new D.TransactionInactive;return $(this._completion._state===null),(s=this.idbtrans=s||(this.db.core||a).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Be(function(f){ss(f),l._reject(s.error)}),s.onabort=Be(function(f){ss(f),l.active&&l._reject(new D.Abort(s.error)),l.active=!1,l.on("abort").fire(f)}),s.oncomplete=Be(function(){l.active=!1,l._resolve(),"mutatedParts"in s&&lr.storagemutated.fire(s.mutatedParts)}),this},_n.prototype._promise=function(s,l,a){var d=this;if(s==="readwrite"&&this.mode!=="readwrite")return K(new D.ReadOnly("Transaction is readonly"));if(!this.active)return K(new D.TransactionInactive);if(this._locked())return new fe(function(m,y){d._blockedFuncs.push([function(){d._promise(s,l,a).then(m,y)},ye])});if(a)return _t(function(){var m=new fe(function(y,w){d._lock();var C=l(y,w,d);C&&C.then&&C.then(y,w)});return m.finally(function(){return d._unlock()}),m._lib=!0,m});var f=new fe(function(m,y){var w=l(m,y,d);w&&w.then&&w.then(m,y)});return f._lib=!0,f},_n.prototype._root=function(){return this.parent?this.parent._root():this},_n.prototype.waitFor=function(s){var l,a=this._root(),d=fe.resolve(s);a._waitingFor?a._waitingFor=a._waitingFor.then(function(){return d}):(a._waitingFor=d,a._waitingQueue=[],l=a.idbtrans.objectStore(a.storeNames[0]),function m(){for(++a._spinCount;a._waitingQueue.length;)a._waitingQueue.shift()();a._waitingFor&&(l.get(-1/0).onsuccess=m)}());var f=a._waitingFor;return new fe(function(m,y){d.then(function(w){return a._waitingQueue.push(Be(m.bind(null,w)))},function(w){return a._waitingQueue.push(Be(y.bind(null,w)))}).finally(function(){a._waitingFor===f&&(a._waitingFor=null)})})},_n.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new D.Abort))},_n.prototype.table=function(s){var l=this._memoizedTables||(this._memoizedTables={});if(b(l,s))return l[s];var a=this.schema[s];if(!a)throw new D.NotFound("Table "+s+" not part of transaction");return a=new this.db.Table(s,a,this),a.core=this.db.core.table(s),l[s]=a},_n);function _n(){}function da(s,l,a,d,f,m,y,w){return{name:s,keyPath:l,unique:a,multi:d,auto:f,compound:m,src:(a&&!y?"&":"")+(d?"*":"")+(f?"++":"")+Td(l),type:w}}function Td(s){return typeof s=="string"?s:s?"["+[].join.call(s,"+")+"]":""}function fa(s,l,a){return{name:s,primKey:l,indexes:a,mappedClass:null,idxByName:(d=function(f){return[f.name,f]},a.reduce(function(f,m,y){return y=d(m,y),y&&(f[y[0]]=y[1]),f},{}))};var d}var ls=function(s){try{return s.only([[]]),ls=function(){return[[]]},[[]]}catch{return ls=function(){return be},be}};function ha(s){return s==null?function(){}:typeof s=="string"?(l=s).split(".").length===1?function(a){return a[l]}:function(a){return Q(a,l)}:function(a){return Q(a,s)};var l}function Rd(s){return[].slice.call(s)}var jy=0;function as(s){return s==null?":id":typeof s=="string"?s:"[".concat(s.join("+"),"]")}function Ny(s,l,C){function d(I){if(I.type===3)return null;if(I.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var P=I.lower,R=I.upper,O=I.lowerOpen,I=I.upperOpen;return P===void 0?R===void 0?null:l.upperBound(R,!!I):R===void 0?l.lowerBound(P,!!O):l.bound(P,R,!!O,!!I)}function f(F){var P,R=F.name;return{name:R,schema:F,mutate:function(O){var I=O.trans,M=O.type,z=O.keys,W=O.values,V=O.range;return new Promise(function(se,ce){se=Be(se);var te=I.objectStore(R),le=te.keyPath==null,de=M==="put"||M==="add";if(!de&&M!=="delete"&&M!=="deleteRange")throw new Error("Invalid operation type: "+M);var ae,pe=(z||W||{length:1}).length;if(z&&W&&z.length!==W.length)throw new Error("Given keys array must have same length as given values array.");if(pe===0)return se({numFailures:0,failures:{},results:[],lastResult:void 0});function _e(Pt){++qt,ss(Pt)}var Te=[],Oe=[],qt=0;if(M==="deleteRange"){if(V.type===4)return se({numFailures:qt,failures:Oe,results:[],lastResult:void 0});V.type===3?Te.push(ae=te.clear()):Te.push(ae=te.delete(d(V)))}else{var le=de?le?[W,z]:[W,null]:[z,null],Ce=le[0],wt=le[1];if(de)for(var bt=0;bt<pe;++bt)Te.push(ae=wt&&wt[bt]!==void 0?te[M](Ce[bt],wt[bt]):te[M](Ce[bt])),ae.onerror=_e;else for(bt=0;bt<pe;++bt)Te.push(ae=te[M](Ce[bt])),ae.onerror=_e}function Co(Pt){Pt=Pt.target.result,Te.forEach(function(Ur,Ra){return Ur.error!=null&&(Oe[Ra]=Ur.error)}),se({numFailures:qt,failures:Oe,results:M==="delete"?z:Te.map(function(Ur){return Ur.result}),lastResult:Pt})}ae.onerror=function(Pt){_e(Pt),Co(Pt)},ae.onsuccess=Co})},getMany:function(O){var I=O.trans,M=O.keys;return new Promise(function(z,W){z=Be(z);for(var V,se=I.objectStore(R),ce=M.length,te=new Array(ce),le=0,de=0,ae=function(Te){Te=Te.target,te[Te._pos]=Te.result,++de===le&&z(te)},pe=En(W),_e=0;_e<ce;++_e)M[_e]!=null&&((V=se.get(M[_e]))._pos=_e,V.onsuccess=ae,V.onerror=pe,++le);le===0&&z(te)})},get:function(O){var I=O.trans,M=O.key;return new Promise(function(z,W){z=Be(z);var V=I.objectStore(R).get(M);V.onsuccess=function(se){return z(se.target.result)},V.onerror=En(W)})},query:(P=_,function(O){return new Promise(function(I,M){I=Be(I);var z,W,V,le=O.trans,se=O.values,ce=O.limit,ae=O.query,te=ce===1/0?void 0:ce,de=ae.index,ae=ae.range,le=le.objectStore(R),de=de.isPrimaryKey?le:le.index(de.name),ae=d(ae);if(ce===0)return I({result:[]});P?((te=se?de.getAll(ae,te):de.getAllKeys(ae,te)).onsuccess=function(pe){return I({result:pe.target.result})},te.onerror=En(M)):(z=0,W=!se&&"openKeyCursor"in de?de.openKeyCursor(ae):de.openCursor(ae),V=[],W.onsuccess=function(pe){var _e=W.result;return _e?(V.push(se?_e.value:_e.primaryKey),++z===ce?I({result:V}):void _e.continue()):I({result:V})},W.onerror=En(M))})}),openCursor:function(O){var I=O.trans,M=O.values,z=O.query,W=O.reverse,V=O.unique;return new Promise(function(se,ce){se=Be(se);var de=z.index,te=z.range,le=I.objectStore(R),le=de.isPrimaryKey?le:le.index(de.name),de=W?V?"prevunique":"prev":V?"nextunique":"next",ae=!M&&"openKeyCursor"in le?le.openKeyCursor(d(te),de):le.openCursor(d(te),de);ae.onerror=En(ce),ae.onsuccess=Be(function(pe){var _e,Te,Oe,qt,Ce=ae.result;Ce?(Ce.___id=++jy,Ce.done=!1,_e=Ce.continue.bind(Ce),Te=(Te=Ce.continuePrimaryKey)&&Te.bind(Ce),Oe=Ce.advance.bind(Ce),qt=function(){throw new Error("Cursor not stopped")},Ce.trans=I,Ce.stop=Ce.continue=Ce.continuePrimaryKey=Ce.advance=function(){throw new Error("Cursor not started")},Ce.fail=Be(ce),Ce.next=function(){var wt=this,bt=1;return this.start(function(){return bt--?wt.continue():wt.stop()}).then(function(){return wt})},Ce.start=function(wt){function bt(){if(ae.result)try{wt()}catch(Pt){Ce.fail(Pt)}else Ce.done=!0,Ce.start=function(){throw new Error("Cursor behind last entry")},Ce.stop()}var Co=new Promise(function(Pt,Ur){Pt=Be(Pt),ae.onerror=En(Ur),Ce.fail=Ur,Ce.stop=function(Ra){Ce.stop=Ce.continue=Ce.continuePrimaryKey=Ce.advance=qt,Pt(Ra)}});return ae.onsuccess=Be(function(Pt){ae.onsuccess=bt,bt()}),Ce.continue=_e,Ce.continuePrimaryKey=Te,Ce.advance=Oe,bt(),Co},se(Ce)):se(null)},ce)})},count:function(O){var I=O.query,M=O.trans,z=I.index,W=I.range;return new Promise(function(V,se){var ce=M.objectStore(R),te=z.isPrimaryKey?ce:ce.index(z.name),ce=d(W),te=ce?te.count(ce):te.count();te.onsuccess=Be(function(le){return V(le.target.result)}),te.onerror=En(se)})}}}var m,y,w,L=(y=C,w=Rd((m=s).objectStoreNames),{schema:{name:m.name,tables:w.map(function(F){return y.objectStore(F)}).map(function(F){var P=F.keyPath,I=F.autoIncrement,R=h(P),O={},I={name:F.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:P==null,compound:R,keyPath:P,autoIncrement:I,unique:!0,extractKey:ha(P)},indexes:Rd(F.indexNames).map(function(M){return F.index(M)}).map(function(V){var z=V.name,W=V.unique,se=V.multiEntry,V=V.keyPath,se={name:z,compound:h(V),keyPath:V,unique:W,multiEntry:se,extractKey:ha(V)};return O[as(V)]=se}),getIndexByKeyPath:function(M){return O[as(M)]}};return O[":id"]=I.primaryKey,P!=null&&(O[as(P)]=I.primaryKey),I})},hasGetAll:0<w.length&&"getAll"in y.objectStore(w[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),C=L.schema,_=L.hasGetAll,L=C.tables.map(f),j={};return L.forEach(function(F){return j[F.name]=F}),{stack:"dbcore",transaction:s.transaction.bind(s),table:function(F){if(!j[F])throw new Error("Table '".concat(F,"' not found"));return j[F]},MIN_KEY:-1/0,MAX_KEY:ls(l),schema:C}}function Cy(s,l,a,d){var f=a.IDBKeyRange;return a.indexedDB,{dbcore:(d=Ny(l,f,d),s.dbcore.reduce(function(m,y){return y=y.create,r(r({},m),y(m))},d))}}function mo(s,d){var a=d.db,d=Cy(s._middlewares,a,s._deps,d);s.core=d.dbcore,s.tables.forEach(function(f){var m=f.name;s.core.schema.tables.some(function(y){return y.name===m})&&(f.core=s.core.table(m),s[m]instanceof s.Table&&(s[m].core=f.core))})}function yo(s,l,a,d){a.forEach(function(f){var m=d[f];l.forEach(function(y){var w=function C(_,L){return q(_,L)||(_=g(_))&&C(_,L)}(y,f);(!w||"value"in w&&w.value===void 0)&&(y===s.Transaction.prototype||y instanceof s.Transaction?A(y,f,{get:function(){return this.table(f)},set:function(C){U(this,f,{value:C,writable:!0,configurable:!0,enumerable:!0})}}):y[f]=new s.Table(f,m))})})}function pa(s,l){l.forEach(function(a){for(var d in a)a[d]instanceof s.Table&&delete a[d]})}function Ey(s,l){return s._cfg.version-l._cfg.version}function _y(s,l,a,d){var f=s._dbSchema;a.objectStoreNames.contains("$meta")&&!f.$meta&&(f.$meta=fa("$meta",Ld("")[0],[]),s._storeNames.push("$meta"));var m=s._createTransaction("readwrite",s._storeNames,f);m.create(a),m._completion.catch(d);var y=m._reject.bind(m),w=ye.transless||ye;_t(function(){return ye.trans=m,ye.transless=w,l!==0?(mo(s,a),_=l,((C=m).storeNames.includes("$meta")?C.table("$meta").get("version").then(function(L){return L??_}):fe.resolve(_)).then(function(L){return F=L,P=m,R=a,O=[],L=(j=s)._versions,I=j._dbSchema=go(0,j.idbdb,R),(L=L.filter(function(M){return M._cfg.version>=F})).length!==0?(L.forEach(function(M){O.push(function(){var z=I,W=M._cfg.dbschema;xo(j,z,R),xo(j,W,R),I=j._dbSchema=W;var V=ma(z,W);V.add.forEach(function(de){ya(R,de[0],de[1].primKey,de[1].indexes)}),V.change.forEach(function(de){if(de.recreate)throw new D.Upgrade("Not yet support for changing primary key");var ae=R.objectStore(de.name);de.add.forEach(function(pe){return vo(ae,pe)}),de.change.forEach(function(pe){ae.deleteIndex(pe.name),vo(ae,pe)}),de.del.forEach(function(pe){return ae.deleteIndex(pe)})});var se=M._cfg.contentUpgrade;if(se&&M._cfg.version>F){mo(j,R),P._memoizedTables={};var ce=re(W);V.del.forEach(function(de){ce[de]=z[de]}),pa(j,[j.Transaction.prototype]),yo(j,[j.Transaction.prototype],c(ce),ce),P.schema=ce;var te,le=xe(se);return le&&hn(),V=fe.follow(function(){var de;(te=se(P))&&le&&(de=tn.bind(null,null),te.then(de,de))}),te&&typeof te.then=="function"?fe.resolve(te):V.then(function(){return te})}}),O.push(function(z){var W,V,se=M._cfg.dbschema;W=se,V=z,[].slice.call(V.db.objectStoreNames).forEach(function(ce){return W[ce]==null&&V.db.deleteObjectStore(ce)}),pa(j,[j.Transaction.prototype]),yo(j,[j.Transaction.prototype],j._storeNames,j._dbSchema),P.schema=j._dbSchema}),O.push(function(z){j.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(j.idbdb.version/10)===M._cfg.version?(j.idbdb.deleteObjectStore("$meta"),delete j._dbSchema.$meta,j._storeNames=j._storeNames.filter(function(W){return W!=="$meta"})):z.objectStore("$meta").put(M._cfg.version,"version"))})}),function M(){return O.length?fe.resolve(O.shift()(P.idbtrans)).then(M):fe.resolve()}().then(function(){Od(I,R)})):fe.resolve();var j,F,P,R,O,I}).catch(y)):(c(f).forEach(function(L){ya(a,L,f[L].primKey,f[L].indexes)}),mo(s,a),void fe.follow(function(){return s.on.populate.fire(m)}).catch(y));var C,_})}function Py(s,l){Od(s._dbSchema,l),l.db.version%10!=0||l.objectStoreNames.contains("$meta")||l.db.createObjectStore("$meta").add(Math.ceil(l.db.version/10-1),"version");var a=go(0,s.idbdb,l);xo(s,s._dbSchema,l);for(var d=0,f=ma(a,s._dbSchema).change;d<f.length;d++){var m=function(y){if(y.change.length||y.recreate)return console.warn("Unable to patch indexes of table ".concat(y.name," because it has changes on the type of index or primary key.")),{value:void 0};var w=l.objectStore(y.name);y.add.forEach(function(C){Ft&&console.debug("Dexie upgrade patch: Creating missing index ".concat(y.name,".").concat(C.src)),vo(w,C)})}(f[d]);if(typeof m=="object")return m.value}}function ma(s,l){var a,d={del:[],add:[],change:[]};for(a in s)l[a]||d.del.push(a);for(a in l){var f=s[a],m=l[a];if(f){var y={name:a,def:m,recreate:!1,del:[],add:[],change:[]};if(""+(f.primKey.keyPath||"")!=""+(m.primKey.keyPath||"")||f.primKey.auto!==m.primKey.auto)y.recreate=!0,d.change.push(y);else{var w=f.idxByName,C=m.idxByName,_=void 0;for(_ in w)C[_]||y.del.push(_);for(_ in C){var L=w[_],j=C[_];L?L.src!==j.src&&y.change.push(j):y.add.push(j)}(0<y.del.length||0<y.add.length||0<y.change.length)&&d.change.push(y)}}else d.add.push([a,m])}return d}function ya(s,l,a,d){var f=s.db.createObjectStore(l,a.keyPath?{keyPath:a.keyPath,autoIncrement:a.auto}:{autoIncrement:a.auto});return d.forEach(function(m){return vo(f,m)}),f}function Od(s,l){c(s).forEach(function(a){l.db.objectStoreNames.contains(a)||(Ft&&console.debug("Dexie: Creating missing table",a),ya(l,a,s[a].primKey,s[a].indexes))})}function vo(s,l){s.createIndex(l.name,l.keyPath,{unique:l.unique,multiEntry:l.multi})}function go(s,l,a){var d={};return v(l.objectStoreNames,0).forEach(function(f){for(var m=a.objectStore(f),y=da(Td(_=m.keyPath),_||"",!0,!1,!!m.autoIncrement,_&&typeof _!="string",!0),w=[],C=0;C<m.indexNames.length;++C){var L=m.index(m.indexNames[C]),_=L.keyPath,L=da(L.name,_,!!L.unique,!!L.multiEntry,!1,_&&typeof _!="string",!1);w.push(L)}d[f]=fa(f,y,w)}),d}function xo(s,l,a){for(var d=a.db.objectStoreNames,f=0;f<d.length;++f){var m=d[f],y=a.objectStore(m);s._hasGetAll="getAll"in y;for(var w=0;w<y.indexNames.length;++w){var C=y.indexNames[w],_=y.index(C).keyPath,L=typeof _=="string"?_:"["+v(_).join("+")+"]";!l[m]||(_=l[m].idxByName[L])&&(_.name=C,delete l[m].idxByName[L],l[m].idxByName[C]=_)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(s._hasGetAll=!1)}function Ld(s){return s.split(",").map(function(l,a){var m=l.split(":"),d=(f=m[1])===null||f===void 0?void 0:f.trim(),f=(l=m[0].trim()).replace(/([&*]|\+\+)/g,""),m=/^\[/.test(f)?f.match(/^\[(.*)\]$/)[1].split("+"):f;return da(f,m||null,/\&/.test(l),/\*/.test(l),/\+\+/.test(l),h(m),a===0,d)})}var Ty=(fi.prototype._createTableSchema=fa,fi.prototype._parseIndexSyntax=Ld,fi.prototype._parseStoresSpec=function(s,l){var a=this;c(s).forEach(function(d){if(s[d]!==null){var f=a._parseIndexSyntax(s[d]),m=f.shift();if(!m)throw new D.Schema("Invalid schema for table "+d+": "+s[d]);if(m.unique=!0,m.multi)throw new D.Schema("Primary key cannot be multiEntry*");f.forEach(function(y){if(y.auto)throw new D.Schema("Only primary key can be marked as autoIncrement (++)");if(!y.keyPath)throw new D.Schema("Index must have a name and cannot be an empty string")}),f=a._createTableSchema(d,m,f),l[d]=f}})},fi.prototype.stores=function(a){var l=this.db;this._cfg.storesSource=this._cfg.storesSource?p(this._cfg.storesSource,a):a;var a=l._versions,d={},f={};return a.forEach(function(m){p(d,m._cfg.storesSource),f=m._cfg.dbschema={},m._parseStoresSpec(d,f)}),l._dbSchema=f,pa(l,[l._allTables,l,l.Transaction.prototype]),yo(l,[l._allTables,l,l.Transaction.prototype,this._cfg.tables],c(f),f),l._storeNames=c(f),this},fi.prototype.upgrade=function(s){return this._cfg.contentUpgrade=Zn(this._cfg.contentUpgrade||ge,s),this},fi);function fi(){}function va(s,l){var a=s._dbNamesDB;return a||(a=s._dbNamesDB=new An(Ar,{addons:[],indexedDB:s,IDBKeyRange:l})).version(1).stores({dbnames:"name"}),a.table("dbnames")}function ga(s){return s&&typeof s.databases=="function"}function xa(s){return _t(function(){return ye.letThrough=!0,s()})}function wa(s){return!("from"in s)}var xt=function(s,l){if(!this){var a=new xt;return s&&"d"in s&&p(a,s),a}p(this,arguments.length?{d:1,from:s,to:1<arguments.length?l:s}:{d:0})};function us(s,l,a){var d=Fe(l,a);if(!isNaN(d)){if(0<d)throw RangeError();if(wa(s))return p(s,{from:l,to:a,d:1});var f=s.l,d=s.r;if(Fe(a,s.from)<0)return f?us(f,l,a):s.l={from:l,to:a,d:1,l:null,r:null},Fd(s);if(0<Fe(l,s.to))return d?us(d,l,a):s.r={from:l,to:a,d:1,l:null,r:null},Fd(s);Fe(l,s.from)<0&&(s.from=l,s.l=null,s.d=d?d.d+1:1),0<Fe(a,s.to)&&(s.to=a,s.r=null,s.d=s.l?s.l.d+1:1),a=!s.r,f&&!s.l&&cs(s,f),d&&a&&cs(s,d)}}function cs(s,l){wa(l)||function a(d,C){var m=C.from,y=C.to,w=C.l,C=C.r;us(d,m,y),w&&a(d,w),C&&a(d,C)}(s,l)}function Id(s,l){var a=wo(l),d=a.next();if(d.done)return!1;for(var f=d.value,m=wo(s),y=m.next(f.from),w=y.value;!d.done&&!y.done;){if(Fe(w.from,f.to)<=0&&0<=Fe(w.to,f.from))return!0;Fe(f.from,w.from)<0?f=(d=a.next(w.from)).value:w=(y=m.next(f.from)).value}return!1}function wo(s){var l=wa(s)?null:{s:0,n:s};return{next:function(a){for(var d=0<arguments.length;l;)switch(l.s){case 0:if(l.s=1,d)for(;l.n.l&&Fe(a,l.n.from)<0;)l={up:l,n:l.n.l,s:1};else for(;l.n.l;)l={up:l,n:l.n.l,s:1};case 1:if(l.s=2,!d||Fe(a,l.n.to)<=0)return{value:l.n,done:!1};case 2:if(l.n.r){l.s=3,l={up:l,n:l.n.r,s:0};continue}case 3:l=l.up}return{done:!0}}}}function Fd(s){var l,a,d=(((l=s.r)===null||l===void 0?void 0:l.d)||0)-(((a=s.l)===null||a===void 0?void 0:a.d)||0),f=1<d?"r":d<-1?"l":"";f&&(l=f=="r"?"l":"r",a=r({},s),d=s[f],s.from=d.from,s.to=d.to,s[f]=d[f],a[f]=d[l],(s[l]=a).d=Md(a)),s.d=Md(s)}function Md(a){var l=a.r,a=a.l;return(l?a?Math.max(l.d,a.d):l.d:a?a.d:0)+1}function bo(s,l){return c(l).forEach(function(a){s[a]?cs(s[a],l[a]):s[a]=function d(f){var m,y,w={};for(m in f)b(f,m)&&(y=f[m],w[m]=!y||typeof y!="object"||Ie.has(y.constructor)?y:d(y));return w}(l[a])}),s}function ba(s,l){return s.all||l.all||Object.keys(s).some(function(a){return l[a]&&Id(l[a],s[a])})}E(xt.prototype,((nn={add:function(s){return cs(this,s),this},addKey:function(s){return us(this,s,s),this},addKeys:function(s){var l=this;return s.forEach(function(a){return us(l,a,a)}),this},hasKey:function(s){var l=wo(this).next(s).value;return l&&Fe(l.from,s)<=0&&0<=Fe(l.to,s)}})[Y]=function(){return wo(this)},nn));var Dr={},Sa={},ka=!1;function So(s){bo(Sa,s),ka||(ka=!0,setTimeout(function(){ka=!1,ja(Sa,!(Sa={}))},0))}function ja(s,l){l===void 0&&(l=!1);var a=new Set;if(s.all)for(var d=0,f=Object.values(Dr);d<f.length;d++)Ad(y=f[d],s,a,l);else for(var m in s){var y,w=/^idb\:\/\/(.*)\/(.*)\//.exec(m);w&&(m=w[1],w=w[2],(y=Dr["idb://".concat(m,"/").concat(w)])&&Ad(y,s,a,l))}a.forEach(function(C){return C()})}function Ad(s,l,a,d){for(var f=[],m=0,y=Object.entries(s.queries.query);m<y.length;m++){for(var w=y[m],C=w[0],_=[],L=0,j=w[1];L<j.length;L++){var F=j[L];ba(l,F.obsSet)?F.subscribers.forEach(function(I){return a.add(I)}):d&&_.push(F)}d&&f.push([C,_])}if(d)for(var P=0,R=f;P<R.length;P++){var O=R[P],C=O[0],_=O[1];s.queries.query[C]=_}}function Ry(s){var l=s._state,a=s._deps.indexedDB;if(l.isBeingOpened||s.idbdb)return l.dbReadyPromise.then(function(){return l.dbOpenError?K(l.dbOpenError):s});l.isBeingOpened=!0,l.dbOpenError=null,l.openComplete=!1;var d=l.openCanceller,f=Math.round(10*s.verno),m=!1;function y(){if(l.openCanceller!==d)throw new D.DatabaseClosed("db.open() was cancelled")}function w(){return new fe(function(F,P){if(y(),!a)throw new D.MissingAPI;var R=s.name,O=l.autoSchema||!f?a.open(R):a.open(R,f);if(!O)throw new D.MissingAPI;O.onerror=En(P),O.onblocked=Be(s._fireOnBlocked),O.onupgradeneeded=Be(function(I){var M;L=O.transaction,l.autoSchema&&!s._options.allowEmptyDB?(O.onerror=ss,L.abort(),O.result.close(),(M=a.deleteDatabase(R)).onsuccess=M.onerror=Be(function(){P(new D.NoSuchDatabase("Database ".concat(R," doesnt exist")))})):(L.onerror=En(P),I=I.oldVersion>Math.pow(2,62)?0:I.oldVersion,j=I<1,s.idbdb=O.result,m&&Py(s,L),_y(s,I/10,L,P))},P),O.onsuccess=Be(function(){L=null;var I,M,z,W,V,se=s.idbdb=O.result,ce=v(se.objectStoreNames);if(0<ce.length)try{var te=se.transaction((W=ce).length===1?W[0]:W,"readonly");if(l.autoSchema)M=se,z=te,(I=s).verno=M.version/10,z=I._dbSchema=go(0,M,z),I._storeNames=v(M.objectStoreNames,0),yo(I,[I._allTables],c(z),z);else if(xo(s,s._dbSchema,te),((V=ma(go(0,(V=s).idbdb,te),V._dbSchema)).add.length||V.change.some(function(le){return le.add.length||le.change.length}))&&!m)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),se.close(),f=se.version+1,m=!0,F(w());mo(s,te)}catch{}Re.push(s),se.onversionchange=Be(function(le){l.vcFired=!0,s.on("versionchange").fire(le)}),se.onclose=Be(function(){s.close({disableAutoOpen:!1})}),j&&(V=s._deps,te=R,se=V.indexedDB,V=V.IDBKeyRange,ga(se)||te===Ar||va(se,V).put({name:te}).catch(ge)),F()},P)}).catch(function(F){switch(F==null?void 0:F.name){case"UnknownError":if(0<l.PR1398_maxLoop)return l.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),w();break;case"VersionError":if(0<f)return f=0,w()}return fe.reject(F)})}var C,_=l.dbReadyResolve,L=null,j=!1;return fe.race([d,(typeof navigator>"u"?fe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(F){function P(){return indexedDB.databases().finally(F)}C=setInterval(P,100),P()}).finally(function(){return clearInterval(C)}):Promise.resolve()).then(w)]).then(function(){return y(),l.onReadyBeingFired=[],fe.resolve(xa(function(){return s.on.ready.fire(s.vip)})).then(function F(){if(0<l.onReadyBeingFired.length){var P=l.onReadyBeingFired.reduce(Zn,ge);return l.onReadyBeingFired=[],fe.resolve(xa(function(){return P(s.vip)})).then(F)}})}).finally(function(){l.openCanceller===d&&(l.onReadyBeingFired=null,l.isBeingOpened=!1)}).catch(function(F){l.dbOpenError=F;try{L&&L.abort()}catch{}return d===l.openCanceller&&s._close(),K(F)}).finally(function(){l.openComplete=!0,_()}).then(function(){var F;return j&&(F={},s.tables.forEach(function(P){P.schema.indexes.forEach(function(R){R.name&&(F["idb://".concat(s.name,"/").concat(P.name,"/").concat(R.name)]=new xt(-1/0,[[[]]]))}),F["idb://".concat(s.name,"/").concat(P.name,"/")]=F["idb://".concat(s.name,"/").concat(P.name,"/:dels")]=new xt(-1/0,[[[]]])}),lr(os).fire(F),ja(F,!0)),s})}function Na(s){function l(m){return s.next(m)}var a=f(l),d=f(function(m){return s.throw(m)});function f(m){return function(C){var w=m(C),C=w.value;return w.done?C:C&&typeof C.then=="function"?C.then(a,d):h(C)?Promise.all(C).then(a,d):a(C)}}return f(l)()}function ko(s,l,a){for(var d=h(s)?s.slice():[s],f=0;f<a;++f)d.push(l);return d}var Oy={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(s){return r(r({},s),{table:function(l){var a=s.table(l),d=a.schema,f={},m=[];function y(j,F,P){var R=as(j),O=f[R]=f[R]||[],I=j==null?0:typeof j=="string"?1:j.length,M=0<F,M=r(r({},P),{name:M?"".concat(R,"(virtual-from:").concat(P.name,")"):P.name,lowLevelIndex:P,isVirtual:M,keyTail:F,keyLength:I,extractKey:ha(j),unique:!M&&P.unique});return O.push(M),M.isPrimaryKey||m.push(M),1<I&&y(I===2?j[0]:j.slice(0,I-1),F+1,P),O.sort(function(z,W){return z.keyTail-W.keyTail}),M}l=y(d.primaryKey.keyPath,0,d.primaryKey),f[":id"]=[l];for(var w=0,C=d.indexes;w<C.length;w++){var _=C[w];y(_.keyPath,0,_)}function L(j){var F,P=j.query.index;return P.isVirtual?r(r({},j),{query:{index:P.lowLevelIndex,range:(F=j.query.range,P=P.keyTail,{type:F.type===1?2:F.type,lower:ko(F.lower,F.lowerOpen?s.MAX_KEY:s.MIN_KEY,P),lowerOpen:!0,upper:ko(F.upper,F.upperOpen?s.MIN_KEY:s.MAX_KEY,P),upperOpen:!0})}}):j}return r(r({},a),{schema:r(r({},d),{primaryKey:l,indexes:m,getIndexByKeyPath:function(j){return(j=f[as(j)])&&j[0]}}),count:function(j){return a.count(L(j))},query:function(j){return a.query(L(j))},openCursor:function(j){var F=j.query.index,P=F.keyTail,R=F.isVirtual,O=F.keyLength;return R?a.openCursor(L(j)).then(function(M){return M&&I(M)}):a.openCursor(j);function I(M){return Object.create(M,{continue:{value:function(z){z!=null?M.continue(ko(z,j.reverse?s.MAX_KEY:s.MIN_KEY,P)):j.unique?M.continue(M.key.slice(0,O).concat(j.reverse?s.MIN_KEY:s.MAX_KEY,P)):M.continue()}},continuePrimaryKey:{value:function(z,W){M.continuePrimaryKey(ko(z,s.MAX_KEY,P),W)}},primaryKey:{get:function(){return M.primaryKey}},key:{get:function(){var z=M.key;return O===1?z[0]:z.slice(0,O)}},value:{get:function(){return M.value}}})}}})}})}};function Ca(s,l,a,d){return a=a||{},d=d||"",c(s).forEach(function(f){var m,y,w;b(l,f)?(m=s[f],y=l[f],typeof m=="object"&&typeof y=="object"&&m&&y?(w=ee(m))!==ee(y)?a[d+f]=l[f]:w==="Object"?Ca(m,y,a,d+f+"."):m!==y&&(a[d+f]=l[f]):m!==y&&(a[d+f]=l[f])):a[d+f]=void 0}),c(l).forEach(function(f){b(s,f)||(a[d+f]=l[f])}),a}function Ea(s,l){return l.type==="delete"?l.keys:l.keys||l.values.map(s.extractKey)}var Ly={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(s){return r(r({},s),{table:function(l){var a=s.table(l),d=a.schema.primaryKey;return r(r({},a),{mutate:function(f){var m=ye.trans,y=m.table(l).hook,w=y.deleting,C=y.creating,_=y.updating;switch(f.type){case"add":if(C.fire===ge)break;return m._promise("readwrite",function(){return L(f)},!0);case"put":if(C.fire===ge&&_.fire===ge)break;return m._promise("readwrite",function(){return L(f)},!0);case"delete":if(w.fire===ge)break;return m._promise("readwrite",function(){return L(f)},!0);case"deleteRange":if(w.fire===ge)break;return m._promise("readwrite",function(){return function j(F,P,R){return a.query({trans:F,values:!1,query:{index:d,range:P},limit:R}).then(function(O){var I=O.result;return L({type:"delete",keys:I,trans:F}).then(function(M){return 0<M.numFailures?Promise.reject(M.failures[0]):I.length<R?{failures:[],numFailures:0,lastResult:void 0}:j(F,r(r({},P),{lower:I[I.length-1],lowerOpen:!0}),R)})})}(f.trans,f.range,1e4)},!0)}return a.mutate(f);function L(j){var F,P,R,O=ye.trans,I=j.keys||Ea(d,j);if(!I)throw new Error("Keys missing");return(j=j.type==="add"||j.type==="put"?r(r({},j),{keys:I}):r({},j)).type!=="delete"&&(j.values=i([],j.values)),j.keys&&(j.keys=i([],j.keys)),F=a,R=I,((P=j).type==="add"?Promise.resolve([]):F.getMany({trans:P.trans,keys:R,cache:"immutable"})).then(function(M){var z=I.map(function(W,V){var se,ce,te,le=M[V],de={onerror:null,onsuccess:null};return j.type==="delete"?w.fire.call(de,W,le,O):j.type==="add"||le===void 0?(se=C.fire.call(de,W,j.values[V],O),W==null&&se!=null&&(j.keys[V]=W=se,d.outbound||J(j.values[V],d.keyPath,W))):(se=Ca(le,j.values[V]),(ce=_.fire.call(de,se,W,le,O))&&(te=j.values[V],Object.keys(ce).forEach(function(ae){b(te,ae)?te[ae]=ce[ae]:J(te,ae,ce[ae])}))),de});return a.mutate(j).then(function(W){for(var V=W.failures,se=W.results,ce=W.numFailures,W=W.lastResult,te=0;te<I.length;++te){var le=(se||I)[te],de=z[te];le==null?de.onerror&&de.onerror(V[te]):de.onsuccess&&de.onsuccess(j.type==="put"&&M[te]?j.values[te]:le)}return{failures:V,results:se,numFailures:ce,lastResult:W}}).catch(function(W){return z.forEach(function(V){return V.onerror&&V.onerror(W)}),Promise.reject(W)})})}}})}})}};function zd(s,l,a){try{if(!l||l.keys.length<s.length)return null;for(var d=[],f=0,m=0;f<l.keys.length&&m<s.length;++f)Fe(l.keys[f],s[m])===0&&(d.push(a?oe(l.values[f]):l.values[f]),++m);return d.length===s.length?d:null}catch{return null}}var Iy={stack:"dbcore",level:-1,create:function(s){return{table:function(l){var a=s.table(l);return r(r({},a),{getMany:function(d){if(!d.cache)return a.getMany(d);var f=zd(d.keys,d.trans._cache,d.cache==="clone");return f?fe.resolve(f):a.getMany(d).then(function(m){return d.trans._cache={keys:d.keys,values:d.cache==="clone"?oe(m):m},m})},mutate:function(d){return d.type!=="add"&&(d.trans._cache=null),a.mutate(d)}})}}}};function Dd(s,l){return s.trans.mode==="readonly"&&!!s.subscr&&!s.trans.explicit&&s.trans.db._options.cache!=="disabled"&&!l.schema.primaryKey.outbound}function $d(s,l){switch(s){case"query":return l.values&&!l.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Fy={stack:"dbcore",level:0,name:"Observability",create:function(s){var l=s.schema.name,a=new xt(s.MIN_KEY,s.MAX_KEY);return r(r({},s),{transaction:function(d,f,m){if(ye.subscr&&f!=="readonly")throw new D.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ye.querier));return s.transaction(d,f,m)},table:function(d){var f=s.table(d),m=f.schema,y=m.primaryKey,j=m.indexes,w=y.extractKey,C=y.outbound,_=y.autoIncrement&&j.filter(function(P){return P.compound&&P.keyPath.includes(y.keyPath)}),L=r(r({},f),{mutate:function(P){function R(ae){return ae="idb://".concat(l,"/").concat(d,"/").concat(ae),W[ae]||(W[ae]=new xt)}var O,I,M,z=P.trans,W=P.mutatedParts||(P.mutatedParts={}),V=R(""),se=R(":dels"),ce=P.type,de=P.type==="deleteRange"?[P.range]:P.type==="delete"?[P.keys]:P.values.length<50?[Ea(y,P).filter(function(ae){return ae}),P.values]:[],te=de[0],le=de[1],de=P.trans._cache;return h(te)?(V.addKeys(te),(de=ce==="delete"||te.length===le.length?zd(te,de):null)||se.addKeys(te),(de||le)&&(O=R,I=de,M=le,m.indexes.forEach(function(ae){var pe=O(ae.name||"");function _e(Oe){return Oe!=null?ae.extractKey(Oe):null}function Te(Oe){return ae.multiEntry&&h(Oe)?Oe.forEach(function(qt){return pe.addKey(qt)}):pe.addKey(Oe)}(I||M).forEach(function(Oe,wt){var Ce=I&&_e(I[wt]),wt=M&&_e(M[wt]);Fe(Ce,wt)!==0&&(Ce!=null&&Te(Ce),wt!=null&&Te(wt))})}))):te?(le={from:(le=te.lower)!==null&&le!==void 0?le:s.MIN_KEY,to:(le=te.upper)!==null&&le!==void 0?le:s.MAX_KEY},se.add(le),V.add(le)):(V.add(a),se.add(a),m.indexes.forEach(function(ae){return R(ae.name).add(a)})),f.mutate(P).then(function(ae){return!te||P.type!=="add"&&P.type!=="put"||(V.addKeys(ae.results),_&&_.forEach(function(pe){for(var _e=P.values.map(function(Ce){return pe.extractKey(Ce)}),Te=pe.keyPath.findIndex(function(Ce){return Ce===y.keyPath}),Oe=0,qt=ae.results.length;Oe<qt;++Oe)_e[Oe][Te]=ae.results[Oe];R(pe.name).addKeys(_e)})),z.mutatedParts=bo(z.mutatedParts||{},W),ae})}}),j=function(R){var O=R.query,R=O.index,O=O.range;return[R,new xt((R=O.lower)!==null&&R!==void 0?R:s.MIN_KEY,(O=O.upper)!==null&&O!==void 0?O:s.MAX_KEY)]},F={get:function(P){return[y,new xt(P.key)]},getMany:function(P){return[y,new xt().addKeys(P.keys)]},count:j,query:j,openCursor:j};return c(F).forEach(function(P){L[P]=function(R){var O=ye.subscr,I=!!O,M=Dd(ye,f)&&$d(P,R)?R.obsSet={}:O;if(I){var z=function(le){return le="idb://".concat(l,"/").concat(d,"/").concat(le),M[le]||(M[le]=new xt)},W=z(""),V=z(":dels"),O=F[P](R),I=O[0],O=O[1];if((P==="query"&&I.isPrimaryKey&&!R.values?V:z(I.name||"")).add(O),!I.isPrimaryKey){if(P!=="count"){var se=P==="query"&&C&&R.values&&f.query(r(r({},R),{values:!1}));return f[P].apply(this,arguments).then(function(le){if(P==="query"){if(C&&R.values)return se.then(function(_e){return _e=_e.result,W.addKeys(_e),le});var de=R.values?le.result.map(w):le.result;(R.values?W:V).addKeys(de)}else if(P==="openCursor"){var ae=le,pe=R.values;return ae&&Object.create(ae,{key:{get:function(){return V.addKey(ae.primaryKey),ae.key}},primaryKey:{get:function(){var _e=ae.primaryKey;return V.addKey(_e),_e}},value:{get:function(){return pe&&W.addKey(ae.primaryKey),ae.value}}})}return le})}V.add(a)}}return f[P].apply(this,arguments)}}),L}})}};function Ud(s,l,a){if(a.numFailures===0)return l;if(l.type==="deleteRange")return null;var d=l.keys?l.keys.length:"values"in l&&l.values?l.values.length:1;return a.numFailures===d?null:(l=r({},l),h(l.keys)&&(l.keys=l.keys.filter(function(f,m){return!(m in a.failures)})),"values"in l&&h(l.values)&&(l.values=l.values.filter(function(f,m){return!(m in a.failures)})),l)}function _a(s,l){return a=s,((d=l).lower===void 0||(d.lowerOpen?0<Fe(a,d.lower):0<=Fe(a,d.lower)))&&(s=s,(l=l).upper===void 0||(l.upperOpen?Fe(s,l.upper)<0:Fe(s,l.upper)<=0));var a,d}function Bd(s,l,F,d,f,m){if(!F||F.length===0)return s;var y=l.query.index,w=y.multiEntry,C=l.query.range,_=d.schema.primaryKey.extractKey,L=y.extractKey,j=(y.lowLevelIndex||y).extractKey,F=F.reduce(function(P,R){var O=P,I=[];if(R.type==="add"||R.type==="put")for(var M=new xt,z=R.values.length-1;0<=z;--z){var W,V=R.values[z],se=_(V);M.hasKey(se)||(W=L(V),(w&&h(W)?W.some(function(ae){return _a(ae,C)}):_a(W,C))&&(M.addKey(se),I.push(V)))}switch(R.type){case"add":var ce=new xt().addKeys(l.values?P.map(function(pe){return _(pe)}):P),O=P.concat(l.values?I.filter(function(pe){return pe=_(pe),!ce.hasKey(pe)&&(ce.addKey(pe),!0)}):I.map(function(pe){return _(pe)}).filter(function(pe){return!ce.hasKey(pe)&&(ce.addKey(pe),!0)}));break;case"put":var te=new xt().addKeys(R.values.map(function(pe){return _(pe)}));O=P.filter(function(pe){return!te.hasKey(l.values?_(pe):pe)}).concat(l.values?I:I.map(function(pe){return _(pe)}));break;case"delete":var le=new xt().addKeys(R.keys);O=P.filter(function(pe){return!le.hasKey(l.values?_(pe):pe)});break;case"deleteRange":var de=R.range;O=P.filter(function(pe){return!_a(_(pe),de)})}return O},s);return F===s?s:(F.sort(function(P,R){return Fe(j(P),j(R))||Fe(_(P),_(R))}),l.limit&&l.limit<1/0&&(F.length>l.limit?F.length=l.limit:s.length===l.limit&&F.length<l.limit&&(f.dirty=!0)),m?Object.freeze(F):F)}function Kd(s,l){return Fe(s.lower,l.lower)===0&&Fe(s.upper,l.upper)===0&&!!s.lowerOpen==!!l.lowerOpen&&!!s.upperOpen==!!l.upperOpen}function My(s,l){return function(a,d,f,m){if(a===void 0)return d!==void 0?-1:0;if(d===void 0)return 1;if((d=Fe(a,d))===0){if(f&&m)return 0;if(f)return 1;if(m)return-1}return d}(s.lower,l.lower,s.lowerOpen,l.lowerOpen)<=0&&0<=function(a,d,f,m){if(a===void 0)return d!==void 0?1:0;if(d===void 0)return-1;if((d=Fe(a,d))===0){if(f&&m)return 0;if(f)return-1;if(m)return 1}return d}(s.upper,l.upper,s.upperOpen,l.upperOpen)}function Ay(s,l,a,d){s.subscribers.add(a),d.addEventListener("abort",function(){var f,m;s.subscribers.delete(a),s.subscribers.size===0&&(f=s,m=l,setTimeout(function(){f.subscribers.size===0&&H(m,f)},3e3))})}var zy={stack:"dbcore",level:0,name:"Cache",create:function(s){var l=s.schema.name;return r(r({},s),{transaction:function(a,d,f){var m,y,w=s.transaction(a,d,f);return d==="readwrite"&&(y=(m=new AbortController).signal,f=function(C){return function(){if(m.abort(),d==="readwrite"){for(var _=new Set,L=0,j=a;L<j.length;L++){var F=j[L],P=Dr["idb://".concat(l,"/").concat(F)];if(P){var R=s.table(F),O=P.optimisticOps.filter(function(pe){return pe.trans===w});if(w._explicit&&C&&w.mutatedParts)for(var I=0,M=Object.values(P.queries.query);I<M.length;I++)for(var z=0,W=(ce=M[I]).slice();z<W.length;z++)ba((te=W[z]).obsSet,w.mutatedParts)&&(H(ce,te),te.subscribers.forEach(function(pe){return _.add(pe)}));else if(0<O.length){P.optimisticOps=P.optimisticOps.filter(function(pe){return pe.trans!==w});for(var V=0,se=Object.values(P.queries.query);V<se.length;V++)for(var ce,te,le,de=0,ae=(ce=se[V]).slice();de<ae.length;de++)(te=ae[de]).res!=null&&w.mutatedParts&&(C&&!te.dirty?(le=Object.isFrozen(te.res),le=Bd(te.res,te.req,O,R,te,le),te.dirty?(H(ce,te),te.subscribers.forEach(function(pe){return _.add(pe)})):le!==te.res&&(te.res=le,te.promise=fe.resolve({result:le}))):(te.dirty&&H(ce,te),te.subscribers.forEach(function(pe){return _.add(pe)})))}}}_.forEach(function(pe){return pe()})}}},w.addEventListener("abort",f(!1),{signal:y}),w.addEventListener("error",f(!1),{signal:y}),w.addEventListener("complete",f(!0),{signal:y})),w},table:function(a){var d=s.table(a),f=d.schema.primaryKey;return r(r({},d),{mutate:function(m){var y=ye.trans;if(f.outbound||y.db._options.cache==="disabled"||y.explicit||y.idbtrans.mode!=="readwrite")return d.mutate(m);var w=Dr["idb://".concat(l,"/").concat(a)];return w?(y=d.mutate(m),m.type!=="add"&&m.type!=="put"||!(50<=m.values.length||Ea(f,m).some(function(C){return C==null}))?(w.optimisticOps.push(m),m.mutatedParts&&So(m.mutatedParts),y.then(function(C){0<C.numFailures&&(H(w.optimisticOps,m),(C=Ud(0,m,C))&&w.optimisticOps.push(C),m.mutatedParts&&So(m.mutatedParts))}),y.catch(function(){H(w.optimisticOps,m),m.mutatedParts&&So(m.mutatedParts)})):y.then(function(C){var _=Ud(0,r(r({},m),{values:m.values.map(function(L,j){var F;return C.failures[j]?L:(L=(F=f.keyPath)!==null&&F!==void 0&&F.includes(".")?oe(L):r({},L),J(L,f.keyPath,C.results[j]),L)})}),C);w.optimisticOps.push(_),queueMicrotask(function(){return m.mutatedParts&&So(m.mutatedParts)})}),y):d.mutate(m)},query:function(m){if(!Dd(ye,d)||!$d("query",m))return d.query(m);var y=((_=ye.trans)===null||_===void 0?void 0:_.db._options.cache)==="immutable",j=ye,w=j.requery,C=j.signal,_=function(R,O,I,M){var z=Dr["idb://".concat(R,"/").concat(O)];if(!z)return[];if(!(O=z.queries[I]))return[null,!1,z,null];var W=O[(M.query?M.query.index.name:null)||""];if(!W)return[null,!1,z,null];switch(I){case"query":var V=W.find(function(se){return se.req.limit===M.limit&&se.req.values===M.values&&Kd(se.req.query.range,M.query.range)});return V?[V,!0,z,W]:[W.find(function(se){return("limit"in se.req?se.req.limit:1/0)>=M.limit&&(!M.values||se.req.values)&&My(se.req.query.range,M.query.range)}),!1,z,W];case"count":return V=W.find(function(se){return Kd(se.req.query.range,M.query.range)}),[V,!!V,z,W]}}(l,a,"query",m),L=_[0],j=_[1],F=_[2],P=_[3];return L&&j?L.obsSet=m.obsSet:(j=d.query(m).then(function(R){var O=R.result;if(L&&(L.res=O),y){for(var I=0,M=O.length;I<M;++I)Object.freeze(O[I]);Object.freeze(O)}else R.result=oe(O);return R}).catch(function(R){return P&&L&&H(P,L),Promise.reject(R)}),L={obsSet:m.obsSet,promise:j,subscribers:new Set,type:"query",req:m,dirty:!1},P?P.push(L):(P=[L],(F=F||(Dr["idb://".concat(l,"/").concat(a)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[m.query.index.name||""]=P)),Ay(L,P,w,C),L.promise.then(function(R){return{result:Bd(R.result,m,F==null?void 0:F.optimisticOps,d,L,y)}})}})}})}};function jo(s,l){return new Proxy(s,{get:function(a,d,f){return d==="db"?l:Reflect.get(a,d,f)}})}var An=(tt.prototype.version=function(s){if(isNaN(s)||s<.1)throw new D.Type("Given version is not a positive number");if(s=Math.round(10*s)/10,this.idbdb||this._state.isBeingOpened)throw new D.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,s);var l=this._versions,a=l.filter(function(d){return d._cfg.version===s})[0];return a||(a=new this.Version(s),l.push(a),l.sort(Ey),a.stores({}),this._state.autoSchema=!1,a)},tt.prototype._whenReady=function(s){var l=this;return this.idbdb&&(this._state.openComplete||ye.letThrough||this._vip)?s():new fe(function(a,d){if(l._state.openComplete)return d(new D.DatabaseClosed(l._state.dbOpenError));if(!l._state.isBeingOpened){if(!l._state.autoOpen)return void d(new D.DatabaseClosed);l.open().catch(ge)}l._state.dbReadyPromise.then(a,d)}).then(s)},tt.prototype.use=function(s){var l=s.stack,a=s.create,d=s.level,f=s.name;return f&&this.unuse({stack:l,name:f}),s=this._middlewares[l]||(this._middlewares[l]=[]),s.push({stack:l,create:a,level:d??10,name:f}),s.sort(function(m,y){return m.level-y.level}),this},tt.prototype.unuse=function(s){var l=s.stack,a=s.name,d=s.create;return l&&this._middlewares[l]&&(this._middlewares[l]=this._middlewares[l].filter(function(f){return d?f.create!==d:!!a&&f.name!==a})),this},tt.prototype.open=function(){var s=this;return pn(Ht,function(){return Ry(s)})},tt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var s=this._state,l=Re.indexOf(this);if(0<=l&&Re.splice(l,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}s.isBeingOpened||(s.dbReadyPromise=new fe(function(a){s.dbReadyResolve=a}),s.openCanceller=new fe(function(a,d){s.cancelOpen=d}))},tt.prototype.close=function(a){var l=(a===void 0?{disableAutoOpen:!0}:a).disableAutoOpen,a=this._state;l?(a.isBeingOpened&&a.cancelOpen(new D.DatabaseClosed),this._close(),a.autoOpen=!1,a.dbOpenError=new D.DatabaseClosed):(this._close(),a.autoOpen=this._options.autoOpen||a.isBeingOpened,a.openComplete=!1,a.dbOpenError=null)},tt.prototype.delete=function(s){var l=this;s===void 0&&(s={disableAutoOpen:!0});var a=0<arguments.length&&typeof arguments[0]!="object",d=this._state;return new fe(function(f,m){function y(){l.close(s);var w=l._deps.indexedDB.deleteDatabase(l.name);w.onsuccess=Be(function(){var C,_,L;C=l._deps,_=l.name,L=C.indexedDB,C=C.IDBKeyRange,ga(L)||_===Ar||va(L,C).delete(_).catch(ge),f()}),w.onerror=En(m),w.onblocked=l._fireOnBlocked}if(a)throw new D.InvalidArgument("Invalid closeOptions argument to db.delete()");d.isBeingOpened?d.dbReadyPromise.then(y):y()})},tt.prototype.backendDB=function(){return this.idbdb},tt.prototype.isOpen=function(){return this.idbdb!==null},tt.prototype.hasBeenClosed=function(){var s=this._state.dbOpenError;return s&&s.name==="DatabaseClosed"},tt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},tt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(tt.prototype,"tables",{get:function(){var s=this;return c(this._allTables).map(function(l){return s._allTables[l]})},enumerable:!1,configurable:!0}),tt.prototype.transaction=function(){var s=(function(l,a,d){var f=arguments.length;if(f<2)throw new D.InvalidArgument("Too few arguments");for(var m=new Array(f-1);--f;)m[f-1]=arguments[f];return d=m.pop(),[l,he(m),d]}).apply(this,arguments);return this._transaction.apply(this,s)},tt.prototype._transaction=function(s,l,a){var d=this,f=ye.trans;f&&f.db===this&&s.indexOf("!")===-1||(f=null);var m,y,w=s.indexOf("?")!==-1;s=s.replace("!","").replace("?","");try{if(y=l.map(function(_){if(_=_ instanceof d.Table?_.name:_,typeof _!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return _}),s=="r"||s===oa)m=oa;else{if(s!="rw"&&s!=la)throw new D.InvalidArgument("Invalid transaction mode: "+s);m=la}if(f){if(f.mode===oa&&m===la){if(!w)throw new D.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");f=null}f&&y.forEach(function(_){if(f&&f.storeNames.indexOf(_)===-1){if(!w)throw new D.SubTransaction("Table "+_+" not included in parent transaction.");f=null}}),w&&f&&!f.active&&(f=null)}}catch(_){return f?f._promise(null,function(L,j){j(_)}):K(_)}var C=(function _(L,j,F,P,R){return fe.resolve().then(function(){var O=ye.transless||ye,I=L._createTransaction(j,F,L._dbSchema,P);if(I.explicit=!0,O={trans:I,transless:O},P)I.idbtrans=P.idbtrans;else try{I.create(),I.idbtrans._explicit=!0,L._state.PR1398_maxLoop=3}catch(W){return W.name===It.InvalidState&&L.isOpen()&&0<--L._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),L.close({disableAutoOpen:!1}),L.open().then(function(){return _(L,j,F,null,R)})):K(W)}var M,z=xe(R);return z&&hn(),O=fe.follow(function(){var W;(M=R.call(I,I))&&(z?(W=tn.bind(null,null),M.then(W,W)):typeof M.next=="function"&&typeof M.throw=="function"&&(M=Na(M)))},O),(M&&typeof M.then=="function"?fe.resolve(M).then(function(W){return I.active?W:K(new D.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):O.then(function(){return M})).then(function(W){return P&&I._resolve(),I._completion.then(function(){return W})}).catch(function(W){return I._reject(W),K(W)})})}).bind(null,this,m,y,f,a);return f?f._promise(m,C,"lock"):ye.trans?pn(ye.transless,function(){return d._whenReady(C)}):this._whenReady(C)},tt.prototype.table=function(s){if(!b(this._allTables,s))throw new D.InvalidTable("Table ".concat(s," does not exist"));return this._allTables[s]},tt);function tt(s,l){var a=this;this._middlewares={},this.verno=0;var d=tt.dependencies;this._options=l=r({addons:tt.addons,autoOpen:!0,indexedDB:d.indexedDB,IDBKeyRange:d.IDBKeyRange,cache:"cloned"},l),this._deps={indexedDB:l.indexedDB,IDBKeyRange:l.IDBKeyRange},d=l.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var f,m,y,w,C,_={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ge,dbReadyPromise:null,cancelOpen:ge,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:l.autoOpen};_.dbReadyPromise=new fe(function(j){_.dbReadyResolve=j}),_.openCanceller=new fe(function(j,F){_.cancelOpen=F}),this._state=_,this.name=s,this.on=rs(this,"populate","blocked","versionchange","close",{ready:[Zn,ge]}),this.once=function(j,F){var P=function(){for(var R=[],O=0;O<arguments.length;O++)R[O]=arguments[O];a.on(j).unsubscribe(P),F.apply(a,R)};return a.on(j,P)},this.on.ready.subscribe=k(this.on.ready.subscribe,function(j){return function(F,P){tt.vip(function(){var R,O=a._state;O.openComplete?(O.dbOpenError||fe.resolve().then(F),P&&j(F)):O.onReadyBeingFired?(O.onReadyBeingFired.push(F),P&&j(F)):(j(F),R=a,P||j(function I(){R.on.ready.unsubscribe(F),R.on.ready.unsubscribe(I)}))})}}),this.Collection=(f=this,is(wy.prototype,function(M,I){this.db=f;var P=gd,R=null;if(I)try{P=I()}catch(z){R=z}var O=M._ctx,I=O.table,M=I.hook.reading.fire;this._ctx={table:I,index:O.index,isPrimKey:!O.index||I.schema.primKey.keyPath&&O.index===I.schema.primKey.name,range:P,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:R,or:O.or,valueMapper:M!==De?M:null}})),this.Table=(m=this,is(jd.prototype,function(j,F,P){this.db=m,this._tx=P,this.name=j,this.schema=F,this.hook=m._allTables[j]?m._allTables[j].hook:rs(null,{creating:[Sn,ge],reading:[rt,De],updating:[In,ge],deleting:[Kt,ge]})})),this.Transaction=(y=this,is(ky.prototype,function(j,F,P,R,O){var I=this;j!=="readonly"&&F.forEach(function(M){M=(M=P[M])===null||M===void 0?void 0:M.yProps,M&&(F=F.concat(M.map(function(z){return z.updatesTable})))}),this.db=y,this.mode=j,this.storeNames=F,this.schema=P,this.chromeTransactionDurability=R,this.idbtrans=null,this.on=rs(this,"complete","error","abort"),this.parent=O||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new fe(function(M,z){I._resolve=M,I._reject=z}),this._completion.then(function(){I.active=!1,I.on.complete.fire()},function(M){var z=I.active;return I.active=!1,I.on.error.fire(M),I.parent?I.parent._reject(M):z&&I.idbtrans&&I.idbtrans.abort(),K(M)})})),this.Version=(w=this,is(Ty.prototype,function(j){this.db=w,this._cfg={version:j,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(C=this,is(Pd.prototype,function(j,F,P){if(this.db=C,this._ctx={table:j,index:F===":id"?null:F,or:P},this._cmp=this._ascending=Fe,this._descending=function(R,O){return Fe(O,R)},this._max=function(R,O){return 0<Fe(R,O)?R:O},this._min=function(R,O){return Fe(R,O)<0?R:O},this._IDBKeyRange=C._deps.IDBKeyRange,!this._IDBKeyRange)throw new D.MissingAPI})),this.on("versionchange",function(j){0<j.newVersion?console.warn("Another connection wants to upgrade database '".concat(a.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(a.name,"'. Closing db now to resume the delete request.")),a.close({disableAutoOpen:!1})}),this.on("blocked",function(j){!j.newVersion||j.newVersion<j.oldVersion?console.warn("Dexie.delete('".concat(a.name,"') was blocked")):console.warn("Upgrade '".concat(a.name,"' blocked by other connection holding version ").concat(j.oldVersion/10))}),this._maxKey=ls(l.IDBKeyRange),this._createTransaction=function(j,F,P,R){return new a.Transaction(j,F,P,a._options.chromeTransactionDurability,R)},this._fireOnBlocked=function(j){a.on("blocked").fire(j),Re.filter(function(F){return F.name===a.name&&F!==a&&!F._state.vcFired}).map(function(F){return F.on("versionchange").fire(j)})},this.use(Iy),this.use(zy),this.use(Fy),this.use(Oy),this.use(Ly);var L=new Proxy(this,{get:function(j,F,P){if(F==="_vip")return!0;if(F==="table")return function(O){return jo(a.table(O),L)};var R=Reflect.get(j,F,P);return R instanceof jd?jo(R,L):F==="tables"?R.map(function(O){return jo(O,L)}):F==="_createTransaction"?function(){return jo(R.apply(this,arguments),L)}:R}});this.vip=L,d.forEach(function(j){return j(a)})}var No,nn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Dy=(Pa.prototype.subscribe=function(s,l,a){return this._subscribe(s&&typeof s!="function"?s:{next:s,error:l,complete:a})},Pa.prototype[nn]=function(){return this},Pa);function Pa(s){this._subscribe=s}try{No={indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch{No={indexedDB:null,IDBKeyRange:null}}function Wd(s){var l,a=!1,d=new Dy(function(f){var m=xe(s),y,w=!1,C={},_={},L={get closed(){return w},unsubscribe:function(){w||(w=!0,y&&y.abort(),j&&lr.storagemutated.unsubscribe(P))}};f.start&&f.start(L);var j=!1,F=function(){return ue(R)},P=function(O){bo(C,O),ba(_,C)&&F()},R=function(){var O,I,M;!w&&No.indexedDB&&(C={},O={},y&&y.abort(),y=new AbortController,M=function(z){var W=nr();try{m&&hn();var V=_t(s,z);return V=m?V.finally(tn):V}finally{W&&en()}}(I={subscr:O,signal:y.signal,requery:F,querier:s,trans:null}),Promise.resolve(M).then(function(z){a=!0,l=z,w||I.signal.aborted||(C={},function(W){for(var V in W)if(b(W,V))return;return 1}(_=O)||j||(lr(os,P),j=!0),ue(function(){return!w&&f.next&&f.next(z)}))},function(z){a=!1,["DatabaseClosedError","AbortError"].includes(z==null?void 0:z.name)||w||ue(function(){w||f.error&&f.error(z)})}))};return setTimeout(F,0),L});return d.hasValue=function(){return a},d.getValue=function(){return l},d}var $r=An;function Ta(s){var l=ar;try{ar=!0,lr.storagemutated.fire(s),ja(s,!0)}finally{ar=l}}E($r,r(r({},ve),{delete:function(s){return new $r(s,{addons:[]}).delete()},exists:function(s){return new $r(s,{addons:[]}).open().then(function(l){return l.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(s){try{return l=$r.dependencies,a=l.indexedDB,l=l.IDBKeyRange,(ga(a)?Promise.resolve(a.databases()).then(function(d){return d.map(function(f){return f.name}).filter(function(f){return f!==Ar})}):va(a,l).toCollection().primaryKeys()).then(s)}catch{return K(new D.MissingAPI)}var l,a},defineClass:function(){return function(s){p(this,s)}},ignoreTransaction:function(s){return ye.trans?pn(ye.transless,s):s()},vip:xa,async:function(s){return function(){try{var l=Na(s.apply(this,arguments));return l&&typeof l.then=="function"?l:fe.resolve(l)}catch(a){return K(a)}}},spawn:function(s,l,a){try{var d=Na(s.apply(a,l||[]));return d&&typeof d.then=="function"?d:fe.resolve(d)}catch(f){return K(f)}},currentTransaction:{get:function(){return ye.trans||null}},waitFor:function(s,l){return l=fe.resolve(typeof s=="function"?$r.ignoreTransaction(s):s).timeout(l||6e4),ye.trans?ye.trans.waitFor(l):l},Promise:fe,debug:{get:function(){return Ft},set:function(s){Xi(s)}},derive:B,extend:p,props:E,override:k,Events:rs,on:lr,liveQuery:Wd,extendObservabilitySet:bo,getByKeyPath:Q,setByKeyPath:J,delByKeyPath:function(s,l){typeof l=="string"?J(s,l,void 0):"length"in l&&[].map.call(l,function(a){J(s,a,void 0)})},shallowClone:re,deepClone:oe,getObjectDiff:Ca,cmp:Fe,asap:X,minKey:-1/0,addons:[],connections:Re,errnames:It,dependencies:No,cache:Dr,semVer:"4.2.1",version:"4.2.1".split(".").map(function(s){return parseInt(s)}).reduce(function(s,l,a){return s+l/Math.pow(10,2*a)})})),$r.maxKey=ls($r.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(lr(os,function(s){ar||(s=new CustomEvent(ca,{detail:s}),ar=!0,dispatchEvent(s),ar=!1)}),addEventListener(ca,function(s){s=s.detail,ar||Ta(s)}));var hi,ar=!1,Hd=function(){};return typeof BroadcastChannel<"u"&&((Hd=function(){(hi=new BroadcastChannel(ca)).onmessage=function(s){return s.data&&Ta(s.data)}})(),typeof hi.unref=="function"&&hi.unref(),lr(os,function(s){ar||hi.postMessage(s)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(s){if(!An.disableBfCache&&s.persisted){Ft&&console.debug("Dexie: handling persisted pagehide"),hi!=null&&hi.close();for(var l=0,a=Re;l<a.length;l++)a[l].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(s){!An.disableBfCache&&s.persisted&&(Ft&&console.debug("Dexie: handling persisted pageshow"),Hd(),Ta({all:new xt(-1/0,[[]])}))})),fe.rejectionMapper=function(s,l){return!s||s instanceof ze||s instanceof TypeError||s instanceof SyntaxError||!s.name||!Ee[s.name]?s:(l=new Ee[s.name](l||s.message,s),"stack"in s&&A(l,"stack",{get:function(){return this.inner.stack}}),l)},Xi(Ft),r(An,Object.freeze({__proto__:null,Dexie:An,liveQuery:Wd,Entity:xd,cmp:Fe,PropModification:ns,replacePrefix:function(s,l){return new ns({replacePrefix:[s,l]})},add:function(s){return new ns({add:s})},remove:function(s){return new ns({remove:s})},default:An,RangeSet:xt,mergeRanges:cs,rangesOverlap:Id}),{default:An}),An})})(dy);var nw=dy.exports;const fc=wc(nw),mh=Symbol.for("Dexie"),Fl=globalThis[mh]||(globalThis[mh]=fc);if(fc.semVer!==Fl.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${fc.semVer} and ${Fl.semVer}`);const{liveQuery:ib,mergeRanges:sb,rangesOverlap:ob,RangeSet:lb,cmp:ab,Entity:ub,PropModification:cb,replacePrefix:db,add:fb,remove:hb,DexieYProvider:pb}=Fl;class rw extends Fl{constructor(){super("subtitle-learner");pi(this,"words");pi(this,"subtitleFiles");pi(this,"subtitleCues");pi(this,"prefs");pi(this,"sessions");this.version(1).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt"}),this.version(2).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt",subtitleCues:"&id, fileHash, index",sessions:"&id, updatedAt"}),this.version(3).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt",subtitleCues:"&id, fileHash, index",sessions:"&id, updatedAt"}),this.version(3).upgrade(n=>n.table("words").toArray().then(r=>{const i=r.map(o=>({id:o.id,original:o.original,originalSentence:o.originalSentence,normalized:o.normalized,stem:o.stem,createdAt:o.createdAt,updatedAt:o.updatedAt}));return n.table("words").clear().then(()=>n.table("words").bulkPut(i))})),this.version(4).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt",subtitleCues:"&id, fileHash, index",sessions:"&id, updatedAt"}),this.version(4).upgrade(n=>n.table("words").toArray().then(r=>{const i=r.map(o=>({id:o.id,original:o.original,originalSentence:o.originalSentence,normalized:o.normalized,stem:o.stem,createdAt:o.createdAt,updatedAt:o.updatedAt}));return n.table("words").clear().then(()=>n.table("words").bulkPut(i))}))}}const Se=new rw;let ou=null,yh=!1,vh=!1;async function vd(){return yh?!0:vh?!1:(ou||(ou=Se.open().then(()=>(yh=!0,!0)).catch(()=>(vh=!0,!1))),ou)}async function Ge(e,t){if(!await vd())return e;try{return await t()}catch{return e}}async function zt(e){if(await vd())try{await e()}catch{}}async function iw(){return Ge([],()=>Se.words.toArray())}async function lu(e){await zt(()=>Se.words.put(e))}async function sw(e){await zt(()=>Se.words.delete(e))}async function au(e){await zt(()=>Se.transaction("rw",Se.words,async()=>{await Se.words.clear(),e.length>0&&await Se.words.bulkPut(e)}))}function yi(e){return[...e].sort((t,n)=>n.updatedAt-t.updatedAt)}function ow(e){if(typeof e=="string"){const[t]=Hn(e);return t}return e}function gh(e){let t=!1;return{next:e.map(r=>{const i=yd(r.normalized);return i===r.stem?r:(t=!0,{...r,stem:i})}),changed:t}}const yt=cy((e,t)=>({words:[],initialized:!1,initialize:async()=>{if(t().initialized)return;const n=await iw(),{next:r,changed:i}=gh(n),o=yi(r);e({words:o,initialized:!0}),i&&await au(o)},addUnknownWordFromToken:async(n,r)=>{const i=ow(n);if(!i||!i.isWord)return;const o=t().words.find(p=>p.normalized===i.normalized||p.stem===i.stem),c=Date.now();if(o){const p={...o,updatedAt:c,original:o.original||i.text,originalSentence:r??o.originalSentence};e(g=>({words:yi(g.words.map(S=>S.id===o.id?p:S))})),await lu(p);return}const h={id:dc(),original:i.text,originalSentence:r,normalized:i.normalized,stem:i.stem,createdAt:c,updatedAt:c};e(p=>({words:yi([...p.words,h])})),await lu(h)},updateWord:async(n,r)=>{const i=t().words.find(c=>c.id===n);if(!i)return;const o={...i,...r,updatedAt:Date.now()};e(c=>({words:yi(c.words.map(h=>h.id===n?o:h))})),await lu(o)},removeWord:async n=>{e(r=>({words:r.words.filter(i=>i.id!==n)})),await sw(n)},importWords:async n=>{const r=Date.now(),i=h=>`${h.normalized}::${h.stem}`,o=new Map;for(const h of t().words)o.set(i(h),h);for(const h of n){if(!h.normalized)continue;const p=h.normalized,g=h.stem??yd(p),S=`${p}::${g}`,b=o.get(S);o.set(S,{id:h.id??(b==null?void 0:b.id)??dc(),original:h.original??(b==null?void 0:b.original)??p,originalSentence:h.originalSentence??(b==null?void 0:b.originalSentence),normalized:p,stem:g,createdAt:h.createdAt??(b==null?void 0:b.createdAt)??r,updatedAt:h.updatedAt??r})}const c=yi(Array.from(o.values()));e({words:c,initialized:!0}),await au(c)},reanalyzeStems:async()=>{const{next:n,changed:r}=gh(t().words);if(!r)return;const i=yi(n);e({words:i}),await au(i)},classForToken:n=>{const r=new Set(t().words.map(o=>o.normalized)),i=new Set(t().words.map(o=>o.stem));return r.has(n.normalized)?"hl-exact text-white":i.has(n.stem)?"hl-variant text-white":"bg-transparent"}})),fy="prefs";async function lw(){return Ge(void 0,async()=>{const e=await Se.prefs.get(fy);return e==null?void 0:e.value})}async function Wo(e){await zt(()=>Se.prefs.put({id:fy,value:e,updatedAt:Date.now()}))}const xh={subtitleStyle:{fontFamily:"Inter",fontSizePx:42,secondaryFontSizePx:36,useMainForSecondaryFontSize:!0,fontWeight:600,color:"#ffffff",outline:!0,shadow:!0,bgColor:"rgba(0, 0, 0, 0.35)",lineHeight:1.35},highlightColors:{exact:"#10b981",variant:"#f97316"},mediaLibrary:void 0},it=cy((e,t)=>({prefs:xh,initialized:!1,initialize:async()=>{if(t().initialized)return;const n=await lw();e({prefs:n??xh,initialized:!0})},updateSubtitleStyle:async n=>{const r={...t().prefs,subtitleStyle:{...t().prefs.subtitleStyle,...n}};e({prefs:r}),await Wo(r)},updateHighlightColors:async n=>{const r={...t().prefs,highlightColors:{...t().prefs.highlightColors,...n}};e({prefs:r}),await Wo(r)},setLastOpened:async n=>{const r={...t().prefs,lastOpened:n};e({prefs:r}),await Wo(r)},setMediaLibrary:async n=>{const r={...t().prefs,mediaLibrary:n};e({prefs:r}),await Wo(r)}})),aw=/(\d{2}:\d{2}:\d{2},\d{3}) --> (\d{2}:\d{2}:\d{2},\d{3})/,hc="",pc="";function wh(e){const[t,n,r]=e.split(":"),[i,o]=r.split(",");return Number(t)*3600*1e3+Number(n)*60*1e3+Number(i)*1e3+Number(o)}function uw(e){return e.replace(/<i>/gi,hc).replace(/<\/i>/gi,pc).replace(/<[^>]+>/g,"").replace(/\s+/g," ").trim()}function ks(e){return e.split(/\r?\n\r?\n/).filter(Boolean).map((t,n)=>{const[r,i,...o]=t.split(/\r?\n/),c=i==null?void 0:i.match(aw),h=(c==null?void 0:c[1])??"00:00:00,000",p=(c==null?void 0:c[2])??"00:00:00,000",g=uw(o.join(`
`));return{index:Number.parseInt(r??String(n),10),startMs:wh(h),endMs:wh(p),rawText:g}}).filter(t=>t.rawText.length>0)}const cw=/^[\)\]\}.,!?;:%]+$/u,dw=/^[\(\[\{]+$/u,fw=/^[.]+$/u;function Zs(e){return e.isWord||/^\d+$/.test(e.text)}function hy(e){return!e.isWord&&cw.test(e.text)}function py(e){return!e.isWord&&dw.test(e.text)}function my(e,t){if(!e||hy(t)||py(e))return!1;const n=Zs(e),r=Zs(t);return!!(n&&r||n&&!r||!n&&r)}function hw(e){const t=new RegExp(`(${hc}|${pc})`,"g"),n=e.split(t).filter(o=>o.length>0);let r=!1;const i=[];for(const o of n){if(o===hc){r=!0;continue}if(o===pc){r=!1;continue}const c=Hn(o);i.push(...c.map(h=>({token:h,italic:r})))}return i}function pw(e,t={}){const{isRtl:n=!1}=t,r=[];let i="",o=!1;if(e.forEach((c,h)=>{const p=e[h+1];if(n&&!c.token.isWord&&fw.test(c.token.text)&&p&&Zs(p.token)){i+=c.token.text,o=o||c.italic;return}if(!c.token.isWord&&py(c.token)&&p&&Zs(p.token)){i+=c.token.text,o=o||c.italic;return}if(!c.token.isWord&&hy(c.token)&&r.length>0){const b=r[r.length-1];b.text+=c.token.text,b.italic=b.italic||c.italic;return}const g=`${i}${c.token.text}`,S=o||c.italic;i="",o=!1,g.trim().length!==0&&r.push({token:c.token,text:g,italic:S})}),i.trim().length>0){const c=i.trim();r.push({token:{text:c,normalized:c,stem:c,isWord:!1},text:c,italic:o})}return r}const mw=["INPUT","TEXTAREA","SELECT"];function yw(e){return typeof HTMLElement>"u"||!(e instanceof HTMLElement)?!1:e.isContentEditable?!0:mw.includes(e.tagName)}function zn(e){e.preventDefault(),e.stopPropagation(),typeof e.stopImmediatePropagation=="function"&&e.stopImmediatePropagation()}function Dn(e,t,n){return t.includes(e.code)||n.includes(e.key)}function vw(e,t){const{video:n,seekBy:r,toggleFullscreen:i,toggleMute:o,togglePlayback:c,toggleSecondarySubtitle:h}=t,{stepVolume:p}=t;return!n||yw(e.target)||e.altKey||e.ctrlKey||e.metaKey?!1:Dn(e,["Space"],[" ","Spacebar"])||Dn(e,["KeyK"],["k","K"])?(zn(e),c(),!0):Dn(e,["ArrowLeft"],["ArrowLeft"])?(zn(e),r(-5),!0):Dn(e,["ArrowRight"],["ArrowRight"])?(zn(e),r(5),!0):Dn(e,["ArrowUp"],["ArrowUp"])?(zn(e),p("up"),!0):Dn(e,["ArrowDown"],["ArrowDown"])?(zn(e),p("down"),!0):Dn(e,["KeyF"],["f","F"])?(zn(e),i(),!0):Dn(e,["KeyM"],["m","M"])?(zn(e),o(),!0):Dn(e,["KeyH"],["h","H"])?(zn(e),h(),!0):!1}function Ho(e){const t=Math.max(0,Math.floor(e/1e3)),n=Math.floor(t/60).toString().padStart(2,"0"),r=(t%60).toString().padStart(2,"0");return`${n}:${r}`}async function mc(e,t="SHA-256"){const n=await e.arrayBuffer(),r=await crypto.subtle.digest(t,n);return Array.from(new Uint8Array(r)).map(o=>o.toString(16).padStart(2,"0")).join("")}async function yc(e){const t=await e.arrayBuffer();if(t.byteLength>=2){const r=new Uint8Array(t);if(r[0]===255&&r[1]===254)return new TextDecoder("utf-16le").decode(t);if(r[0]===254&&r[1]===255)return new TextDecoder("utf-16be").decode(t);if(t.byteLength>=3&&r[0]===239&&r[1]===187&&r[2]===191)return new TextDecoder("utf-8").decode(t)}const n=new TextDecoder("utf-8",{fatal:!0});try{return n.decode(t)}catch{return new TextDecoder("windows-1255").decode(t)}}function gw(e){const{index:t,startMs:n,endMs:r,rawText:i,tokens:o}=e;return{index:t,startMs:n,endMs:r,rawText:i,tokens:o}}function xw(e,t){return{id:`${e}:${t.index}`,fileHash:e,index:t.index,startMs:t.startMs,endMs:t.endMs,rawText:t.rawText,tokens:t.tokens??[]}}async function Gr(e){return Ge(void 0,async()=>{const t=await Se.subtitleCues.where("fileHash").equals(e).sortBy("index");if(t.length!==0)return t.map(gw)})}async function vc(e,t){await zt(()=>Se.transaction("rw",Se.subtitleCues,async()=>{await Se.subtitleCues.where("fileHash").equals(e).delete(),t.length>0&&await Se.subtitleCues.bulkPut(t.map(n=>xw(e,n)))}))}async function ww(e){await zt(()=>Se.subtitleCues.where("fileHash").equals(e).delete())}async function qr(e){const t=await Ge(void 0,()=>Se.subtitleFiles.where("bytesHash").equals(e.bytesHash).first()),n=t?{...t,...e,addedAt:e.addedAt??Date.now()}:{id:dc(),name:e.name,bytesHash:e.bytesHash,totalCues:e.totalCues,language:e.language,addedAt:e.addedAt??Date.now()};return await zt(()=>Se.subtitleFiles.put(n)),n}async function yy(){return Ge([],()=>Se.subtitleFiles.orderBy("addedAt").reverse().toArray())}async function bw(e){await zt(()=>Se.transaction("rw",Se.subtitleFiles,Se.subtitleCues,async()=>{const t=await Se.subtitleFiles.get(e);t&&(await Se.subtitleFiles.delete(e),await ww(t.bytesHash))}))}const gc="last-session";async function Sw(){return Ge(void 0,()=>Se.sessions.get(gc))}async function vi(e){const t=Date.now();if(await Ge(0,()=>Se.sessions.update(gc,{...e,updatedAt:t}))>0)return;const r={id:gc,updatedAt:t,videoName:e.videoName,videoBlob:e.videoBlob,subtitleName:e.subtitleName,subtitleText:e.subtitleText,subtitleHash:e.subtitleHash,videoTimeSeconds:e.videoTimeSeconds,secondarySubtitleName:e.secondarySubtitleName,secondarySubtitleText:e.secondarySubtitleText,secondarySubtitleHash:e.secondarySubtitleHash,secondarySubtitleEnabled:e.secondarySubtitleEnabled,secondarySubtitleOffsetMs:e.secondarySubtitleOffsetMs};await zt(()=>Se.sessions.put(r))}const kw=/[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/,jw=/^[.!?]+$/u,Kr=[1,2,3,4,5,10,15,20,25,30,40,50,60,70,80,90,100];function bh(e){return e.some(t=>kw.test(t.rawText))}function Nw(e){return!e.isWord&&jw.test(e.text)}function Cw(e){const t=e.trim();if(!t)return;const n=encodeURIComponent(`${t} definition`);window.open(`https://www.google.com/search?q=${n}`,"_blank","noopener,noreferrer")}function vy(e,t){const n=x.useMemo(()=>hw(e.rawText),[e.rawText]),r=x.useMemo(()=>{if(!t)return n;const i=n.findIndex(c=>Zs(c.token));if(i<=0)return n;const o=n.slice(0,i);return o.length===0?n:o.every(c=>Nw(c.token))?[...n.slice(i),...o]:n},[t,n]);return x.useMemo(()=>pw(r,{isRtl:t}),[r,t])}function uu({cue:e,onTokenClick:t,onTokenContextMenu:n,classForToken:r,isRtl:i=!1,className:o}){const c=vy(e,i);return u.jsx("div",{className:`pointer-events-none flex flex-wrap ${o??""}`,dir:i?"rtl":"ltr",children:c.map((h,p)=>{const g=p>0?c[p-1].token:void 0,S=h.token,b=my(g,S)?"ms-1":"";return u.jsx("button",{type:"button",className:`pointer-events-auto relative z-50 rounded px-0.5 text-left ${b} ${S.isWord?"focus:outline-none focus-visible:outline-none":"cursor-default"}`,onClick:E=>{S.isWord&&(t(S,e),E.currentTarget instanceof HTMLElement&&E.currentTarget.blur())},onContextMenu:E=>{S.isWord&&(E.preventDefault(),n(S,e))},disabled:!S.isWord,children:u.jsx("span",{className:`rounded px-1 py-0.5 transition-colors ${h.italic?"italic":""} ${r(S)}`,children:h.text})},`${h.text}-${p}`)})})}function Sh({cue:e,isRtl:t=!1,className:n}){const r=vy(e,t);return u.jsx("div",{className:`flex flex-wrap ${n??""}`,dir:t?"rtl":"ltr",children:r.map((i,o)=>{const c=o>0?r[o-1].token:void 0,h=i.token,p=my(c,h)?"ms-1":"";return u.jsx("span",{className:`rounded px-1 py-0.5 ${p}`,children:i.text},`${i.text}-${o}`)})})}function kh(){const e=x.useRef(null),t=x.useRef(null),n=x.useRef(null),r=x.useRef(new Map),i=x.useRef({}),[o,c]=x.useState(""),[h,p]=x.useState(null),[g,S]=x.useState(null),[b,E]=x.useState(""),[U,A]=x.useState([]),[B,q]=x.useState(0),[N,v]=x.useState(!1),[k,$]=x.useState(0),[X,Q]=x.useState(null),[J,re]=x.useState(!1),[je,he]=x.useState(""),[Ie,Ue]=x.useState([]),[oe,G]=x.useState(!1),[ee,Y]=x.useState(0),[we,H]=x.useState(null),[ie,ne]=x.useState(!1),[xe,Ne]=x.useState(!1),[ze,Ct]=x.useState(!1),[ut,ct]=x.useState(!1),[It,Yi]=x.useState(!1),[D,Ee]=x.useState(1),[ve,ge]=x.useState(null),[De,rt]=x.useState(!0),[ot,Sn]=x.useState(!0),Kt=x.useRef(null),In=x.useRef(null),Jn=x.useRef(0),Zn=yt(T=>T.addUnknownWordFromToken),Ft=yt(T=>T.classForToken),Xi=yt(T=>T.initialize),er=yt(T=>T.initialized),Gi=it(T=>T.initialize),kn=it(T=>T.initialized),jn=it(T=>T.setLastOpened),cn=x.useCallback((T,ue)=>{Zn(T,ue.rawText)},[Zn]),Lr=x.useCallback((T,ue)=>{Cw(T.text),Zn(T,ue.rawText)},[Zn]),Et=x.useCallback(T=>{A(T),re(T.length>0&&bh(T))},[]),Wt=x.useCallback(T=>{Ue(T),Ne(T.length>0&&bh(T))},[]),dn=x.useCallback(async(T,ue,K)=>{Et(K),await Promise.all([vc(T,K),qr({name:ue,bytesHash:T,totalCues:K.length})])},[Et]),Mt=x.useCallback(async(T,ue,K)=>{Wt(K),await Promise.all([vc(T,K),qr({name:ue,bytesHash:T,totalCues:K.length})])},[Wt]);x.useEffect(()=>{er||Xi()},[er,Xi]),x.useEffect(()=>{kn||Gi()},[kn,Gi]),x.useEffect(()=>{const T=()=>{const ue=e.current;Ct(document.fullscreenElement===ue)};return document.addEventListener("fullscreenchange",T),()=>{document.removeEventListener("fullscreenchange",T)}},[]),x.useEffect(()=>{const T=t.current;if(!T)return;const ue=()=>ct(!T.paused),K=()=>Yi(T.muted),be=()=>Ee(T.volume),Pe=()=>{ge(Number.isFinite(T.duration)?T.duration*1e3:null)};return ue(),K(),be(),Pe(),T.addEventListener("play",ue),T.addEventListener("pause",ue),T.addEventListener("volumechange",K),T.addEventListener("volumechange",be),T.addEventListener("loadedmetadata",Pe),T.addEventListener("durationchange",Pe),()=>{T.removeEventListener("play",ue),T.removeEventListener("pause",ue),T.removeEventListener("volumechange",K),T.removeEventListener("volumechange",be),T.removeEventListener("loadedmetadata",Pe),T.removeEventListener("durationchange",Pe)}},[]);const Ir=x.useCallback(async()=>{const T=e.current;if(T&&document.fullscreenElement!==T)try{await T.requestFullscreen()}catch(ue){console.error("Failed to enter fullscreen",ue)}},[]),ai=x.useCallback(async()=>{if(document.fullscreenElement)try{await document.exitFullscreen()}catch(T){console.error("Failed to exit fullscreen",T)}},[]),Ht=x.useCallback(()=>{if(ze){ai();return}Ir()},[Ir,ai,ze]);x.useEffect(()=>{const T=new Worker(new URL(""+new URL("srtWorker-CQIlcpsu.js",import.meta.url).href,import.meta.url),{type:"module"});return n.current=T,()=>{T.terminate(),n.current=null}},[]),x.useEffect(()=>{const T=n.current;if(!T)return;const ue=async K=>{const be=r.current.get(K.data.id);if(be){if(i.current[be.target]!==K.data.id){r.current.delete(K.data.id);return}if(r.current.delete(K.data.id),K.data.error){be.target==="secondary"?(H(K.data.error),G(!1)):(Q(K.data.error),v(!1));return}try{be.target==="secondary"?(H(null),await Mt(be.hash,be.fileName,K.data.cues)):(Q(null),await dn(be.hash,be.fileName,K.data.cues))}catch(Pe){console.error(Pe),be.target==="secondary"?H("Failed to store parsed secondary subtitles."):Q("Failed to store parsed subtitles.")}finally{be.target==="secondary"?G(!1):v(!1)}}};return T.addEventListener("message",ue),()=>{T.removeEventListener("message",ue)}},[dn,Mt,Et,Wt]),x.useEffect(()=>{let T=!1;return(async()=>{const K=await Sw();if(!(T||!K)){if(K.videoBlob){const be=K.videoBlob;p(Pe=>(Pe&&URL.revokeObjectURL(Pe),URL.createObjectURL(be))),c(K.videoName??"")}else K.videoName&&c(K.videoName);if(K.subtitleName&&E(K.subtitleName),typeof K.videoTimeSeconds=="number"&&S(K.videoTimeSeconds),K.secondarySubtitleName&&he(K.secondarySubtitleName),typeof K.secondarySubtitleEnabled=="boolean"?ne(K.secondarySubtitleEnabled):K.secondarySubtitleHash&&ne(!0),typeof K.secondarySubtitleOffsetMs=="number"&&Y(K.secondarySubtitleOffsetMs),!(!K.subtitleHash&&!K.secondarySubtitleHash)){if(K.secondarySubtitleHash){G(!0),H(null);const be=await Gr(K.secondarySubtitleHash);if(T)return;if(be)Wt(be),G(!1),await qr({name:K.secondarySubtitleName??K.secondarySubtitleHash,bytesHash:K.secondarySubtitleHash,totalCues:be.length});else if(K.secondarySubtitleText){const Pe=n.current;if(Pe){const ke=crypto.randomUUID();r.current.set(ke,{hash:K.secondarySubtitleHash,fileName:K.secondarySubtitleName??K.secondarySubtitleHash,target:"secondary"}),i.current.secondary=ke,Pe.postMessage({id:ke,text:K.secondarySubtitleText})}else try{const ke=ks(K.secondarySubtitleText).map(Re=>({...Re,tokens:Re.tokens??Hn(Re.rawText)}));await Mt(K.secondarySubtitleHash,K.secondarySubtitleName??K.secondarySubtitleHash,ke)}catch(ke){T||(H(ke instanceof Error?ke.message:"Failed to parse secondary subtitles"),Wt([]))}finally{T||G(!1)}}else G(!1)}if(K.subtitleHash){v(!0),Q(null);const be=await Gr(K.subtitleHash);if(T)return;if(be){Et(be),v(!1),await qr({name:K.subtitleName??K.subtitleHash,bytesHash:K.subtitleHash,totalCues:be.length});return}if(!K.subtitleText){v(!1);return}const Pe=n.current;if(Pe){const ke=crypto.randomUUID();r.current.set(ke,{hash:K.subtitleHash,fileName:K.subtitleName??K.subtitleHash,target:"primary"}),i.current.primary=ke,Pe.postMessage({id:ke,text:K.subtitleText});return}try{const ke=ks(K.subtitleText).map(Re=>({...Re,tokens:Re.tokens??Hn(Re.rawText)}));await dn(K.subtitleHash,K.subtitleName??K.subtitleHash,ke)}catch(ke){T||(Q(ke instanceof Error?ke.message:"Failed to parse subtitles"),Et([]))}finally{T||v(!1)}}}}})(),()=>{T=!0}},[dn,Mt]),x.useEffect(()=>{if(h)return()=>{URL.revokeObjectURL(h)}},[h]),x.useEffect(()=>{const T=t.current;T&&(T.currentTime=0)},[h]),x.useEffect(()=>{const T=t.current;if(!T||g===null)return;const ue=()=>{T.currentTime=g};if(T.readyState>=1){ue();return}return T.addEventListener("loadedmetadata",ue),()=>{T.removeEventListener("loadedmetadata",ue)}},[g,h]),x.useEffect(()=>{if(!kn)return;jn(o||b?{videoName:o||void 0,srtName:b||void 0}:void 0)},[kn,jn,b,o]);const ye=x.useCallback(()=>{const T=t.current;T&&(T.pause(),T.currentTime=0)},[]),Nn=x.useCallback(()=>{const T=t.current;T&&(T.paused?T.play().catch(ue=>{console.error("Failed to play video",ue)}):T.pause())},[]),fn=x.useCallback(()=>{const T=t.current;T&&(T.muted=!T.muted)},[]),Fn=x.useCallback(T=>{const ue=t.current;if(!ue||ue.readyState===0)return;const K=Math.min(Math.max(ue.currentTime+T,0),Number.isFinite(ue.duration)?ue.duration:Number.POSITIVE_INFINITY);ue.currentTime=K},[]),fe=x.useCallback(T=>{const ue=t.current;if(!ue||ue.readyState===0)return;const K=Number(T.target.value);Number.isFinite(K)&&(ue.currentTime=K,q(K*1e3))},[]),Ji=x.useCallback(T=>{const ue=t.current;if(!ue)return;const K=Number(T.target.value);Number.isFinite(K)&&(ue.volume=K,K>0&&(ue.muted=!1),Ee(K))},[]),Zi=x.useCallback(T=>{const ue=t.current;if(!ue)return;const K=Math.round(ue.volume*100),be=Math.min(Math.max(K,0),100);let Pe=Kr[0];if(T==="up"){Pe=Kr[Kr.length-1];for(const Re of Kr)if(Re>be){Pe=Re;break}}else{Pe=Kr[0];for(let Re=Kr.length-1;Re>=0;Re-=1){const Ar=Kr[Re];if(Ar<be){Pe=Ar;break}}}const ke=Pe/100;ue.volume=ke,ke>0&&(ue.muted=!1),Ee(ke)},[]),tr=x.useCallback(async T=>{ye(),Q(null),v(!0),q(0);const ue=await yc(T),K=await mc(T);E(T.name),Et([]),vi({subtitleName:T.name,subtitleText:ue,subtitleHash:K});const be=await Gr(K);if(be){Et(be),v(!1),await qr({name:T.name,bytesHash:K,totalCues:be.length});return}const Pe=n.current;if(Pe){const ke=crypto.randomUUID();r.current.set(ke,{hash:K,fileName:T.name,target:"primary"}),i.current.primary=ke,Pe.postMessage({id:ke,text:ue});return}try{const ke=ks(ue).map(Re=>({...Re,tokens:Re.tokens??Hn(Re.rawText)}));await dn(K,T.name,ke)}catch(ke){Q(ke instanceof Error?ke.message:"Failed to parse subtitles"),Et([])}finally{v(!1)}},[dn,Et,ye]),es=x.useCallback(async T=>{H(null),G(!0);const ue=await yc(T),K=await mc(T);he(T.name),Wt([]),vi({secondarySubtitleName:T.name,secondarySubtitleText:ue,secondarySubtitleHash:K,secondarySubtitleEnabled:!0});const be=await Gr(K);if(be){Wt(be),G(!1),ne(!0),await qr({name:T.name,bytesHash:K,totalCues:be.length});return}const Pe=n.current;if(Pe){const ke=crypto.randomUUID();r.current.set(ke,{hash:K,fileName:T.name,target:"secondary"}),i.current.secondary=ke,Pe.postMessage({id:ke,text:ue});return}try{const ke=ks(ue).map(Re=>({...Re,tokens:Re.tokens??Hn(Re.rawText)}));await Mt(K,T.name,ke),ne(!0)}catch(ke){H(ke instanceof Error?ke.message:"Failed to parse secondary subtitles"),Wt([])}finally{G(!1)}},[Mt,Wt]),ts=x.useCallback(async T=>{const ue=T.target.files;if(!ue||ue.length===0)return;const K=Array.from(ue),be=K.find(Re=>Re.type.startsWith("video/")||Re.name.toLowerCase().endsWith(".mkv"));if(!be){T.target.value="";return}ye(),S(0),Jn.current=0,c(be.name),q(0),p(Re=>(Re&&URL.revokeObjectURL(Re),URL.createObjectURL(be))),vi({videoName:be.name,videoBlob:be,videoTimeSeconds:0});const Pe=be.name.replace(/\.[^.]+$/,"").toLowerCase(),ke=K.find(Re=>Re.name.toLowerCase()===`${Pe}.srt`&&Re!==be);ke&&await tr(ke),T.target.value=""},[tr,ye]),ia=x.useCallback(async T=>{var K;const ue=(K=T.target.files)==null?void 0:K[0];ue&&(await tr(ue),T.target.value="")},[tr]),sa=x.useCallback(async T=>{var K;const ue=(K=T.target.files)==null?void 0:K[0];ue&&(await es(ue),T.target.value="")},[es]),nr=()=>{const T=t.current;T&&(q(T.currentTime*1e3),T.currentTime-Jn.current>=2&&(Jn.current=T.currentTime,vi({videoTimeSeconds:T.currentTime})))},en=x.useMemo(()=>U.filter(T=>{const ue=T.startMs+k,K=T.endMs+k;return ue<=B&&K>=B}),[U,B,k]),Fr=x.useMemo(()=>Ie.filter(T=>{const ue=T.startMs+ee,K=T.endMs+ee;return ue<=B&&K>=B}),[Ie,B,ee]),ui=x.useMemo(()=>Ho(B),[B]),Be=x.useMemo(()=>ve?Ho(ve):"--:--",[ve]),et=x.useMemo(()=>ve?Math.min(100,Math.max(0,B/ve*100)):0,[B,ve]),lo=x.useCallback(T=>{$(ue=>ue+T)},[]),Mr=x.useCallback(T=>{Y(ue=>{const K=ue+T;return vi({secondarySubtitleOffsetMs:K}),K})},[]),rr=x.useCallback(()=>{Ie.length!==0&&ne(T=>{const ue=!T;return vi({secondarySubtitleEnabled:ue}),ue})},[Ie.length]),pt=x.useCallback(()=>{var T;(T=e.current)==null||T.focus()},[]),ir=x.useCallback(()=>{Kt.current!==null&&(window.clearTimeout(Kt.current),Kt.current=null)},[]),_t=x.useCallback(()=>{In.current!==null&&(window.clearTimeout(In.current),In.current=null)},[]),hn=x.useCallback(()=>{ir(),ut&&(Kt.current=window.setTimeout(()=>{rt(!1)},2500))},[ir,ut]),tn=x.useCallback(()=>{rt(!0),hn()},[hn]),Mn=x.useCallback(()=>{_t(),ze&&(In.current=window.setTimeout(()=>{Sn(!1)},1e3))},[_t,ze]),ao=x.useCallback(()=>{Sn(!0),Mn()},[Mn]),Cn=x.useCallback(()=>{tn(),ao()},[tn,ao]),sr=x.useCallback(T=>vw(T,{video:t.current,seekBy:Fn,toggleFullscreen:Ht,toggleMute:fn,togglePlayback:Nn,toggleSecondarySubtitle:rr,stepVolume:Zi}),[Fn,Zi,Ht,fn,Nn,rr]),pn=x.useCallback(T=>{sr(T.nativeEvent)&&(T.preventDefault(),T.stopPropagation())},[sr]);return x.useEffect(()=>(document.addEventListener("keydown",sr,!0),()=>{document.removeEventListener("keydown",sr,!0)}),[sr]),x.useEffect(()=>{if(!ut){ir(),rt(!0);return}hn()},[ir,ut,hn]),x.useEffect(()=>{if(!ze){_t(),Sn(!0);return}Mn()},[_t,ze,Mn]),x.useEffect(()=>()=>{ir(),_t()},[ir,_t]),u.jsxs("div",{className:"grid gap-6 lg:grid-cols-[2fr,1fr]",onKeyDown:pn,children:[u.jsxs("section",{className:"space-y-4",children:[u.jsxs("div",{ref:e,className:`relative aspect-video overflow-hidden rounded-lg bg-black shadow-xl focus:outline-none focus-visible:none ${ze&&!ot?"cursor-none":""}`,onDoubleClick:Ht,onMouseMove:Cn,onMouseLeave:()=>{ut&&rt(!1)},onFocusCapture:tn,tabIndex:-1,children:[u.jsx("video",{ref:t,className:"h-full w-full focus:outline-none focus-visible:outline-none",onClick:()=>{Nn(),pt()},onTimeUpdate:nr,src:h??void 0,tabIndex:-1,children:u.jsx("track",{kind:"subtitles",srcLang:"en",label:b||"Subtitles"})}),u.jsx("div",{className:`absolute inset-x-0 bottom-0 z-20 flex flex-col gap-3 bg-gradient-to-t from-black/80 via-black/40 to-transparent px-4 pb-4 pt-6 text-white transition-opacity duration-300 ${De?"opacity-100":"pointer-events-none opacity-0"}`,onDoubleClick:T=>T.stopPropagation(),children:u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("input",{type:"range",min:0,max:ve?Math.max(ve/1e3,0):0,step:.1,value:ve?Math.min(B/1e3,ve/1e3):0,onChange:fe,onKeyDown:pn,onFocus:T=>{T.currentTarget.blur(),pt()},className:"player-timeline w-full cursor-pointer","aria-label":"Seek position",disabled:!ve,tabIndex:-1,style:{"--timeline-gradient":`linear-gradient(90deg, rgba(56, 189, 248, 0.6) 0%, rgba(56, 189, 248, 0.6) ${et}%, rgba(148, 163, 184, 0.35) ${et}%, rgba(148, 163, 184, 0.35) 100%)`}}),u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-sm",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsxs("button",{type:"button",className:`group play-variant variant-24 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-200 ${ut?"is-paused":""}`,onClick:()=>{Nn(),pt()},"aria-label":ut?"Pause video":"Play video",children:[u.jsx("span",{className:"play-variant-icon","aria-hidden":!0}),u.jsx("span",{className:"player-tooltip",children:"Space"})]}),u.jsxs("div",{className:"group relative flex items-center gap-2",children:[u.jsxs("button",{type:"button",className:"player-icon-button text-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-200",onClick:()=>{fn(),pt()},"aria-label":It?"Unmute video":"Mute video",children:[u.jsx("span",{"aria-hidden":!0,children:It?"":""}),u.jsx("span",{className:"player-tooltip",children:"M"})]}),u.jsx("div",{className:"max-w-0 overflow-hidden transition-all duration-300 group-hover:max-w-[120px]",children:u.jsx("input",{id:"player-volume",type:"range",min:0,max:1,step:.05,value:It?0:D,onChange:Ji,onKeyDown:pn,className:"player-volume w-24 cursor-pointer","aria-label":"Volume"})})]})]}),u.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/70",style:{fontFamily:'"Comic Sans MS", "Comic Sans", cursive'},children:[ui," / ",Be]}),u.jsx("div",{className:"flex flex-wrap items-center gap-2",children:u.jsxs("div",{className:"flex flex-row-reverse items-center gap-2",children:[u.jsxs("button",{type:"button",className:"group player-icon-button text-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-200",onClick:()=>{Ht(),pt()},"aria-label":ze?"Exit fullscreen":"Enter fullscreen",children:[u.jsx("span",{"aria-hidden":!0,children:""}),u.jsx("span",{className:"player-tooltip",children:"F"})]}),u.jsxs("button",{type:"button",className:"group player-icon-button text-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-200",onClick:()=>{Fn(-5),pt()},"aria-label":"Seek backward 5 seconds",children:["-5s ",u.jsx("span",{className:"player-tooltip",children:""})]}),u.jsxs("button",{type:"button",className:"group player-icon-button text-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-200",onClick:()=>{Fn(5),pt()},"aria-label":"Seek forward 5 seconds",children:["+5s ",u.jsx("span",{className:"player-tooltip",children:""})]})]})})]})]})}),ie&&Fr.length>0&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"pointer-events-none absolute inset-0 z-30 flex flex-col justify-start p-6",children:u.jsx("div",{className:"pointer-events-none flex flex-col items-center gap-3",children:Fr.map(T=>u.jsx("div",{className:"subtitle-overlay subtitle-overlay-secondary subtitle-overlay-bg max-w-3xl text-center",children:u.jsx(Sh,{cue:T,isRtl:xe,className:"justify-center text-center"})},`${T.startMs}-${T.endMs}-bg`))})}),u.jsx("div",{className:"pointer-events-none absolute inset-0 z-40 flex flex-col justify-start p-6",children:u.jsx("div",{className:"pointer-events-none flex flex-col items-center gap-3",children:Fr.map(T=>u.jsx("div",{className:"subtitle-overlay subtitle-overlay-secondary max-w-3xl text-center",children:u.jsx(uu,{cue:T,classForToken:Ft,onTokenClick:cn,onTokenContextMenu:Lr,isRtl:xe,className:"justify-center text-center"})},`${T.startMs}-${T.endMs}`))})})]}),en.length>0&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"pointer-events-none absolute inset-0 z-30 flex flex-col justify-end p-6",children:u.jsx("div",{className:"pointer-events-none flex flex-col items-center gap-3",children:en.map(T=>u.jsx("div",{className:"subtitle-overlay subtitle-overlay-bg max-w-3xl text-center",children:u.jsx(Sh,{cue:T,isRtl:J,className:"justify-center text-center"})},`${T.startMs}-${T.endMs}-bg`))})}),u.jsx("div",{className:"pointer-events-none absolute inset-0 z-40 flex flex-col justify-end p-6",children:u.jsx("div",{className:"pointer-events-none flex flex-col items-center gap-3",children:en.map(T=>u.jsx("div",{className:"subtitle-overlay max-w-3xl text-center",children:u.jsx(uu,{cue:T,classForToken:Ft,onTokenClick:cn,onTokenContextMenu:Lr,isRtl:J,className:"justify-center text-center"})},`${T.startMs}-${T.endMs}`))})})]})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3 rounded-lg bg-white/5 p-3 text-sm text-white/80",children:[u.jsx("span",{className:"font-medium text-white",children:"Subtitle timing"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",onClick:()=>{lo(-500),pt()},children:"0.5s"}),u.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",onClick:()=>{lo(500),pt()},children:"+0.5s"})]}),u.jsxs("span",{className:"text-xs text-white/60",children:["Offset: ",k>=0?"+":"",(k/1e3).toFixed(1),"s"]})]}),u.jsxs("label",{className:"flex w-full cursor-pointer flex-col gap-2 rounded-lg border border-dashed border-white/20 bg-white/5 p-4 text-sm hover:border-white/40",children:[u.jsx("span",{className:"font-medium",children:"Load video"}),u.jsx("input",{type:"file",accept:"video/*,video/x-matroska,.mkv,.MKV",multiple:!0,className:"hidden",onChange:ts}),u.jsx("span",{className:"text-xs text-white/60",children:"Automatically pairs a matching .srt when selected together."}),u.jsxs("span",{className:"text-xs text-white/60",children:["Current: ",o||"None"]})]}),u.jsxs("label",{className:"flex w-full cursor-pointer flex-col gap-2 rounded-lg border border-dashed border-white/20 bg-white/5 p-4 text-sm hover:border-white/40",children:[u.jsx("span",{className:"font-medium",children:"Load subtitles (SRT)"}),u.jsx("input",{type:"file",accept:".srt",className:"hidden",onChange:ia}),u.jsxs("span",{className:"text-xs text-white/60",children:["Current: ",b||"None"]}),N&&u.jsx("span",{className:"text-xs text-amber-300",children:"Processing subtitles"}),X&&u.jsx("span",{className:"text-xs text-red-400",children:X})]}),u.jsxs("label",{className:"flex items-center gap-2 text-xs text-white/70",children:[u.jsx("input",{type:"checkbox",checked:J,onChange:T=>re(T.target.checked),className:"h-3 w-3 rounded border-white/30 bg-slate-900"}),"Right-to-left order"]}),u.jsxs("details",{className:"rounded-lg border border-white/10 bg-white/5 p-4 text-sm",children:[u.jsx("summary",{className:"cursor-pointer list-none font-medium text-white/90",children:"Second subtitles (optional)"}),u.jsxs("div",{className:"mt-3 space-y-3",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 text-xs font-medium text-white transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",onClick:()=>{rr(),pt()},disabled:Ie.length===0,children:ie?"On":"Off"}),u.jsx("span",{className:"text-xs text-white/60",children:"Shows a second line at the top. Shortcut: H/"})]}),u.jsxs("label",{className:"flex w-full cursor-pointer flex-col gap-2 rounded-lg border border-dashed border-white/20 bg-white/5 p-3 text-xs hover:border-white/40",children:[u.jsx("span",{className:"font-medium text-sm",children:"Load second subtitles (SRT)"}),u.jsx("input",{type:"file",accept:".srt",className:"hidden",onChange:sa}),u.jsxs("span",{className:"text-xs text-white/60",children:["Current: ",je||"None"]}),oe&&u.jsx("span",{className:"text-xs text-amber-300",children:"Processing second subtitles"}),we&&u.jsx("span",{className:"text-xs text-red-400",children:we})]}),u.jsxs("label",{className:"flex items-center gap-2 text-xs text-white/70",children:[u.jsx("input",{type:"checkbox",checked:xe,onChange:T=>Ne(T.target.checked),className:"h-3 w-3 rounded border-white/30 bg-slate-900"}),"Right-to-left order"]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3 rounded-lg bg-white/5 p-2 text-xs text-white/80",children:[u.jsx("span",{className:"font-medium text-white",children:"Second subtitle timing"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",onClick:()=>{Mr(-500),pt()},children:"0.5s"}),u.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",onClick:()=>{Mr(500),pt()},children:"+0.5s"})]}),u.jsxs("span",{className:"text-xs text-white/60",children:["Offset: ",ee>=0?"+":"",(ee/1e3).toFixed(1),"s"]})]})]})]})]}),u.jsx("aside",{className:"space-y-4",children:u.jsxs("div",{className:"rounded-lg bg-black/40 p-4",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Active Cue"}),N?u.jsx("p",{className:"mt-3 text-sm text-white/60",children:"Processing subtitles"}):en.length>0?u.jsx("div",{className:"mt-3 space-y-2 text-sm",children:en.map(T=>u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"text-white/60",children:[Ho(Math.max(0,T.startMs+k)),"  ",Ho(Math.max(0,T.endMs+k))]}),u.jsx(uu,{cue:T,classForToken:Ft,onTokenClick:cn,onTokenContextMenu:Lr,isRtl:J})]},`${T.startMs}-${T.endMs}`))}):u.jsx("p",{className:"text-sm text-white/50",children:"Load a subtitle file to see cues."})]})})]})}const Ew="./word-frequency.csv";function _w(e){const t=e.split(/\r?\n/),n=new Map;for(let r=1;r<t.length;r+=1){const i=t[r];if(!i)continue;const o=i.indexOf(","),c=(o===-1?i:i.slice(0,o)).trim().toLowerCase();!c||n.has(c)||n.set(c,r)}return n}async function Pw(){const e=await fetch(Ew);if(!e.ok)throw new Error("Failed to load frequency list.");const t=await e.text();return _w(t)}let cu=null;function Tw(){return cu||(cu=Pw()),cu}function Rw(e,t){if(!t)return null;const n=t.get(e.stem.toLowerCase());if(typeof n=="number")return n;const r=t.get(e.normalized.toLowerCase());return typeof r=="number"?r:null}function Ow({word:e,frequencyRank:t,onDelete:n,visibleColumns:r}){return u.jsxs("tr",{className:"hover:bg-white/5",children:[r.word&&u.jsx("td",{className:"px-4 py-2 font-medium",children:e.original}),r.originalSentence&&u.jsx("td",{className:"px-4 py-2 text-white/70",children:e.originalSentence?u.jsx("span",{className:"block max-w-xl break-words",children:e.originalSentence}):""}),r.normalized&&u.jsx("td",{className:"px-4 py-2 text-white/70",children:e.normalized}),r.stem&&u.jsx("td",{className:"px-4 py-2 text-white/70",children:e.stem}),r.frequencyRank&&u.jsx("td",{className:"px-4 py-2 text-right text-white/70",children:typeof t=="number"?`#${t.toLocaleString()}`:"-"}),r.updatedAt&&u.jsx("td",{className:"px-4 py-2 text-right text-white/60",children:new Date(e.updatedAt).toLocaleString()}),r.actions&&u.jsx("td",{className:"px-4 py-2 text-right",children:u.jsx("button",{type:"button",className:"rounded border border-red-500/40 px-2 py-1 text-xs font-medium text-red-300 hover:bg-red-500/10",onClick:()=>{n(e.id)},children:"Delete"})})]})}function Lw(){const[e,t]=x.useState(null),[n,r]=x.useState(null),[i,o]=x.useState(!1),[c,h]=x.useState(null),[p,g]=x.useState("updatedAt"),[S,b]=x.useState("desc"),[E,U]=x.useState(!1),[A,B]=x.useState({word:!0,originalSentence:!0,normalized:!0,stem:!0,frequencyRank:!0,updatedAt:!0,actions:!0}),[q,N]=x.useState(null),v=yt(G=>G.words),k=yt(G=>G.initialized),$=yt(G=>G.initialize),X=yt(G=>G.removeWord),Q=yt(G=>G.reanalyzeStems);x.useEffect(()=>{k||$()},[k,$]),x.useEffect(()=>{let G=!1;return o(!0),h(null),Tw().then(ee=>{G||N(ee)}).catch(ee=>{G||h(ee instanceof Error?ee.message:"Unable to load frequency list.")}).finally(()=>{G||o(!1)}),()=>{G=!0}},[]);const J=x.useMemo(()=>{const G=new Map;for(const ee of v)G.set(ee.id,Rw(ee,q));return G},[q,v]),re=x.useMemo(()=>{const G=[...v],ee=S==="asc"?1:-1;return G.sort((Y,we)=>{if(p==="alphabetical")return Y.normalized.localeCompare(we.normalized,void 0,{sensitivity:"base"})*ee;if(p==="frequencyRank"){const H=J.get(Y.id),ie=J.get(we.id),ne=typeof H=="number"?H:Number.POSITIVE_INFINITY,xe=typeof ie=="number"?ie:Number.POSITIVE_INFINITY;return ne!==xe?S==="asc"?ne-xe:xe-ne:Y.normalized.localeCompare(we.normalized,void 0,{sensitivity:"base"})}return(Y.updatedAt-we.updatedAt)*ee}),G},[J,S,p,v]),je=x.useCallback(async()=>{var ee;const G=re.map(Y=>Y.original).join(`
`);if(G.trim()===""){t(null),r("No words available to copy.");return}try{if((ee=navigator.clipboard)!=null&&ee.writeText)await navigator.clipboard.writeText(G);else{const Y=document.createElement("textarea");Y.value=G,Y.setAttribute("readonly","true"),Y.style.position="absolute",Y.style.left="-9999px",document.body.appendChild(Y),Y.select(),document.execCommand("copy"),document.body.removeChild(Y)}t(null),r(`Copied ${re.length} word${re.length===1?"":"s"} to the clipboard.`)}catch(Y){r(null),t(Y instanceof Error?Y.message:"Failed to copy words.")}},[re]),he=x.useCallback(async()=>{var ee;const G=re.map(Y=>{const we=(Y.originalSentence??"").trim();return`${Y.original}, as in "${we}"`}).join(`
`);if(G.trim()===""){t(null),r("No words available to copy.");return}try{if((ee=navigator.clipboard)!=null&&ee.writeText)await navigator.clipboard.writeText(G);else{const Y=document.createElement("textarea");Y.value=G,Y.setAttribute("readonly","true"),Y.style.position="absolute",Y.style.left="-9999px",document.body.appendChild(Y),Y.select(),document.execCommand("copy"),document.body.removeChild(Y)}t(null),r(`Copied ${re.length} word${re.length===1?"":"s"} with sentences.`)}catch(Y){r(null),t(Y instanceof Error?Y.message:"Failed to copy words.")}},[re]),Ie=x.useCallback(G=>{g(G),b(G==="updatedAt"?"desc":"asc")},[]),Ue=x.useCallback(G=>{b(ee=>p===G?ee==="asc"?"desc":"asc":G==="updatedAt"?"desc":"asc"),g(G)},[p]),oe=x.useCallback(async()=>{U(!0),t(null),r(null);try{await Q(),r("Re-analyzed stems.")}catch(G){t(G instanceof Error?G.message:"Failed to re-analyze stems.")}finally{U(!1)}},[Q]);return k?re.length===0?u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Unknown Words"}),u.jsx("p",{className:"text-sm text-white/60",children:"Click a word in the player to add it to your learning list."}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{je()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20",children:"Copy Words"}),u.jsx("button",{type:"button",onClick:()=>{he()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20",children:"Copy Words + Sentences"}),u.jsx("a",{href:"https://chatgpt.com/share/69795a95-8b4c-8013-977d-dc008df46bce",target:"_blank",rel:"noreferrer",className:"rounded bg-emerald-500/20 px-3 py-1 text-xs font-medium text-emerald-200 hover:bg-emerald-500/30",children:"Play with ChatGPT"}),u.jsx("button",{type:"button",onClick:()=>{oe()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20 disabled:opacity-50",disabled:E,children:E?"Re-analyzing":"Re-analyze"})]}),e&&u.jsx("p",{className:"text-xs text-red-400",children:e}),n&&u.jsx("p",{className:"text-xs text-emerald-400",children:n})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Unknown Words"}),u.jsx("p",{className:"text-xs text-white/50",children:"Review your list or prune items you no longer need."})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{je()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20",children:"Copy Words"}),u.jsx("button",{type:"button",onClick:()=>{he()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20",children:"Copy Words + Sentences"}),u.jsx("a",{href:"https://chatgpt.com/share/69112ad9-3858-8013-a13d-061dd7661a56",target:"_blank",rel:"noreferrer",className:"rounded bg-emerald-500/20 px-3 py-1 text-xs font-medium text-emerald-200 hover:bg-emerald-500/30",children:"Play with ChatGPT"}),u.jsx("button",{type:"button",onClick:()=>{oe()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20 disabled:opacity-50",disabled:E,children:E?"Re-analyzing...":"Re-analyze"})]})]}),u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-xs text-white/60",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsxs("span",{children:[re.length," items"]}),u.jsxs("label",{className:"flex items-center gap-1",children:[u.jsx("span",{children:"Sort"}),u.jsxs("select",{value:p,onChange:G=>{Ie(G.target.value)},className:"rounded border border-white/10 bg-slate-900/80 px-2 py-1 text-white hover:bg-slate-800 focus:outline-none focus-visible:outline-none",children:[u.jsx("option",{value:"updatedAt",className:"bg-slate-900 text-white",children:"Updated"}),u.jsx("option",{value:"alphabetical",className:"bg-slate-900 text-white",children:"A-Z"}),u.jsx("option",{value:"frequencyRank",className:"bg-slate-900 text-white",children:"Frequency Rank"})]})]}),u.jsx("button",{type:"button",className:"rounded border border-white/10 bg-white/5 px-2 py-1 text-white",onClick:()=>b(G=>G==="asc"?"desc":"asc"),children:S==="asc"?"Ascending":"Descending"}),u.jsxs("details",{className:"relative",children:[u.jsxs("summary",{className:"inline-flex cursor-pointer list-none items-center gap-1 rounded border border-white/10 bg-slate-900/80 px-2 py-1 text-white hover:bg-slate-800 focus:outline-none focus-visible:outline-none",children:["View",u.jsx("span",{className:"text-[10px] text-white/70",children:""})]}),u.jsx("div",{className:"absolute left-0 z-10 mt-2 w-56 rounded border border-white/10 bg-slate-900/95 p-3 text-xs text-white shadow-lg",children:[["word","Word"],["originalSentence","Original sentence"],["normalized","Normalized"],["stem","Stem"],["frequencyRank","Frequency Rank"],["updatedAt","Updated"],["actions","Actions"]].map(([G,ee])=>u.jsxs("label",{className:"flex items-center gap-2 py-1",children:[u.jsx("input",{type:"checkbox",className:"h-3 w-3 rounded border-white/30 bg-slate-900",checked:A[G],onChange:()=>B(Y=>({...Y,[G]:!Y[G]}))}),u.jsx("span",{children:ee})]},G))})]})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i&&u.jsx("span",{children:"Loading frequency ranks..."}),c&&u.jsx("span",{className:"text-amber-300",children:c}),e?u.jsx("span",{className:"text-red-400",children:e}):n?u.jsx("span",{className:"text-emerald-400",children:n}):null]})]}),u.jsx("div",{className:"overflow-hidden rounded-lg border border-white/10",children:u.jsxs("table",{className:"min-w-full divide-y divide-white/10",children:[u.jsx("thead",{className:"bg-white/5 text-left text-xs uppercase tracking-wide text-white/60",children:u.jsxs("tr",{children:[A.word&&u.jsx("th",{className:"px-4 py-2",children:u.jsxs("button",{type:"button",onClick:()=>Ue("alphabetical"),className:"inline-flex items-center gap-1 hover:text-white",children:["Word",p==="alphabetical"&&u.jsx("span",{className:"text-[10px] text-white/70",children:S==="asc"?"":""})]})}),A.originalSentence&&u.jsx("th",{className:"px-4 py-2",children:"Original sentence"}),A.normalized&&u.jsx("th",{className:"px-4 py-2",children:"Normalized"}),A.stem&&u.jsx("th",{className:"px-4 py-2",children:"Stem"}),A.frequencyRank&&u.jsx("th",{className:"px-4 py-2 text-right",children:u.jsxs("button",{type:"button",onClick:()=>Ue("frequencyRank"),className:"flex w-full items-center justify-end gap-1 hover:text-white",children:["Frequency Rank",p==="frequencyRank"&&u.jsx("span",{className:"text-[10px] text-white/70",children:S==="asc"?"":""})]})}),A.updatedAt&&u.jsx("th",{className:"px-4 py-2 text-right",children:u.jsxs("button",{type:"button",onClick:()=>Ue("updatedAt"),className:"flex w-full items-center justify-end gap-1 hover:text-white",children:["Updated",p==="updatedAt"&&u.jsx("span",{className:"text-[10px] text-white/70",children:S==="asc"?"":""})]})}),A.actions&&u.jsx("th",{className:"px-4 py-2 text-right",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-white/10 text-sm",children:re.map(G=>u.jsx(Ow,{word:G,frequencyRank:J.get(G.id)??null,onDelete:X,visibleColumns:A},G.id))})]})})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Unknown Words"}),u.jsx("p",{className:"text-sm text-white/60",children:"Loading your saved vocabulary..."})]})}const Iw=[0,1,2,3],Fw=[".mp4",".mkv",".mov",".avi",".m4v",".webm"],jh={minHeight:"60vh",maxHeight:"calc(100vh - 10rem)"};function Vo(e){const t=Math.max(0,Math.floor(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60).toString().padStart(2,"0"),i=(t%60).toString().padStart(2,"0");return n>0?`${n}:${r}:${i}`:`${r}:${i}`}function Mw(e,t){return e.some(n=>n.isWord&&(n.normalized===t.normalized||n.stem===t.stem))}function Aw(e){return ks(e).map(t=>({...t,tokens:t.tokens??Hn(t.rawText)}))}function zw(){const[e,t]=x.useState(null),[n,r]=x.useState(1),[i,o]=x.useState([]),[c,h]=x.useState(!1),[p,g]=x.useState(!1),[S,b]=x.useState(null),[E,U]=x.useState({}),[A,B]=x.useState(!0),[q,N]=x.useState(null),[v,k]=x.useState(null),[$,X]=x.useState(null),[Q,J]=x.useState(null),re=x.useRef(null),je=x.useRef(new Map),he=x.useRef(null),Ie=yt(D=>D.initialized),Ue=yt(D=>D.initialize),oe=yt(D=>D.words),G=it(D=>D.initialized),ee=it(D=>D.initialize),Y=it(D=>D.prefs.mediaLibrary);x.useEffect(()=>{Ie||Ue()},[Ie,Ue]),x.useEffect(()=>{G||ee()},[ee,G]),x.useEffect(()=>{const D=new Worker(new URL(""+new URL("srtWorker-CQIlcpsu.js",import.meta.url).href,import.meta.url),{type:"module"}),Ee=ve=>{const ge=je.current.get(ve.data.id);if(ge){if(je.current.delete(ve.data.id),ve.data.error){ge.reject(new Error(ve.data.error));return}ge.resolve(ve.data.cues)}};return D.addEventListener("message",Ee),re.current=D,()=>{D.removeEventListener("message",Ee),D.terminate(),re.current=null;for(const[,ve]of je.current)ve.reject(new Error("Parsing cancelled"));je.current.clear()}},[]);const we=x.useCallback(async D=>{const Ee=re.current;if(!Ee)return Aw(D);const ve=typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2);return new Promise((ge,De)=>{je.current.set(ve,{resolve:ge,reject:De}),Ee.postMessage({id:ve,text:D})})},[]),H=x.useCallback(async()=>{if(!(Y!=null&&Y.handle))return k("Select a media library folder in Settings to enable playback."),null;try{const D=Y.handle.queryPermission,Ee=Y.handle.requestPermission;if(!D||!Ee)return Y.handle;const ve=await D.call(Y.handle,{mode:"read"});return ve==="granted"?Y.handle:ve==="denied"?(k("Folder access denied. Re-select the library and allow access."),null):await Ee.call(Y.handle,{mode:"read"})==="granted"?Y.handle:(k("Folder access denied. Re-select the library and allow access."),null)}catch(D){return k(D instanceof Error?D.message:"Unable to use media library."),null}},[Y]),ie=x.useCallback(async D=>{const Ee=await H();if(!Ee)return null;const ve=D.toLowerCase(),ge=[Ee];for(;ge.length>0;){const De=ge.shift();if(!De)continue;const rt=De.values;if(rt)for await(const ot of rt.call(De))if(ot.kind==="file"){const Sn=ot.name.toLowerCase();if(Fw.some(Kt=>Sn===`${ve}${Kt}`))return ot}else ot.kind==="directory"&&ge.push(ot)}return null},[H]),ne=x.useCallback(async D=>{k(null),X("Searching for matching video");const Ee=D.file.name.replace(/\.[^.]+$/,"");try{const ve=await ie(Ee);if(!ve){X(null),k("No matching video found under the selected media library.");return}const ge=await ve.getFile(),De=URL.createObjectURL(ge);N(rt=>(rt&&URL.revokeObjectURL(rt),De)),J({startMs:D.contextStartMs,endMs:D.contextEndMs}),X(`Playing ${ve.name}`),queueMicrotask(()=>{const rt=he.current;rt&&(rt.currentTime=D.contextStartMs/1e3,rt.play())})}catch(ve){X(null),k(ve instanceof Error?ve.message:"Unable to play quote.")}},[ie]),xe=x.useCallback(async()=>{h(!0);try{const D=await yy();o(D)}finally{h(!1)}},[]);x.useEffect(()=>{xe()},[xe]),x.useEffect(()=>{let D=!1;if(i.length===0){U({});return}return(async()=>{const Ee=await Promise.all(i.map(async ge=>{const De=await Gr(ge.bytesHash);return[ge.bytesHash,De??[]]}));if(D)return;const ve={};for(const[ge,De]of Ee)ve[ge]=De;U(ve)})(),()=>{D=!0}},[i]),x.useEffect(()=>()=>{N(D=>(D&&URL.revokeObjectURL(D),null))},[]),x.useEffect(()=>{const D=he.current;if(!D||!Q)return;const Ee=()=>{Q&&D.currentTime*1e3>=Q.endMs&&D.pause()};return D.addEventListener("timeupdate",Ee),()=>{D.removeEventListener("timeupdate",Ee)}},[Q,q]);const Ne=x.useMemo(()=>oe,[oe]);x.useEffect(()=>{if(Ne.length===0){t(null);return}(!e||!Ne.some(D=>D.id===e))&&t(Ne[0].id)},[Ne,e]);const ze=x.useMemo(()=>Ne.find(D=>D.id===e)??null,[Ne,e]),Ct=x.useMemo(()=>{if(!ze)return[];const D=[];for(const Ee of i){const ve=E[Ee.bytesHash]??[];ve.forEach((ge,De)=>{var In,Jn;const rt=ge.tokens??Hn(ge.rawText);if(!Mw(rt,ze))return;const ot=Math.max(0,De-n),Sn=Math.min(ve.length-1,De+n),Kt=ve.slice(ot,Sn+1);D.push({id:`${Ee.id}:${ge.index}:${ot}:${Sn}`,file:Ee,focusIndex:De-ot,cues:Kt,contextStartMs:((In=Kt[0])==null?void 0:In.startMs)??ge.startMs,contextEndMs:((Jn=Kt[Kt.length-1])==null?void 0:Jn.endMs)??ge.endMs})})}return D.sort((Ee,ve)=>Ee.file.name===ve.file.name?Ee.contextStartMs-ve.contextStartMs:Ee.file.name.localeCompare(ve.file.name))},[ze,i,E,n]),ut=x.useCallback(D=>{t(D)},[]),ct=x.useCallback(D=>{r(Number(D.target.value))},[]),It=x.useCallback(async D=>{const Ee=D.target.files;if(!(!Ee||Ee.length===0)){g(!0),b(null);try{for(const ve of Array.from(Ee))try{const ge=await mc(ve);let De=await Gr(ge);if(!De){const rt=await yc(ve);De=await we(rt),await vc(ge,De)}await qr({name:ve.name,bytesHash:ge,totalCues:De.length})}catch(ge){const De=ge instanceof Error?ge.message:"Failed to add subtitle file.";b(`Failed to process ${ve.name}: ${De}`)}await xe()}finally{g(!1),D.target.value=""}}},[we,xe]),Yi=x.useCallback(async D=>{await bw(D.id),U(Ee=>{const ve={...Ee};return delete ve[D.bytesHash],ve}),await xe()},[xe]);return u.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr,2fr]",children:[u.jsx("section",{className:"space-y-4",children:u.jsxs("div",{className:"rounded-lg bg-black/40 p-4",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Unknown words"}),Ne.length===0?u.jsx("p",{className:"mt-3 text-sm text-white/60",children:"Add words from the player to explore their quotes."}):u.jsx("div",{className:"mt-3 space-y-2 overflow-y-auto pr-1",style:{minHeight:jh.minHeight,maxHeight:jh.maxHeight},children:Ne.map(D=>u.jsx("div",{children:u.jsxs("button",{type:"button",onClick:()=>ut(D.id),className:`flex w-full flex-col gap-1 rounded-lg border px-3 py-2 text-left transition focus:outline-none focus-visible:outline-none ${D.id===e?"border-emerald-500 bg-emerald-500/10 text-white":"border-white/10 bg-white/5 text-white/80 hover:border-white/20 hover:text-white"}`,children:[u.jsx("span",{className:"text-sm font-medium text-white",children:D.original}),u.jsx("div",{className:"text-xs text-white/60",children:"Tap to see contexts"})]})},D.id))})]})}),u.jsxs("section",{className:"space-y-6",children:[u.jsxs("div",{className:"rounded-lg bg-black/40 p-4",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Subtitle sources"}),u.jsx("p",{className:"text-sm text-white/60",children:"Quotes are gathered from the files listed below."})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>B(D=>!D),disabled:i.length===0,className:`rounded-md border px-3 py-2 text-xs font-medium text-white transition focus:outline-none focus-visible:outline-none ${i.length===0?"cursor-not-allowed border-white/10 bg-white/5 text-white/40":"border-white/20 bg-white/10 hover:border-white/30 hover:bg-white/20"}`,children:i.length===0?"No files yet":A?"Collapse list":`Expand list (${i.length})`}),u.jsxs("label",{className:"inline-flex cursor-pointer items-center gap-2 rounded-md border border-dashed border-white/20 bg-white/5 px-3 py-2 text-sm text-white/80 transition hover:border-white/40",children:[u.jsx("input",{type:"file",accept:".srt",multiple:!0,className:"hidden",onChange:It}),u.jsx("span",{className:"font-medium",children:"Add subtitles"})]})]})]}),p&&u.jsx("p",{className:"mt-3 text-xs text-white/50",children:"Processing subtitle files"}),S&&u.jsx("p",{className:"mt-2 text-xs text-red-400",children:S}),A?u.jsx("ul",{className:"mt-4 max-h-64 space-y-2 overflow-y-auto pr-1",children:c?u.jsx("li",{className:"text-sm text-white/60",children:"Loading files"}):i.length===0?u.jsx("li",{className:"text-sm text-white/60",children:"No subtitle files stored yet."}):i.map(D=>u.jsxs("li",{className:"flex items-center justify-between rounded-md border border-white/10 bg-white/5 px-3 py-2 text-sm text-white/80",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-white",children:D.name}),u.jsxs("div",{className:"text-xs text-white/50",children:[D.totalCues," cues  Added ",new Date(D.addedAt).toLocaleString()]})]}),u.jsx("button",{type:"button",onClick:()=>Yi(D),className:"rounded bg-white/10 px-2 py-1 text-xs text-white transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",children:"Remove"})]},D.id))}):u.jsx("p",{className:"mt-4 text-sm text-white/70",children:c?"Loading files":i.length===0?"No subtitle files stored yet.":`${i.length} subtitle file${i.length===1?"":"s"} stored. Expand to manage them.`})]}),u.jsxs("div",{className:"rounded-lg bg-black/40 p-4",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Quote contexts"}),u.jsxs("label",{className:"flex items-center gap-2 text-sm text-white/70",children:[u.jsx("span",{children:"Context lines"}),u.jsx("select",{value:n,onChange:ct,className:"rounded-md border border-white/20 bg-white/5 px-2 py-1 focus:outline-none focus-visible:outline-none",children:Iw.map(D=>u.jsx("option",{value:D,children:D},D))})]})]}),u.jsxs("div",{className:"mt-3 space-y-2 rounded-md border border-white/10 bg-black/40 p-3 text-sm text-white/80",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[u.jsx("span",{className:"font-medium text-white",children:"Quote playback"}),$&&u.jsx("span",{className:"text-xs text-white/60",children:$})]}),q?u.jsx("video",{ref:he,controls:!0,className:"w-full rounded border border-white/10",src:q,onLoadedMetadata:()=>{Q&&he.current&&(he.current.currentTime=Q.startMs/1e3)}}):u.jsx("p",{className:"text-xs text-white/60",children:"Select a media library folder in Settings to enable quote playback. Matching videos will be looked up by subtitle filename."}),Q&&u.jsxs("p",{className:"text-xs text-white/60",children:["Segment: ",Vo(Q.startMs),"  ",Vo(Q.endMs)]}),v&&u.jsx("p",{className:"text-xs text-red-400",children:v})]}),ze?Ct.length===0?u.jsx("p",{className:"mt-3 text-sm text-white/60",children:"No quotes found for this word in the stored subtitle files."}):u.jsx("ul",{className:"mt-4 space-y-4",children:Ct.map(D=>u.jsxs("li",{className:"space-y-2 rounded-md border border-white/10 bg-white/5 p-3 text-sm text-white/80",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-xs text-white/60",children:[u.jsx("span",{className:"font-medium text-white",children:D.file.name}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsxs("span",{children:[Vo(D.contextStartMs),"  ",Vo(D.contextEndMs)]}),u.jsx("button",{type:"button",onClick:()=>void ne(D),disabled:!(Y!=null&&Y.handle),className:"rounded border border-white/20 bg-white/10 px-2 py-1 text-[11px] font-medium text-white transition hover:border-white/30 hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/10 disabled:text-white/40",children:"Play quote"})]})]}),u.jsx("div",{className:"space-y-1 rounded bg-black/40 p-2",children:D.cues.map((Ee,ve)=>u.jsx("p",{className:`whitespace-pre-line ${ve===D.focusIndex?"font-semibold text-white":"text-white/80"}`,children:Ee.rawText},`${Ee.index}-${ve}`))})]},D.id))}):u.jsx("p",{className:"mt-3 text-sm text-white/60",children:"Select a word to see how it appears across your subtitles."})]})]})]})}const ll="prefs";function ra(e){return{...e,mediaLibrary:void 0}}function Ml(e){const{videoBlob:t,...n}=e;return n}function vr(e){return Array.isArray(e)?e:[]}function Nh(e){if(typeof e!="string")return e;const t=e.trim();if(!t)return e;try{return JSON.parse(t)}catch{return e}}function Ch(e){if(!e||typeof e!="object")return!1;const t=e;return Array.isArray(t.words)||Array.isArray(t.subtitleFiles)||Array.isArray(t.subtitleCues)||Array.isArray(t.sessions)||!!(t.prefs&&typeof t.prefs=="object")}function gy(e){if(!e||typeof e!="object")throw new Error("Invalid backup file.");const t=[e,e.data,e.payload,e.backup];for(const n of t){const r=Nh(n);if(Ch(r))return r;if(r&&typeof r=="object"&&"data"in r){const i=Nh(r.data);if(Ch(i))return i}}throw new Error("Invalid backup file: missing data.")}function xy(e,t,n,r,i){return{words:e.length,subtitleFiles:t.length,subtitleCues:n.length,sessions:r.length,hasPrefs:!!i}}function Dw(e){const t=gy(e),n=vr(t.words),r=vr(t.subtitleFiles),i=vr(t.subtitleCues),o=t.prefs&&typeof t.prefs=="object"?ra(t.prefs):void 0,c=vr(t.sessions).map(Ml);return xy(n,r,i,c,o)}function xc(e,t){return e&&e.trim()?e:t??""}function $w(e,t){const n=new Map,r=i=>`${i.normalized}::${i.stem}`;for(const i of e)n.set(r(i),i);for(const i of t){const o=r(i),c=n.get(o);if(!c){n.set(o,i);continue}const h=(i.updatedAt??0)>=(c.updatedAt??0),p=h?i:c,g=h?c:i,S=Math.min(c.createdAt??p.createdAt??Date.now(),i.createdAt??p.createdAt??Date.now());n.set(o,{id:c.id,original:xc(p.original,g.original),originalSentence:xc(p.originalSentence,g.originalSentence)||void 0,normalized:c.normalized||i.normalized,stem:c.stem||i.stem,createdAt:S,updatedAt:Math.max(c.updatedAt??0,i.updatedAt??0)})}return Array.from(n.values())}function Uw(e,t){const n=new Map;for(const r of e)n.set(r.bytesHash,r);for(const r of t){const i=n.get(r.bytesHash);if(!i){n.set(r.bytesHash,r);continue}const o=(r.addedAt??0)>=(i.addedAt??0),c=o?r:i,h=o?i:r;n.set(r.bytesHash,{id:i.id,name:xc(c.name,h.name),bytesHash:i.bytesHash,totalCues:Math.max(i.totalCues??0,r.totalCues??0),language:c.language??h.language,addedAt:Math.max(i.addedAt??0,r.addedAt??0)})}return Array.from(n.values())}function Bw(e,t){const n=new Map;for(const r of e)n.set(r.id,r);for(const r of t)n.set(r.id,r);return Array.from(n.values())}function Kw(e,t){if(!t)return e;const n=e??t;return ra({...n,...t,subtitleStyle:{...n.subtitleStyle,...t.subtitleStyle},highlightColors:{...n.highlightColors,...t.highlightColors}})}function Ww(e,t){const n=new Map;for(const r of e)n.set(r.id,r);for(const r of t){const i=n.get(r.id);(!i||(r.updatedAt??0)>=(i.updatedAt??0))&&n.set(r.id,r)}return Array.from(n.values())}async function qo(e,t,n,r){if(t.length!==0)for(let i=0;i<t.length;i+=n){const o=t.slice(i,i+n);await e.bulkPut(o),r(o.length)}}async function Hw(){const[e,t,n,r,i]=await Promise.all([Ge([],()=>Se.words.toArray()),Ge([],()=>Se.subtitleFiles.toArray()),Ge([],()=>Se.subtitleCues.toArray()),Ge(void 0,()=>Se.prefs.get(ll)),Ge([],()=>Se.sessions.toArray())]),o=r!=null&&r.value?ra(r.value):void 0,c=i.map(Ml);return{payload:{version:1,exportedAt:new Date().toISOString(),data:{words:e,subtitleFiles:t,subtitleCues:n,prefs:o,sessions:c}},counts:{words:e.length,addedWords:0,subtitleFiles:t.length,addedSubtitleFiles:0,subtitleCues:n.length,sessions:c.length,hasPrefs:!!o}}}async function Vw(e,t){const n=(H,ie)=>{var ne;(ne=t==null?void 0:t.onProgress)==null||ne.call(t,{percent:H,stage:ie})},r=gy(e);if(n(2,"Opening database"),!await vd())return{words:0,addedWords:0,subtitleFiles:0,addedSubtitleFiles:0,subtitleCues:0,sessions:0,hasPrefs:!1};const o=vr(r.words),c=vr(r.subtitleFiles),h=vr(r.subtitleCues),p=r.prefs&&typeof r.prefs=="object"?ra(r.prefs):void 0,g=vr(r.sessions).map(Ml),S=xy(o,c,h,g,p);n(5,"Loading existing data");const[b,E,U,A,B]=await Promise.all([Ge([],()=>Se.words.toArray()),Ge([],()=>Se.subtitleFiles.toArray()),Ge([],()=>Se.subtitleCues.toArray()),Ge(void 0,()=>Se.prefs.get(ll)),Ge([],()=>Se.sessions.toArray())]),q=B.map(Ml);n(25,"Merging data");const N=$w(b,o),v=Uw(E,c),k=Bw(U,h),$=Kw(A==null?void 0:A.value,p),X=Ww(q,g);Math.max(0,N.length-b.length),Math.max(0,v.length-E.length);const Q=N.length+v.length+k.length+($?1:0)+X.length;let J=0;const re=35,je=95,he=(H,ie=0)=>{if(Q===0){n(je,H);return}ie>0&&(J+=ie);const ne=re+J/Q*(je-re);n(Math.min(je,Math.max(re,ne)),H)};N.length>0&&(he("Saving words"),await zt(()=>qo(Se.words,N,500,H=>he("Saving words",H)))),v.length>0&&(he("Saving subtitle files"),await zt(()=>qo(Se.subtitleFiles,v,200,H=>he("Saving subtitle files",H)))),k.length>0&&(he("Saving subtitle cues"),await zt(()=>qo(Se.subtitleCues,k,1e3,H=>he("Saving subtitle cues",H)))),$&&(he("Saving preferences"),await zt(()=>Se.prefs.put({id:ll,value:$,updatedAt:Date.now()})),he("Saving preferences",1)),X.length>0&&(he("Saving sessions"),await zt(()=>qo(Se.sessions,X,200,H=>he("Saving sessions",H)))),n(100,"Finalizing");const[Ie,Ue,oe,G,ee]=await Promise.all([Ge(0,()=>Se.words.count()),Ge(0,()=>Se.subtitleFiles.count()),Ge(0,()=>Se.subtitleCues.count()),Ge(0,()=>Se.sessions.count()),Ge(void 0,()=>Se.prefs.get(ll))]),Y=S.words>0||S.subtitleFiles>0||S.subtitleCues>0||S.sessions>0||S.hasPrefs,we=!!(ee!=null&&ee.value);if(Y&&Ie===0&&Ue===0&&oe===0&&G===0&&!we)throw new Error("Import did not write any data. Check browser storage permissions and retry.");return{words:Ie,addedWords:Math.max(0,Ie-b.length),subtitleFiles:Ue,addedSubtitleFiles:Math.max(0,Ue-E.length),subtitleCues:oe,sessions:G,hasPrefs:we}}function qw(){const e=it(oe=>oe.prefs.subtitleStyle),t=it(oe=>oe.prefs.highlightColors),n=it(oe=>oe.prefs.mediaLibrary),r=it(oe=>oe.updateSubtitleStyle),i=it(oe=>oe.updateHighlightColors),o=it(oe=>oe.setMediaLibrary),c=it(oe=>oe.initialized),h=it(oe=>oe.initialize),[p,g]=x.useState(null),[S,b]=x.useState(null),[E,U]=x.useState(null),[A,B]=x.useState(!1),[q,N]=x.useState(!1),[v,k]=x.useState(null),[$,X]=x.useState(0),Q=x.useRef(null);x.useEffect(()=>{c||h()},[c,h]),x.useEffect(()=>{if(!q){X(0);return}const oe=Date.now();X(0);const G=window.setInterval(()=>{X(Math.floor((Date.now()-oe)/1e3))},1e3);return()=>{window.clearInterval(G)}},[q]);const J=(oe,G)=>{const ee=Number(oe.target.value);Number.isFinite(ee)&&r({[G]:G==="lineHeight"?Number(ee.toFixed(2)):ee})},re=typeof window<"u"&&"showDirectoryPicker"in window,je=async()=>{var oe;if(g(null),!re){g("Your browser does not support choosing a folder");return}try{const G=await((oe=window.showDirectoryPicker)==null?void 0:oe.call(window));if(!G)return;const ee=G.requestPermission;if(ee&&await ee.call(G,{mode:"read"})==="denied"){g("Folder access was denied. Please allow access to play quotes.");return}await o({handle:G,label:G.name,lastPromptedAt:Date.now()})}catch(G){g(G instanceof Error?G.message:"Unable to pick folder.")}},he=async()=>{g(null),await o(void 0)},Ie=async()=>{b(null),U(null),B(!0);try{const{payload:oe,counts:G}=await Hw(),ee=new Blob([JSON.stringify(oe,null,2)],{type:"application/json"}),Y=URL.createObjectURL(ee),we=document.createElement("a");we.href=Y,we.download=`subtitle-word-tracker-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(we),we.click(),document.body.removeChild(we),URL.revokeObjectURL(Y),U(`Exported ${G.words} word${G.words===1?"":"s"} and ${G.subtitleFiles} subtitle file${G.subtitleFiles===1?"":"s"}.`)}catch(oe){U(null),b(oe instanceof Error?oe.message:"Unable to export data.")}finally{B(!1)}},Ue=async oe=>{var ee;const G=(ee=oe.target.files)==null?void 0:ee[0];if(G){b(null),U(null),N(!0),k({percent:5,stage:"Reading file"});try{const Y=await G.text();k({percent:15,stage:"Parsing backup"});const we=JSON.parse(Y),H=Dw(we);k({percent:15,stage:`Parsed backup (${H.words} words, ${H.subtitleFiles} files)`});const ie=await Vw(we,{onProgress:ne=>{const xe=Math.min(100,Math.max(15,15+ne.percent*.85));k({percent:xe,stage:ne.stage})}});it.setState({initialized:!1}),it.getState().initialize(),yt.setState({initialized:!1}),yt.getState().initialize(),U(`Merged data. Now storing ${ie.words} word${ie.words===1?"":"s"} (${ie.addedWords} added) and ${ie.subtitleFiles} subtitle file${ie.subtitleFiles===1?"":"s"} (${ie.addedSubtitleFiles} added).`)}catch(Y){U(null),b(Y instanceof Error?Y.message:"Unable to import data.")}finally{N(!1),k(null),oe.target.value=""}}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("section",{className:"space-y-4",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Subtitle Appearance"}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[u.jsx("span",{className:"text-white/70",children:"Font family"}),u.jsx("input",{type:"text",value:e.fontFamily,onChange:oe=>void r({fontFamily:oe.target.value}),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none"})]}),u.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[u.jsx("span",{className:"text-white/70",children:"Font size (px)"}),u.jsx("input",{type:"number",min:16,max:96,value:e.fontSizePx,onChange:oe=>J(oe,"fontSizePx"),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none"})]}),u.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[u.jsx("span",{className:"text-white/70",children:"Second subtitle font size (px)"}),u.jsx("input",{type:"number",min:16,max:96,value:e.useMainForSecondaryFontSize?e.fontSizePx:e.secondaryFontSizePx,onChange:oe=>J(oe,"secondaryFontSizePx"),disabled:e.useMainForSecondaryFontSize,className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none disabled:text-white/40"})]}),u.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[u.jsx("input",{type:"checkbox",checked:e.useMainForSecondaryFontSize,onChange:oe=>void r({useMainForSecondaryFontSize:oe.target.checked}),className:"h-4 w-4 rounded border-white/20 bg-black/60"}),u.jsx("span",{className:"text-white/70",children:"Same as main"})]}),u.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[u.jsx("span",{className:"text-white/70",children:"Font weight"}),u.jsx("input",{type:"number",min:300,max:900,step:100,value:e.fontWeight,onChange:oe=>J(oe,"fontWeight"),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none"})]}),u.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[u.jsx("span",{className:"text-white/70",children:"Line height"}),u.jsx("input",{type:"number",min:1,max:2,step:.05,value:e.lineHeight,onChange:oe=>J(oe,"lineHeight"),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none"})]}),u.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[u.jsx("span",{className:"text-white/70",children:"Text color"}),u.jsx("input",{type:"color",value:e.color,onChange:oe=>void r({color:oe.target.value}),className:"h-10 w-full cursor-pointer rounded-md border border-white/10 bg-black/40"})]}),u.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[u.jsx("span",{className:"text-white/70",children:"Background"}),u.jsx("input",{type:"text",value:e.bgColor,onChange:oe=>void r({bgColor:oe.target.value}),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none",placeholder:"rgba(0,0,0,0.35)"})]}),u.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[u.jsx("input",{type:"checkbox",checked:e.outline,onChange:oe=>void r({outline:oe.target.checked}),className:"h-4 w-4 rounded border-white/20 bg-black/60"}),u.jsx("span",{className:"text-white/70",children:"Outline text"})]}),u.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[u.jsx("input",{type:"checkbox",checked:e.shadow,onChange:oe=>void r({shadow:oe.target.checked}),className:"h-4 w-4 rounded border-white/20 bg-black/60"}),u.jsx("span",{className:"text-white/70",children:"Drop shadow"})]})]})]}),u.jsxs("section",{className:"space-y-4",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Highlight Colors"}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[u.jsx("span",{className:"text-white/70",children:"Exact match"}),u.jsx("input",{type:"color",value:t.exact,onChange:oe=>void i({exact:oe.target.value}),className:"h-10 w-full cursor-pointer rounded-md border border-white/10 bg-black/40"})]}),u.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[u.jsx("span",{className:"text-white/70",children:"Variant match"}),u.jsx("input",{type:"color",value:t.variant,onChange:oe=>void i({variant:oe.target.value}),className:"h-10 w-full cursor-pointer rounded-md border border-white/10 bg-black/40"})]})]})]}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Media Library"}),u.jsx("p",{className:"text-sm text-white/70",children:"Pick the root folder that contains your shows/movies. This enables future quote-level playback by searching for matching video files alongside your subtitles."}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsx("button",{type:"button",onClick:je,className:"rounded-md border border-white/20 bg-white/10 px-3 py-2 text-sm font-medium text-white transition hover:border-white/30 hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/10 disabled:text-white/40",children:"Choose folder"}),u.jsx("button",{type:"button",onClick:he,disabled:!n,className:"rounded-md border border-white/10 px-3 py-2 text-sm text-white/70 transition hover:border-white/30 hover:bg-white/10 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/5 disabled:text-white/40",children:"Clear selection"}),!re&&u.jsx("span",{className:"text-xs text-amber-300",children:"Folder selection requires a Chromium-based browser."})]}),n?u.jsxs("p",{className:"text-sm text-white/70",children:["Selected: ",u.jsx("span",{className:"font-semibold text-white",children:n.label??"Folder"})]}):u.jsx("p",{className:"text-sm text-white/60",children:"No folder selected yet."}),p&&u.jsx("p",{className:"text-sm text-red-400",children:p})]}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Data Transfer"}),u.jsx("p",{className:"text-sm text-white/70",children:"Export a full backup of your words, subtitles database, preferences, and last session. Import merges with existing data; newer timestamps win for words and subtitle files, and prefs from the backup override local settings. Media library folder access cannot be exported; reselect it after import."}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsx("button",{type:"button",onClick:Ie,disabled:A,className:"rounded-md border border-white/20 bg-white/10 px-3 py-2 text-sm font-medium text-white transition hover:border-white/30 hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/10 disabled:text-white/40",children:A?"Exporting...":"Export everything"}),u.jsx("button",{type:"button",onClick:()=>{var oe;return(oe=Q.current)==null?void 0:oe.click()},disabled:q,className:"rounded-md border border-white/20 bg-white/10 px-3 py-2 text-sm font-medium text-white transition hover:border-white/30 hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/10 disabled:text-white/40",children:q?"Importing...":"Import everything"}),u.jsx("input",{ref:Q,type:"file",accept:".json",className:"hidden",onChange:Ue})]}),q&&v?u.jsxs("div",{className:"mt-2 w-full",children:[u.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded bg-white/10",children:u.jsx("div",{className:"h-full bg-emerald-400 transition-all duration-300",style:{width:`${v.percent}%`}})}),u.jsxs("p",{className:"mt-1 text-xs text-white/60",children:["Importing: ",v.stage," (",Math.round(v.percent),"%, ",$,"s)"]})]}):null,S&&u.jsx("p",{className:"text-sm text-red-400",children:S}),E&&u.jsx("p",{className:"text-sm text-emerald-400",children:E})]}),u.jsxs("section",{className:"space-y-2",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Preview"}),u.jsxs("div",{className:"rounded-lg border border-white/10 bg-black/60 p-4 text-center text-lg",style:{fontFamily:e.fontFamily,fontSize:e.fontSizePx,fontWeight:e.fontWeight,lineHeight:e.lineHeight,color:e.color,textShadow:e.shadow?"0 2px 8px rgba(0,0,0,0.8)":"none",WebkitTextStroke:e.outline?"1px rgba(0,0,0,0.9)":"0",background:e.bgColor},children:["Subtitle preview with ",u.jsx("span",{style:{background:t.exact},children:"exact"})," and",u.jsx("span",{style:{background:t.variant,marginLeft:8},children:"variant"})," highlights."]})]})]})}function Qw(e,t){return t===0?0:Math.round(e/t*1e3)/10}function Yw(){const e=yt(S=>S.words),t=yt(S=>S.initialize),n=yt(S=>S.initialized),[r,i]=x.useState([]),[o,c]=x.useState(!1),[h,p]=x.useState({totalTokens:0,unknownTokens:0});x.useEffect(()=>{n||t()},[t,n]),x.useEffect(()=>{let S=!1;return(async()=>{c(!0);const E=await yy();S||(i(E),c(!1))})(),()=>{S=!0}},[]),x.useEffect(()=>{let S=!1;if(r.length===0){p({totalTokens:0,unknownTokens:0});return}return(async()=>{const E=new Map,U=new Map;for(const q of e)E.set(q.normalized.toLowerCase(),q),U.set(q.stem,q);let A=0,B=0;for(const q of r){const N=await Gr(q.bytesHash);if(N)for(const v of N){const k=v.tokens??Hn(v.rawText);for(const $ of k){if(!$.isWord)continue;A+=1,(E.get($.normalized)??U.get($.stem))&&(B+=1)}}}S||p({totalTokens:A,unknownTokens:B})})(),()=>{S=!0}},[r,e]);const g=x.useMemo(()=>h.unknownTokens===0?null:Math.max(1,Math.round(h.totalTokens/h.unknownTokens)),[h.totalTokens,h.unknownTokens]);return u.jsx("div",{className:"space-y-6",children:u.jsxs("section",{className:"grid gap-4 md:grid-cols-3",children:[u.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-4",children:[u.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Unknown words saved"}),u.jsx("p",{className:"mt-2 text-2xl font-semibold text-white",children:e.length}),u.jsx("p",{className:"text-xs text-white/60",children:e.length===0?"Add words from the player to start tracking.":`Covers ${h.totalTokens.toLocaleString()} word tokens in your library.`})]}),u.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-4",children:[u.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Encounter rate"}),u.jsx("p",{className:"mt-2 text-2xl font-semibold text-white",children:g?`1 in ${g}`:""}),u.jsx("p",{className:"text-xs text-white/60",children:h.totalTokens===0?"Add subtitles to measure coverage.":`${Qw(h.unknownTokens,h.totalTokens)}% of words you see are on your unknown list.`})]}),u.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-4",children:[u.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Library coverage"}),u.jsx("p",{className:"mt-2 text-2xl font-semibold text-white",children:r.length}),u.jsxs("p",{className:"text-xs text-white/60",children:["Subtitle files stored  ",o?"Loading":`${h.totalTokens.toLocaleString()} word tokens scanned`]})]})]})})}const du=64*1024,Eh="https://api.opensubtitles.com/api/v1",fu="oq1XXcuCnNOnaFDKbknI2pxaQO8TiiU5",_h="Er4Y8GbS7JoCcLf9oJmjc2noj2wIsrNu",Ph="UVUt5ZRVmROJD7ot9JVJY63n8RTIhxYW",Xw="ofir gaash v1.0",Th=async(e,t,n)=>{const i=await e.slice(t,t+n).arrayBuffer();return new DataView(i)},Rh=e=>{let t=0n;const n=e.byteLength-e.byteLength%8;for(let r=0;r<n;r+=8)t+=e.getBigUint64(r,!0);return t},Gw=async e=>{const t=e.size,n=await Th(e,0,du),r=Math.max(0,t-du),i=await Th(e,r,du);let o=BigInt(t);return o+=Rh(n),o+=Rh(i),o.toString(16).padStart(16,"0")},Oh=e=>({"Api-Key":e.trim(),"Content-Type":"application/json","X-User-Agent":Xw}),hu=async e=>{let t="";try{t=await e.text()}catch(c){t=`Unable to read response body: ${c.message}`}const n=e.headers.get("x-kong-request-id")||e.headers.get("x-request-id")||e.headers.get("x-amzn-requestid"),r=e.headers.get("retry-after"),i=e.headers.get("content-type");return[`Status: ${e.status} ${e.statusText}`.trim(),n?`Request ID: ${n}`:null,r?`Retry-After: ${r}`:null,i?`Content-Type: ${i}`:null,t?`Body: ${t.slice(0,800)}`:null].filter(Boolean).join(`
`)},Jw={neutral:"border-white/10 bg-white/5 text-white/70",loading:"border-sky-400/40 bg-sky-400/10 text-sky-100",success:"border-emerald-400/40 bg-emerald-400/10 text-emerald-100",error:"border-rose-400/40 bg-rose-400/10 text-rose-100"};function Zw(){const[e,t]=x.useState(fu),[n,r]=x.useState(null),[i,o]=x.useState("en"),[c,h]=x.useState({summary:"",tone:"neutral"}),[p,g]=x.useState(null),[S,b]=x.useState(!1),[E,U]=x.useState(null),[A,B]=x.useState("downloads"),[q,N]=x.useState("desc"),v=x.useCallback((ee,Y="neutral",we)=>{h({summary:ee,tone:Y,details:we})},[]),k=x.useCallback(()=>e.trim()?n?!0:(v("Please choose a video file.","error"),!1):(v("Please enter your OpenSubtitles API key.","error"),!1),[e,n,v]),$=x.useCallback(()=>{g([])},[]),X=x.useCallback(async ee=>{var Y;$(),v("Searching OpenSubtitles...","loading"),b(!0);try{const we=new URL(`${Eh}/subtitles`);Object.entries(ee).forEach(([ne,xe])=>{xe&&we.searchParams.set(ne,xe)});const H=await fetch(we,{headers:Oh(e)});if(!H.ok){const ne=await hu(H);throw new Error(`Search failed.
${ne}`)}const ie=await H.json();g(ie.data??[]),v(`Found ${ie.total_count??((Y=ie.data)==null?void 0:Y.length)??0} subtitle(s).`,"success")}catch(we){const H=we.message||"Search failed.",[ie,...ne]=H.split(`
`);v(ie,"error",ne.join(`
`)),$()}finally{b(!1)}},[e,$,v]),Q=async()=>{if(!(!k()||!n)){v("Calculating video hash...","loading");try{const ee=await Gw(n);await X({moviehash:ee,moviehash_match:"1",languages:i})}catch(ee){v(`Hash failed: ${ee.message}`,"error")}}},J=async()=>{!k()||!n||await X({query:n.name,languages:i})},re=async ee=>{var we;const Y=(we=ee.attributes.files)==null?void 0:we[0];if(!(Y!=null&&Y.file_id)){v("This subtitle entry does not include a file id.","error");return}v("Preparing download...","loading");try{const H=await fetch(`${Eh}/download`,{method:"POST",headers:Oh(e),body:JSON.stringify({file_id:Y.file_id})});if(!H.ok){const ne=await hu(H);throw new Error(`Download request failed.
${ne}`)}const ie=await H.json();g(ne=>(ne==null?void 0:ne.map(xe=>xe.id===ee.id?{...xe,downloadLink:ie.link}:xe))??[]),v("Download link ready.","success")}catch(H){const ie=H.message||"Download request failed.",[ne,...xe]=ie.split(`
`);v(ne,"error",xe.join(`
`))}},je=x.useCallback(async ee=>{var we,H;if(!ee.downloadLink){v("Download link not ready yet.","error");return}const Y=((H=(we=ee.attributes.files)==null?void 0:we[0])==null?void 0:H.file_name)??`subtitle-${ee.id}.srt`;U(ee.id),v(`Downloading ${Y}...`,"loading");try{const ie=await fetch(ee.downloadLink);if(!ie.ok){const ze=await hu(ie);throw new Error(`Subtitle download failed.
${ze}`)}const ne=await ie.blob(),xe=URL.createObjectURL(ne),Ne=document.createElement("a");Ne.href=xe,Ne.download=Y,document.body.appendChild(Ne),Ne.click(),document.body.removeChild(Ne),URL.revokeObjectURL(xe),v(`Downloaded ${Y}.`,"success")}catch(ie){const ne=ie.message||"Subtitle download failed.",[xe,...Ne]=ne.split(`
`);v(xe,"error",Ne.join(`
`))}finally{U(null)}},[v]),he=Jw[c.tone],Ie=c.summary||"",Ue=x.useMemo(()=>p!==null&&p.length===0,[p]),oe=x.useMemo(()=>{if(!p)return null;const ee=q==="asc"?1:-1;return[...p].sort((Y,we)=>{var ne,xe,Ne,ze;const H=((xe=(ne=Y.attributes.files)==null?void 0:ne[0])==null?void 0:xe.file_name)??"Untitled release",ie=((ze=(Ne=we.attributes.files)==null?void 0:Ne[0])==null?void 0:ze.file_name)??"Untitled release";switch(A){case"title":return H.localeCompare(ie,void 0,{sensitivity:"base"})*ee;case"downloads":return((Y.attributes.download_count??0)-(we.attributes.download_count??0))*ee;case"hearingImpaired":return(Number(Y.attributes.hearing_impaired)-Number(we.attributes.hearing_impaired))*ee;default:return 0}})},[p,q,A]),G=x.useCallback(ee=>{if(A===ee){N(Y=>Y==="asc"?"desc":"asc");return}B(ee),N("desc")},[A]);return u.jsxs("div",{className:"space-y-8",children:[u.jsxs("header",{className:"rounded-2xl border border-white/10 bg-gradient-to-br from-white/10 via-white/5 to-transparent p-6 shadow-lg",children:[u.jsx("p",{className:"text-sm uppercase tracking-[0.2em] text-white/60",children:"VLSub Web"}),u.jsx("h2",{className:"mt-3 text-3xl font-semibold text-white",children:"Find subtitles for your video, straight from your browser."}),u.jsx("p",{className:"mt-3 max-w-2xl text-sm text-white/70",children:"Select a local video file, look up subtitles by hash or filename, and download the match you want. Powered by the OpenSubtitles API."})]}),u.jsxs("section",{className:"grid gap-6 lg:grid-cols-2",children:[u.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 shadow-md",children:[u.jsx("h3",{className:"text-lg font-semibold text-white",children:"1. Connect to OpenSubtitles"}),u.jsxs("p",{className:"mt-2 text-sm text-white/60",children:["Enter your OpenSubtitles API key to search and download subtitles. You can create one at"," ",u.jsx("a",{href:"https://www.opensubtitles.com/",target:"_blank",rel:"noreferrer",className:"text-white underline decoration-white/40 underline-offset-4",children:"opensubtitles.com"}),"."]}),u.jsxs("label",{className:"mt-4 flex flex-col gap-2 text-sm text-white/70",children:[u.jsx("span",{children:"API Key"}),u.jsx("input",{id:"apiKey",type:"text",placeholder:"Paste your API key",value:e,onChange:ee=>t(ee.target.value),className:"rounded-lg border border-white/10 bg-white/10 px-3 py-2 text-sm text-white placeholder:text-white/40 focus:border-white/40 focus:outline-none"}),u.jsxs("div",{className:"text-xs text-white/50",children:[u.jsx("div",{className:"mt-1",children:"If running locally, use:"}),u.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-white/70",children:[u.jsx("span",{className:"rounded bg-white/10 px-2 py-1 text-xs",children:_h}),u.jsx("button",{type:"button",onClick:()=>t(_h),className:"rounded border border-white/10 px-2 py-1 text-[11px] text-white/70 transition hover:border-white/30 hover:bg-white/10",children:"Use this"})]}),u.jsx("div",{className:"mt-2",children:"If running from GitHub, use:"}),u.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-white/70",children:[u.jsx("span",{className:"rounded bg-white/10 px-2 py-1 text-xs",children:fu}),u.jsx("button",{type:"button",onClick:()=>t(fu),className:"rounded border border-white/10 px-2 py-1 text-[11px] text-white/70 transition hover:border-white/30 hover:bg-white/10",children:"Use this"})]}),u.jsx("div",{className:"mt-2",children:"Or"}),u.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-white/70",children:[u.jsx("span",{className:"rounded bg-white/10 px-2 py-1 text-xs",children:Ph}),u.jsx("button",{type:"button",onClick:()=>t(Ph),className:"rounded border border-white/10 px-2 py-1 text-[11px] text-white/70 transition hover:border-white/30 hover:bg-white/10",children:"Use this"})]})]})]})]}),u.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 shadow-md",children:[u.jsx("h3",{className:"text-lg font-semibold text-white",children:"2. Choose your video"}),u.jsx("p",{className:"mt-2 text-sm text-white/60",children:"We never upload your video. The hash is computed locally in your browser."}),u.jsxs("div",{className:"mt-4 flex flex-col gap-2 text-sm text-white/70",children:[u.jsx("span",{children:"Video file"}),u.jsx("input",{id:"videoFile",type:"file",accept:"video/*,.mkv,.mp4,.mov,.avi,.wmv,.flv,.webm,.m4v,.mpg,.mpeg",onChange:ee=>{var we;const Y=((we=ee.target.files)==null?void 0:we[0])??null;r(Y),v(Y?`Selected ${Y.name}`:"","neutral")},className:"rounded-lg border border-white/10 bg-white/10 px-3 py-2 text-sm text-white file:mr-4 file:rounded-md file:border-0 file:bg-white/20 file:px-3 file:py-2 file:text-sm file:text-white hover:file:bg-white/30"})]}),u.jsxs("div",{className:"mt-4 flex flex-col gap-2 text-sm text-white/70",children:[u.jsx("span",{children:"Preferred language"}),u.jsxs("select",{id:"language",value:i,onChange:ee=>o(ee.target.value),className:"rounded-lg border border-white/20 bg-white px-3 py-2 text-sm text-slate-900 focus:border-white/40 focus:outline-none",children:[u.jsx("option",{value:"en",children:"English"}),u.jsx("option",{value:"he",children:"Hebrew"}),u.jsx("option",{value:"ar",children:"Arabic"}),u.jsx("option",{value:"hi",children:"Hindi"}),u.jsx("option",{value:"es",children:"Spanish"}),u.jsx("option",{value:"fr",children:"French"}),u.jsx("option",{value:"de",children:"German"}),u.jsx("option",{value:"it",children:"Italian"}),u.jsx("option",{value:"pt",children:"Portuguese"}),u.jsx("option",{value:"nl",children:"Dutch"}),u.jsx("option",{value:"pl",children:"Polish"}),u.jsx("option",{value:"sv",children:"Swedish"}),u.jsx("option",{value:"tr",children:"Turkish"}),u.jsx("option",{value:"ja",children:"Japanese"}),u.jsx("option",{value:"ko",children:"Korean"}),u.jsx("option",{value:"zh",children:"Chinese"})]})]}),u.jsxs("div",{className:"mt-5 flex flex-wrap gap-3",children:[u.jsx("button",{id:"searchHash",type:"button",onClick:Q,disabled:S,className:"rounded-full border border-white/20 bg-white/10 px-4 py-2 text-sm font-medium text-white transition hover:bg-white/20 disabled:cursor-not-allowed disabled:opacity-60",children:"Search by hash"}),u.jsx("button",{id:"searchName",type:"button",onClick:J,disabled:S,className:"rounded-full border border-white/10 px-4 py-2 text-sm font-medium text-white/70 transition hover:border-white/20 hover:bg-white/10 disabled:cursor-not-allowed disabled:opacity-60",children:"Search by filename"})]}),u.jsxs("div",{id:"status",role:"status","aria-live":"polite",className:`mt-4 rounded-xl border px-4 py-3 text-sm ${he}`,children:[Ie,c.details?u.jsxs("details",{className:"mt-3 text-xs text-white/70",open:!0,children:[u.jsx("summary",{className:"cursor-pointer text-white/80",children:"Show details"}),u.jsx("pre",{className:"mt-2 whitespace-pre-wrap text-xs text-white/60",children:c.details})]}):null]})]})]}),u.jsxs("section",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 shadow-md",children:[u.jsx("h3",{className:"text-lg font-semibold text-white",children:"3. Download your subtitle"}),u.jsxs("div",{id:"results",className:"mt-4 space-y-4",children:[p===null?u.jsx("p",{className:"text-sm text-white/60",children:"Search results will appear here."}):null,Ue?u.jsx("p",{className:"text-sm text-white/60",children:"No subtitles found. Try another search."}):null,oe&&oe.length>0?u.jsx("div",{className:"overflow-hidden rounded-xl border border-white/10",children:u.jsxs("table",{className:"w-full text-left text-sm text-white/80",children:[u.jsx("thead",{className:"bg-white/10 text-xs uppercase tracking-wide text-white/60",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3",children:u.jsxs("button",{type:"button",onClick:()=>G("title"),className:"flex items-center gap-2 hover:text-white",children:["Title",A==="title"?q==="asc"?"":"":null]})}),u.jsx("th",{className:"px-4 py-3",children:u.jsxs("button",{type:"button",onClick:()=>G("downloads"),className:"flex items-center gap-2 hover:text-white",children:["Downloads",A==="downloads"?q==="asc"?"":"":null]})}),u.jsx("th",{className:"px-4 py-3",children:u.jsxs("button",{type:"button",onClick:()=>G("hearingImpaired"),className:"flex items-center gap-2 hover:text-white",children:["Hearing impaired",A==="hearingImpaired"?q==="asc"?"":"":null]})}),u.jsx("th",{className:"px-4 py-3 text-right",children:"Action"})]})}),u.jsx("tbody",{className:"divide-y divide-white/5",children:oe.map(ee=>{var H;const Y=(H=ee.attributes.files)==null?void 0:H[0],we=(Y==null?void 0:Y.file_name)??"Untitled release";return u.jsxs("tr",{className:"bg-white/5",children:[u.jsx("td",{className:"px-4 py-3",children:u.jsx("div",{className:"font-semibold text-white",children:we})}),u.jsx("td",{className:"px-4 py-3 text-xs",children:ee.attributes.download_count??"-"}),u.jsx("td",{className:"px-4 py-3 text-xs",children:ee.attributes.hearing_impaired?"Yes":"No"}),u.jsx("td",{className:"px-4 py-3 text-right text-xs",children:ee.downloadLink?u.jsx("button",{type:"button",onClick:()=>void je(ee),disabled:E===ee.id,className:"inline-flex min-w-[9.5rem] items-center justify-center rounded-full border border-white/20 px-3 py-1 text-xs text-white/80 transition hover:bg-white/10 disabled:cursor-not-allowed disabled:opacity-60",children:E===ee.id?"Downloading...":"Download subtitle"}):u.jsx("button",{type:"button",onClick:()=>re(ee),disabled:S,className:"inline-flex min-w-[9.5rem] items-center justify-center whitespace-nowrap rounded-full border border-white/20 bg-white/10 px-3 py-1 text-xs text-white transition hover:bg-white/20 disabled:cursor-not-allowed disabled:opacity-60",children:"Get download link"})})]},ee.id)})})]})}):null]})]}),u.jsx("footer",{className:"text-xs text-white/50",children:"Built from the original VLSub workflow. This demo uses the OpenSubtitles API and requires your own API key."})]})}function eb(){return u.jsxs("div",{className:"space-y-6 text-right text-sm text-white/80",dir:"rtl",children:[u.jsx("section",{className:"space-y-3",children:u.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-start",children:[u.jsxs("div",{className:"space-y-3 lg:flex-1",children:[u.jsx("p",{children:"   ."}),u.jsxs("p",{children:["  ",u.jsx("strong",{children:"  "}),"    ."]})]}),u.jsx("div",{className:"w-full overflow-hidden rounded-lg border border-white/10 bg-black/40 lg:w-[22rem]",children:u.jsx("div",{className:"aspect-video w-full",children:u.jsx("iframe",{className:"h-full w-full",src:"https://www.youtube.com/embed/0n2JBXuHEoc",title:"Tutorial",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})})]})}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:" 1    / "}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsx("li",{children:"    "}),u.jsxs("li",{children:["    ",u.jsx("strong",{children:""}),"  Dolby Digital",u.jsx("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:u.jsxs("li",{children:[" ",u.jsx("strong",{children:"AAC"}),"  "]})})]}),u.jsxs("li",{children:["    :",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsx("li",{children:u.jsx("a",{href:"http://rargb.to/",target:"_blank",rel:"noreferrer",className:"text-white underline decoration-white/40 underline-offset-4",children:"http://rargb.to/"})}),u.jsx("li",{children:u.jsx("a",{href:"https://1337x.to/",target:"_blank",rel:"noreferrer",className:"text-white underline decoration-white/40 underline-offset-4",children:"https://1337x.to/"})})]})]}),u.jsx("li",{children:"         (  )"})]})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:" 2    "}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsxs("li",{children:["   ",u.jsx("strong",{children:" "})]}),u.jsxs("li",{children:["     ",u.jsx("code",{className:"rounded bg-white/10 px-1",children:"srt"})]}),u.jsx("li",{children:"         "}),u.jsxs("li",{children:[" :",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsxs("li",{children:[" ",u.jsx("a",{href:"https://opensubtitles.org",target:"_blank",rel:"noreferrer",className:"mr-1 text-white underline decoration-white/40 underline-offset-4",children:"opensubtitles.org"})]}),u.jsxs("li",{children:["  ",u.jsx("strong",{children:"Find Subs"})," ",u.jsx("blockquote",{className:"mt-2 rounded border-l-2 border-white/20 bg-white/5 px-3 py-2 text-xs text-white/60",children:" :           "})]})]})]})]})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:" 3    ( )"}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsx("li",{children:"  "}),u.jsx("li",{children:"     2"})]})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:" 4   "}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsxs("li",{children:["  ",u.jsx("strong",{children:" "})]}),u.jsxs("li",{children:["  ",u.jsx("strong",{children:" "})]}),u.jsxs("li",{children:["   ",u.jsx("strong",{children:"Player"})]})]})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:" 5    "}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsx("li",{children:"  Play"}),u.jsxs("li",{children:["   :",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsx("li",{children:"     "}),u.jsx("li",{children:"      "})]})]}),u.jsxs("li",{children:["  :",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsxs("li",{children:["    ",u.jsx("strong",{children:"Second Subtitles"})]}),u.jsxs("li",{children:["  /      ",u.jsx("strong",{children:"H"})]})]})]})]})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:" 6   Words"}),u.jsx("ul",{className:"list-disc space-y-2 pr-5",children:u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Words"})," :",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsx("li",{children:"    "}),u.jsx("li",{children:"       "}),u.jsx("li",{children:"      "})]})]})})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:" 7    ChatGPT"}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsxs("li",{children:["    :",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsx("li",{children:"      "}),u.jsx("li",{children:"   ChatGPT"})]})]}),u.jsx("li",{children:"        "}),u.jsxs("li",{children:[": ",u.jsx("strong",{children:"   ChatGPT"}),"  "]})]})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:" 8   "}),u.jsx("ul",{className:"list-disc space-y-2 pr-5",children:u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Quotes ()"}),":",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsx("li",{children:"  "}),u.jsx("li",{children:"      "}),u.jsx("li",{children:"      "})]})]})})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:" 9    '"}),u.jsx("p",{children:"   '     ."}),u.jsx("h3",{className:"text-base font-semibold text-white",children:" "}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsxs("li",{children:["     (",u.jsx("strong",{children:"H"}),")"]}),u.jsx("li",{children:"     "}),u.jsxs("li",{children:["   (",u.jsx("strong",{children:"H"}),")"]}),u.jsxs("li",{children:[":",u.jsx("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:u.jsxs("li",{children:["",u.jsx("strong",{children:"Settings"}),"       (    )"]})})]})]}),u.jsx("h3",{className:"text-base font-semibold text-white",children:"  "}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsxs("li",{children:[u.jsx("strong",{children:"F"}),"   "]}),u.jsx("li",{children:"   5   / "}),u.jsxs("li",{children:[u.jsx("strong",{children:""}),"   / "]})]})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:"  (Settings)"}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsx("li",{children:"  "}),u.jsxs("li",{children:["   :",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsxs("li",{children:["  ( ",u.jsx("code",{className:"rounded bg-white/10 px-1",children:"actor"}),") :"]}),u.jsx("li",{children:"      "}),u.jsxs("li",{children:["      (",u.jsx("code",{className:"rounded bg-white/10 px-1",children:"act"}),","," ",u.jsx("code",{className:"rounded bg-white/10 px-1",children:"acting"}),","," ",u.jsx("code",{className:"rounded bg-white/10 px-1",children:"actress"})," )"]})]})]}),u.jsxs("li",{children:[" :",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsx("li",{children:"   / "}),u.jsxs("li",{children:["  ",u.jsx("strong",{children:"Offset"})]}),u.jsx("li",{children:" Offset    "})]})]})]})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:"   Words"}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsxs("li",{children:["  ",u.jsx("strong",{children:"  "}),":",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsx("li",{children:"    "}),u.jsxs("li",{children:["   ",u.jsx("em",{children:"nice to have"})]})]})]}),u.jsxs("li",{children:["  ",u.jsx("strong",{children:"  "}),":",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsx("li",{children:"   "}),u.jsxs("li",{children:[":",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsxs("li",{children:[u.jsx("code",{className:"rounded bg-white/10 px-1",children:"wind"})," =  "]}),u.jsxs("li",{children:[u.jsx("code",{className:"rounded bg-white/10 px-1",children:"to wind up"})," =  "]}),u.jsxs("li",{children:[u.jsx("code",{className:"rounded bg-white/10 px-1",children:"corporate"}),"   "]}),u.jsxs("li",{children:[u.jsx("code",{className:"rounded bg-white/10 px-1",children:"corporate"}),"      "]})]})]})]})]})]})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:"  "}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsxs("li",{children:["  ?",u.jsxs("ol",{className:"mt-2 list-decimal space-y-1 pr-5",children:[u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Words"}),"   ",u.jsx("strong",{children:"Export JSON"})]}),u.jsxs("li",{children:["    ",u.jsx("strong",{children:"Import"})]})]})]}),u.jsxs("li",{children:["   ?",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Quotes"}),"      "]}),u.jsx("li",{children:"    "})]})]})]})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:"  Find Subtitles"}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsx("li",{children:"    API"}),u.jsxs("li",{children:["   ",u.jsx("strong",{children:"5  "}),"  "]}),u.jsx("li",{children:"      "}),u.jsxs("li",{children:[":",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsxs("li",{children:["  ",u.jsx("strong",{children:" "}),"  "]}),u.jsxs("li",{children:["  ",u.jsx("strong",{children:"Hash"})," "]})]})]})]})]})]})}const Wr=({isActive:e})=>`px-3 py-2 rounded-md text-sm font-medium transition-colors ${e?"bg-white/10 text-white":"text-white/70 hover:text-white hover:bg-white/5"}`;function tb(){const e=it(i=>i.prefs.subtitleStyle),t=it(i=>i.prefs.highlightColors),n=it(i=>i.initialize),r=it(i=>i.initialized);return x.useEffect(()=>{r||n()},[r,n]),x.useEffect(()=>{const i=document.documentElement.style;i.setProperty("--subtitle-font-family",e.fontFamily),i.setProperty("--subtitle-font-size",`${e.fontSizePx}px`);const o=e.useMainForSecondaryFontSize?e.fontSizePx:e.secondaryFontSizePx;i.setProperty("--subtitle-secondary-font-size",`${o}px`),i.setProperty("--subtitle-font-weight",`${e.fontWeight}`),i.setProperty("--subtitle-color",e.color),i.setProperty("--subtitle-bg",e.bgColor),i.setProperty("--subtitle-line-height",`${e.lineHeight}`),i.setProperty("--subtitle-outline",e.outline?"1":"0"),i.setProperty("--subtitle-shadow",e.shadow?"1":"0"),i.setProperty("--highlight-exact",t.exact),i.setProperty("--highlight-variant",t.variant)},[e,t]),u.jsx("div",{className:"min-h-screen bg-background text-foreground",children:u.jsxs("div",{className:"mx-auto flex max-w-6xl flex-col gap-6 px-4 py-6",children:[u.jsxs("header",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsx("h1",{className:"text-2xl font-semibold",children:"Subtitle Word Tracker"}),u.jsxs("nav",{className:"flex gap-2",children:[u.jsx(Br,{to:"/",className:Wr,end:!0,children:"Player"}),u.jsx(Br,{to:"/words",className:Wr,children:"Words"}),u.jsx(Br,{to:"/quotes",className:Wr,children:"Quotes"}),u.jsx(Br,{to:"/stats",className:Wr,children:"Stats"}),u.jsx(Br,{to:"/settings",className:Wr,children:"Settings"}),u.jsx(Br,{to:"/vlsub",className:Wr,children:"Find Subs"}),u.jsx(Br,{to:"/help",className:Wr,children:"?"})]})]}),u.jsx("main",{className:"flex-1 rounded-lg border border-white/10 bg-white/5 p-6 shadow-xl backdrop-blur",children:u.jsxs(s0,{children:[u.jsx($n,{path:"/",element:u.jsx(kh,{})}),u.jsx($n,{path:"/words",element:u.jsx(Lw,{})}),u.jsx($n,{path:"/quotes",element:u.jsx(zw,{})}),u.jsx($n,{path:"/stats",element:u.jsx(Yw,{})}),u.jsx($n,{path:"/settings",element:u.jsx(qw,{})}),u.jsx($n,{path:"/vlsub",element:u.jsx(Zw,{})}),u.jsx($n,{path:"/help",element:u.jsx(eb,{})}),u.jsx($n,{path:"*",element:u.jsx(kh,{})})]})}),u.jsx("footer",{className:"text-xs text-white/40",children:"Local-first learning tool for movie subtitles."})]})})}const nb="./",Qo=new URL(nb,window.location.href).pathname,al=Qo.length>1&&Qo.endsWith("/")?Qo.slice(0,-1):Qo,Lh=new URLSearchParams(window.location.search).get("path");if(Lh){const e=decodeURIComponent(Lh),t=al==="/"?"":al,n=e.startsWith(t)?e.slice(t.length)||"/":e;window.history.replaceState(null,"",`${al}${n}`)}pu.createRoot(document.getElementById("root")).render(u.jsx(Nc.StrictMode,{children:u.jsx(h0,{basename:al,future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:u.jsx(tb,{})})}));
