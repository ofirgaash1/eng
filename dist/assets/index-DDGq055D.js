var Wy=Object.defineProperty;var Hy=(e,t,n)=>t in e?Wy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ai=(e,t,n)=>Hy(e,typeof t!="symbol"?t+"":t,n);function Vy(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $h={exports:{}},ra={},Uh={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var No=Symbol.for("react.element"),qy=Symbol.for("react.portal"),Qy=Symbol.for("react.fragment"),Yy=Symbol.for("react.strict_mode"),Gy=Symbol.for("react.profiler"),Xy=Symbol.for("react.provider"),Jy=Symbol.for("react.context"),Zy=Symbol.for("react.forward_ref"),eg=Symbol.for("react.suspense"),tg=Symbol.for("react.memo"),ng=Symbol.for("react.lazy"),Gd=Symbol.iterator;function rg(e){return e===null||typeof e!="object"?null:(e=Gd&&e[Gd]||e["@@iterator"],typeof e=="function"?e:null)}var Bh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kh=Object.assign,Wh={};function ps(e,t,n){this.props=e,this.context=t,this.refs=Wh,this.updater=n||Bh}ps.prototype.isReactComponent={};ps.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ps.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hh(){}Hh.prototype=ps.prototype;function Mc(e,t,n){this.props=e,this.context=t,this.refs=Wh,this.updater=n||Bh}var Fc=Mc.prototype=new Hh;Fc.constructor=Mc;Kh(Fc,ps.prototype);Fc.isPureReactComponent=!0;var Xd=Array.isArray,Vh=Object.prototype.hasOwnProperty,Lc={current:null},qh={key:!0,ref:!0,__self:!0,__source:!0};function Qh(e,t,n){var r,i={},o=null,u=null;if(t!=null)for(r in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(o=""+t.key),t)Vh.call(t,r)&&!qh.hasOwnProperty(r)&&(i[r]=t[r]);var f=arguments.length-2;if(f===1)i.children=n;else if(1<f){for(var p=Array(f),g=0;g<f;g++)p[g]=arguments[g+2];i.children=p}if(e&&e.defaultProps)for(r in f=e.defaultProps,f)i[r]===void 0&&(i[r]=f[r]);return{$$typeof:No,type:e,key:o,ref:u,props:i,_owner:Lc.current}}function ig(e,t){return{$$typeof:No,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ic(e){return typeof e=="object"&&e!==null&&e.$$typeof===No}function sg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Jd=/\/+/g;function Va(e,t){return typeof e=="object"&&e!==null&&e.key!=null?sg(""+e.key):t.toString(36)}function ml(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(o){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case No:case qy:u=!0}}if(u)return u=e,i=i(u),e=r===""?"."+Va(u,0):r,Xd(i)?(n="",e!=null&&(n=e.replace(Jd,"$&/")+"/"),ml(i,t,n,"",function(g){return g})):i!=null&&(Ic(i)&&(i=ig(i,n+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(Jd,"$&/")+"/")+e)),t.push(i)),1;if(u=0,r=r===""?".":r+":",Xd(e))for(var f=0;f<e.length;f++){o=e[f];var p=r+Va(o,f);u+=ml(o,t,n,p,i)}else if(p=rg(e),typeof p=="function")for(e=p.call(e),f=0;!(o=e.next()).done;)o=o.value,p=r+Va(o,f++),u+=ml(o,t,n,p,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function Yo(e,t,n){if(e==null)return e;var r=[],i=0;return ml(e,r,"","",function(o){return t.call(n,o,i++)}),r}function og(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ft={current:null},yl={transition:null},lg={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:yl,ReactCurrentOwner:Lc};function Yh(){throw Error("act(...) is not supported in production builds of React.")}Fe.Children={map:Yo,forEach:function(e,t,n){Yo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Yo(e,function(){t++}),t},toArray:function(e){return Yo(e,function(t){return t})||[]},only:function(e){if(!Ic(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Fe.Component=ps;Fe.Fragment=Qy;Fe.Profiler=Gy;Fe.PureComponent=Mc;Fe.StrictMode=Yy;Fe.Suspense=eg;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lg;Fe.act=Yh;Fe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Kh({},e.props),i=e.key,o=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,u=Lc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(p in t)Vh.call(t,p)&&!qh.hasOwnProperty(p)&&(r[p]=t[p]===void 0&&f!==void 0?f[p]:t[p])}var p=arguments.length-2;if(p===1)r.children=n;else if(1<p){f=Array(p);for(var g=0;g<p;g++)f[g]=arguments[g+2];r.children=f}return{$$typeof:No,type:e.type,key:i,ref:o,props:r,_owner:u}};Fe.createContext=function(e){return e={$$typeof:Jy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Xy,_context:e},e.Consumer=e};Fe.createElement=Qh;Fe.createFactory=function(e){var t=Qh.bind(null,e);return t.type=e,t};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(e){return{$$typeof:Zy,render:e}};Fe.isValidElement=Ic;Fe.lazy=function(e){return{$$typeof:ng,_payload:{_status:-1,_result:e},_init:og}};Fe.memo=function(e,t){return{$$typeof:tg,type:e,compare:t===void 0?null:t}};Fe.startTransition=function(e){var t=yl.transition;yl.transition={};try{e()}finally{yl.transition=t}};Fe.unstable_act=Yh;Fe.useCallback=function(e,t){return Ft.current.useCallback(e,t)};Fe.useContext=function(e){return Ft.current.useContext(e)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(e){return Ft.current.useDeferredValue(e)};Fe.useEffect=function(e,t){return Ft.current.useEffect(e,t)};Fe.useId=function(){return Ft.current.useId()};Fe.useImperativeHandle=function(e,t,n){return Ft.current.useImperativeHandle(e,t,n)};Fe.useInsertionEffect=function(e,t){return Ft.current.useInsertionEffect(e,t)};Fe.useLayoutEffect=function(e,t){return Ft.current.useLayoutEffect(e,t)};Fe.useMemo=function(e,t){return Ft.current.useMemo(e,t)};Fe.useReducer=function(e,t,n){return Ft.current.useReducer(e,t,n)};Fe.useRef=function(e){return Ft.current.useRef(e)};Fe.useState=function(e){return Ft.current.useState(e)};Fe.useSyncExternalStore=function(e,t,n){return Ft.current.useSyncExternalStore(e,t,n)};Fe.useTransition=function(){return Ft.current.useTransition()};Fe.version="18.3.1";Uh.exports=Fe;var x=Uh.exports;const Ac=Oc(x),ag=Vy({__proto__:null,default:Ac},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ug=x,cg=Symbol.for("react.element"),dg=Symbol.for("react.fragment"),fg=Object.prototype.hasOwnProperty,hg=ug.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pg={key:!0,ref:!0,__self:!0,__source:!0};function Gh(e,t,n){var r,i={},o=null,u=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(u=t.ref);for(r in t)fg.call(t,r)&&!pg.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:cg,type:e,key:o,ref:u,props:i,_owner:hg.current}}ra.Fragment=dg;ra.jsx=Gh;ra.jsxs=Gh;$h.exports=ra;var a=$h.exports,Cu={},Xh={exports:{}},Jt={},Jh={exports:{}},Zh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,se){var pe=W.length;W.push(se);e:for(;0<pe;){var je=pe-1>>>1,be=W[je];if(0<i(be,se))W[je]=se,W[pe]=be,pe=je;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var se=W[0],pe=W.pop();if(pe!==se){W[0]=pe;e:for(var je=0,be=W.length,$e=be>>>1;je<$e;){var Qe=2*(je+1)-1,gt=W[Qe],Ge=Qe+1,ct=W[Ge];if(0>i(gt,pe))Ge<be&&0>i(ct,gt)?(W[je]=ct,W[Ge]=pe,je=Ge):(W[je]=gt,W[Qe]=pe,je=Qe);else if(Ge<be&&0>i(ct,pe))W[je]=ct,W[Ge]=pe,je=Ge;else break e}}return se}function i(W,se){var pe=W.sortIndex-se.sortIndex;return pe!==0?pe:W.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var p=[],g=[],j=1,b=null,_=3,K=!1,D=!1,V=!1,X=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(W){for(var se=n(g);se!==null;){if(se.callback===null)r(g);else if(se.startTime<=W)r(g),se.sortIndex=se.expirationTime,t(p,se);else break;se=n(g)}}function B(W){if(V=!1,k(W),!D)if(n(p)!==null)D=!0,ie(Z);else{var se=n(g);se!==null&&ke(B,se.startTime-W)}}function Z(W,se){D=!1,V&&(V=!1,C(ne),ne=-1),K=!0;var pe=_;try{for(k(se),b=n(p);b!==null&&(!(b.expirationTime>se)||W&&!Ie());){var je=b.callback;if(typeof je=="function"){b.callback=null,_=b.priorityLevel;var be=je(b.expirationTime<=se);se=e.unstable_now(),typeof be=="function"?b.callback=be:b===n(p)&&r(p),k(se)}else r(p);b=n(p)}if(b!==null)var $e=!0;else{var Qe=n(g);Qe!==null&&ke(B,Qe.startTime-se),$e=!1}return $e}finally{b=null,_=pe,K=!1}}var J=!1,G=null,ne=-1,Ee=5,fe=-1;function Ie(){return!(e.unstable_now()-fe<Ee)}function De(){if(G!==null){var W=e.unstable_now();fe=W;var se=!0;try{se=G(!0,W)}finally{se?Y():(J=!1,G=null)}}else J=!1}var Y;if(typeof w=="function")Y=function(){w(De)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ae=q.port2;q.port1.onmessage=De,Y=function(){ae.postMessage(null)}}else Y=function(){X(De,0)};function ie(W){G=W,J||(J=!0,Y())}function ke(W,se){ne=X(function(){W(e.unstable_now())},se)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){D||K||(D=!0,ie(Z))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ee=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return n(p)},e.unstable_next=function(W){switch(_){case 1:case 2:case 3:var se=3;break;default:se=_}var pe=_;_=se;try{return W()}finally{_=pe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,se){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var pe=_;_=W;try{return se()}finally{_=pe}},e.unstable_scheduleCallback=function(W,se,pe){var je=e.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?je+pe:je):pe=je,W){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=pe+be,W={id:j++,callback:se,priorityLevel:W,startTime:pe,expirationTime:be,sortIndex:-1},pe>je?(W.sortIndex=pe,t(g,W),n(p)===null&&W===n(g)&&(V?(C(ne),ne=-1):V=!0,ke(B,pe-je))):(W.sortIndex=be,t(p,W),D||K||(D=!0,ie(Z))),W},e.unstable_shouldYield=Ie,e.unstable_wrapCallback=function(W){var se=_;return function(){var pe=_;_=se;try{return W.apply(this,arguments)}finally{_=pe}}}})(Zh);Jh.exports=Zh;var mg=Jh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yg=x,Xt=mg;function ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ep=new Set,ro={};function Ni(e,t){ss(e,t),ss(e+"Capture",t)}function ss(e,t){for(ro[e]=t,e=0;e<t.length;e++)ep.add(t[e])}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eu=Object.prototype.hasOwnProperty,gg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zd={},ef={};function vg(e){return Eu.call(ef,e)?!0:Eu.call(Zd,e)?!1:gg.test(e)?ef[e]=!0:(Zd[e]=!0,!1)}function xg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wg(e,t,n,r){if(t===null||typeof t>"u"||xg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Lt(e,t,n,r,i,o,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=u}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){bt[e]=new Lt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];bt[t]=new Lt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){bt[e]=new Lt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){bt[e]=new Lt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){bt[e]=new Lt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){bt[e]=new Lt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){bt[e]=new Lt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){bt[e]=new Lt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){bt[e]=new Lt(e,5,!1,e.toLowerCase(),null,!1,!1)});var zc=/[\-:]([a-z])/g;function Dc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(zc,Dc);bt[t]=new Lt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(zc,Dc);bt[t]=new Lt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(zc,Dc);bt[t]=new Lt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){bt[e]=new Lt(e,1,!1,e.toLowerCase(),null,!1,!1)});bt.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){bt[e]=new Lt(e,1,!1,e.toLowerCase(),null,!0,!0)});function $c(e,t,n,r){var i=bt.hasOwnProperty(t)?bt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(wg(t,n,i,r)&&(n=null),r||i===null?vg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var dr=yg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Go=Symbol.for("react.element"),Ui=Symbol.for("react.portal"),Bi=Symbol.for("react.fragment"),Uc=Symbol.for("react.strict_mode"),_u=Symbol.for("react.profiler"),tp=Symbol.for("react.provider"),np=Symbol.for("react.context"),Bc=Symbol.for("react.forward_ref"),Pu=Symbol.for("react.suspense"),Tu=Symbol.for("react.suspense_list"),Kc=Symbol.for("react.memo"),_r=Symbol.for("react.lazy"),rp=Symbol.for("react.offscreen"),tf=Symbol.iterator;function Fs(e){return e===null||typeof e!="object"?null:(e=tf&&e[tf]||e["@@iterator"],typeof e=="function"?e:null)}var tt=Object.assign,qa;function Ks(e){if(qa===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);qa=t&&t[1]||""}return`
`+qa+e}var Qa=!1;function Ya(e,t){if(!e||Qa)return"";Qa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var r=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){r=g}e.call(t.prototype)}else{try{throw Error()}catch(g){r=g}e()}}catch(g){if(g&&r&&typeof g.stack=="string"){for(var i=g.stack.split(`
`),o=r.stack.split(`
`),u=i.length-1,f=o.length-1;1<=u&&0<=f&&i[u]!==o[f];)f--;for(;1<=u&&0<=f;u--,f--)if(i[u]!==o[f]){if(u!==1||f!==1)do if(u--,f--,0>f||i[u]!==o[f]){var p=`
`+i[u].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=u&&0<=f);break}}}finally{Qa=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ks(e):""}function bg(e){switch(e.tag){case 5:return Ks(e.type);case 16:return Ks("Lazy");case 13:return Ks("Suspense");case 19:return Ks("SuspenseList");case 0:case 2:case 15:return e=Ya(e.type,!1),e;case 11:return e=Ya(e.type.render,!1),e;case 1:return e=Ya(e.type,!0),e;default:return""}}function Ru(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bi:return"Fragment";case Ui:return"Portal";case _u:return"Profiler";case Uc:return"StrictMode";case Pu:return"Suspense";case Tu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case np:return(e.displayName||"Context")+".Consumer";case tp:return(e._context.displayName||"Context")+".Provider";case Bc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Kc:return t=e.displayName||null,t!==null?t:Ru(e.type)||"Memo";case _r:t=e._payload,e=e._init;try{return Ru(e(t))}catch{}}return null}function Sg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ru(t);case 8:return t===Uc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Vr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ip(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kg(e){var t=ip(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(u){r=""+u,o.call(this,u)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xo(e){e._valueTracker||(e._valueTracker=kg(e))}function sp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ip(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Pl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ou(e,t){var n=t.checked;return tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function nf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Vr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function op(e,t){t=t.checked,t!=null&&$c(e,"checked",t,!1)}function Mu(e,t){op(e,t);var n=Vr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Fu(e,t.type,Vr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function rf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Fu(e,t,n){(t!=="number"||Pl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ws=Array.isArray;function Zi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Vr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Lu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ee(91));return tt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function sf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ee(92));if(Ws(n)){if(1<n.length)throw Error(ee(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Vr(n)}}function lp(e,t){var n=Vr(t.value),r=Vr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function of(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ap(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Iu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ap(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Jo,up=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Jo=Jo||document.createElement("div"),Jo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Jo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function io(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Qs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jg=["Webkit","ms","Moz","O"];Object.keys(Qs).forEach(function(e){jg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qs[t]=Qs[e]})});function cp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Qs.hasOwnProperty(e)&&Qs[e]?(""+t).trim():t+"px"}function dp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=cp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Ng=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Au(e,t){if(t){if(Ng[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ee(62))}}function zu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Du=null;function Wc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $u=null,es=null,ts=null;function lf(e){if(e=_o(e)){if(typeof $u!="function")throw Error(ee(280));var t=e.stateNode;t&&(t=aa(t),$u(e.stateNode,e.type,t))}}function fp(e){es?ts?ts.push(e):ts=[e]:es=e}function hp(){if(es){var e=es,t=ts;if(ts=es=null,lf(e),t)for(e=0;e<t.length;e++)lf(t[e])}}function pp(e,t){return e(t)}function mp(){}var Ga=!1;function yp(e,t,n){if(Ga)return e(t,n);Ga=!0;try{return pp(e,t,n)}finally{Ga=!1,(es!==null||ts!==null)&&(mp(),hp())}}function so(e,t){var n=e.stateNode;if(n===null)return null;var r=aa(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ee(231,t,typeof n));return n}var Uu=!1;if(lr)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){Uu=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{Uu=!1}function Cg(e,t,n,r,i,o,u,f,p){var g=Array.prototype.slice.call(arguments,3);try{t.apply(n,g)}catch(j){this.onError(j)}}var Ys=!1,Tl=null,Rl=!1,Bu=null,Eg={onError:function(e){Ys=!0,Tl=e}};function _g(e,t,n,r,i,o,u,f,p){Ys=!1,Tl=null,Cg.apply(Eg,arguments)}function Pg(e,t,n,r,i,o,u,f,p){if(_g.apply(this,arguments),Ys){if(Ys){var g=Tl;Ys=!1,Tl=null}else throw Error(ee(198));Rl||(Rl=!0,Bu=g)}}function Ci(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function gp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function af(e){if(Ci(e)!==e)throw Error(ee(188))}function Tg(e){var t=e.alternate;if(!t){if(t=Ci(e),t===null)throw Error(ee(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return af(i),e;if(o===r)return af(i),t;o=o.sibling}throw Error(ee(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,f=i.child;f;){if(f===n){u=!0,n=i,r=o;break}if(f===r){u=!0,r=i,n=o;break}f=f.sibling}if(!u){for(f=o.child;f;){if(f===n){u=!0,n=o,r=i;break}if(f===r){u=!0,r=o,n=i;break}f=f.sibling}if(!u)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?e:t}function vp(e){return e=Tg(e),e!==null?xp(e):null}function xp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xp(e);if(t!==null)return t;e=e.sibling}return null}var wp=Xt.unstable_scheduleCallback,uf=Xt.unstable_cancelCallback,Rg=Xt.unstable_shouldYield,Og=Xt.unstable_requestPaint,lt=Xt.unstable_now,Mg=Xt.unstable_getCurrentPriorityLevel,Hc=Xt.unstable_ImmediatePriority,bp=Xt.unstable_UserBlockingPriority,Ol=Xt.unstable_NormalPriority,Fg=Xt.unstable_LowPriority,Sp=Xt.unstable_IdlePriority,ia=null,Bn=null;function Lg(e){if(Bn&&typeof Bn.onCommitFiberRoot=="function")try{Bn.onCommitFiberRoot(ia,e,void 0,(e.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:zg,Ig=Math.log,Ag=Math.LN2;function zg(e){return e>>>=0,e===0?32:31-(Ig(e)/Ag|0)|0}var Zo=64,el=4194304;function Hs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ml(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,u=n&268435455;if(u!==0){var f=u&~i;f!==0?r=Hs(f):(o&=u,o!==0&&(r=Hs(o)))}else u=n&~i,u!==0?r=Hs(u):o!==0&&(r=Hs(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-kn(t),i=1<<n,r|=e[n],t&=~i;return r}function Dg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $g(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var u=31-kn(o),f=1<<u,p=i[u];p===-1?(!(f&n)||f&r)&&(i[u]=Dg(f,t)):p<=t&&(e.expiredLanes|=f),o&=~f}}function Ku(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kp(){var e=Zo;return Zo<<=1,!(Zo&4194240)&&(Zo=64),e}function Xa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Co(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-kn(t),e[t]=n}function Ug(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-kn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Vc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-kn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Be=0;function jp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Np,qc,Cp,Ep,_p,Wu=!1,tl=[],Ar=null,zr=null,Dr=null,oo=new Map,lo=new Map,Tr=[],Bg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cf(e,t){switch(e){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":oo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lo.delete(t.pointerId)}}function Is(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=_o(t),t!==null&&qc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Kg(e,t,n,r,i){switch(t){case"focusin":return Ar=Is(Ar,e,t,n,r,i),!0;case"dragenter":return zr=Is(zr,e,t,n,r,i),!0;case"mouseover":return Dr=Is(Dr,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return oo.set(o,Is(oo.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,lo.set(o,Is(lo.get(o)||null,e,t,n,r,i)),!0}return!1}function Pp(e){var t=mi(e.target);if(t!==null){var n=Ci(t);if(n!==null){if(t=n.tag,t===13){if(t=gp(n),t!==null){e.blockedOn=t,_p(e.priority,function(){Cp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Hu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Du=r,n.target.dispatchEvent(r),Du=null}else return t=_o(n),t!==null&&qc(t),e.blockedOn=n,!1;t.shift()}return!0}function df(e,t,n){gl(e)&&n.delete(t)}function Wg(){Wu=!1,Ar!==null&&gl(Ar)&&(Ar=null),zr!==null&&gl(zr)&&(zr=null),Dr!==null&&gl(Dr)&&(Dr=null),oo.forEach(df),lo.forEach(df)}function As(e,t){e.blockedOn===t&&(e.blockedOn=null,Wu||(Wu=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,Wg)))}function ao(e){function t(i){return As(i,e)}if(0<tl.length){As(tl[0],e);for(var n=1;n<tl.length;n++){var r=tl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ar!==null&&As(Ar,e),zr!==null&&As(zr,e),Dr!==null&&As(Dr,e),oo.forEach(t),lo.forEach(t),n=0;n<Tr.length;n++)r=Tr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Tr.length&&(n=Tr[0],n.blockedOn===null);)Pp(n),n.blockedOn===null&&Tr.shift()}var ns=dr.ReactCurrentBatchConfig,Fl=!0;function Hg(e,t,n,r){var i=Be,o=ns.transition;ns.transition=null;try{Be=1,Qc(e,t,n,r)}finally{Be=i,ns.transition=o}}function Vg(e,t,n,r){var i=Be,o=ns.transition;ns.transition=null;try{Be=4,Qc(e,t,n,r)}finally{Be=i,ns.transition=o}}function Qc(e,t,n,r){if(Fl){var i=Hu(e,t,n,r);if(i===null)lu(e,t,r,Ll,n),cf(e,r);else if(Kg(i,e,t,n,r))r.stopPropagation();else if(cf(e,r),t&4&&-1<Bg.indexOf(e)){for(;i!==null;){var o=_o(i);if(o!==null&&Np(o),o=Hu(e,t,n,r),o===null&&lu(e,t,r,Ll,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else lu(e,t,r,null,n)}}var Ll=null;function Hu(e,t,n,r){if(Ll=null,e=Wc(r),e=mi(e),e!==null)if(t=Ci(e),t===null)e=null;else if(n=t.tag,n===13){if(e=gp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ll=e,null}function Tp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mg()){case Hc:return 1;case bp:return 4;case Ol:case Fg:return 16;case Sp:return 536870912;default:return 16}default:return 16}}var Or=null,Yc=null,vl=null;function Rp(){if(vl)return vl;var e,t=Yc,n=t.length,r,i="value"in Or?Or.value:Or.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var u=n-e;for(r=1;r<=u&&t[n-r]===i[o-r];r++);return vl=i.slice(e,1<r?1-r:void 0)}function xl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nl(){return!0}function ff(){return!1}function Zt(e){function t(n,r,i,o,u){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=u,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(n=e[f],this[f]=n?n(o):o[f]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?nl:ff,this.isPropagationStopped=ff,this}return tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nl)},persist:function(){},isPersistent:nl}),t}var ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gc=Zt(ms),Eo=tt({},ms,{view:0,detail:0}),qg=Zt(Eo),Ja,Za,zs,sa=tt({},Eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zs&&(zs&&e.type==="mousemove"?(Ja=e.screenX-zs.screenX,Za=e.screenY-zs.screenY):Za=Ja=0,zs=e),Ja)},movementY:function(e){return"movementY"in e?e.movementY:Za}}),hf=Zt(sa),Qg=tt({},sa,{dataTransfer:0}),Yg=Zt(Qg),Gg=tt({},Eo,{relatedTarget:0}),eu=Zt(Gg),Xg=tt({},ms,{animationName:0,elapsedTime:0,pseudoElement:0}),Jg=Zt(Xg),Zg=tt({},ms,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ev=Zt(Zg),tv=tt({},ms,{data:0}),pf=Zt(tv),nv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=iv[e])?!!t[e]:!1}function Xc(){return sv}var ov=tt({},Eo,{key:function(e){if(e.key){var t=nv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xc,charCode:function(e){return e.type==="keypress"?xl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lv=Zt(ov),av=tt({},sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mf=Zt(av),uv=tt({},Eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xc}),cv=Zt(uv),dv=tt({},ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),fv=Zt(dv),hv=tt({},sa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pv=Zt(hv),mv=[9,13,27,32],Jc=lr&&"CompositionEvent"in window,Gs=null;lr&&"documentMode"in document&&(Gs=document.documentMode);var yv=lr&&"TextEvent"in window&&!Gs,Op=lr&&(!Jc||Gs&&8<Gs&&11>=Gs),yf=" ",gf=!1;function Mp(e,t){switch(e){case"keyup":return mv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ki=!1;function gv(e,t){switch(e){case"compositionend":return Fp(t);case"keypress":return t.which!==32?null:(gf=!0,yf);case"textInput":return e=t.data,e===yf&&gf?null:e;default:return null}}function vv(e,t){if(Ki)return e==="compositionend"||!Jc&&Mp(e,t)?(e=Rp(),vl=Yc=Or=null,Ki=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Op&&t.locale!=="ko"?null:t.data;default:return null}}var xv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xv[e.type]:t==="textarea"}function Lp(e,t,n,r){fp(r),t=Il(t,"onChange"),0<t.length&&(n=new Gc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xs=null,uo=null;function wv(e){Vp(e,0)}function oa(e){var t=Vi(e);if(sp(t))return e}function bv(e,t){if(e==="change")return t}var Ip=!1;if(lr){var tu;if(lr){var nu="oninput"in document;if(!nu){var xf=document.createElement("div");xf.setAttribute("oninput","return;"),nu=typeof xf.oninput=="function"}tu=nu}else tu=!1;Ip=tu&&(!document.documentMode||9<document.documentMode)}function wf(){Xs&&(Xs.detachEvent("onpropertychange",Ap),uo=Xs=null)}function Ap(e){if(e.propertyName==="value"&&oa(uo)){var t=[];Lp(t,uo,e,Wc(e)),yp(wv,t)}}function Sv(e,t,n){e==="focusin"?(wf(),Xs=t,uo=n,Xs.attachEvent("onpropertychange",Ap)):e==="focusout"&&wf()}function kv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return oa(uo)}function jv(e,t){if(e==="click")return oa(t)}function Nv(e,t){if(e==="input"||e==="change")return oa(t)}function Cv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nn=typeof Object.is=="function"?Object.is:Cv;function co(e,t){if(Nn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Eu.call(t,i)||!Nn(e[i],t[i]))return!1}return!0}function bf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sf(e,t){var n=bf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bf(n)}}function zp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Dp(){for(var e=window,t=Pl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Pl(e.document)}return t}function Zc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ev(e){var t=Dp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&zp(n.ownerDocument.documentElement,n)){if(r!==null&&Zc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Sf(n,o);var u=Sf(n,r);i&&u&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _v=lr&&"documentMode"in document&&11>=document.documentMode,Wi=null,Vu=null,Js=null,qu=!1;function kf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qu||Wi==null||Wi!==Pl(r)||(r=Wi,"selectionStart"in r&&Zc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Js&&co(Js,r)||(Js=r,r=Il(Vu,"onSelect"),0<r.length&&(t=new Gc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Wi)))}function rl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Hi={animationend:rl("Animation","AnimationEnd"),animationiteration:rl("Animation","AnimationIteration"),animationstart:rl("Animation","AnimationStart"),transitionend:rl("Transition","TransitionEnd")},ru={},$p={};lr&&($p=document.createElement("div").style,"AnimationEvent"in window||(delete Hi.animationend.animation,delete Hi.animationiteration.animation,delete Hi.animationstart.animation),"TransitionEvent"in window||delete Hi.transitionend.transition);function la(e){if(ru[e])return ru[e];if(!Hi[e])return e;var t=Hi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in $p)return ru[e]=t[n];return e}var Up=la("animationend"),Bp=la("animationiteration"),Kp=la("animationstart"),Wp=la("transitionend"),Hp=new Map,jf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qr(e,t){Hp.set(e,t),Ni(t,[e])}for(var iu=0;iu<jf.length;iu++){var su=jf[iu],Pv=su.toLowerCase(),Tv=su[0].toUpperCase()+su.slice(1);Qr(Pv,"on"+Tv)}Qr(Up,"onAnimationEnd");Qr(Bp,"onAnimationIteration");Qr(Kp,"onAnimationStart");Qr("dblclick","onDoubleClick");Qr("focusin","onFocus");Qr("focusout","onBlur");Qr(Wp,"onTransitionEnd");ss("onMouseEnter",["mouseout","mouseover"]);ss("onMouseLeave",["mouseout","mouseover"]);ss("onPointerEnter",["pointerout","pointerover"]);ss("onPointerLeave",["pointerout","pointerover"]);Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vs));function Nf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Pg(r,t,void 0,e),e.currentTarget=null}function Vp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var u=r.length-1;0<=u;u--){var f=r[u],p=f.instance,g=f.currentTarget;if(f=f.listener,p!==o&&i.isPropagationStopped())break e;Nf(i,f,g),o=p}else for(u=0;u<r.length;u++){if(f=r[u],p=f.instance,g=f.currentTarget,f=f.listener,p!==o&&i.isPropagationStopped())break e;Nf(i,f,g),o=p}}}if(Rl)throw e=Bu,Rl=!1,Bu=null,e}function Ve(e,t){var n=t[Ju];n===void 0&&(n=t[Ju]=new Set);var r=e+"__bubble";n.has(r)||(qp(t,e,2,!1),n.add(r))}function ou(e,t,n){var r=0;t&&(r|=4),qp(n,e,r,t)}var il="_reactListening"+Math.random().toString(36).slice(2);function fo(e){if(!e[il]){e[il]=!0,ep.forEach(function(n){n!=="selectionchange"&&(Rv.has(n)||ou(n,!1,e),ou(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[il]||(t[il]=!0,ou("selectionchange",!1,t))}}function qp(e,t,n,r){switch(Tp(t)){case 1:var i=Hg;break;case 4:i=Vg;break;default:i=Qc}n=i.bind(null,t,n,e),i=void 0,!Uu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function lu(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var f=r.stateNode.containerInfo;if(f===i||f.nodeType===8&&f.parentNode===i)break;if(u===4)for(u=r.return;u!==null;){var p=u.tag;if((p===3||p===4)&&(p=u.stateNode.containerInfo,p===i||p.nodeType===8&&p.parentNode===i))return;u=u.return}for(;f!==null;){if(u=mi(f),u===null)return;if(p=u.tag,p===5||p===6){r=o=u;continue e}f=f.parentNode}}r=r.return}yp(function(){var g=o,j=Wc(n),b=[];e:{var _=Hp.get(e);if(_!==void 0){var K=Gc,D=e;switch(e){case"keypress":if(xl(n)===0)break e;case"keydown":case"keyup":K=lv;break;case"focusin":D="focus",K=eu;break;case"focusout":D="blur",K=eu;break;case"beforeblur":case"afterblur":K=eu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=hf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Yg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=cv;break;case Up:case Bp:case Kp:K=Jg;break;case Wp:K=fv;break;case"scroll":K=qg;break;case"wheel":K=pv;break;case"copy":case"cut":case"paste":K=ev;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=mf}var V=(t&4)!==0,X=!V&&e==="scroll",C=V?_!==null?_+"Capture":null:_;V=[];for(var w=g,k;w!==null;){k=w;var B=k.stateNode;if(k.tag===5&&B!==null&&(k=B,C!==null&&(B=so(w,C),B!=null&&V.push(ho(w,B,k)))),X)break;w=w.return}0<V.length&&(_=new K(_,D,null,n,j),b.push({event:_,listeners:V}))}}if(!(t&7)){e:{if(_=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",_&&n!==Du&&(D=n.relatedTarget||n.fromElement)&&(mi(D)||D[ar]))break e;if((K||_)&&(_=j.window===j?j:(_=j.ownerDocument)?_.defaultView||_.parentWindow:window,K?(D=n.relatedTarget||n.toElement,K=g,D=D?mi(D):null,D!==null&&(X=Ci(D),D!==X||D.tag!==5&&D.tag!==6)&&(D=null)):(K=null,D=g),K!==D)){if(V=hf,B="onMouseLeave",C="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(V=mf,B="onPointerLeave",C="onPointerEnter",w="pointer"),X=K==null?_:Vi(K),k=D==null?_:Vi(D),_=new V(B,w+"leave",K,n,j),_.target=X,_.relatedTarget=k,B=null,mi(j)===g&&(V=new V(C,w+"enter",D,n,j),V.target=k,V.relatedTarget=X,B=V),X=B,K&&D)t:{for(V=K,C=D,w=0,k=V;k;k=zi(k))w++;for(k=0,B=C;B;B=zi(B))k++;for(;0<w-k;)V=zi(V),w--;for(;0<k-w;)C=zi(C),k--;for(;w--;){if(V===C||C!==null&&V===C.alternate)break t;V=zi(V),C=zi(C)}V=null}else V=null;K!==null&&Cf(b,_,K,V,!1),D!==null&&X!==null&&Cf(b,X,D,V,!0)}}e:{if(_=g?Vi(g):window,K=_.nodeName&&_.nodeName.toLowerCase(),K==="select"||K==="input"&&_.type==="file")var Z=bv;else if(vf(_))if(Ip)Z=Nv;else{Z=kv;var J=Sv}else(K=_.nodeName)&&K.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(Z=jv);if(Z&&(Z=Z(e,g))){Lp(b,Z,n,j);break e}J&&J(e,_,g),e==="focusout"&&(J=_._wrapperState)&&J.controlled&&_.type==="number"&&Fu(_,"number",_.value)}switch(J=g?Vi(g):window,e){case"focusin":(vf(J)||J.contentEditable==="true")&&(Wi=J,Vu=g,Js=null);break;case"focusout":Js=Vu=Wi=null;break;case"mousedown":qu=!0;break;case"contextmenu":case"mouseup":case"dragend":qu=!1,kf(b,n,j);break;case"selectionchange":if(_v)break;case"keydown":case"keyup":kf(b,n,j)}var G;if(Jc)e:{switch(e){case"compositionstart":var ne="onCompositionStart";break e;case"compositionend":ne="onCompositionEnd";break e;case"compositionupdate":ne="onCompositionUpdate";break e}ne=void 0}else Ki?Mp(e,n)&&(ne="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ne="onCompositionStart");ne&&(Op&&n.locale!=="ko"&&(Ki||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&Ki&&(G=Rp()):(Or=j,Yc="value"in Or?Or.value:Or.textContent,Ki=!0)),J=Il(g,ne),0<J.length&&(ne=new pf(ne,e,null,n,j),b.push({event:ne,listeners:J}),G?ne.data=G:(G=Fp(n),G!==null&&(ne.data=G)))),(G=yv?gv(e,n):vv(e,n))&&(g=Il(g,"onBeforeInput"),0<g.length&&(j=new pf("onBeforeInput","beforeinput",null,n,j),b.push({event:j,listeners:g}),j.data=G))}Vp(b,t)})}function ho(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Il(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=so(e,n),o!=null&&r.unshift(ho(e,o,i)),o=so(e,t),o!=null&&r.push(ho(e,o,i))),e=e.return}return r}function zi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Cf(e,t,n,r,i){for(var o=t._reactName,u=[];n!==null&&n!==r;){var f=n,p=f.alternate,g=f.stateNode;if(p!==null&&p===r)break;f.tag===5&&g!==null&&(f=g,i?(p=so(n,o),p!=null&&u.unshift(ho(n,p,f))):i||(p=so(n,o),p!=null&&u.push(ho(n,p,f)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}var Ov=/\r\n?/g,Mv=/\u0000|\uFFFD/g;function Ef(e){return(typeof e=="string"?e:""+e).replace(Ov,`
`).replace(Mv,"")}function sl(e,t,n){if(t=Ef(t),Ef(e)!==t&&n)throw Error(ee(425))}function Al(){}var Qu=null,Yu=null;function Gu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xu=typeof setTimeout=="function"?setTimeout:void 0,Fv=typeof clearTimeout=="function"?clearTimeout:void 0,_f=typeof Promise=="function"?Promise:void 0,Lv=typeof queueMicrotask=="function"?queueMicrotask:typeof _f<"u"?function(e){return _f.resolve(null).then(e).catch(Iv)}:Xu;function Iv(e){setTimeout(function(){throw e})}function au(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ao(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ao(t)}function $r(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Pf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ys=Math.random().toString(36).slice(2),$n="__reactFiber$"+ys,po="__reactProps$"+ys,ar="__reactContainer$"+ys,Ju="__reactEvents$"+ys,Av="__reactListeners$"+ys,zv="__reactHandles$"+ys;function mi(e){var t=e[$n];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ar]||n[$n]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Pf(e);e!==null;){if(n=e[$n])return n;e=Pf(e)}return t}e=n,n=e.parentNode}return null}function _o(e){return e=e[$n]||e[ar],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ee(33))}function aa(e){return e[po]||null}var Zu=[],qi=-1;function Yr(e){return{current:e}}function qe(e){0>qi||(e.current=Zu[qi],Zu[qi]=null,qi--)}function We(e,t){qi++,Zu[qi]=e.current,e.current=t}var qr={},Pt=Yr(qr),Bt=Yr(!1),wi=qr;function os(e,t){var n=e.type.contextTypes;if(!n)return qr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Kt(e){return e=e.childContextTypes,e!=null}function zl(){qe(Bt),qe(Pt)}function Tf(e,t,n){if(Pt.current!==qr)throw Error(ee(168));We(Pt,t),We(Bt,n)}function Qp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ee(108,Sg(e)||"Unknown",i));return tt({},n,r)}function Dl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qr,wi=Pt.current,We(Pt,e),We(Bt,Bt.current),!0}function Rf(e,t,n){var r=e.stateNode;if(!r)throw Error(ee(169));n?(e=Qp(e,t,wi),r.__reactInternalMemoizedMergedChildContext=e,qe(Bt),qe(Pt),We(Pt,e)):qe(Bt),We(Bt,n)}var rr=null,ua=!1,uu=!1;function Yp(e){rr===null?rr=[e]:rr.push(e)}function Dv(e){ua=!0,Yp(e)}function Gr(){if(!uu&&rr!==null){uu=!0;var e=0,t=Be;try{var n=rr;for(Be=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}rr=null,ua=!1}catch(i){throw rr!==null&&(rr=rr.slice(e+1)),wp(Hc,Gr),i}finally{Be=t,uu=!1}}return null}var Qi=[],Yi=0,$l=null,Ul=0,rn=[],sn=0,bi=null,ir=1,sr="";function fi(e,t){Qi[Yi++]=Ul,Qi[Yi++]=$l,$l=e,Ul=t}function Gp(e,t,n){rn[sn++]=ir,rn[sn++]=sr,rn[sn++]=bi,bi=e;var r=ir;e=sr;var i=32-kn(r)-1;r&=~(1<<i),n+=1;var o=32-kn(t)+i;if(30<o){var u=i-i%5;o=(r&(1<<u)-1).toString(32),r>>=u,i-=u,ir=1<<32-kn(t)+i|n<<i|r,sr=o+e}else ir=1<<o|n<<i|r,sr=e}function ed(e){e.return!==null&&(fi(e,1),Gp(e,1,0))}function td(e){for(;e===$l;)$l=Qi[--Yi],Qi[Yi]=null,Ul=Qi[--Yi],Qi[Yi]=null;for(;e===bi;)bi=rn[--sn],rn[sn]=null,sr=rn[--sn],rn[sn]=null,ir=rn[--sn],rn[sn]=null}var Gt=null,Yt=null,Ye=!1,Sn=null;function Xp(e,t){var n=on(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Of(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Gt=e,Yt=$r(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Gt=e,Yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=bi!==null?{id:ir,overflow:sr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=on(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Gt=e,Yt=null,!0):!1;default:return!1}}function ec(e){return(e.mode&1)!==0&&(e.flags&128)===0}function tc(e){if(Ye){var t=Yt;if(t){var n=t;if(!Of(e,t)){if(ec(e))throw Error(ee(418));t=$r(n.nextSibling);var r=Gt;t&&Of(e,t)?Xp(r,n):(e.flags=e.flags&-4097|2,Ye=!1,Gt=e)}}else{if(ec(e))throw Error(ee(418));e.flags=e.flags&-4097|2,Ye=!1,Gt=e}}}function Mf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Gt=e}function ol(e){if(e!==Gt)return!1;if(!Ye)return Mf(e),Ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gu(e.type,e.memoizedProps)),t&&(t=Yt)){if(ec(e))throw Jp(),Error(ee(418));for(;t;)Xp(e,t),t=$r(t.nextSibling)}if(Mf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Yt=$r(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Yt=null}}else Yt=Gt?$r(e.stateNode.nextSibling):null;return!0}function Jp(){for(var e=Yt;e;)e=$r(e.nextSibling)}function ls(){Yt=Gt=null,Ye=!1}function nd(e){Sn===null?Sn=[e]:Sn.push(e)}var $v=dr.ReactCurrentBatchConfig;function Ds(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(u){var f=i.refs;u===null?delete f[o]:f[o]=u},t._stringRef=o,t)}if(typeof e!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,e))}return e}function ll(e,t){throw e=Object.prototype.toString.call(t),Error(ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ff(e){var t=e._init;return t(e._payload)}function Zp(e){function t(C,w){if(e){var k=C.deletions;k===null?(C.deletions=[w],C.flags|=16):k.push(w)}}function n(C,w){if(!e)return null;for(;w!==null;)t(C,w),w=w.sibling;return null}function r(C,w){for(C=new Map;w!==null;)w.key!==null?C.set(w.key,w):C.set(w.index,w),w=w.sibling;return C}function i(C,w){return C=Wr(C,w),C.index=0,C.sibling=null,C}function o(C,w,k){return C.index=k,e?(k=C.alternate,k!==null?(k=k.index,k<w?(C.flags|=2,w):k):(C.flags|=2,w)):(C.flags|=1048576,w)}function u(C){return e&&C.alternate===null&&(C.flags|=2),C}function f(C,w,k,B){return w===null||w.tag!==6?(w=yu(k,C.mode,B),w.return=C,w):(w=i(w,k),w.return=C,w)}function p(C,w,k,B){var Z=k.type;return Z===Bi?j(C,w,k.props.children,B,k.key):w!==null&&(w.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===_r&&Ff(Z)===w.type)?(B=i(w,k.props),B.ref=Ds(C,w,k),B.return=C,B):(B=Cl(k.type,k.key,k.props,null,C.mode,B),B.ref=Ds(C,w,k),B.return=C,B)}function g(C,w,k,B){return w===null||w.tag!==4||w.stateNode.containerInfo!==k.containerInfo||w.stateNode.implementation!==k.implementation?(w=gu(k,C.mode,B),w.return=C,w):(w=i(w,k.children||[]),w.return=C,w)}function j(C,w,k,B,Z){return w===null||w.tag!==7?(w=xi(k,C.mode,B,Z),w.return=C,w):(w=i(w,k),w.return=C,w)}function b(C,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return w=yu(""+w,C.mode,k),w.return=C,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Go:return k=Cl(w.type,w.key,w.props,null,C.mode,k),k.ref=Ds(C,null,w),k.return=C,k;case Ui:return w=gu(w,C.mode,k),w.return=C,w;case _r:var B=w._init;return b(C,B(w._payload),k)}if(Ws(w)||Fs(w))return w=xi(w,C.mode,k,null),w.return=C,w;ll(C,w)}return null}function _(C,w,k,B){var Z=w!==null?w.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return Z!==null?null:f(C,w,""+k,B);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Go:return k.key===Z?p(C,w,k,B):null;case Ui:return k.key===Z?g(C,w,k,B):null;case _r:return Z=k._init,_(C,w,Z(k._payload),B)}if(Ws(k)||Fs(k))return Z!==null?null:j(C,w,k,B,null);ll(C,k)}return null}function K(C,w,k,B,Z){if(typeof B=="string"&&B!==""||typeof B=="number")return C=C.get(k)||null,f(w,C,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Go:return C=C.get(B.key===null?k:B.key)||null,p(w,C,B,Z);case Ui:return C=C.get(B.key===null?k:B.key)||null,g(w,C,B,Z);case _r:var J=B._init;return K(C,w,k,J(B._payload),Z)}if(Ws(B)||Fs(B))return C=C.get(k)||null,j(w,C,B,Z,null);ll(w,B)}return null}function D(C,w,k,B){for(var Z=null,J=null,G=w,ne=w=0,Ee=null;G!==null&&ne<k.length;ne++){G.index>ne?(Ee=G,G=null):Ee=G.sibling;var fe=_(C,G,k[ne],B);if(fe===null){G===null&&(G=Ee);break}e&&G&&fe.alternate===null&&t(C,G),w=o(fe,w,ne),J===null?Z=fe:J.sibling=fe,J=fe,G=Ee}if(ne===k.length)return n(C,G),Ye&&fi(C,ne),Z;if(G===null){for(;ne<k.length;ne++)G=b(C,k[ne],B),G!==null&&(w=o(G,w,ne),J===null?Z=G:J.sibling=G,J=G);return Ye&&fi(C,ne),Z}for(G=r(C,G);ne<k.length;ne++)Ee=K(G,C,ne,k[ne],B),Ee!==null&&(e&&Ee.alternate!==null&&G.delete(Ee.key===null?ne:Ee.key),w=o(Ee,w,ne),J===null?Z=Ee:J.sibling=Ee,J=Ee);return e&&G.forEach(function(Ie){return t(C,Ie)}),Ye&&fi(C,ne),Z}function V(C,w,k,B){var Z=Fs(k);if(typeof Z!="function")throw Error(ee(150));if(k=Z.call(k),k==null)throw Error(ee(151));for(var J=Z=null,G=w,ne=w=0,Ee=null,fe=k.next();G!==null&&!fe.done;ne++,fe=k.next()){G.index>ne?(Ee=G,G=null):Ee=G.sibling;var Ie=_(C,G,fe.value,B);if(Ie===null){G===null&&(G=Ee);break}e&&G&&Ie.alternate===null&&t(C,G),w=o(Ie,w,ne),J===null?Z=Ie:J.sibling=Ie,J=Ie,G=Ee}if(fe.done)return n(C,G),Ye&&fi(C,ne),Z;if(G===null){for(;!fe.done;ne++,fe=k.next())fe=b(C,fe.value,B),fe!==null&&(w=o(fe,w,ne),J===null?Z=fe:J.sibling=fe,J=fe);return Ye&&fi(C,ne),Z}for(G=r(C,G);!fe.done;ne++,fe=k.next())fe=K(G,C,ne,fe.value,B),fe!==null&&(e&&fe.alternate!==null&&G.delete(fe.key===null?ne:fe.key),w=o(fe,w,ne),J===null?Z=fe:J.sibling=fe,J=fe);return e&&G.forEach(function(De){return t(C,De)}),Ye&&fi(C,ne),Z}function X(C,w,k,B){if(typeof k=="object"&&k!==null&&k.type===Bi&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Go:e:{for(var Z=k.key,J=w;J!==null;){if(J.key===Z){if(Z=k.type,Z===Bi){if(J.tag===7){n(C,J.sibling),w=i(J,k.props.children),w.return=C,C=w;break e}}else if(J.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===_r&&Ff(Z)===J.type){n(C,J.sibling),w=i(J,k.props),w.ref=Ds(C,J,k),w.return=C,C=w;break e}n(C,J);break}else t(C,J);J=J.sibling}k.type===Bi?(w=xi(k.props.children,C.mode,B,k.key),w.return=C,C=w):(B=Cl(k.type,k.key,k.props,null,C.mode,B),B.ref=Ds(C,w,k),B.return=C,C=B)}return u(C);case Ui:e:{for(J=k.key;w!==null;){if(w.key===J)if(w.tag===4&&w.stateNode.containerInfo===k.containerInfo&&w.stateNode.implementation===k.implementation){n(C,w.sibling),w=i(w,k.children||[]),w.return=C,C=w;break e}else{n(C,w);break}else t(C,w);w=w.sibling}w=gu(k,C.mode,B),w.return=C,C=w}return u(C);case _r:return J=k._init,X(C,w,J(k._payload),B)}if(Ws(k))return D(C,w,k,B);if(Fs(k))return V(C,w,k,B);ll(C,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,w!==null&&w.tag===6?(n(C,w.sibling),w=i(w,k),w.return=C,C=w):(n(C,w),w=yu(k,C.mode,B),w.return=C,C=w),u(C)):n(C,w)}return X}var as=Zp(!0),em=Zp(!1),Bl=Yr(null),Kl=null,Gi=null,rd=null;function id(){rd=Gi=Kl=null}function sd(e){var t=Bl.current;qe(Bl),e._currentValue=t}function nc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function rs(e,t){Kl=e,rd=Gi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ut=!0),e.firstContext=null)}function an(e){var t=e._currentValue;if(rd!==e)if(e={context:e,memoizedValue:t,next:null},Gi===null){if(Kl===null)throw Error(ee(308));Gi=e,Kl.dependencies={lanes:0,firstContext:e}}else Gi=Gi.next=e;return t}var yi=null;function od(e){yi===null?yi=[e]:yi.push(e)}function tm(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,od(t)):(n.next=i.next,i.next=n),t.interleaved=n,ur(e,r)}function ur(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Pr=!1;function ld(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function or(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ur(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ze&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ur(e,n)}return i=r.interleaved,i===null?(t.next=t,od(r)):(t.next=i.next,i.next=t),r.interleaved=t,ur(e,n)}function wl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Vc(e,n)}}function Lf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=u:o=o.next=u,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wl(e,t,n,r){var i=e.updateQueue;Pr=!1;var o=i.firstBaseUpdate,u=i.lastBaseUpdate,f=i.shared.pending;if(f!==null){i.shared.pending=null;var p=f,g=p.next;p.next=null,u===null?o=g:u.next=g,u=p;var j=e.alternate;j!==null&&(j=j.updateQueue,f=j.lastBaseUpdate,f!==u&&(f===null?j.firstBaseUpdate=g:f.next=g,j.lastBaseUpdate=p))}if(o!==null){var b=i.baseState;u=0,j=g=p=null,f=o;do{var _=f.lane,K=f.eventTime;if((r&_)===_){j!==null&&(j=j.next={eventTime:K,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var D=e,V=f;switch(_=t,K=n,V.tag){case 1:if(D=V.payload,typeof D=="function"){b=D.call(K,b,_);break e}b=D;break e;case 3:D.flags=D.flags&-65537|128;case 0:if(D=V.payload,_=typeof D=="function"?D.call(K,b,_):D,_==null)break e;b=tt({},b,_);break e;case 2:Pr=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,_=i.effects,_===null?i.effects=[f]:_.push(f))}else K={eventTime:K,lane:_,tag:f.tag,payload:f.payload,callback:f.callback,next:null},j===null?(g=j=K,p=b):j=j.next=K,u|=_;if(f=f.next,f===null){if(f=i.shared.pending,f===null)break;_=f,f=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(!0);if(j===null&&(p=b),i.baseState=p,i.firstBaseUpdate=g,i.lastBaseUpdate=j,t=i.shared.interleaved,t!==null){i=t;do u|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);ki|=u,e.lanes=u,e.memoizedState=b}}function If(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ee(191,i));i.call(r)}}}var Po={},Kn=Yr(Po),mo=Yr(Po),yo=Yr(Po);function gi(e){if(e===Po)throw Error(ee(174));return e}function ad(e,t){switch(We(yo,t),We(mo,e),We(Kn,Po),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Iu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Iu(t,e)}qe(Kn),We(Kn,t)}function us(){qe(Kn),qe(mo),qe(yo)}function rm(e){gi(yo.current);var t=gi(Kn.current),n=Iu(t,e.type);t!==n&&(We(mo,e),We(Kn,n))}function ud(e){mo.current===e&&(qe(Kn),qe(mo))}var Ze=Yr(0);function Hl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cu=[];function cd(){for(var e=0;e<cu.length;e++)cu[e]._workInProgressVersionPrimary=null;cu.length=0}var bl=dr.ReactCurrentDispatcher,du=dr.ReactCurrentBatchConfig,Si=0,et=null,ft=null,mt=null,Vl=!1,Zs=!1,go=0,Uv=0;function Ct(){throw Error(ee(321))}function dd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Nn(e[n],t[n]))return!1;return!0}function fd(e,t,n,r,i,o){if(Si=o,et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bl.current=e===null||e.memoizedState===null?Hv:Vv,e=n(r,i),Zs){o=0;do{if(Zs=!1,go=0,25<=o)throw Error(ee(301));o+=1,mt=ft=null,t.updateQueue=null,bl.current=qv,e=n(r,i)}while(Zs)}if(bl.current=ql,t=ft!==null&&ft.next!==null,Si=0,mt=ft=et=null,Vl=!1,t)throw Error(ee(300));return e}function hd(){var e=go!==0;return go=0,e}function Dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?et.memoizedState=mt=e:mt=mt.next=e,mt}function un(){if(ft===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=ft.next;var t=mt===null?et.memoizedState:mt.next;if(t!==null)mt=t,ft=e;else{if(e===null)throw Error(ee(310));ft=e,e={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},mt===null?et.memoizedState=mt=e:mt=mt.next=e}return mt}function vo(e,t){return typeof t=="function"?t(e):t}function fu(e){var t=un(),n=t.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=e;var r=ft,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var f=u=null,p=null,g=o;do{var j=g.lane;if((Si&j)===j)p!==null&&(p=p.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),r=g.hasEagerState?g.eagerState:e(r,g.action);else{var b={lane:j,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};p===null?(f=p=b,u=r):p=p.next=b,et.lanes|=j,ki|=j}g=g.next}while(g!==null&&g!==o);p===null?u=r:p.next=f,Nn(r,t.memoizedState)||(Ut=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=p,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,et.lanes|=o,ki|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function hu(e){var t=un(),n=t.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var u=i=i.next;do o=e(o,u.action),u=u.next;while(u!==i);Nn(o,t.memoizedState)||(Ut=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function im(){}function sm(e,t){var n=et,r=un(),i=t(),o=!Nn(r.memoizedState,i);if(o&&(r.memoizedState=i,Ut=!0),r=r.queue,pd(am.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||mt!==null&&mt.memoizedState.tag&1){if(n.flags|=2048,xo(9,lm.bind(null,n,r,i,t),void 0,null),yt===null)throw Error(ee(349));Si&30||om(n,t,i)}return i}function om(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function lm(e,t,n,r){t.value=n,t.getSnapshot=r,um(t)&&cm(e)}function am(e,t,n){return n(function(){um(t)&&cm(e)})}function um(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Nn(e,n)}catch{return!0}}function cm(e){var t=ur(e,1);t!==null&&jn(t,e,1,-1)}function Af(e){var t=Dn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:e},t.queue=e,e=e.dispatch=Wv.bind(null,et,e),[t.memoizedState,e]}function xo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function dm(){return un().memoizedState}function Sl(e,t,n,r){var i=Dn();et.flags|=e,i.memoizedState=xo(1|t,n,void 0,r===void 0?null:r)}function ca(e,t,n,r){var i=un();r=r===void 0?null:r;var o=void 0;if(ft!==null){var u=ft.memoizedState;if(o=u.destroy,r!==null&&dd(r,u.deps)){i.memoizedState=xo(t,n,o,r);return}}et.flags|=e,i.memoizedState=xo(1|t,n,o,r)}function zf(e,t){return Sl(8390656,8,e,t)}function pd(e,t){return ca(2048,8,e,t)}function fm(e,t){return ca(4,2,e,t)}function hm(e,t){return ca(4,4,e,t)}function pm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mm(e,t,n){return n=n!=null?n.concat([e]):null,ca(4,4,pm.bind(null,t,e),n)}function md(){}function ym(e,t){var n=un();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&dd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function gm(e,t){var n=un();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&dd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function vm(e,t,n){return Si&21?(Nn(n,t)||(n=kp(),et.lanes|=n,ki|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ut=!0),e.memoizedState=n)}function Bv(e,t){var n=Be;Be=n!==0&&4>n?n:4,e(!0);var r=du.transition;du.transition={};try{e(!1),t()}finally{Be=n,du.transition=r}}function xm(){return un().memoizedState}function Kv(e,t,n){var r=Kr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wm(e))bm(t,n);else if(n=tm(e,t,n,r),n!==null){var i=Mt();jn(n,e,r,i),Sm(n,t,r)}}function Wv(e,t,n){var r=Kr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wm(e))bm(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var u=t.lastRenderedState,f=o(u,n);if(i.hasEagerState=!0,i.eagerState=f,Nn(f,u)){var p=t.interleaved;p===null?(i.next=i,od(t)):(i.next=p.next,p.next=i),t.interleaved=i;return}}catch{}finally{}n=tm(e,t,i,r),n!==null&&(i=Mt(),jn(n,e,r,i),Sm(n,t,r))}}function wm(e){var t=e.alternate;return e===et||t!==null&&t===et}function bm(e,t){Zs=Vl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Sm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Vc(e,n)}}var ql={readContext:an,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},Hv={readContext:an,useCallback:function(e,t){return Dn().memoizedState=[e,t===void 0?null:t],e},useContext:an,useEffect:zf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Sl(4194308,4,pm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Sl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Sl(4,2,e,t)},useMemo:function(e,t){var n=Dn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Dn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Kv.bind(null,et,e),[r.memoizedState,e]},useRef:function(e){var t=Dn();return e={current:e},t.memoizedState=e},useState:Af,useDebugValue:md,useDeferredValue:function(e){return Dn().memoizedState=e},useTransition:function(){var e=Af(!1),t=e[0];return e=Bv.bind(null,e[1]),Dn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=et,i=Dn();if(Ye){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=t(),yt===null)throw Error(ee(349));Si&30||om(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,zf(am.bind(null,r,o,e),[e]),r.flags|=2048,xo(9,lm.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Dn(),t=yt.identifierPrefix;if(Ye){var n=sr,r=ir;n=(r&~(1<<32-kn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=go++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Uv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Vv={readContext:an,useCallback:ym,useContext:an,useEffect:pd,useImperativeHandle:mm,useInsertionEffect:fm,useLayoutEffect:hm,useMemo:gm,useReducer:fu,useRef:dm,useState:function(){return fu(vo)},useDebugValue:md,useDeferredValue:function(e){var t=un();return vm(t,ft.memoizedState,e)},useTransition:function(){var e=fu(vo)[0],t=un().memoizedState;return[e,t]},useMutableSource:im,useSyncExternalStore:sm,useId:xm,unstable_isNewReconciler:!1},qv={readContext:an,useCallback:ym,useContext:an,useEffect:pd,useImperativeHandle:mm,useInsertionEffect:fm,useLayoutEffect:hm,useMemo:gm,useReducer:hu,useRef:dm,useState:function(){return hu(vo)},useDebugValue:md,useDeferredValue:function(e){var t=un();return ft===null?t.memoizedState=e:vm(t,ft.memoizedState,e)},useTransition:function(){var e=hu(vo)[0],t=un().memoizedState;return[e,t]},useMutableSource:im,useSyncExternalStore:sm,useId:xm,unstable_isNewReconciler:!1};function wn(e,t){if(e&&e.defaultProps){t=tt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function rc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:tt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var da={isMounted:function(e){return(e=e._reactInternals)?Ci(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Mt(),i=Kr(e),o=or(r,i);o.payload=t,n!=null&&(o.callback=n),t=Ur(e,o,i),t!==null&&(jn(t,e,i,r),wl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Mt(),i=Kr(e),o=or(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Ur(e,o,i),t!==null&&(jn(t,e,i,r),wl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mt(),r=Kr(e),i=or(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ur(e,i,r),t!==null&&(jn(t,e,r,n),wl(t,e,r))}};function Df(e,t,n,r,i,o,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,u):t.prototype&&t.prototype.isPureReactComponent?!co(n,r)||!co(i,o):!0}function km(e,t,n){var r=!1,i=qr,o=t.contextType;return typeof o=="object"&&o!==null?o=an(o):(i=Kt(t)?wi:Pt.current,r=t.contextTypes,o=(r=r!=null)?os(e,i):qr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=da,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function $f(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&da.enqueueReplaceState(t,t.state,null)}function ic(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},ld(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=an(o):(o=Kt(t)?wi:Pt.current,i.context=os(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(rc(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&da.enqueueReplaceState(i,i.state,null),Wl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do n+=bg(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function pu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function sc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Qv=typeof WeakMap=="function"?WeakMap:Map;function jm(e,t,n){n=or(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yl||(Yl=!0,mc=r),sc(e,t)},n}function Nm(e,t,n){n=or(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){sc(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){sc(e,t),typeof r!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),n}function Uf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Qv;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ax.bind(null,e,t,n),t.then(e,e))}function Bf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Kf(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=or(-1,1),t.tag=2,Ur(n,t,1))),n.lanes|=1),e)}var Yv=dr.ReactCurrentOwner,Ut=!1;function Ot(e,t,n,r){t.child=e===null?em(t,null,n,r):as(t,e.child,n,r)}function Wf(e,t,n,r,i){n=n.render;var o=t.ref;return rs(t,i),r=fd(e,t,n,r,o,i),n=hd(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,cr(e,t,i)):(Ye&&n&&ed(t),t.flags|=1,Ot(e,t,r,i),t.child)}function Hf(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!kd(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Cm(e,t,o,r,i)):(e=Cl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var u=o.memoizedProps;if(n=n.compare,n=n!==null?n:co,n(u,r)&&e.ref===t.ref)return cr(e,t,i)}return t.flags|=1,e=Wr(o,r),e.ref=t.ref,e.return=t,t.child=e}function Cm(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(co(o,r)&&e.ref===t.ref)if(Ut=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Ut=!0);else return t.lanes=e.lanes,cr(e,t,i)}return oc(e,t,n,r,i)}function Em(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Ji,Qt),Qt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,We(Ji,Qt),Qt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,We(Ji,Qt),Qt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,We(Ji,Qt),Qt|=r;return Ot(e,t,i,n),t.child}function _m(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function oc(e,t,n,r,i){var o=Kt(n)?wi:Pt.current;return o=os(t,o),rs(t,i),n=fd(e,t,n,r,o,i),r=hd(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,cr(e,t,i)):(Ye&&r&&ed(t),t.flags|=1,Ot(e,t,n,i),t.child)}function Vf(e,t,n,r,i){if(Kt(n)){var o=!0;Dl(t)}else o=!1;if(rs(t,i),t.stateNode===null)kl(e,t),km(t,n,r),ic(t,n,r,i),r=!0;else if(e===null){var u=t.stateNode,f=t.memoizedProps;u.props=f;var p=u.context,g=n.contextType;typeof g=="object"&&g!==null?g=an(g):(g=Kt(n)?wi:Pt.current,g=os(t,g));var j=n.getDerivedStateFromProps,b=typeof j=="function"||typeof u.getSnapshotBeforeUpdate=="function";b||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==r||p!==g)&&$f(t,u,r,g),Pr=!1;var _=t.memoizedState;u.state=_,Wl(t,r,u,i),p=t.memoizedState,f!==r||_!==p||Bt.current||Pr?(typeof j=="function"&&(rc(t,n,j,r),p=t.memoizedState),(f=Pr||Df(t,n,f,r,_,p,g))?(b||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=p),u.props=r,u.state=p,u.context=g,r=f):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,nm(e,t),f=t.memoizedProps,g=t.type===t.elementType?f:wn(t.type,f),u.props=g,b=t.pendingProps,_=u.context,p=n.contextType,typeof p=="object"&&p!==null?p=an(p):(p=Kt(n)?wi:Pt.current,p=os(t,p));var K=n.getDerivedStateFromProps;(j=typeof K=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==b||_!==p)&&$f(t,u,r,p),Pr=!1,_=t.memoizedState,u.state=_,Wl(t,r,u,i);var D=t.memoizedState;f!==b||_!==D||Bt.current||Pr?(typeof K=="function"&&(rc(t,n,K,r),D=t.memoizedState),(g=Pr||Df(t,n,g,r,_,D,p)||!1)?(j||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,D,p),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,D,p)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=D),u.props=r,u.state=D,u.context=p,r=g):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),r=!1)}return lc(e,t,n,r,o,i)}function lc(e,t,n,r,i,o){_m(e,t);var u=(t.flags&128)!==0;if(!r&&!u)return i&&Rf(t,n,!1),cr(e,t,o);r=t.stateNode,Yv.current=t;var f=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&u?(t.child=as(t,e.child,null,o),t.child=as(t,null,f,o)):Ot(e,t,f,o),t.memoizedState=r.state,i&&Rf(t,n,!0),t.child}function Pm(e){var t=e.stateNode;t.pendingContext?Tf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Tf(e,t.context,!1),ad(e,t.containerInfo)}function qf(e,t,n,r,i){return ls(),nd(i),t.flags|=256,Ot(e,t,n,r),t.child}var ac={dehydrated:null,treeContext:null,retryLane:0};function uc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Tm(e,t,n){var r=t.pendingProps,i=Ze.current,o=!1,u=(t.flags&128)!==0,f;if((f=u)||(f=e!==null&&e.memoizedState===null?!1:(i&2)!==0),f?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),We(Ze,i&1),e===null)return tc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=r.children,e=r.fallback,o?(r=t.mode,o=t.child,u={mode:"hidden",children:u},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=u):o=pa(u,r,0,null),e=xi(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=uc(n),t.memoizedState=ac,e):yd(t,u));if(i=e.memoizedState,i!==null&&(f=i.dehydrated,f!==null))return Gv(e,t,u,r,f,i,n);if(o){o=r.fallback,u=t.mode,i=e.child,f=i.sibling;var p={mode:"hidden",children:r.children};return!(u&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=p,t.deletions=null):(r=Wr(i,p),r.subtreeFlags=i.subtreeFlags&14680064),f!==null?o=Wr(f,o):(o=xi(o,u,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,u=e.child.memoizedState,u=u===null?uc(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},o.memoizedState=u,o.childLanes=e.childLanes&~n,t.memoizedState=ac,r}return o=e.child,e=o.sibling,r=Wr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function yd(e,t){return t=pa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function al(e,t,n,r){return r!==null&&nd(r),as(t,e.child,null,n),e=yd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Gv(e,t,n,r,i,o,u){if(n)return t.flags&256?(t.flags&=-257,r=pu(Error(ee(422))),al(e,t,u,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=pa({mode:"visible",children:r.children},i,0,null),o=xi(o,i,u,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&as(t,e.child,null,u),t.child.memoizedState=uc(u),t.memoizedState=ac,o);if(!(t.mode&1))return al(e,t,u,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var f=r.dgst;return r=f,o=Error(ee(419)),r=pu(o,r,void 0),al(e,t,u,r)}if(f=(u&e.childLanes)!==0,Ut||f){if(r=yt,r!==null){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|u)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ur(e,i),jn(r,e,i,-1))}return Sd(),r=pu(Error(ee(421))),al(e,t,u,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=ux.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Yt=$r(i.nextSibling),Gt=t,Ye=!0,Sn=null,e!==null&&(rn[sn++]=ir,rn[sn++]=sr,rn[sn++]=bi,ir=e.id,sr=e.overflow,bi=t),t=yd(t,r.children),t.flags|=4096,t)}function Qf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),nc(e.return,t,n)}function mu(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Rm(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ot(e,t,r.children,n),r=Ze.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qf(e,n,t);else if(e.tag===19)Qf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(We(Ze,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Hl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),mu(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Hl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}mu(t,!0,n,null,o);break;case"together":mu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function kl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ki|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ee(153));if(t.child!==null){for(e=t.child,n=Wr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Wr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Xv(e,t,n){switch(t.tag){case 3:Pm(t),ls();break;case 5:rm(t);break;case 1:Kt(t.type)&&Dl(t);break;case 4:ad(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;We(Bl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(We(Ze,Ze.current&1),t.flags|=128,null):n&t.child.childLanes?Tm(e,t,n):(We(Ze,Ze.current&1),e=cr(e,t,n),e!==null?e.sibling:null);We(Ze,Ze.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Rm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),We(Ze,Ze.current),r)break;return null;case 22:case 23:return t.lanes=0,Em(e,t,n)}return cr(e,t,n)}var Om,cc,Mm,Fm;Om=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cc=function(){};Mm=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,gi(Kn.current);var o=null;switch(n){case"input":i=Ou(e,i),r=Ou(e,r),o=[];break;case"select":i=tt({},i,{value:void 0}),r=tt({},r,{value:void 0}),o=[];break;case"textarea":i=Lu(e,i),r=Lu(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Al)}Au(n,r);var u;n=null;for(g in i)if(!r.hasOwnProperty(g)&&i.hasOwnProperty(g)&&i[g]!=null)if(g==="style"){var f=i[g];for(u in f)f.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(ro.hasOwnProperty(g)?o||(o=[]):(o=o||[]).push(g,null));for(g in r){var p=r[g];if(f=i!=null?i[g]:void 0,r.hasOwnProperty(g)&&p!==f&&(p!=null||f!=null))if(g==="style")if(f){for(u in f)!f.hasOwnProperty(u)||p&&p.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in p)p.hasOwnProperty(u)&&f[u]!==p[u]&&(n||(n={}),n[u]=p[u])}else n||(o||(o=[]),o.push(g,n)),n=p;else g==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,f=f?f.__html:void 0,p!=null&&f!==p&&(o=o||[]).push(g,p)):g==="children"?typeof p!="string"&&typeof p!="number"||(o=o||[]).push(g,""+p):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(ro.hasOwnProperty(g)?(p!=null&&g==="onScroll"&&Ve("scroll",e),o||f===p||(o=[])):(o=o||[]).push(g,p))}n&&(o=o||[]).push("style",n);var g=o;(t.updateQueue=g)&&(t.flags|=4)}};Fm=function(e,t,n,r){n!==r&&(t.flags|=4)};function $s(e,t){if(!Ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Et(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Jv(e,t,n){var r=t.pendingProps;switch(td(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(t),null;case 1:return Kt(t.type)&&zl(),Et(t),null;case 3:return r=t.stateNode,us(),qe(Bt),qe(Pt),cd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ol(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Sn!==null&&(vc(Sn),Sn=null))),cc(e,t),Et(t),null;case 5:ud(t);var i=gi(yo.current);if(n=t.type,e!==null&&t.stateNode!=null)Mm(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ee(166));return Et(t),null}if(e=gi(Kn.current),ol(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[$n]=t,r[po]=o,e=(t.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(i=0;i<Vs.length;i++)Ve(Vs[i],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":nf(r,o),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ve("invalid",r);break;case"textarea":sf(r,o),Ve("invalid",r)}Au(n,o),i=null;for(var u in o)if(o.hasOwnProperty(u)){var f=o[u];u==="children"?typeof f=="string"?r.textContent!==f&&(o.suppressHydrationWarning!==!0&&sl(r.textContent,f,e),i=["children",f]):typeof f=="number"&&r.textContent!==""+f&&(o.suppressHydrationWarning!==!0&&sl(r.textContent,f,e),i=["children",""+f]):ro.hasOwnProperty(u)&&f!=null&&u==="onScroll"&&Ve("scroll",r)}switch(n){case"input":Xo(r),rf(r,o,!0);break;case"textarea":Xo(r),of(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Al)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{u=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ap(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),n==="select"&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[$n]=t,e[po]=r,Om(e,t,!1,!1),t.stateNode=e;e:{switch(u=zu(n,r),n){case"dialog":Ve("cancel",e),Ve("close",e),i=r;break;case"iframe":case"object":case"embed":Ve("load",e),i=r;break;case"video":case"audio":for(i=0;i<Vs.length;i++)Ve(Vs[i],e);i=r;break;case"source":Ve("error",e),i=r;break;case"img":case"image":case"link":Ve("error",e),Ve("load",e),i=r;break;case"details":Ve("toggle",e),i=r;break;case"input":nf(e,r),i=Ou(e,r),Ve("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=tt({},r,{value:void 0}),Ve("invalid",e);break;case"textarea":sf(e,r),i=Lu(e,r),Ve("invalid",e);break;default:i=r}Au(n,i),f=i;for(o in f)if(f.hasOwnProperty(o)){var p=f[o];o==="style"?dp(e,p):o==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&up(e,p)):o==="children"?typeof p=="string"?(n!=="textarea"||p!=="")&&io(e,p):typeof p=="number"&&io(e,""+p):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ro.hasOwnProperty(o)?p!=null&&o==="onScroll"&&Ve("scroll",e):p!=null&&$c(e,o,p,u))}switch(n){case"input":Xo(e),rf(e,r,!1);break;case"textarea":Xo(e),of(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Vr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Zi(e,!!r.multiple,o,!1):r.defaultValue!=null&&Zi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Al)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Et(t),null;case 6:if(e&&t.stateNode!=null)Fm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ee(166));if(n=gi(yo.current),gi(Kn.current),ol(t)){if(r=t.stateNode,n=t.memoizedProps,r[$n]=t,(o=r.nodeValue!==n)&&(e=Gt,e!==null))switch(e.tag){case 3:sl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sl(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$n]=t,t.stateNode=r}return Et(t),null;case 13:if(qe(Ze),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ye&&Yt!==null&&t.mode&1&&!(t.flags&128))Jp(),ls(),t.flags|=98560,o=!1;else if(o=ol(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(ee(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ee(317));o[$n]=t}else ls(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Et(t),o=!1}else Sn!==null&&(vc(Sn),Sn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ze.current&1?ht===0&&(ht=3):Sd())),t.updateQueue!==null&&(t.flags|=4),Et(t),null);case 4:return us(),cc(e,t),e===null&&fo(t.stateNode.containerInfo),Et(t),null;case 10:return sd(t.type._context),Et(t),null;case 17:return Kt(t.type)&&zl(),Et(t),null;case 19:if(qe(Ze),o=t.memoizedState,o===null)return Et(t),null;if(r=(t.flags&128)!==0,u=o.rendering,u===null)if(r)$s(o,!1);else{if(ht!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=Hl(e),u!==null){for(t.flags|=128,$s(o,!1),r=u.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,u=o.alternate,u===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return We(Ze,Ze.current&1|2),t.child}e=e.sibling}o.tail!==null&&lt()>ds&&(t.flags|=128,r=!0,$s(o,!1),t.lanes=4194304)}else{if(!r)if(e=Hl(u),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),$s(o,!0),o.tail===null&&o.tailMode==="hidden"&&!u.alternate&&!Ye)return Et(t),null}else 2*lt()-o.renderingStartTime>ds&&n!==1073741824&&(t.flags|=128,r=!0,$s(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(n=o.last,n!==null?n.sibling=u:t.child=u,o.last=u)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=lt(),t.sibling=null,n=Ze.current,We(Ze,r?n&1|2:n&1),t):(Et(t),null);case 22:case 23:return bd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Qt&1073741824&&(Et(t),t.subtreeFlags&6&&(t.flags|=8192)):Et(t),null;case 24:return null;case 25:return null}throw Error(ee(156,t.tag))}function Zv(e,t){switch(td(t),t.tag){case 1:return Kt(t.type)&&zl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return us(),qe(Bt),qe(Pt),cd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ud(t),null;case 13:if(qe(Ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ee(340));ls()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qe(Ze),null;case 4:return us(),null;case 10:return sd(t.type._context),null;case 22:case 23:return bd(),null;case 24:return null;default:return null}}var ul=!1,_t=!1,ex=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Xi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){it(e,t,r)}else n.current=null}function dc(e,t,n){try{n()}catch(r){it(e,t,r)}}var Yf=!1;function tx(e,t){if(Qu=Fl,e=Dp(),Zc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var u=0,f=-1,p=-1,g=0,j=0,b=e,_=null;t:for(;;){for(var K;b!==n||i!==0&&b.nodeType!==3||(f=u+i),b!==o||r!==0&&b.nodeType!==3||(p=u+r),b.nodeType===3&&(u+=b.nodeValue.length),(K=b.firstChild)!==null;)_=b,b=K;for(;;){if(b===e)break t;if(_===n&&++g===i&&(f=u),_===o&&++j===r&&(p=u),(K=b.nextSibling)!==null)break;b=_,_=b.parentNode}b=K}n=f===-1||p===-1?null:{start:f,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yu={focusedElem:e,selectionRange:n},Fl=!1,ge=t;ge!==null;)if(t=ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ge=e;else for(;ge!==null;){t=ge;try{var D=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(D!==null){var V=D.memoizedProps,X=D.memoizedState,C=t.stateNode,w=C.getSnapshotBeforeUpdate(t.elementType===t.type?V:wn(t.type,V),X);C.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(B){it(t,t.return,B)}if(e=t.sibling,e!==null){e.return=t.return,ge=e;break}ge=t.return}return D=Yf,Yf=!1,D}function eo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&dc(t,n,o)}i=i.next}while(i!==r)}}function fa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function fc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Lm(e){var t=e.alternate;t!==null&&(e.alternate=null,Lm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$n],delete t[po],delete t[Ju],delete t[Av],delete t[zv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Im(e){return e.tag===5||e.tag===3||e.tag===4}function Gf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Im(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Al));else if(r!==4&&(e=e.child,e!==null))for(hc(e,t,n),e=e.sibling;e!==null;)hc(e,t,n),e=e.sibling}function pc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(pc(e,t,n),e=e.sibling;e!==null;)pc(e,t,n),e=e.sibling}var vt=null,bn=!1;function Er(e,t,n){for(n=n.child;n!==null;)Am(e,t,n),n=n.sibling}function Am(e,t,n){if(Bn&&typeof Bn.onCommitFiberUnmount=="function")try{Bn.onCommitFiberUnmount(ia,n)}catch{}switch(n.tag){case 5:_t||Xi(n,t);case 6:var r=vt,i=bn;vt=null,Er(e,t,n),vt=r,bn=i,vt!==null&&(bn?(e=vt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):vt.removeChild(n.stateNode));break;case 18:vt!==null&&(bn?(e=vt,n=n.stateNode,e.nodeType===8?au(e.parentNode,n):e.nodeType===1&&au(e,n),ao(e)):au(vt,n.stateNode));break;case 4:r=vt,i=bn,vt=n.stateNode.containerInfo,bn=!0,Er(e,t,n),vt=r,bn=i;break;case 0:case 11:case 14:case 15:if(!_t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,u=o.destroy;o=o.tag,u!==void 0&&(o&2||o&4)&&dc(n,t,u),i=i.next}while(i!==r)}Er(e,t,n);break;case 1:if(!_t&&(Xi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(f){it(n,t,f)}Er(e,t,n);break;case 21:Er(e,t,n);break;case 22:n.mode&1?(_t=(r=_t)||n.memoizedState!==null,Er(e,t,n),_t=r):Er(e,t,n);break;default:Er(e,t,n)}}function Xf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ex),t.forEach(function(r){var i=cx.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,f=u;e:for(;f!==null;){switch(f.tag){case 5:vt=f.stateNode,bn=!1;break e;case 3:vt=f.stateNode.containerInfo,bn=!0;break e;case 4:vt=f.stateNode.containerInfo,bn=!0;break e}f=f.return}if(vt===null)throw Error(ee(160));Am(o,u,i),vt=null,bn=!1;var p=i.alternate;p!==null&&(p.return=null),i.return=null}catch(g){it(i,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zm(t,e),t=t.sibling}function zm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xn(t,e),zn(e),r&4){try{eo(3,e,e.return),fa(3,e)}catch(V){it(e,e.return,V)}try{eo(5,e,e.return)}catch(V){it(e,e.return,V)}}break;case 1:xn(t,e),zn(e),r&512&&n!==null&&Xi(n,n.return);break;case 5:if(xn(t,e),zn(e),r&512&&n!==null&&Xi(n,n.return),e.flags&32){var i=e.stateNode;try{io(i,"")}catch(V){it(e,e.return,V)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,u=n!==null?n.memoizedProps:o,f=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{f==="input"&&o.type==="radio"&&o.name!=null&&op(i,o),zu(f,u);var g=zu(f,o);for(u=0;u<p.length;u+=2){var j=p[u],b=p[u+1];j==="style"?dp(i,b):j==="dangerouslySetInnerHTML"?up(i,b):j==="children"?io(i,b):$c(i,j,b,g)}switch(f){case"input":Mu(i,o);break;case"textarea":lp(i,o);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var K=o.value;K!=null?Zi(i,!!o.multiple,K,!1):_!==!!o.multiple&&(o.defaultValue!=null?Zi(i,!!o.multiple,o.defaultValue,!0):Zi(i,!!o.multiple,o.multiple?[]:"",!1))}i[po]=o}catch(V){it(e,e.return,V)}}break;case 6:if(xn(t,e),zn(e),r&4){if(e.stateNode===null)throw Error(ee(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(V){it(e,e.return,V)}}break;case 3:if(xn(t,e),zn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ao(t.containerInfo)}catch(V){it(e,e.return,V)}break;case 4:xn(t,e),zn(e);break;case 13:xn(t,e),zn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(xd=lt())),r&4&&Xf(e);break;case 22:if(j=n!==null&&n.memoizedState!==null,e.mode&1?(_t=(g=_t)||j,xn(t,e),_t=g):xn(t,e),zn(e),r&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!j&&e.mode&1)for(ge=e,j=e.child;j!==null;){for(b=ge=j;ge!==null;){switch(_=ge,K=_.child,_.tag){case 0:case 11:case 14:case 15:eo(4,_,_.return);break;case 1:Xi(_,_.return);var D=_.stateNode;if(typeof D.componentWillUnmount=="function"){r=_,n=_.return;try{t=r,D.props=t.memoizedProps,D.state=t.memoizedState,D.componentWillUnmount()}catch(V){it(r,n,V)}}break;case 5:Xi(_,_.return);break;case 22:if(_.memoizedState!==null){Zf(b);continue}}K!==null?(K.return=_,ge=K):Zf(b)}j=j.sibling}e:for(j=null,b=e;;){if(b.tag===5){if(j===null){j=b;try{i=b.stateNode,g?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(f=b.stateNode,p=b.memoizedProps.style,u=p!=null&&p.hasOwnProperty("display")?p.display:null,f.style.display=cp("display",u))}catch(V){it(e,e.return,V)}}}else if(b.tag===6){if(j===null)try{b.stateNode.nodeValue=g?"":b.memoizedProps}catch(V){it(e,e.return,V)}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===e)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===e)break e;for(;b.sibling===null;){if(b.return===null||b.return===e)break e;j===b&&(j=null),b=b.return}j===b&&(j=null),b.sibling.return=b.return,b=b.sibling}}break;case 19:xn(t,e),zn(e),r&4&&Xf(e);break;case 21:break;default:xn(t,e),zn(e)}}function zn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Im(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(io(i,""),r.flags&=-33);var o=Gf(e);pc(e,o,i);break;case 3:case 4:var u=r.stateNode.containerInfo,f=Gf(e);hc(e,f,u);break;default:throw Error(ee(161))}}catch(p){it(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nx(e,t,n){ge=e,Dm(e)}function Dm(e,t,n){for(var r=(e.mode&1)!==0;ge!==null;){var i=ge,o=i.child;if(i.tag===22&&r){var u=i.memoizedState!==null||ul;if(!u){var f=i.alternate,p=f!==null&&f.memoizedState!==null||_t;f=ul;var g=_t;if(ul=u,(_t=p)&&!g)for(ge=i;ge!==null;)u=ge,p=u.child,u.tag===22&&u.memoizedState!==null?eh(i):p!==null?(p.return=u,ge=p):eh(i);for(;o!==null;)ge=o,Dm(o),o=o.sibling;ge=i,ul=f,_t=g}Jf(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ge=o):Jf(e)}}function Jf(e){for(;ge!==null;){var t=ge;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_t||fa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!_t)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:wn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&If(t,o,r);break;case 3:var u=t.updateQueue;if(u!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}If(t,u,n)}break;case 5:var f=t.stateNode;if(n===null&&t.flags&4){n=f;var p=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&n.focus();break;case"img":p.src&&(n.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var j=g.memoizedState;if(j!==null){var b=j.dehydrated;b!==null&&ao(b)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}_t||t.flags&512&&fc(t)}catch(_){it(t,t.return,_)}}if(t===e){ge=null;break}if(n=t.sibling,n!==null){n.return=t.return,ge=n;break}ge=t.return}}function Zf(e){for(;ge!==null;){var t=ge;if(t===e){ge=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ge=n;break}ge=t.return}}function eh(e){for(;ge!==null;){var t=ge;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{fa(4,t)}catch(p){it(t,n,p)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(p){it(t,i,p)}}var o=t.return;try{fc(t)}catch(p){it(t,o,p)}break;case 5:var u=t.return;try{fc(t)}catch(p){it(t,u,p)}}}catch(p){it(t,t.return,p)}if(t===e){ge=null;break}var f=t.sibling;if(f!==null){f.return=t.return,ge=f;break}ge=t.return}}var rx=Math.ceil,Ql=dr.ReactCurrentDispatcher,gd=dr.ReactCurrentOwner,ln=dr.ReactCurrentBatchConfig,ze=0,yt=null,ut=null,wt=0,Qt=0,Ji=Yr(0),ht=0,wo=null,ki=0,ha=0,vd=0,to=null,Dt=null,xd=0,ds=1/0,nr=null,Yl=!1,mc=null,Br=null,cl=!1,Mr=null,Gl=0,no=0,yc=null,jl=-1,Nl=0;function Mt(){return ze&6?lt():jl!==-1?jl:jl=lt()}function Kr(e){return e.mode&1?ze&2&&wt!==0?wt&-wt:$v.transition!==null?(Nl===0&&(Nl=kp()),Nl):(e=Be,e!==0||(e=window.event,e=e===void 0?16:Tp(e.type)),e):1}function jn(e,t,n,r){if(50<no)throw no=0,yc=null,Error(ee(185));Co(e,n,r),(!(ze&2)||e!==yt)&&(e===yt&&(!(ze&2)&&(ha|=n),ht===4&&Rr(e,wt)),Wt(e,r),n===1&&ze===0&&!(t.mode&1)&&(ds=lt()+500,ua&&Gr()))}function Wt(e,t){var n=e.callbackNode;$g(e,t);var r=Ml(e,e===yt?wt:0);if(r===0)n!==null&&uf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&uf(n),t===1)e.tag===0?Dv(th.bind(null,e)):Yp(th.bind(null,e)),Lv(function(){!(ze&6)&&Gr()}),n=null;else{switch(jp(r)){case 1:n=Hc;break;case 4:n=bp;break;case 16:n=Ol;break;case 536870912:n=Sp;break;default:n=Ol}n=qm(n,$m.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function $m(e,t){if(jl=-1,Nl=0,ze&6)throw Error(ee(327));var n=e.callbackNode;if(is()&&e.callbackNode!==n)return null;var r=Ml(e,e===yt?wt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Xl(e,r);else{t=r;var i=ze;ze|=2;var o=Bm();(yt!==e||wt!==t)&&(nr=null,ds=lt()+500,vi(e,t));do try{ox();break}catch(f){Um(e,f)}while(!0);id(),Ql.current=o,ze=i,ut!==null?t=0:(yt=null,wt=0,t=ht)}if(t!==0){if(t===2&&(i=Ku(e),i!==0&&(r=i,t=gc(e,i))),t===1)throw n=wo,vi(e,0),Rr(e,r),Wt(e,lt()),n;if(t===6)Rr(e,r);else{if(i=e.current.alternate,!(r&30)&&!ix(i)&&(t=Xl(e,r),t===2&&(o=Ku(e),o!==0&&(r=o,t=gc(e,o))),t===1))throw n=wo,vi(e,0),Rr(e,r),Wt(e,lt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ee(345));case 2:hi(e,Dt,nr);break;case 3:if(Rr(e,r),(r&130023424)===r&&(t=xd+500-lt(),10<t)){if(Ml(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Mt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Xu(hi.bind(null,e,Dt,nr),t);break}hi(e,Dt,nr);break;case 4:if(Rr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-kn(r);o=1<<u,u=t[u],u>i&&(i=u),r&=~o}if(r=i,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rx(r/1960))-r,10<r){e.timeoutHandle=Xu(hi.bind(null,e,Dt,nr),r);break}hi(e,Dt,nr);break;case 5:hi(e,Dt,nr);break;default:throw Error(ee(329))}}}return Wt(e,lt()),e.callbackNode===n?$m.bind(null,e):null}function gc(e,t){var n=to;return e.current.memoizedState.isDehydrated&&(vi(e,t).flags|=256),e=Xl(e,t),e!==2&&(t=Dt,Dt=n,t!==null&&vc(t)),e}function vc(e){Dt===null?Dt=e:Dt.push.apply(Dt,e)}function ix(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Nn(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rr(e,t){for(t&=~vd,t&=~ha,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-kn(t),r=1<<n;e[n]=-1,t&=~r}}function th(e){if(ze&6)throw Error(ee(327));is();var t=Ml(e,0);if(!(t&1))return Wt(e,lt()),null;var n=Xl(e,t);if(e.tag!==0&&n===2){var r=Ku(e);r!==0&&(t=r,n=gc(e,r))}if(n===1)throw n=wo,vi(e,0),Rr(e,t),Wt(e,lt()),n;if(n===6)throw Error(ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hi(e,Dt,nr),Wt(e,lt()),null}function wd(e,t){var n=ze;ze|=1;try{return e(t)}finally{ze=n,ze===0&&(ds=lt()+500,ua&&Gr())}}function ji(e){Mr!==null&&Mr.tag===0&&!(ze&6)&&is();var t=ze;ze|=1;var n=ln.transition,r=Be;try{if(ln.transition=null,Be=1,e)return e()}finally{Be=r,ln.transition=n,ze=t,!(ze&6)&&Gr()}}function bd(){Qt=Ji.current,qe(Ji)}function vi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Fv(n)),ut!==null)for(n=ut.return;n!==null;){var r=n;switch(td(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zl();break;case 3:us(),qe(Bt),qe(Pt),cd();break;case 5:ud(r);break;case 4:us();break;case 13:qe(Ze);break;case 19:qe(Ze);break;case 10:sd(r.type._context);break;case 22:case 23:bd()}n=n.return}if(yt=e,ut=e=Wr(e.current,null),wt=Qt=t,ht=0,wo=null,vd=ha=ki=0,Dt=to=null,yi!==null){for(t=0;t<yi.length;t++)if(n=yi[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var u=o.next;o.next=i,r.next=u}n.pending=r}yi=null}return e}function Um(e,t){do{var n=ut;try{if(id(),bl.current=ql,Vl){for(var r=et.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Vl=!1}if(Si=0,mt=ft=et=null,Zs=!1,go=0,gd.current=null,n===null||n.return===null){ht=1,wo=t,ut=null;break}e:{var o=e,u=n.return,f=n,p=t;if(t=wt,f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var g=p,j=f,b=j.tag;if(!(j.mode&1)&&(b===0||b===11||b===15)){var _=j.alternate;_?(j.updateQueue=_.updateQueue,j.memoizedState=_.memoizedState,j.lanes=_.lanes):(j.updateQueue=null,j.memoizedState=null)}var K=Bf(u);if(K!==null){K.flags&=-257,Kf(K,u,f,o,t),K.mode&1&&Uf(o,g,t),t=K,p=g;var D=t.updateQueue;if(D===null){var V=new Set;V.add(p),t.updateQueue=V}else D.add(p);break e}else{if(!(t&1)){Uf(o,g,t),Sd();break e}p=Error(ee(426))}}else if(Ye&&f.mode&1){var X=Bf(u);if(X!==null){!(X.flags&65536)&&(X.flags|=256),Kf(X,u,f,o,t),nd(cs(p,f));break e}}o=p=cs(p,f),ht!==4&&(ht=2),to===null?to=[o]:to.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var C=jm(o,p,t);Lf(o,C);break e;case 1:f=p;var w=o.type,k=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Br===null||!Br.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t;var B=Nm(o,f,t);Lf(o,B);break e}}o=o.return}while(o!==null)}Wm(n)}catch(Z){t=Z,ut===n&&n!==null&&(ut=n=n.return);continue}break}while(!0)}function Bm(){var e=Ql.current;return Ql.current=ql,e===null?ql:e}function Sd(){(ht===0||ht===3||ht===2)&&(ht=4),yt===null||!(ki&268435455)&&!(ha&268435455)||Rr(yt,wt)}function Xl(e,t){var n=ze;ze|=2;var r=Bm();(yt!==e||wt!==t)&&(nr=null,vi(e,t));do try{sx();break}catch(i){Um(e,i)}while(!0);if(id(),ze=n,Ql.current=r,ut!==null)throw Error(ee(261));return yt=null,wt=0,ht}function sx(){for(;ut!==null;)Km(ut)}function ox(){for(;ut!==null&&!Rg();)Km(ut)}function Km(e){var t=Vm(e.alternate,e,Qt);e.memoizedProps=e.pendingProps,t===null?Wm(e):ut=t,gd.current=null}function Wm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Zv(n,t),n!==null){n.flags&=32767,ut=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ht=6,ut=null;return}}else if(n=Jv(n,t,Qt),n!==null){ut=n;return}if(t=t.sibling,t!==null){ut=t;return}ut=t=e}while(t!==null);ht===0&&(ht=5)}function hi(e,t,n){var r=Be,i=ln.transition;try{ln.transition=null,Be=1,lx(e,t,n,r)}finally{ln.transition=i,Be=r}return null}function lx(e,t,n,r){do is();while(Mr!==null);if(ze&6)throw Error(ee(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ee(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Ug(e,o),e===yt&&(ut=yt=null,wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cl||(cl=!0,qm(Ol,function(){return is(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ln.transition,ln.transition=null;var u=Be;Be=1;var f=ze;ze|=4,gd.current=null,tx(e,n),zm(n,e),Ev(Yu),Fl=!!Qu,Yu=Qu=null,e.current=n,nx(n),Og(),ze=f,Be=u,ln.transition=o}else e.current=n;if(cl&&(cl=!1,Mr=e,Gl=i),o=e.pendingLanes,o===0&&(Br=null),Lg(n.stateNode),Wt(e,lt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Yl)throw Yl=!1,e=mc,mc=null,e;return Gl&1&&e.tag!==0&&is(),o=e.pendingLanes,o&1?e===yc?no++:(no=0,yc=e):no=0,Gr(),null}function is(){if(Mr!==null){var e=jp(Gl),t=ln.transition,n=Be;try{if(ln.transition=null,Be=16>e?16:e,Mr===null)var r=!1;else{if(e=Mr,Mr=null,Gl=0,ze&6)throw Error(ee(331));var i=ze;for(ze|=4,ge=e.current;ge!==null;){var o=ge,u=o.child;if(ge.flags&16){var f=o.deletions;if(f!==null){for(var p=0;p<f.length;p++){var g=f[p];for(ge=g;ge!==null;){var j=ge;switch(j.tag){case 0:case 11:case 15:eo(8,j,o)}var b=j.child;if(b!==null)b.return=j,ge=b;else for(;ge!==null;){j=ge;var _=j.sibling,K=j.return;if(Lm(j),j===g){ge=null;break}if(_!==null){_.return=K,ge=_;break}ge=K}}}var D=o.alternate;if(D!==null){var V=D.child;if(V!==null){D.child=null;do{var X=V.sibling;V.sibling=null,V=X}while(V!==null)}}ge=o}}if(o.subtreeFlags&2064&&u!==null)u.return=o,ge=u;else e:for(;ge!==null;){if(o=ge,o.flags&2048)switch(o.tag){case 0:case 11:case 15:eo(9,o,o.return)}var C=o.sibling;if(C!==null){C.return=o.return,ge=C;break e}ge=o.return}}var w=e.current;for(ge=w;ge!==null;){u=ge;var k=u.child;if(u.subtreeFlags&2064&&k!==null)k.return=u,ge=k;else e:for(u=w;ge!==null;){if(f=ge,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:fa(9,f)}}catch(Z){it(f,f.return,Z)}if(f===u){ge=null;break e}var B=f.sibling;if(B!==null){B.return=f.return,ge=B;break e}ge=f.return}}if(ze=i,Gr(),Bn&&typeof Bn.onPostCommitFiberRoot=="function")try{Bn.onPostCommitFiberRoot(ia,e)}catch{}r=!0}return r}finally{Be=n,ln.transition=t}}return!1}function nh(e,t,n){t=cs(n,t),t=jm(e,t,1),e=Ur(e,t,1),t=Mt(),e!==null&&(Co(e,1,t),Wt(e,t))}function it(e,t,n){if(e.tag===3)nh(e,e,n);else for(;t!==null;){if(t.tag===3){nh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Br===null||!Br.has(r))){e=cs(n,e),e=Nm(t,e,1),t=Ur(t,e,1),e=Mt(),t!==null&&(Co(t,1,e),Wt(t,e));break}}t=t.return}}function ax(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Mt(),e.pingedLanes|=e.suspendedLanes&n,yt===e&&(wt&n)===n&&(ht===4||ht===3&&(wt&130023424)===wt&&500>lt()-xd?vi(e,0):vd|=n),Wt(e,t)}function Hm(e,t){t===0&&(e.mode&1?(t=el,el<<=1,!(el&130023424)&&(el=4194304)):t=1);var n=Mt();e=ur(e,t),e!==null&&(Co(e,t,n),Wt(e,n))}function ux(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Hm(e,n)}function cx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(t),Hm(e,n)}var Vm;Vm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Bt.current)Ut=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ut=!1,Xv(e,t,n);Ut=!!(e.flags&131072)}else Ut=!1,Ye&&t.flags&1048576&&Gp(t,Ul,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;kl(e,t),e=t.pendingProps;var i=os(t,Pt.current);rs(t,n),i=fd(null,t,r,e,i,n);var o=hd();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Kt(r)?(o=!0,Dl(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ld(t),i.updater=da,t.stateNode=i,i._reactInternals=t,ic(t,r,e,n),t=lc(null,t,r,!0,o,n)):(t.tag=0,Ye&&o&&ed(t),Ot(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(kl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=fx(r),e=wn(r,e),i){case 0:t=oc(null,t,r,e,n);break e;case 1:t=Vf(null,t,r,e,n);break e;case 11:t=Wf(null,t,r,e,n);break e;case 14:t=Hf(null,t,r,wn(r.type,e),n);break e}throw Error(ee(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wn(r,i),oc(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wn(r,i),Vf(e,t,r,i,n);case 3:e:{if(Pm(t),e===null)throw Error(ee(387));r=t.pendingProps,o=t.memoizedState,i=o.element,nm(e,t),Wl(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=cs(Error(ee(423)),t),t=qf(e,t,r,n,i);break e}else if(r!==i){i=cs(Error(ee(424)),t),t=qf(e,t,r,n,i);break e}else for(Yt=$r(t.stateNode.containerInfo.firstChild),Gt=t,Ye=!0,Sn=null,n=em(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ls(),r===i){t=cr(e,t,n);break e}Ot(e,t,r,n)}t=t.child}return t;case 5:return rm(t),e===null&&tc(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,u=i.children,Gu(r,i)?u=null:o!==null&&Gu(r,o)&&(t.flags|=32),_m(e,t),Ot(e,t,u,n),t.child;case 6:return e===null&&tc(t),null;case 13:return Tm(e,t,n);case 4:return ad(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=as(t,null,r,n):Ot(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wn(r,i),Wf(e,t,r,i,n);case 7:return Ot(e,t,t.pendingProps,n),t.child;case 8:return Ot(e,t,t.pendingProps.children,n),t.child;case 12:return Ot(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,We(Bl,r._currentValue),r._currentValue=u,o!==null)if(Nn(o.value,u)){if(o.children===i.children&&!Bt.current){t=cr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var f=o.dependencies;if(f!==null){u=o.child;for(var p=f.firstContext;p!==null;){if(p.context===r){if(o.tag===1){p=or(-1,n&-n),p.tag=2;var g=o.updateQueue;if(g!==null){g=g.shared;var j=g.pending;j===null?p.next=p:(p.next=j.next,j.next=p),g.pending=p}}o.lanes|=n,p=o.alternate,p!==null&&(p.lanes|=n),nc(o.return,n,t),f.lanes|=n;break}p=p.next}}else if(o.tag===10)u=o.type===t.type?null:o.child;else if(o.tag===18){if(u=o.return,u===null)throw Error(ee(341));u.lanes|=n,f=u.alternate,f!==null&&(f.lanes|=n),nc(u,n,t),u=o.sibling}else u=o.child;if(u!==null)u.return=o;else for(u=o;u!==null;){if(u===t){u=null;break}if(o=u.sibling,o!==null){o.return=u.return,u=o;break}u=u.return}o=u}Ot(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,rs(t,n),i=an(i),r=r(i),t.flags|=1,Ot(e,t,r,n),t.child;case 14:return r=t.type,i=wn(r,t.pendingProps),i=wn(r.type,i),Hf(e,t,r,i,n);case 15:return Cm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wn(r,i),kl(e,t),t.tag=1,Kt(r)?(e=!0,Dl(t)):e=!1,rs(t,n),km(t,r,i),ic(t,r,i,n),lc(null,t,r,!0,e,n);case 19:return Rm(e,t,n);case 22:return Em(e,t,n)}throw Error(ee(156,t.tag))};function qm(e,t){return wp(e,t)}function dx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(e,t,n,r){return new dx(e,t,n,r)}function kd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fx(e){if(typeof e=="function")return kd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bc)return 11;if(e===Kc)return 14}return 2}function Wr(e,t){var n=e.alternate;return n===null?(n=on(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Cl(e,t,n,r,i,o){var u=2;if(r=e,typeof e=="function")kd(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case Bi:return xi(n.children,i,o,t);case Uc:u=8,i|=8;break;case _u:return e=on(12,n,t,i|2),e.elementType=_u,e.lanes=o,e;case Pu:return e=on(13,n,t,i),e.elementType=Pu,e.lanes=o,e;case Tu:return e=on(19,n,t,i),e.elementType=Tu,e.lanes=o,e;case rp:return pa(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tp:u=10;break e;case np:u=9;break e;case Bc:u=11;break e;case Kc:u=14;break e;case _r:u=16,r=null;break e}throw Error(ee(130,e==null?e:typeof e,""))}return t=on(u,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function xi(e,t,n,r){return e=on(7,e,r,t),e.lanes=n,e}function pa(e,t,n,r){return e=on(22,e,r,t),e.elementType=rp,e.lanes=n,e.stateNode={isHidden:!1},e}function yu(e,t,n){return e=on(6,e,null,t),e.lanes=n,e}function gu(e,t,n){return t=on(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hx(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xa(0),this.expirationTimes=Xa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xa(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jd(e,t,n,r,i,o,u,f,p){return e=new hx(e,t,n,f,p),t===1?(t=1,o===!0&&(t|=8)):t=0,o=on(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ld(o),e}function px(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ui,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Qm(e){if(!e)return qr;e=e._reactInternals;e:{if(Ci(e)!==e||e.tag!==1)throw Error(ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Kt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ee(171))}if(e.tag===1){var n=e.type;if(Kt(n))return Qp(e,n,t)}return t}function Ym(e,t,n,r,i,o,u,f,p){return e=jd(n,r,!0,e,i,o,u,f,p),e.context=Qm(null),n=e.current,r=Mt(),i=Kr(n),o=or(r,i),o.callback=t??null,Ur(n,o,i),e.current.lanes=i,Co(e,i,r),Wt(e,r),e}function ma(e,t,n,r){var i=t.current,o=Mt(),u=Kr(i);return n=Qm(n),t.context===null?t.context=n:t.pendingContext=n,t=or(o,u),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ur(i,t,u),e!==null&&(jn(e,i,u,o),wl(e,i,u)),u}function Jl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function rh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Nd(e,t){rh(e,t),(e=e.alternate)&&rh(e,t)}function mx(){return null}var Gm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cd(e){this._internalRoot=e}ya.prototype.render=Cd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ee(409));ma(e,t,null,null)};ya.prototype.unmount=Cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ji(function(){ma(null,e,null,null)}),t[ar]=null}};function ya(e){this._internalRoot=e}ya.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ep();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Tr.length&&t!==0&&t<Tr[n].priority;n++);Tr.splice(n,0,e),n===0&&Pp(e)}};function Ed(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ga(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ih(){}function yx(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var g=Jl(u);o.call(g)}}var u=Ym(t,r,e,0,null,!1,!1,"",ih);return e._reactRootContainer=u,e[ar]=u.current,fo(e.nodeType===8?e.parentNode:e),ji(),u}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var f=r;r=function(){var g=Jl(p);f.call(g)}}var p=jd(e,0,!1,null,null,!1,!1,"",ih);return e._reactRootContainer=p,e[ar]=p.current,fo(e.nodeType===8?e.parentNode:e),ji(function(){ma(t,p,n,r)}),p}function va(e,t,n,r,i){var o=n._reactRootContainer;if(o){var u=o;if(typeof i=="function"){var f=i;i=function(){var p=Jl(u);f.call(p)}}ma(t,u,e,i)}else u=yx(n,t,e,i,r);return Jl(u)}Np=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Hs(t.pendingLanes);n!==0&&(Vc(t,n|1),Wt(t,lt()),!(ze&6)&&(ds=lt()+500,Gr()))}break;case 13:ji(function(){var r=ur(e,1);if(r!==null){var i=Mt();jn(r,e,1,i)}}),Nd(e,1)}};qc=function(e){if(e.tag===13){var t=ur(e,134217728);if(t!==null){var n=Mt();jn(t,e,134217728,n)}Nd(e,134217728)}};Cp=function(e){if(e.tag===13){var t=Kr(e),n=ur(e,t);if(n!==null){var r=Mt();jn(n,e,t,r)}Nd(e,t)}};Ep=function(){return Be};_p=function(e,t){var n=Be;try{return Be=e,t()}finally{Be=n}};$u=function(e,t,n){switch(t){case"input":if(Mu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=aa(r);if(!i)throw Error(ee(90));sp(r),Mu(r,i)}}}break;case"textarea":lp(e,n);break;case"select":t=n.value,t!=null&&Zi(e,!!n.multiple,t,!1)}};pp=wd;mp=ji;var gx={usingClientEntryPoint:!1,Events:[_o,Vi,aa,fp,hp,wd]},Us={findFiberByHostInstance:mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vx={bundleType:Us.bundleType,version:Us.version,rendererPackageName:Us.rendererPackageName,rendererConfig:Us.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=vp(e),e===null?null:e.stateNode},findFiberByHostInstance:Us.findFiberByHostInstance||mx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dl.isDisabled&&dl.supportsFiber)try{ia=dl.inject(vx),Bn=dl}catch{}}Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gx;Jt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ed(t))throw Error(ee(200));return px(e,t,null,n)};Jt.createRoot=function(e,t){if(!Ed(e))throw Error(ee(299));var n=!1,r="",i=Gm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=jd(e,1,!1,null,null,n,!1,r,i),e[ar]=t.current,fo(e.nodeType===8?e.parentNode:e),new Cd(t)};Jt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ee(188)):(e=Object.keys(e).join(","),Error(ee(268,e)));return e=vp(t),e=e===null?null:e.stateNode,e};Jt.flushSync=function(e){return ji(e)};Jt.hydrate=function(e,t,n){if(!ga(t))throw Error(ee(200));return va(null,e,t,!0,n)};Jt.hydrateRoot=function(e,t,n){if(!Ed(e))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",u=Gm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),t=Ym(t,null,e,1,n??null,i,!1,o,u),e[ar]=t.current,fo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ya(t)};Jt.render=function(e,t,n){if(!ga(t))throw Error(ee(200));return va(null,e,t,!1,n)};Jt.unmountComponentAtNode=function(e){if(!ga(e))throw Error(ee(40));return e._reactRootContainer?(ji(function(){va(null,null,e,!1,function(){e._reactRootContainer=null,e[ar]=null})}),!0):!1};Jt.unstable_batchedUpdates=wd;Jt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ga(n))throw Error(ee(200));if(e==null||e._reactInternals===void 0)throw Error(ee(38));return va(e,t,n,!1,r)};Jt.version="18.3.1-next-f1338f8080-20240426";function Xm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xm)}catch(e){console.error(e)}}Xm(),Xh.exports=Jt;var xx=Xh.exports,sh=xx;Cu.createRoot=sh.createRoot,Cu.hydrateRoot=sh.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bo(){return bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bo.apply(this,arguments)}var Fr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Fr||(Fr={}));const oh="popstate";function wx(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:u,hash:f}=r.location;return xc("",{pathname:o,search:u,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Zl(i)}return Sx(t,n,null,e)}function st(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Jm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function bx(){return Math.random().toString(36).substr(2,8)}function lh(e,t){return{usr:e.state,key:e.key,idx:t}}function xc(e,t,n,r){return n===void 0&&(n=null),bo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?gs(t):t,{state:n,key:t&&t.key||r||bx()})}function Zl(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function gs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Sx(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,u=i.history,f=Fr.Pop,p=null,g=j();g==null&&(g=0,u.replaceState(bo({},u.state,{idx:g}),""));function j(){return(u.state||{idx:null}).idx}function b(){f=Fr.Pop;let X=j(),C=X==null?null:X-g;g=X,p&&p({action:f,location:V.location,delta:C})}function _(X,C){f=Fr.Push;let w=xc(V.location,X,C);g=j()+1;let k=lh(w,g),B=V.createHref(w);try{u.pushState(k,"",B)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;i.location.assign(B)}o&&p&&p({action:f,location:V.location,delta:1})}function K(X,C){f=Fr.Replace;let w=xc(V.location,X,C);g=j();let k=lh(w,g),B=V.createHref(w);u.replaceState(k,"",B),o&&p&&p({action:f,location:V.location,delta:0})}function D(X){let C=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof X=="string"?X:Zl(X);return w=w.replace(/ $/,"%20"),st(C,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,C)}let V={get action(){return f},get location(){return e(i,u)},listen(X){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(oh,b),p=X,()=>{i.removeEventListener(oh,b),p=null}},createHref(X){return t(i,X)},createURL:D,encodeLocation(X){let C=D(X);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:_,replace:K,go(X){return u.go(X)}};return V}var ah;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ah||(ah={}));function kx(e,t,n){return n===void 0&&(n="/"),jx(e,t,n)}function jx(e,t,n,r){let i=typeof t=="string"?gs(t):t,o=fs(i.pathname||"/",n);if(o==null)return null;let u=Zm(e);Nx(u);let f=null;for(let p=0;f==null&&p<u.length;++p){let g=Ix(o);f=Fx(u[p],g)}return f}function Zm(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,u,f)=>{let p={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};p.relativePath.startsWith("/")&&(st(p.relativePath.startsWith(r),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(r.length));let g=Hr([r,p.relativePath]),j=n.concat(p);o.children&&o.children.length>0&&(st(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),Zm(o.children,t,j,g)),!(o.path==null&&!o.index)&&t.push({path:g,score:Ox(g,o.index),routesMeta:j})};return e.forEach((o,u)=>{var f;if(o.path===""||!((f=o.path)!=null&&f.includes("?")))i(o,u);else for(let p of ey(o.path))i(o,u,p)}),t}function ey(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let u=ey(r.join("/")),f=[];return f.push(...u.map(p=>p===""?o:[o,p].join("/"))),i&&f.push(...u),f.map(p=>e.startsWith("/")&&p===""?"/":p)}function Nx(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Mx(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Cx=/^:[\w-]+$/,Ex=3,_x=2,Px=1,Tx=10,Rx=-2,uh=e=>e==="*";function Ox(e,t){let n=e.split("/"),r=n.length;return n.some(uh)&&(r+=Rx),t&&(r+=_x),n.filter(i=>!uh(i)).reduce((i,o)=>i+(Cx.test(o)?Ex:o===""?Px:Tx),r)}function Mx(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Fx(e,t,n){let{routesMeta:r}=e,i={},o="/",u=[];for(let f=0;f<r.length;++f){let p=r[f],g=f===r.length-1,j=o==="/"?t:t.slice(o.length)||"/",b=wc({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},j),_=p.route;if(!b)return null;Object.assign(i,b.params),u.push({params:i,pathname:Hr([o,b.pathname]),pathnameBase:$x(Hr([o,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(o=Hr([o,b.pathnameBase]))}return u}function wc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Lx(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],u=o.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:r.reduce((g,j,b)=>{let{paramName:_,isOptional:K}=j;if(_==="*"){let V=f[b]||"";u=o.slice(0,o.length-V.length).replace(/(.)\/+$/,"$1")}const D=f[b];return K&&!D?g[_]=void 0:g[_]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:u,pattern:e}}function Lx(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Jm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,p)=>(r.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Ix(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Jm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function fs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Ax(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?gs(e):e;return{pathname:n?n.startsWith("/")?n:zx(n,t):t,search:Ux(r),hash:Bx(i)}}function zx(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function vu(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Dx(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ty(e,t){let n=Dx(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ny(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=gs(e):(i=bo({},e),st(!i.pathname||!i.pathname.includes("?"),vu("?","pathname","search",i)),st(!i.pathname||!i.pathname.includes("#"),vu("#","pathname","hash",i)),st(!i.search||!i.search.includes("#"),vu("#","search","hash",i)));let o=e===""||i.pathname==="",u=o?"/":i.pathname,f;if(u==null)f=n;else{let b=t.length-1;if(!r&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),b-=1;i.pathname=_.join("/")}f=b>=0?t[b]:"/"}let p=Ax(i,f),g=u&&u!=="/"&&u.endsWith("/"),j=(o||u===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||j)&&(p.pathname+="/"),p}const Hr=e=>e.join("/").replace(/\/\/+/g,"/"),$x=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ux=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Bx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Kx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ry=["post","put","patch","delete"];new Set(ry);const Wx=["get",...ry];new Set(Wx);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function So(){return So=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},So.apply(this,arguments)}const xa=x.createContext(null),iy=x.createContext(null),Xr=x.createContext(null),wa=x.createContext(null),Ei=x.createContext({outlet:null,matches:[],isDataRoute:!1}),sy=x.createContext(null);function Hx(e,t){let{relative:n}=t===void 0?{}:t;To()||st(!1);let{basename:r,navigator:i}=x.useContext(Xr),{hash:o,pathname:u,search:f}=ba(e,{relative:n}),p=u;return r!=="/"&&(p=u==="/"?r:Hr([r,u])),i.createHref({pathname:p,search:f,hash:o})}function To(){return x.useContext(wa)!=null}function vs(){return To()||st(!1),x.useContext(wa).location}function oy(e){x.useContext(Xr).static||x.useLayoutEffect(e)}function Vx(){let{isDataRoute:e}=x.useContext(Ei);return e?s0():qx()}function qx(){To()||st(!1);let e=x.useContext(xa),{basename:t,future:n,navigator:r}=x.useContext(Xr),{matches:i}=x.useContext(Ei),{pathname:o}=vs(),u=JSON.stringify(ty(i,n.v7_relativeSplatPath)),f=x.useRef(!1);return oy(()=>{f.current=!0}),x.useCallback(function(g,j){if(j===void 0&&(j={}),!f.current)return;if(typeof g=="number"){r.go(g);return}let b=ny(g,JSON.parse(u),o,j.relative==="path");e==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:Hr([t,b.pathname])),(j.replace?r.replace:r.push)(b,j.state,j)},[t,r,u,o,e])}function ba(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=x.useContext(Xr),{matches:i}=x.useContext(Ei),{pathname:o}=vs(),u=JSON.stringify(ty(i,r.v7_relativeSplatPath));return x.useMemo(()=>ny(e,JSON.parse(u),o,n==="path"),[e,u,o,n])}function Qx(e,t){return Yx(e,t)}function Yx(e,t,n,r){To()||st(!1);let{navigator:i}=x.useContext(Xr),{matches:o}=x.useContext(Ei),u=o[o.length-1],f=u?u.params:{};u&&u.pathname;let p=u?u.pathnameBase:"/";u&&u.route;let g=vs(),j;if(t){var b;let X=typeof t=="string"?gs(t):t;p==="/"||(b=X.pathname)!=null&&b.startsWith(p)||st(!1),j=X}else j=g;let _=j.pathname||"/",K=_;if(p!=="/"){let X=p.replace(/^\//,"").split("/");K="/"+_.replace(/^\//,"").split("/").slice(X.length).join("/")}let D=kx(e,{pathname:K}),V=e0(D&&D.map(X=>Object.assign({},X,{params:Object.assign({},f,X.params),pathname:Hr([p,i.encodeLocation?i.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?p:Hr([p,i.encodeLocation?i.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),o,n,r);return t&&V?x.createElement(wa.Provider,{value:{location:So({pathname:"/",search:"",hash:"",state:null,key:"default"},j),navigationType:Fr.Pop}},V):V}function Gx(){let e=i0(),t=Kx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:i},n):null,null)}const Xx=x.createElement(Gx,null);class Jx extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(Ei.Provider,{value:this.props.routeContext},x.createElement(sy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Zx(e){let{routeContext:t,match:n,children:r}=e,i=x.useContext(xa);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(Ei.Provider,{value:t},r)}function e0(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let u=e,f=(i=n)==null?void 0:i.errors;if(f!=null){let j=u.findIndex(b=>b.route.id&&(f==null?void 0:f[b.route.id])!==void 0);j>=0||st(!1),u=u.slice(0,Math.min(u.length,j+1))}let p=!1,g=-1;if(n&&r&&r.v7_partialHydration)for(let j=0;j<u.length;j++){let b=u[j];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=j),b.route.id){let{loaderData:_,errors:K}=n,D=b.route.loader&&_[b.route.id]===void 0&&(!K||K[b.route.id]===void 0);if(b.route.lazy||D){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((j,b,_)=>{let K,D=!1,V=null,X=null;n&&(K=f&&b.route.id?f[b.route.id]:void 0,V=b.route.errorElement||Xx,p&&(g<0&&_===0?(o0("route-fallback"),D=!0,X=null):g===_&&(D=!0,X=b.route.hydrateFallbackElement||null)));let C=t.concat(u.slice(0,_+1)),w=()=>{let k;return K?k=V:D?k=X:b.route.Component?k=x.createElement(b.route.Component,null):b.route.element?k=b.route.element:k=j,x.createElement(Zx,{match:b,routeContext:{outlet:j,matches:C,isDataRoute:n!=null},children:k})};return n&&(b.route.ErrorBoundary||b.route.errorElement||_===0)?x.createElement(Jx,{location:n.location,revalidation:n.revalidation,component:V,error:K,children:w(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):w()},null)}var ly=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ly||{}),ay=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ay||{});function t0(e){let t=x.useContext(xa);return t||st(!1),t}function n0(e){let t=x.useContext(iy);return t||st(!1),t}function r0(e){let t=x.useContext(Ei);return t||st(!1),t}function uy(e){let t=r0(),n=t.matches[t.matches.length-1];return n.route.id||st(!1),n.route.id}function i0(){var e;let t=x.useContext(sy),n=n0(),r=uy();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function s0(){let{router:e}=t0(ly.UseNavigateStable),t=uy(ay.UseNavigateStable),n=x.useRef(!1);return oy(()=>{n.current=!0}),x.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,So({fromRouteId:t},o)))},[e,t])}const ch={};function o0(e,t,n){ch[e]||(ch[e]=!0)}function l0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function tr(e){st(!1)}function a0(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Fr.Pop,navigator:o,static:u=!1,future:f}=e;To()&&st(!1);let p=t.replace(/^\/*/,"/"),g=x.useMemo(()=>({basename:p,navigator:o,static:u,future:So({v7_relativeSplatPath:!1},f)}),[p,f,o,u]);typeof r=="string"&&(r=gs(r));let{pathname:j="/",search:b="",hash:_="",state:K=null,key:D="default"}=r,V=x.useMemo(()=>{let X=fs(j,p);return X==null?null:{location:{pathname:X,search:b,hash:_,state:K,key:D},navigationType:i}},[p,j,b,_,K,D,i]);return V==null?null:x.createElement(Xr.Provider,{value:g},x.createElement(wa.Provider,{children:n,value:V}))}function u0(e){let{children:t,location:n}=e;return Qx(bc(t),n)}new Promise(()=>{});function bc(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(r,i)=>{if(!x.isValidElement(r))return;let o=[...t,i];if(r.type===x.Fragment){n.push.apply(n,bc(r.props.children,o));return}r.type!==tr&&st(!1),!r.props.index||!r.props.children||st(!1);let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=bc(r.props.children,o)),n.push(u)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ea(){return ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ea.apply(this,arguments)}function cy(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function c0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function d0(e,t){return e.button===0&&(!t||t==="_self")&&!c0(e)}const f0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],h0=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],p0="6";try{window.__reactRouterVersion=p0}catch{}const m0=x.createContext({isTransitioning:!1}),y0="startTransition",dh=ag[y0];function g0(e){let{basename:t,children:n,future:r,window:i}=e,o=x.useRef();o.current==null&&(o.current=wx({window:i,v5Compat:!0}));let u=o.current,[f,p]=x.useState({action:u.action,location:u.location}),{v7_startTransition:g}=r||{},j=x.useCallback(b=>{g&&dh?dh(()=>p(b)):p(b)},[p,g]);return x.useLayoutEffect(()=>u.listen(j),[u,j]),x.useEffect(()=>l0(r),[r]),x.createElement(a0,{basename:t,children:n,location:f.location,navigationType:f.action,navigator:u,future:r})}const v0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",x0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,w0=x.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:u,state:f,target:p,to:g,preventScrollReset:j,viewTransition:b}=t,_=cy(t,f0),{basename:K}=x.useContext(Xr),D,V=!1;if(typeof g=="string"&&x0.test(g)&&(D=g,v0))try{let k=new URL(window.location.href),B=g.startsWith("//")?new URL(k.protocol+g):new URL(g),Z=fs(B.pathname,K);B.origin===k.origin&&Z!=null?g=Z+B.search+B.hash:V=!0}catch{}let X=Hx(g,{relative:i}),C=S0(g,{replace:u,state:f,target:p,preventScrollReset:j,relative:i,viewTransition:b});function w(k){r&&r(k),k.defaultPrevented||C(k)}return x.createElement("a",ea({},_,{href:D||X,onClick:V||o?r:w,ref:n,target:p}))}),li=x.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:u=!1,style:f,to:p,viewTransition:g,children:j}=t,b=cy(t,h0),_=ba(p,{relative:b.relative}),K=vs(),D=x.useContext(iy),{navigator:V,basename:X}=x.useContext(Xr),C=D!=null&&k0(_)&&g===!0,w=V.encodeLocation?V.encodeLocation(_).pathname:_.pathname,k=K.pathname,B=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;i||(k=k.toLowerCase(),B=B?B.toLowerCase():null,w=w.toLowerCase()),B&&X&&(B=fs(B,X)||B);const Z=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let J=k===w||!u&&k.startsWith(w)&&k.charAt(Z)==="/",G=B!=null&&(B===w||!u&&B.startsWith(w)&&B.charAt(w.length)==="/"),ne={isActive:J,isPending:G,isTransitioning:C},Ee=J?r:void 0,fe;typeof o=="function"?fe=o(ne):fe=[o,J?"active":null,G?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let Ie=typeof f=="function"?f(ne):f;return x.createElement(w0,ea({},b,{"aria-current":Ee,className:fe,ref:n,style:Ie,to:p,viewTransition:g}),typeof j=="function"?j(ne):j)});var Sc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Sc||(Sc={}));var fh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(fh||(fh={}));function b0(e){let t=x.useContext(xa);return t||st(!1),t}function S0(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:u,viewTransition:f}=t===void 0?{}:t,p=Vx(),g=vs(),j=ba(e,{relative:u});return x.useCallback(b=>{if(d0(b,n)){b.preventDefault();let _=r!==void 0?r:Zl(g)===Zl(j);p(e,{replace:_,state:i,preventScrollReset:o,relative:u,viewTransition:f})}},[g,p,j,r,i,n,e,o,u,f])}function k0(e,t){t===void 0&&(t={});let n=x.useContext(m0);n==null&&st(!1);let{basename:r}=b0(Sc.useViewTransitionState),i=ba(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=fs(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=fs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return wc(i.pathname,u)!=null||wc(i.pathname,o)!=null}let kc=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");const j0={},hh=e=>{let t;const n=new Set,r=(j,b)=>{const _=typeof j=="function"?j(t):j;if(!Object.is(_,t)){const K=t;t=b??(typeof _!="object"||_===null)?_:Object.assign({},t,_),n.forEach(D=>D(t,K))}},i=()=>t,p={setState:r,getState:i,getInitialState:()=>g,subscribe:j=>(n.add(j),()=>n.delete(j)),destroy:()=>{(j0?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},g=t=e(r,i,p);return p},N0=e=>e?hh(e):hh;var dy={exports:{}},fy={},hy={exports:{}},py={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hs=x;function C0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var E0=typeof Object.is=="function"?Object.is:C0,_0=hs.useState,P0=hs.useEffect,T0=hs.useLayoutEffect,R0=hs.useDebugValue;function O0(e,t){var n=t(),r=_0({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return T0(function(){i.value=n,i.getSnapshot=t,xu(i)&&o({inst:i})},[e,n,t]),P0(function(){return xu(i)&&o({inst:i}),e(function(){xu(i)&&o({inst:i})})},[e]),R0(n),n}function xu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!E0(e,n)}catch{return!0}}function M0(e,t){return t()}var F0=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?M0:O0;py.useSyncExternalStore=hs.useSyncExternalStore!==void 0?hs.useSyncExternalStore:F0;hy.exports=py;var L0=hy.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sa=x,I0=L0;function A0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var z0=typeof Object.is=="function"?Object.is:A0,D0=I0.useSyncExternalStore,$0=Sa.useRef,U0=Sa.useEffect,B0=Sa.useMemo,K0=Sa.useDebugValue;fy.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=$0(null);if(o.current===null){var u={hasValue:!1,value:null};o.current=u}else u=o.current;o=B0(function(){function p(K){if(!g){if(g=!0,j=K,K=r(K),i!==void 0&&u.hasValue){var D=u.value;if(i(D,K))return b=D}return b=K}if(D=b,z0(j,K))return D;var V=r(K);return i!==void 0&&i(D,V)?(j=K,D):(j=K,b=V)}var g=!1,j,b,_=n===void 0?null:n;return[function(){return p(t())},_===null?void 0:function(){return p(_())}]},[t,n,r,i]);var f=D0(e,o[0],o[1]);return U0(function(){u.hasValue=!0,u.value=f},[f]),K0(f),f};dy.exports=fy;var W0=dy.exports;const H0=Oc(W0),my={},{useDebugValue:V0}=Ac,{useSyncExternalStoreWithSelector:q0}=H0;let ph=!1;const Q0=e=>e;function Y0(e,t=Q0,n){(my?"production":void 0)!=="production"&&n&&!ph&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),ph=!0);const r=q0(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return V0(r),r}const mh=e=>{(my?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?N0(e):e,n=(r,i)=>Y0(t,r,i);return Object.assign(n,t),n},_d=e=>e?mh(e):mh,G0=/['\u2019\u02BC](s|d)$/u,X0=/['\u2019\u02BC]$/u,J0=new Set(["a","e","i","o","u"]),Z0=["ness","ss","ous","us","is"],ew=new Map([["boonies","boonie"]]);function yh(e){return/[aeiouy]/u.test(e)}function ko(e){return J0.has(e)}function tw(e){if(e.length<2)return!1;const t=e[e.length-1],n=e[e.length-2];return t===n&&!ko(t)}function nw(e){if(e.length<3||!e.endsWith("l"))return!1;const t=e[e.length-2],n=e[e.length-3];return t===n&&!ko(t)}function rw(e,t){return t||!e.endsWith("g")?!1:!e.endsWith("ng")}function iw(e){if(e.length<2||!e.endsWith("k"))return!1;const t=e[e.length-2];return ko(t)}function gh(e){if(e.endsWith("at")||e.endsWith("bl")||e.endsWith("iz"))return`${e}e`;let t=e,n=!1;return tw(t)&&!["l","s","z"].includes(t[t.length-1])&&(t=t.slice(0,-1),n=!0),nw(t)?`${t}e`:rw(t,n)?`${t}e`:iw(t)?`${t}e`:t.endsWith("is")&&t.length>3?`${t}e`:t}function Pd(e){let t=e.toLowerCase().normalize("NFC");if(t=t.replace(G0,""),t=t.replace(X0,""),t.length<=3)return t;if(t.endsWith("ier")&&t.length>5){const n=t.slice(0,-3),r=n[n.length-1],i=n[n.length-2];if(r&&i&&r===i&&!ko(r))return`${n}y`}if(t.endsWith("ied")&&t.length>3){const n=t.slice(0,-3);return t.length<=4?`${n}ie`:`${n}y`}if(t.endsWith("ies")&&t.length>3){const n=ew.get(t);if(n)return n;const r=t.slice(0,-3);return t.length<=4?`${r}ie`:`${r}y`}if(t.endsWith("ing")){const n=t.slice(0,-3);if(n.length>=3&&yh(n))return gh(n)}if(t.endsWith("ed")){const n=t.slice(0,-2);if(n.length>=2&&yh(n))return gh(n)}if(t.endsWith("ly")&&t.length>4){const n=t[t.length-3];if(n&&!ko(n))return t.slice(0,-2)}return t.endsWith("es")&&t.length>4?t.endsWith("ches")||t.endsWith("shes")||t.endsWith("xes")||t.endsWith("zes")?t.slice(0,-2):t.slice(0,-1):t.endsWith("s")&&t.length>4&&!Z0.some(n=>t.endsWith(n))?t.slice(0,-1):t}const sw=new RegExp("(\\p{L}+(?:['\\u2019\\u02BC-]\\p{L}+)*)|(\\d+)|([^\\s\\p{L}\\d]+)","gu");function Un(e){const t=e.replace(/[\u0001\u0002]/g,""),n=[];let r;for(;r=sw.exec(t);){const[i,o,u,f]=r;if(o){const p=o.toLowerCase().normalize("NFC");n.push({text:i,normalized:p,stem:Pd(p),isWord:!0})}else u?n.push({text:i,normalized:u,stem:u,isWord:!1}):f&&n.push({text:i,normalized:f,stem:f,isWord:!1})}return n.length>0?n:[{text:e,normalized:e,stem:e,isWord:new RegExp("\\p{L}","u").test(e)}]}var yy={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Yd,function(){var n=function(s,l){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(c[h]=d[h])})(s,l)},r=function(){return(r=Object.assign||function(s){for(var l,c=1,d=arguments.length;c<d;c++)for(var h in l=arguments[c])Object.prototype.hasOwnProperty.call(l,h)&&(s[h]=l[h]);return s}).apply(this,arguments)};function i(s,l,c){for(var d,h=0,m=l.length;h<m;h++)!d&&h in l||((d=d||Array.prototype.slice.call(l,0,h))[h]=l[h]);return s.concat(d||Array.prototype.slice.call(l))}var o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Yd,u=Object.keys,f=Array.isArray;function p(s,l){return typeof l!="object"||u(l).forEach(function(c){s[c]=l[c]}),s}typeof Promise>"u"||o.Promise||(o.Promise=Promise);var g=Object.getPrototypeOf,j={}.hasOwnProperty;function b(s,l){return j.call(s,l)}function _(s,l){typeof l=="function"&&(l=l(g(s))),(typeof Reflect>"u"?u:Reflect.ownKeys)(l).forEach(function(c){D(s,c,l[c])})}var K=Object.defineProperty;function D(s,l,c,d){K(s,l,p(c&&b(c,"get")&&typeof c.get=="function"?{get:c.get,set:c.set,configurable:!0}:{value:c,configurable:!0,writable:!0},d))}function V(s){return{from:function(l){return s.prototype=Object.create(l.prototype),D(s.prototype,"constructor",s),{extend:_.bind(null,s.prototype)}}}}var X=Object.getOwnPropertyDescriptor,C=[].slice;function w(s,l,c){return C.call(s,l,c)}function k(s,l){return l(s)}function B(s){if(!s)throw new Error("Assertion Failed")}function Z(s){o.setImmediate?setImmediate(s):setTimeout(s,0)}function J(s,l){if(typeof l=="string"&&b(s,l))return s[l];if(!l)return s;if(typeof l!="string"){for(var c=[],d=0,h=l.length;d<h;++d){var m=J(s,l[d]);c.push(m)}return c}var y=l.indexOf(".");if(y!==-1){var S=s[l.substr(0,y)];return S==null?void 0:J(S,l.substr(y+1))}}function G(s,l,c){if(s&&l!==void 0&&!("isFrozen"in Object&&Object.isFrozen(s)))if(typeof l!="string"&&"length"in l){B(typeof c!="string"&&"length"in c);for(var d=0,h=l.length;d<h;++d)G(s,l[d],c[d])}else{var m,y,S=l.indexOf(".");S!==-1?(m=l.substr(0,S),(y=l.substr(S+1))===""?c===void 0?f(s)&&!isNaN(parseInt(m))?s.splice(m,1):delete s[m]:s[m]=c:G(S=!(S=s[m])||!b(s,m)?s[m]={}:S,y,c)):c===void 0?f(s)&&!isNaN(parseInt(l))?s.splice(l,1):delete s[l]:s[l]=c}}function ne(s){var l,c={};for(l in s)b(s,l)&&(c[l]=s[l]);return c}var Ee=[].concat;function fe(s){return Ee.apply([],s)}var tn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(fe([8,16,32,64].map(function(s){return["Int","Uint","Float"].map(function(l){return l+s+"Array"})}))).filter(function(s){return o[s]}),Ie=new Set(tn.map(function(s){return o[s]})),De=null;function Y(s){return De=new WeakMap,s=function l(c){if(!c||typeof c!="object")return c;var d=De.get(c);if(d)return d;if(f(c)){d=[],De.set(c,d);for(var h=0,m=c.length;h<m;++h)d.push(l(c[h]))}else if(Ie.has(c.constructor))d=c;else{var y,S=g(c);for(y in d=S===Object.prototype?{}:Object.create(S),De.set(c,d),c)b(c,y)&&(d[y]=l(c[y]))}return d}(s),De=null,s}var q={}.toString;function ae(s){return q.call(s).slice(8,-1)}var ie=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ke=typeof ie=="symbol"?function(s){var l;return s!=null&&(l=s[ie])&&l.apply(s)}:function(){return null};function W(s,l){return l=s.indexOf(l),0<=l&&s.splice(l,1),0<=l}var se={};function pe(s){var l,c,d,h;if(arguments.length===1){if(f(s))return s.slice();if(this===se&&typeof s=="string")return[s];if(h=ke(s)){for(c=[];!(d=h.next()).done;)c.push(d.value);return c}if(s==null)return[s];if(typeof(l=s.length)!="number")return[s];for(c=new Array(l);l--;)c[l]=s[l];return c}for(l=arguments.length,c=new Array(l);l--;)c[l]=arguments[l];return c}var je=typeof Symbol<"u"?function(s){return s[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ae=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],nn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ae),be={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function $e(s,l){this.name=s,this.message=l}function Qe(s,l){return s+". Errors: "+Object.keys(l).map(function(c){return l[c].toString()}).filter(function(c,d,h){return h.indexOf(c)===d}).join(`
`)}function gt(s,l,c,d){this.failures=l,this.failedKeys=d,this.successCount=c,this.message=Qe(s,l)}function Ge(s,l){this.name="BulkError",this.failures=Object.keys(l).map(function(c){return l[c]}),this.failuresByPos=l,this.message=Qe(s,this.failures)}V($e).from(Error).extend({toString:function(){return this.name+": "+this.message}}),V(gt).from($e),V(Ge).from($e);var ct=nn.reduce(function(s,l){return s[l]=l+"Error",s},{}),xs=$e,z=nn.reduce(function(s,l){var c=l+"Error";function d(h,m){this.name=c,h?typeof h=="string"?(this.message="".concat(h).concat(m?`
 `+m:""),this.inner=m||null):typeof h=="object"&&(this.message="".concat(h.name," ").concat(h.message),this.inner=h):(this.message=be[l]||c,this.inner=null)}return V(d).from(xs),s[l]=d,s},{});z.Syntax=SyntaxError,z.Type=TypeError,z.Range=RangeError;var Ce=Ae.reduce(function(s,l){return s[l+"Error"]=z[l],s},{}),we=nn.reduce(function(s,l){return["Syntax","Type","Range"].indexOf(l)===-1&&(s[l+"Error"]=z[l]),s},{});function me(){}function Le(s){return s}function dt(s,l){return s==null||s===Le?l:function(c){return l(s(c))}}function at(s,l){return function(){s.apply(this,arguments),l.apply(this,arguments)}}function Wn(s,l){return s===me?l:function(){var c=s.apply(this,arguments);c!==void 0&&(arguments[0]=c);var d=this.onsuccess,h=this.onerror;this.onsuccess=null,this.onerror=null;var m=l.apply(this,arguments);return d&&(this.onsuccess=this.onsuccess?at(d,this.onsuccess):d),h&&(this.onerror=this.onerror?at(h,this.onerror):h),m!==void 0?m:c}}function nt(s,l){return s===me?l:function(){s.apply(this,arguments);var c=this.onsuccess,d=this.onerror;this.onsuccess=this.onerror=null,l.apply(this,arguments),c&&(this.onsuccess=this.onsuccess?at(c,this.onsuccess):c),d&&(this.onerror=this.onerror?at(d,this.onerror):d)}}function fr(s,l){return s===me?l:function(c){var d=s.apply(this,arguments);p(c,d);var h=this.onsuccess,m=this.onerror;return this.onsuccess=null,this.onerror=null,c=l.apply(this,arguments),h&&(this.onsuccess=this.onsuccess?at(h,this.onsuccess):h),m&&(this.onerror=this.onerror?at(m,this.onerror):m),d===void 0?c===void 0?void 0:c:p(d,c)}}function _i(s,l){return s===me?l:function(){return l.apply(this,arguments)!==!1&&s.apply(this,arguments)}}function hr(s,l){return s===me?l:function(){var c=s.apply(this,arguments);if(c&&typeof c.then=="function"){for(var d=this,h=arguments.length,m=new Array(h);h--;)m[h]=arguments[h];return c.then(function(){return l.apply(d,m)})}return l.apply(this,arguments)}}we.ModifyError=gt,we.DexieError=$e,we.BulkError=Ge;var en=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Pi(s){en=s}var pr={},ws=100,tn=typeof Promise>"u"?[]:function(){var s=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[s,g(s),s];var l=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[l,g(l),s]}(),Ae=tn[0],nn=tn[1],tn=tn[2],nn=nn&&nn.then,cn=Ae&&Ae.constructor,bs=!!tn,Cn=function(s,l){vr.push([s,l]),En&&(queueMicrotask(pn),En=!1)},mr=!0,En=!0,dn=[],yr=[],gr=Le,fn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:me,pgp:!1,env:{},finalize:me},xe=fn,vr=[],_n=0,hn=[];function de(s){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var l=this._PSD=xe;if(typeof s!="function"){if(s!==pr)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Jr(this,this._value))}this._state=null,this._value=null,++l.ref,function c(d,h){try{h(function(m){if(d._state===null){if(m===d)throw new TypeError("A promise cannot be resolved with itself.");var y=d._lib&&St();m&&typeof m.then=="function"?c(d,function(S,E){m instanceof de?m._then(S,E):m.then(S,E)}):(d._state=!0,d._value=m,Ss(d)),y&&Ht()}},Jr.bind(null,d))}catch(m){Jr(d,m)}}(this,s)}var Ti={get:function(){var s=xe,l=Vn;function c(d,h){var m=this,y=!s.global&&(s!==xe||l!==Vn),S=y&&!Tn(),E=new de(function(P,M){Ri(m,new It(Fo(d,s,y,S),Fo(h,s,y,S),P,M,s))});return this._consoleTask&&(E._consoleTask=this._consoleTask),E}return c.prototype=pr,c},set:function(s){D(this,"then",s&&s.prototype===pr?Ti:{get:function(){return s},set:Ti.set})}};function It(s,l,c,d,h){this.onFulfilled=typeof s=="function"?s:null,this.onRejected=typeof l=="function"?l:null,this.resolve=c,this.reject=d,this.psd=h}function Jr(s,l){var c,d;yr.push(l),s._state===null&&(c=s._lib&&St(),l=gr(l),s._state=!1,s._value=l,d=s,dn.some(function(h){return h._value===d._value})||dn.push(d),Ss(s),c&&Ht())}function Ss(s){var l=s._listeners;s._listeners=[];for(var c=0,d=l.length;c<d;++c)Ri(s,l[c]);var h=s._PSD;--h.ref||h.finalize(),_n===0&&(++_n,Cn(function(){--_n==0&&Pn()},[]))}function Ri(s,l){if(s._state!==null){var c=s._state?l.onFulfilled:l.onRejected;if(c===null)return(s._state?l.resolve:l.reject)(s._value);++l.psd.ref,++_n,Cn(Ro,[c,s,l])}else s._listeners.push(l)}function Ro(s,l,c){try{var d,h=l._value;!l._state&&yr.length&&(yr=[]),d=en&&l._consoleTask?l._consoleTask.run(function(){return s(h)}):s(h),l._state||yr.indexOf(h)!==-1||function(m){for(var y=dn.length;y;)if(dn[--y]._value===m._value)return dn.splice(y,1)}(l),c.resolve(d)}catch(m){c.reject(m)}finally{--_n==0&&Pn(),--c.psd.ref||c.psd.finalize()}}function pn(){qn(fn,function(){St()&&Ht()})}function St(){var s=mr;return En=mr=!1,s}function Ht(){var s,l,c;do for(;0<vr.length;)for(s=vr,vr=[],c=s.length,l=0;l<c;++l){var d=s[l];d[0].apply(null,d[1])}while(0<vr.length);En=mr=!0}function Pn(){var s=dn;dn=[],s.forEach(function(d){d._PSD.onunhandled.call(null,d._value,d)});for(var l=hn.slice(0),c=l.length;c;)l[--c]()}function Zr(s){return new de(pr,!1,s)}function Ke(s,l){var c=xe;return function(){var d=St(),h=xe;try{return yn(c,!0),s.apply(this,arguments)}catch(m){l&&l(m)}finally{yn(h,!1),d&&Ht()}}}_(de.prototype,{then:Ti,_then:function(s,l){Ri(this,new It(null,null,s,l,xe))},catch:function(s){if(arguments.length===1)return this.then(null,s);var l=s,c=arguments[1];return typeof l=="function"?this.then(null,function(d){return(d instanceof l?c:Zr)(d)}):this.then(null,function(d){return(d&&d.name===l?c:Zr)(d)})},finally:function(s){return this.then(function(l){return de.resolve(s()).then(function(){return l})},function(l){return de.resolve(s()).then(function(){return Zr(l)})})},timeout:function(s,l){var c=this;return s<1/0?new de(function(d,h){var m=setTimeout(function(){return h(new z.Timeout(l))},s);c.then(d,h).finally(clearTimeout.bind(null,m))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&D(de.prototype,Symbol.toStringTag,"Dexie.Promise"),fn.env=Mo(),_(de,{all:function(){var s=pe.apply(null,arguments).map(ti);return new de(function(l,c){s.length===0&&l([]);var d=s.length;s.forEach(function(h,m){return de.resolve(h).then(function(y){s[m]=y,--d||l(s)},c)})})},resolve:function(s){return s instanceof de?s:s&&typeof s.then=="function"?new de(function(l,c){s.then(l,c)}):new de(pr,!0,s)},reject:Zr,race:function(){var s=pe.apply(null,arguments).map(ti);return new de(function(l,c){s.map(function(d){return de.resolve(d).then(l,c)})})},PSD:{get:function(){return xe},set:function(s){return xe=s}},totalEchoes:{get:function(){return Vn}},newPSD:mn,usePSD:qn,scheduler:{get:function(){return Cn},set:function(s){Cn=s}},rejectionMapper:{get:function(){return gr},set:function(s){gr=s}},follow:function(s,l){return new de(function(c,d){return mn(function(h,m){var y=xe;y.unhandleds=[],y.onunhandled=m,y.finalize=at(function(){var S,E=this;S=function(){E.unhandleds.length===0?h():m(E.unhandleds[0])},hn.push(function P(){S(),hn.splice(hn.indexOf(P),1)}),++_n,Cn(function(){--_n==0&&Pn()},[])},y.finalize),s()},l,c,d)})}}),cn&&(cn.allSettled&&D(de,"allSettled",function(){var s=pe.apply(null,arguments).map(ti);return new de(function(l){s.length===0&&l([]);var c=s.length,d=new Array(c);s.forEach(function(h,m){return de.resolve(h).then(function(y){return d[m]={status:"fulfilled",value:y}},function(y){return d[m]={status:"rejected",reason:y}}).then(function(){return--c||l(d)})})})}),cn.any&&typeof AggregateError<"u"&&D(de,"any",function(){var s=pe.apply(null,arguments).map(ti);return new de(function(l,c){s.length===0&&c(new AggregateError([]));var d=s.length,h=new Array(d);s.forEach(function(m,y){return de.resolve(m).then(function(S){return l(S)},function(S){h[y]=S,--d||c(new AggregateError(h))})})})}),cn.withResolvers&&(de.withResolvers=cn.withResolvers));var Xe={awaits:0,echoes:0,id:0},Oo=0,ei=[],Hn=0,Vn=0,ks=0;function mn(s,l,c,d){var h=xe,m=Object.create(h);return m.parent=h,m.ref=0,m.global=!1,m.id=++ks,fn.env,m.env=bs?{Promise:de,PromiseProp:{value:de,configurable:!0,writable:!0},all:de.all,race:de.race,allSettled:de.allSettled,any:de.any,resolve:de.resolve,reject:de.reject}:{},l&&p(m,l),++h.ref,m.finalize=function(){--this.parent.ref||this.parent.finalize()},d=qn(m,s,c,d),m.ref===0&&m.finalize(),d}function xr(){return Xe.id||(Xe.id=++Oo),++Xe.awaits,Xe.echoes+=ws,Xe.id}function Tn(){return!!Xe.awaits&&(--Xe.awaits==0&&(Xe.id=0),Xe.echoes=Xe.awaits*ws,!0)}function ti(s){return Xe.echoes&&s&&s.constructor===cn?(xr(),s.then(function(l){return Tn(),l},function(l){return Tn(),He(l)})):s}function Oi(){var s=ei[ei.length-1];ei.pop(),yn(s,!1)}function yn(s,l){var c,d=xe;(l?!Xe.echoes||Hn++&&s===xe:!Hn||--Hn&&s===xe)||queueMicrotask(l?(function(h){++Vn,Xe.echoes&&--Xe.echoes!=0||(Xe.echoes=Xe.awaits=Xe.id=0),ei.push(xe),yn(h,!0)}).bind(null,s):Oi),s!==xe&&(xe=s,d===fn&&(fn.env=Mo()),bs&&(c=fn.env.Promise,l=s.env,(d.global||s.global)&&(Object.defineProperty(o,"Promise",l.PromiseProp),c.all=l.all,c.race=l.race,c.resolve=l.resolve,c.reject=l.reject,l.allSettled&&(c.allSettled=l.allSettled),l.any&&(c.any=l.any))))}function Mo(){var s=o.Promise;return bs?{Promise:s,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:s.all,race:s.race,allSettled:s.allSettled,any:s.any,resolve:s.resolve,reject:s.reject}:{}}function qn(s,l,c,d,h){var m=xe;try{return yn(s,!0),l(c,d,h)}finally{yn(m,!1)}}function Fo(s,l,c,d){return typeof s!="function"?s:function(){var h=xe;c&&xr(),yn(l,!0);try{return s.apply(this,arguments)}finally{yn(h,!1),d&&queueMicrotask(Tn)}}}function js(s){Promise===cn&&Xe.echoes===0?Hn===0?s():enqueueNativeMicroTask(s):setTimeout(s,0)}(""+nn).indexOf("[native code]")===-1&&(xr=Tn=me);var He=de.reject,gn="",vn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Lo="String expected.",Qn=[],Rn="__dbnames",Yn="readonly",Ns="readwrite";function At(s,l){return s?l?function(){return s.apply(this,arguments)&&l.apply(this,arguments)}:s:l}var wr={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function On(s){return typeof s!="string"||/\./.test(s)?function(l){return l}:function(l){return l[s]===void 0&&s in l&&delete(l=Y(l))[s],l}}function br(){throw z.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Oe(s,l){try{var c=Cs(s),d=Cs(l);if(c!==d)return c==="Array"?1:d==="Array"?-1:c==="binary"?1:d==="binary"?-1:c==="string"?1:d==="string"?-1:c==="Date"?1:d!=="Date"?NaN:-1;switch(c){case"number":case"Date":case"string":return l<s?1:s<l?-1:0;case"binary":return function(h,m){for(var y=h.length,S=m.length,E=y<S?y:S,P=0;P<E;++P)if(h[P]!==m[P])return h[P]<m[P]?-1:1;return y===S?0:y<S?-1:1}(Io(s),Io(l));case"Array":return function(h,m){for(var y=h.length,S=m.length,E=y<S?y:S,P=0;P<E;++P){var M=Oe(h[P],m[P]);if(M!==0)return M}return y===S?0:y<S?-1:1}(s,l)}}catch{}return NaN}function Cs(s){var l=typeof s;return l!="object"?l:ArrayBuffer.isView(s)?"binary":(s=ae(s),s==="ArrayBuffer"?"binary":s)}function Io(s){return s instanceof Uint8Array?s:ArrayBuffer.isView(s)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s)}function Mi(s,l,c){var d=s.schema.yProps;return d?(l&&0<c.numFailures&&(l=l.filter(function(h,m){return!c.failures[m]})),Promise.all(d.map(function(h){return h=h.updatesTable,l?s.db.table(h).where("k").anyOf(l).delete():s.db.table(h).clear()})).then(function(){return c})):c}var Vt=(Gn.prototype.execute=function(s){var l=this["@@propmod"];if(l.add!==void 0){var c=l.add;if(f(c))return i(i([],f(s)?s:[],!0),c).sort();if(typeof c=="number")return(Number(s)||0)+c;if(typeof c=="bigint")try{return BigInt(s)+c}catch{return BigInt(0)+c}throw new TypeError("Invalid term ".concat(c))}if(l.remove!==void 0){var d=l.remove;if(f(d))return f(s)?s.filter(function(h){return!d.includes(h)}).sort():[];if(typeof d=="number")return Number(s)-d;if(typeof d=="bigint")try{return BigInt(s)-d}catch{return BigInt(0)-d}throw new TypeError("Invalid subtrahend ".concat(d))}return c=(c=l.replacePrefix)===null||c===void 0?void 0:c[0],c&&typeof s=="string"&&s.startsWith(c)?l.replacePrefix[1]+s.substring(c.length):s},Gn);function Gn(s){this["@@propmod"]=s}function Xn(s,l){for(var c=u(l),d=c.length,h=!1,m=0;m<d;++m){var y=c[m],S=l[y],E=J(s,y);S instanceof Vt?(G(s,y,S.execute(E)),h=!0):E!==S&&(G(s,y,S),h=!0)}return h}var ni=(Ue.prototype._trans=function(s,l,c){var d=this._tx||xe.trans,h=this.name,m=en&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(s==="readonly"?"read":"write"," ").concat(this.name));function y(P,M,N){if(!N.schema[h])throw new z.NotFound("Table "+h+" not part of transaction");return l(N.idbtrans,N)}var S=St();try{var E=d&&d.db._novip===this.db._novip?d===xe.trans?d._promise(s,y,c):mn(function(){return d._promise(s,y,c)},{trans:d,transless:xe.transless||xe}):function P(M,N,L,T){if(M.idbdb&&(M._state.openComplete||xe.letThrough||M._vip)){var R=M._createTransaction(N,L,M._dbSchema);try{R.create(),M._state.PR1398_maxLoop=3}catch(O){return O.name===ct.InvalidState&&M.isOpen()&&0<--M._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),M.close({disableAutoOpen:!1}),M.open().then(function(){return P(M,N,L,T)})):He(O)}return R._promise(N,function(O,F){return mn(function(){return xe.trans=R,T(O,F,R)})}).then(function(O){if(N==="readwrite")try{R.idbtrans.commit()}catch{}return N==="readonly"?O:R._completion.then(function(){return O})})}if(M._state.openComplete)return He(new z.DatabaseClosed(M._state.dbOpenError));if(!M._state.isBeingOpened){if(!M._state.autoOpen)return He(new z.DatabaseClosed);M.open().catch(me)}return M._state.dbReadyPromise.then(function(){return P(M,N,L,T)})}(this.db,s,[this.name],y);return m&&(E._consoleTask=m,E=E.catch(function(P){return console.trace(P),He(P)})),E}finally{S&&Ht()}},Ue.prototype.get=function(s,l){var c=this;return s&&s.constructor===Object?this.where(s).first(l):s==null?He(new z.Type("Invalid argument to Table.get()")):this._trans("readonly",function(d){return c.core.get({trans:d,key:s}).then(function(h){return c.hook.reading.fire(h)})}).then(l)},Ue.prototype.where=function(s){if(typeof s=="string")return new this.db.WhereClause(this,s);if(f(s))return new this.db.WhereClause(this,"[".concat(s.join("+"),"]"));var l=u(s);if(l.length===1)return this.where(l[0]).equals(s[l[0]]);var c=this.schema.indexes.concat(this.schema.primKey).filter(function(S){if(S.compound&&l.every(function(P){return 0<=S.keyPath.indexOf(P)})){for(var E=0;E<l.length;++E)if(l.indexOf(S.keyPath[E])===-1)return!1;return!0}return!1}).sort(function(S,E){return S.keyPath.length-E.keyPath.length})[0];if(c&&this.db._maxKey!==gn){var m=c.keyPath.slice(0,l.length);return this.where(m).equals(m.map(function(E){return s[E]}))}!c&&en&&console.warn("The query ".concat(JSON.stringify(s)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(l.join("+"),"]"));var d=this.schema.idxByName;function h(S,E){return Oe(S,E)===0}var y=l.reduce(function(N,E){var P=N[0],M=N[1],N=d[E],L=s[E];return[P||N,P||!N?At(M,N&&N.multi?function(T){return T=J(T,E),f(T)&&T.some(function(R){return h(L,R)})}:function(T){return h(L,J(T,E))}):M]},[null,null]),m=y[0],y=y[1];return m?this.where(m.name).equals(s[m.keyPath]).filter(y):c?this.filter(y):this.where(l).equals("")},Ue.prototype.filter=function(s){return this.toCollection().and(s)},Ue.prototype.count=function(s){return this.toCollection().count(s)},Ue.prototype.offset=function(s){return this.toCollection().offset(s)},Ue.prototype.limit=function(s){return this.toCollection().limit(s)},Ue.prototype.each=function(s){return this.toCollection().each(s)},Ue.prototype.toArray=function(s){return this.toCollection().toArray(s)},Ue.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Ue.prototype.orderBy=function(s){return new this.db.Collection(new this.db.WhereClause(this,f(s)?"[".concat(s.join("+"),"]"):s))},Ue.prototype.reverse=function(){return this.toCollection().reverse()},Ue.prototype.mapToClass=function(s){var l,c=this.db,d=this.name;function h(){return l!==null&&l.apply(this,arguments)||this}(this.schema.mappedClass=s).prototype instanceof br&&(function(E,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function M(){this.constructor=E}n(E,P),E.prototype=P===null?Object.create(P):(M.prototype=P.prototype,new M)}(h,l=s),Object.defineProperty(h.prototype,"db",{get:function(){return c},enumerable:!1,configurable:!0}),h.prototype.table=function(){return d},s=h);for(var m=new Set,y=s.prototype;y;y=g(y))Object.getOwnPropertyNames(y).forEach(function(E){return m.add(E)});function S(E){if(!E)return E;var P,M=Object.create(s.prototype);for(P in E)if(!m.has(P))try{M[P]=E[P]}catch{}return M}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=S,this.hook("reading",S),s},Ue.prototype.defineClass=function(){return this.mapToClass(function(s){p(this,s)})},Ue.prototype.add=function(s,l){var c=this,d=this.schema.primKey,h=d.auto,m=d.keyPath,y=s;return m&&h&&(y=On(m)(s)),this._trans("readwrite",function(S){return c.core.mutate({trans:S,type:"add",keys:l!=null?[l]:null,values:[y]})}).then(function(S){return S.numFailures?de.reject(S.failures[0]):S.lastResult}).then(function(S){if(m)try{G(s,m,S)}catch{}return S})},Ue.prototype.upsert=function(s,l){var c=this,d=this.schema.primKey.keyPath;return this._trans("readwrite",function(h){return c.core.get({trans:h,key:s}).then(function(m){var y=m??{};return Xn(y,l),d&&G(y,d,s),c.core.mutate({trans:h,type:"put",values:[y],keys:[s],upsert:!0,updates:{keys:[s],changeSpecs:[l]}}).then(function(S){return S.numFailures?de.reject(S.failures[0]):!!m})})})},Ue.prototype.update=function(s,l){return typeof s!="object"||f(s)?this.where(":id").equals(s).modify(l):(s=J(s,this.schema.primKey.keyPath),s===void 0?He(new z.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(s).modify(l))},Ue.prototype.put=function(s,l){var c=this,d=this.schema.primKey,h=d.auto,m=d.keyPath,y=s;return m&&h&&(y=On(m)(s)),this._trans("readwrite",function(S){return c.core.mutate({trans:S,type:"put",values:[y],keys:l!=null?[l]:null})}).then(function(S){return S.numFailures?de.reject(S.failures[0]):S.lastResult}).then(function(S){if(m)try{G(s,m,S)}catch{}return S})},Ue.prototype.delete=function(s){var l=this;return this._trans("readwrite",function(c){return l.core.mutate({trans:c,type:"delete",keys:[s]}).then(function(d){return Mi(l,[s],d)}).then(function(d){return d.numFailures?de.reject(d.failures[0]):void 0})})},Ue.prototype.clear=function(){var s=this;return this._trans("readwrite",function(l){return s.core.mutate({trans:l,type:"deleteRange",range:wr}).then(function(c){return Mi(s,null,c)})}).then(function(l){return l.numFailures?de.reject(l.failures[0]):void 0})},Ue.prototype.bulkGet=function(s){var l=this;return this._trans("readonly",function(c){return l.core.getMany({keys:s,trans:c}).then(function(d){return d.map(function(h){return l.hook.reading.fire(h)})})})},Ue.prototype.bulkAdd=function(s,l,c){var d=this,h=Array.isArray(l)?l:void 0,m=(c=c||(h?void 0:l))?c.allKeys:void 0;return this._trans("readwrite",function(y){var P=d.schema.primKey,S=P.auto,P=P.keyPath;if(P&&h)throw new z.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(h&&h.length!==s.length)throw new z.InvalidArgument("Arguments objects and keys must have the same length");var E=s.length,P=P&&S?s.map(On(P)):s;return d.core.mutate({trans:y,type:"add",keys:h,values:P,wantResults:m}).then(function(R){var N=R.numFailures,L=R.results,T=R.lastResult,R=R.failures;if(N===0)return m?L:T;throw new Ge("".concat(d.name,".bulkAdd(): ").concat(N," of ").concat(E," operations failed"),R)})})},Ue.prototype.bulkPut=function(s,l,c){var d=this,h=Array.isArray(l)?l:void 0,m=(c=c||(h?void 0:l))?c.allKeys:void 0;return this._trans("readwrite",function(y){var P=d.schema.primKey,S=P.auto,P=P.keyPath;if(P&&h)throw new z.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(h&&h.length!==s.length)throw new z.InvalidArgument("Arguments objects and keys must have the same length");var E=s.length,P=P&&S?s.map(On(P)):s;return d.core.mutate({trans:y,type:"put",keys:h,values:P,wantResults:m}).then(function(R){var N=R.numFailures,L=R.results,T=R.lastResult,R=R.failures;if(N===0)return m?L:T;throw new Ge("".concat(d.name,".bulkPut(): ").concat(N," of ").concat(E," operations failed"),R)})})},Ue.prototype.bulkUpdate=function(s){var l=this,c=this.core,d=s.map(function(y){return y.key}),h=s.map(function(y){return y.changes}),m=[];return this._trans("readwrite",function(y){return c.getMany({trans:y,keys:d,cache:"clone"}).then(function(S){var E=[],P=[];s.forEach(function(N,L){var T=N.key,R=N.changes,O=S[L];if(O){for(var F=0,I=Object.keys(R);F<I.length;F++){var $=I[F],H=R[$];if($===l.schema.primKey.keyPath){if(Oe(H,T)!==0)throw new z.Constraint("Cannot update primary key in bulkUpdate()")}else G(O,$,H)}m.push(L),E.push(T),P.push(O)}});var M=E.length;return c.mutate({trans:y,type:"put",keys:E,values:P,updates:{keys:d,changeSpecs:h}}).then(function(N){var L=N.numFailures,T=N.failures;if(L===0)return M;for(var R=0,O=Object.keys(T);R<O.length;R++){var F,I=O[R],$=m[Number(I)];$!=null&&(F=T[I],delete T[I],T[$]=F)}throw new Ge("".concat(l.name,".bulkUpdate(): ").concat(L," of ").concat(M," operations failed"),T)})})})},Ue.prototype.bulkDelete=function(s){var l=this,c=s.length;return this._trans("readwrite",function(d){return l.core.mutate({trans:d,type:"delete",keys:s}).then(function(h){return Mi(l,s,h)})}).then(function(y){var h=y.numFailures,m=y.lastResult,y=y.failures;if(h===0)return m;throw new Ge("".concat(l.name,".bulkDelete(): ").concat(h," of ").concat(c," operations failed"),y)})},Ue);function Ue(){}function Mn(s){function l(y,S){if(S){for(var E=arguments.length,P=new Array(E-1);--E;)P[E-1]=arguments[E];return c[y].subscribe.apply(null,P),s}if(typeof y=="string")return c[y]}var c={};l.addEventType=m;for(var d=1,h=arguments.length;d<h;++d)m(arguments[d]);return l;function m(y,S,E){if(typeof y!="object"){var P;S=S||_i;var M={subscribers:[],fire:E=E||me,subscribe:function(N){M.subscribers.indexOf(N)===-1&&(M.subscribers.push(N),M.fire=S(M.fire,N))},unsubscribe:function(N){M.subscribers=M.subscribers.filter(function(L){return L!==N}),M.fire=M.subscribers.reduce(S,E)}};return c[y]=l[y]=M}u(P=y).forEach(function(N){var L=P[N];if(f(L))m(N,P[N][0],P[N][1]);else{if(L!=="asap")throw new z.InvalidArgument("Invalid event config");var T=m(N,Le,function(){for(var R=arguments.length,O=new Array(R);R--;)O[R]=arguments[R];T.subscribers.forEach(function(F){Z(function(){F.apply(null,O)})})})}})}}function Sr(s,l){return V(l).from({prototype:s}),l}function kr(s,l){return!(s.filter||s.algorithm||s.or)&&(l?s.justLimit:!s.replayFilter)}function Fn(s,l){s.filter=At(s.filter,l)}function zt(s,l,c){var d=s.replayFilter;s.replayFilter=d?function(){return At(d(),l())}:l,s.justLimit=c&&!d}function Tt(s,l){if(s.isPrimKey)return l.primaryKey;var c=l.getIndexByKeyPath(s.index);if(!c)throw new z.Schema("KeyPath "+s.index+" on object store "+l.name+" is not indexed");return c}function Es(s,l,c){var d=Tt(s,l.schema);return l.openCursor({trans:c,values:!s.keysOnly,reverse:s.dir==="prev",unique:!!s.unique,query:{index:d,range:s.range}})}function Ln(s,l,c,d){var h=s.replayFilter?At(s.filter,s.replayFilter()):s.filter;if(s.or){var m={},y=function(S,E,P){var M,N;h&&!h(E,P,function(L){return E.stop(L)},function(L){return E.fail(L)})||((N=""+(M=E.primaryKey))=="[object ArrayBuffer]"&&(N=""+new Uint8Array(M)),b(m,N)||(m[N]=!0,l(S,E,P)))};return Promise.all([s.or._iterate(y,c),Fi(Es(s,d,c),s.algorithm,y,!s.keysOnly&&s.valueMapper)])}return Fi(Es(s,d,c),At(s.algorithm,h),l,!s.keysOnly&&s.valueMapper)}function Fi(s,l,c,d){var h=Ke(d?function(m,y,S){return c(d(m),y,S)}:c);return s.then(function(m){if(m)return m.start(function(){var y=function(){return m.continue()};l&&!l(m,function(S){return y=S},function(S){m.stop(S),y=me},function(S){m.fail(S),y=me})||h(m.value,m,function(S){return y=S}),y()})})}var v=(A.prototype._read=function(s,l){var c=this._ctx;return c.error?c.table._trans(null,He.bind(null,c.error)):c.table._trans("readonly",s).then(l)},A.prototype._write=function(s){var l=this._ctx;return l.error?l.table._trans(null,He.bind(null,l.error)):l.table._trans("readwrite",s,"locked")},A.prototype._addAlgorithm=function(s){var l=this._ctx;l.algorithm=At(l.algorithm,s)},A.prototype._iterate=function(s,l){return Ln(this._ctx,s,l,this._ctx.table.core)},A.prototype.clone=function(s){var l=Object.create(this.constructor.prototype),c=Object.create(this._ctx);return s&&p(c,s),l._ctx=c,l},A.prototype.raw=function(){return this._ctx.valueMapper=null,this},A.prototype.each=function(s){var l=this._ctx;return this._read(function(c){return Ln(l,s,c,l.table.core)})},A.prototype.count=function(s){var l=this;return this._read(function(c){var d=l._ctx,h=d.table.core;if(kr(d,!0))return h.count({trans:c,query:{index:Tt(d,h.schema),range:d.range}}).then(function(y){return Math.min(y,d.limit)});var m=0;return Ln(d,function(){return++m,!1},c,h).then(function(){return m})}).then(s)},A.prototype.sortBy=function(s,l){var c=s.split(".").reverse(),d=c[0],h=c.length-1;function m(E,P){return P?m(E[c[P]],P-1):E[d]}var y=this._ctx.dir==="next"?1:-1;function S(E,P){return Oe(m(E,h),m(P,h))*y}return this.toArray(function(E){return E.sort(S)}).then(l)},A.prototype.toArray=function(s){var l=this;return this._read(function(c){var d=l._ctx;if(d.dir==="next"&&kr(d,!0)&&0<d.limit){var h=d.valueMapper,m=Tt(d,d.table.core.schema);return d.table.core.query({trans:c,limit:d.limit,values:!0,query:{index:m,range:d.range}}).then(function(S){return S=S.result,h?S.map(h):S})}var y=[];return Ln(d,function(S){return y.push(S)},c,d.table.core).then(function(){return y})},s)},A.prototype.offset=function(s){var l=this._ctx;return s<=0||(l.offset+=s,kr(l)?zt(l,function(){var c=s;return function(d,h){return c===0||(c===1?--c:h(function(){d.advance(c),c=0}),!1)}}):zt(l,function(){var c=s;return function(){return--c<0}})),this},A.prototype.limit=function(s){return this._ctx.limit=Math.min(this._ctx.limit,s),zt(this._ctx,function(){var l=s;return function(c,d,h){return--l<=0&&d(h),0<=l}},!0),this},A.prototype.until=function(s,l){return Fn(this._ctx,function(c,d,h){return!s(c.value)||(d(h),l)}),this},A.prototype.first=function(s){return this.limit(1).toArray(function(l){return l[0]}).then(s)},A.prototype.last=function(s){return this.reverse().first(s)},A.prototype.filter=function(s){var l;return Fn(this._ctx,function(c){return s(c.value)}),(l=this._ctx).isMatch=At(l.isMatch,s),this},A.prototype.and=function(s){return this.filter(s)},A.prototype.or=function(s){return new this.db.WhereClause(this._ctx.table,s,this)},A.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},A.prototype.desc=function(){return this.reverse()},A.prototype.eachKey=function(s){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(c,d){s(d.key,d)})},A.prototype.eachUniqueKey=function(s){return this._ctx.unique="unique",this.eachKey(s)},A.prototype.eachPrimaryKey=function(s){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(c,d){s(d.primaryKey,d)})},A.prototype.keys=function(s){var l=this._ctx;l.keysOnly=!l.isMatch;var c=[];return this.each(function(d,h){c.push(h.key)}).then(function(){return c}).then(s)},A.prototype.primaryKeys=function(s){var l=this._ctx;if(l.dir==="next"&&kr(l,!0)&&0<l.limit)return this._read(function(d){var h=Tt(l,l.table.core.schema);return l.table.core.query({trans:d,values:!1,limit:l.limit,query:{index:h,range:l.range}})}).then(function(d){return d.result}).then(s);l.keysOnly=!l.isMatch;var c=[];return this.each(function(d,h){c.push(h.primaryKey)}).then(function(){return c}).then(s)},A.prototype.uniqueKeys=function(s){return this._ctx.unique="unique",this.keys(s)},A.prototype.firstKey=function(s){return this.limit(1).keys(function(l){return l[0]}).then(s)},A.prototype.lastKey=function(s){return this.reverse().firstKey(s)},A.prototype.distinct=function(){var s=this._ctx,s=s.index&&s.table.schema.idxByName[s.index];if(!s||!s.multi)return this;var l={};return Fn(this._ctx,function(h){var d=h.primaryKey.toString(),h=b(l,d);return l[d]=!0,!h}),this},A.prototype.modify=function(s){var l=this,c=this._ctx;return this._write(function(d){var h=typeof s=="function"?s:function(O){return Xn(O,s)},m=c.table.core,P=m.schema.primaryKey,y=P.outbound,S=P.extractKey,E=200,P=l.db._options.modifyChunkSize;P&&(E=typeof P=="object"?P[m.name]||P["*"]||200:P);function M(O,$){var I=$.failures,$=$.numFailures;L+=O-$;for(var H=0,Q=u(I);H<Q.length;H++){var re=Q[H];N.push(I[re])}}var N=[],L=0,T=[],R=s===U;return l.clone().primaryKeys().then(function(O){function F($){var H=Math.min(E,O.length-$),Q=O.slice($,$+H);return(R?Promise.resolve([]):m.getMany({trans:d,keys:Q,cache:"immutable"})).then(function(re){var ue=[],te=[],oe=y?[]:null,ce=R?Q:[];if(!R)for(var le=0;le<H;++le){var ye=re[le],Pe={value:Y(ye),primKey:O[$+le]};h.call(Pe,Pe.value,Pe)!==!1&&(Pe.value==null?ce.push(O[$+le]):y||Oe(S(ye),S(Pe.value))===0?(te.push(Pe.value),y&&oe.push(O[$+le])):(ce.push(O[$+le]),ue.push(Pe.value)))}return Promise.resolve(0<ue.length&&m.mutate({trans:d,type:"add",values:ue}).then(function(Re){for(var Me in Re.failures)ce.splice(parseInt(Me),1);M(ue.length,Re)})).then(function(){return(0<te.length||I&&typeof s=="object")&&m.mutate({trans:d,type:"put",keys:oe,values:te,criteria:I,changeSpec:typeof s!="function"&&s,isAdditionalChunk:0<$}).then(function(Re){return M(te.length,Re)})}).then(function(){return(0<ce.length||I&&R)&&m.mutate({trans:d,type:"delete",keys:ce,criteria:I,isAdditionalChunk:0<$}).then(function(Re){return Mi(c.table,ce,Re)}).then(function(Re){return M(ce.length,Re)})}).then(function(){return O.length>$+H&&F($+E)})})}var I=kr(c)&&c.limit===1/0&&(typeof s!="function"||R)&&{index:c.index,range:c.range};return F(0).then(function(){if(0<N.length)throw new gt("Error modifying one or more objects",N,L,T);return O.length})})})},A.prototype.delete=function(){var s=this._ctx,l=s.range;return!kr(s)||s.table.schema.yProps||!s.isPrimKey&&l.type!==3?this.modify(U):this._write(function(c){var d=s.table.core.schema.primaryKey,h=l;return s.table.core.count({trans:c,query:{index:d,range:h}}).then(function(m){return s.table.core.mutate({trans:c,type:"deleteRange",range:h}).then(function(E){var S=E.failures,E=E.numFailures;if(E)throw new gt("Could not delete some values",Object.keys(S).map(function(P){return S[P]}),m-E);return m-E})})})},A);function A(){}var U=function(s,l){return l.value=null};function he(s,l){return s<l?-1:s===l?0:1}function Se(s,l){return l<s?-1:s===l?0:1}function ve(s,l,c){return s=s instanceof Od?new s.Collection(s):s,s._ctx.error=new(c||TypeError)(l),s}function Te(s){return new s.Collection(s,function(){return Rd("")}).limit(0)}function ri(s,l,c,d){var h,m,y,S,E,P,M,N=c.length;if(!c.every(function(R){return typeof R=="string"}))return ve(s,Lo);function L(R){h=R==="next"?function(F){return F.toUpperCase()}:function(F){return F.toLowerCase()},m=R==="next"?function(F){return F.toLowerCase()}:function(F){return F.toUpperCase()},y=R==="next"?he:Se;var O=c.map(function(F){return{lower:m(F),upper:h(F)}}).sort(function(F,I){return y(F.lower,I.lower)});S=O.map(function(F){return F.upper}),E=O.map(function(F){return F.lower}),M=(P=R)==="next"?"":d}L("next"),s=new s.Collection(s,function(){return jr(S[0],E[N-1]+d)}),s._ondirectionchange=function(R){L(R)};var T=0;return s._addAlgorithm(function(R,O,F){var I=R.key;if(typeof I!="string")return!1;var $=m(I);if(l($,E,T))return!0;for(var H=null,Q=T;Q<N;++Q){var re=function(ue,te,oe,ce,le,ye){for(var Pe=Math.min(ue.length,ce.length),Re=-1,Me=0;Me<Pe;++Me){var qt=te[Me];if(qt!==ce[Me])return le(ue[Me],oe[Me])<0?ue.substr(0,Me)+oe[Me]+oe.substr(Me+1):le(ue[Me],ce[Me])<0?ue.substr(0,Me)+ce[Me]+oe.substr(Me+1):0<=Re?ue.substr(0,Re)+te[Re]+oe.substr(Re+1):null;le(ue[Me],qt)<0&&(Re=Me)}return Pe<ce.length&&ye==="next"?ue+oe.substr(ue.length):Pe<ue.length&&ye==="prev"?ue.substr(0,oe.length):Re<0?null:ue.substr(0,Re)+ce[Re]+oe.substr(Re+1)}(I,$,S[Q],E[Q],y,P);re===null&&H===null?T=Q+1:(H===null||0<y(H,re))&&(H=re)}return O(H!==null?function(){R.continue(H+M)}:F),!1}),s}function jr(s,l,c,d){return{type:2,lower:s,upper:l,lowerOpen:c,upperOpen:d}}function Rd(s){return{type:1,lower:s,upper:s}}var Od=(Object.defineProperty(pt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),pt.prototype.between=function(s,l,c,d){c=c!==!1,d=d===!0;try{return 0<this._cmp(s,l)||this._cmp(s,l)===0&&(c||d)&&(!c||!d)?Te(this):new this.Collection(this,function(){return jr(s,l,!c,!d)})}catch{return ve(this,vn)}},pt.prototype.equals=function(s){return s==null?ve(this,vn):new this.Collection(this,function(){return Rd(s)})},pt.prototype.above=function(s){return s==null?ve(this,vn):new this.Collection(this,function(){return jr(s,void 0,!0)})},pt.prototype.aboveOrEqual=function(s){return s==null?ve(this,vn):new this.Collection(this,function(){return jr(s,void 0,!1)})},pt.prototype.below=function(s){return s==null?ve(this,vn):new this.Collection(this,function(){return jr(void 0,s,!1,!0)})},pt.prototype.belowOrEqual=function(s){return s==null?ve(this,vn):new this.Collection(this,function(){return jr(void 0,s)})},pt.prototype.startsWith=function(s){return typeof s!="string"?ve(this,Lo):this.between(s,s+gn,!0,!0)},pt.prototype.startsWithIgnoreCase=function(s){return s===""?this.startsWith(s):ri(this,function(l,c){return l.indexOf(c[0])===0},[s],gn)},pt.prototype.equalsIgnoreCase=function(s){return ri(this,function(l,c){return l===c[0]},[s],"")},pt.prototype.anyOfIgnoreCase=function(){var s=pe.apply(se,arguments);return s.length===0?Te(this):ri(this,function(l,c){return c.indexOf(l)!==-1},s,"")},pt.prototype.startsWithAnyOfIgnoreCase=function(){var s=pe.apply(se,arguments);return s.length===0?Te(this):ri(this,function(l,c){return c.some(function(d){return l.indexOf(d)===0})},s,gn)},pt.prototype.anyOf=function(){var s=this,l=pe.apply(se,arguments),c=this._cmp;try{l.sort(c)}catch{return ve(this,vn)}if(l.length===0)return Te(this);var d=new this.Collection(this,function(){return jr(l[0],l[l.length-1])});d._ondirectionchange=function(m){c=m==="next"?s._ascending:s._descending,l.sort(c)};var h=0;return d._addAlgorithm(function(m,y,S){for(var E=m.key;0<c(E,l[h]);)if(++h===l.length)return y(S),!1;return c(E,l[h])===0||(y(function(){m.continue(l[h])}),!1)}),d},pt.prototype.notEqual=function(s){return this.inAnyRange([[-1/0,s],[s,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},pt.prototype.noneOf=function(){var s=pe.apply(se,arguments);if(s.length===0)return new this.Collection(this);try{s.sort(this._ascending)}catch{return ve(this,vn)}var l=s.reduce(function(c,d){return c?c.concat([[c[c.length-1][1],d]]):[[-1/0,d]]},null);return l.push([s[s.length-1],this.db._maxKey]),this.inAnyRange(l,{includeLowers:!1,includeUppers:!1})},pt.prototype.inAnyRange=function(I,l){var c=this,d=this._cmp,h=this._ascending,m=this._descending,y=this._min,S=this._max;if(I.length===0)return Te(this);if(!I.every(function($){return $[0]!==void 0&&$[1]!==void 0&&h($[0],$[1])<=0}))return ve(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",z.InvalidArgument);var E=!l||l.includeLowers!==!1,P=l&&l.includeUppers===!0,M,N=h;function L($,H){return N($[0],H[0])}try{(M=I.reduce(function($,H){for(var Q=0,re=$.length;Q<re;++Q){var ue=$[Q];if(d(H[0],ue[1])<0&&0<d(H[1],ue[0])){ue[0]=y(ue[0],H[0]),ue[1]=S(ue[1],H[1]);break}}return Q===re&&$.push(H),$},[])).sort(L)}catch{return ve(this,vn)}var T=0,R=P?function($){return 0<h($,M[T][1])}:function($){return 0<=h($,M[T][1])},O=E?function($){return 0<m($,M[T][0])}:function($){return 0<=m($,M[T][0])},F=R,I=new this.Collection(this,function(){return jr(M[0][0],M[M.length-1][1],!E,!P)});return I._ondirectionchange=function($){N=$==="next"?(F=R,h):(F=O,m),M.sort(L)},I._addAlgorithm(function($,H,Q){for(var re,ue=$.key;F(ue);)if(++T===M.length)return H(Q),!1;return!R(re=ue)&&!O(re)||(c._cmp(ue,M[T][1])===0||c._cmp(ue,M[T][0])===0||H(function(){N===h?$.continue(M[T][0]):$.continue(M[T][1])}),!1)}),I},pt.prototype.startsWithAnyOf=function(){var s=pe.apply(se,arguments);return s.every(function(l){return typeof l=="string"})?s.length===0?Te(this):this.inAnyRange(s.map(function(l){return[l,l+gn]})):ve(this,"startsWithAnyOf() only works with strings")},pt);function pt(){}function In(s){return Ke(function(l){return _s(l),s(l.target.error),!1})}function _s(s){s.stopPropagation&&s.stopPropagation(),s.preventDefault&&s.preventDefault()}var Ps="storagemutated",ja="x-storagemutated-1",Nr=Mn(null,Ps),Ey=(An.prototype._lock=function(){return B(!xe.global),++this._reculock,this._reculock!==1||xe.global||(xe.lockOwnerFor=this),this},An.prototype._unlock=function(){if(B(!xe.global),--this._reculock==0)for(xe.global||(xe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var s=this._blockedFuncs.shift();try{qn(s[1],s[0])}catch{}}return this},An.prototype._locked=function(){return this._reculock&&xe.lockOwnerFor!==this},An.prototype.create=function(s){var l=this;if(!this.mode)return this;var c=this.db.idbdb,d=this.db._state.dbOpenError;if(B(!this.idbtrans),!s&&!c)switch(d&&d.name){case"DatabaseClosedError":throw new z.DatabaseClosed(d);case"MissingAPIError":throw new z.MissingAPI(d.message,d);default:throw new z.OpenFailed(d)}if(!this.active)throw new z.TransactionInactive;return B(this._completion._state===null),(s=this.idbtrans=s||(this.db.core||c).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ke(function(h){_s(h),l._reject(s.error)}),s.onabort=Ke(function(h){_s(h),l.active&&l._reject(new z.Abort(s.error)),l.active=!1,l.on("abort").fire(h)}),s.oncomplete=Ke(function(){l.active=!1,l._resolve(),"mutatedParts"in s&&Nr.storagemutated.fire(s.mutatedParts)}),this},An.prototype._promise=function(s,l,c){var d=this;if(s==="readwrite"&&this.mode!=="readwrite")return He(new z.ReadOnly("Transaction is readonly"));if(!this.active)return He(new z.TransactionInactive);if(this._locked())return new de(function(m,y){d._blockedFuncs.push([function(){d._promise(s,l,c).then(m,y)},xe])});if(c)return mn(function(){var m=new de(function(y,S){d._lock();var E=l(y,S,d);E&&E.then&&E.then(y,S)});return m.finally(function(){return d._unlock()}),m._lib=!0,m});var h=new de(function(m,y){var S=l(m,y,d);S&&S.then&&S.then(m,y)});return h._lib=!0,h},An.prototype._root=function(){return this.parent?this.parent._root():this},An.prototype.waitFor=function(s){var l,c=this._root(),d=de.resolve(s);c._waitingFor?c._waitingFor=c._waitingFor.then(function(){return d}):(c._waitingFor=d,c._waitingQueue=[],l=c.idbtrans.objectStore(c.storeNames[0]),function m(){for(++c._spinCount;c._waitingQueue.length;)c._waitingQueue.shift()();c._waitingFor&&(l.get(-1/0).onsuccess=m)}());var h=c._waitingFor;return new de(function(m,y){d.then(function(S){return c._waitingQueue.push(Ke(m.bind(null,S)))},function(S){return c._waitingQueue.push(Ke(y.bind(null,S)))}).finally(function(){c._waitingFor===h&&(c._waitingFor=null)})})},An.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new z.Abort))},An.prototype.table=function(s){var l=this._memoizedTables||(this._memoizedTables={});if(b(l,s))return l[s];var c=this.schema[s];if(!c)throw new z.NotFound("Table "+s+" not part of transaction");return c=new this.db.Table(s,c,this),c.core=this.db.core.table(s),l[s]=c},An);function An(){}function Na(s,l,c,d,h,m,y,S){return{name:s,keyPath:l,unique:c,multi:d,auto:h,compound:m,src:(c&&!y?"&":"")+(d?"*":"")+(h?"++":"")+Md(l),type:S}}function Md(s){return typeof s=="string"?s:s?"["+[].join.call(s,"+")+"]":""}function Ca(s,l,c){return{name:s,primKey:l,indexes:c,mappedClass:null,idxByName:(d=function(h){return[h.name,h]},c.reduce(function(h,m,y){return y=d(m,y),y&&(h[y[0]]=y[1]),h},{}))};var d}var Ts=function(s){try{return s.only([[]]),Ts=function(){return[[]]},[[]]}catch{return Ts=function(){return gn},gn}};function Ea(s){return s==null?function(){}:typeof s=="string"?(l=s).split(".").length===1?function(c){return c[l]}:function(c){return J(c,l)}:function(c){return J(c,s)};var l}function Fd(s){return[].slice.call(s)}var _y=0;function Rs(s){return s==null?":id":typeof s=="string"?s:"[".concat(s.join("+"),"]")}function Py(s,l,E){function d(F){if(F.type===3)return null;if(F.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var T=F.lower,R=F.upper,O=F.lowerOpen,F=F.upperOpen;return T===void 0?R===void 0?null:l.upperBound(R,!!F):R===void 0?l.lowerBound(T,!!O):l.bound(T,R,!!O,!!F)}function h(L){var T,R=L.name;return{name:R,schema:L,mutate:function(O){var F=O.trans,I=O.type,$=O.keys,H=O.values,Q=O.range;return new Promise(function(re,ue){re=Ke(re);var te=F.objectStore(R),oe=te.keyPath==null,ce=I==="put"||I==="add";if(!ce&&I!=="delete"&&I!=="deleteRange")throw new Error("Invalid operation type: "+I);var le,ye=($||H||{length:1}).length;if($&&H&&$.length!==H.length)throw new Error("Given keys array must have same length as given values array.");if(ye===0)return re({numFailures:0,failures:{},results:[],lastResult:void 0});function Pe(Rt){++qt,_s(Rt)}var Re=[],Me=[],qt=0;if(I==="deleteRange"){if(Q.type===4)return re({numFailures:qt,failures:Me,results:[],lastResult:void 0});Q.type===3?Re.push(le=te.clear()):Re.push(le=te.delete(d(Q)))}else{var oe=ce?oe?[H,$]:[H,null]:[$,null],_e=oe[0],jt=oe[1];if(ce)for(var Nt=0;Nt<ye;++Nt)Re.push(le=jt&&jt[Nt]!==void 0?te[I](_e[Nt],jt[Nt]):te[I](_e[Nt])),le.onerror=Pe;else for(Nt=0;Nt<ye;++Nt)Re.push(le=te[I](_e[Nt])),le.onerror=Pe}function Qo(Rt){Rt=Rt.target.result,Re.forEach(function(oi,Ha){return oi.error!=null&&(Me[Ha]=oi.error)}),re({numFailures:qt,failures:Me,results:I==="delete"?$:Re.map(function(oi){return oi.result}),lastResult:Rt})}le.onerror=function(Rt){Pe(Rt),Qo(Rt)},le.onsuccess=Qo})},getMany:function(O){var F=O.trans,I=O.keys;return new Promise(function($,H){$=Ke($);for(var Q,re=F.objectStore(R),ue=I.length,te=new Array(ue),oe=0,ce=0,le=function(Re){Re=Re.target,te[Re._pos]=Re.result,++ce===oe&&$(te)},ye=In(H),Pe=0;Pe<ue;++Pe)I[Pe]!=null&&((Q=re.get(I[Pe]))._pos=Pe,Q.onsuccess=le,Q.onerror=ye,++oe);oe===0&&$(te)})},get:function(O){var F=O.trans,I=O.key;return new Promise(function($,H){$=Ke($);var Q=F.objectStore(R).get(I);Q.onsuccess=function(re){return $(re.target.result)},Q.onerror=In(H)})},query:(T=P,function(O){return new Promise(function(F,I){F=Ke(F);var $,H,Q,oe=O.trans,re=O.values,ue=O.limit,le=O.query,te=ue===1/0?void 0:ue,ce=le.index,le=le.range,oe=oe.objectStore(R),ce=ce.isPrimaryKey?oe:oe.index(ce.name),le=d(le);if(ue===0)return F({result:[]});T?((te=re?ce.getAll(le,te):ce.getAllKeys(le,te)).onsuccess=function(ye){return F({result:ye.target.result})},te.onerror=In(I)):($=0,H=!re&&"openKeyCursor"in ce?ce.openKeyCursor(le):ce.openCursor(le),Q=[],H.onsuccess=function(ye){var Pe=H.result;return Pe?(Q.push(re?Pe.value:Pe.primaryKey),++$===ue?F({result:Q}):void Pe.continue()):F({result:Q})},H.onerror=In(I))})}),openCursor:function(O){var F=O.trans,I=O.values,$=O.query,H=O.reverse,Q=O.unique;return new Promise(function(re,ue){re=Ke(re);var ce=$.index,te=$.range,oe=F.objectStore(R),oe=ce.isPrimaryKey?oe:oe.index(ce.name),ce=H?Q?"prevunique":"prev":Q?"nextunique":"next",le=!I&&"openKeyCursor"in oe?oe.openKeyCursor(d(te),ce):oe.openCursor(d(te),ce);le.onerror=In(ue),le.onsuccess=Ke(function(ye){var Pe,Re,Me,qt,_e=le.result;_e?(_e.___id=++_y,_e.done=!1,Pe=_e.continue.bind(_e),Re=(Re=_e.continuePrimaryKey)&&Re.bind(_e),Me=_e.advance.bind(_e),qt=function(){throw new Error("Cursor not stopped")},_e.trans=F,_e.stop=_e.continue=_e.continuePrimaryKey=_e.advance=function(){throw new Error("Cursor not started")},_e.fail=Ke(ue),_e.next=function(){var jt=this,Nt=1;return this.start(function(){return Nt--?jt.continue():jt.stop()}).then(function(){return jt})},_e.start=function(jt){function Nt(){if(le.result)try{jt()}catch(Rt){_e.fail(Rt)}else _e.done=!0,_e.start=function(){throw new Error("Cursor behind last entry")},_e.stop()}var Qo=new Promise(function(Rt,oi){Rt=Ke(Rt),le.onerror=In(oi),_e.fail=oi,_e.stop=function(Ha){_e.stop=_e.continue=_e.continuePrimaryKey=_e.advance=qt,Rt(Ha)}});return le.onsuccess=Ke(function(Rt){le.onsuccess=Nt,Nt()}),_e.continue=Pe,_e.continuePrimaryKey=Re,_e.advance=Me,Nt(),Qo},re(_e)):re(null)},ue)})},count:function(O){var F=O.query,I=O.trans,$=F.index,H=F.range;return new Promise(function(Q,re){var ue=I.objectStore(R),te=$.isPrimaryKey?ue:ue.index($.name),ue=d(H),te=ue?te.count(ue):te.count();te.onsuccess=Ke(function(oe){return Q(oe.target.result)}),te.onerror=In(re)})}}}var m,y,S,M=(y=E,S=Fd((m=s).objectStoreNames),{schema:{name:m.name,tables:S.map(function(L){return y.objectStore(L)}).map(function(L){var T=L.keyPath,F=L.autoIncrement,R=f(T),O={},F={name:L.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:T==null,compound:R,keyPath:T,autoIncrement:F,unique:!0,extractKey:Ea(T)},indexes:Fd(L.indexNames).map(function(I){return L.index(I)}).map(function(Q){var $=Q.name,H=Q.unique,re=Q.multiEntry,Q=Q.keyPath,re={name:$,compound:f(Q),keyPath:Q,unique:H,multiEntry:re,extractKey:Ea(Q)};return O[Rs(Q)]=re}),getIndexByKeyPath:function(I){return O[Rs(I)]}};return O[":id"]=F.primaryKey,T!=null&&(O[Rs(T)]=F.primaryKey),F})},hasGetAll:0<S.length&&"getAll"in y.objectStore(S[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),E=M.schema,P=M.hasGetAll,M=E.tables.map(h),N={};return M.forEach(function(L){return N[L.name]=L}),{stack:"dbcore",transaction:s.transaction.bind(s),table:function(L){if(!N[L])throw new Error("Table '".concat(L,"' not found"));return N[L]},MIN_KEY:-1/0,MAX_KEY:Ts(l),schema:E}}function Ty(s,l,c,d){var h=c.IDBKeyRange;return c.indexedDB,{dbcore:(d=Py(l,h,d),s.dbcore.reduce(function(m,y){return y=y.create,r(r({},m),y(m))},d))}}function Ao(s,d){var c=d.db,d=Ty(s._middlewares,c,s._deps,d);s.core=d.dbcore,s.tables.forEach(function(h){var m=h.name;s.core.schema.tables.some(function(y){return y.name===m})&&(h.core=s.core.table(m),s[m]instanceof s.Table&&(s[m].core=h.core))})}function zo(s,l,c,d){c.forEach(function(h){var m=d[h];l.forEach(function(y){var S=function E(P,M){return X(P,M)||(P=g(P))&&E(P,M)}(y,h);(!S||"value"in S&&S.value===void 0)&&(y===s.Transaction.prototype||y instanceof s.Transaction?D(y,h,{get:function(){return this.table(h)},set:function(E){K(this,h,{value:E,writable:!0,configurable:!0,enumerable:!0})}}):y[h]=new s.Table(h,m))})})}function _a(s,l){l.forEach(function(c){for(var d in c)c[d]instanceof s.Table&&delete c[d]})}function Ry(s,l){return s._cfg.version-l._cfg.version}function Oy(s,l,c,d){var h=s._dbSchema;c.objectStoreNames.contains("$meta")&&!h.$meta&&(h.$meta=Ca("$meta",Id("")[0],[]),s._storeNames.push("$meta"));var m=s._createTransaction("readwrite",s._storeNames,h);m.create(c),m._completion.catch(d);var y=m._reject.bind(m),S=xe.transless||xe;mn(function(){return xe.trans=m,xe.transless=S,l!==0?(Ao(s,c),P=l,((E=m).storeNames.includes("$meta")?E.table("$meta").get("version").then(function(M){return M??P}):de.resolve(P)).then(function(M){return L=M,T=m,R=c,O=[],M=(N=s)._versions,F=N._dbSchema=$o(0,N.idbdb,R),(M=M.filter(function(I){return I._cfg.version>=L})).length!==0?(M.forEach(function(I){O.push(function(){var $=F,H=I._cfg.dbschema;Uo(N,$,R),Uo(N,H,R),F=N._dbSchema=H;var Q=Pa($,H);Q.add.forEach(function(ce){Ta(R,ce[0],ce[1].primKey,ce[1].indexes)}),Q.change.forEach(function(ce){if(ce.recreate)throw new z.Upgrade("Not yet support for changing primary key");var le=R.objectStore(ce.name);ce.add.forEach(function(ye){return Do(le,ye)}),ce.change.forEach(function(ye){le.deleteIndex(ye.name),Do(le,ye)}),ce.del.forEach(function(ye){return le.deleteIndex(ye)})});var re=I._cfg.contentUpgrade;if(re&&I._cfg.version>L){Ao(N,R),T._memoizedTables={};var ue=ne(H);Q.del.forEach(function(ce){ue[ce]=$[ce]}),_a(N,[N.Transaction.prototype]),zo(N,[N.Transaction.prototype],u(ue),ue),T.schema=ue;var te,oe=je(re);return oe&&xr(),Q=de.follow(function(){var ce;(te=re(T))&&oe&&(ce=Tn.bind(null,null),te.then(ce,ce))}),te&&typeof te.then=="function"?de.resolve(te):Q.then(function(){return te})}}),O.push(function($){var H,Q,re=I._cfg.dbschema;H=re,Q=$,[].slice.call(Q.db.objectStoreNames).forEach(function(ue){return H[ue]==null&&Q.db.deleteObjectStore(ue)}),_a(N,[N.Transaction.prototype]),zo(N,[N.Transaction.prototype],N._storeNames,N._dbSchema),T.schema=N._dbSchema}),O.push(function($){N.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(N.idbdb.version/10)===I._cfg.version?(N.idbdb.deleteObjectStore("$meta"),delete N._dbSchema.$meta,N._storeNames=N._storeNames.filter(function(H){return H!=="$meta"})):$.objectStore("$meta").put(I._cfg.version,"version"))})}),function I(){return O.length?de.resolve(O.shift()(T.idbtrans)).then(I):de.resolve()}().then(function(){Ld(F,R)})):de.resolve();var N,L,T,R,O,F}).catch(y)):(u(h).forEach(function(M){Ta(c,M,h[M].primKey,h[M].indexes)}),Ao(s,c),void de.follow(function(){return s.on.populate.fire(m)}).catch(y));var E,P})}function My(s,l){Ld(s._dbSchema,l),l.db.version%10!=0||l.objectStoreNames.contains("$meta")||l.db.createObjectStore("$meta").add(Math.ceil(l.db.version/10-1),"version");var c=$o(0,s.idbdb,l);Uo(s,s._dbSchema,l);for(var d=0,h=Pa(c,s._dbSchema).change;d<h.length;d++){var m=function(y){if(y.change.length||y.recreate)return console.warn("Unable to patch indexes of table ".concat(y.name," because it has changes on the type of index or primary key.")),{value:void 0};var S=l.objectStore(y.name);y.add.forEach(function(E){en&&console.debug("Dexie upgrade patch: Creating missing index ".concat(y.name,".").concat(E.src)),Do(S,E)})}(h[d]);if(typeof m=="object")return m.value}}function Pa(s,l){var c,d={del:[],add:[],change:[]};for(c in s)l[c]||d.del.push(c);for(c in l){var h=s[c],m=l[c];if(h){var y={name:c,def:m,recreate:!1,del:[],add:[],change:[]};if(""+(h.primKey.keyPath||"")!=""+(m.primKey.keyPath||"")||h.primKey.auto!==m.primKey.auto)y.recreate=!0,d.change.push(y);else{var S=h.idxByName,E=m.idxByName,P=void 0;for(P in S)E[P]||y.del.push(P);for(P in E){var M=S[P],N=E[P];M?M.src!==N.src&&y.change.push(N):y.add.push(N)}(0<y.del.length||0<y.add.length||0<y.change.length)&&d.change.push(y)}}else d.add.push([c,m])}return d}function Ta(s,l,c,d){var h=s.db.createObjectStore(l,c.keyPath?{keyPath:c.keyPath,autoIncrement:c.auto}:{autoIncrement:c.auto});return d.forEach(function(m){return Do(h,m)}),h}function Ld(s,l){u(s).forEach(function(c){l.db.objectStoreNames.contains(c)||(en&&console.debug("Dexie: Creating missing table",c),Ta(l,c,s[c].primKey,s[c].indexes))})}function Do(s,l){s.createIndex(l.name,l.keyPath,{unique:l.unique,multiEntry:l.multi})}function $o(s,l,c){var d={};return w(l.objectStoreNames,0).forEach(function(h){for(var m=c.objectStore(h),y=Na(Md(P=m.keyPath),P||"",!0,!1,!!m.autoIncrement,P&&typeof P!="string",!0),S=[],E=0;E<m.indexNames.length;++E){var M=m.index(m.indexNames[E]),P=M.keyPath,M=Na(M.name,P,!!M.unique,!!M.multiEntry,!1,P&&typeof P!="string",!1);S.push(M)}d[h]=Ca(h,y,S)}),d}function Uo(s,l,c){for(var d=c.db.objectStoreNames,h=0;h<d.length;++h){var m=d[h],y=c.objectStore(m);s._hasGetAll="getAll"in y;for(var S=0;S<y.indexNames.length;++S){var E=y.indexNames[S],P=y.index(E).keyPath,M=typeof P=="string"?P:"["+w(P).join("+")+"]";!l[m]||(P=l[m].idxByName[M])&&(P.name=E,delete l[m].idxByName[M],l[m].idxByName[E]=P)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(s._hasGetAll=!1)}function Id(s){return s.split(",").map(function(l,c){var m=l.split(":"),d=(h=m[1])===null||h===void 0?void 0:h.trim(),h=(l=m[0].trim()).replace(/([&*]|\+\+)/g,""),m=/^\[/.test(h)?h.match(/^\[(.*)\]$/)[1].split("+"):h;return Na(h,m||null,/\&/.test(l),/\*/.test(l),/\+\+/.test(l),f(m),c===0,d)})}var Fy=(Li.prototype._createTableSchema=Ca,Li.prototype._parseIndexSyntax=Id,Li.prototype._parseStoresSpec=function(s,l){var c=this;u(s).forEach(function(d){if(s[d]!==null){var h=c._parseIndexSyntax(s[d]),m=h.shift();if(!m)throw new z.Schema("Invalid schema for table "+d+": "+s[d]);if(m.unique=!0,m.multi)throw new z.Schema("Primary key cannot be multiEntry*");h.forEach(function(y){if(y.auto)throw new z.Schema("Only primary key can be marked as autoIncrement (++)");if(!y.keyPath)throw new z.Schema("Index must have a name and cannot be an empty string")}),h=c._createTableSchema(d,m,h),l[d]=h}})},Li.prototype.stores=function(c){var l=this.db;this._cfg.storesSource=this._cfg.storesSource?p(this._cfg.storesSource,c):c;var c=l._versions,d={},h={};return c.forEach(function(m){p(d,m._cfg.storesSource),h=m._cfg.dbschema={},m._parseStoresSpec(d,h)}),l._dbSchema=h,_a(l,[l._allTables,l,l.Transaction.prototype]),zo(l,[l._allTables,l,l.Transaction.prototype,this._cfg.tables],u(h),h),l._storeNames=u(h),this},Li.prototype.upgrade=function(s){return this._cfg.contentUpgrade=hr(this._cfg.contentUpgrade||me,s),this},Li);function Li(){}function Ra(s,l){var c=s._dbNamesDB;return c||(c=s._dbNamesDB=new Jn(Rn,{addons:[],indexedDB:s,IDBKeyRange:l})).version(1).stores({dbnames:"name"}),c.table("dbnames")}function Oa(s){return s&&typeof s.databases=="function"}function Ma(s){return mn(function(){return xe.letThrough=!0,s()})}function Fa(s){return!("from"in s)}var kt=function(s,l){if(!this){var c=new kt;return s&&"d"in s&&p(c,s),c}p(this,arguments.length?{d:1,from:s,to:1<arguments.length?l:s}:{d:0})};function Os(s,l,c){var d=Oe(l,c);if(!isNaN(d)){if(0<d)throw RangeError();if(Fa(s))return p(s,{from:l,to:c,d:1});var h=s.l,d=s.r;if(Oe(c,s.from)<0)return h?Os(h,l,c):s.l={from:l,to:c,d:1,l:null,r:null},zd(s);if(0<Oe(l,s.to))return d?Os(d,l,c):s.r={from:l,to:c,d:1,l:null,r:null},zd(s);Oe(l,s.from)<0&&(s.from=l,s.l=null,s.d=d?d.d+1:1),0<Oe(c,s.to)&&(s.to=c,s.r=null,s.d=s.l?s.l.d+1:1),c=!s.r,h&&!s.l&&Ms(s,h),d&&c&&Ms(s,d)}}function Ms(s,l){Fa(l)||function c(d,E){var m=E.from,y=E.to,S=E.l,E=E.r;Os(d,m,y),S&&c(d,S),E&&c(d,E)}(s,l)}function Ad(s,l){var c=Bo(l),d=c.next();if(d.done)return!1;for(var h=d.value,m=Bo(s),y=m.next(h.from),S=y.value;!d.done&&!y.done;){if(Oe(S.from,h.to)<=0&&0<=Oe(S.to,h.from))return!0;Oe(h.from,S.from)<0?h=(d=c.next(S.from)).value:S=(y=m.next(h.from)).value}return!1}function Bo(s){var l=Fa(s)?null:{s:0,n:s};return{next:function(c){for(var d=0<arguments.length;l;)switch(l.s){case 0:if(l.s=1,d)for(;l.n.l&&Oe(c,l.n.from)<0;)l={up:l,n:l.n.l,s:1};else for(;l.n.l;)l={up:l,n:l.n.l,s:1};case 1:if(l.s=2,!d||Oe(c,l.n.to)<=0)return{value:l.n,done:!1};case 2:if(l.n.r){l.s=3,l={up:l,n:l.n.r,s:0};continue}case 3:l=l.up}return{done:!0}}}}function zd(s){var l,c,d=(((l=s.r)===null||l===void 0?void 0:l.d)||0)-(((c=s.l)===null||c===void 0?void 0:c.d)||0),h=1<d?"r":d<-1?"l":"";h&&(l=h=="r"?"l":"r",c=r({},s),d=s[h],s.from=d.from,s.to=d.to,s[h]=d[h],c[h]=d[l],(s[l]=c).d=Dd(c)),s.d=Dd(s)}function Dd(c){var l=c.r,c=c.l;return(l?c?Math.max(l.d,c.d):l.d:c?c.d:0)+1}function Ko(s,l){return u(l).forEach(function(c){s[c]?Ms(s[c],l[c]):s[c]=function d(h){var m,y,S={};for(m in h)b(h,m)&&(y=h[m],S[m]=!y||typeof y!="object"||Ie.has(y.constructor)?y:d(y));return S}(l[c])}),s}function La(s,l){return s.all||l.all||Object.keys(s).some(function(c){return l[c]&&Ad(l[c],s[c])})}_(kt.prototype,((nn={add:function(s){return Ms(this,s),this},addKey:function(s){return Os(this,s,s),this},addKeys:function(s){var l=this;return s.forEach(function(c){return Os(l,c,c)}),this},hasKey:function(s){var l=Bo(this).next(s).value;return l&&Oe(l.from,s)<=0&&0<=Oe(l.to,s)}})[ie]=function(){return Bo(this)},nn));var ii={},Ia={},Aa=!1;function Wo(s){Ko(Ia,s),Aa||(Aa=!0,setTimeout(function(){Aa=!1,za(Ia,!(Ia={}))},0))}function za(s,l){l===void 0&&(l=!1);var c=new Set;if(s.all)for(var d=0,h=Object.values(ii);d<h.length;d++)$d(y=h[d],s,c,l);else for(var m in s){var y,S=/^idb\:\/\/(.*)\/(.*)\//.exec(m);S&&(m=S[1],S=S[2],(y=ii["idb://".concat(m,"/").concat(S)])&&$d(y,s,c,l))}c.forEach(function(E){return E()})}function $d(s,l,c,d){for(var h=[],m=0,y=Object.entries(s.queries.query);m<y.length;m++){for(var S=y[m],E=S[0],P=[],M=0,N=S[1];M<N.length;M++){var L=N[M];La(l,L.obsSet)?L.subscribers.forEach(function(F){return c.add(F)}):d&&P.push(L)}d&&h.push([E,P])}if(d)for(var T=0,R=h;T<R.length;T++){var O=R[T],E=O[0],P=O[1];s.queries.query[E]=P}}function Ly(s){var l=s._state,c=s._deps.indexedDB;if(l.isBeingOpened||s.idbdb)return l.dbReadyPromise.then(function(){return l.dbOpenError?He(l.dbOpenError):s});l.isBeingOpened=!0,l.dbOpenError=null,l.openComplete=!1;var d=l.openCanceller,h=Math.round(10*s.verno),m=!1;function y(){if(l.openCanceller!==d)throw new z.DatabaseClosed("db.open() was cancelled")}function S(){return new de(function(L,T){if(y(),!c)throw new z.MissingAPI;var R=s.name,O=l.autoSchema||!h?c.open(R):c.open(R,h);if(!O)throw new z.MissingAPI;O.onerror=In(T),O.onblocked=Ke(s._fireOnBlocked),O.onupgradeneeded=Ke(function(F){var I;M=O.transaction,l.autoSchema&&!s._options.allowEmptyDB?(O.onerror=_s,M.abort(),O.result.close(),(I=c.deleteDatabase(R)).onsuccess=I.onerror=Ke(function(){T(new z.NoSuchDatabase("Database ".concat(R," doesnt exist")))})):(M.onerror=In(T),F=F.oldVersion>Math.pow(2,62)?0:F.oldVersion,N=F<1,s.idbdb=O.result,m&&My(s,M),Oy(s,F/10,M,T))},T),O.onsuccess=Ke(function(){M=null;var F,I,$,H,Q,re=s.idbdb=O.result,ue=w(re.objectStoreNames);if(0<ue.length)try{var te=re.transaction((H=ue).length===1?H[0]:H,"readonly");if(l.autoSchema)I=re,$=te,(F=s).verno=I.version/10,$=F._dbSchema=$o(0,I,$),F._storeNames=w(I.objectStoreNames,0),zo(F,[F._allTables],u($),$);else if(Uo(s,s._dbSchema,te),((Q=Pa($o(0,(Q=s).idbdb,te),Q._dbSchema)).add.length||Q.change.some(function(oe){return oe.add.length||oe.change.length}))&&!m)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),re.close(),h=re.version+1,m=!0,L(S());Ao(s,te)}catch{}Qn.push(s),re.onversionchange=Ke(function(oe){l.vcFired=!0,s.on("versionchange").fire(oe)}),re.onclose=Ke(function(){s.close({disableAutoOpen:!1})}),N&&(Q=s._deps,te=R,re=Q.indexedDB,Q=Q.IDBKeyRange,Oa(re)||te===Rn||Ra(re,Q).put({name:te}).catch(me)),L()},T)}).catch(function(L){switch(L==null?void 0:L.name){case"UnknownError":if(0<l.PR1398_maxLoop)return l.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),S();break;case"VersionError":if(0<h)return h=0,S()}return de.reject(L)})}var E,P=l.dbReadyResolve,M=null,N=!1;return de.race([d,(typeof navigator>"u"?de.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(L){function T(){return indexedDB.databases().finally(L)}E=setInterval(T,100),T()}).finally(function(){return clearInterval(E)}):Promise.resolve()).then(S)]).then(function(){return y(),l.onReadyBeingFired=[],de.resolve(Ma(function(){return s.on.ready.fire(s.vip)})).then(function L(){if(0<l.onReadyBeingFired.length){var T=l.onReadyBeingFired.reduce(hr,me);return l.onReadyBeingFired=[],de.resolve(Ma(function(){return T(s.vip)})).then(L)}})}).finally(function(){l.openCanceller===d&&(l.onReadyBeingFired=null,l.isBeingOpened=!1)}).catch(function(L){l.dbOpenError=L;try{M&&M.abort()}catch{}return d===l.openCanceller&&s._close(),He(L)}).finally(function(){l.openComplete=!0,P()}).then(function(){var L;return N&&(L={},s.tables.forEach(function(T){T.schema.indexes.forEach(function(R){R.name&&(L["idb://".concat(s.name,"/").concat(T.name,"/").concat(R.name)]=new kt(-1/0,[[[]]]))}),L["idb://".concat(s.name,"/").concat(T.name,"/")]=L["idb://".concat(s.name,"/").concat(T.name,"/:dels")]=new kt(-1/0,[[[]]])}),Nr(Ps).fire(L),za(L,!0)),s})}function Da(s){function l(m){return s.next(m)}var c=h(l),d=h(function(m){return s.throw(m)});function h(m){return function(E){var S=m(E),E=S.value;return S.done?E:E&&typeof E.then=="function"?E.then(c,d):f(E)?Promise.all(E).then(c,d):c(E)}}return h(l)()}function Ho(s,l,c){for(var d=f(s)?s.slice():[s],h=0;h<c;++h)d.push(l);return d}var Iy={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(s){return r(r({},s),{table:function(l){var c=s.table(l),d=c.schema,h={},m=[];function y(N,L,T){var R=Rs(N),O=h[R]=h[R]||[],F=N==null?0:typeof N=="string"?1:N.length,I=0<L,I=r(r({},T),{name:I?"".concat(R,"(virtual-from:").concat(T.name,")"):T.name,lowLevelIndex:T,isVirtual:I,keyTail:L,keyLength:F,extractKey:Ea(N),unique:!I&&T.unique});return O.push(I),I.isPrimaryKey||m.push(I),1<F&&y(F===2?N[0]:N.slice(0,F-1),L+1,T),O.sort(function($,H){return $.keyTail-H.keyTail}),I}l=y(d.primaryKey.keyPath,0,d.primaryKey),h[":id"]=[l];for(var S=0,E=d.indexes;S<E.length;S++){var P=E[S];y(P.keyPath,0,P)}function M(N){var L,T=N.query.index;return T.isVirtual?r(r({},N),{query:{index:T.lowLevelIndex,range:(L=N.query.range,T=T.keyTail,{type:L.type===1?2:L.type,lower:Ho(L.lower,L.lowerOpen?s.MAX_KEY:s.MIN_KEY,T),lowerOpen:!0,upper:Ho(L.upper,L.upperOpen?s.MIN_KEY:s.MAX_KEY,T),upperOpen:!0})}}):N}return r(r({},c),{schema:r(r({},d),{primaryKey:l,indexes:m,getIndexByKeyPath:function(N){return(N=h[Rs(N)])&&N[0]}}),count:function(N){return c.count(M(N))},query:function(N){return c.query(M(N))},openCursor:function(N){var L=N.query.index,T=L.keyTail,R=L.isVirtual,O=L.keyLength;return R?c.openCursor(M(N)).then(function(I){return I&&F(I)}):c.openCursor(N);function F(I){return Object.create(I,{continue:{value:function($){$!=null?I.continue(Ho($,N.reverse?s.MAX_KEY:s.MIN_KEY,T)):N.unique?I.continue(I.key.slice(0,O).concat(N.reverse?s.MIN_KEY:s.MAX_KEY,T)):I.continue()}},continuePrimaryKey:{value:function($,H){I.continuePrimaryKey(Ho($,s.MAX_KEY,T),H)}},primaryKey:{get:function(){return I.primaryKey}},key:{get:function(){var $=I.key;return O===1?$[0]:$.slice(0,O)}},value:{get:function(){return I.value}}})}}})}})}};function $a(s,l,c,d){return c=c||{},d=d||"",u(s).forEach(function(h){var m,y,S;b(l,h)?(m=s[h],y=l[h],typeof m=="object"&&typeof y=="object"&&m&&y?(S=ae(m))!==ae(y)?c[d+h]=l[h]:S==="Object"?$a(m,y,c,d+h+"."):m!==y&&(c[d+h]=l[h]):m!==y&&(c[d+h]=l[h])):c[d+h]=void 0}),u(l).forEach(function(h){b(s,h)||(c[d+h]=l[h])}),c}function Ua(s,l){return l.type==="delete"?l.keys:l.keys||l.values.map(s.extractKey)}var Ay={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(s){return r(r({},s),{table:function(l){var c=s.table(l),d=c.schema.primaryKey;return r(r({},c),{mutate:function(h){var m=xe.trans,y=m.table(l).hook,S=y.deleting,E=y.creating,P=y.updating;switch(h.type){case"add":if(E.fire===me)break;return m._promise("readwrite",function(){return M(h)},!0);case"put":if(E.fire===me&&P.fire===me)break;return m._promise("readwrite",function(){return M(h)},!0);case"delete":if(S.fire===me)break;return m._promise("readwrite",function(){return M(h)},!0);case"deleteRange":if(S.fire===me)break;return m._promise("readwrite",function(){return function N(L,T,R){return c.query({trans:L,values:!1,query:{index:d,range:T},limit:R}).then(function(O){var F=O.result;return M({type:"delete",keys:F,trans:L}).then(function(I){return 0<I.numFailures?Promise.reject(I.failures[0]):F.length<R?{failures:[],numFailures:0,lastResult:void 0}:N(L,r(r({},T),{lower:F[F.length-1],lowerOpen:!0}),R)})})}(h.trans,h.range,1e4)},!0)}return c.mutate(h);function M(N){var L,T,R,O=xe.trans,F=N.keys||Ua(d,N);if(!F)throw new Error("Keys missing");return(N=N.type==="add"||N.type==="put"?r(r({},N),{keys:F}):r({},N)).type!=="delete"&&(N.values=i([],N.values)),N.keys&&(N.keys=i([],N.keys)),L=c,R=F,((T=N).type==="add"?Promise.resolve([]):L.getMany({trans:T.trans,keys:R,cache:"immutable"})).then(function(I){var $=F.map(function(H,Q){var re,ue,te,oe=I[Q],ce={onerror:null,onsuccess:null};return N.type==="delete"?S.fire.call(ce,H,oe,O):N.type==="add"||oe===void 0?(re=E.fire.call(ce,H,N.values[Q],O),H==null&&re!=null&&(N.keys[Q]=H=re,d.outbound||G(N.values[Q],d.keyPath,H))):(re=$a(oe,N.values[Q]),(ue=P.fire.call(ce,re,H,oe,O))&&(te=N.values[Q],Object.keys(ue).forEach(function(le){b(te,le)?te[le]=ue[le]:G(te,le,ue[le])}))),ce});return c.mutate(N).then(function(H){for(var Q=H.failures,re=H.results,ue=H.numFailures,H=H.lastResult,te=0;te<F.length;++te){var oe=(re||F)[te],ce=$[te];oe==null?ce.onerror&&ce.onerror(Q[te]):ce.onsuccess&&ce.onsuccess(N.type==="put"&&I[te]?N.values[te]:oe)}return{failures:Q,results:re,numFailures:ue,lastResult:H}}).catch(function(H){return $.forEach(function(Q){return Q.onerror&&Q.onerror(H)}),Promise.reject(H)})})}}})}})}};function Ud(s,l,c){try{if(!l||l.keys.length<s.length)return null;for(var d=[],h=0,m=0;h<l.keys.length&&m<s.length;++h)Oe(l.keys[h],s[m])===0&&(d.push(c?Y(l.values[h]):l.values[h]),++m);return d.length===s.length?d:null}catch{return null}}var zy={stack:"dbcore",level:-1,create:function(s){return{table:function(l){var c=s.table(l);return r(r({},c),{getMany:function(d){if(!d.cache)return c.getMany(d);var h=Ud(d.keys,d.trans._cache,d.cache==="clone");return h?de.resolve(h):c.getMany(d).then(function(m){return d.trans._cache={keys:d.keys,values:d.cache==="clone"?Y(m):m},m})},mutate:function(d){return d.type!=="add"&&(d.trans._cache=null),c.mutate(d)}})}}}};function Bd(s,l){return s.trans.mode==="readonly"&&!!s.subscr&&!s.trans.explicit&&s.trans.db._options.cache!=="disabled"&&!l.schema.primaryKey.outbound}function Kd(s,l){switch(s){case"query":return l.values&&!l.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Dy={stack:"dbcore",level:0,name:"Observability",create:function(s){var l=s.schema.name,c=new kt(s.MIN_KEY,s.MAX_KEY);return r(r({},s),{transaction:function(d,h,m){if(xe.subscr&&h!=="readonly")throw new z.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(xe.querier));return s.transaction(d,h,m)},table:function(d){var h=s.table(d),m=h.schema,y=m.primaryKey,N=m.indexes,S=y.extractKey,E=y.outbound,P=y.autoIncrement&&N.filter(function(T){return T.compound&&T.keyPath.includes(y.keyPath)}),M=r(r({},h),{mutate:function(T){function R(le){return le="idb://".concat(l,"/").concat(d,"/").concat(le),H[le]||(H[le]=new kt)}var O,F,I,$=T.trans,H=T.mutatedParts||(T.mutatedParts={}),Q=R(""),re=R(":dels"),ue=T.type,ce=T.type==="deleteRange"?[T.range]:T.type==="delete"?[T.keys]:T.values.length<50?[Ua(y,T).filter(function(le){return le}),T.values]:[],te=ce[0],oe=ce[1],ce=T.trans._cache;return f(te)?(Q.addKeys(te),(ce=ue==="delete"||te.length===oe.length?Ud(te,ce):null)||re.addKeys(te),(ce||oe)&&(O=R,F=ce,I=oe,m.indexes.forEach(function(le){var ye=O(le.name||"");function Pe(Me){return Me!=null?le.extractKey(Me):null}function Re(Me){return le.multiEntry&&f(Me)?Me.forEach(function(qt){return ye.addKey(qt)}):ye.addKey(Me)}(F||I).forEach(function(Me,jt){var _e=F&&Pe(F[jt]),jt=I&&Pe(I[jt]);Oe(_e,jt)!==0&&(_e!=null&&Re(_e),jt!=null&&Re(jt))})}))):te?(oe={from:(oe=te.lower)!==null&&oe!==void 0?oe:s.MIN_KEY,to:(oe=te.upper)!==null&&oe!==void 0?oe:s.MAX_KEY},re.add(oe),Q.add(oe)):(Q.add(c),re.add(c),m.indexes.forEach(function(le){return R(le.name).add(c)})),h.mutate(T).then(function(le){return!te||T.type!=="add"&&T.type!=="put"||(Q.addKeys(le.results),P&&P.forEach(function(ye){for(var Pe=T.values.map(function(_e){return ye.extractKey(_e)}),Re=ye.keyPath.findIndex(function(_e){return _e===y.keyPath}),Me=0,qt=le.results.length;Me<qt;++Me)Pe[Me][Re]=le.results[Me];R(ye.name).addKeys(Pe)})),$.mutatedParts=Ko($.mutatedParts||{},H),le})}}),N=function(R){var O=R.query,R=O.index,O=O.range;return[R,new kt((R=O.lower)!==null&&R!==void 0?R:s.MIN_KEY,(O=O.upper)!==null&&O!==void 0?O:s.MAX_KEY)]},L={get:function(T){return[y,new kt(T.key)]},getMany:function(T){return[y,new kt().addKeys(T.keys)]},count:N,query:N,openCursor:N};return u(L).forEach(function(T){M[T]=function(R){var O=xe.subscr,F=!!O,I=Bd(xe,h)&&Kd(T,R)?R.obsSet={}:O;if(F){var $=function(oe){return oe="idb://".concat(l,"/").concat(d,"/").concat(oe),I[oe]||(I[oe]=new kt)},H=$(""),Q=$(":dels"),O=L[T](R),F=O[0],O=O[1];if((T==="query"&&F.isPrimaryKey&&!R.values?Q:$(F.name||"")).add(O),!F.isPrimaryKey){if(T!=="count"){var re=T==="query"&&E&&R.values&&h.query(r(r({},R),{values:!1}));return h[T].apply(this,arguments).then(function(oe){if(T==="query"){if(E&&R.values)return re.then(function(Pe){return Pe=Pe.result,H.addKeys(Pe),oe});var ce=R.values?oe.result.map(S):oe.result;(R.values?H:Q).addKeys(ce)}else if(T==="openCursor"){var le=oe,ye=R.values;return le&&Object.create(le,{key:{get:function(){return Q.addKey(le.primaryKey),le.key}},primaryKey:{get:function(){var Pe=le.primaryKey;return Q.addKey(Pe),Pe}},value:{get:function(){return ye&&H.addKey(le.primaryKey),le.value}}})}return oe})}Q.add(c)}}return h[T].apply(this,arguments)}}),M}})}};function Wd(s,l,c){if(c.numFailures===0)return l;if(l.type==="deleteRange")return null;var d=l.keys?l.keys.length:"values"in l&&l.values?l.values.length:1;return c.numFailures===d?null:(l=r({},l),f(l.keys)&&(l.keys=l.keys.filter(function(h,m){return!(m in c.failures)})),"values"in l&&f(l.values)&&(l.values=l.values.filter(function(h,m){return!(m in c.failures)})),l)}function Ba(s,l){return c=s,((d=l).lower===void 0||(d.lowerOpen?0<Oe(c,d.lower):0<=Oe(c,d.lower)))&&(s=s,(l=l).upper===void 0||(l.upperOpen?Oe(s,l.upper)<0:Oe(s,l.upper)<=0));var c,d}function Hd(s,l,L,d,h,m){if(!L||L.length===0)return s;var y=l.query.index,S=y.multiEntry,E=l.query.range,P=d.schema.primaryKey.extractKey,M=y.extractKey,N=(y.lowLevelIndex||y).extractKey,L=L.reduce(function(T,R){var O=T,F=[];if(R.type==="add"||R.type==="put")for(var I=new kt,$=R.values.length-1;0<=$;--$){var H,Q=R.values[$],re=P(Q);I.hasKey(re)||(H=M(Q),(S&&f(H)?H.some(function(le){return Ba(le,E)}):Ba(H,E))&&(I.addKey(re),F.push(Q)))}switch(R.type){case"add":var ue=new kt().addKeys(l.values?T.map(function(ye){return P(ye)}):T),O=T.concat(l.values?F.filter(function(ye){return ye=P(ye),!ue.hasKey(ye)&&(ue.addKey(ye),!0)}):F.map(function(ye){return P(ye)}).filter(function(ye){return!ue.hasKey(ye)&&(ue.addKey(ye),!0)}));break;case"put":var te=new kt().addKeys(R.values.map(function(ye){return P(ye)}));O=T.filter(function(ye){return!te.hasKey(l.values?P(ye):ye)}).concat(l.values?F:F.map(function(ye){return P(ye)}));break;case"delete":var oe=new kt().addKeys(R.keys);O=T.filter(function(ye){return!oe.hasKey(l.values?P(ye):ye)});break;case"deleteRange":var ce=R.range;O=T.filter(function(ye){return!Ba(P(ye),ce)})}return O},s);return L===s?s:(L.sort(function(T,R){return Oe(N(T),N(R))||Oe(P(T),P(R))}),l.limit&&l.limit<1/0&&(L.length>l.limit?L.length=l.limit:s.length===l.limit&&L.length<l.limit&&(h.dirty=!0)),m?Object.freeze(L):L)}function Vd(s,l){return Oe(s.lower,l.lower)===0&&Oe(s.upper,l.upper)===0&&!!s.lowerOpen==!!l.lowerOpen&&!!s.upperOpen==!!l.upperOpen}function $y(s,l){return function(c,d,h,m){if(c===void 0)return d!==void 0?-1:0;if(d===void 0)return 1;if((d=Oe(c,d))===0){if(h&&m)return 0;if(h)return 1;if(m)return-1}return d}(s.lower,l.lower,s.lowerOpen,l.lowerOpen)<=0&&0<=function(c,d,h,m){if(c===void 0)return d!==void 0?1:0;if(d===void 0)return-1;if((d=Oe(c,d))===0){if(h&&m)return 0;if(h)return-1;if(m)return 1}return d}(s.upper,l.upper,s.upperOpen,l.upperOpen)}function Uy(s,l,c,d){s.subscribers.add(c),d.addEventListener("abort",function(){var h,m;s.subscribers.delete(c),s.subscribers.size===0&&(h=s,m=l,setTimeout(function(){h.subscribers.size===0&&W(m,h)},3e3))})}var By={stack:"dbcore",level:0,name:"Cache",create:function(s){var l=s.schema.name;return r(r({},s),{transaction:function(c,d,h){var m,y,S=s.transaction(c,d,h);return d==="readwrite"&&(y=(m=new AbortController).signal,h=function(E){return function(){if(m.abort(),d==="readwrite"){for(var P=new Set,M=0,N=c;M<N.length;M++){var L=N[M],T=ii["idb://".concat(l,"/").concat(L)];if(T){var R=s.table(L),O=T.optimisticOps.filter(function(ye){return ye.trans===S});if(S._explicit&&E&&S.mutatedParts)for(var F=0,I=Object.values(T.queries.query);F<I.length;F++)for(var $=0,H=(ue=I[F]).slice();$<H.length;$++)La((te=H[$]).obsSet,S.mutatedParts)&&(W(ue,te),te.subscribers.forEach(function(ye){return P.add(ye)}));else if(0<O.length){T.optimisticOps=T.optimisticOps.filter(function(ye){return ye.trans!==S});for(var Q=0,re=Object.values(T.queries.query);Q<re.length;Q++)for(var ue,te,oe,ce=0,le=(ue=re[Q]).slice();ce<le.length;ce++)(te=le[ce]).res!=null&&S.mutatedParts&&(E&&!te.dirty?(oe=Object.isFrozen(te.res),oe=Hd(te.res,te.req,O,R,te,oe),te.dirty?(W(ue,te),te.subscribers.forEach(function(ye){return P.add(ye)})):oe!==te.res&&(te.res=oe,te.promise=de.resolve({result:oe}))):(te.dirty&&W(ue,te),te.subscribers.forEach(function(ye){return P.add(ye)})))}}}P.forEach(function(ye){return ye()})}}},S.addEventListener("abort",h(!1),{signal:y}),S.addEventListener("error",h(!1),{signal:y}),S.addEventListener("complete",h(!0),{signal:y})),S},table:function(c){var d=s.table(c),h=d.schema.primaryKey;return r(r({},d),{mutate:function(m){var y=xe.trans;if(h.outbound||y.db._options.cache==="disabled"||y.explicit||y.idbtrans.mode!=="readwrite")return d.mutate(m);var S=ii["idb://".concat(l,"/").concat(c)];return S?(y=d.mutate(m),m.type!=="add"&&m.type!=="put"||!(50<=m.values.length||Ua(h,m).some(function(E){return E==null}))?(S.optimisticOps.push(m),m.mutatedParts&&Wo(m.mutatedParts),y.then(function(E){0<E.numFailures&&(W(S.optimisticOps,m),(E=Wd(0,m,E))&&S.optimisticOps.push(E),m.mutatedParts&&Wo(m.mutatedParts))}),y.catch(function(){W(S.optimisticOps,m),m.mutatedParts&&Wo(m.mutatedParts)})):y.then(function(E){var P=Wd(0,r(r({},m),{values:m.values.map(function(M,N){var L;return E.failures[N]?M:(M=(L=h.keyPath)!==null&&L!==void 0&&L.includes(".")?Y(M):r({},M),G(M,h.keyPath,E.results[N]),M)})}),E);S.optimisticOps.push(P),queueMicrotask(function(){return m.mutatedParts&&Wo(m.mutatedParts)})}),y):d.mutate(m)},query:function(m){if(!Bd(xe,d)||!Kd("query",m))return d.query(m);var y=((P=xe.trans)===null||P===void 0?void 0:P.db._options.cache)==="immutable",N=xe,S=N.requery,E=N.signal,P=function(R,O,F,I){var $=ii["idb://".concat(R,"/").concat(O)];if(!$)return[];if(!(O=$.queries[F]))return[null,!1,$,null];var H=O[(I.query?I.query.index.name:null)||""];if(!H)return[null,!1,$,null];switch(F){case"query":var Q=H.find(function(re){return re.req.limit===I.limit&&re.req.values===I.values&&Vd(re.req.query.range,I.query.range)});return Q?[Q,!0,$,H]:[H.find(function(re){return("limit"in re.req?re.req.limit:1/0)>=I.limit&&(!I.values||re.req.values)&&$y(re.req.query.range,I.query.range)}),!1,$,H];case"count":return Q=H.find(function(re){return Vd(re.req.query.range,I.query.range)}),[Q,!!Q,$,H]}}(l,c,"query",m),M=P[0],N=P[1],L=P[2],T=P[3];return M&&N?M.obsSet=m.obsSet:(N=d.query(m).then(function(R){var O=R.result;if(M&&(M.res=O),y){for(var F=0,I=O.length;F<I;++F)Object.freeze(O[F]);Object.freeze(O)}else R.result=Y(O);return R}).catch(function(R){return T&&M&&W(T,M),Promise.reject(R)}),M={obsSet:m.obsSet,promise:N,subscribers:new Set,type:"query",req:m,dirty:!1},T?T.push(M):(T=[M],(L=L||(ii["idb://".concat(l,"/").concat(c)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[m.query.index.name||""]=T)),Uy(M,T,S,E),M.promise.then(function(R){return{result:Hd(R.result,m,L==null?void 0:L.optimisticOps,d,M,y)}})}})}})}};function Vo(s,l){return new Proxy(s,{get:function(c,d,h){return d==="db"?l:Reflect.get(c,d,h)}})}var Jn=(ot.prototype.version=function(s){if(isNaN(s)||s<.1)throw new z.Type("Given version is not a positive number");if(s=Math.round(10*s)/10,this.idbdb||this._state.isBeingOpened)throw new z.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,s);var l=this._versions,c=l.filter(function(d){return d._cfg.version===s})[0];return c||(c=new this.Version(s),l.push(c),l.sort(Ry),c.stores({}),this._state.autoSchema=!1,c)},ot.prototype._whenReady=function(s){var l=this;return this.idbdb&&(this._state.openComplete||xe.letThrough||this._vip)?s():new de(function(c,d){if(l._state.openComplete)return d(new z.DatabaseClosed(l._state.dbOpenError));if(!l._state.isBeingOpened){if(!l._state.autoOpen)return void d(new z.DatabaseClosed);l.open().catch(me)}l._state.dbReadyPromise.then(c,d)}).then(s)},ot.prototype.use=function(s){var l=s.stack,c=s.create,d=s.level,h=s.name;return h&&this.unuse({stack:l,name:h}),s=this._middlewares[l]||(this._middlewares[l]=[]),s.push({stack:l,create:c,level:d??10,name:h}),s.sort(function(m,y){return m.level-y.level}),this},ot.prototype.unuse=function(s){var l=s.stack,c=s.name,d=s.create;return l&&this._middlewares[l]&&(this._middlewares[l]=this._middlewares[l].filter(function(h){return d?h.create!==d:!!c&&h.name!==c})),this},ot.prototype.open=function(){var s=this;return qn(fn,function(){return Ly(s)})},ot.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var s=this._state,l=Qn.indexOf(this);if(0<=l&&Qn.splice(l,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}s.isBeingOpened||(s.dbReadyPromise=new de(function(c){s.dbReadyResolve=c}),s.openCanceller=new de(function(c,d){s.cancelOpen=d}))},ot.prototype.close=function(c){var l=(c===void 0?{disableAutoOpen:!0}:c).disableAutoOpen,c=this._state;l?(c.isBeingOpened&&c.cancelOpen(new z.DatabaseClosed),this._close(),c.autoOpen=!1,c.dbOpenError=new z.DatabaseClosed):(this._close(),c.autoOpen=this._options.autoOpen||c.isBeingOpened,c.openComplete=!1,c.dbOpenError=null)},ot.prototype.delete=function(s){var l=this;s===void 0&&(s={disableAutoOpen:!0});var c=0<arguments.length&&typeof arguments[0]!="object",d=this._state;return new de(function(h,m){function y(){l.close(s);var S=l._deps.indexedDB.deleteDatabase(l.name);S.onsuccess=Ke(function(){var E,P,M;E=l._deps,P=l.name,M=E.indexedDB,E=E.IDBKeyRange,Oa(M)||P===Rn||Ra(M,E).delete(P).catch(me),h()}),S.onerror=In(m),S.onblocked=l._fireOnBlocked}if(c)throw new z.InvalidArgument("Invalid closeOptions argument to db.delete()");d.isBeingOpened?d.dbReadyPromise.then(y):y()})},ot.prototype.backendDB=function(){return this.idbdb},ot.prototype.isOpen=function(){return this.idbdb!==null},ot.prototype.hasBeenClosed=function(){var s=this._state.dbOpenError;return s&&s.name==="DatabaseClosed"},ot.prototype.hasFailed=function(){return this._state.dbOpenError!==null},ot.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(ot.prototype,"tables",{get:function(){var s=this;return u(this._allTables).map(function(l){return s._allTables[l]})},enumerable:!1,configurable:!0}),ot.prototype.transaction=function(){var s=(function(l,c,d){var h=arguments.length;if(h<2)throw new z.InvalidArgument("Too few arguments");for(var m=new Array(h-1);--h;)m[h-1]=arguments[h];return d=m.pop(),[l,fe(m),d]}).apply(this,arguments);return this._transaction.apply(this,s)},ot.prototype._transaction=function(s,l,c){var d=this,h=xe.trans;h&&h.db===this&&s.indexOf("!")===-1||(h=null);var m,y,S=s.indexOf("?")!==-1;s=s.replace("!","").replace("?","");try{if(y=l.map(function(P){if(P=P instanceof d.Table?P.name:P,typeof P!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return P}),s=="r"||s===Yn)m=Yn;else{if(s!="rw"&&s!=Ns)throw new z.InvalidArgument("Invalid transaction mode: "+s);m=Ns}if(h){if(h.mode===Yn&&m===Ns){if(!S)throw new z.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");h=null}h&&y.forEach(function(P){if(h&&h.storeNames.indexOf(P)===-1){if(!S)throw new z.SubTransaction("Table "+P+" not included in parent transaction.");h=null}}),S&&h&&!h.active&&(h=null)}}catch(P){return h?h._promise(null,function(M,N){N(P)}):He(P)}var E=(function P(M,N,L,T,R){return de.resolve().then(function(){var O=xe.transless||xe,F=M._createTransaction(N,L,M._dbSchema,T);if(F.explicit=!0,O={trans:F,transless:O},T)F.idbtrans=T.idbtrans;else try{F.create(),F.idbtrans._explicit=!0,M._state.PR1398_maxLoop=3}catch(H){return H.name===ct.InvalidState&&M.isOpen()&&0<--M._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),M.close({disableAutoOpen:!1}),M.open().then(function(){return P(M,N,L,null,R)})):He(H)}var I,$=je(R);return $&&xr(),O=de.follow(function(){var H;(I=R.call(F,F))&&($?(H=Tn.bind(null,null),I.then(H,H)):typeof I.next=="function"&&typeof I.throw=="function"&&(I=Da(I)))},O),(I&&typeof I.then=="function"?de.resolve(I).then(function(H){return F.active?H:He(new z.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):O.then(function(){return I})).then(function(H){return T&&F._resolve(),F._completion.then(function(){return H})}).catch(function(H){return F._reject(H),He(H)})})}).bind(null,this,m,y,h,c);return h?h._promise(m,E,"lock"):xe.trans?qn(xe.transless,function(){return d._whenReady(E)}):this._whenReady(E)},ot.prototype.table=function(s){if(!b(this._allTables,s))throw new z.InvalidTable("Table ".concat(s," does not exist"));return this._allTables[s]},ot);function ot(s,l){var c=this;this._middlewares={},this.verno=0;var d=ot.dependencies;this._options=l=r({addons:ot.addons,autoOpen:!0,indexedDB:d.indexedDB,IDBKeyRange:d.IDBKeyRange,cache:"cloned"},l),this._deps={indexedDB:l.indexedDB,IDBKeyRange:l.IDBKeyRange},d=l.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var h,m,y,S,E,P={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:me,dbReadyPromise:null,cancelOpen:me,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:l.autoOpen};P.dbReadyPromise=new de(function(N){P.dbReadyResolve=N}),P.openCanceller=new de(function(N,L){P.cancelOpen=L}),this._state=P,this.name=s,this.on=Mn(this,"populate","blocked","versionchange","close",{ready:[hr,me]}),this.once=function(N,L){var T=function(){for(var R=[],O=0;O<arguments.length;O++)R[O]=arguments[O];c.on(N).unsubscribe(T),L.apply(c,R)};return c.on(N,T)},this.on.ready.subscribe=k(this.on.ready.subscribe,function(N){return function(L,T){ot.vip(function(){var R,O=c._state;O.openComplete?(O.dbOpenError||de.resolve().then(L),T&&N(L)):O.onReadyBeingFired?(O.onReadyBeingFired.push(L),T&&N(L)):(N(L),R=c,T||N(function F(){R.on.ready.unsubscribe(L),R.on.ready.unsubscribe(F)}))})}}),this.Collection=(h=this,Sr(v.prototype,function(I,F){this.db=h;var T=wr,R=null;if(F)try{T=F()}catch($){R=$}var O=I._ctx,F=O.table,I=F.hook.reading.fire;this._ctx={table:F,index:O.index,isPrimKey:!O.index||F.schema.primKey.keyPath&&O.index===F.schema.primKey.name,range:T,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:R,or:O.or,valueMapper:I!==Le?I:null}})),this.Table=(m=this,Sr(ni.prototype,function(N,L,T){this.db=m,this._tx=T,this.name=N,this.schema=L,this.hook=m._allTables[N]?m._allTables[N].hook:Mn(null,{creating:[Wn,me],reading:[dt,Le],updating:[fr,me],deleting:[nt,me]})})),this.Transaction=(y=this,Sr(Ey.prototype,function(N,L,T,R,O){var F=this;N!=="readonly"&&L.forEach(function(I){I=(I=T[I])===null||I===void 0?void 0:I.yProps,I&&(L=L.concat(I.map(function($){return $.updatesTable})))}),this.db=y,this.mode=N,this.storeNames=L,this.schema=T,this.chromeTransactionDurability=R,this.idbtrans=null,this.on=Mn(this,"complete","error","abort"),this.parent=O||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new de(function(I,$){F._resolve=I,F._reject=$}),this._completion.then(function(){F.active=!1,F.on.complete.fire()},function(I){var $=F.active;return F.active=!1,F.on.error.fire(I),F.parent?F.parent._reject(I):$&&F.idbtrans&&F.idbtrans.abort(),He(I)})})),this.Version=(S=this,Sr(Fy.prototype,function(N){this.db=S,this._cfg={version:N,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(E=this,Sr(Od.prototype,function(N,L,T){if(this.db=E,this._ctx={table:N,index:L===":id"?null:L,or:T},this._cmp=this._ascending=Oe,this._descending=function(R,O){return Oe(O,R)},this._max=function(R,O){return 0<Oe(R,O)?R:O},this._min=function(R,O){return Oe(R,O)<0?R:O},this._IDBKeyRange=E._deps.IDBKeyRange,!this._IDBKeyRange)throw new z.MissingAPI})),this.on("versionchange",function(N){0<N.newVersion?console.warn("Another connection wants to upgrade database '".concat(c.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(c.name,"'. Closing db now to resume the delete request.")),c.close({disableAutoOpen:!1})}),this.on("blocked",function(N){!N.newVersion||N.newVersion<N.oldVersion?console.warn("Dexie.delete('".concat(c.name,"') was blocked")):console.warn("Upgrade '".concat(c.name,"' blocked by other connection holding version ").concat(N.oldVersion/10))}),this._maxKey=Ts(l.IDBKeyRange),this._createTransaction=function(N,L,T,R){return new c.Transaction(N,L,T,c._options.chromeTransactionDurability,R)},this._fireOnBlocked=function(N){c.on("blocked").fire(N),Qn.filter(function(L){return L.name===c.name&&L!==c&&!L._state.vcFired}).map(function(L){return L.on("versionchange").fire(N)})},this.use(zy),this.use(By),this.use(Dy),this.use(Iy),this.use(Ay);var M=new Proxy(this,{get:function(N,L,T){if(L==="_vip")return!0;if(L==="table")return function(O){return Vo(c.table(O),M)};var R=Reflect.get(N,L,T);return R instanceof ni?Vo(R,M):L==="tables"?R.map(function(O){return Vo(O,M)}):L==="_createTransaction"?function(){return Vo(R.apply(this,arguments),M)}:R}});this.vip=M,d.forEach(function(N){return N(c)})}var qo,nn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Ky=(Ka.prototype.subscribe=function(s,l,c){return this._subscribe(s&&typeof s!="function"?s:{next:s,error:l,complete:c})},Ka.prototype[nn]=function(){return this},Ka);function Ka(s){this._subscribe=s}try{qo={indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch{qo={indexedDB:null,IDBKeyRange:null}}function qd(s){var l,c=!1,d=new Ky(function(h){var m=je(s),y,S=!1,E={},P={},M={get closed(){return S},unsubscribe:function(){S||(S=!0,y&&y.abort(),N&&Nr.storagemutated.unsubscribe(T))}};h.start&&h.start(M);var N=!1,L=function(){return js(R)},T=function(O){Ko(E,O),La(P,E)&&L()},R=function(){var O,F,I;!S&&qo.indexedDB&&(E={},O={},y&&y.abort(),y=new AbortController,I=function($){var H=St();try{m&&xr();var Q=mn(s,$);return Q=m?Q.finally(Tn):Q}finally{H&&Ht()}}(F={subscr:O,signal:y.signal,requery:L,querier:s,trans:null}),Promise.resolve(I).then(function($){c=!0,l=$,S||F.signal.aborted||(E={},function(H){for(var Q in H)if(b(H,Q))return;return 1}(P=O)||N||(Nr(Ps,T),N=!0),js(function(){return!S&&h.next&&h.next($)}))},function($){c=!1,["DatabaseClosedError","AbortError"].includes($==null?void 0:$.name)||S||js(function(){S||h.error&&h.error($)})}))};return setTimeout(L,0),M});return d.hasValue=function(){return c},d.getValue=function(){return l},d}var si=Jn;function Wa(s){var l=Cr;try{Cr=!0,Nr.storagemutated.fire(s),za(s,!0)}finally{Cr=l}}_(si,r(r({},we),{delete:function(s){return new si(s,{addons:[]}).delete()},exists:function(s){return new si(s,{addons:[]}).open().then(function(l){return l.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(s){try{return l=si.dependencies,c=l.indexedDB,l=l.IDBKeyRange,(Oa(c)?Promise.resolve(c.databases()).then(function(d){return d.map(function(h){return h.name}).filter(function(h){return h!==Rn})}):Ra(c,l).toCollection().primaryKeys()).then(s)}catch{return He(new z.MissingAPI)}var l,c},defineClass:function(){return function(s){p(this,s)}},ignoreTransaction:function(s){return xe.trans?qn(xe.transless,s):s()},vip:Ma,async:function(s){return function(){try{var l=Da(s.apply(this,arguments));return l&&typeof l.then=="function"?l:de.resolve(l)}catch(c){return He(c)}}},spawn:function(s,l,c){try{var d=Da(s.apply(c,l||[]));return d&&typeof d.then=="function"?d:de.resolve(d)}catch(h){return He(h)}},currentTransaction:{get:function(){return xe.trans||null}},waitFor:function(s,l){return l=de.resolve(typeof s=="function"?si.ignoreTransaction(s):s).timeout(l||6e4),xe.trans?xe.trans.waitFor(l):l},Promise:de,debug:{get:function(){return en},set:function(s){Pi(s)}},derive:V,extend:p,props:_,override:k,Events:Mn,on:Nr,liveQuery:qd,extendObservabilitySet:Ko,getByKeyPath:J,setByKeyPath:G,delByKeyPath:function(s,l){typeof l=="string"?G(s,l,void 0):"length"in l&&[].map.call(l,function(c){G(s,c,void 0)})},shallowClone:ne,deepClone:Y,getObjectDiff:$a,cmp:Oe,asap:Z,minKey:-1/0,addons:[],connections:Qn,errnames:ct,dependencies:qo,cache:ii,semVer:"4.2.1",version:"4.2.1".split(".").map(function(s){return parseInt(s)}).reduce(function(s,l,c){return s+l/Math.pow(10,2*c)})})),si.maxKey=Ts(si.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Nr(Ps,function(s){Cr||(s=new CustomEvent(ja,{detail:s}),Cr=!0,dispatchEvent(s),Cr=!1)}),addEventListener(ja,function(s){s=s.detail,Cr||Wa(s)}));var Ii,Cr=!1,Qd=function(){};return typeof BroadcastChannel<"u"&&((Qd=function(){(Ii=new BroadcastChannel(ja)).onmessage=function(s){return s.data&&Wa(s.data)}})(),typeof Ii.unref=="function"&&Ii.unref(),Nr(Ps,function(s){Cr||Ii.postMessage(s)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(s){if(!Jn.disableBfCache&&s.persisted){en&&console.debug("Dexie: handling persisted pagehide"),Ii!=null&&Ii.close();for(var l=0,c=Qn;l<c.length;l++)c[l].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(s){!Jn.disableBfCache&&s.persisted&&(en&&console.debug("Dexie: handling persisted pageshow"),Qd(),Wa({all:new kt(-1/0,[[]])}))})),de.rejectionMapper=function(s,l){return!s||s instanceof $e||s instanceof TypeError||s instanceof SyntaxError||!s.name||!Ce[s.name]?s:(l=new Ce[s.name](l||s.message,s),"stack"in s&&D(l,"stack",{get:function(){return this.inner.stack}}),l)},Pi(en),r(Jn,Object.freeze({__proto__:null,Dexie:Jn,liveQuery:qd,Entity:br,cmp:Oe,PropModification:Vt,replacePrefix:function(s,l){return new Vt({replacePrefix:[s,l]})},add:function(s){return new Vt({add:s})},remove:function(s){return new Vt({remove:s})},default:Jn,RangeSet:kt,mergeRanges:Ms,rangesOverlap:Ad}),{default:Jn}),Jn})})(yy);var ow=yy.exports;const jc=Oc(ow),vh=Symbol.for("Dexie"),ta=globalThis[vh]||(globalThis[vh]=jc);if(jc.semVer!==ta.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${jc.semVer} and ${ta.semVer}`);const{liveQuery:gb,mergeRanges:vb,rangesOverlap:xb,RangeSet:wb,cmp:bb,Entity:Sb,PropModification:kb,replacePrefix:jb,add:Nb,remove:Cb,DexieYProvider:Eb}=ta;class lw extends ta{constructor(){super("subtitle-learner");Ai(this,"words");Ai(this,"subtitleFiles");Ai(this,"subtitleCues");Ai(this,"prefs");Ai(this,"sessions");this.version(1).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt"}),this.version(2).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt",subtitleCues:"&id, fileHash, index",sessions:"&id, updatedAt"}),this.version(3).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt",subtitleCues:"&id, fileHash, index",sessions:"&id, updatedAt"}),this.version(3).upgrade(n=>n.table("words").toArray().then(r=>{const i=r.map(o=>({id:o.id,original:o.original,originalSentence:o.originalSentence,normalized:o.normalized,stem:o.stem,createdAt:o.createdAt,updatedAt:o.updatedAt}));return n.table("words").clear().then(()=>n.table("words").bulkPut(i))})),this.version(4).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt",subtitleCues:"&id, fileHash, index",sessions:"&id, updatedAt"}),this.version(4).upgrade(n=>n.table("words").toArray().then(r=>{const i=r.map(o=>({id:o.id,original:o.original,originalSentence:o.originalSentence,normalized:o.normalized,stem:o.stem,createdAt:o.createdAt,updatedAt:o.updatedAt}));return n.table("words").clear().then(()=>n.table("words").bulkPut(i))})),this.version(5).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt",subtitleCues:"&id, fileHash, index",sessions:"&id, updatedAt"}),this.version(5).upgrade(n=>n.table("sessions").toArray().then(r=>{const i=r.map(o=>{if(!o||typeof o!="object")return o;const{videoBlob:u,...f}=o;return f});return n.table("sessions").clear().then(()=>n.table("sessions").bulkPut(i))}))}}const Ne=new lw;let wu=null,xh=!1,wh=!1;async function Td(){return xh?!0:wh?!1:(wu||(wu=Ne.open().then(()=>(xh=!0,!0)).catch(()=>(wh=!0,!1))),wu)}async function rt(e,t){if(!await Td())return e;try{return await t()}catch{return e}}async function $t(e){if(await Td())try{await e()}catch{}}async function aw(){return rt([],()=>Ne.words.toArray())}async function bu(e){await $t(()=>Ne.words.put(e))}async function uw(e){await $t(()=>Ne.words.delete(e))}async function Su(e){await $t(()=>Ne.transaction("rw",Ne.words,async()=>{await Ne.words.clear(),e.length>0&&await Ne.words.bulkPut(e)}))}function Di(e){return[...e].sort((t,n)=>n.updatedAt-t.updatedAt)}function cw(e){if(typeof e=="string"){const[t]=Un(e);return t}return e}function bh(e){let t=!1;return{next:e.map(r=>{const i=Pd(r.normalized);return i===r.stem?r:(t=!0,{...r,stem:i})}),changed:t}}const xt=_d((e,t)=>({words:[],initialized:!1,initialize:async()=>{if(t().initialized)return;const n=await aw(),{next:r,changed:i}=bh(n),o=Di(r);e({words:o,initialized:!0}),i&&await Su(o)},addUnknownWordFromToken:async(n,r)=>{const i=cw(n);if(!i||!i.isWord)return;const o=t().words.find(p=>p.normalized===i.normalized||p.stem===i.stem),u=Date.now();if(o){const p={...o,updatedAt:u,original:o.original||i.text,originalSentence:r??o.originalSentence};e(g=>({words:Di(g.words.map(j=>j.id===o.id?p:j))})),await bu(p);return}const f={id:kc(),original:i.text,originalSentence:r,normalized:i.normalized,stem:i.stem,createdAt:u,updatedAt:u};e(p=>({words:Di([...p.words,f])})),await bu(f)},updateWord:async(n,r)=>{const i=t().words.find(u=>u.id===n);if(!i)return;const o={...i,...r,updatedAt:Date.now()};e(u=>({words:Di(u.words.map(f=>f.id===n?o:f))})),await bu(o)},removeWord:async n=>{e(r=>({words:r.words.filter(i=>i.id!==n)})),await uw(n)},importWords:async n=>{const r=Date.now(),i=f=>`${f.normalized}::${f.stem}`,o=new Map;for(const f of t().words)o.set(i(f),f);for(const f of n){if(!f.normalized)continue;const p=f.normalized,g=f.stem??Pd(p),j=`${p}::${g}`,b=o.get(j);o.set(j,{id:f.id??(b==null?void 0:b.id)??kc(),original:f.original??(b==null?void 0:b.original)??p,originalSentence:f.originalSentence??(b==null?void 0:b.originalSentence),normalized:p,stem:g,createdAt:f.createdAt??(b==null?void 0:b.createdAt)??r,updatedAt:f.updatedAt??r})}const u=Di(Array.from(o.values()));e({words:u,initialized:!0}),await Su(u)},reanalyzeStems:async()=>{const{next:n,changed:r}=bh(t().words);if(!r)return;const i=Di(n);e({words:i}),await Su(i)},classForToken:n=>{const r=new Set(t().words.map(o=>o.normalized)),i=new Set(t().words.map(o=>o.stem));return r.has(n.normalized)?"hl-exact text-white":i.has(n.stem)?"hl-variant text-white":"bg-transparent"}})),gy="prefs";async function dw(){return rt(void 0,async()=>{const e=await Ne.prefs.get(gy);return e==null?void 0:e.value})}async function Bs(e){await $t(()=>Ne.prefs.put({id:gy,value:e,updatedAt:Date.now()}))}const $i={subtitleStyle:{fontFamily:"Inter",fontSizePx:42,secondaryFontSizePx:36,useMainForSecondaryFontSize:!0,fontWeight:600,color:"#ffffff",outline:!0,shadow:!0,bgColor:"rgba(0, 0, 0, 0.35)",lineHeight:1.35},highlightColors:{exact:"#10b981",variant:"#f97316"},playerShortcuts:{toggleSecondarySubtitle:{code:"KeyH",label:"H"},mainSubtitleOffsetBack:{code:"BracketLeft",label:"["},mainSubtitleOffsetForward:{code:"BracketRight",label:"]"}},mediaLibrary:void 0},Je=_d((e,t)=>({prefs:$i,initialized:!1,initialize:async()=>{if(t().initialized)return;const n=await dw();if(!n){e({prefs:$i,initialized:!0});return}const r={...$i,...n,subtitleStyle:{...$i.subtitleStyle,...n.subtitleStyle},highlightColors:{...$i.highlightColors,...n.highlightColors},playerShortcuts:{...$i.playerShortcuts,...n.playerShortcuts}};e({prefs:r,initialized:!0})},updateSubtitleStyle:async n=>{const r={...t().prefs,subtitleStyle:{...t().prefs.subtitleStyle,...n}};e({prefs:r}),await Bs(r)},updateHighlightColors:async n=>{const r={...t().prefs,highlightColors:{...t().prefs.highlightColors,...n}};e({prefs:r}),await Bs(r)},updatePlayerShortcuts:async n=>{const r={...t().prefs,playerShortcuts:{...t().prefs.playerShortcuts,...n}};e({prefs:r}),await Bs(r)},setLastOpened:async n=>{const r={...t().prefs,lastOpened:n};e({prefs:r}),await Bs(r)},setMediaLibrary:async n=>{const r={...t().prefs,mediaLibrary:n};e({prefs:r}),await Bs(r)}})),ai=_d((e,t)=>({videoName:"",videoUrl:null,videoBlob:null,videoDurationMs:null,setVideoFromFile:n=>{const r=t().videoUrl;r&&URL.revokeObjectURL(r),e({videoName:n.name,videoUrl:URL.createObjectURL(n),videoBlob:n,videoDurationMs:null})},setVideoFromBlob:(n,r)=>{const i=t().videoUrl;i&&URL.revokeObjectURL(i),e({videoName:n,videoUrl:URL.createObjectURL(r),videoBlob:r,videoDurationMs:null})},setVideoNameOnly:n=>{const r=t().videoUrl;r&&URL.revokeObjectURL(r),e({videoName:n,videoUrl:null,videoBlob:null,videoDurationMs:null})},clearVideo:()=>{const n=t().videoUrl;n&&URL.revokeObjectURL(n),e({videoName:"",videoUrl:null,videoBlob:null,videoDurationMs:null})},setVideoDurationMs:n=>{e({videoDurationMs:n})}})),Sh=/(\d{2}:\d{2}:\d{2},\d{3}) --> (\d{2}:\d{2}:\d{2},\d{3})/,Nc="",Cc="";function kh(e){const[t,n,r]=e.split(":"),[i,o]=r.split(",");return Number(t)*3600*1e3+Number(n)*60*1e3+Number(i)*1e3+Number(o)}function fw(e){return e.replace(/<i>/gi,Nc).replace(/<\/i>/gi,Cc).replace(/<[^>]+>/g,"").replace(/\s+/g," ").trim()}function hw(e,t){const n=Number.parseInt((e==null?void 0:e.trim())??"",10);return Number.isFinite(n)?n:t}function qs(e){var r;const t=[],n=e.split(/\r?\n\r?\n/).filter(Boolean);for(const i of n){const o=i.split(/\r?\n/).map(b=>b.trim()).filter(b=>b.length>0);if(o.length<2)continue;const u=o.findIndex(b=>Sh.test(b));if(u===-1)continue;const f=(r=o[u])==null?void 0:r.match(Sh);if(!f)continue;const p=fw(o.slice(u+1).join(`
`));if(!p)continue;const g=kh(f[1]),j=kh(f[2]);!Number.isFinite(g)||!Number.isFinite(j)||j<g||t.push({index:hw(o[u-1],t.length),startMs:g,endMs:j,rawText:p})}return t}const pw=/^[\)\]\}.,!?;:%]+$/u,mw=/^[\(\[\{]+$/u,yw=/^[.]+$/u;function jo(e){return e.isWord||/^\d+$/.test(e.text)}function vy(e){return!e.isWord&&pw.test(e.text)}function xy(e){return!e.isWord&&mw.test(e.text)}function wy(e,t){if(!e||vy(t)||xy(e))return!1;const n=jo(e),r=jo(t);return!!(n&&r||n&&!r||!n&&r)}function gw(e){const t=new RegExp(`(${Nc}|${Cc})`,"g"),n=e.split(t).filter(o=>o.length>0);let r=!1;const i=[];for(const o of n){if(o===Nc){r=!0;continue}if(o===Cc){r=!1;continue}const u=Un(o);i.push(...u.map(f=>({token:f,italic:r})))}return i}function vw(e,t={}){const{isRtl:n=!1}=t,r=[];let i="",o=!1;if(e.forEach((u,f)=>{const p=e[f+1];if(n&&!u.token.isWord&&yw.test(u.token.text)&&p&&jo(p.token)){i+=u.token.text,o=o||u.italic;return}if(!u.token.isWord&&xy(u.token)&&p&&jo(p.token)){i+=u.token.text,o=o||u.italic;return}if(!u.token.isWord&&vy(u.token)&&r.length>0){const b=r[r.length-1];b.text+=u.token.text,b.italic=b.italic||u.italic;return}const g=`${i}${u.token.text}`,j=o||u.italic;i="",o=!1,g.trim().length!==0&&r.push({token:u.token,text:g,italic:j})}),i.trim().length>0){const u=i.trim();r.push({token:{text:u,normalized:u,stem:u,isWord:!1},text:u,italic:o})}return r}const xw=["INPUT","TEXTAREA","SELECT"];function ww(e){return typeof HTMLElement>"u"||!(e instanceof HTMLElement)?!1:e.isContentEditable?!0:xw.includes(e.tagName)}function Zn(e){e.preventDefault(),e.stopPropagation(),typeof e.stopImmediatePropagation=="function"&&e.stopImmediatePropagation()}function er(e,t,n){return t.includes(e.code)||n.includes(e.key)}function bw(e,t){const{video:n,seekBy:r,toggleFullscreen:i,toggleMute:o,togglePlayback:u,toggleSecondarySubtitle:f}=t,{stepVolume:p}=t;return!n||ww(e.target)||e.altKey||e.ctrlKey||e.metaKey?!1:er(e,["Space"],[" ","Spacebar"])||er(e,["KeyK"],["k","K"])?(Zn(e),u(),!0):er(e,["ArrowLeft"],["ArrowLeft"])?(Zn(e),r(-5),!0):er(e,["ArrowRight"],["ArrowRight"])?(Zn(e),r(5),!0):er(e,["ArrowUp"],["ArrowUp"])?(Zn(e),p("up"),!0):er(e,["ArrowDown"],["ArrowDown"])?(Zn(e),p("down"),!0):er(e,["KeyF"],["f","F"])?(Zn(e),i(),!0):er(e,["KeyM"],["m","M"])?(Zn(e),o(),!0):!t.ignoreSecondarySubtitleShortcut&&er(e,["KeyH"],["h","H"])?(Zn(e),f(),!0):!1}function jh(e){const t=Math.max(0,Math.floor(e/1e3)),n=Math.floor(t/60).toString().padStart(2,"0"),r=(t%60).toString().padStart(2,"0");return`${n}:${r}`}async function Ec(e,t="SHA-256"){const n=await e.arrayBuffer(),r=await crypto.subtle.digest(t,n);return Array.from(new Uint8Array(r)).map(o=>o.toString(16).padStart(2,"0")).join("")}async function _c(e){const t=await e.arrayBuffer();if(t.byteLength>=2){const r=new Uint8Array(t);if(r[0]===255&&r[1]===254)return new TextDecoder("utf-16le").decode(t);if(r[0]===254&&r[1]===255)return new TextDecoder("utf-16be").decode(t);if(t.byteLength>=3&&r[0]===239&&r[1]===187&&r[2]===191)return new TextDecoder("utf-8").decode(t)}const n=new TextDecoder("utf-8",{fatal:!0});try{return n.decode(t)}catch{return new TextDecoder("windows-1255").decode(t)}}function by(e){return Number.isInteger(e.index)&&e.index>=0&&Number.isFinite(e.startMs)&&e.startMs>=0&&Number.isFinite(e.endMs)&&e.endMs>=e.startMs&&typeof e.rawText=="string"&&e.rawText.trim().length>0}function Sw(e){return by({index:e.index,startMs:e.startMs,endMs:e.endMs,rawText:e.rawText,tokens:e.tokens})}function kw(e){const{index:t,startMs:n,endMs:r,rawText:i,tokens:o}=e;return{index:t,startMs:n,endMs:r,rawText:i,tokens:o}}function jw(e,t){return{id:`${e}:${t.index}`,fileHash:e,index:t.index,startMs:t.startMs,endMs:t.endMs,rawText:t.rawText,tokens:t.tokens??[]}}async function Lr(e){return rt(void 0,async()=>{const n=(await Ne.subtitleCues.where("fileHash").equals(e).sortBy("index")).filter(Sw);if(n.length!==0)return n.map(kw)})}async function Pc(e,t){const n=t.filter(by);await $t(()=>Ne.transaction("rw",Ne.subtitleCues,async()=>{await Ne.subtitleCues.where("fileHash").equals(e).delete(),n.length>0&&await Ne.subtitleCues.bulkPut(n.map(r=>jw(e,r)))}))}async function Nw(e){await $t(()=>Ne.subtitleCues.where("fileHash").equals(e).delete())}async function pi(e){const t=await rt(void 0,()=>Ne.subtitleFiles.where("bytesHash").equals(e.bytesHash).first()),n=t?{...t,...e,addedAt:e.addedAt??Date.now()}:{id:kc(),name:e.name,bytesHash:e.bytesHash,totalCues:e.totalCues,language:e.language,addedAt:e.addedAt??Date.now()};return await $t(()=>Ne.subtitleFiles.put(n)),n}async function Sy(){return rt([],()=>Ne.subtitleFiles.orderBy("addedAt").reverse().toArray())}async function Nh(e){await $t(()=>Ne.transaction("rw",Ne.subtitleFiles,Ne.subtitleCues,async()=>{const t=await Ne.subtitleFiles.get(e);t&&(await Ne.subtitleFiles.delete(e),await Nw(t.bytesHash))}))}const Tc="last-session";async function Cw(){return rt(void 0,()=>Ne.sessions.get(Tc))}async function ui(e){const t=Date.now();if(await rt(0,()=>Ne.sessions.update(Tc,{...e,updatedAt:t}))>0)return;const r={id:Tc,updatedAt:t,videoName:e.videoName,subtitleName:e.subtitleName,subtitleText:e.subtitleText,subtitleHash:e.subtitleHash,subtitleOffsetMs:e.subtitleOffsetMs,videoTimeSeconds:e.videoTimeSeconds,secondarySubtitleName:e.secondarySubtitleName,secondarySubtitleText:e.secondarySubtitleText,secondarySubtitleHash:e.secondarySubtitleHash,secondarySubtitleEnabled:e.secondarySubtitleEnabled,secondarySubtitleOffsetMs:e.secondarySubtitleOffsetMs};await $t(()=>Ne.sessions.put(r))}const Ew=/[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/,_w=/^[.!?]+$/u,ci=[1,2,3,4,5,10,15,20,25,30,40,50,60,70,80,90,100],Pw="No valid subtitle cues found. Use a valid .srt file.";function Ch(e){return e.some(t=>Ew.test(t.rawText))}function Tw(e){return!e.isWord&&_w.test(e.text)}function Rw(e){const t=e.trim();if(!t)return;const n=encodeURIComponent(`${t} definition`);window.open(`https://www.google.com/search?q=${n}`,"_blank","noopener,noreferrer")}const Ow=["INPUT","TEXTAREA","SELECT","BUTTON","SUMMARY"];function Mw(e){return typeof HTMLElement>"u"||!(e instanceof HTMLElement)?!1:e.isContentEditable?!0:Ow.includes(e.tagName)}function Fw(e){return e.key===" "?"Space":e.key==="Escape"?"Esc":e.key.startsWith("Arrow")?e.key.replace("Arrow","Arrow "):e.key.length===1?e.key.toUpperCase():e.key}function Eh(e){e.preventDefault(),e.stopPropagation(),typeof e.stopImmediatePropagation=="function"&&e.stopImmediatePropagation()}function _h(e){if(e.length===0)throw new Error(Pw);return e}function ky(e,t){const n=x.useMemo(()=>gw(e.rawText),[e.rawText]),r=x.useMemo(()=>{if(!t)return n;const i=n.findIndex(u=>jo(u.token));if(i<=0)return n;const o=n.slice(0,i);return o.length===0?n:o.every(u=>Tw(u.token))?[...n.slice(i),...o]:n},[t,n]);return x.useMemo(()=>vw(r,{isRtl:t}),[r,t])}function Ph({cue:e,onTokenClick:t,onTokenContextMenu:n,classForToken:r,isRtl:i=!1,className:o}){const u=ky(e,i);return a.jsx("div",{className:`pointer-events-none flex flex-wrap ${o??""}`,dir:i?"rtl":"ltr",children:u.map((f,p)=>{const g=p>0?u[p-1].token:void 0,j=f.token,b=wy(g,j)?"ms-1":"";return a.jsx("button",{type:"button",className:`pointer-events-auto relative z-50 rounded px-0.5 text-left ${b} ${j.isWord?"focus:outline-none focus-visible:outline-none":"cursor-default"}`,onClick:_=>{j.isWord&&(t(j,e),_.currentTarget instanceof HTMLElement&&_.currentTarget.blur())},onContextMenu:_=>{j.isWord&&(_.preventDefault(),n(j,e))},disabled:!j.isWord,children:a.jsx("span",{className:`rounded px-1 py-0.5 transition-colors ${f.italic?"italic":""} ${r(j)}`,children:f.text})},`${f.text}-${p}`)})})}function Th({cue:e,isRtl:t=!1,className:n}){const r=ky(e,t);return a.jsx("div",{className:`flex flex-wrap ${n??""}`,dir:t?"rtl":"ltr",children:r.map((i,o)=>{const u=o>0?r[o-1].token:void 0,f=i.token,p=wy(u,f)?"ms-1":"";return a.jsx("span",{className:`rounded px-1 py-0.5 ${p}`,children:i.text},`${i.text}-${o}`)})})}function Rh({isActive:e=!0}){const t=x.useRef(null),n=x.useRef(null),r=x.useRef(null),i=x.useRef(new Map),o=x.useRef({}),u=ai(v=>v.videoName),f=ai(v=>v.videoUrl),p=ai(v=>v.videoDurationMs),g=ai(v=>v.videoBlob),j=ai(v=>v.setVideoFromFile),b=ai(v=>v.setVideoFromBlob),_=ai(v=>v.setVideoDurationMs),[K,D]=x.useState(null),[V,X]=x.useState(""),[C,w]=x.useState([]),[k,B]=x.useState(0),[Z,J]=x.useState(!1),[G,ne]=x.useState(0),[Ee,fe]=x.useState(null),[Ie,De]=x.useState(!1),[Y,q]=x.useState(""),[ae,ie]=x.useState([]),[ke,W]=x.useState(!1),[se,pe]=x.useState(0),[je,be]=x.useState(null),[$e,Qe]=x.useState(!1),[gt,Ge]=x.useState(!1),[ct,xs]=x.useState(!1),[z,Ce]=x.useState(!1),[we,me]=x.useState(!1),[Le,dt]=x.useState(1),[at,Wn]=x.useState(null),[nt,fr]=x.useState(null),[_i,hr]=x.useState(!0),[en,Pi]=x.useState(!0),[pr,ws]=x.useState(!1),[Ae,tn]=x.useState(null),[cn,bs]=x.useState(null),Cn=x.useRef(null),mr=x.useRef(null),En=x.useRef(null),dn=x.useRef(0),yr=x.useRef(!1),gr=xt(v=>v.addUnknownWordFromToken),fn=xt(v=>v.classForToken),xe=xt(v=>v.initialize),vr=xt(v=>v.initialized),_n=Je(v=>v.initialize),hn=Je(v=>v.initialized),de=Je(v=>v.setLastOpened),Ti=Je(v=>v.prefs.playerShortcuts),It=Je(v=>v.prefs.mediaLibrary),Jr=Je(v=>v.updatePlayerShortcuts),Ss=x.useCallback((v,A)=>{gr(v,A.rawText)},[gr]),Ri=x.useCallback((v,A)=>{Rw(v.text),gr(v,A.rawText)},[gr]),Ro=x.useCallback(v=>{Wn(v),En.current!==null&&window.clearTimeout(En.current),En.current=window.setTimeout(()=>{Wn(null)},500)},[]),pn=x.useCallback(v=>{w(v),De(v.length>0&&Ch(v))},[]),St=x.useCallback(v=>{ie(v),Ge(v.length>0&&Ch(v))},[]),Ht=x.useCallback(async(v,A,U)=>{const he=_h(U);pn(he),await Promise.all([Pc(v,he),pi({name:A,bytesHash:v,totalCues:he.length})])},[pn]),Pn=x.useCallback(async(v,A,U)=>{const he=_h(U);St(he),await Promise.all([Pc(v,he),pi({name:A,bytesHash:v,totalCues:he.length})])},[St]);x.useEffect(()=>{vr||xe()},[vr,xe]),x.useEffect(()=>{hn||_n()},[hn,_n]),x.useEffect(()=>{const v=()=>{const A=t.current;xs(document.fullscreenElement===A)};return document.addEventListener("fullscreenchange",v),()=>{document.removeEventListener("fullscreenchange",v)}},[]),x.useEffect(()=>{const v=n.current;if(!v)return;const A=()=>Ce(!v.paused),U=()=>me(v.muted),he=()=>dt(v.volume),Se=()=>{const ve=Number.isFinite(v.duration)?v.duration*1e3:null;fr(ve),ve&&_(ve)};return A(),U(),he(),Se(),v.addEventListener("play",A),v.addEventListener("pause",A),v.addEventListener("volumechange",U),v.addEventListener("volumechange",he),v.addEventListener("loadedmetadata",Se),v.addEventListener("durationchange",Se),()=>{v.removeEventListener("play",A),v.removeEventListener("pause",A),v.removeEventListener("volumechange",U),v.removeEventListener("volumechange",he),v.removeEventListener("loadedmetadata",Se),v.removeEventListener("durationchange",Se)}},[]);const Zr=x.useCallback(async()=>{const v=t.current;if(v&&document.fullscreenElement!==v)try{await v.requestFullscreen()}catch(A){console.error("Failed to enter fullscreen",A)}},[]),Ke=x.useCallback(async()=>{if(document.fullscreenElement)try{await document.exitFullscreen()}catch(v){console.error("Failed to exit fullscreen",v)}},[]),Xe=x.useCallback(()=>{if(ct){Ke();return}Zr()},[Zr,Ke,ct]);x.useEffect(()=>{const v=new Worker(new URL(""+new URL("srtWorker-CNaout6W.js",import.meta.url).href,import.meta.url),{type:"module"});return r.current=v,()=>{v.terminate(),r.current=null}},[]),x.useEffect(()=>{const v=r.current;if(!v)return;const A=async U=>{const he=i.current.get(U.data.id);if(he){if(o.current[he.target]!==U.data.id){i.current.delete(U.data.id);return}if(i.current.delete(U.data.id),U.data.error){he.target==="secondary"?(be(U.data.error),W(!1)):(fe(U.data.error),J(!1));return}try{he.target==="secondary"?(be(null),await Pn(he.hash,he.fileName,U.data.cues)):(fe(null),await Ht(he.hash,he.fileName,U.data.cues))}catch(Se){console.error(Se),he.target==="secondary"?be(Se instanceof Error?Se.message:"Failed to store parsed secondary subtitles."):fe(Se instanceof Error?Se.message:"Failed to store parsed subtitles.")}finally{he.target==="secondary"?W(!1):J(!1)}}};return v.addEventListener("message",A),()=>{v.removeEventListener("message",A)}},[Ht,Pn,pn,St]);const Oo=x.useCallback(async()=>{if(!(It!=null&&It.handle))return null;try{const v=It.handle.queryPermission,A=It.handle.requestPermission;if(!v||!A)return It.handle;const U=await v.call(It.handle,{mode:"read"});return U==="granted"?It.handle:U==="denied"?null:await A.call(It.handle,{mode:"read"})==="granted"?It.handle:null}catch{return null}},[It]),ei=x.useCallback(async v=>{const A=await Oo();if(!A)return null;const U=v.toLowerCase(),he=[A];for(;he.length>0;){const Se=he.shift();if(!Se)continue;const ve=Se.values;if(ve)for await(const Te of ve.call(Se))if(Te.kind==="file"){if(Te.name.toLowerCase()===U)return Te}else Te.kind==="directory"&&he.push(Te)}return null},[Oo]);x.useEffect(()=>{let v=!1;return(async()=>{const U=await Cw();if(!(v||!U)&&(U.videoName&&!f&&(yr.current=!1,bs(U.videoName)),U.subtitleName&&X(U.subtitleName),typeof U.subtitleOffsetMs=="number"&&ne(U.subtitleOffsetMs),typeof U.videoTimeSeconds=="number"&&D(U.videoTimeSeconds),U.secondarySubtitleName&&q(U.secondarySubtitleName),typeof U.secondarySubtitleEnabled=="boolean"?Qe(U.secondarySubtitleEnabled):U.secondarySubtitleHash&&Qe(!0),typeof U.secondarySubtitleOffsetMs=="number"&&pe(U.secondarySubtitleOffsetMs),!(!U.subtitleHash&&!U.secondarySubtitleHash))){if(U.secondarySubtitleHash){W(!0),be(null);const he=await Lr(U.secondarySubtitleHash);if(v)return;if(he)St(he),W(!1),await pi({name:U.secondarySubtitleName??U.secondarySubtitleHash,bytesHash:U.secondarySubtitleHash,totalCues:he.length});else if(U.secondarySubtitleText){const Se=r.current;if(Se){const ve=crypto.randomUUID();i.current.set(ve,{hash:U.secondarySubtitleHash,fileName:U.secondarySubtitleName??U.secondarySubtitleHash,target:"secondary"}),o.current.secondary=ve,Se.postMessage({id:ve,text:U.secondarySubtitleText})}else try{const ve=qs(U.secondarySubtitleText).map(Te=>({...Te,tokens:Te.tokens??Un(Te.rawText)}));await Pn(U.secondarySubtitleHash,U.secondarySubtitleName??U.secondarySubtitleHash,ve)}catch(ve){v||(be(ve instanceof Error?ve.message:"Failed to parse secondary subtitles"),St([]))}finally{v||W(!1)}}else W(!1)}if(U.subtitleHash){J(!0),fe(null);const he=await Lr(U.subtitleHash);if(v)return;if(he){pn(he),J(!1),await pi({name:U.subtitleName??U.subtitleHash,bytesHash:U.subtitleHash,totalCues:he.length});return}if(!U.subtitleText){J(!1);return}const Se=r.current;if(Se){const ve=crypto.randomUUID();i.current.set(ve,{hash:U.subtitleHash,fileName:U.subtitleName??U.subtitleHash,target:"primary"}),o.current.primary=ve,Se.postMessage({id:ve,text:U.subtitleText});return}try{const ve=qs(U.subtitleText).map(Te=>({...Te,tokens:Te.tokens??Un(Te.rawText)}));await Ht(U.subtitleHash,U.subtitleName??U.subtitleHash,ve)}catch(ve){v||(fe(ve instanceof Error?ve.message:"Failed to parse subtitles"),pn([]))}finally{v||J(!1)}}}})(),()=>{v=!0}},[Ht,Pn,f]),x.useEffect(()=>{if(!hn||!cn||f||yr.current)return;yr.current=!0;let v=!1;return(async()=>{try{const U=await ei(cn);if(v)return;if(U){const he=await U.getFile();v||j(he)}}catch{}})(),()=>{v=!0}},[ei,cn,hn,j,f]),x.useEffect(()=>{const v=n.current;if(v){if(v.currentTime=0,f){v.src!==f&&(v.src=f),v.load();return}v.removeAttribute("src"),v.load()}},[f]),x.useEffect(()=>{nt!==null||!p||fr(p)},[nt,p]),x.useEffect(()=>{if(!g||!f||!u)return;let v=!1;const A=window.setTimeout(()=>{if(v)return;const U=n.current;U&&U.readyState===0&&b(u,g)},800);return()=>{v=!0,window.clearTimeout(A)}},[b,g,u,f]),x.useEffect(()=>{if(!f)return;const v=n.current;if(!v)return;let A=!1,U=0;const he=()=>{if(A)return;const Se=v.duration;if(Number.isFinite(Se)&&Se>0){fr(Se*1e3);return}U+=1,U<20&&window.setTimeout(he,250)};return he(),()=>{A=!0}},[f]),x.useEffect(()=>{const v=n.current;if(!v||K===null)return;const A=()=>{v.currentTime=K};if(v.readyState>=1){A();return}return v.addEventListener("loadedmetadata",A),()=>{v.removeEventListener("loadedmetadata",A)}},[K,f]),x.useEffect(()=>{if(!hn)return;de(u||V?{videoName:u||void 0,srtName:V||void 0}:void 0)},[hn,de,V,u]);const Hn=x.useCallback(()=>{const v=n.current;v&&(v.pause(),v.currentTime=0)},[]),Vn=x.useCallback(()=>{const v=n.current;v&&(v.paused?v.play().catch(A=>{console.error("Failed to play video",A)}):v.pause())},[]),ks=x.useCallback(()=>{const v=n.current;v&&(v.muted=!v.muted)},[]),mn=x.useCallback(v=>{const A=n.current;if(!A||A.readyState===0)return;const U=Math.min(Math.max(A.currentTime+v,0),Number.isFinite(A.duration)?A.duration:Number.POSITIVE_INFINITY);A.currentTime=U},[]),xr=x.useCallback(v=>{const A=n.current;if(!A||A.readyState===0)return;const U=Number(v.target.value);Number.isFinite(U)&&(A.currentTime=U,B(U*1e3))},[]),Tn=x.useCallback(v=>{const A=n.current;if(!A)return;const U=Number(v.target.value);Number.isFinite(U)&&(A.volume=U,U>0&&(A.muted=!1),dt(U))},[]),ti=x.useCallback(v=>{const A=n.current;if(!A)return;const U=Math.round(A.volume*100),he=Math.min(Math.max(U,0),100);let Se=ci[0];if(v==="up"){Se=ci[ci.length-1];for(const Te of ci)if(Te>he){Se=Te;break}}else{Se=ci[0];for(let Te=ci.length-1;Te>=0;Te-=1){const ri=ci[Te];if(ri<he){Se=ri;break}}}const ve=Se/100;A.volume=ve,ve>0&&(A.muted=!1),dt(ve),Ro(Se)},[Ro]),Oi=x.useCallback(async v=>{Hn(),fe(null),J(!0),B(0);const A=await _c(v),U=await Ec(v);X(v.name),pn([]),ui({subtitleName:v.name,subtitleText:A,subtitleHash:U});const he=await Lr(U);if(he){pn(he),J(!1),await pi({name:v.name,bytesHash:U,totalCues:he.length});return}const Se=r.current;if(Se){const ve=crypto.randomUUID();i.current.set(ve,{hash:U,fileName:v.name,target:"primary"}),o.current.primary=ve,Se.postMessage({id:ve,text:A});return}try{const ve=qs(A).map(Te=>({...Te,tokens:Te.tokens??Un(Te.rawText)}));await Ht(U,v.name,ve)}catch(ve){fe(ve instanceof Error?ve.message:"Failed to parse subtitles"),pn([])}finally{J(!1)}},[Ht,pn,Hn]),yn=x.useCallback(async v=>{be(null),W(!0);const A=await _c(v),U=await Ec(v);q(v.name),St([]),ui({secondarySubtitleName:v.name,secondarySubtitleText:A,secondarySubtitleHash:U,secondarySubtitleEnabled:!0});const he=await Lr(U);if(he){St(he),W(!1),Qe(!0),await pi({name:v.name,bytesHash:U,totalCues:he.length});return}const Se=r.current;if(Se){const ve=crypto.randomUUID();i.current.set(ve,{hash:U,fileName:v.name,target:"secondary"}),o.current.secondary=ve,Se.postMessage({id:ve,text:A});return}try{const ve=qs(A).map(Te=>({...Te,tokens:Te.tokens??Un(Te.rawText)}));await Pn(U,v.name,ve),Qe(!0)}catch(ve){be(ve instanceof Error?ve.message:"Failed to parse secondary subtitles"),St([])}finally{W(!1)}},[Pn,St]),Mo=x.useCallback(async v=>{const A=v.target.files;if(!A||A.length===0)return;const U=Array.from(A),he=U.find(Te=>Te.type.startsWith("video/")||Te.name.toLowerCase().endsWith(".mkv"));if(!he){v.target.value="";return}Hn(),D(0),dn.current=0,B(0),j(he),ui({videoName:he.name,videoTimeSeconds:0});const Se=he.name.replace(/\.[^.]+$/,"").toLowerCase(),ve=U.find(Te=>Te.name.toLowerCase()===`${Se}.srt`&&Te!==he);ve&&await Oi(ve),v.target.value=""},[Oi,Hn]),qn=x.useCallback(async v=>{var U;const A=(U=v.target.files)==null?void 0:U[0];A&&(await Oi(A),v.target.value="")},[Oi]),Fo=x.useCallback(async v=>{var U;const A=(U=v.target.files)==null?void 0:U[0];A&&(await yn(A),v.target.value="")},[yn]),js=()=>{const v=n.current;if(!v)return;const A=v.currentTime*1e3;if(pr&&!v.paused){const U=Ns(A);if(U!==null){v.currentTime=U/1e3,B(U);return}}B(A),v.currentTime-dn.current>=2&&(dn.current=v.currentTime,ui({videoTimeSeconds:v.currentTime}))},He=x.useMemo(()=>C.filter(v=>{const A=v.startMs+G,U=v.endMs+G;return A<=k&&U>=k}),[C,k,G]),gn=x.useMemo(()=>ae.filter(v=>{const A=v.startMs+se,U=v.endMs+se;return A<=k&&U>=k}),[ae,k,se]),vn=x.useMemo(()=>jh(k),[k]),Lo=x.useMemo(()=>nt?jh(nt):"--:--",[nt]),Qn=x.useMemo(()=>nt?Math.min(100,Math.max(0,k/nt*100)):0,[k,nt]),Rn=x.useCallback(v=>{for(const A of C){const U=A.startMs+G;if(U>v+50)return Math.max(0,U)}return null},[C,G]),Yn=x.useCallback(v=>{for(let A=C.length-1;A>=0;A-=1){const he=C[A].startMs+G;if(he<v-50)return Math.max(0,he)}return null},[C,G]),Ns=x.useCallback(v=>{let A=null;for(const U of C){const he=U.startMs+G,Se=U.endMs+G;if(v>=he&&v<=Se)return null;if(he>v)return A===null?he-v>150?Math.max(0,he):null:v-A>150?Math.max(0,he):null;A=Se}return null},[C,G]),At=x.useCallback((v,A={})=>{var he;const U=n.current;U&&(U.currentTime=v/1e3,B(v),A.focus!==!1&&((he=t.current)==null||he.focus()))},[]),wr=x.useCallback(v=>{ne(A=>{const U=A+v;return ui({subtitleOffsetMs:U}),U})},[]),On=x.useCallback(v=>{pe(A=>{const U=A+v;return ui({secondarySubtitleOffsetMs:U}),U})},[]),br=x.useCallback(()=>{ae.length!==0&&Qe(v=>{const A=!v;return ui({secondarySubtitleEnabled:A}),A})},[ae.length]),Oe=x.useCallback(()=>{const v=Rn(k);v!==null&&At(v)},[k,Rn,At]),Cs=x.useCallback(()=>{const v=Yn(k);v!==null&&At(v)},[k,Yn,At]),Io=x.useMemo(()=>Rn(k),[k,Rn]),Mi=x.useMemo(()=>Yn(k),[k,Yn]),Vt=x.useCallback(()=>{var v;(v=t.current)==null||v.focus()},[]),Gn=x.useCallback(()=>{Cn.current!==null&&(window.clearTimeout(Cn.current),Cn.current=null)},[]),Xn=x.useCallback(()=>{mr.current!==null&&(window.clearTimeout(mr.current),mr.current=null)},[]),ni=x.useCallback(()=>{Gn(),z&&(Cn.current=window.setTimeout(()=>{hr(!1)},2500))},[Gn,z]),Ue=x.useCallback(()=>{hr(!0),ni()},[ni]),Mn=x.useCallback(()=>{Xn(),ct&&(mr.current=window.setTimeout(()=>{Pi(!1)},1e3))},[Xn,ct]),Sr=x.useCallback(()=>{Pi(!0),Mn()},[Mn]),kr=x.useCallback(()=>{Ue(),Sr()},[Ue,Sr]),Fn=x.useMemo(()=>Ti??{},[Ti]),zt=x.useCallback(v=>{tn(A=>A===v?null:v)},[]),Tt=x.useCallback(v=>{var A;return Ae===v?"Press a key":((A=Fn[v])==null?void 0:A.label)??"None"},[Ae,Fn]);x.useEffect(()=>{if(!Ae)return;const v=A=>{if(A.altKey||A.ctrlKey||A.metaKey)return;if(Eh(A),A.key==="Escape"){tn(null);return}if(A.key==="Backspace"||A.key==="Delete"){const he={[Ae]:void 0};Jr(he),tn(null);return}if(A.key==="Shift"||A.key==="Alt"||A.key==="Control"||A.key==="Meta")return;const U={[Ae]:{code:A.code,label:Fw(A)}};Jr(U),tn(null)};return document.addEventListener("keydown",v,!0),()=>{document.removeEventListener("keydown",v,!0)}},[Ae,Jr]);const Es=x.useCallback(v=>{if(Ae||Mw(v.target)||v.altKey||v.ctrlKey||v.metaKey)return!1;const A={mainSubtitleOffsetBack:()=>{wr(-500)},mainSubtitleOffsetForward:()=>{wr(500)},secondarySubtitleOffsetBack:()=>{On(-500)},secondarySubtitleOffsetForward:()=>{On(500)},toggleSecondarySubtitle:()=>{br()},jumpNextSentence:()=>{Oe()},jumpPrevSentence:()=>{Cs()},toggleMainSubtitleRtl:()=>{De(U=>!U)},toggleSecondarySubtitleRtl:()=>{Ge(U=>!U)},toggleSkipSubtitleGaps:()=>{ws(U=>!U)}};for(const[U,he]of Object.entries(A)){const Se=Fn[U];if(Se&&Se.code===v.code)return Eh(v),he(),Vt(),!0}return!1},[On,wr,Vt,Oe,Cs,Ae,Fn,br]),Ln=x.useCallback(v=>Es(v)?!0:bw(v,{video:n.current,seekBy:mn,toggleFullscreen:Xe,toggleMute:ks,togglePlayback:Vn,toggleSecondarySubtitle:br,stepVolume:ti,ignoreSecondarySubtitleShortcut:!!Fn.toggleSecondarySubtitle}),[Es,mn,Fn,ti,Xe,ks,Vn,br]),Fi=x.useCallback(v=>{Ln(v.nativeEvent)&&(v.preventDefault(),v.stopPropagation())},[Ln]);return x.useEffect(()=>{if(e)return document.addEventListener("keydown",Ln,!0),()=>{document.removeEventListener("keydown",Ln,!0)}},[Ln,e]),x.useEffect(()=>{if(e)return;const v=n.current;v&&!v.paused&&v.pause()},[e]),x.useEffect(()=>{if(!z){Gn(),hr(!0);return}ni()},[Gn,z,ni]),x.useEffect(()=>{if(!ct){Xn(),Pi(!0);return}Mn()},[Xn,ct,Mn]),x.useEffect(()=>()=>{Gn(),Xn()},[Gn,Xn]),x.useEffect(()=>()=>{En.current!==null&&window.clearTimeout(En.current)},[]),a.jsx("div",{className:"space-y-6",onKeyDown:Fi,children:a.jsxs("section",{className:"space-y-4",children:[a.jsxs("div",{ref:t,className:`relative aspect-video overflow-hidden rounded-lg bg-black shadow-xl focus:outline-none focus-visible:outline-none ${ct&&!en?"cursor-none":""}`,onDoubleClick:Xe,onMouseMove:kr,onMouseLeave:()=>{z&&hr(!1)},onFocusCapture:Ue,tabIndex:-1,children:[a.jsx("video",{ref:n,className:"h-full w-full focus:outline-none focus-visible:outline-none",onClick:()=>{Vn(),Vt()},onTimeUpdate:js,src:f??void 0,preload:"metadata",tabIndex:-1,children:a.jsx("track",{kind:"subtitles",srcLang:"en",label:V||"Subtitles"})}),a.jsx("div",{className:`pointer-events-none absolute inset-0 z-40 flex items-center justify-center transition-opacity duration-300 ${at===null?"opacity-0":"opacity-100"}`,"aria-hidden":!0,children:a.jsxs("div",{className:"rounded-full bg-black/50 px-4 py-2 text-lg font-semibold text-white/90 shadow-lg backdrop-blur-sm",children:[at??Math.round(Le*100),"%"]})}),a.jsx("div",{className:`absolute inset-x-0 bottom-0 z-20 flex flex-col gap-3 bg-gradient-to-t from-black/80 via-black/40 to-transparent px-4 pb-4 pt-6 text-white transition-opacity duration-300 ${_i?"opacity-100":"pointer-events-none opacity-0"}`,onDoubleClick:v=>v.stopPropagation(),children:a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("input",{type:"range",min:0,max:nt?Math.max(nt/1e3,0):0,step:.1,value:nt?Math.min(k/1e3,nt/1e3):0,onChange:xr,onKeyDown:Fi,onFocus:v=>{v.currentTarget.blur(),Vt()},className:"player-timeline w-full cursor-pointer","aria-label":"Seek position",disabled:!nt,tabIndex:-1,style:{"--timeline-gradient":`linear-gradient(90deg, rgba(56, 189, 248, 0.6) 0%, rgba(56, 189, 248, 0.6) ${Qn}%, rgba(148, 163, 184, 0.35) ${Qn}%, rgba(148, 163, 184, 0.35) 100%)`}}),a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-sm",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxs("button",{type:"button",className:`group play-variant variant-24 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-200 ${z?"is-paused":""}`,onClick:()=>{Vn(),Vt()},"aria-label":z?"Pause video":"Play video",children:[a.jsx("span",{className:"play-variant-icon","aria-hidden":!0}),a.jsx("span",{className:"player-tooltip",children:"Space"})]}),a.jsxs("div",{className:"group relative flex items-center gap-2",children:[a.jsxs("button",{type:"button",className:"player-icon-button text-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-200",onClick:()=>{ks(),Vt()},"aria-label":we?"Unmute video":"Mute video",children:[a.jsx("span",{"aria-hidden":!0,children:we?"":""}),a.jsx("span",{className:"player-tooltip",children:"M"})]}),a.jsx("div",{className:"max-w-0 overflow-hidden transition-all duration-300 group-hover:max-w-[120px]",children:a.jsx("input",{id:"player-volume",type:"range",min:0,max:1,step:.05,value:we?0:Le,onChange:Tn,onKeyDown:Fi,className:"player-volume w-24 cursor-pointer","aria-label":"Volume"})})]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/70",style:{fontFamily:'"Comic Sans MS", "Comic Sans", cursive'},children:[vn," / ",Lo]}),a.jsx("div",{className:"flex flex-wrap items-center gap-2",children:a.jsx("div",{className:"flex flex-row-reverse items-center gap-2",children:a.jsxs("button",{type:"button",className:"group player-icon-button text-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-200",onClick:()=>{Xe(),Vt()},"aria-label":ct?"Exit fullscreen":"Enter fullscreen",children:[a.jsx("span",{"aria-hidden":!0,children:""}),a.jsx("span",{className:"player-tooltip",children:"F"})]})})})]})]})}),$e&&gn.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"pointer-events-none absolute inset-0 z-30 flex flex-col justify-start p-6",children:a.jsx("div",{className:"pointer-events-none flex flex-col items-center gap-3",children:gn.map(v=>a.jsx("div",{className:"subtitle-overlay subtitle-overlay-secondary subtitle-overlay-bg max-w-3xl text-center",children:a.jsx(Th,{cue:v,isRtl:gt,className:"justify-center text-center"})},`${v.startMs}-${v.endMs}-bg`))})}),a.jsx("div",{className:"pointer-events-none absolute inset-0 z-40 flex flex-col justify-start p-6",children:a.jsx("div",{className:"pointer-events-none flex flex-col items-center gap-3",children:gn.map(v=>a.jsx("div",{className:"subtitle-overlay subtitle-overlay-secondary max-w-3xl text-center",children:a.jsx(Ph,{cue:v,classForToken:fn,onTokenClick:Ss,onTokenContextMenu:Ri,isRtl:gt,className:"justify-center text-center"})},`${v.startMs}-${v.endMs}`))})})]}),He.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"pointer-events-none absolute inset-0 z-30 flex flex-col justify-end p-6",children:a.jsx("div",{className:"pointer-events-none flex flex-col items-center gap-3",children:He.map(v=>a.jsx("div",{className:"subtitle-overlay subtitle-overlay-bg max-w-3xl text-center",children:a.jsx(Th,{cue:v,isRtl:Ie,className:"justify-center text-center"})},`${v.startMs}-${v.endMs}-bg`))})}),a.jsx("div",{className:"pointer-events-none absolute inset-0 z-40 flex flex-col justify-end p-6",children:a.jsx("div",{className:"pointer-events-none flex flex-col items-center gap-3",children:He.map(v=>a.jsx("div",{className:"subtitle-overlay max-w-3xl text-center",children:a.jsx(Ph,{cue:v,classForToken:fn,onTokenClick:Ss,onTokenContextMenu:Ri,isRtl:Ie,className:"justify-center text-center"})},`${v.startMs}-${v.endMs}`))})})]})]}),a.jsxs("div",{className:"space-y-4 rounded-lg border border-white/10 bg-white/5 p-4 text-sm text-white/80",children:[a.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[a.jsxs("label",{className:"flex w-full cursor-pointer flex-col gap-2 rounded-lg border border-dashed border-white/20 bg-white/5 p-4 text-sm hover:border-white/40",children:[a.jsx("span",{className:"font-medium",children:"Load video"}),a.jsx("input",{type:"file",accept:"video/*,video/x-matroska,.mkv,.MKV",multiple:!0,className:"hidden",onChange:Mo}),a.jsx("span",{className:"text-xs text-white/60",children:"Automatically pairs a matching .srt when selected together."}),a.jsxs("span",{className:"text-xs text-white/60",children:["Current: ",u||"None"]})]}),a.jsxs("label",{className:"flex w-full cursor-pointer flex-col gap-2 rounded-lg border border-dashed border-white/20 bg-white/5 p-4 text-sm hover:border-white/40",children:[a.jsx("span",{className:"font-medium",children:"Load subtitles (SRT)"}),a.jsx("input",{type:"file",accept:".srt",className:"hidden",onChange:qn}),a.jsxs("span",{className:"text-xs text-white/60",children:["Current: ",V||"None"]}),Z&&a.jsx("span",{className:"text-xs text-amber-300",children:"Processing subtitles"}),Ee&&a.jsx("span",{className:"text-xs text-red-400",children:Ee})]}),a.jsxs("label",{className:"flex w-full cursor-pointer flex-col gap-2 rounded-lg border border-dashed border-white/20 bg-white/5 p-4 text-sm hover:border-white/40",children:[a.jsx("span",{className:"font-medium",children:"Load second subtitles (SRT, optional)"}),a.jsx("input",{type:"file",accept:".srt",className:"hidden",onChange:Fo}),a.jsxs("span",{className:"text-xs text-white/60",children:["Current: ",Y||"None"]}),ke&&a.jsx("span",{className:"text-xs text-amber-300",children:"Processing second subtitles"}),je&&a.jsx("span",{className:"text-xs text-red-400",children:je})]})]}),a.jsxs("details",{className:"rounded-lg border border-white/10 bg-white/5 p-4 text-sm",children:[a.jsx("summary",{className:"cursor-pointer list-none font-medium text-white/90",children:"More controls & keyboard shortcuts"}),a.jsxs("div",{className:"mt-4 space-y-3 text-xs text-white/70",children:[a.jsx("p",{className:"text-xs text-white/60",children:"Click a shortcut badge, then press a key. Press Backspace/Delete to clear."}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-xs text-white/80",children:[a.jsx("thead",{className:"text-[11px] uppercase tracking-wide text-white/50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2 pr-4",children:"Function"}),a.jsx("th",{className:"py-2 text-right sm:text-left",children:"Shortcut (click to change)"})]})}),a.jsxs("tbody",{className:"divide-y divide-white/10",children:[a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 pr-4",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Main subtitles timing"}),a.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",onClick:()=>{wr(-500)},children:"0.5s"}),a.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",onClick:()=>{wr(500)},children:"+0.5s"}),a.jsxs("span",{className:"text-xs text-white/60",children:["Offset: ",G>=0?"+":"",(G/1e3).toFixed(1),"s"]})]})}),a.jsx("td",{className:"py-3",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:justify-start",children:[a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Ae==="mainSubtitleOffsetBack"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>zt("mainSubtitleOffsetBack"),"aria-pressed":Ae==="mainSubtitleOffsetBack",children:Tt("mainSubtitleOffsetBack")}),a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Ae==="mainSubtitleOffsetForward"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>zt("mainSubtitleOffsetForward"),"aria-pressed":Ae==="mainSubtitleOffsetForward",children:Tt("mainSubtitleOffsetForward")})]})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 pr-4",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Second subtitles timing"}),a.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>{On(-500)},disabled:ae.length===0,children:"0.5s"}),a.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>{On(500)},disabled:ae.length===0,children:"+0.5s"}),a.jsxs("span",{className:"text-xs text-white/60",children:["Offset: ",se>=0?"+":"",(se/1e3).toFixed(1),"s"]})]})}),a.jsx("td",{className:"py-3",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:justify-start",children:[a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Ae==="secondarySubtitleOffsetBack"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>zt("secondarySubtitleOffsetBack"),"aria-pressed":Ae==="secondarySubtitleOffsetBack",children:Tt("secondarySubtitleOffsetBack")}),a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Ae==="secondarySubtitleOffsetForward"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>zt("secondarySubtitleOffsetForward"),"aria-pressed":Ae==="secondarySubtitleOffsetForward",children:Tt("secondarySubtitleOffsetForward")})]})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 pr-4",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Second subtitles visible"}),a.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 text-xs font-medium text-white transition hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>{br()},disabled:ae.length===0,children:$e?"On":"Off"})]})}),a.jsx("td",{className:"py-3",children:a.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:justify-start",children:a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Ae==="toggleSecondarySubtitle"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>zt("toggleSecondarySubtitle"),"aria-pressed":Ae==="toggleSecondarySubtitle",children:Tt("toggleSecondarySubtitle")})})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 pr-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Main subtitles right-to-left order"}),a.jsx("input",{type:"checkbox",checked:Ie,onChange:v=>De(v.target.checked),className:"h-3 w-3 rounded border-white/30 bg-slate-900"})]})}),a.jsx("td",{className:"py-3",children:a.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:justify-start",children:a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Ae==="toggleMainSubtitleRtl"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>zt("toggleMainSubtitleRtl"),"aria-pressed":Ae==="toggleMainSubtitleRtl",children:Tt("toggleMainSubtitleRtl")})})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 pr-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Second subtitles right-to-left order"}),a.jsx("input",{type:"checkbox",checked:gt,onChange:v=>Ge(v.target.checked),className:"h-3 w-3 rounded border-white/30 bg-slate-900"})]})}),a.jsx("td",{className:"py-3",children:a.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:justify-start",children:a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Ae==="toggleSecondarySubtitleRtl"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>zt("toggleSecondarySubtitleRtl"),"aria-pressed":Ae==="toggleSecondarySubtitleRtl",children:Tt("toggleSecondarySubtitleRtl")})})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 pr-4",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Jump to next sentence"}),a.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>{const v=Rn(k);v!==null&&At(v,{focus:!1})},disabled:Io===null,children:"Next"})]})}),a.jsx("td",{className:"py-3",children:a.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:justify-start",children:a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Ae==="jumpNextSentence"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>zt("jumpNextSentence"),"aria-pressed":Ae==="jumpNextSentence",children:Tt("jumpNextSentence")})})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 pr-4",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Jump to previous sentence"}),a.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>{const v=Yn(k);v!==null&&At(v,{focus:!1})},disabled:Mi===null,children:"Back"})]})}),a.jsx("td",{className:"py-3",children:a.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:justify-start",children:a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Ae==="jumpPrevSentence"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>zt("jumpPrevSentence"),"aria-pressed":Ae==="jumpPrevSentence",children:Tt("jumpPrevSentence")})})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 pr-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Skip all gaps between sentences"}),a.jsx("input",{type:"checkbox",checked:pr,onChange:v=>ws(v.target.checked),className:"h-3 w-3 rounded border-white/30 bg-slate-900"})]})}),a.jsx("td",{className:"py-3",children:a.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:justify-start",children:a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Ae==="toggleSkipSubtitleGaps"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>zt("toggleSkipSubtitleGaps"),"aria-pressed":Ae==="toggleSkipSubtitleGaps",children:Tt("toggleSkipSubtitleGaps")})})})]})]})]})})]})]})]})]})})}const Lw="./word-frequency.csv";function Iw(e){const t=e.split(/\r?\n/),n=new Map;for(let r=1;r<t.length;r+=1){const i=t[r];if(!i)continue;const o=i.indexOf(","),u=(o===-1?i:i.slice(0,o)).trim().toLowerCase();!u||n.has(u)||n.set(u,r)}return n}async function Aw(){const e=await fetch(Lw);if(!e.ok)throw new Error("Failed to load frequency list.");const t=await e.text();return Iw(t)}let ku=null;function zw(){return ku||(ku=Aw()),ku}function Dw(e,t){if(!t)return null;const n=t.get(e.stem.toLowerCase());if(typeof n=="number")return n;const r=t.get(e.normalized.toLowerCase());return typeof r=="number"?r:null}function $w({word:e,frequencyRank:t,onDelete:n,visibleColumns:r}){return a.jsxs("tr",{className:"hover:bg-white/5",children:[r.word&&a.jsx("td",{className:"px-4 py-2 font-medium",children:e.original}),r.originalSentence&&a.jsx("td",{className:"px-4 py-2 text-white/70",children:e.originalSentence?a.jsx("span",{className:"block max-w-xl break-words",children:e.originalSentence}):""}),r.normalized&&a.jsx("td",{className:"px-4 py-2 text-white/70",children:e.normalized}),r.stem&&a.jsx("td",{className:"px-4 py-2 text-white/70",children:e.stem}),r.frequencyRank&&a.jsx("td",{className:"px-4 py-2 text-right text-white/70",children:typeof t=="number"?`#${t.toLocaleString()}`:"-"}),r.updatedAt&&a.jsx("td",{className:"px-4 py-2 text-right text-white/60",children:new Date(e.updatedAt).toLocaleString()}),r.actions&&a.jsx("td",{className:"px-4 py-2 text-right",children:a.jsx("button",{type:"button",className:"rounded border border-red-500/40 px-2 py-1 text-xs font-medium text-red-300 hover:bg-red-500/10",onClick:()=>{n(e.id)},children:"Delete"})})]})}function Uw(){const[e,t]=x.useState(null),[n,r]=x.useState(null),[i,o]=x.useState(!1),[u,f]=x.useState(null),[p,g]=x.useState("updatedAt"),[j,b]=x.useState("desc"),[_,K]=x.useState(!1),[D,V]=x.useState({word:!0,originalSentence:!0,normalized:!0,stem:!0,frequencyRank:!0,updatedAt:!0,actions:!0}),[X,C]=x.useState(null),w=xt(q=>q.words),k=xt(q=>q.initialized),B=xt(q=>q.initialize),Z=xt(q=>q.removeWord),J=xt(q=>q.reanalyzeStems);x.useEffect(()=>{k||B()},[k,B]),x.useEffect(()=>{let q=!1;return o(!0),f(null),zw().then(ae=>{q||C(ae)}).catch(ae=>{q||f(ae instanceof Error?ae.message:"Unable to load frequency list.")}).finally(()=>{q||o(!1)}),()=>{q=!0}},[]);const G=x.useMemo(()=>{const q=new Map;for(const ae of w)q.set(ae.id,Dw(ae,X));return q},[X,w]),ne=x.useMemo(()=>{const q=[...w],ae=j==="asc"?1:-1;return q.sort((ie,ke)=>{if(p==="alphabetical")return ie.normalized.localeCompare(ke.normalized,void 0,{sensitivity:"base"})*ae;if(p==="frequencyRank"){const W=G.get(ie.id),se=G.get(ke.id),pe=typeof W=="number"?W:Number.POSITIVE_INFINITY,je=typeof se=="number"?se:Number.POSITIVE_INFINITY;return pe!==je?j==="asc"?pe-je:je-pe:ie.normalized.localeCompare(ke.normalized,void 0,{sensitivity:"base"})}return(ie.updatedAt-ke.updatedAt)*ae}),q},[G,j,p,w]),Ee=x.useCallback(async()=>{var ae;const q=ne.map(ie=>ie.original).join(`
`);if(q.trim()===""){t(null),r("No words available to copy.");return}try{if((ae=navigator.clipboard)!=null&&ae.writeText)await navigator.clipboard.writeText(q);else{const ie=document.createElement("textarea");ie.value=q,ie.setAttribute("readonly","true"),ie.style.position="absolute",ie.style.left="-9999px",document.body.appendChild(ie),ie.select(),document.execCommand("copy"),document.body.removeChild(ie)}t(null),r(`Copied ${ne.length} word${ne.length===1?"":"s"} to the clipboard.`)}catch(ie){r(null),t(ie instanceof Error?ie.message:"Failed to copy words.")}},[ne]),fe=x.useCallback(async()=>{var ae;const q=ne.map(ie=>{const ke=(ie.originalSentence??"").trim();return`${ie.original}, as in "${ke}"`}).join(`
`);if(q.trim()===""){t(null),r("No words available to copy.");return}try{if((ae=navigator.clipboard)!=null&&ae.writeText)await navigator.clipboard.writeText(q);else{const ie=document.createElement("textarea");ie.value=q,ie.setAttribute("readonly","true"),ie.style.position="absolute",ie.style.left="-9999px",document.body.appendChild(ie),ie.select(),document.execCommand("copy"),document.body.removeChild(ie)}t(null),r(`Copied ${ne.length} word${ne.length===1?"":"s"} with sentences.`)}catch(ie){r(null),t(ie instanceof Error?ie.message:"Failed to copy words.")}},[ne]),Ie=x.useCallback(q=>{g(q),b(q==="updatedAt"?"desc":"asc")},[]),De=x.useCallback(q=>{b(ae=>p===q?ae==="asc"?"desc":"asc":q==="updatedAt"?"desc":"asc"),g(q)},[p]),Y=x.useCallback(async()=>{K(!0),t(null),r(null);try{await J(),r("Re-analyzed stems.")}catch(q){t(q instanceof Error?q.message:"Failed to re-analyze stems.")}finally{K(!1)}},[J]);return k?ne.length===0?a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Unknown Words"}),a.jsx("p",{className:"text-sm text-white/60",children:"Click a word in the player to add it to your learning list."}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>{Ee()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20",children:"Copy Words"}),a.jsx("button",{type:"button",onClick:()=>{fe()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20",children:"Copy Words + Sentences"}),a.jsx("a",{href:"https://chatgpt.com/share/69795a95-8b4c-8013-977d-dc008df46bce",target:"_blank",rel:"noreferrer",className:"rounded bg-emerald-500/20 px-3 py-1 text-xs font-medium text-emerald-200 hover:bg-emerald-500/30",children:"Play with ChatGPT"}),a.jsx("button",{type:"button",onClick:()=>{Y()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20 disabled:opacity-50",disabled:_,children:_?"Re-analyzing":"Re-analyze"})]}),e&&a.jsx("p",{className:"text-xs text-red-400",children:e}),n&&a.jsx("p",{className:"text-xs text-emerald-400",children:n})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Unknown Words"}),a.jsx("p",{className:"text-xs text-white/50",children:"Review your list or prune items you no longer need."})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>{Ee()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20",children:"Copy Words"}),a.jsx("button",{type:"button",onClick:()=>{fe()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20",children:"Copy Words + Sentences"}),a.jsx("a",{href:"https://chatgpt.com/share/69112ad9-3858-8013-a13d-061dd7661a56",target:"_blank",rel:"noreferrer",className:"rounded bg-emerald-500/20 px-3 py-1 text-xs font-medium text-emerald-200 hover:bg-emerald-500/30",children:"Play with ChatGPT"}),a.jsx("button",{type:"button",onClick:()=>{Y()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20 disabled:opacity-50",disabled:_,children:_?"Re-analyzing...":"Re-analyze"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-xs text-white/60",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("span",{children:[ne.length," items"]}),a.jsxs("label",{className:"flex items-center gap-1",children:[a.jsx("span",{children:"Sort"}),a.jsxs("select",{value:p,onChange:q=>{Ie(q.target.value)},className:"rounded border border-white/10 bg-slate-900/80 px-2 py-1 text-white hover:bg-slate-800 focus:outline-none focus-visible:outline-none",children:[a.jsx("option",{value:"updatedAt",className:"bg-slate-900 text-white",children:"Updated"}),a.jsx("option",{value:"alphabetical",className:"bg-slate-900 text-white",children:"A-Z"}),a.jsx("option",{value:"frequencyRank",className:"bg-slate-900 text-white",children:"Frequency Rank"})]})]}),a.jsx("button",{type:"button",className:"rounded border border-white/10 bg-white/5 px-2 py-1 text-white",onClick:()=>b(q=>q==="asc"?"desc":"asc"),children:j==="asc"?"Ascending":"Descending"}),a.jsxs("details",{className:"relative",children:[a.jsxs("summary",{className:"inline-flex cursor-pointer list-none items-center gap-1 rounded border border-white/10 bg-slate-900/80 px-2 py-1 text-white hover:bg-slate-800 focus:outline-none focus-visible:outline-none",children:["View",a.jsx("span",{className:"text-[10px] text-white/70",children:""})]}),a.jsx("div",{className:"absolute left-0 z-10 mt-2 w-56 rounded border border-white/10 bg-slate-900/95 p-3 text-xs text-white shadow-lg",children:[["word","Word"],["originalSentence","Original sentence"],["normalized","Normalized"],["stem","Stem"],["frequencyRank","Frequency Rank"],["updatedAt","Updated"],["actions","Actions"]].map(([q,ae])=>a.jsxs("label",{className:"flex items-center gap-2 py-1",children:[a.jsx("input",{type:"checkbox",className:"h-3 w-3 rounded border-white/30 bg-slate-900",checked:D[q],onChange:()=>V(ie=>({...ie,[q]:!ie[q]}))}),a.jsx("span",{children:ae})]},q))})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i&&a.jsx("span",{children:"Loading frequency ranks..."}),u&&a.jsx("span",{className:"text-amber-300",children:u}),e?a.jsx("span",{className:"text-red-400",children:e}):n?a.jsx("span",{className:"text-emerald-400",children:n}):null]})]}),a.jsx("div",{className:"overflow-hidden rounded-lg border border-white/10",children:a.jsxs("table",{className:"min-w-full divide-y divide-white/10",children:[a.jsx("thead",{className:"bg-white/5 text-left text-xs uppercase tracking-wide text-white/60",children:a.jsxs("tr",{children:[D.word&&a.jsx("th",{className:"px-4 py-2",children:a.jsxs("button",{type:"button",onClick:()=>De("alphabetical"),className:"inline-flex items-center gap-1 hover:text-white",children:["Word",p==="alphabetical"&&a.jsx("span",{className:"text-[10px] text-white/70",children:j==="asc"?"":""})]})}),D.originalSentence&&a.jsx("th",{className:"px-4 py-2",children:"Original sentence"}),D.normalized&&a.jsx("th",{className:"px-4 py-2",children:"Normalized"}),D.stem&&a.jsx("th",{className:"px-4 py-2",children:"Stem"}),D.frequencyRank&&a.jsx("th",{className:"px-4 py-2 text-right",children:a.jsxs("button",{type:"button",onClick:()=>De("frequencyRank"),className:"flex w-full items-center justify-end gap-1 hover:text-white",children:["Frequency Rank",p==="frequencyRank"&&a.jsx("span",{className:"text-[10px] text-white/70",children:j==="asc"?"":""})]})}),D.updatedAt&&a.jsx("th",{className:"px-4 py-2 text-right",children:a.jsxs("button",{type:"button",onClick:()=>De("updatedAt"),className:"flex w-full items-center justify-end gap-1 hover:text-white",children:["Updated",p==="updatedAt"&&a.jsx("span",{className:"text-[10px] text-white/70",children:j==="asc"?"":""})]})}),D.actions&&a.jsx("th",{className:"px-4 py-2 text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-white/10 text-sm",children:ne.map(q=>a.jsx($w,{word:q,frequencyRank:G.get(q.id)??null,onDelete:Z,visibleColumns:D},q.id))})]})})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Unknown Words"}),a.jsx("p",{className:"text-sm text-white/60",children:"Loading your saved vocabulary..."})]})}const Bw=[0,1,2,3],Kw=[".mp4",".mkv",".mov",".avi",".m4v",".webm"],Oh={minHeight:"60vh",maxHeight:"calc(100vh - 10rem)"};function fl(e){const t=Math.max(0,Math.floor(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60).toString().padStart(2,"0"),i=(t%60).toString().padStart(2,"0");return n>0?`${n}:${r}:${i}`:`${r}:${i}`}function Ww(e,t){return e.some(n=>n.isWord&&(n.normalized===t.normalized||n.stem===t.stem))}function Hw(e){return qs(e).map(t=>({...t,tokens:t.tokens??Un(t.rawText)}))}function Vw(){const[e,t]=x.useState(null),[n,r]=x.useState(1),[i,o]=x.useState([]),[u,f]=x.useState(!1),[p,g]=x.useState(!1),[j,b]=x.useState(null),[_,K]=x.useState({}),[D,V]=x.useState(!0),[X,C]=x.useState(null),[w,k]=x.useState(null),[B,Z]=x.useState(null),[J,G]=x.useState(null),ne=x.useRef(null),Ee=x.useRef(new Map),fe=x.useRef(null),Ie=xt(z=>z.initialized),De=xt(z=>z.initialize),Y=xt(z=>z.words),q=Je(z=>z.initialized),ae=Je(z=>z.initialize),ie=Je(z=>z.prefs.mediaLibrary);x.useEffect(()=>{Ie||De()},[Ie,De]),x.useEffect(()=>{q||ae()},[ae,q]),x.useEffect(()=>{const z=new Worker(new URL(""+new URL("srtWorker-CNaout6W.js",import.meta.url).href,import.meta.url),{type:"module"}),Ce=we=>{const me=Ee.current.get(we.data.id);if(me){if(Ee.current.delete(we.data.id),we.data.error){me.reject(new Error(we.data.error));return}me.resolve(we.data.cues)}};return z.addEventListener("message",Ce),ne.current=z,()=>{z.removeEventListener("message",Ce),z.terminate(),ne.current=null;for(const[,we]of Ee.current)we.reject(new Error("Parsing cancelled"));Ee.current.clear()}},[]);const ke=x.useCallback(async z=>{const Ce=ne.current;if(!Ce)return Hw(z);const we=typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2);return new Promise((me,Le)=>{Ee.current.set(we,{resolve:me,reject:Le}),Ce.postMessage({id:we,text:z})})},[]),W=x.useCallback(async()=>{if(!(ie!=null&&ie.handle))return k("Select a media library folder in Settings to enable playback."),null;try{const z=ie.handle.queryPermission,Ce=ie.handle.requestPermission;if(!z||!Ce)return ie.handle;const we=await z.call(ie.handle,{mode:"read"});return we==="granted"?ie.handle:we==="denied"?(k("Folder access denied. Re-select the library and allow access."),null):await Ce.call(ie.handle,{mode:"read"})==="granted"?ie.handle:(k("Folder access denied. Re-select the library and allow access."),null)}catch(z){return k(z instanceof Error?z.message:"Unable to use media library."),null}},[ie]),se=x.useCallback(async z=>{const Ce=await W();if(!Ce)return null;const we=z.toLowerCase(),me=[Ce];for(;me.length>0;){const Le=me.shift();if(!Le)continue;const dt=Le.values;if(dt)for await(const at of dt.call(Le))if(at.kind==="file"){const Wn=at.name.toLowerCase();if(Kw.some(nt=>Wn===`${we}${nt}`))return at}else at.kind==="directory"&&me.push(at)}return null},[W]),pe=x.useCallback(async z=>{k(null),Z("Searching for matching video");const Ce=z.file.name.replace(/\.[^.]+$/,"");try{const we=await se(Ce);if(!we){Z(null),k("No matching video found under the selected media library.");return}const me=await we.getFile(),Le=URL.createObjectURL(me);C(dt=>(dt&&URL.revokeObjectURL(dt),Le)),G({startMs:z.contextStartMs,endMs:z.contextEndMs}),Z(`Playing ${we.name}`),queueMicrotask(()=>{const dt=fe.current;dt&&(dt.currentTime=z.contextStartMs/1e3,dt.play())})}catch(we){Z(null),k(we instanceof Error?we.message:"Unable to play quote.")}},[se]),je=x.useCallback(async()=>{f(!0);try{const z=await Sy(),Ce=[];let we=0;for(const me of z){const Le=await Lr(me.bytesHash);if(Le&&Le.length>0){Ce.push(me);continue}await Nh(me.id),we+=1}we>0&&b(me=>me??`Removed ${we} invalid subtitle source${we===1?"":"s"}.`),o(Ce)}finally{f(!1)}},[]);x.useEffect(()=>{je()},[je]),x.useEffect(()=>{let z=!1;if(i.length===0){K({});return}return(async()=>{const Ce=await Promise.all(i.map(async me=>{const Le=await Lr(me.bytesHash);return[me.bytesHash,Le??[]]}));if(z)return;const we={};for(const[me,Le]of Ce)we[me]=Le;K(we)})(),()=>{z=!0}},[i]),x.useEffect(()=>()=>{C(Ce=>(Ce&&URL.revokeObjectURL(Ce),null));const z=fe.current;z&&(z.pause(),z.removeAttribute("src"),z.load())},[]),x.useEffect(()=>{const z=fe.current;if(!z||!J)return;const Ce=()=>{J&&z.currentTime*1e3>=J.endMs&&z.pause()};return z.addEventListener("timeupdate",Ce),()=>{z.removeEventListener("timeupdate",Ce)}},[J,X]);const be=x.useMemo(()=>Y,[Y]);x.useEffect(()=>{if(be.length===0){t(null);return}(!e||!be.some(z=>z.id===e))&&t(be[0].id)},[be,e]);const $e=x.useMemo(()=>be.find(z=>z.id===e)??null,[be,e]),Qe=x.useMemo(()=>{if(!$e)return[];const z=[];for(const Ce of i){const we=_[Ce.bytesHash]??[];we.forEach((me,Le)=>{var fr,_i;const dt=me.tokens??Un(me.rawText);if(!Ww(dt,$e))return;const at=Math.max(0,Le-n),Wn=Math.min(we.length-1,Le+n),nt=we.slice(at,Wn+1);z.push({id:`${Ce.id}:${me.index}:${at}:${Wn}`,file:Ce,focusIndex:Le-at,cues:nt,contextStartMs:((fr=nt[0])==null?void 0:fr.startMs)??me.startMs,contextEndMs:((_i=nt[nt.length-1])==null?void 0:_i.endMs)??me.endMs})})}return z.sort((Ce,we)=>Ce.file.name===we.file.name?Ce.contextStartMs-we.contextStartMs:Ce.file.name.localeCompare(we.file.name))},[$e,i,_,n]),gt=x.useCallback(z=>{t(z)},[]),Ge=x.useCallback(z=>{r(Number(z.target.value))},[]),ct=x.useCallback(async z=>{const Ce=z.target.files;if(!(!Ce||Ce.length===0)){g(!0),b(null);try{for(const we of Array.from(Ce))try{const me=await Ec(we);let Le=await Lr(me);if(!Le){const dt=await _c(we);Le=await ke(dt)}if(!Le||Le.length===0)throw new Error("No valid subtitle cues found. Use a valid .srt file.");await Pc(me,Le),await pi({name:we.name,bytesHash:me,totalCues:Le.length})}catch(me){const Le=me instanceof Error?me.message:"Failed to add subtitle file.";b(`Failed to process ${we.name}: ${Le}`)}await je()}finally{g(!1),z.target.value=""}}},[ke,je]),xs=x.useCallback(async z=>{await Nh(z.id),K(Ce=>{const we={...Ce};return delete we[z.bytesHash],we}),await je()},[je]);return a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr,2fr]",children:[a.jsx("section",{className:"space-y-4",children:a.jsxs("div",{className:"rounded-lg bg-black/40 p-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Unknown words"}),be.length===0?a.jsx("p",{className:"mt-3 text-sm text-white/60",children:"Add words from the player to explore their quotes."}):a.jsx("div",{className:"mt-3 space-y-2 overflow-y-auto pr-1",style:{minHeight:Oh.minHeight,maxHeight:Oh.maxHeight},children:be.map(z=>a.jsx("div",{children:a.jsxs("button",{type:"button",onClick:()=>gt(z.id),className:`flex w-full flex-col gap-1 rounded-lg border px-3 py-2 text-left transition focus:outline-none focus-visible:outline-none ${z.id===e?"border-emerald-500 bg-emerald-500/10 text-white":"border-white/10 bg-white/5 text-white/80 hover:border-white/20 hover:text-white"}`,children:[a.jsx("span",{className:"text-sm font-medium text-white",children:z.original}),a.jsx("div",{className:"text-xs text-white/60",children:"Tap to see contexts"})]})},z.id))})]})}),a.jsxs("section",{className:"space-y-6",children:[a.jsxs("div",{className:"rounded-lg bg-black/40 p-4",children:[a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Subtitle sources"}),a.jsx("p",{className:"text-sm text-white/60",children:"Quotes are gathered from the files listed below."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>V(z=>!z),disabled:i.length===0,className:`rounded-md border px-3 py-2 text-xs font-medium text-white transition focus:outline-none focus-visible:outline-none ${i.length===0?"cursor-not-allowed border-white/10 bg-white/5 text-white/40":"border-white/20 bg-white/10 hover:border-white/30 hover:bg-white/20"}`,children:i.length===0?"No files yet":D?"Collapse list":`Expand list (${i.length})`}),a.jsxs("label",{className:"inline-flex cursor-pointer items-center gap-2 rounded-md border border-dashed border-white/20 bg-white/5 px-3 py-2 text-sm text-white/80 transition hover:border-white/40",children:[a.jsx("input",{type:"file",accept:".srt",multiple:!0,className:"hidden",onChange:ct}),a.jsx("span",{className:"font-medium",children:"Add subtitles"})]})]})]}),p&&a.jsx("p",{className:"mt-3 text-xs text-white/50",children:"Processing subtitle files"}),j&&a.jsx("p",{className:"mt-2 text-xs text-red-400",children:j}),D?a.jsx("ul",{className:"mt-4 max-h-64 space-y-2 overflow-y-auto pr-1",children:u?a.jsx("li",{className:"text-sm text-white/60",children:"Loading files"}):i.length===0?a.jsx("li",{className:"text-sm text-white/60",children:"No subtitle files stored yet."}):i.map(z=>a.jsxs("li",{className:"flex items-center justify-between rounded-md border border-white/10 bg-white/5 px-3 py-2 text-sm text-white/80",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-white",children:z.name}),a.jsxs("div",{className:"text-xs text-white/50",children:[z.totalCues," cues  Added ",new Date(z.addedAt).toLocaleString()]})]}),a.jsx("button",{type:"button",onClick:()=>xs(z),className:"rounded bg-white/10 px-2 py-1 text-xs text-white transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",children:"Remove"})]},z.id))}):a.jsx("p",{className:"mt-4 text-sm text-white/70",children:u?"Loading files":i.length===0?"No subtitle files stored yet.":`${i.length} subtitle file${i.length===1?"":"s"} stored. Expand to manage them.`})]}),a.jsxs("div",{className:"rounded-lg bg-black/40 p-4",children:[a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Quote contexts"}),a.jsxs("label",{className:"flex items-center gap-2 text-sm text-white/70",children:[a.jsx("span",{children:"Context lines"}),a.jsx("select",{value:n,onChange:Ge,className:"rounded-md border border-white/20 bg-white/5 px-2 py-1 focus:outline-none focus-visible:outline-none",children:Bw.map(z=>a.jsx("option",{value:z,children:z},z))})]})]}),a.jsxs("div",{className:"mt-3 space-y-2 rounded-md border border-white/10 bg-black/40 p-3 text-sm text-white/80",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Quote playback"}),B&&a.jsx("span",{className:"text-xs text-white/60",children:B})]}),X?a.jsx("video",{ref:fe,controls:!0,className:"w-full rounded border border-white/10",src:X,onLoadedMetadata:()=>{J&&fe.current&&(fe.current.currentTime=J.startMs/1e3)}}):a.jsx("p",{className:"text-xs text-white/60",children:"Select a media library folder in Settings to enable quote playback. Matching videos will be looked up by subtitle filename."}),J&&a.jsxs("p",{className:"text-xs text-white/60",children:["Segment: ",fl(J.startMs),"  ",fl(J.endMs)]}),w&&a.jsx("p",{className:"text-xs text-red-400",children:w})]}),$e?Qe.length===0?a.jsx("p",{className:"mt-3 text-sm text-white/60",children:"No quotes found for this word in the stored subtitle files."}):a.jsx("ul",{className:"mt-4 space-y-4",children:Qe.map(z=>a.jsxs("li",{className:"space-y-2 rounded-md border border-white/10 bg-white/5 p-3 text-sm text-white/80",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-xs text-white/60",children:[a.jsx("span",{className:"font-medium text-white",children:z.file.name}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("span",{children:[fl(z.contextStartMs),"  ",fl(z.contextEndMs)]}),a.jsx("button",{type:"button",onClick:()=>void pe(z),disabled:!(ie!=null&&ie.handle),className:"rounded border border-white/20 bg-white/10 px-2 py-1 text-[11px] font-medium text-white transition hover:border-white/30 hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/10 disabled:text-white/40",children:"Play quote"})]})]}),a.jsx("div",{className:"space-y-1 rounded bg-black/40 p-2",children:z.cues.map((Ce,we)=>a.jsx("p",{className:`whitespace-pre-line ${we===z.focusIndex?"font-semibold text-white":"text-white/80"}`,children:Ce.rawText},`${Ce.index}-${we}`))})]},z.id))}):a.jsx("p",{className:"mt-3 text-sm text-white/60",children:"Select a word to see how it appears across your subtitles."})]})]})]})}const El="prefs";function ka(e){return{...e,mediaLibrary:void 0}}function na(e){return e}function qw(e){const{tokens:t,...n}=e;return n}function Qw(e,t){return e.map(qw)}function Yw(e){if(Array.isArray(e.tokens))return e;const t=typeof e.rawText=="string"?e.rawText:"";return{...e,rawText:t,tokens:Un(t)}}function Gw(e){return Number.isInteger(e.index)&&e.index>=0&&Number.isFinite(e.startMs)&&e.startMs>=0&&Number.isFinite(e.endMs)&&e.endMs>=e.startMs&&typeof e.rawText=="string"&&e.rawText.trim().length>0&&typeof e.fileHash=="string"&&e.fileHash.length>0&&typeof e.id=="string"&&e.id.length>0}function Xw(e){return typeof e!="number"||!Number.isFinite(e)||e<0?0:Math.floor(e)}function jy(e,t){const n=t.map(Yw).filter(Gw),r=new Map;for(const o of n)r.set(o.fileHash,(r.get(o.fileHash)??0)+1);return{subtitleFiles:e.filter(o=>r.has(o.bytesHash)).map(o=>{const u=r.get(o.bytesHash)??0;return{...o,totalCues:Math.max(Xw(o.totalCues),u)}}),subtitleCues:n}}function Ir(e){return Array.isArray(e)?e:[]}function Mh(e){if(typeof e!="string")return e;const t=e.trim();if(!t)return e;try{return JSON.parse(t)}catch{return e}}function Fh(e){if(!e||typeof e!="object")return!1;const t=e;return Array.isArray(t.words)||Array.isArray(t.subtitleFiles)||Array.isArray(t.subtitleCues)||Array.isArray(t.sessions)||!!(t.prefs&&typeof t.prefs=="object")}function Ny(e){if(!e||typeof e!="object")throw new Error("Invalid backup file.");const t=[e,e.data,e.payload,e.backup];for(const n of t){const r=Mh(n);if(Fh(r))return r;if(r&&typeof r=="object"&&"data"in r){const i=Mh(r.data);if(Fh(i))return i}}throw new Error("Invalid backup file: missing data.")}function Cy(e,t,n,r,i){return{words:e.length,subtitleFiles:t.length,subtitleCues:n.length,sessions:r.length,hasPrefs:!!i}}function Jw(e){const t=Ny(e),n=Ir(t.words),{subtitleFiles:r,subtitleCues:i}=jy(Ir(t.subtitleFiles),Ir(t.subtitleCues)),o=t.prefs&&typeof t.prefs=="object"?ka(t.prefs):void 0,u=Ir(t.sessions).map(na);return Cy(n,r,i,u,o)}function Rc(e,t){return e&&e.trim()?e:t??""}function Zw(e,t){const n=new Map,r=i=>`${i.normalized}::${i.stem}`;for(const i of e)n.set(r(i),i);for(const i of t){const o=r(i),u=n.get(o);if(!u){n.set(o,i);continue}const f=(i.updatedAt??0)>=(u.updatedAt??0),p=f?i:u,g=f?u:i,j=Math.min(u.createdAt??p.createdAt??Date.now(),i.createdAt??p.createdAt??Date.now());n.set(o,{id:u.id,original:Rc(p.original,g.original),originalSentence:Rc(p.originalSentence,g.originalSentence)||void 0,normalized:u.normalized||i.normalized,stem:u.stem||i.stem,createdAt:j,updatedAt:Math.max(u.updatedAt??0,i.updatedAt??0)})}return Array.from(n.values())}function eb(e,t){const n=new Map;for(const r of e)n.set(r.bytesHash,r);for(const r of t){const i=n.get(r.bytesHash);if(!i){n.set(r.bytesHash,r);continue}const o=(r.addedAt??0)>=(i.addedAt??0),u=o?r:i,f=o?i:r;n.set(r.bytesHash,{id:i.id,name:Rc(u.name,f.name),bytesHash:i.bytesHash,totalCues:Math.max(i.totalCues??0,r.totalCues??0),language:u.language??f.language,addedAt:Math.max(i.addedAt??0,r.addedAt??0)})}return Array.from(n.values())}function tb(e,t){const n=new Map;for(const r of e)n.set(r.id,r);for(const r of t)n.set(r.id,r);return Array.from(n.values())}function nb(e,t){if(!t)return e;const n=e??t;return ka({...n,...t,subtitleStyle:{...n.subtitleStyle,...t.subtitleStyle},highlightColors:{...n.highlightColors,...t.highlightColors}})}function rb(e,t){const n=new Map;for(const r of e)n.set(r.id,r);for(const r of t){const i=n.get(r.id);(!i||(r.updatedAt??0)>=(i.updatedAt??0))&&n.set(r.id,r)}return Array.from(n.values())}async function hl(e,t,n,r){if(t.length!==0)for(let i=0;i<t.length;i+=n){const o=t.slice(i,i+n);await e.bulkPut(o),r(o.length)}}async function ib(e){const[t,n,r,i,o]=await Promise.all([rt([],()=>Ne.words.toArray()),rt([],()=>Ne.subtitleFiles.toArray()),rt([],()=>Ne.subtitleCues.toArray()),rt(void 0,()=>Ne.prefs.get(El)),rt([],()=>Ne.sessions.toArray())]),u=i!=null&&i.value?ka(i.value):void 0,f=o.map(na),p=Qw(r);return{payload:{version:1,exportedAt:new Date().toISOString(),data:{words:t,subtitleFiles:n,subtitleCues:p,prefs:u,sessions:f}},counts:{words:t.length,addedWords:0,subtitleFiles:n.length,addedSubtitleFiles:0,subtitleCues:r.length,sessions:f.length,hasPrefs:!!u}}}async function sb(e,t){const n=(W,se)=>{var pe;(pe=t==null?void 0:t.onProgress)==null||pe.call(t,{percent:W,stage:se})},r=Ny(e);if(n(2,"Opening database"),!await Td())return{words:0,addedWords:0,subtitleFiles:0,addedSubtitleFiles:0,subtitleCues:0,sessions:0,hasPrefs:!1};const o=Ir(r.words),{subtitleFiles:u,subtitleCues:f}=jy(Ir(r.subtitleFiles),Ir(r.subtitleCues)),p=r.prefs&&typeof r.prefs=="object"?ka(r.prefs):void 0,g=Ir(r.sessions).map(na),j=Cy(o,u,f,g,p);n(5,"Loading existing data");const[b,_,K,D,V]=await Promise.all([rt([],()=>Ne.words.toArray()),rt([],()=>Ne.subtitleFiles.toArray()),rt([],()=>Ne.subtitleCues.toArray()),rt(void 0,()=>Ne.prefs.get(El)),rt([],()=>Ne.sessions.toArray())]),X=V.map(na);n(25,"Merging data");const C=Zw(b,o),w=eb(_,u),k=tb(K,f),B=nb(D==null?void 0:D.value,p),Z=rb(X,g);Math.max(0,C.length-b.length),Math.max(0,w.length-_.length);const J=C.length+w.length+k.length+(B?1:0)+Z.length;let G=0;const ne=35,Ee=95,fe=(W,se=0)=>{if(J===0){n(Ee,W);return}se>0&&(G+=se);const pe=ne+G/J*(Ee-ne);n(Math.min(Ee,Math.max(ne,pe)),W)};C.length>0&&(fe("Saving words"),await $t(()=>hl(Ne.words,C,500,W=>fe("Saving words",W)))),w.length>0&&(fe("Saving subtitle files"),await $t(()=>hl(Ne.subtitleFiles,w,200,W=>fe("Saving subtitle files",W)))),k.length>0&&(fe("Saving subtitle cues"),await $t(()=>hl(Ne.subtitleCues,k,1e3,W=>fe("Saving subtitle cues",W)))),B&&(fe("Saving preferences"),await $t(()=>Ne.prefs.put({id:El,value:B,updatedAt:Date.now()})),fe("Saving preferences",1)),Z.length>0&&(fe("Saving sessions"),await $t(()=>hl(Ne.sessions,Z,200,W=>fe("Saving sessions",W)))),n(100,"Finalizing");const[Ie,De,Y,q,ae]=await Promise.all([rt(0,()=>Ne.words.count()),rt(0,()=>Ne.subtitleFiles.count()),rt(0,()=>Ne.subtitleCues.count()),rt(0,()=>Ne.sessions.count()),rt(void 0,()=>Ne.prefs.get(El))]),ie=j.words>0||j.subtitleFiles>0||j.subtitleCues>0||j.sessions>0||j.hasPrefs,ke=!!(ae!=null&&ae.value);if(ie&&Ie===0&&De===0&&Y===0&&q===0&&!ke)throw new Error("Import did not write any data. Check browser storage permissions and retry.");return{words:Ie,addedWords:Math.max(0,Ie-b.length),subtitleFiles:De,addedSubtitleFiles:Math.max(0,De-_.length),subtitleCues:Y,sessions:q,hasPrefs:ke}}function ob(){const e=Je(Y=>Y.prefs.subtitleStyle),t=Je(Y=>Y.prefs.highlightColors),n=Je(Y=>Y.prefs.mediaLibrary),r=Je(Y=>Y.updateSubtitleStyle),i=Je(Y=>Y.updateHighlightColors),o=Je(Y=>Y.setMediaLibrary),u=Je(Y=>Y.initialized),f=Je(Y=>Y.initialize),[p,g]=x.useState(null),[j,b]=x.useState(null),[_,K]=x.useState(null),[D,V]=x.useState(!1),[X,C]=x.useState(!1),[w,k]=x.useState(null),[B,Z]=x.useState(0),J=x.useRef(null);x.useEffect(()=>{u||f()},[u,f]),x.useEffect(()=>{if(!X){Z(0);return}const Y=Date.now();Z(0);const q=window.setInterval(()=>{Z(Math.floor((Date.now()-Y)/1e3))},1e3);return()=>{window.clearInterval(q)}},[X]);const G=(Y,q)=>{const ae=Number(Y.target.value);Number.isFinite(ae)&&r({[q]:q==="lineHeight"?Number(ae.toFixed(2)):ae})},ne=typeof window<"u"&&"showDirectoryPicker"in window,Ee=async()=>{var Y;if(g(null),!ne){g("Your browser does not support choosing a folder");return}try{const q=await((Y=window.showDirectoryPicker)==null?void 0:Y.call(window));if(!q)return;const ae=q.requestPermission;if(ae&&await ae.call(q,{mode:"read"})==="denied"){g("Folder access was denied. Please allow access to play quotes.");return}await o({handle:q,label:q.name,lastPromptedAt:Date.now()})}catch(q){g(q instanceof Error?q.message:"Unable to pick folder.")}},fe=async()=>{g(null),await o(void 0)},Ie=async()=>{b(null),K(null),V(!0);try{const{payload:Y,counts:q}=await ib({includeCueTokens:!1}),ae=new Blob([JSON.stringify(Y)],{type:"application/json"}),ie=URL.createObjectURL(ae),ke=document.createElement("a");ke.href=ie,ke.download=`subtitle-word-tracker-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(ke),ke.click(),document.body.removeChild(ke),URL.revokeObjectURL(ie),K(`Exported a compact backup with ${q.words} word${q.words===1?"":"s"} and ${q.subtitleFiles} subtitle file${q.subtitleFiles===1?"":"s"}.`)}catch(Y){K(null),b(Y instanceof Error?Y.message:"Unable to export data.")}finally{V(!1)}},De=async Y=>{const q=Array.from(Y.target.files??[]);if(q.length!==0){b(null),K(null),C(!0);try{const ae=q.length,ie=100/ae;let ke=null;for(let W=0;W<q.length;W+=1){const se=q[W],pe=`${W+1}/${ae}`,je=W*ie,be=$e=>Math.min(100,Math.max(0,je+$e/100*ie));k({percent:be(5),stage:"Reading file",fileName:se.name,fileIndex:W+1,totalFiles:ae});try{const $e=await se.text();k({percent:be(15),stage:"Parsing backup",fileName:se.name,fileIndex:W+1,totalFiles:ae});const Qe=JSON.parse($e),gt=Jw(Qe);k({percent:be(15),stage:`Parsed backup (${gt.words} words, ${gt.subtitleFiles} files)`,fileName:se.name,fileIndex:W+1,totalFiles:ae}),ke=await sb(Qe,{onProgress:Ge=>{k({percent:be(Ge.percent),stage:Ge.stage,fileName:se.name,fileIndex:W+1,totalFiles:ae})}})}catch($e){const Qe=$e instanceof Error?$e.message:"Unable to import data.";throw new Error(`File ${pe} (${se.name}) failed: ${Qe}`)}k({percent:be(100),stage:ae>1?`Finished file ${pe}`:"Finished",fileName:se.name,fileIndex:W+1,totalFiles:ae})}if(Je.setState({initialized:!1}),Je.getState().initialize(),xt.setState({initialized:!1}),xt.getState().initialize(),!ke)throw new Error("Import finished with no result.");K(`Imported ${q.length} backup file${q.length===1?"":"s"} and merged everything. You can now delete old backup files and export a single fresh JSON. Current totals: ${ke.words} word${ke.words===1?"":"s"} and ${ke.subtitleFiles} subtitle file${ke.subtitleFiles===1?"":"s"}.`)}catch(ae){K(null),b(ae instanceof Error?ae.message:"Unable to import data.")}finally{C(!1),k(null),Y.target.value=""}}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Subtitle Appearance"}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Font family"}),a.jsx("input",{type:"text",value:e.fontFamily,onChange:Y=>void r({fontFamily:Y.target.value}),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Font size (px)"}),a.jsx("input",{type:"number",min:16,max:96,value:e.fontSizePx,onChange:Y=>G(Y,"fontSizePx"),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Second subtitle font size (px)"}),a.jsx("input",{type:"number",min:16,max:96,value:e.useMainForSecondaryFontSize?e.fontSizePx:e.secondaryFontSizePx,onChange:Y=>G(Y,"secondaryFontSizePx"),disabled:e.useMainForSecondaryFontSize,className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none disabled:text-white/40"})]}),a.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[a.jsx("input",{type:"checkbox",checked:e.useMainForSecondaryFontSize,onChange:Y=>void r({useMainForSecondaryFontSize:Y.target.checked}),className:"h-4 w-4 rounded border-white/20 bg-black/60"}),a.jsx("span",{className:"text-white/70",children:"Same as main"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Font weight"}),a.jsx("input",{type:"number",min:300,max:900,step:100,value:e.fontWeight,onChange:Y=>G(Y,"fontWeight"),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Line height"}),a.jsx("input",{type:"number",min:1,max:2,step:.05,value:e.lineHeight,onChange:Y=>G(Y,"lineHeight"),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Text color"}),a.jsx("input",{type:"color",value:e.color,onChange:Y=>void r({color:Y.target.value}),className:"h-10 w-full cursor-pointer rounded-md border border-white/10 bg-black/40"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Background"}),a.jsx("input",{type:"text",value:e.bgColor,onChange:Y=>void r({bgColor:Y.target.value}),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none",placeholder:"rgba(0,0,0,0.35)"})]}),a.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[a.jsx("input",{type:"checkbox",checked:e.outline,onChange:Y=>void r({outline:Y.target.checked}),className:"h-4 w-4 rounded border-white/20 bg-black/60"}),a.jsx("span",{className:"text-white/70",children:"Outline text"})]}),a.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[a.jsx("input",{type:"checkbox",checked:e.shadow,onChange:Y=>void r({shadow:Y.target.checked}),className:"h-4 w-4 rounded border-white/20 bg-black/60"}),a.jsx("span",{className:"text-white/70",children:"Drop shadow"})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Highlight Colors"}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Exact match"}),a.jsx("input",{type:"color",value:t.exact,onChange:Y=>void i({exact:Y.target.value}),className:"h-10 w-full cursor-pointer rounded-md border border-white/10 bg-black/40"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Variant match"}),a.jsx("input",{type:"color",value:t.variant,onChange:Y=>void i({variant:Y.target.value}),className:"h-10 w-full cursor-pointer rounded-md border border-white/10 bg-black/40"})]})]})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Media Library"}),a.jsx("p",{className:"text-sm text-white/70",children:"Pick the root folder that contains your shows/movies. This enables future quote-level playback by searching for matching video files alongside your subtitles."}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsx("button",{type:"button",onClick:Ee,className:"rounded-md border border-white/20 bg-white/10 px-3 py-2 text-sm font-medium text-white transition hover:border-white/30 hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/10 disabled:text-white/40",children:"Choose folder"}),a.jsx("button",{type:"button",onClick:fe,disabled:!n,className:"rounded-md border border-white/10 px-3 py-2 text-sm text-white/70 transition hover:border-white/30 hover:bg-white/10 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/5 disabled:text-white/40",children:"Clear selection"}),!ne&&a.jsx("span",{className:"text-xs text-amber-300",children:"Folder selection requires a Chromium-based browser."})]}),n?a.jsxs("p",{className:"text-sm text-white/70",children:["Selected: ",a.jsx("span",{className:"font-semibold text-white",children:n.label??"Folder"})]}):a.jsx("p",{className:"text-sm text-white/60",children:"No folder selected yet."}),p&&a.jsx("p",{className:"text-sm text-red-400",children:p})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Data Transfer"}),a.jsx("p",{className:"text-sm text-white/70",children:"Export a compact backup of your words, subtitles database, preferences, and last session. The export omits derived token caches to keep file sizes much smaller. Import accepts one or many JSON backups and merges each one in order. Newer timestamps win for words and subtitle files, and prefs from backups override local settings. Media library folder access cannot be exported; reselect it after import."}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsx("button",{type:"button",onClick:Ie,disabled:D,className:"rounded-md border border-white/20 bg-white/10 px-3 py-2 text-sm font-medium text-white transition hover:border-white/30 hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/10 disabled:text-white/40",children:D?"Exporting...":"Export everything"}),a.jsx("button",{type:"button",onClick:()=>{var Y;return(Y=J.current)==null?void 0:Y.click()},disabled:X,className:"rounded-md border border-white/20 bg-white/10 px-3 py-2 text-sm font-medium text-white transition hover:border-white/30 hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/10 disabled:text-white/40",children:X?"Importing...":"Import everything"}),a.jsx("input",{ref:J,type:"file",accept:".json",multiple:!0,className:"hidden",onChange:De})]}),X&&w?a.jsxs("div",{className:"mt-2 w-full",children:[a.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded bg-white/10",children:a.jsx("div",{className:"h-full bg-emerald-400 transition-all duration-300",style:{width:`${w.percent}%`}})}),a.jsxs("p",{className:"mt-1 text-xs text-white/60",children:["Importing",w.fileIndex&&w.totalFiles?` ${w.fileIndex}/${w.totalFiles}`:"",": ",w.stage,w.fileName?` (${w.fileName})`:""," (",Math.round(w.percent),"%, ",B,"s)"]})]}):null,j&&a.jsx("p",{className:"text-sm text-red-400",children:j}),_&&a.jsx("p",{className:"text-sm text-emerald-400",children:_})]}),a.jsxs("section",{className:"space-y-2",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Preview"}),a.jsxs("div",{className:"rounded-lg border border-white/10 bg-black/60 p-4 text-center text-lg",style:{fontFamily:e.fontFamily,fontSize:e.fontSizePx,fontWeight:e.fontWeight,lineHeight:e.lineHeight,color:e.color,textShadow:e.shadow?"0 2px 8px rgba(0,0,0,0.8)":"none",WebkitTextStroke:e.outline?"1px rgba(0,0,0,0.9)":"0",background:e.bgColor},children:["Subtitle preview with ",a.jsx("span",{style:{background:t.exact},children:"exact"})," and",a.jsx("span",{style:{background:t.variant,marginLeft:8},children:"variant"})," highlights."]})]})]})}function lb(e,t){return t===0?0:Math.round(e/t*1e3)/10}function ab(){const e=xt(j=>j.words),t=xt(j=>j.initialize),n=xt(j=>j.initialized),[r,i]=x.useState([]),[o,u]=x.useState(!1),[f,p]=x.useState({totalTokens:0,unknownTokens:0});x.useEffect(()=>{n||t()},[t,n]),x.useEffect(()=>{let j=!1;return(async()=>{u(!0);const _=await Sy();j||(i(_),u(!1))})(),()=>{j=!0}},[]),x.useEffect(()=>{let j=!1;if(r.length===0){p({totalTokens:0,unknownTokens:0});return}return(async()=>{const _=new Map,K=new Map;for(const X of e)_.set(X.normalized.toLowerCase(),X),K.set(X.stem,X);let D=0,V=0;for(const X of r){const C=await Lr(X.bytesHash);if(C)for(const w of C){const k=w.tokens??Un(w.rawText);for(const B of k){if(!B.isWord)continue;D+=1,(_.get(B.normalized)??K.get(B.stem))&&(V+=1)}}}j||p({totalTokens:D,unknownTokens:V})})(),()=>{j=!0}},[r,e]);const g=x.useMemo(()=>f.unknownTokens===0?null:Math.max(1,Math.round(f.totalTokens/f.unknownTokens)),[f.totalTokens,f.unknownTokens]);return a.jsx("div",{className:"space-y-6",children:a.jsxs("section",{className:"grid gap-4 md:grid-cols-3",children:[a.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-4",children:[a.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Unknown words saved"}),a.jsx("p",{className:"mt-2 text-2xl font-semibold text-white",children:e.length}),a.jsx("p",{className:"text-xs text-white/60",children:e.length===0?"Add words from the player to start tracking.":`Covers ${f.totalTokens.toLocaleString()} word tokens in your library.`})]}),a.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-4",children:[a.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Encounter rate"}),a.jsx("p",{className:"mt-2 text-2xl font-semibold text-white",children:g?`1 in ${g}`:""}),a.jsx("p",{className:"text-xs text-white/60",children:f.totalTokens===0?"Add subtitles to measure coverage.":`${lb(f.unknownTokens,f.totalTokens)}% of words you see are on your unknown list.`})]}),a.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-4",children:[a.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Library coverage"}),a.jsx("p",{className:"mt-2 text-2xl font-semibold text-white",children:r.length}),a.jsxs("p",{className:"text-xs text-white/60",children:["Subtitle files stored  ",o?"Loading":`${f.totalTokens.toLocaleString()} word tokens scanned`]})]})]})})}const Lh="https://api.opensubtitles.com/api/v1",ju="oq1XXcuCnNOnaFDKbknI2pxaQO8TiiU5",Ih="Er4Y8GbS7JoCcLf9oJmjc2noj2wIsrNu",Ah="UVUt5ZRVmROJD7ot9JVJY63n8RTIhxYW",ub="ofir gaash v1.0",zh=e=>({"Api-Key":e.trim(),"Content-Type":"application/json","X-User-Agent":ub}),cb=(e,t)=>{const n=(e==null?void 0:e.trim())||`subtitle-${t}`;return/\.srt$/i.test(n)?n:/\.[^.\\/]+$/.test(n)?n.replace(/\.[^.\\/]+$/,".srt"):`${n}.srt`},Nu=async e=>{let t="";try{t=await e.text()}catch(u){t=`Unable to read response body: ${u.message}`}const n=e.headers.get("x-kong-request-id")||e.headers.get("x-request-id")||e.headers.get("x-amzn-requestid"),r=e.headers.get("retry-after"),i=e.headers.get("content-type");return[`Status: ${e.status} ${e.statusText}`.trim(),n?`Request ID: ${n}`:null,r?`Retry-After: ${r}`:null,i?`Content-Type: ${i}`:null,t?`Body: ${t.slice(0,800)}`:null].filter(Boolean).join(`
`)},db={neutral:"border-white/10 bg-white/5 text-white/70",loading:"border-sky-400/40 bg-sky-400/10 text-sky-100",success:"border-emerald-400/40 bg-emerald-400/10 text-emerald-100",error:"border-rose-400/40 bg-rose-400/10 text-rose-100"};function fb(){const[e,t]=x.useState(ju),[n,r]=x.useState(null),[i,o]=x.useState("en"),[u,f]=x.useState({summary:"",tone:"neutral"}),[p,g]=x.useState(null),[j,b]=x.useState(!1),[_,K]=x.useState(null),[D,V]=x.useState("downloads"),[X,C]=x.useState("desc"),w=x.useCallback((Y,q="neutral",ae)=>{f({summary:Y,tone:q,details:ae})},[]),k=x.useCallback(()=>e.trim()?n?!0:(w("Please choose a video file.","error"),!1):(w("Please enter your OpenSubtitles API key.","error"),!1),[e,n,w]),B=x.useCallback(()=>{g([])},[]),Z=x.useCallback(async Y=>{var q;B(),w("Searching OpenSubtitles...","loading"),b(!0);try{const ae=new URL(`${Lh}/subtitles`);Object.entries(Y).forEach(([W,se])=>{se&&ae.searchParams.set(W,se)});const ie=await fetch(ae,{headers:zh(e)});if(!ie.ok){const W=await Nu(ie);throw new Error(`Search failed.
${W}`)}const ke=await ie.json();g(ke.data??[]),w(`Found ${ke.total_count??((q=ke.data)==null?void 0:q.length)??0} subtitle(s).`,"success")}catch(ae){const ie=ae.message||"Search failed.",[ke,...W]=ie.split(`
`);w(ke,"error",W.join(`
`)),B()}finally{b(!1)}},[e,B,w]),J=async()=>{!k()||!n||await Z({query:n.name,languages:i})},G=x.useCallback(async Y=>{var ae;const q=(ae=Y.attributes.files)==null?void 0:ae[0];if(!(q!=null&&q.file_id)){w("This subtitle entry does not include a file id.","error");return}K(Y.id),w("Preparing download...","loading");try{const ie=await fetch(`${Lh}/download`,{method:"POST",headers:zh(e),body:JSON.stringify({file_id:q.file_id})});if(!ie.ok){const $e=await Nu(ie);throw new Error(`Download request failed.
${$e}`)}const ke=await ie.json();if(!ke.link)throw new Error("Download request succeeded but returned no link.");const W=cb(ke.file_name??q.file_name,Y.id);w(`Downloading ${W}...`,"loading");const se=await fetch(ke.link);if(!se.ok){const $e=await Nu(se);throw new Error(`Subtitle download failed.
${$e}`)}const pe=await se.blob(),je=URL.createObjectURL(pe),be=document.createElement("a");be.href=je,be.download=W,document.body.appendChild(be),be.click(),document.body.removeChild(be),URL.revokeObjectURL(je),w(`Downloaded ${W}.`,"success")}catch(ie){const ke=ie.message||"Subtitle download failed.",[W,...se]=ke.split(`
`);w(W,"error",se.join(`
`))}finally{K(null)}},[e,w]),ne=db[u.tone],Ee=u.summary||"",fe=x.useMemo(()=>p!==null&&p.length===0,[p]),Ie=x.useMemo(()=>{if(!p)return null;const Y=X==="asc"?1:-1;return[...p].sort((q,ae)=>{var W,se,pe,je;const ie=((se=(W=q.attributes.files)==null?void 0:W[0])==null?void 0:se.file_name)??"Untitled release",ke=((je=(pe=ae.attributes.files)==null?void 0:pe[0])==null?void 0:je.file_name)??"Untitled release";switch(D){case"title":return ie.localeCompare(ke,void 0,{sensitivity:"base"})*Y;case"downloads":return((q.attributes.download_count??0)-(ae.attributes.download_count??0))*Y;case"hearingImpaired":return(Number(q.attributes.hearing_impaired)-Number(ae.attributes.hearing_impaired))*Y;default:return 0}})},[p,X,D]),De=x.useCallback(Y=>{if(D===Y){C(q=>q==="asc"?"desc":"asc");return}V(Y),C("desc")},[D]);return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("header",{className:"rounded-2xl border border-white/10 bg-gradient-to-br from-white/10 via-white/5 to-transparent p-6 shadow-lg",children:[a.jsx("p",{className:"text-sm uppercase tracking-[0.2em] text-white/60",children:"VLSub Web"}),a.jsx("h2",{className:"mt-3 text-3xl font-semibold text-white",children:"Find subtitles for your video, straight from your browser."}),a.jsx("p",{className:"mt-3 max-w-2xl text-sm text-white/70",children:"Select a local video file, look up subtitles by filename, and download the match you want. Powered by the OpenSubtitles API."})]}),a.jsxs("section",{className:"grid gap-6 lg:grid-cols-2",children:[a.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 shadow-md",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"1. Connect to OpenSubtitles"}),a.jsxs("p",{className:"mt-2 text-sm text-white/60",children:["Enter your OpenSubtitles API key to search and download subtitles. You can create one at"," ",a.jsx("a",{href:"https://www.opensubtitles.com/",target:"_blank",rel:"noreferrer",className:"text-white underline decoration-white/40 underline-offset-4",children:"opensubtitles.com"}),"."]}),a.jsxs("label",{className:"mt-4 flex flex-col gap-2 text-sm text-white/70",children:[a.jsx("span",{children:"API Key"}),a.jsx("input",{id:"apiKey",type:"text",placeholder:"Paste your API key",value:e,onChange:Y=>t(Y.target.value),className:"rounded-lg border border-white/10 bg-white/10 px-3 py-2 text-sm text-white placeholder:text-white/40 focus:border-white/40 focus:outline-none"}),a.jsxs("div",{className:"text-xs text-white/50",children:[a.jsx("div",{className:"mt-1",children:"If running locally, use:"}),a.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-white/70",children:[a.jsx("span",{className:"rounded bg-white/10 px-2 py-1 text-xs",children:Ih}),a.jsx("button",{type:"button",onClick:()=>t(Ih),className:"rounded border border-white/10 px-2 py-1 text-[11px] text-white/70 transition hover:border-white/30 hover:bg-white/10",children:"Use this"})]}),a.jsx("div",{className:"mt-2",children:"If running from GitHub, use:"}),a.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-white/70",children:[a.jsx("span",{className:"rounded bg-white/10 px-2 py-1 text-xs",children:ju}),a.jsx("button",{type:"button",onClick:()=>t(ju),className:"rounded border border-white/10 px-2 py-1 text-[11px] text-white/70 transition hover:border-white/30 hover:bg-white/10",children:"Use this"})]}),a.jsx("div",{className:"mt-2",children:"Or"}),a.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-white/70",children:[a.jsx("span",{className:"rounded bg-white/10 px-2 py-1 text-xs",children:Ah}),a.jsx("button",{type:"button",onClick:()=>t(Ah),className:"rounded border border-white/10 px-2 py-1 text-[11px] text-white/70 transition hover:border-white/30 hover:bg-white/10",children:"Use this"})]})]})]})]}),a.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 shadow-md",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"2. Choose your video"}),a.jsx("p",{className:"mt-2 text-sm text-white/60",children:"We never upload your video. Only the filename is used for search."}),a.jsxs("div",{className:"mt-4 flex flex-col gap-2 text-sm text-white/70",children:[a.jsx("span",{children:"Video file"}),a.jsx("input",{id:"videoFile",type:"file",accept:"video/*,video/x-matroska,.mkv,.MKV,.mp4,.mov,.avi,.wmv,.flv,.webm,.m4v,.mpg,.mpeg",onChange:Y=>{var ae;const q=((ae=Y.target.files)==null?void 0:ae[0])??null;r(q),w(q?`Selected ${q.name}`:"","neutral")},className:"rounded-lg border border-white/10 bg-white/10 px-3 py-2 text-sm text-white file:mr-4 file:rounded-md file:border-0 file:bg-white/20 file:px-3 file:py-2 file:text-sm file:text-white hover:file:bg-white/30"})]}),a.jsxs("div",{className:"mt-4 flex flex-col gap-2 text-sm text-white/70",children:[a.jsx("span",{children:"Preferred language"}),a.jsxs("select",{id:"language",value:i,onChange:Y=>o(Y.target.value),className:"rounded-lg border border-white/20 bg-white px-3 py-2 text-sm text-slate-900 focus:border-white/40 focus:outline-none",children:[a.jsx("option",{value:"en",children:"English"}),a.jsx("option",{value:"he",children:"Hebrew"}),a.jsx("option",{value:"ar",children:"Arabic"}),a.jsx("option",{value:"hi",children:"Hindi"}),a.jsx("option",{value:"es",children:"Spanish"}),a.jsx("option",{value:"fr",children:"French"}),a.jsx("option",{value:"de",children:"German"}),a.jsx("option",{value:"it",children:"Italian"}),a.jsx("option",{value:"pt",children:"Portuguese"}),a.jsx("option",{value:"nl",children:"Dutch"}),a.jsx("option",{value:"pl",children:"Polish"}),a.jsx("option",{value:"sv",children:"Swedish"}),a.jsx("option",{value:"tr",children:"Turkish"}),a.jsx("option",{value:"ja",children:"Japanese"}),a.jsx("option",{value:"ko",children:"Korean"}),a.jsx("option",{value:"zh",children:"Chinese"})]})]}),a.jsx("div",{className:"mt-5 flex flex-wrap gap-3",children:a.jsx("button",{id:"searchName",type:"button",onClick:J,disabled:j,className:"rounded-full border border-white/20 bg-white/10 px-4 py-2 text-sm font-medium text-white transition hover:bg-white/20 disabled:cursor-not-allowed disabled:opacity-60",children:"Find subtitles"})}),a.jsxs("div",{id:"status",role:"status","aria-live":"polite",className:`mt-4 rounded-xl border px-4 py-3 text-sm ${ne}`,children:[Ee,u.details?a.jsxs("details",{className:"mt-3 text-xs text-white/70",open:!0,children:[a.jsx("summary",{className:"cursor-pointer text-white/80",children:"Show details"}),a.jsx("pre",{className:"mt-2 whitespace-pre-wrap text-xs text-white/60",children:u.details})]}):null]})]})]}),a.jsxs("section",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 shadow-md",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"3. Download your subtitle"}),a.jsxs("div",{id:"results",className:"mt-4 space-y-4",children:[p===null?a.jsx("p",{className:"text-sm text-white/60",children:"Search results will appear here."}):null,fe?a.jsx("p",{className:"text-sm text-white/60",children:"No subtitles found. Try another search."}):null,Ie&&Ie.length>0?a.jsx("div",{className:"overflow-hidden rounded-xl border border-white/10",children:a.jsxs("table",{className:"w-full text-left text-sm text-white/80",children:[a.jsx("thead",{className:"bg-white/10 text-xs uppercase tracking-wide text-white/60",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3",children:a.jsxs("button",{type:"button",onClick:()=>De("title"),className:"flex items-center gap-2 hover:text-white",children:["Title",D==="title"?X==="asc"?"":"":null]})}),a.jsx("th",{className:"px-4 py-3",children:a.jsxs("button",{type:"button",onClick:()=>De("downloads"),className:"flex items-center gap-2 hover:text-white",children:["Downloads",D==="downloads"?X==="asc"?"":"":null]})}),a.jsx("th",{className:"px-4 py-3",children:a.jsxs("button",{type:"button",onClick:()=>De("hearingImpaired"),className:"flex items-center gap-2 hover:text-white",children:["Hearing impaired",D==="hearingImpaired"?X==="asc"?"":"":null]})}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Action"})]})}),a.jsx("tbody",{className:"divide-y divide-white/5",children:Ie.map(Y=>{var ie;const q=(ie=Y.attributes.files)==null?void 0:ie[0],ae=(q==null?void 0:q.file_name)??"Untitled release";return a.jsxs("tr",{className:"bg-white/5",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsx("div",{className:"font-semibold text-white",children:ae})}),a.jsx("td",{className:"px-4 py-3 text-xs",children:Y.attributes.download_count??"-"}),a.jsx("td",{className:"px-4 py-3 text-xs",children:Y.attributes.hearing_impaired?"Yes":"No"}),a.jsx("td",{className:"px-4 py-3 text-right text-xs",children:a.jsx("button",{type:"button",onClick:()=>void G(Y),disabled:j||_===Y.id||!(q!=null&&q.file_id),className:"inline-flex min-w-[9.5rem] items-center justify-center whitespace-nowrap rounded-full border border-white/20 bg-white/10 px-3 py-1 text-xs text-white transition hover:bg-white/20 disabled:cursor-not-allowed disabled:opacity-60",children:_===Y.id?"Downloading...":"Download subtitle"})})]},Y.id)})})]})}):null]})]}),a.jsx("footer",{className:"text-xs text-white/50",children:"Built from the original VLSub workflow. This demo uses the OpenSubtitles API and requires your own API key."})]})}function hb(){const e=x.useRef(null);return x.useEffect(()=>()=>{e.current&&(e.current.src="about:blank")},[]),a.jsxs("div",{className:"space-y-6 text-right text-sm text-white/80",dir:"rtl",children:[a.jsx("section",{className:"space-y-3",children:a.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-start",children:[a.jsxs("div",{className:"space-y-3 lg:flex-1",children:[a.jsx("p",{children:"   ."}),a.jsxs("p",{children:["  ",a.jsx("strong",{children:"  "}),"    ."]})]}),a.jsx("div",{className:"w-full overflow-hidden rounded-lg border border-white/10 bg-black/40 lg:w-[22rem]",children:a.jsx("div",{className:"aspect-video w-full",children:a.jsx("iframe",{ref:e,className:"h-full w-full",src:"https://www.youtube.com/embed/0n2JBXuHEoc",title:"Tutorial",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})})]})}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 1    / "}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsx("li",{children:"    "}),a.jsxs("li",{children:["    ",a.jsx("strong",{children:""}),"  Dolby Digital",a.jsx("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:a.jsxs("li",{children:[" ",a.jsx("strong",{children:"AAC"}),"  "]})})]}),a.jsxs("li",{children:["    :",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsx("li",{children:a.jsx("a",{href:"http://rargb.to/",target:"_blank",rel:"noreferrer",className:"text-white underline decoration-white/40 underline-offset-4",children:"http://rargb.to/"})}),a.jsx("li",{children:a.jsx("a",{href:"https://1337x.to/",target:"_blank",rel:"noreferrer",className:"text-white underline decoration-white/40 underline-offset-4",children:"https://1337x.to/"})})]})]}),a.jsx("li",{children:"         (  )"})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 2    "}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsxs("li",{children:["   ",a.jsx("strong",{children:" "})]}),a.jsxs("li",{children:["     ",a.jsx("code",{className:"rounded bg-white/10 px-1",children:"srt"})]}),a.jsx("li",{children:"         "}),a.jsxs("li",{children:[" :",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsxs("li",{children:[" ",a.jsx("a",{href:"https://opensubtitles.org",target:"_blank",rel:"noreferrer",className:"mr-1 text-white underline decoration-white/40 underline-offset-4",children:"opensubtitles.org"})]}),a.jsxs("li",{children:["  ",a.jsx("strong",{children:"Find Subs"})," ",a.jsx("blockquote",{className:"mt-2 rounded border-l-2 border-white/20 bg-white/5 px-3 py-2 text-xs text-white/60",children:" :           "})]})]})]})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 3    ( )"}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsx("li",{children:"  "}),a.jsx("li",{children:"     2"})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 4   "}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsxs("li",{children:["  ",a.jsx("strong",{children:" "})]}),a.jsxs("li",{children:["  ",a.jsx("strong",{children:" "})]}),a.jsxs("li",{children:["   ",a.jsx("strong",{children:"Player"})]})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 5    "}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsx("li",{children:"  Play"}),a.jsxs("li",{children:["   :",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsx("li",{children:"     "}),a.jsx("li",{children:"      "})]})]}),a.jsxs("li",{children:["  :",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsxs("li",{children:["    ",a.jsx("strong",{children:"Second Subtitles"})]}),a.jsxs("li",{children:["  /      ",a.jsx("strong",{children:"H"})]})]})]})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 6   Words"}),a.jsx("ul",{className:"list-disc space-y-2 pr-5",children:a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Words"})," :",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsx("li",{children:"    "}),a.jsx("li",{children:"       "}),a.jsx("li",{children:"      "})]})]})})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 7    ChatGPT"}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsxs("li",{children:["    :",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsx("li",{children:"      "}),a.jsx("li",{children:"   ChatGPT"})]})]}),a.jsx("li",{children:"        "}),a.jsxs("li",{children:[": ",a.jsx("strong",{children:"   ChatGPT"}),"  "]})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 8   "}),a.jsx("ul",{className:"list-disc space-y-2 pr-5",children:a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Quotes ()"}),":",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsx("li",{children:"  "}),a.jsx("li",{children:"      "}),a.jsx("li",{children:"      "})]})]})})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 9    '"}),a.jsx("p",{children:"   '     ."}),a.jsx("h3",{className:"text-base font-semibold text-white",children:" "}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsxs("li",{children:["     (",a.jsx("strong",{children:"H"}),")"]}),a.jsx("li",{children:"     "}),a.jsxs("li",{children:["   (",a.jsx("strong",{children:"H"}),")"]}),a.jsxs("li",{children:[":",a.jsx("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:a.jsxs("li",{children:["",a.jsx("strong",{children:"Settings"}),"       (    )"]})})]})]}),a.jsx("h3",{className:"text-base font-semibold text-white",children:"  "}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"F"}),"   "]}),a.jsx("li",{children:"   5   / "}),a.jsxs("li",{children:[a.jsx("strong",{children:""}),"   / "]})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"  (Settings)"}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsx("li",{children:"  "}),a.jsxs("li",{children:["   :",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsxs("li",{children:["  ( ",a.jsx("code",{className:"rounded bg-white/10 px-1",children:"actor"}),") :"]}),a.jsx("li",{children:"      "}),a.jsxs("li",{children:["      (",a.jsx("code",{className:"rounded bg-white/10 px-1",children:"act"}),","," ",a.jsx("code",{className:"rounded bg-white/10 px-1",children:"acting"}),","," ",a.jsx("code",{className:"rounded bg-white/10 px-1",children:"actress"})," )"]})]})]}),a.jsxs("li",{children:[" :",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsx("li",{children:"   / "}),a.jsxs("li",{children:["  ",a.jsx("strong",{children:"Offset"})]}),a.jsx("li",{children:" Offset    "})]})]})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"   Words"}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsxs("li",{children:["  ",a.jsx("strong",{children:"  "}),":",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsx("li",{children:"    "}),a.jsxs("li",{children:["   ",a.jsx("em",{children:"nice to have"})]})]})]}),a.jsxs("li",{children:["  ",a.jsx("strong",{children:"  "}),":",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsx("li",{children:"   "}),a.jsxs("li",{children:[":",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsxs("li",{children:[a.jsx("code",{className:"rounded bg-white/10 px-1",children:"wind"})," =  "]}),a.jsxs("li",{children:[a.jsx("code",{className:"rounded bg-white/10 px-1",children:"to wind up"})," =  "]}),a.jsxs("li",{children:[a.jsx("code",{className:"rounded bg-white/10 px-1",children:"corporate"}),"   "]}),a.jsxs("li",{children:[a.jsx("code",{className:"rounded bg-white/10 px-1",children:"corporate"}),"      "]})]})]})]})]})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"  "}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsxs("li",{children:["  ?",a.jsxs("ol",{className:"mt-2 list-decimal space-y-1 pr-5",children:[a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Words"}),"   ",a.jsx("strong",{children:"Export JSON"})]}),a.jsxs("li",{children:["    ",a.jsx("strong",{children:"Import"})]})]})]}),a.jsxs("li",{children:["   ?",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Quotes"}),"      "]}),a.jsx("li",{children:"    "})]})]})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"  Find Subtitles"}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsx("li",{children:"    API"}),a.jsxs("li",{children:["   ",a.jsx("strong",{children:"5  "}),"  "]}),a.jsx("li",{children:"      "}),a.jsxs("li",{children:[":",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsxs("li",{children:["  ",a.jsx("strong",{children:" "}),"  "]}),a.jsxs("li",{children:["  ",a.jsx("strong",{children:"Hash"})," "]})]})]})]})]})]})}const di=({isActive:e})=>`px-3 py-2 rounded-md text-sm font-medium transition-colors ${e?"bg-white/10 text-white":"text-white/70 hover:text-white hover:bg-white/5"}`;function pb(){const e=vs(),t=e.pathname==="/"||e.pathname==="",n=Je(u=>u.prefs.subtitleStyle),r=Je(u=>u.prefs.highlightColors),i=Je(u=>u.initialize),o=Je(u=>u.initialized);return x.useEffect(()=>{o||i()},[o,i]),x.useEffect(()=>{const u=document.documentElement.style;u.setProperty("--subtitle-font-family",n.fontFamily),u.setProperty("--subtitle-font-size",`${n.fontSizePx}px`);const f=n.useMainForSecondaryFontSize?n.fontSizePx:n.secondaryFontSizePx;u.setProperty("--subtitle-secondary-font-size",`${f}px`),u.setProperty("--subtitle-font-weight",`${n.fontWeight}`),u.setProperty("--subtitle-color",n.color),u.setProperty("--subtitle-bg",n.bgColor),u.setProperty("--subtitle-line-height",`${n.lineHeight}`),u.setProperty("--subtitle-outline",n.outline?"1":"0"),u.setProperty("--subtitle-shadow",n.shadow?"1":"0"),u.setProperty("--highlight-exact",r.exact),u.setProperty("--highlight-variant",r.variant)},[n,r]),a.jsx("div",{className:"min-h-screen bg-background text-foreground",children:a.jsxs("div",{className:"mx-auto flex max-w-6xl flex-col gap-6 px-4 py-6",children:[a.jsxs("header",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Subtitle Word Tracker"}),a.jsxs("nav",{className:"flex gap-2",children:[a.jsx(li,{to:"/",className:di,end:!0,children:"Player"}),a.jsx(li,{to:"/words",className:di,children:"Words"}),a.jsx(li,{to:"/quotes",className:di,children:"Quotes"}),a.jsx(li,{to:"/stats",className:di,children:"Stats"}),a.jsx(li,{to:"/settings",className:di,children:"Settings"}),a.jsx(li,{to:"/vlsub",className:di,children:"Find Subs"}),a.jsx(li,{to:"/help",className:di,children:"?"})]})]}),a.jsxs("main",{className:"flex-1 rounded-lg border border-white/10 bg-white/5 p-6 shadow-xl backdrop-blur",children:[a.jsx("div",{className:t?"":"hidden","aria-hidden":!t,children:a.jsx(Rh,{isActive:t})}),a.jsxs(u0,{children:[a.jsx(tr,{path:"/",element:a.jsx("div",{})}),a.jsx(tr,{path:"/words",element:a.jsx(Uw,{})}),a.jsx(tr,{path:"/quotes",element:a.jsx(Vw,{})}),a.jsx(tr,{path:"/stats",element:a.jsx(ab,{})}),a.jsx(tr,{path:"/settings",element:a.jsx(ob,{})}),a.jsx(tr,{path:"/vlsub",element:a.jsx(fb,{})}),a.jsx(tr,{path:"/help",element:a.jsx(hb,{})}),a.jsx(tr,{path:"*",element:a.jsx(Rh,{})})]})]}),a.jsx("footer",{className:"text-xs text-white/40",children:"Local-first learning tool for movie subtitles."})]})})}const mb="./",pl=new URL(mb,window.location.href).pathname,_l=pl.length>1&&pl.endsWith("/")?pl.slice(0,-1):pl,Dh=new URLSearchParams(window.location.search).get("path");if(Dh){const e=decodeURIComponent(Dh),t=_l==="/"?"":_l,n=e.startsWith(t)?e.slice(t.length)||"/":e;window.history.replaceState(null,"",`${_l}${n}`)}Cu.createRoot(document.getElementById("root")).render(a.jsx(Ac.StrictMode,{children:a.jsx(g0,{basename:_l,future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:a.jsx(pb,{})})}));
