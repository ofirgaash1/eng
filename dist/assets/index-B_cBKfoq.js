var By=Object.defineProperty;var Ky=(e,t,n)=>t in e?By(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var zi=(e,t,n)=>Ky(e,typeof t!="symbol"?t+"":t,n);function Wy(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Qd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zh={exports:{}},ea={},Dh={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var So=Symbol.for("react.element"),Hy=Symbol.for("react.portal"),Vy=Symbol.for("react.fragment"),qy=Symbol.for("react.strict_mode"),Qy=Symbol.for("react.profiler"),Yy=Symbol.for("react.provider"),Gy=Symbol.for("react.context"),Xy=Symbol.for("react.forward_ref"),Jy=Symbol.for("react.suspense"),Zy=Symbol.for("react.memo"),ev=Symbol.for("react.lazy"),Yd=Symbol.iterator;function tv(e){return e===null||typeof e!="object"?null:(e=Yd&&e[Yd]||e["@@iterator"],typeof e=="function"?e:null)}var Uh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$h=Object.assign,Bh={};function ms(e,t,n){this.props=e,this.context=t,this.refs=Bh,this.updater=n||Uh}ms.prototype.isReactComponent={};ms.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ms.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Kh(){}Kh.prototype=ms.prototype;function Oc(e,t,n){this.props=e,this.context=t,this.refs=Bh,this.updater=n||Uh}var Mc=Oc.prototype=new Kh;Mc.constructor=Oc;$h(Mc,ms.prototype);Mc.isPureReactComponent=!0;var Gd=Array.isArray,Wh=Object.prototype.hasOwnProperty,Lc={current:null},Hh={key:!0,ref:!0,__self:!0,__source:!0};function Vh(e,t,n){var r,i={},o=null,u=null;if(t!=null)for(r in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(o=""+t.key),t)Wh.call(t,r)&&!Hh.hasOwnProperty(r)&&(i[r]=t[r]);var f=arguments.length-2;if(f===1)i.children=n;else if(1<f){for(var p=Array(f),g=0;g<f;g++)p[g]=arguments[g+2];i.children=p}if(e&&e.defaultProps)for(r in f=e.defaultProps,f)i[r]===void 0&&(i[r]=f[r]);return{$$typeof:So,type:e,key:o,ref:u,props:i,_owner:Lc.current}}function nv(e,t){return{$$typeof:So,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Fc(e){return typeof e=="object"&&e!==null&&e.$$typeof===So}function rv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Xd=/\/+/g;function Wa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?rv(""+e.key):t.toString(36)}function fl(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(o){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case So:case Hy:u=!0}}if(u)return u=e,i=i(u),e=r===""?"."+Wa(u,0):r,Gd(i)?(n="",e!=null&&(n=e.replace(Xd,"$&/")+"/"),fl(i,t,n,"",function(g){return g})):i!=null&&(Fc(i)&&(i=nv(i,n+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(Xd,"$&/")+"/")+e)),t.push(i)),1;if(u=0,r=r===""?".":r+":",Gd(e))for(var f=0;f<e.length;f++){o=e[f];var p=r+Wa(o,f);u+=fl(o,t,n,p,i)}else if(p=tv(e),typeof p=="function")for(e=p.call(e),f=0;!(o=e.next()).done;)o=o.value,p=r+Wa(o,f++),u+=fl(o,t,n,p,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function Vo(e,t,n){if(e==null)return e;var r=[],i=0;return fl(e,r,"","",function(o){return t.call(n,o,i++)}),r}function iv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Mt={current:null},hl={transition:null},sv={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:hl,ReactCurrentOwner:Lc};function qh(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:Vo,forEach:function(e,t,n){Vo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Vo(e,function(){t++}),t},toArray:function(e){return Vo(e,function(t){return t})||[]},only:function(e){if(!Fc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ie.Component=ms;Ie.Fragment=Vy;Ie.Profiler=Qy;Ie.PureComponent=Oc;Ie.StrictMode=qy;Ie.Suspense=Jy;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sv;Ie.act=qh;Ie.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=$h({},e.props),i=e.key,o=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,u=Lc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(p in t)Wh.call(t,p)&&!Hh.hasOwnProperty(p)&&(r[p]=t[p]===void 0&&f!==void 0?f[p]:t[p])}var p=arguments.length-2;if(p===1)r.children=n;else if(1<p){f=Array(p);for(var g=0;g<p;g++)f[g]=arguments[g+2];r.children=f}return{$$typeof:So,type:e.type,key:i,ref:o,props:r,_owner:u}};Ie.createContext=function(e){return e={$$typeof:Gy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Yy,_context:e},e.Consumer=e};Ie.createElement=Vh;Ie.createFactory=function(e){var t=Vh.bind(null,e);return t.type=e,t};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(e){return{$$typeof:Xy,render:e}};Ie.isValidElement=Fc;Ie.lazy=function(e){return{$$typeof:ev,_payload:{_status:-1,_result:e},_init:iv}};Ie.memo=function(e,t){return{$$typeof:Zy,type:e,compare:t===void 0?null:t}};Ie.startTransition=function(e){var t=hl.transition;hl.transition={};try{e()}finally{hl.transition=t}};Ie.unstable_act=qh;Ie.useCallback=function(e,t){return Mt.current.useCallback(e,t)};Ie.useContext=function(e){return Mt.current.useContext(e)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(e){return Mt.current.useDeferredValue(e)};Ie.useEffect=function(e,t){return Mt.current.useEffect(e,t)};Ie.useId=function(){return Mt.current.useId()};Ie.useImperativeHandle=function(e,t,n){return Mt.current.useImperativeHandle(e,t,n)};Ie.useInsertionEffect=function(e,t){return Mt.current.useInsertionEffect(e,t)};Ie.useLayoutEffect=function(e,t){return Mt.current.useLayoutEffect(e,t)};Ie.useMemo=function(e,t){return Mt.current.useMemo(e,t)};Ie.useReducer=function(e,t,n){return Mt.current.useReducer(e,t,n)};Ie.useRef=function(e){return Mt.current.useRef(e)};Ie.useState=function(e){return Mt.current.useState(e)};Ie.useSyncExternalStore=function(e,t,n){return Mt.current.useSyncExternalStore(e,t,n)};Ie.useTransition=function(){return Mt.current.useTransition()};Ie.version="18.3.1";Dh.exports=Ie;var x=Dh.exports;const Ic=Rc(x),ov=Wy({__proto__:null,default:Ic},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv=x,av=Symbol.for("react.element"),uv=Symbol.for("react.fragment"),cv=Object.prototype.hasOwnProperty,dv=lv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fv={key:!0,ref:!0,__self:!0,__source:!0};function Qh(e,t,n){var r,i={},o=null,u=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(u=t.ref);for(r in t)cv.call(t,r)&&!fv.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:av,type:e,key:o,ref:u,props:i,_owner:dv.current}}ea.Fragment=uv;ea.jsx=Qh;ea.jsxs=Qh;zh.exports=ea;var a=zh.exports,Nu={},Yh={exports:{}},Gt={},Gh={exports:{}},Xh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,ee){var ie=V.length;V.push(ee);e:for(;0<ie;){var we=ie-1>>>1,Ee=V[we];if(0<i(Ee,ee))V[we]=ee,V[ie]=Ee,ie=we;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var ee=V[0],ie=V.pop();if(ie!==ee){V[0]=ie;e:for(var we=0,Ee=V.length,$e=Ee>>>1;we<$e;){var xt=2*(we+1)-1,wt=V[xt],ot=xt+1,Ft=V[ot];if(0>i(wt,ie))ot<Ee&&0>i(Ft,wt)?(V[we]=Ft,V[ot]=ie,we=ot):(V[we]=wt,V[xt]=ie,we=xt);else if(ot<Ee&&0>i(Ft,ie))V[we]=Ft,V[ot]=ie,we=ot;else break e}}return ee}function i(V,ee){var ie=V.sortIndex-ee.sortIndex;return ie!==0?ie:V.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var p=[],g=[],k=1,S=null,_=3,B=!1,z=!1,H=!1,Q=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(V){for(var ee=n(g);ee!==null;){if(ee.callback===null)r(g);else if(ee.startTime<=V)r(g),ee.sortIndex=ee.expirationTime,t(p,ee);else break;ee=n(g)}}function I(V){if(H=!1,N(V),!z)if(n(p)!==null)z=!0,Y(G);else{var ee=n(g);ee!==null&&be(I,ee.startTime-V)}}function G(V,ee){z=!1,H&&(H=!1,C(J),J=-1),B=!0;var ie=_;try{for(N(ee),S=n(p);S!==null&&(!(S.expirationTime>ee)||V&&!Le());){var we=S.callback;if(typeof we=="function"){S.callback=null,_=S.priorityLevel;var Ee=we(S.expirationTime<=ee);ee=e.unstable_now(),typeof Ee=="function"?S.callback=Ee:S===n(p)&&r(p),N(ee)}else r(p);S=n(p)}if(S!==null)var $e=!0;else{var xt=n(g);xt!==null&&be(I,xt.startTime-ee),$e=!1}return $e}finally{S=null,_=ie,B=!1}}var Z=!1,X=null,J=-1,Ce=5,he=-1;function Le(){return!(e.unstable_now()-he<Ce)}function De(){if(X!==null){var V=e.unstable_now();he=V;var ee=!0;try{ee=X(!0,V)}finally{ee?se():(Z=!1,X=null)}}else Z=!1}var se;if(typeof v=="function")se=function(){v(De)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,oe=re.port2;re.port1.onmessage=De,se=function(){oe.postMessage(null)}}else se=function(){Q(De,0)};function Y(V){X=V,Z||(Z=!0,se())}function be(V,ee){J=Q(function(){V(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){z||B||(z=!0,Y(G))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ce=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return n(p)},e.unstable_next=function(V){switch(_){case 1:case 2:case 3:var ee=3;break;default:ee=_}var ie=_;_=ee;try{return V()}finally{_=ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,ee){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ie=_;_=V;try{return ee()}finally{_=ie}},e.unstable_scheduleCallback=function(V,ee,ie){var we=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?we+ie:we):ie=we,V){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=ie+Ee,V={id:k++,callback:ee,priorityLevel:V,startTime:ie,expirationTime:Ee,sortIndex:-1},ie>we?(V.sortIndex=ie,t(g,V),n(p)===null&&V===n(g)&&(H?(C(J),J=-1):H=!0,be(I,ie-we))):(V.sortIndex=Ee,t(p,V),z||B||(z=!0,Y(G))),V},e.unstable_shouldYield=Le,e.unstable_wrapCallback=function(V){var ee=_;return function(){var ie=_;_=ee;try{return V.apply(this,arguments)}finally{_=ie}}}})(Xh);Gh.exports=Xh;var hv=Gh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv=x,Yt=hv;function te(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jh=new Set,eo={};function bi(e,t){os(e,t),os(e+"Capture",t)}function os(e,t){for(eo[e]=t,e=0;e<t.length;e++)Jh.add(t[e])}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cu=Object.prototype.hasOwnProperty,mv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jd={},Zd={};function yv(e){return Cu.call(Zd,e)?!0:Cu.call(Jd,e)?!1:mv.test(e)?Zd[e]=!0:(Jd[e]=!0,!1)}function vv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function gv(e,t,n,r){if(t===null||typeof t>"u"||vv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Lt(e,t,n,r,i,o,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=u}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){gt[e]=new Lt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];gt[t]=new Lt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){gt[e]=new Lt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){gt[e]=new Lt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){gt[e]=new Lt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){gt[e]=new Lt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){gt[e]=new Lt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){gt[e]=new Lt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){gt[e]=new Lt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ac=/[\-:]([a-z])/g;function zc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ac,zc);gt[t]=new Lt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ac,zc);gt[t]=new Lt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ac,zc);gt[t]=new Lt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){gt[e]=new Lt(e,1,!1,e.toLowerCase(),null,!1,!1)});gt.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){gt[e]=new Lt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Dc(e,t,n,r){var i=gt.hasOwnProperty(t)?gt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(gv(t,n,i,r)&&(n=null),r||i===null?yv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var cr=pv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qo=Symbol.for("react.element"),Bi=Symbol.for("react.portal"),Ki=Symbol.for("react.fragment"),Uc=Symbol.for("react.strict_mode"),Eu=Symbol.for("react.profiler"),Zh=Symbol.for("react.provider"),ep=Symbol.for("react.context"),$c=Symbol.for("react.forward_ref"),_u=Symbol.for("react.suspense"),Pu=Symbol.for("react.suspense_list"),Bc=Symbol.for("react.memo"),Cr=Symbol.for("react.lazy"),tp=Symbol.for("react.offscreen"),ef=Symbol.iterator;function Rs(e){return e===null||typeof e!="object"?null:(e=ef&&e[ef]||e["@@iterator"],typeof e=="function"?e:null)}var Xe=Object.assign,Ha;function Us(e){if(Ha===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ha=t&&t[1]||""}return`
`+Ha+e}var Va=!1;function qa(e,t){if(!e||Va)return"";Va=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var r=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){r=g}e.call(t.prototype)}else{try{throw Error()}catch(g){r=g}e()}}catch(g){if(g&&r&&typeof g.stack=="string"){for(var i=g.stack.split(`
`),o=r.stack.split(`
`),u=i.length-1,f=o.length-1;1<=u&&0<=f&&i[u]!==o[f];)f--;for(;1<=u&&0<=f;u--,f--)if(i[u]!==o[f]){if(u!==1||f!==1)do if(u--,f--,0>f||i[u]!==o[f]){var p=`
`+i[u].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=u&&0<=f);break}}}finally{Va=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Us(e):""}function xv(e){switch(e.tag){case 5:return Us(e.type);case 16:return Us("Lazy");case 13:return Us("Suspense");case 19:return Us("SuspenseList");case 0:case 2:case 15:return e=qa(e.type,!1),e;case 11:return e=qa(e.type.render,!1),e;case 1:return e=qa(e.type,!0),e;default:return""}}function Tu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ki:return"Fragment";case Bi:return"Portal";case Eu:return"Profiler";case Uc:return"StrictMode";case _u:return"Suspense";case Pu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ep:return(e.displayName||"Context")+".Consumer";case Zh:return(e._context.displayName||"Context")+".Provider";case $c:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bc:return t=e.displayName||null,t!==null?t:Tu(e.type)||"Memo";case Cr:t=e._payload,e=e._init;try{return Tu(e(t))}catch{}}return null}function wv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tu(t);case 8:return t===Uc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Kr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function np(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bv(e){var t=np(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(u){r=""+u,o.call(this,u)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qo(e){e._valueTracker||(e._valueTracker=bv(e))}function rp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=np(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Cl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ru(e,t){var n=t.checked;return Xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function tf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Kr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ip(e,t){t=t.checked,t!=null&&Dc(e,"checked",t,!1)}function Ou(e,t){ip(e,t);var n=Kr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Mu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Mu(e,t.type,Kr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function nf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Mu(e,t,n){(t!=="number"||Cl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var $s=Array.isArray;function es(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Kr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Lu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(te(91));return Xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(te(92));if($s(n)){if(1<n.length)throw Error(te(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Kr(n)}}function sp(e,t){var n=Kr(t.value),r=Kr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function sf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function op(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?op(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yo,lp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yo=Yo||document.createElement("div"),Yo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function to(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sv=["Webkit","ms","Moz","O"];Object.keys(Hs).forEach(function(e){Sv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hs[t]=Hs[e]})});function ap(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Hs.hasOwnProperty(e)&&Hs[e]?(""+t).trim():t+"px"}function up(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ap(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var kv=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Iu(e,t){if(t){if(kv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(te(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(te(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(te(61))}if(t.style!=null&&typeof t.style!="object")throw Error(te(62))}}function Au(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zu=null;function Kc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Du=null,ts=null,ns=null;function of(e){if(e=No(e)){if(typeof Du!="function")throw Error(te(280));var t=e.stateNode;t&&(t=sa(t),Du(e.stateNode,e.type,t))}}function cp(e){ts?ns?ns.push(e):ns=[e]:ts=e}function dp(){if(ts){var e=ts,t=ns;if(ns=ts=null,of(e),t)for(e=0;e<t.length;e++)of(t[e])}}function fp(e,t){return e(t)}function hp(){}var Qa=!1;function pp(e,t,n){if(Qa)return e(t,n);Qa=!0;try{return fp(e,t,n)}finally{Qa=!1,(ts!==null||ns!==null)&&(hp(),dp())}}function no(e,t){var n=e.stateNode;if(n===null)return null;var r=sa(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(te(231,t,typeof n));return n}var Uu=!1;if(or)try{var Os={};Object.defineProperty(Os,"passive",{get:function(){Uu=!0}}),window.addEventListener("test",Os,Os),window.removeEventListener("test",Os,Os)}catch{Uu=!1}function jv(e,t,n,r,i,o,u,f,p){var g=Array.prototype.slice.call(arguments,3);try{t.apply(n,g)}catch(k){this.onError(k)}}var Vs=!1,El=null,_l=!1,$u=null,Nv={onError:function(e){Vs=!0,El=e}};function Cv(e,t,n,r,i,o,u,f,p){Vs=!1,El=null,jv.apply(Nv,arguments)}function Ev(e,t,n,r,i,o,u,f,p){if(Cv.apply(this,arguments),Vs){if(Vs){var g=El;Vs=!1,El=null}else throw Error(te(198));_l||(_l=!0,$u=g)}}function Si(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function mp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lf(e){if(Si(e)!==e)throw Error(te(188))}function _v(e){var t=e.alternate;if(!t){if(t=Si(e),t===null)throw Error(te(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return lf(i),e;if(o===r)return lf(i),t;o=o.sibling}throw Error(te(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,f=i.child;f;){if(f===n){u=!0,n=i,r=o;break}if(f===r){u=!0,r=i,n=o;break}f=f.sibling}if(!u){for(f=o.child;f;){if(f===n){u=!0,n=o,r=i;break}if(f===r){u=!0,r=o,n=i;break}f=f.sibling}if(!u)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?e:t}function yp(e){return e=_v(e),e!==null?vp(e):null}function vp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vp(e);if(t!==null)return t;e=e.sibling}return null}var gp=Yt.unstable_scheduleCallback,af=Yt.unstable_cancelCallback,Pv=Yt.unstable_shouldYield,Tv=Yt.unstable_requestPaint,st=Yt.unstable_now,Rv=Yt.unstable_getCurrentPriorityLevel,Wc=Yt.unstable_ImmediatePriority,xp=Yt.unstable_UserBlockingPriority,Pl=Yt.unstable_NormalPriority,Ov=Yt.unstable_LowPriority,wp=Yt.unstable_IdlePriority,ta=null,An=null;function Mv(e){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(ta,e,void 0,(e.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:Iv,Lv=Math.log,Fv=Math.LN2;function Iv(e){return e>>>=0,e===0?32:31-(Lv(e)/Fv|0)|0}var Go=64,Xo=4194304;function Bs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Tl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,u=n&268435455;if(u!==0){var f=u&~i;f!==0?r=Bs(f):(o&=u,o!==0&&(r=Bs(o)))}else u=n&~i,u!==0?r=Bs(u):o!==0&&(r=Bs(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-bn(t),i=1<<n,r|=e[n],t&=~i;return r}function Av(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var u=31-bn(o),f=1<<u,p=i[u];p===-1?(!(f&n)||f&r)&&(i[u]=Av(f,t)):p<=t&&(e.expiredLanes|=f),o&=~f}}function Bu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function bp(){var e=Go;return Go<<=1,!(Go&4194240)&&(Go=64),e}function Ya(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ko(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bn(t),e[t]=n}function Dv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-bn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Hc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-bn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ke=0;function Sp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var kp,Vc,jp,Np,Cp,Ku=!1,Jo=[],Lr=null,Fr=null,Ir=null,ro=new Map,io=new Map,_r=[],Uv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uf(e,t){switch(e){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":ro.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":io.delete(t.pointerId)}}function Ms(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=No(t),t!==null&&Vc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function $v(e,t,n,r,i){switch(t){case"focusin":return Lr=Ms(Lr,e,t,n,r,i),!0;case"dragenter":return Fr=Ms(Fr,e,t,n,r,i),!0;case"mouseover":return Ir=Ms(Ir,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ro.set(o,Ms(ro.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,io.set(o,Ms(io.get(o)||null,e,t,n,r,i)),!0}return!1}function Ep(e){var t=ci(e.target);if(t!==null){var n=Si(t);if(n!==null){if(t=n.tag,t===13){if(t=mp(n),t!==null){e.blockedOn=t,Cp(e.priority,function(){jp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);zu=r,n.target.dispatchEvent(r),zu=null}else return t=No(n),t!==null&&Vc(t),e.blockedOn=n,!1;t.shift()}return!0}function cf(e,t,n){pl(e)&&n.delete(t)}function Bv(){Ku=!1,Lr!==null&&pl(Lr)&&(Lr=null),Fr!==null&&pl(Fr)&&(Fr=null),Ir!==null&&pl(Ir)&&(Ir=null),ro.forEach(cf),io.forEach(cf)}function Ls(e,t){e.blockedOn===t&&(e.blockedOn=null,Ku||(Ku=!0,Yt.unstable_scheduleCallback(Yt.unstable_NormalPriority,Bv)))}function so(e){function t(i){return Ls(i,e)}if(0<Jo.length){Ls(Jo[0],e);for(var n=1;n<Jo.length;n++){var r=Jo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Lr!==null&&Ls(Lr,e),Fr!==null&&Ls(Fr,e),Ir!==null&&Ls(Ir,e),ro.forEach(t),io.forEach(t),n=0;n<_r.length;n++)r=_r[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<_r.length&&(n=_r[0],n.blockedOn===null);)Ep(n),n.blockedOn===null&&_r.shift()}var rs=cr.ReactCurrentBatchConfig,Rl=!0;function Kv(e,t,n,r){var i=Ke,o=rs.transition;rs.transition=null;try{Ke=1,qc(e,t,n,r)}finally{Ke=i,rs.transition=o}}function Wv(e,t,n,r){var i=Ke,o=rs.transition;rs.transition=null;try{Ke=4,qc(e,t,n,r)}finally{Ke=i,rs.transition=o}}function qc(e,t,n,r){if(Rl){var i=Wu(e,t,n,r);if(i===null)su(e,t,r,Ol,n),uf(e,r);else if($v(i,e,t,n,r))r.stopPropagation();else if(uf(e,r),t&4&&-1<Uv.indexOf(e)){for(;i!==null;){var o=No(i);if(o!==null&&kp(o),o=Wu(e,t,n,r),o===null&&su(e,t,r,Ol,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else su(e,t,r,null,n)}}var Ol=null;function Wu(e,t,n,r){if(Ol=null,e=Kc(r),e=ci(e),e!==null)if(t=Si(e),t===null)e=null;else if(n=t.tag,n===13){if(e=mp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ol=e,null}function _p(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rv()){case Wc:return 1;case xp:return 4;case Pl:case Ov:return 16;case wp:return 536870912;default:return 16}default:return 16}}var Tr=null,Qc=null,ml=null;function Pp(){if(ml)return ml;var e,t=Qc,n=t.length,r,i="value"in Tr?Tr.value:Tr.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var u=n-e;for(r=1;r<=u&&t[n-r]===i[o-r];r++);return ml=i.slice(e,1<r?1-r:void 0)}function yl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zo(){return!0}function df(){return!1}function Xt(e){function t(n,r,i,o,u){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=u,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(n=e[f],this[f]=n?n(o):o[f]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Zo:df,this.isPropagationStopped=df,this}return Xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zo)},persist:function(){},isPersistent:Zo}),t}var ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yc=Xt(ys),jo=Xe({},ys,{view:0,detail:0}),Hv=Xt(jo),Ga,Xa,Fs,na=Xe({},jo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fs&&(Fs&&e.type==="mousemove"?(Ga=e.screenX-Fs.screenX,Xa=e.screenY-Fs.screenY):Xa=Ga=0,Fs=e),Ga)},movementY:function(e){return"movementY"in e?e.movementY:Xa}}),ff=Xt(na),Vv=Xe({},na,{dataTransfer:0}),qv=Xt(Vv),Qv=Xe({},jo,{relatedTarget:0}),Ja=Xt(Qv),Yv=Xe({},ys,{animationName:0,elapsedTime:0,pseudoElement:0}),Gv=Xt(Yv),Xv=Xe({},ys,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jv=Xt(Xv),Zv=Xe({},ys,{data:0}),hf=Xt(Zv),eg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ng={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ng[e])?!!t[e]:!1}function Gc(){return rg}var ig=Xe({},jo,{key:function(e){if(e.key){var t=eg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=yl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gc,charCode:function(e){return e.type==="keypress"?yl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sg=Xt(ig),og=Xe({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pf=Xt(og),lg=Xe({},jo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gc}),ag=Xt(lg),ug=Xe({},ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),cg=Xt(ug),dg=Xe({},na,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fg=Xt(dg),hg=[9,13,27,32],Xc=or&&"CompositionEvent"in window,qs=null;or&&"documentMode"in document&&(qs=document.documentMode);var pg=or&&"TextEvent"in window&&!qs,Tp=or&&(!Xc||qs&&8<qs&&11>=qs),mf=" ",yf=!1;function Rp(e,t){switch(e){case"keyup":return hg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Op(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wi=!1;function mg(e,t){switch(e){case"compositionend":return Op(t);case"keypress":return t.which!==32?null:(yf=!0,mf);case"textInput":return e=t.data,e===mf&&yf?null:e;default:return null}}function yg(e,t){if(Wi)return e==="compositionend"||!Xc&&Rp(e,t)?(e=Pp(),ml=Qc=Tr=null,Wi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tp&&t.locale!=="ko"?null:t.data;default:return null}}var vg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!vg[e.type]:t==="textarea"}function Mp(e,t,n,r){cp(r),t=Ml(t,"onChange"),0<t.length&&(n=new Yc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qs=null,oo=null;function gg(e){Wp(e,0)}function ra(e){var t=qi(e);if(rp(t))return e}function xg(e,t){if(e==="change")return t}var Lp=!1;if(or){var Za;if(or){var eu="oninput"in document;if(!eu){var gf=document.createElement("div");gf.setAttribute("oninput","return;"),eu=typeof gf.oninput=="function"}Za=eu}else Za=!1;Lp=Za&&(!document.documentMode||9<document.documentMode)}function xf(){Qs&&(Qs.detachEvent("onpropertychange",Fp),oo=Qs=null)}function Fp(e){if(e.propertyName==="value"&&ra(oo)){var t=[];Mp(t,oo,e,Kc(e)),pp(gg,t)}}function wg(e,t,n){e==="focusin"?(xf(),Qs=t,oo=n,Qs.attachEvent("onpropertychange",Fp)):e==="focusout"&&xf()}function bg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ra(oo)}function Sg(e,t){if(e==="click")return ra(t)}function kg(e,t){if(e==="input"||e==="change")return ra(t)}function jg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kn=typeof Object.is=="function"?Object.is:jg;function lo(e,t){if(kn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Cu.call(t,i)||!kn(e[i],t[i]))return!1}return!0}function wf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bf(e,t){var n=wf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wf(n)}}function Ip(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ip(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ap(){for(var e=window,t=Cl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Cl(e.document)}return t}function Jc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ng(e){var t=Ap(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ip(n.ownerDocument.documentElement,n)){if(r!==null&&Jc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=bf(n,o);var u=bf(n,r);i&&u&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Cg=or&&"documentMode"in document&&11>=document.documentMode,Hi=null,Hu=null,Ys=null,Vu=!1;function Sf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vu||Hi==null||Hi!==Cl(r)||(r=Hi,"selectionStart"in r&&Jc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ys&&lo(Ys,r)||(Ys=r,r=Ml(Hu,"onSelect"),0<r.length&&(t=new Yc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Hi)))}function el(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vi={animationend:el("Animation","AnimationEnd"),animationiteration:el("Animation","AnimationIteration"),animationstart:el("Animation","AnimationStart"),transitionend:el("Transition","TransitionEnd")},tu={},zp={};or&&(zp=document.createElement("div").style,"AnimationEvent"in window||(delete Vi.animationend.animation,delete Vi.animationiteration.animation,delete Vi.animationstart.animation),"TransitionEvent"in window||delete Vi.transitionend.transition);function ia(e){if(tu[e])return tu[e];if(!Vi[e])return e;var t=Vi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in zp)return tu[e]=t[n];return e}var Dp=ia("animationend"),Up=ia("animationiteration"),$p=ia("animationstart"),Bp=ia("transitionend"),Kp=new Map,kf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hr(e,t){Kp.set(e,t),bi(t,[e])}for(var nu=0;nu<kf.length;nu++){var ru=kf[nu],Eg=ru.toLowerCase(),_g=ru[0].toUpperCase()+ru.slice(1);Hr(Eg,"on"+_g)}Hr(Dp,"onAnimationEnd");Hr(Up,"onAnimationIteration");Hr($p,"onAnimationStart");Hr("dblclick","onDoubleClick");Hr("focusin","onFocus");Hr("focusout","onBlur");Hr(Bp,"onTransitionEnd");os("onMouseEnter",["mouseout","mouseover"]);os("onMouseLeave",["mouseout","mouseover"]);os("onPointerEnter",["pointerout","pointerover"]);os("onPointerLeave",["pointerout","pointerover"]);bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bi("onBeforeInput",["compositionend","keypress","textInput","paste"]);bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ks));function jf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ev(r,t,void 0,e),e.currentTarget=null}function Wp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var u=r.length-1;0<=u;u--){var f=r[u],p=f.instance,g=f.currentTarget;if(f=f.listener,p!==o&&i.isPropagationStopped())break e;jf(i,f,g),o=p}else for(u=0;u<r.length;u++){if(f=r[u],p=f.instance,g=f.currentTarget,f=f.listener,p!==o&&i.isPropagationStopped())break e;jf(i,f,g),o=p}}}if(_l)throw e=$u,_l=!1,$u=null,e}function Ve(e,t){var n=t[Xu];n===void 0&&(n=t[Xu]=new Set);var r=e+"__bubble";n.has(r)||(Hp(t,e,2,!1),n.add(r))}function iu(e,t,n){var r=0;t&&(r|=4),Hp(n,e,r,t)}var tl="_reactListening"+Math.random().toString(36).slice(2);function ao(e){if(!e[tl]){e[tl]=!0,Jh.forEach(function(n){n!=="selectionchange"&&(Pg.has(n)||iu(n,!1,e),iu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[tl]||(t[tl]=!0,iu("selectionchange",!1,t))}}function Hp(e,t,n,r){switch(_p(t)){case 1:var i=Kv;break;case 4:i=Wv;break;default:i=qc}n=i.bind(null,t,n,e),i=void 0,!Uu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function su(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var f=r.stateNode.containerInfo;if(f===i||f.nodeType===8&&f.parentNode===i)break;if(u===4)for(u=r.return;u!==null;){var p=u.tag;if((p===3||p===4)&&(p=u.stateNode.containerInfo,p===i||p.nodeType===8&&p.parentNode===i))return;u=u.return}for(;f!==null;){if(u=ci(f),u===null)return;if(p=u.tag,p===5||p===6){r=o=u;continue e}f=f.parentNode}}r=r.return}pp(function(){var g=o,k=Kc(n),S=[];e:{var _=Kp.get(e);if(_!==void 0){var B=Yc,z=e;switch(e){case"keypress":if(yl(n)===0)break e;case"keydown":case"keyup":B=sg;break;case"focusin":z="focus",B=Ja;break;case"focusout":z="blur",B=Ja;break;case"beforeblur":case"afterblur":B=Ja;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=ff;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=qv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=ag;break;case Dp:case Up:case $p:B=Gv;break;case Bp:B=cg;break;case"scroll":B=Hv;break;case"wheel":B=fg;break;case"copy":case"cut":case"paste":B=Jv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=pf}var H=(t&4)!==0,Q=!H&&e==="scroll",C=H?_!==null?_+"Capture":null:_;H=[];for(var v=g,N;v!==null;){N=v;var I=N.stateNode;if(N.tag===5&&I!==null&&(N=I,C!==null&&(I=no(v,C),I!=null&&H.push(uo(v,I,N)))),Q)break;v=v.return}0<H.length&&(_=new B(_,z,null,n,k),S.push({event:_,listeners:H}))}}if(!(t&7)){e:{if(_=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",_&&n!==zu&&(z=n.relatedTarget||n.fromElement)&&(ci(z)||z[lr]))break e;if((B||_)&&(_=k.window===k?k:(_=k.ownerDocument)?_.defaultView||_.parentWindow:window,B?(z=n.relatedTarget||n.toElement,B=g,z=z?ci(z):null,z!==null&&(Q=Si(z),z!==Q||z.tag!==5&&z.tag!==6)&&(z=null)):(B=null,z=g),B!==z)){if(H=ff,I="onMouseLeave",C="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(H=pf,I="onPointerLeave",C="onPointerEnter",v="pointer"),Q=B==null?_:qi(B),N=z==null?_:qi(z),_=new H(I,v+"leave",B,n,k),_.target=Q,_.relatedTarget=N,I=null,ci(k)===g&&(H=new H(C,v+"enter",z,n,k),H.target=N,H.relatedTarget=Q,I=H),Q=I,B&&z)t:{for(H=B,C=z,v=0,N=H;N;N=Di(N))v++;for(N=0,I=C;I;I=Di(I))N++;for(;0<v-N;)H=Di(H),v--;for(;0<N-v;)C=Di(C),N--;for(;v--;){if(H===C||C!==null&&H===C.alternate)break t;H=Di(H),C=Di(C)}H=null}else H=null;B!==null&&Nf(S,_,B,H,!1),z!==null&&Q!==null&&Nf(S,Q,z,H,!0)}}e:{if(_=g?qi(g):window,B=_.nodeName&&_.nodeName.toLowerCase(),B==="select"||B==="input"&&_.type==="file")var G=xg;else if(vf(_))if(Lp)G=kg;else{G=bg;var Z=wg}else(B=_.nodeName)&&B.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(G=Sg);if(G&&(G=G(e,g))){Mp(S,G,n,k);break e}Z&&Z(e,_,g),e==="focusout"&&(Z=_._wrapperState)&&Z.controlled&&_.type==="number"&&Mu(_,"number",_.value)}switch(Z=g?qi(g):window,e){case"focusin":(vf(Z)||Z.contentEditable==="true")&&(Hi=Z,Hu=g,Ys=null);break;case"focusout":Ys=Hu=Hi=null;break;case"mousedown":Vu=!0;break;case"contextmenu":case"mouseup":case"dragend":Vu=!1,Sf(S,n,k);break;case"selectionchange":if(Cg)break;case"keydown":case"keyup":Sf(S,n,k)}var X;if(Xc)e:{switch(e){case"compositionstart":var J="onCompositionStart";break e;case"compositionend":J="onCompositionEnd";break e;case"compositionupdate":J="onCompositionUpdate";break e}J=void 0}else Wi?Rp(e,n)&&(J="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(J="onCompositionStart");J&&(Tp&&n.locale!=="ko"&&(Wi||J!=="onCompositionStart"?J==="onCompositionEnd"&&Wi&&(X=Pp()):(Tr=k,Qc="value"in Tr?Tr.value:Tr.textContent,Wi=!0)),Z=Ml(g,J),0<Z.length&&(J=new hf(J,e,null,n,k),S.push({event:J,listeners:Z}),X?J.data=X:(X=Op(n),X!==null&&(J.data=X)))),(X=pg?mg(e,n):yg(e,n))&&(g=Ml(g,"onBeforeInput"),0<g.length&&(k=new hf("onBeforeInput","beforeinput",null,n,k),S.push({event:k,listeners:g}),k.data=X))}Wp(S,t)})}function uo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ml(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=no(e,n),o!=null&&r.unshift(uo(e,o,i)),o=no(e,t),o!=null&&r.push(uo(e,o,i))),e=e.return}return r}function Di(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nf(e,t,n,r,i){for(var o=t._reactName,u=[];n!==null&&n!==r;){var f=n,p=f.alternate,g=f.stateNode;if(p!==null&&p===r)break;f.tag===5&&g!==null&&(f=g,i?(p=no(n,o),p!=null&&u.unshift(uo(n,p,f))):i||(p=no(n,o),p!=null&&u.push(uo(n,p,f)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}var Tg=/\r\n?/g,Rg=/\u0000|\uFFFD/g;function Cf(e){return(typeof e=="string"?e:""+e).replace(Tg,`
`).replace(Rg,"")}function nl(e,t,n){if(t=Cf(t),Cf(e)!==t&&n)throw Error(te(425))}function Ll(){}var qu=null,Qu=null;function Yu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gu=typeof setTimeout=="function"?setTimeout:void 0,Og=typeof clearTimeout=="function"?clearTimeout:void 0,Ef=typeof Promise=="function"?Promise:void 0,Mg=typeof queueMicrotask=="function"?queueMicrotask:typeof Ef<"u"?function(e){return Ef.resolve(null).then(e).catch(Lg)}:Gu;function Lg(e){setTimeout(function(){throw e})}function ou(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),so(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);so(t)}function Ar(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _f(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var vs=Math.random().toString(36).slice(2),In="__reactFiber$"+vs,co="__reactProps$"+vs,lr="__reactContainer$"+vs,Xu="__reactEvents$"+vs,Fg="__reactListeners$"+vs,Ig="__reactHandles$"+vs;function ci(e){var t=e[In];if(t)return t;for(var n=e.parentNode;n;){if(t=n[lr]||n[In]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_f(e);e!==null;){if(n=e[In])return n;e=_f(e)}return t}e=n,n=e.parentNode}return null}function No(e){return e=e[In]||e[lr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(te(33))}function sa(e){return e[co]||null}var Ju=[],Qi=-1;function Vr(e){return{current:e}}function qe(e){0>Qi||(e.current=Ju[Qi],Ju[Qi]=null,Qi--)}function He(e,t){Qi++,Ju[Qi]=e.current,e.current=t}var Wr={},_t=Vr(Wr),Dt=Vr(!1),yi=Wr;function ls(e,t){var n=e.type.contextTypes;if(!n)return Wr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ut(e){return e=e.childContextTypes,e!=null}function Fl(){qe(Dt),qe(_t)}function Pf(e,t,n){if(_t.current!==Wr)throw Error(te(168));He(_t,t),He(Dt,n)}function Vp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(te(108,wv(e)||"Unknown",i));return Xe({},n,r)}function Il(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wr,yi=_t.current,He(_t,e),He(Dt,Dt.current),!0}function Tf(e,t,n){var r=e.stateNode;if(!r)throw Error(te(169));n?(e=Vp(e,t,yi),r.__reactInternalMemoizedMergedChildContext=e,qe(Dt),qe(_t),He(_t,e)):qe(Dt),He(Dt,n)}var tr=null,oa=!1,lu=!1;function qp(e){tr===null?tr=[e]:tr.push(e)}function Ag(e){oa=!0,qp(e)}function qr(){if(!lu&&tr!==null){lu=!0;var e=0,t=Ke;try{var n=tr;for(Ke=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}tr=null,oa=!1}catch(i){throw tr!==null&&(tr=tr.slice(e+1)),gp(Wc,qr),i}finally{Ke=t,lu=!1}}return null}var Yi=[],Gi=0,Al=null,zl=0,ln=[],an=0,vi=null,nr=1,rr="";function li(e,t){Yi[Gi++]=zl,Yi[Gi++]=Al,Al=e,zl=t}function Qp(e,t,n){ln[an++]=nr,ln[an++]=rr,ln[an++]=vi,vi=e;var r=nr;e=rr;var i=32-bn(r)-1;r&=~(1<<i),n+=1;var o=32-bn(t)+i;if(30<o){var u=i-i%5;o=(r&(1<<u)-1).toString(32),r>>=u,i-=u,nr=1<<32-bn(t)+i|n<<i|r,rr=o+e}else nr=1<<o|n<<i|r,rr=e}function Zc(e){e.return!==null&&(li(e,1),Qp(e,1,0))}function ed(e){for(;e===Al;)Al=Yi[--Gi],Yi[Gi]=null,zl=Yi[--Gi],Yi[Gi]=null;for(;e===vi;)vi=ln[--an],ln[an]=null,rr=ln[--an],ln[an]=null,nr=ln[--an],ln[an]=null}var Qt=null,qt=null,Qe=!1,wn=null;function Yp(e,t){var n=un(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Rf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qt=e,qt=Ar(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qt=e,qt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=vi!==null?{id:nr,overflow:rr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=un(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Qt=e,qt=null,!0):!1;default:return!1}}function Zu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ec(e){if(Qe){var t=qt;if(t){var n=t;if(!Rf(e,t)){if(Zu(e))throw Error(te(418));t=Ar(n.nextSibling);var r=Qt;t&&Rf(e,t)?Yp(r,n):(e.flags=e.flags&-4097|2,Qe=!1,Qt=e)}}else{if(Zu(e))throw Error(te(418));e.flags=e.flags&-4097|2,Qe=!1,Qt=e}}}function Of(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qt=e}function rl(e){if(e!==Qt)return!1;if(!Qe)return Of(e),Qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Yu(e.type,e.memoizedProps)),t&&(t=qt)){if(Zu(e))throw Gp(),Error(te(418));for(;t;)Yp(e,t),t=Ar(t.nextSibling)}if(Of(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(te(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){qt=Ar(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}qt=null}}else qt=Qt?Ar(e.stateNode.nextSibling):null;return!0}function Gp(){for(var e=qt;e;)e=Ar(e.nextSibling)}function as(){qt=Qt=null,Qe=!1}function td(e){wn===null?wn=[e]:wn.push(e)}var zg=cr.ReactCurrentBatchConfig;function Is(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var r=n.stateNode}if(!r)throw Error(te(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(u){var f=i.refs;u===null?delete f[o]:f[o]=u},t._stringRef=o,t)}if(typeof e!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,e))}return e}function il(e,t){throw e=Object.prototype.toString.call(t),Error(te(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Mf(e){var t=e._init;return t(e._payload)}function Xp(e){function t(C,v){if(e){var N=C.deletions;N===null?(C.deletions=[v],C.flags|=16):N.push(v)}}function n(C,v){if(!e)return null;for(;v!==null;)t(C,v),v=v.sibling;return null}function r(C,v){for(C=new Map;v!==null;)v.key!==null?C.set(v.key,v):C.set(v.index,v),v=v.sibling;return C}function i(C,v){return C=$r(C,v),C.index=0,C.sibling=null,C}function o(C,v,N){return C.index=N,e?(N=C.alternate,N!==null?(N=N.index,N<v?(C.flags|=2,v):N):(C.flags|=2,v)):(C.flags|=1048576,v)}function u(C){return e&&C.alternate===null&&(C.flags|=2),C}function f(C,v,N,I){return v===null||v.tag!==6?(v=pu(N,C.mode,I),v.return=C,v):(v=i(v,N),v.return=C,v)}function p(C,v,N,I){var G=N.type;return G===Ki?k(C,v,N.props.children,I,N.key):v!==null&&(v.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===Cr&&Mf(G)===v.type)?(I=i(v,N.props),I.ref=Is(C,v,N),I.return=C,I):(I=kl(N.type,N.key,N.props,null,C.mode,I),I.ref=Is(C,v,N),I.return=C,I)}function g(C,v,N,I){return v===null||v.tag!==4||v.stateNode.containerInfo!==N.containerInfo||v.stateNode.implementation!==N.implementation?(v=mu(N,C.mode,I),v.return=C,v):(v=i(v,N.children||[]),v.return=C,v)}function k(C,v,N,I,G){return v===null||v.tag!==7?(v=mi(N,C.mode,I,G),v.return=C,v):(v=i(v,N),v.return=C,v)}function S(C,v,N){if(typeof v=="string"&&v!==""||typeof v=="number")return v=pu(""+v,C.mode,N),v.return=C,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case qo:return N=kl(v.type,v.key,v.props,null,C.mode,N),N.ref=Is(C,null,v),N.return=C,N;case Bi:return v=mu(v,C.mode,N),v.return=C,v;case Cr:var I=v._init;return S(C,I(v._payload),N)}if($s(v)||Rs(v))return v=mi(v,C.mode,N,null),v.return=C,v;il(C,v)}return null}function _(C,v,N,I){var G=v!==null?v.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return G!==null?null:f(C,v,""+N,I);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case qo:return N.key===G?p(C,v,N,I):null;case Bi:return N.key===G?g(C,v,N,I):null;case Cr:return G=N._init,_(C,v,G(N._payload),I)}if($s(N)||Rs(N))return G!==null?null:k(C,v,N,I,null);il(C,N)}return null}function B(C,v,N,I,G){if(typeof I=="string"&&I!==""||typeof I=="number")return C=C.get(N)||null,f(v,C,""+I,G);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case qo:return C=C.get(I.key===null?N:I.key)||null,p(v,C,I,G);case Bi:return C=C.get(I.key===null?N:I.key)||null,g(v,C,I,G);case Cr:var Z=I._init;return B(C,v,N,Z(I._payload),G)}if($s(I)||Rs(I))return C=C.get(N)||null,k(v,C,I,G,null);il(v,I)}return null}function z(C,v,N,I){for(var G=null,Z=null,X=v,J=v=0,Ce=null;X!==null&&J<N.length;J++){X.index>J?(Ce=X,X=null):Ce=X.sibling;var he=_(C,X,N[J],I);if(he===null){X===null&&(X=Ce);break}e&&X&&he.alternate===null&&t(C,X),v=o(he,v,J),Z===null?G=he:Z.sibling=he,Z=he,X=Ce}if(J===N.length)return n(C,X),Qe&&li(C,J),G;if(X===null){for(;J<N.length;J++)X=S(C,N[J],I),X!==null&&(v=o(X,v,J),Z===null?G=X:Z.sibling=X,Z=X);return Qe&&li(C,J),G}for(X=r(C,X);J<N.length;J++)Ce=B(X,C,J,N[J],I),Ce!==null&&(e&&Ce.alternate!==null&&X.delete(Ce.key===null?J:Ce.key),v=o(Ce,v,J),Z===null?G=Ce:Z.sibling=Ce,Z=Ce);return e&&X.forEach(function(Le){return t(C,Le)}),Qe&&li(C,J),G}function H(C,v,N,I){var G=Rs(N);if(typeof G!="function")throw Error(te(150));if(N=G.call(N),N==null)throw Error(te(151));for(var Z=G=null,X=v,J=v=0,Ce=null,he=N.next();X!==null&&!he.done;J++,he=N.next()){X.index>J?(Ce=X,X=null):Ce=X.sibling;var Le=_(C,X,he.value,I);if(Le===null){X===null&&(X=Ce);break}e&&X&&Le.alternate===null&&t(C,X),v=o(Le,v,J),Z===null?G=Le:Z.sibling=Le,Z=Le,X=Ce}if(he.done)return n(C,X),Qe&&li(C,J),G;if(X===null){for(;!he.done;J++,he=N.next())he=S(C,he.value,I),he!==null&&(v=o(he,v,J),Z===null?G=he:Z.sibling=he,Z=he);return Qe&&li(C,J),G}for(X=r(C,X);!he.done;J++,he=N.next())he=B(X,C,J,he.value,I),he!==null&&(e&&he.alternate!==null&&X.delete(he.key===null?J:he.key),v=o(he,v,J),Z===null?G=he:Z.sibling=he,Z=he);return e&&X.forEach(function(De){return t(C,De)}),Qe&&li(C,J),G}function Q(C,v,N,I){if(typeof N=="object"&&N!==null&&N.type===Ki&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case qo:e:{for(var G=N.key,Z=v;Z!==null;){if(Z.key===G){if(G=N.type,G===Ki){if(Z.tag===7){n(C,Z.sibling),v=i(Z,N.props.children),v.return=C,C=v;break e}}else if(Z.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===Cr&&Mf(G)===Z.type){n(C,Z.sibling),v=i(Z,N.props),v.ref=Is(C,Z,N),v.return=C,C=v;break e}n(C,Z);break}else t(C,Z);Z=Z.sibling}N.type===Ki?(v=mi(N.props.children,C.mode,I,N.key),v.return=C,C=v):(I=kl(N.type,N.key,N.props,null,C.mode,I),I.ref=Is(C,v,N),I.return=C,C=I)}return u(C);case Bi:e:{for(Z=N.key;v!==null;){if(v.key===Z)if(v.tag===4&&v.stateNode.containerInfo===N.containerInfo&&v.stateNode.implementation===N.implementation){n(C,v.sibling),v=i(v,N.children||[]),v.return=C,C=v;break e}else{n(C,v);break}else t(C,v);v=v.sibling}v=mu(N,C.mode,I),v.return=C,C=v}return u(C);case Cr:return Z=N._init,Q(C,v,Z(N._payload),I)}if($s(N))return z(C,v,N,I);if(Rs(N))return H(C,v,N,I);il(C,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,v!==null&&v.tag===6?(n(C,v.sibling),v=i(v,N),v.return=C,C=v):(n(C,v),v=pu(N,C.mode,I),v.return=C,C=v),u(C)):n(C,v)}return Q}var us=Xp(!0),Jp=Xp(!1),Dl=Vr(null),Ul=null,Xi=null,nd=null;function rd(){nd=Xi=Ul=null}function id(e){var t=Dl.current;qe(Dl),e._currentValue=t}function tc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function is(e,t){Ul=e,nd=Xi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(zt=!0),e.firstContext=null)}function dn(e){var t=e._currentValue;if(nd!==e)if(e={context:e,memoizedValue:t,next:null},Xi===null){if(Ul===null)throw Error(te(308));Xi=e,Ul.dependencies={lanes:0,firstContext:e}}else Xi=Xi.next=e;return t}var di=null;function sd(e){di===null?di=[e]:di.push(e)}function Zp(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,sd(t)):(n.next=i.next,i.next=n),t.interleaved=n,ar(e,r)}function ar(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Er=!1;function od(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function em(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ze&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ar(e,n)}return i=r.interleaved,i===null?(t.next=t,sd(r)):(t.next=i.next,i.next=t),r.interleaved=t,ar(e,n)}function vl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hc(e,n)}}function Lf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=u:o=o.next=u,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $l(e,t,n,r){var i=e.updateQueue;Er=!1;var o=i.firstBaseUpdate,u=i.lastBaseUpdate,f=i.shared.pending;if(f!==null){i.shared.pending=null;var p=f,g=p.next;p.next=null,u===null?o=g:u.next=g,u=p;var k=e.alternate;k!==null&&(k=k.updateQueue,f=k.lastBaseUpdate,f!==u&&(f===null?k.firstBaseUpdate=g:f.next=g,k.lastBaseUpdate=p))}if(o!==null){var S=i.baseState;u=0,k=g=p=null,f=o;do{var _=f.lane,B=f.eventTime;if((r&_)===_){k!==null&&(k=k.next={eventTime:B,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var z=e,H=f;switch(_=t,B=n,H.tag){case 1:if(z=H.payload,typeof z=="function"){S=z.call(B,S,_);break e}S=z;break e;case 3:z.flags=z.flags&-65537|128;case 0:if(z=H.payload,_=typeof z=="function"?z.call(B,S,_):z,_==null)break e;S=Xe({},S,_);break e;case 2:Er=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,_=i.effects,_===null?i.effects=[f]:_.push(f))}else B={eventTime:B,lane:_,tag:f.tag,payload:f.payload,callback:f.callback,next:null},k===null?(g=k=B,p=S):k=k.next=B,u|=_;if(f=f.next,f===null){if(f=i.shared.pending,f===null)break;_=f,f=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(!0);if(k===null&&(p=S),i.baseState=p,i.firstBaseUpdate=g,i.lastBaseUpdate=k,t=i.shared.interleaved,t!==null){i=t;do u|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);xi|=u,e.lanes=u,e.memoizedState=S}}function Ff(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(te(191,i));i.call(r)}}}var Co={},zn=Vr(Co),fo=Vr(Co),ho=Vr(Co);function fi(e){if(e===Co)throw Error(te(174));return e}function ld(e,t){switch(He(ho,t),He(fo,e),He(zn,Co),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Fu(t,e)}qe(zn),He(zn,t)}function cs(){qe(zn),qe(fo),qe(ho)}function tm(e){fi(ho.current);var t=fi(zn.current),n=Fu(t,e.type);t!==n&&(He(fo,e),He(zn,n))}function ad(e){fo.current===e&&(qe(zn),qe(fo))}var Ye=Vr(0);function Bl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var au=[];function ud(){for(var e=0;e<au.length;e++)au[e]._workInProgressVersionPrimary=null;au.length=0}var gl=cr.ReactCurrentDispatcher,uu=cr.ReactCurrentBatchConfig,gi=0,Ge=null,at=null,ht=null,Kl=!1,Gs=!1,po=0,Dg=0;function Nt(){throw Error(te(321))}function cd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kn(e[n],t[n]))return!1;return!0}function dd(e,t,n,r,i,o){if(gi=o,Ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,gl.current=e===null||e.memoizedState===null?Kg:Wg,e=n(r,i),Gs){o=0;do{if(Gs=!1,po=0,25<=o)throw Error(te(301));o+=1,ht=at=null,t.updateQueue=null,gl.current=Hg,e=n(r,i)}while(Gs)}if(gl.current=Wl,t=at!==null&&at.next!==null,gi=0,ht=at=Ge=null,Kl=!1,t)throw Error(te(300));return e}function fd(){var e=po!==0;return po=0,e}function Fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Ge.memoizedState=ht=e:ht=ht.next=e,ht}function fn(){if(at===null){var e=Ge.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var t=ht===null?Ge.memoizedState:ht.next;if(t!==null)ht=t,at=e;else{if(e===null)throw Error(te(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},ht===null?Ge.memoizedState=ht=e:ht=ht.next=e}return ht}function mo(e,t){return typeof t=="function"?t(e):t}function cu(e){var t=fn(),n=t.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=e;var r=at,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var f=u=null,p=null,g=o;do{var k=g.lane;if((gi&k)===k)p!==null&&(p=p.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),r=g.hasEagerState?g.eagerState:e(r,g.action);else{var S={lane:k,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};p===null?(f=p=S,u=r):p=p.next=S,Ge.lanes|=k,xi|=k}g=g.next}while(g!==null&&g!==o);p===null?u=r:p.next=f,kn(r,t.memoizedState)||(zt=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=p,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Ge.lanes|=o,xi|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function du(e){var t=fn(),n=t.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var u=i=i.next;do o=e(o,u.action),u=u.next;while(u!==i);kn(o,t.memoizedState)||(zt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function nm(){}function rm(e,t){var n=Ge,r=fn(),i=t(),o=!kn(r.memoizedState,i);if(o&&(r.memoizedState=i,zt=!0),r=r.queue,hd(om.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,yo(9,sm.bind(null,n,r,i,t),void 0,null),pt===null)throw Error(te(349));gi&30||im(n,t,i)}return i}function im(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function sm(e,t,n,r){t.value=n,t.getSnapshot=r,lm(t)&&am(e)}function om(e,t,n){return n(function(){lm(t)&&am(e)})}function lm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kn(e,n)}catch{return!0}}function am(e){var t=ar(e,1);t!==null&&Sn(t,e,1,-1)}function If(e){var t=Fn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:e},t.queue=e,e=e.dispatch=Bg.bind(null,Ge,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function um(){return fn().memoizedState}function xl(e,t,n,r){var i=Fn();Ge.flags|=e,i.memoizedState=yo(1|t,n,void 0,r===void 0?null:r)}function la(e,t,n,r){var i=fn();r=r===void 0?null:r;var o=void 0;if(at!==null){var u=at.memoizedState;if(o=u.destroy,r!==null&&cd(r,u.deps)){i.memoizedState=yo(t,n,o,r);return}}Ge.flags|=e,i.memoizedState=yo(1|t,n,o,r)}function Af(e,t){return xl(8390656,8,e,t)}function hd(e,t){return la(2048,8,e,t)}function cm(e,t){return la(4,2,e,t)}function dm(e,t){return la(4,4,e,t)}function fm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hm(e,t,n){return n=n!=null?n.concat([e]):null,la(4,4,fm.bind(null,t,e),n)}function pd(){}function pm(e,t){var n=fn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function mm(e,t){var n=fn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ym(e,t,n){return gi&21?(kn(n,t)||(n=bp(),Ge.lanes|=n,xi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,zt=!0),e.memoizedState=n)}function Ug(e,t){var n=Ke;Ke=n!==0&&4>n?n:4,e(!0);var r=uu.transition;uu.transition={};try{e(!1),t()}finally{Ke=n,uu.transition=r}}function vm(){return fn().memoizedState}function $g(e,t,n){var r=Ur(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gm(e))xm(t,n);else if(n=Zp(e,t,n,r),n!==null){var i=Ot();Sn(n,e,r,i),wm(n,t,r)}}function Bg(e,t,n){var r=Ur(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gm(e))xm(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var u=t.lastRenderedState,f=o(u,n);if(i.hasEagerState=!0,i.eagerState=f,kn(f,u)){var p=t.interleaved;p===null?(i.next=i,sd(t)):(i.next=p.next,p.next=i),t.interleaved=i;return}}catch{}finally{}n=Zp(e,t,i,r),n!==null&&(i=Ot(),Sn(n,e,r,i),wm(n,t,r))}}function gm(e){var t=e.alternate;return e===Ge||t!==null&&t===Ge}function xm(e,t){Gs=Kl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function wm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hc(e,n)}}var Wl={readContext:dn,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},Kg={readContext:dn,useCallback:function(e,t){return Fn().memoizedState=[e,t===void 0?null:t],e},useContext:dn,useEffect:Af,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,xl(4194308,4,fm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xl(4194308,4,e,t)},useInsertionEffect:function(e,t){return xl(4,2,e,t)},useMemo:function(e,t){var n=Fn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Fn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$g.bind(null,Ge,e),[r.memoizedState,e]},useRef:function(e){var t=Fn();return e={current:e},t.memoizedState=e},useState:If,useDebugValue:pd,useDeferredValue:function(e){return Fn().memoizedState=e},useTransition:function(){var e=If(!1),t=e[0];return e=Ug.bind(null,e[1]),Fn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ge,i=Fn();if(Qe){if(n===void 0)throw Error(te(407));n=n()}else{if(n=t(),pt===null)throw Error(te(349));gi&30||im(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Af(om.bind(null,r,o,e),[e]),r.flags|=2048,yo(9,sm.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Fn(),t=pt.identifierPrefix;if(Qe){var n=rr,r=nr;n=(r&~(1<<32-bn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=po++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Dg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Wg={readContext:dn,useCallback:pm,useContext:dn,useEffect:hd,useImperativeHandle:hm,useInsertionEffect:cm,useLayoutEffect:dm,useMemo:mm,useReducer:cu,useRef:um,useState:function(){return cu(mo)},useDebugValue:pd,useDeferredValue:function(e){var t=fn();return ym(t,at.memoizedState,e)},useTransition:function(){var e=cu(mo)[0],t=fn().memoizedState;return[e,t]},useMutableSource:nm,useSyncExternalStore:rm,useId:vm,unstable_isNewReconciler:!1},Hg={readContext:dn,useCallback:pm,useContext:dn,useEffect:hd,useImperativeHandle:hm,useInsertionEffect:cm,useLayoutEffect:dm,useMemo:mm,useReducer:du,useRef:um,useState:function(){return du(mo)},useDebugValue:pd,useDeferredValue:function(e){var t=fn();return at===null?t.memoizedState=e:ym(t,at.memoizedState,e)},useTransition:function(){var e=du(mo)[0],t=fn().memoizedState;return[e,t]},useMutableSource:nm,useSyncExternalStore:rm,useId:vm,unstable_isNewReconciler:!1};function gn(e,t){if(e&&e.defaultProps){t=Xe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function nc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var aa={isMounted:function(e){return(e=e._reactInternals)?Si(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ot(),i=Ur(e),o=sr(r,i);o.payload=t,n!=null&&(o.callback=n),t=zr(e,o,i),t!==null&&(Sn(t,e,i,r),vl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ot(),i=Ur(e),o=sr(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=zr(e,o,i),t!==null&&(Sn(t,e,i,r),vl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ot(),r=Ur(e),i=sr(n,r);i.tag=2,t!=null&&(i.callback=t),t=zr(e,i,r),t!==null&&(Sn(t,e,r,n),vl(t,e,r))}};function zf(e,t,n,r,i,o,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,u):t.prototype&&t.prototype.isPureReactComponent?!lo(n,r)||!lo(i,o):!0}function bm(e,t,n){var r=!1,i=Wr,o=t.contextType;return typeof o=="object"&&o!==null?o=dn(o):(i=Ut(t)?yi:_t.current,r=t.contextTypes,o=(r=r!=null)?ls(e,i):Wr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=aa,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Df(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&aa.enqueueReplaceState(t,t.state,null)}function rc(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},od(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=dn(o):(o=Ut(t)?yi:_t.current,i.context=ls(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(nc(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&aa.enqueueReplaceState(i,i.state,null),$l(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ds(e,t){try{var n="",r=t;do n+=xv(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ic(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Vg=typeof WeakMap=="function"?WeakMap:Map;function Sm(e,t,n){n=sr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,pc=r),ic(e,t)},n}function km(e,t,n){n=sr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ic(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ic(e,t),typeof r!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),n}function Uf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Vg;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ox.bind(null,e,t,n),t.then(e,e))}function $f(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Bf(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=sr(-1,1),t.tag=2,zr(n,t,1))),n.lanes|=1),e)}var qg=cr.ReactCurrentOwner,zt=!1;function Rt(e,t,n,r){t.child=e===null?Jp(t,null,n,r):us(t,e.child,n,r)}function Kf(e,t,n,r,i){n=n.render;var o=t.ref;return is(t,i),r=dd(e,t,n,r,o,i),n=fd(),e!==null&&!zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ur(e,t,i)):(Qe&&n&&Zc(t),t.flags|=1,Rt(e,t,r,i),t.child)}function Wf(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Sd(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,jm(e,t,o,r,i)):(e=kl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var u=o.memoizedProps;if(n=n.compare,n=n!==null?n:lo,n(u,r)&&e.ref===t.ref)return ur(e,t,i)}return t.flags|=1,e=$r(o,r),e.ref=t.ref,e.return=t,t.child=e}function jm(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(lo(o,r)&&e.ref===t.ref)if(zt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(zt=!0);else return t.lanes=e.lanes,ur(e,t,i)}return sc(e,t,n,r,i)}function Nm(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Zi,Vt),Vt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,He(Zi,Vt),Vt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,He(Zi,Vt),Vt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,He(Zi,Vt),Vt|=r;return Rt(e,t,i,n),t.child}function Cm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function sc(e,t,n,r,i){var o=Ut(n)?yi:_t.current;return o=ls(t,o),is(t,i),n=dd(e,t,n,r,o,i),r=fd(),e!==null&&!zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ur(e,t,i)):(Qe&&r&&Zc(t),t.flags|=1,Rt(e,t,n,i),t.child)}function Hf(e,t,n,r,i){if(Ut(n)){var o=!0;Il(t)}else o=!1;if(is(t,i),t.stateNode===null)wl(e,t),bm(t,n,r),rc(t,n,r,i),r=!0;else if(e===null){var u=t.stateNode,f=t.memoizedProps;u.props=f;var p=u.context,g=n.contextType;typeof g=="object"&&g!==null?g=dn(g):(g=Ut(n)?yi:_t.current,g=ls(t,g));var k=n.getDerivedStateFromProps,S=typeof k=="function"||typeof u.getSnapshotBeforeUpdate=="function";S||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==r||p!==g)&&Df(t,u,r,g),Er=!1;var _=t.memoizedState;u.state=_,$l(t,r,u,i),p=t.memoizedState,f!==r||_!==p||Dt.current||Er?(typeof k=="function"&&(nc(t,n,k,r),p=t.memoizedState),(f=Er||zf(t,n,f,r,_,p,g))?(S||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=p),u.props=r,u.state=p,u.context=g,r=f):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,em(e,t),f=t.memoizedProps,g=t.type===t.elementType?f:gn(t.type,f),u.props=g,S=t.pendingProps,_=u.context,p=n.contextType,typeof p=="object"&&p!==null?p=dn(p):(p=Ut(n)?yi:_t.current,p=ls(t,p));var B=n.getDerivedStateFromProps;(k=typeof B=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==S||_!==p)&&Df(t,u,r,p),Er=!1,_=t.memoizedState,u.state=_,$l(t,r,u,i);var z=t.memoizedState;f!==S||_!==z||Dt.current||Er?(typeof B=="function"&&(nc(t,n,B,r),z=t.memoizedState),(g=Er||zf(t,n,g,r,_,z,p)||!1)?(k||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,z,p),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,z,p)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=z),u.props=r,u.state=z,u.context=p,r=g):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),r=!1)}return oc(e,t,n,r,o,i)}function oc(e,t,n,r,i,o){Cm(e,t);var u=(t.flags&128)!==0;if(!r&&!u)return i&&Tf(t,n,!1),ur(e,t,o);r=t.stateNode,qg.current=t;var f=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&u?(t.child=us(t,e.child,null,o),t.child=us(t,null,f,o)):Rt(e,t,f,o),t.memoizedState=r.state,i&&Tf(t,n,!0),t.child}function Em(e){var t=e.stateNode;t.pendingContext?Pf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pf(e,t.context,!1),ld(e,t.containerInfo)}function Vf(e,t,n,r,i){return as(),td(i),t.flags|=256,Rt(e,t,n,r),t.child}var lc={dehydrated:null,treeContext:null,retryLane:0};function ac(e){return{baseLanes:e,cachePool:null,transitions:null}}function _m(e,t,n){var r=t.pendingProps,i=Ye.current,o=!1,u=(t.flags&128)!==0,f;if((f=u)||(f=e!==null&&e.memoizedState===null?!1:(i&2)!==0),f?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),He(Ye,i&1),e===null)return ec(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=r.children,e=r.fallback,o?(r=t.mode,o=t.child,u={mode:"hidden",children:u},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=u):o=da(u,r,0,null),e=mi(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=ac(n),t.memoizedState=lc,e):md(t,u));if(i=e.memoizedState,i!==null&&(f=i.dehydrated,f!==null))return Qg(e,t,u,r,f,i,n);if(o){o=r.fallback,u=t.mode,i=e.child,f=i.sibling;var p={mode:"hidden",children:r.children};return!(u&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=p,t.deletions=null):(r=$r(i,p),r.subtreeFlags=i.subtreeFlags&14680064),f!==null?o=$r(f,o):(o=mi(o,u,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,u=e.child.memoizedState,u=u===null?ac(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},o.memoizedState=u,o.childLanes=e.childLanes&~n,t.memoizedState=lc,r}return o=e.child,e=o.sibling,r=$r(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function md(e,t){return t=da({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function sl(e,t,n,r){return r!==null&&td(r),us(t,e.child,null,n),e=md(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qg(e,t,n,r,i,o,u){if(n)return t.flags&256?(t.flags&=-257,r=fu(Error(te(422))),sl(e,t,u,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=da({mode:"visible",children:r.children},i,0,null),o=mi(o,i,u,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&us(t,e.child,null,u),t.child.memoizedState=ac(u),t.memoizedState=lc,o);if(!(t.mode&1))return sl(e,t,u,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var f=r.dgst;return r=f,o=Error(te(419)),r=fu(o,r,void 0),sl(e,t,u,r)}if(f=(u&e.childLanes)!==0,zt||f){if(r=pt,r!==null){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|u)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ar(e,i),Sn(r,e,i,-1))}return bd(),r=fu(Error(te(421))),sl(e,t,u,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=lx.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,qt=Ar(i.nextSibling),Qt=t,Qe=!0,wn=null,e!==null&&(ln[an++]=nr,ln[an++]=rr,ln[an++]=vi,nr=e.id,rr=e.overflow,vi=t),t=md(t,r.children),t.flags|=4096,t)}function qf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),tc(e.return,t,n)}function hu(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Pm(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Rt(e,t,r.children,n),r=Ye.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qf(e,n,t);else if(e.tag===19)qf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(He(Ye,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Bl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),hu(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Bl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}hu(t,!0,n,null,o);break;case"together":hu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ur(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),xi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(te(153));if(t.child!==null){for(e=t.child,n=$r(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=$r(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Yg(e,t,n){switch(t.tag){case 3:Em(t),as();break;case 5:tm(t);break;case 1:Ut(t.type)&&Il(t);break;case 4:ld(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;He(Dl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(He(Ye,Ye.current&1),t.flags|=128,null):n&t.child.childLanes?_m(e,t,n):(He(Ye,Ye.current&1),e=ur(e,t,n),e!==null?e.sibling:null);He(Ye,Ye.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Pm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),He(Ye,Ye.current),r)break;return null;case 22:case 23:return t.lanes=0,Nm(e,t,n)}return ur(e,t,n)}var Tm,uc,Rm,Om;Tm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};uc=function(){};Rm=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,fi(zn.current);var o=null;switch(n){case"input":i=Ru(e,i),r=Ru(e,r),o=[];break;case"select":i=Xe({},i,{value:void 0}),r=Xe({},r,{value:void 0}),o=[];break;case"textarea":i=Lu(e,i),r=Lu(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ll)}Iu(n,r);var u;n=null;for(g in i)if(!r.hasOwnProperty(g)&&i.hasOwnProperty(g)&&i[g]!=null)if(g==="style"){var f=i[g];for(u in f)f.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(eo.hasOwnProperty(g)?o||(o=[]):(o=o||[]).push(g,null));for(g in r){var p=r[g];if(f=i!=null?i[g]:void 0,r.hasOwnProperty(g)&&p!==f&&(p!=null||f!=null))if(g==="style")if(f){for(u in f)!f.hasOwnProperty(u)||p&&p.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in p)p.hasOwnProperty(u)&&f[u]!==p[u]&&(n||(n={}),n[u]=p[u])}else n||(o||(o=[]),o.push(g,n)),n=p;else g==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,f=f?f.__html:void 0,p!=null&&f!==p&&(o=o||[]).push(g,p)):g==="children"?typeof p!="string"&&typeof p!="number"||(o=o||[]).push(g,""+p):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(eo.hasOwnProperty(g)?(p!=null&&g==="onScroll"&&Ve("scroll",e),o||f===p||(o=[])):(o=o||[]).push(g,p))}n&&(o=o||[]).push("style",n);var g=o;(t.updateQueue=g)&&(t.flags|=4)}};Om=function(e,t,n,r){n!==r&&(t.flags|=4)};function As(e,t){if(!Qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gg(e,t,n){var r=t.pendingProps;switch(ed(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(t),null;case 1:return Ut(t.type)&&Fl(),Ct(t),null;case 3:return r=t.stateNode,cs(),qe(Dt),qe(_t),ud(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(rl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wn!==null&&(vc(wn),wn=null))),uc(e,t),Ct(t),null;case 5:ad(t);var i=fi(ho.current);if(n=t.type,e!==null&&t.stateNode!=null)Rm(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(te(166));return Ct(t),null}if(e=fi(zn.current),rl(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[In]=t,r[co]=o,e=(t.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(i=0;i<Ks.length;i++)Ve(Ks[i],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":tf(r,o),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ve("invalid",r);break;case"textarea":rf(r,o),Ve("invalid",r)}Iu(n,o),i=null;for(var u in o)if(o.hasOwnProperty(u)){var f=o[u];u==="children"?typeof f=="string"?r.textContent!==f&&(o.suppressHydrationWarning!==!0&&nl(r.textContent,f,e),i=["children",f]):typeof f=="number"&&r.textContent!==""+f&&(o.suppressHydrationWarning!==!0&&nl(r.textContent,f,e),i=["children",""+f]):eo.hasOwnProperty(u)&&f!=null&&u==="onScroll"&&Ve("scroll",r)}switch(n){case"input":Qo(r),nf(r,o,!0);break;case"textarea":Qo(r),sf(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ll)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{u=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=op(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),n==="select"&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[In]=t,e[co]=r,Tm(e,t,!1,!1),t.stateNode=e;e:{switch(u=Au(n,r),n){case"dialog":Ve("cancel",e),Ve("close",e),i=r;break;case"iframe":case"object":case"embed":Ve("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ks.length;i++)Ve(Ks[i],e);i=r;break;case"source":Ve("error",e),i=r;break;case"img":case"image":case"link":Ve("error",e),Ve("load",e),i=r;break;case"details":Ve("toggle",e),i=r;break;case"input":tf(e,r),i=Ru(e,r),Ve("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Xe({},r,{value:void 0}),Ve("invalid",e);break;case"textarea":rf(e,r),i=Lu(e,r),Ve("invalid",e);break;default:i=r}Iu(n,i),f=i;for(o in f)if(f.hasOwnProperty(o)){var p=f[o];o==="style"?up(e,p):o==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&lp(e,p)):o==="children"?typeof p=="string"?(n!=="textarea"||p!=="")&&to(e,p):typeof p=="number"&&to(e,""+p):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(eo.hasOwnProperty(o)?p!=null&&o==="onScroll"&&Ve("scroll",e):p!=null&&Dc(e,o,p,u))}switch(n){case"input":Qo(e),nf(e,r,!1);break;case"textarea":Qo(e),sf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Kr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?es(e,!!r.multiple,o,!1):r.defaultValue!=null&&es(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ll)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ct(t),null;case 6:if(e&&t.stateNode!=null)Om(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(te(166));if(n=fi(ho.current),fi(zn.current),rl(t)){if(r=t.stateNode,n=t.memoizedProps,r[In]=t,(o=r.nodeValue!==n)&&(e=Qt,e!==null))switch(e.tag){case 3:nl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&nl(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[In]=t,t.stateNode=r}return Ct(t),null;case 13:if(qe(Ye),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&qt!==null&&t.mode&1&&!(t.flags&128))Gp(),as(),t.flags|=98560,o=!1;else if(o=rl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(te(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(te(317));o[In]=t}else as(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ct(t),o=!1}else wn!==null&&(vc(wn),wn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ye.current&1?ut===0&&(ut=3):bd())),t.updateQueue!==null&&(t.flags|=4),Ct(t),null);case 4:return cs(),uc(e,t),e===null&&ao(t.stateNode.containerInfo),Ct(t),null;case 10:return id(t.type._context),Ct(t),null;case 17:return Ut(t.type)&&Fl(),Ct(t),null;case 19:if(qe(Ye),o=t.memoizedState,o===null)return Ct(t),null;if(r=(t.flags&128)!==0,u=o.rendering,u===null)if(r)As(o,!1);else{if(ut!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=Bl(e),u!==null){for(t.flags|=128,As(o,!1),r=u.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,u=o.alternate,u===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return He(Ye,Ye.current&1|2),t.child}e=e.sibling}o.tail!==null&&st()>fs&&(t.flags|=128,r=!0,As(o,!1),t.lanes=4194304)}else{if(!r)if(e=Bl(u),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),As(o,!0),o.tail===null&&o.tailMode==="hidden"&&!u.alternate&&!Qe)return Ct(t),null}else 2*st()-o.renderingStartTime>fs&&n!==1073741824&&(t.flags|=128,r=!0,As(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(n=o.last,n!==null?n.sibling=u:t.child=u,o.last=u)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=st(),t.sibling=null,n=Ye.current,He(Ye,r?n&1|2:n&1),t):(Ct(t),null);case 22:case 23:return wd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Vt&1073741824&&(Ct(t),t.subtreeFlags&6&&(t.flags|=8192)):Ct(t),null;case 24:return null;case 25:return null}throw Error(te(156,t.tag))}function Xg(e,t){switch(ed(t),t.tag){case 1:return Ut(t.type)&&Fl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cs(),qe(Dt),qe(_t),ud(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ad(t),null;case 13:if(qe(Ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(te(340));as()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qe(Ye),null;case 4:return cs(),null;case 10:return id(t.type._context),null;case 22:case 23:return wd(),null;case 24:return null;default:return null}}var ol=!1,Et=!1,Jg=typeof WeakSet=="function"?WeakSet:Set,me=null;function Ji(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(e,t,r)}else n.current=null}function cc(e,t,n){try{n()}catch(r){tt(e,t,r)}}var Qf=!1;function Zg(e,t){if(qu=Rl,e=Ap(),Jc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var u=0,f=-1,p=-1,g=0,k=0,S=e,_=null;t:for(;;){for(var B;S!==n||i!==0&&S.nodeType!==3||(f=u+i),S!==o||r!==0&&S.nodeType!==3||(p=u+r),S.nodeType===3&&(u+=S.nodeValue.length),(B=S.firstChild)!==null;)_=S,S=B;for(;;){if(S===e)break t;if(_===n&&++g===i&&(f=u),_===o&&++k===r&&(p=u),(B=S.nextSibling)!==null)break;S=_,_=S.parentNode}S=B}n=f===-1||p===-1?null:{start:f,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qu={focusedElem:e,selectionRange:n},Rl=!1,me=t;me!==null;)if(t=me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,me=e;else for(;me!==null;){t=me;try{var z=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(z!==null){var H=z.memoizedProps,Q=z.memoizedState,C=t.stateNode,v=C.getSnapshotBeforeUpdate(t.elementType===t.type?H:gn(t.type,H),Q);C.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(I){tt(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,me=e;break}me=t.return}return z=Qf,Qf=!1,z}function Xs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&cc(t,n,o)}i=i.next}while(i!==r)}}function ua(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function dc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Mm(e){var t=e.alternate;t!==null&&(e.alternate=null,Mm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[In],delete t[co],delete t[Xu],delete t[Fg],delete t[Ig])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Lm(e){return e.tag===5||e.tag===3||e.tag===4}function Yf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Lm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ll));else if(r!==4&&(e=e.child,e!==null))for(fc(e,t,n),e=e.sibling;e!==null;)fc(e,t,n),e=e.sibling}function hc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(hc(e,t,n),e=e.sibling;e!==null;)hc(e,t,n),e=e.sibling}var mt=null,xn=!1;function jr(e,t,n){for(n=n.child;n!==null;)Fm(e,t,n),n=n.sibling}function Fm(e,t,n){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(ta,n)}catch{}switch(n.tag){case 5:Et||Ji(n,t);case 6:var r=mt,i=xn;mt=null,jr(e,t,n),mt=r,xn=i,mt!==null&&(xn?(e=mt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):mt.removeChild(n.stateNode));break;case 18:mt!==null&&(xn?(e=mt,n=n.stateNode,e.nodeType===8?ou(e.parentNode,n):e.nodeType===1&&ou(e,n),so(e)):ou(mt,n.stateNode));break;case 4:r=mt,i=xn,mt=n.stateNode.containerInfo,xn=!0,jr(e,t,n),mt=r,xn=i;break;case 0:case 11:case 14:case 15:if(!Et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,u=o.destroy;o=o.tag,u!==void 0&&(o&2||o&4)&&cc(n,t,u),i=i.next}while(i!==r)}jr(e,t,n);break;case 1:if(!Et&&(Ji(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(f){tt(n,t,f)}jr(e,t,n);break;case 21:jr(e,t,n);break;case 22:n.mode&1?(Et=(r=Et)||n.memoizedState!==null,jr(e,t,n),Et=r):jr(e,t,n);break;default:jr(e,t,n)}}function Gf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Jg),t.forEach(function(r){var i=ax.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function vn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,f=u;e:for(;f!==null;){switch(f.tag){case 5:mt=f.stateNode,xn=!1;break e;case 3:mt=f.stateNode.containerInfo,xn=!0;break e;case 4:mt=f.stateNode.containerInfo,xn=!0;break e}f=f.return}if(mt===null)throw Error(te(160));Fm(o,u,i),mt=null,xn=!1;var p=i.alternate;p!==null&&(p.return=null),i.return=null}catch(g){tt(i,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Im(t,e),t=t.sibling}function Im(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vn(t,e),Ln(e),r&4){try{Xs(3,e,e.return),ua(3,e)}catch(H){tt(e,e.return,H)}try{Xs(5,e,e.return)}catch(H){tt(e,e.return,H)}}break;case 1:vn(t,e),Ln(e),r&512&&n!==null&&Ji(n,n.return);break;case 5:if(vn(t,e),Ln(e),r&512&&n!==null&&Ji(n,n.return),e.flags&32){var i=e.stateNode;try{to(i,"")}catch(H){tt(e,e.return,H)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,u=n!==null?n.memoizedProps:o,f=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{f==="input"&&o.type==="radio"&&o.name!=null&&ip(i,o),Au(f,u);var g=Au(f,o);for(u=0;u<p.length;u+=2){var k=p[u],S=p[u+1];k==="style"?up(i,S):k==="dangerouslySetInnerHTML"?lp(i,S):k==="children"?to(i,S):Dc(i,k,S,g)}switch(f){case"input":Ou(i,o);break;case"textarea":sp(i,o);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var B=o.value;B!=null?es(i,!!o.multiple,B,!1):_!==!!o.multiple&&(o.defaultValue!=null?es(i,!!o.multiple,o.defaultValue,!0):es(i,!!o.multiple,o.multiple?[]:"",!1))}i[co]=o}catch(H){tt(e,e.return,H)}}break;case 6:if(vn(t,e),Ln(e),r&4){if(e.stateNode===null)throw Error(te(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(H){tt(e,e.return,H)}}break;case 3:if(vn(t,e),Ln(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{so(t.containerInfo)}catch(H){tt(e,e.return,H)}break;case 4:vn(t,e),Ln(e);break;case 13:vn(t,e),Ln(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(gd=st())),r&4&&Gf(e);break;case 22:if(k=n!==null&&n.memoizedState!==null,e.mode&1?(Et=(g=Et)||k,vn(t,e),Et=g):vn(t,e),Ln(e),r&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!k&&e.mode&1)for(me=e,k=e.child;k!==null;){for(S=me=k;me!==null;){switch(_=me,B=_.child,_.tag){case 0:case 11:case 14:case 15:Xs(4,_,_.return);break;case 1:Ji(_,_.return);var z=_.stateNode;if(typeof z.componentWillUnmount=="function"){r=_,n=_.return;try{t=r,z.props=t.memoizedProps,z.state=t.memoizedState,z.componentWillUnmount()}catch(H){tt(r,n,H)}}break;case 5:Ji(_,_.return);break;case 22:if(_.memoizedState!==null){Jf(S);continue}}B!==null?(B.return=_,me=B):Jf(S)}k=k.sibling}e:for(k=null,S=e;;){if(S.tag===5){if(k===null){k=S;try{i=S.stateNode,g?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(f=S.stateNode,p=S.memoizedProps.style,u=p!=null&&p.hasOwnProperty("display")?p.display:null,f.style.display=ap("display",u))}catch(H){tt(e,e.return,H)}}}else if(S.tag===6){if(k===null)try{S.stateNode.nodeValue=g?"":S.memoizedProps}catch(H){tt(e,e.return,H)}}else if((S.tag!==22&&S.tag!==23||S.memoizedState===null||S===e)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===e)break e;for(;S.sibling===null;){if(S.return===null||S.return===e)break e;k===S&&(k=null),S=S.return}k===S&&(k=null),S.sibling.return=S.return,S=S.sibling}}break;case 19:vn(t,e),Ln(e),r&4&&Gf(e);break;case 21:break;default:vn(t,e),Ln(e)}}function Ln(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Lm(n)){var r=n;break e}n=n.return}throw Error(te(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(to(i,""),r.flags&=-33);var o=Yf(e);hc(e,o,i);break;case 3:case 4:var u=r.stateNode.containerInfo,f=Yf(e);fc(e,f,u);break;default:throw Error(te(161))}}catch(p){tt(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ex(e,t,n){me=e,Am(e)}function Am(e,t,n){for(var r=(e.mode&1)!==0;me!==null;){var i=me,o=i.child;if(i.tag===22&&r){var u=i.memoizedState!==null||ol;if(!u){var f=i.alternate,p=f!==null&&f.memoizedState!==null||Et;f=ol;var g=Et;if(ol=u,(Et=p)&&!g)for(me=i;me!==null;)u=me,p=u.child,u.tag===22&&u.memoizedState!==null?Zf(i):p!==null?(p.return=u,me=p):Zf(i);for(;o!==null;)me=o,Am(o),o=o.sibling;me=i,ol=f,Et=g}Xf(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,me=o):Xf(e)}}function Xf(e){for(;me!==null;){var t=me;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Et||ua(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Et)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Ff(t,o,r);break;case 3:var u=t.updateQueue;if(u!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ff(t,u,n)}break;case 5:var f=t.stateNode;if(n===null&&t.flags&4){n=f;var p=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&n.focus();break;case"img":p.src&&(n.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var k=g.memoizedState;if(k!==null){var S=k.dehydrated;S!==null&&so(S)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}Et||t.flags&512&&dc(t)}catch(_){tt(t,t.return,_)}}if(t===e){me=null;break}if(n=t.sibling,n!==null){n.return=t.return,me=n;break}me=t.return}}function Jf(e){for(;me!==null;){var t=me;if(t===e){me=null;break}var n=t.sibling;if(n!==null){n.return=t.return,me=n;break}me=t.return}}function Zf(e){for(;me!==null;){var t=me;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ua(4,t)}catch(p){tt(t,n,p)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(p){tt(t,i,p)}}var o=t.return;try{dc(t)}catch(p){tt(t,o,p)}break;case 5:var u=t.return;try{dc(t)}catch(p){tt(t,u,p)}}}catch(p){tt(t,t.return,p)}if(t===e){me=null;break}var f=t.sibling;if(f!==null){f.return=t.return,me=f;break}me=t.return}}var tx=Math.ceil,Hl=cr.ReactCurrentDispatcher,yd=cr.ReactCurrentOwner,cn=cr.ReactCurrentBatchConfig,ze=0,pt=null,lt=null,vt=0,Vt=0,Zi=Vr(0),ut=0,vo=null,xi=0,ca=0,vd=0,Js=null,It=null,gd=0,fs=1/0,er=null,Vl=!1,pc=null,Dr=null,ll=!1,Rr=null,ql=0,Zs=0,mc=null,bl=-1,Sl=0;function Ot(){return ze&6?st():bl!==-1?bl:bl=st()}function Ur(e){return e.mode&1?ze&2&&vt!==0?vt&-vt:zg.transition!==null?(Sl===0&&(Sl=bp()),Sl):(e=Ke,e!==0||(e=window.event,e=e===void 0?16:_p(e.type)),e):1}function Sn(e,t,n,r){if(50<Zs)throw Zs=0,mc=null,Error(te(185));ko(e,n,r),(!(ze&2)||e!==pt)&&(e===pt&&(!(ze&2)&&(ca|=n),ut===4&&Pr(e,vt)),$t(e,r),n===1&&ze===0&&!(t.mode&1)&&(fs=st()+500,oa&&qr()))}function $t(e,t){var n=e.callbackNode;zv(e,t);var r=Tl(e,e===pt?vt:0);if(r===0)n!==null&&af(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&af(n),t===1)e.tag===0?Ag(eh.bind(null,e)):qp(eh.bind(null,e)),Mg(function(){!(ze&6)&&qr()}),n=null;else{switch(Sp(r)){case 1:n=Wc;break;case 4:n=xp;break;case 16:n=Pl;break;case 536870912:n=wp;break;default:n=Pl}n=Hm(n,zm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function zm(e,t){if(bl=-1,Sl=0,ze&6)throw Error(te(327));var n=e.callbackNode;if(ss()&&e.callbackNode!==n)return null;var r=Tl(e,e===pt?vt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ql(e,r);else{t=r;var i=ze;ze|=2;var o=Um();(pt!==e||vt!==t)&&(er=null,fs=st()+500,pi(e,t));do try{ix();break}catch(f){Dm(e,f)}while(!0);rd(),Hl.current=o,ze=i,lt!==null?t=0:(pt=null,vt=0,t=ut)}if(t!==0){if(t===2&&(i=Bu(e),i!==0&&(r=i,t=yc(e,i))),t===1)throw n=vo,pi(e,0),Pr(e,r),$t(e,st()),n;if(t===6)Pr(e,r);else{if(i=e.current.alternate,!(r&30)&&!nx(i)&&(t=Ql(e,r),t===2&&(o=Bu(e),o!==0&&(r=o,t=yc(e,o))),t===1))throw n=vo,pi(e,0),Pr(e,r),$t(e,st()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(te(345));case 2:ai(e,It,er);break;case 3:if(Pr(e,r),(r&130023424)===r&&(t=gd+500-st(),10<t)){if(Tl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ot(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Gu(ai.bind(null,e,It,er),t);break}ai(e,It,er);break;case 4:if(Pr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-bn(r);o=1<<u,u=t[u],u>i&&(i=u),r&=~o}if(r=i,r=st()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tx(r/1960))-r,10<r){e.timeoutHandle=Gu(ai.bind(null,e,It,er),r);break}ai(e,It,er);break;case 5:ai(e,It,er);break;default:throw Error(te(329))}}}return $t(e,st()),e.callbackNode===n?zm.bind(null,e):null}function yc(e,t){var n=Js;return e.current.memoizedState.isDehydrated&&(pi(e,t).flags|=256),e=Ql(e,t),e!==2&&(t=It,It=n,t!==null&&vc(t)),e}function vc(e){It===null?It=e:It.push.apply(It,e)}function nx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!kn(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pr(e,t){for(t&=~vd,t&=~ca,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-bn(t),r=1<<n;e[n]=-1,t&=~r}}function eh(e){if(ze&6)throw Error(te(327));ss();var t=Tl(e,0);if(!(t&1))return $t(e,st()),null;var n=Ql(e,t);if(e.tag!==0&&n===2){var r=Bu(e);r!==0&&(t=r,n=yc(e,r))}if(n===1)throw n=vo,pi(e,0),Pr(e,t),$t(e,st()),n;if(n===6)throw Error(te(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ai(e,It,er),$t(e,st()),null}function xd(e,t){var n=ze;ze|=1;try{return e(t)}finally{ze=n,ze===0&&(fs=st()+500,oa&&qr())}}function wi(e){Rr!==null&&Rr.tag===0&&!(ze&6)&&ss();var t=ze;ze|=1;var n=cn.transition,r=Ke;try{if(cn.transition=null,Ke=1,e)return e()}finally{Ke=r,cn.transition=n,ze=t,!(ze&6)&&qr()}}function wd(){Vt=Zi.current,qe(Zi)}function pi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Og(n)),lt!==null)for(n=lt.return;n!==null;){var r=n;switch(ed(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fl();break;case 3:cs(),qe(Dt),qe(_t),ud();break;case 5:ad(r);break;case 4:cs();break;case 13:qe(Ye);break;case 19:qe(Ye);break;case 10:id(r.type._context);break;case 22:case 23:wd()}n=n.return}if(pt=e,lt=e=$r(e.current,null),vt=Vt=t,ut=0,vo=null,vd=ca=xi=0,It=Js=null,di!==null){for(t=0;t<di.length;t++)if(n=di[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var u=o.next;o.next=i,r.next=u}n.pending=r}di=null}return e}function Dm(e,t){do{var n=lt;try{if(rd(),gl.current=Wl,Kl){for(var r=Ge.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Kl=!1}if(gi=0,ht=at=Ge=null,Gs=!1,po=0,yd.current=null,n===null||n.return===null){ut=1,vo=t,lt=null;break}e:{var o=e,u=n.return,f=n,p=t;if(t=vt,f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var g=p,k=f,S=k.tag;if(!(k.mode&1)&&(S===0||S===11||S===15)){var _=k.alternate;_?(k.updateQueue=_.updateQueue,k.memoizedState=_.memoizedState,k.lanes=_.lanes):(k.updateQueue=null,k.memoizedState=null)}var B=$f(u);if(B!==null){B.flags&=-257,Bf(B,u,f,o,t),B.mode&1&&Uf(o,g,t),t=B,p=g;var z=t.updateQueue;if(z===null){var H=new Set;H.add(p),t.updateQueue=H}else z.add(p);break e}else{if(!(t&1)){Uf(o,g,t),bd();break e}p=Error(te(426))}}else if(Qe&&f.mode&1){var Q=$f(u);if(Q!==null){!(Q.flags&65536)&&(Q.flags|=256),Bf(Q,u,f,o,t),td(ds(p,f));break e}}o=p=ds(p,f),ut!==4&&(ut=2),Js===null?Js=[o]:Js.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var C=Sm(o,p,t);Lf(o,C);break e;case 1:f=p;var v=o.type,N=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Dr===null||!Dr.has(N)))){o.flags|=65536,t&=-t,o.lanes|=t;var I=km(o,f,t);Lf(o,I);break e}}o=o.return}while(o!==null)}Bm(n)}catch(G){t=G,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(!0)}function Um(){var e=Hl.current;return Hl.current=Wl,e===null?Wl:e}function bd(){(ut===0||ut===3||ut===2)&&(ut=4),pt===null||!(xi&268435455)&&!(ca&268435455)||Pr(pt,vt)}function Ql(e,t){var n=ze;ze|=2;var r=Um();(pt!==e||vt!==t)&&(er=null,pi(e,t));do try{rx();break}catch(i){Dm(e,i)}while(!0);if(rd(),ze=n,Hl.current=r,lt!==null)throw Error(te(261));return pt=null,vt=0,ut}function rx(){for(;lt!==null;)$m(lt)}function ix(){for(;lt!==null&&!Pv();)$m(lt)}function $m(e){var t=Wm(e.alternate,e,Vt);e.memoizedProps=e.pendingProps,t===null?Bm(e):lt=t,yd.current=null}function Bm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Xg(n,t),n!==null){n.flags&=32767,lt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ut=6,lt=null;return}}else if(n=Gg(n,t,Vt),n!==null){lt=n;return}if(t=t.sibling,t!==null){lt=t;return}lt=t=e}while(t!==null);ut===0&&(ut=5)}function ai(e,t,n){var r=Ke,i=cn.transition;try{cn.transition=null,Ke=1,sx(e,t,n,r)}finally{cn.transition=i,Ke=r}return null}function sx(e,t,n,r){do ss();while(Rr!==null);if(ze&6)throw Error(te(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(te(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Dv(e,o),e===pt&&(lt=pt=null,vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ll||(ll=!0,Hm(Pl,function(){return ss(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=cn.transition,cn.transition=null;var u=Ke;Ke=1;var f=ze;ze|=4,yd.current=null,Zg(e,n),Im(n,e),Ng(Qu),Rl=!!qu,Qu=qu=null,e.current=n,ex(n),Tv(),ze=f,Ke=u,cn.transition=o}else e.current=n;if(ll&&(ll=!1,Rr=e,ql=i),o=e.pendingLanes,o===0&&(Dr=null),Mv(n.stateNode),$t(e,st()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vl)throw Vl=!1,e=pc,pc=null,e;return ql&1&&e.tag!==0&&ss(),o=e.pendingLanes,o&1?e===mc?Zs++:(Zs=0,mc=e):Zs=0,qr(),null}function ss(){if(Rr!==null){var e=Sp(ql),t=cn.transition,n=Ke;try{if(cn.transition=null,Ke=16>e?16:e,Rr===null)var r=!1;else{if(e=Rr,Rr=null,ql=0,ze&6)throw Error(te(331));var i=ze;for(ze|=4,me=e.current;me!==null;){var o=me,u=o.child;if(me.flags&16){var f=o.deletions;if(f!==null){for(var p=0;p<f.length;p++){var g=f[p];for(me=g;me!==null;){var k=me;switch(k.tag){case 0:case 11:case 15:Xs(8,k,o)}var S=k.child;if(S!==null)S.return=k,me=S;else for(;me!==null;){k=me;var _=k.sibling,B=k.return;if(Mm(k),k===g){me=null;break}if(_!==null){_.return=B,me=_;break}me=B}}}var z=o.alternate;if(z!==null){var H=z.child;if(H!==null){z.child=null;do{var Q=H.sibling;H.sibling=null,H=Q}while(H!==null)}}me=o}}if(o.subtreeFlags&2064&&u!==null)u.return=o,me=u;else e:for(;me!==null;){if(o=me,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Xs(9,o,o.return)}var C=o.sibling;if(C!==null){C.return=o.return,me=C;break e}me=o.return}}var v=e.current;for(me=v;me!==null;){u=me;var N=u.child;if(u.subtreeFlags&2064&&N!==null)N.return=u,me=N;else e:for(u=v;me!==null;){if(f=me,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:ua(9,f)}}catch(G){tt(f,f.return,G)}if(f===u){me=null;break e}var I=f.sibling;if(I!==null){I.return=f.return,me=I;break e}me=f.return}}if(ze=i,qr(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(ta,e)}catch{}r=!0}return r}finally{Ke=n,cn.transition=t}}return!1}function th(e,t,n){t=ds(n,t),t=Sm(e,t,1),e=zr(e,t,1),t=Ot(),e!==null&&(ko(e,1,t),$t(e,t))}function tt(e,t,n){if(e.tag===3)th(e,e,n);else for(;t!==null;){if(t.tag===3){th(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Dr===null||!Dr.has(r))){e=ds(n,e),e=km(t,e,1),t=zr(t,e,1),e=Ot(),t!==null&&(ko(t,1,e),$t(t,e));break}}t=t.return}}function ox(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ot(),e.pingedLanes|=e.suspendedLanes&n,pt===e&&(vt&n)===n&&(ut===4||ut===3&&(vt&130023424)===vt&&500>st()-gd?pi(e,0):vd|=n),$t(e,t)}function Km(e,t){t===0&&(e.mode&1?(t=Xo,Xo<<=1,!(Xo&130023424)&&(Xo=4194304)):t=1);var n=Ot();e=ar(e,t),e!==null&&(ko(e,t,n),$t(e,n))}function lx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Km(e,n)}function ax(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(t),Km(e,n)}var Wm;Wm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Dt.current)zt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return zt=!1,Yg(e,t,n);zt=!!(e.flags&131072)}else zt=!1,Qe&&t.flags&1048576&&Qp(t,zl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;wl(e,t),e=t.pendingProps;var i=ls(t,_t.current);is(t,n),i=dd(null,t,r,e,i,n);var o=fd();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ut(r)?(o=!0,Il(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,od(t),i.updater=aa,t.stateNode=i,i._reactInternals=t,rc(t,r,e,n),t=oc(null,t,r,!0,o,n)):(t.tag=0,Qe&&o&&Zc(t),Rt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(wl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=cx(r),e=gn(r,e),i){case 0:t=sc(null,t,r,e,n);break e;case 1:t=Hf(null,t,r,e,n);break e;case 11:t=Kf(null,t,r,e,n);break e;case 14:t=Wf(null,t,r,gn(r.type,e),n);break e}throw Error(te(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gn(r,i),sc(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gn(r,i),Hf(e,t,r,i,n);case 3:e:{if(Em(t),e===null)throw Error(te(387));r=t.pendingProps,o=t.memoizedState,i=o.element,em(e,t),$l(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=ds(Error(te(423)),t),t=Vf(e,t,r,n,i);break e}else if(r!==i){i=ds(Error(te(424)),t),t=Vf(e,t,r,n,i);break e}else for(qt=Ar(t.stateNode.containerInfo.firstChild),Qt=t,Qe=!0,wn=null,n=Jp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(as(),r===i){t=ur(e,t,n);break e}Rt(e,t,r,n)}t=t.child}return t;case 5:return tm(t),e===null&&ec(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,u=i.children,Yu(r,i)?u=null:o!==null&&Yu(r,o)&&(t.flags|=32),Cm(e,t),Rt(e,t,u,n),t.child;case 6:return e===null&&ec(t),null;case 13:return _m(e,t,n);case 4:return ld(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=us(t,null,r,n):Rt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gn(r,i),Kf(e,t,r,i,n);case 7:return Rt(e,t,t.pendingProps,n),t.child;case 8:return Rt(e,t,t.pendingProps.children,n),t.child;case 12:return Rt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,He(Dl,r._currentValue),r._currentValue=u,o!==null)if(kn(o.value,u)){if(o.children===i.children&&!Dt.current){t=ur(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var f=o.dependencies;if(f!==null){u=o.child;for(var p=f.firstContext;p!==null;){if(p.context===r){if(o.tag===1){p=sr(-1,n&-n),p.tag=2;var g=o.updateQueue;if(g!==null){g=g.shared;var k=g.pending;k===null?p.next=p:(p.next=k.next,k.next=p),g.pending=p}}o.lanes|=n,p=o.alternate,p!==null&&(p.lanes|=n),tc(o.return,n,t),f.lanes|=n;break}p=p.next}}else if(o.tag===10)u=o.type===t.type?null:o.child;else if(o.tag===18){if(u=o.return,u===null)throw Error(te(341));u.lanes|=n,f=u.alternate,f!==null&&(f.lanes|=n),tc(u,n,t),u=o.sibling}else u=o.child;if(u!==null)u.return=o;else for(u=o;u!==null;){if(u===t){u=null;break}if(o=u.sibling,o!==null){o.return=u.return,u=o;break}u=u.return}o=u}Rt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,is(t,n),i=dn(i),r=r(i),t.flags|=1,Rt(e,t,r,n),t.child;case 14:return r=t.type,i=gn(r,t.pendingProps),i=gn(r.type,i),Wf(e,t,r,i,n);case 15:return jm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gn(r,i),wl(e,t),t.tag=1,Ut(r)?(e=!0,Il(t)):e=!1,is(t,n),bm(t,r,i),rc(t,r,i,n),oc(null,t,r,!0,e,n);case 19:return Pm(e,t,n);case 22:return Nm(e,t,n)}throw Error(te(156,t.tag))};function Hm(e,t){return gp(e,t)}function ux(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,t,n,r){return new ux(e,t,n,r)}function Sd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cx(e){if(typeof e=="function")return Sd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$c)return 11;if(e===Bc)return 14}return 2}function $r(e,t){var n=e.alternate;return n===null?(n=un(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function kl(e,t,n,r,i,o){var u=2;if(r=e,typeof e=="function")Sd(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case Ki:return mi(n.children,i,o,t);case Uc:u=8,i|=8;break;case Eu:return e=un(12,n,t,i|2),e.elementType=Eu,e.lanes=o,e;case _u:return e=un(13,n,t,i),e.elementType=_u,e.lanes=o,e;case Pu:return e=un(19,n,t,i),e.elementType=Pu,e.lanes=o,e;case tp:return da(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zh:u=10;break e;case ep:u=9;break e;case $c:u=11;break e;case Bc:u=14;break e;case Cr:u=16,r=null;break e}throw Error(te(130,e==null?e:typeof e,""))}return t=un(u,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function mi(e,t,n,r){return e=un(7,e,r,t),e.lanes=n,e}function da(e,t,n,r){return e=un(22,e,r,t),e.elementType=tp,e.lanes=n,e.stateNode={isHidden:!1},e}function pu(e,t,n){return e=un(6,e,null,t),e.lanes=n,e}function mu(e,t,n){return t=un(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dx(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ya(0),this.expirationTimes=Ya(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ya(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function kd(e,t,n,r,i,o,u,f,p){return e=new dx(e,t,n,f,p),t===1?(t=1,o===!0&&(t|=8)):t=0,o=un(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},od(o),e}function fx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Vm(e){if(!e)return Wr;e=e._reactInternals;e:{if(Si(e)!==e||e.tag!==1)throw Error(te(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(te(171))}if(e.tag===1){var n=e.type;if(Ut(n))return Vp(e,n,t)}return t}function qm(e,t,n,r,i,o,u,f,p){return e=kd(n,r,!0,e,i,o,u,f,p),e.context=Vm(null),n=e.current,r=Ot(),i=Ur(n),o=sr(r,i),o.callback=t??null,zr(n,o,i),e.current.lanes=i,ko(e,i,r),$t(e,r),e}function fa(e,t,n,r){var i=t.current,o=Ot(),u=Ur(i);return n=Vm(n),t.context===null?t.context=n:t.pendingContext=n,t=sr(o,u),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=zr(i,t,u),e!==null&&(Sn(e,i,u,o),vl(e,i,u)),u}function Yl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function jd(e,t){nh(e,t),(e=e.alternate)&&nh(e,t)}function hx(){return null}var Qm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Nd(e){this._internalRoot=e}ha.prototype.render=Nd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(te(409));fa(e,t,null,null)};ha.prototype.unmount=Nd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wi(function(){fa(null,e,null,null)}),t[lr]=null}};function ha(e){this._internalRoot=e}ha.prototype.unstable_scheduleHydration=function(e){if(e){var t=Np();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_r.length&&t!==0&&t<_r[n].priority;n++);_r.splice(n,0,e),n===0&&Ep(e)}};function Cd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rh(){}function px(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var g=Yl(u);o.call(g)}}var u=qm(t,r,e,0,null,!1,!1,"",rh);return e._reactRootContainer=u,e[lr]=u.current,ao(e.nodeType===8?e.parentNode:e),wi(),u}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var f=r;r=function(){var g=Yl(p);f.call(g)}}var p=kd(e,0,!1,null,null,!1,!1,"",rh);return e._reactRootContainer=p,e[lr]=p.current,ao(e.nodeType===8?e.parentNode:e),wi(function(){fa(t,p,n,r)}),p}function ma(e,t,n,r,i){var o=n._reactRootContainer;if(o){var u=o;if(typeof i=="function"){var f=i;i=function(){var p=Yl(u);f.call(p)}}fa(t,u,e,i)}else u=px(n,t,e,i,r);return Yl(u)}kp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Bs(t.pendingLanes);n!==0&&(Hc(t,n|1),$t(t,st()),!(ze&6)&&(fs=st()+500,qr()))}break;case 13:wi(function(){var r=ar(e,1);if(r!==null){var i=Ot();Sn(r,e,1,i)}}),jd(e,1)}};Vc=function(e){if(e.tag===13){var t=ar(e,134217728);if(t!==null){var n=Ot();Sn(t,e,134217728,n)}jd(e,134217728)}};jp=function(e){if(e.tag===13){var t=Ur(e),n=ar(e,t);if(n!==null){var r=Ot();Sn(n,e,t,r)}jd(e,t)}};Np=function(){return Ke};Cp=function(e,t){var n=Ke;try{return Ke=e,t()}finally{Ke=n}};Du=function(e,t,n){switch(t){case"input":if(Ou(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=sa(r);if(!i)throw Error(te(90));rp(r),Ou(r,i)}}}break;case"textarea":sp(e,n);break;case"select":t=n.value,t!=null&&es(e,!!n.multiple,t,!1)}};fp=xd;hp=wi;var mx={usingClientEntryPoint:!1,Events:[No,qi,sa,cp,dp,xd]},zs={findFiberByHostInstance:ci,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yx={bundleType:zs.bundleType,version:zs.version,rendererPackageName:zs.rendererPackageName,rendererConfig:zs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yp(e),e===null?null:e.stateNode},findFiberByHostInstance:zs.findFiberByHostInstance||hx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!al.isDisabled&&al.supportsFiber)try{ta=al.inject(yx),An=al}catch{}}Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mx;Gt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cd(t))throw Error(te(200));return fx(e,t,null,n)};Gt.createRoot=function(e,t){if(!Cd(e))throw Error(te(299));var n=!1,r="",i=Qm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=kd(e,1,!1,null,null,n,!1,r,i),e[lr]=t.current,ao(e.nodeType===8?e.parentNode:e),new Nd(t)};Gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(te(188)):(e=Object.keys(e).join(","),Error(te(268,e)));return e=yp(t),e=e===null?null:e.stateNode,e};Gt.flushSync=function(e){return wi(e)};Gt.hydrate=function(e,t,n){if(!pa(t))throw Error(te(200));return ma(null,e,t,!0,n)};Gt.hydrateRoot=function(e,t,n){if(!Cd(e))throw Error(te(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",u=Qm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),t=qm(t,null,e,1,n??null,i,!1,o,u),e[lr]=t.current,ao(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ha(t)};Gt.render=function(e,t,n){if(!pa(t))throw Error(te(200));return ma(null,e,t,!1,n)};Gt.unmountComponentAtNode=function(e){if(!pa(e))throw Error(te(40));return e._reactRootContainer?(wi(function(){ma(null,null,e,!1,function(){e._reactRootContainer=null,e[lr]=null})}),!0):!1};Gt.unstable_batchedUpdates=xd;Gt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!pa(n))throw Error(te(200));if(e==null||e._reactInternals===void 0)throw Error(te(38));return ma(e,t,n,!1,r)};Gt.version="18.3.1-next-f1338f8080-20240426";function Ym(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ym)}catch(e){console.error(e)}}Ym(),Yh.exports=Gt;var vx=Yh.exports,ih=vx;Nu.createRoot=ih.createRoot,Nu.hydrateRoot=ih.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function go(){return go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},go.apply(this,arguments)}var Or;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Or||(Or={}));const sh="popstate";function gx(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:u,hash:f}=r.location;return gc("",{pathname:o,search:u,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Gl(i)}return wx(t,n,null,e)}function nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Gm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xx(){return Math.random().toString(36).substr(2,8)}function oh(e,t){return{usr:e.state,key:e.key,idx:t}}function gc(e,t,n,r){return n===void 0&&(n=null),go({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?gs(t):t,{state:n,key:t&&t.key||r||xx()})}function Gl(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function gs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function wx(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,u=i.history,f=Or.Pop,p=null,g=k();g==null&&(g=0,u.replaceState(go({},u.state,{idx:g}),""));function k(){return(u.state||{idx:null}).idx}function S(){f=Or.Pop;let Q=k(),C=Q==null?null:Q-g;g=Q,p&&p({action:f,location:H.location,delta:C})}function _(Q,C){f=Or.Push;let v=gc(H.location,Q,C);g=k()+1;let N=oh(v,g),I=H.createHref(v);try{u.pushState(N,"",I)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;i.location.assign(I)}o&&p&&p({action:f,location:H.location,delta:1})}function B(Q,C){f=Or.Replace;let v=gc(H.location,Q,C);g=k();let N=oh(v,g),I=H.createHref(v);u.replaceState(N,"",I),o&&p&&p({action:f,location:H.location,delta:0})}function z(Q){let C=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof Q=="string"?Q:Gl(Q);return v=v.replace(/ $/,"%20"),nt(C,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,C)}let H={get action(){return f},get location(){return e(i,u)},listen(Q){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(sh,S),p=Q,()=>{i.removeEventListener(sh,S),p=null}},createHref(Q){return t(i,Q)},createURL:z,encodeLocation(Q){let C=z(Q);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:_,replace:B,go(Q){return u.go(Q)}};return H}var lh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(lh||(lh={}));function bx(e,t,n){return n===void 0&&(n="/"),Sx(e,t,n)}function Sx(e,t,n,r){let i=typeof t=="string"?gs(t):t,o=hs(i.pathname||"/",n);if(o==null)return null;let u=Xm(e);kx(u);let f=null;for(let p=0;f==null&&p<u.length;++p){let g=Lx(o);f=Ox(u[p],g)}return f}function Xm(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,u,f)=>{let p={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};p.relativePath.startsWith("/")&&(nt(p.relativePath.startsWith(r),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(r.length));let g=Br([r,p.relativePath]),k=n.concat(p);o.children&&o.children.length>0&&(nt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),Xm(o.children,t,k,g)),!(o.path==null&&!o.index)&&t.push({path:g,score:Tx(g,o.index),routesMeta:k})};return e.forEach((o,u)=>{var f;if(o.path===""||!((f=o.path)!=null&&f.includes("?")))i(o,u);else for(let p of Jm(o.path))i(o,u,p)}),t}function Jm(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let u=Jm(r.join("/")),f=[];return f.push(...u.map(p=>p===""?o:[o,p].join("/"))),i&&f.push(...u),f.map(p=>e.startsWith("/")&&p===""?"/":p)}function kx(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Rx(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const jx=/^:[\w-]+$/,Nx=3,Cx=2,Ex=1,_x=10,Px=-2,ah=e=>e==="*";function Tx(e,t){let n=e.split("/"),r=n.length;return n.some(ah)&&(r+=Px),t&&(r+=Cx),n.filter(i=>!ah(i)).reduce((i,o)=>i+(jx.test(o)?Nx:o===""?Ex:_x),r)}function Rx(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Ox(e,t,n){let{routesMeta:r}=e,i={},o="/",u=[];for(let f=0;f<r.length;++f){let p=r[f],g=f===r.length-1,k=o==="/"?t:t.slice(o.length)||"/",S=xc({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},k),_=p.route;if(!S)return null;Object.assign(i,S.params),u.push({params:i,pathname:Br([o,S.pathname]),pathnameBase:zx(Br([o,S.pathnameBase])),route:_}),S.pathnameBase!=="/"&&(o=Br([o,S.pathnameBase]))}return u}function xc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Mx(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],u=o.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:r.reduce((g,k,S)=>{let{paramName:_,isOptional:B}=k;if(_==="*"){let H=f[S]||"";u=o.slice(0,o.length-H.length).replace(/(.)\/+$/,"$1")}const z=f[S];return B&&!z?g[_]=void 0:g[_]=(z||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:u,pattern:e}}function Mx(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Gm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,p)=>(r.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Lx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Gm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function hs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Fx(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?gs(e):e;return{pathname:n?n.startsWith("/")?n:Ix(n,t):t,search:Dx(r),hash:Ux(i)}}function Ix(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function yu(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ax(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Zm(e,t){let n=Ax(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ey(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=gs(e):(i=go({},e),nt(!i.pathname||!i.pathname.includes("?"),yu("?","pathname","search",i)),nt(!i.pathname||!i.pathname.includes("#"),yu("#","pathname","hash",i)),nt(!i.search||!i.search.includes("#"),yu("#","search","hash",i)));let o=e===""||i.pathname==="",u=o?"/":i.pathname,f;if(u==null)f=n;else{let S=t.length-1;if(!r&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),S-=1;i.pathname=_.join("/")}f=S>=0?t[S]:"/"}let p=Fx(i,f),g=u&&u!=="/"&&u.endsWith("/"),k=(o||u===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||k)&&(p.pathname+="/"),p}const Br=e=>e.join("/").replace(/\/\/+/g,"/"),zx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Dx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ux=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $x(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ty=["post","put","patch","delete"];new Set(ty);const Bx=["get",...ty];new Set(Bx);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xo(){return xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xo.apply(this,arguments)}const ya=x.createContext(null),ny=x.createContext(null),Qr=x.createContext(null),va=x.createContext(null),ki=x.createContext({outlet:null,matches:[],isDataRoute:!1}),ry=x.createContext(null);function Kx(e,t){let{relative:n}=t===void 0?{}:t;Eo()||nt(!1);let{basename:r,navigator:i}=x.useContext(Qr),{hash:o,pathname:u,search:f}=ga(e,{relative:n}),p=u;return r!=="/"&&(p=u==="/"?r:Br([r,u])),i.createHref({pathname:p,search:f,hash:o})}function Eo(){return x.useContext(va)!=null}function xs(){return Eo()||nt(!1),x.useContext(va).location}function iy(e){x.useContext(Qr).static||x.useLayoutEffect(e)}function Wx(){let{isDataRoute:e}=x.useContext(ki);return e?r0():Hx()}function Hx(){Eo()||nt(!1);let e=x.useContext(ya),{basename:t,future:n,navigator:r}=x.useContext(Qr),{matches:i}=x.useContext(ki),{pathname:o}=xs(),u=JSON.stringify(Zm(i,n.v7_relativeSplatPath)),f=x.useRef(!1);return iy(()=>{f.current=!0}),x.useCallback(function(g,k){if(k===void 0&&(k={}),!f.current)return;if(typeof g=="number"){r.go(g);return}let S=ey(g,JSON.parse(u),o,k.relative==="path");e==null&&t!=="/"&&(S.pathname=S.pathname==="/"?t:Br([t,S.pathname])),(k.replace?r.replace:r.push)(S,k.state,k)},[t,r,u,o,e])}function ga(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=x.useContext(Qr),{matches:i}=x.useContext(ki),{pathname:o}=xs(),u=JSON.stringify(Zm(i,r.v7_relativeSplatPath));return x.useMemo(()=>ey(e,JSON.parse(u),o,n==="path"),[e,u,o,n])}function Vx(e,t){return qx(e,t)}function qx(e,t,n,r){Eo()||nt(!1);let{navigator:i}=x.useContext(Qr),{matches:o}=x.useContext(ki),u=o[o.length-1],f=u?u.params:{};u&&u.pathname;let p=u?u.pathnameBase:"/";u&&u.route;let g=xs(),k;if(t){var S;let Q=typeof t=="string"?gs(t):t;p==="/"||(S=Q.pathname)!=null&&S.startsWith(p)||nt(!1),k=Q}else k=g;let _=k.pathname||"/",B=_;if(p!=="/"){let Q=p.replace(/^\//,"").split("/");B="/"+_.replace(/^\//,"").split("/").slice(Q.length).join("/")}let z=bx(e,{pathname:B}),H=Jx(z&&z.map(Q=>Object.assign({},Q,{params:Object.assign({},f,Q.params),pathname:Br([p,i.encodeLocation?i.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?p:Br([p,i.encodeLocation?i.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),o,n,r);return t&&H?x.createElement(va.Provider,{value:{location:xo({pathname:"/",search:"",hash:"",state:null,key:"default"},k),navigationType:Or.Pop}},H):H}function Qx(){let e=n0(),t=$x(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:i},n):null,null)}const Yx=x.createElement(Qx,null);class Gx extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(ki.Provider,{value:this.props.routeContext},x.createElement(ry.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Xx(e){let{routeContext:t,match:n,children:r}=e,i=x.useContext(ya);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(ki.Provider,{value:t},r)}function Jx(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let u=e,f=(i=n)==null?void 0:i.errors;if(f!=null){let k=u.findIndex(S=>S.route.id&&(f==null?void 0:f[S.route.id])!==void 0);k>=0||nt(!1),u=u.slice(0,Math.min(u.length,k+1))}let p=!1,g=-1;if(n&&r&&r.v7_partialHydration)for(let k=0;k<u.length;k++){let S=u[k];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(g=k),S.route.id){let{loaderData:_,errors:B}=n,z=S.route.loader&&_[S.route.id]===void 0&&(!B||B[S.route.id]===void 0);if(S.route.lazy||z){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((k,S,_)=>{let B,z=!1,H=null,Q=null;n&&(B=f&&S.route.id?f[S.route.id]:void 0,H=S.route.errorElement||Yx,p&&(g<0&&_===0?(i0("route-fallback"),z=!0,Q=null):g===_&&(z=!0,Q=S.route.hydrateFallbackElement||null)));let C=t.concat(u.slice(0,_+1)),v=()=>{let N;return B?N=H:z?N=Q:S.route.Component?N=x.createElement(S.route.Component,null):S.route.element?N=S.route.element:N=k,x.createElement(Xx,{match:S,routeContext:{outlet:k,matches:C,isDataRoute:n!=null},children:N})};return n&&(S.route.ErrorBoundary||S.route.errorElement||_===0)?x.createElement(Gx,{location:n.location,revalidation:n.revalidation,component:H,error:B,children:v(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):v()},null)}var sy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(sy||{}),oy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(oy||{});function Zx(e){let t=x.useContext(ya);return t||nt(!1),t}function e0(e){let t=x.useContext(ny);return t||nt(!1),t}function t0(e){let t=x.useContext(ki);return t||nt(!1),t}function ly(e){let t=t0(),n=t.matches[t.matches.length-1];return n.route.id||nt(!1),n.route.id}function n0(){var e;let t=x.useContext(ry),n=e0(),r=ly();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function r0(){let{router:e}=Zx(sy.UseNavigateStable),t=ly(oy.UseNavigateStable),n=x.useRef(!1);return iy(()=>{n.current=!0}),x.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,xo({fromRouteId:t},o)))},[e,t])}const uh={};function i0(e,t,n){uh[e]||(uh[e]=!0)}function s0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Zn(e){nt(!1)}function o0(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Or.Pop,navigator:o,static:u=!1,future:f}=e;Eo()&&nt(!1);let p=t.replace(/^\/*/,"/"),g=x.useMemo(()=>({basename:p,navigator:o,static:u,future:xo({v7_relativeSplatPath:!1},f)}),[p,f,o,u]);typeof r=="string"&&(r=gs(r));let{pathname:k="/",search:S="",hash:_="",state:B=null,key:z="default"}=r,H=x.useMemo(()=>{let Q=hs(k,p);return Q==null?null:{location:{pathname:Q,search:S,hash:_,state:B,key:z},navigationType:i}},[p,k,S,_,B,z,i]);return H==null?null:x.createElement(Qr.Provider,{value:g},x.createElement(va.Provider,{children:n,value:H}))}function l0(e){let{children:t,location:n}=e;return Vx(wc(t),n)}new Promise(()=>{});function wc(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(r,i)=>{if(!x.isValidElement(r))return;let o=[...t,i];if(r.type===x.Fragment){n.push.apply(n,wc(r.props.children,o));return}r.type!==Zn&&nt(!1),!r.props.index||!r.props.children||nt(!1);let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=wc(r.props.children,o)),n.push(u)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xl(){return Xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xl.apply(this,arguments)}function ay(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function a0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function u0(e,t){return e.button===0&&(!t||t==="_self")&&!a0(e)}const c0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],d0=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],f0="6";try{window.__reactRouterVersion=f0}catch{}const h0=x.createContext({isTransitioning:!1}),p0="startTransition",ch=ov[p0];function m0(e){let{basename:t,children:n,future:r,window:i}=e,o=x.useRef();o.current==null&&(o.current=gx({window:i,v5Compat:!0}));let u=o.current,[f,p]=x.useState({action:u.action,location:u.location}),{v7_startTransition:g}=r||{},k=x.useCallback(S=>{g&&ch?ch(()=>p(S)):p(S)},[p,g]);return x.useLayoutEffect(()=>u.listen(k),[u,k]),x.useEffect(()=>s0(r),[r]),x.createElement(o0,{basename:t,children:n,location:f.location,navigationType:f.action,navigator:u,future:r})}const y0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",v0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,g0=x.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:u,state:f,target:p,to:g,preventScrollReset:k,viewTransition:S}=t,_=ay(t,c0),{basename:B}=x.useContext(Qr),z,H=!1;if(typeof g=="string"&&v0.test(g)&&(z=g,y0))try{let N=new URL(window.location.href),I=g.startsWith("//")?new URL(N.protocol+g):new URL(g),G=hs(I.pathname,B);I.origin===N.origin&&G!=null?g=G+I.search+I.hash:H=!0}catch{}let Q=Kx(g,{relative:i}),C=w0(g,{replace:u,state:f,target:p,preventScrollReset:k,relative:i,viewTransition:S});function v(N){r&&r(N),N.defaultPrevented||C(N)}return x.createElement("a",Xl({},_,{href:z||Q,onClick:H||o?r:v,ref:n,target:p}))}),ri=x.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:u=!1,style:f,to:p,viewTransition:g,children:k}=t,S=ay(t,d0),_=ga(p,{relative:S.relative}),B=xs(),z=x.useContext(ny),{navigator:H,basename:Q}=x.useContext(Qr),C=z!=null&&b0(_)&&g===!0,v=H.encodeLocation?H.encodeLocation(_).pathname:_.pathname,N=B.pathname,I=z&&z.navigation&&z.navigation.location?z.navigation.location.pathname:null;i||(N=N.toLowerCase(),I=I?I.toLowerCase():null,v=v.toLowerCase()),I&&Q&&(I=hs(I,Q)||I);const G=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let Z=N===v||!u&&N.startsWith(v)&&N.charAt(G)==="/",X=I!=null&&(I===v||!u&&I.startsWith(v)&&I.charAt(v.length)==="/"),J={isActive:Z,isPending:X,isTransitioning:C},Ce=Z?r:void 0,he;typeof o=="function"?he=o(J):he=[o,Z?"active":null,X?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let Le=typeof f=="function"?f(J):f;return x.createElement(g0,Xl({},S,{"aria-current":Ce,className:he,ref:n,style:Le,to:p,viewTransition:g}),typeof k=="function"?k(J):k)});var bc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(bc||(bc={}));var dh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(dh||(dh={}));function x0(e){let t=x.useContext(ya);return t||nt(!1),t}function w0(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:u,viewTransition:f}=t===void 0?{}:t,p=Wx(),g=xs(),k=ga(e,{relative:u});return x.useCallback(S=>{if(u0(S,n)){S.preventDefault();let _=r!==void 0?r:Gl(g)===Gl(k);p(e,{replace:_,state:i,preventScrollReset:o,relative:u,viewTransition:f})}},[g,p,k,r,i,n,e,o,u,f])}function b0(e,t){t===void 0&&(t={});let n=x.useContext(h0);n==null&&nt(!1);let{basename:r}=x0(bc.useViewTransitionState),i=ga(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=hs(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=hs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return xc(i.pathname,u)!=null||xc(i.pathname,o)!=null}let Sc=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");const S0={},fh=e=>{let t;const n=new Set,r=(k,S)=>{const _=typeof k=="function"?k(t):k;if(!Object.is(_,t)){const B=t;t=S??(typeof _!="object"||_===null)?_:Object.assign({},t,_),n.forEach(z=>z(t,B))}},i=()=>t,p={setState:r,getState:i,getInitialState:()=>g,subscribe:k=>(n.add(k),()=>n.delete(k)),destroy:()=>{(S0?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},g=t=e(r,i,p);return p},k0=e=>e?fh(e):fh;var uy={exports:{}},cy={},dy={exports:{}},fy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ps=x;function j0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var N0=typeof Object.is=="function"?Object.is:j0,C0=ps.useState,E0=ps.useEffect,_0=ps.useLayoutEffect,P0=ps.useDebugValue;function T0(e,t){var n=t(),r=C0({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return _0(function(){i.value=n,i.getSnapshot=t,vu(i)&&o({inst:i})},[e,n,t]),E0(function(){return vu(i)&&o({inst:i}),e(function(){vu(i)&&o({inst:i})})},[e]),P0(n),n}function vu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!N0(e,n)}catch{return!0}}function R0(e,t){return t()}var O0=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?R0:T0;fy.useSyncExternalStore=ps.useSyncExternalStore!==void 0?ps.useSyncExternalStore:O0;dy.exports=fy;var M0=dy.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xa=x,L0=M0;function F0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var I0=typeof Object.is=="function"?Object.is:F0,A0=L0.useSyncExternalStore,z0=xa.useRef,D0=xa.useEffect,U0=xa.useMemo,$0=xa.useDebugValue;cy.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=z0(null);if(o.current===null){var u={hasValue:!1,value:null};o.current=u}else u=o.current;o=U0(function(){function p(B){if(!g){if(g=!0,k=B,B=r(B),i!==void 0&&u.hasValue){var z=u.value;if(i(z,B))return S=z}return S=B}if(z=S,I0(k,B))return z;var H=r(B);return i!==void 0&&i(z,H)?(k=B,z):(k=B,S=H)}var g=!1,k,S,_=n===void 0?null:n;return[function(){return p(t())},_===null?void 0:function(){return p(_())}]},[t,n,r,i]);var f=A0(e,o[0],o[1]);return D0(function(){u.hasValue=!0,u.value=f},[f]),$0(f),f};uy.exports=cy;var B0=uy.exports;const K0=Rc(B0),hy={},{useDebugValue:W0}=Ic,{useSyncExternalStoreWithSelector:H0}=K0;let hh=!1;const V0=e=>e;function q0(e,t=V0,n){(hy?"production":void 0)!=="production"&&n&&!hh&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),hh=!0);const r=H0(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return W0(r),r}const ph=e=>{(hy?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?k0(e):e,n=(r,i)=>q0(t,r,i);return Object.assign(n,t),n},Ed=e=>e?ph(e):ph,Q0=/['\u2019\u02BC](s|d)$/u,Y0=/['\u2019\u02BC]$/u,G0=new Set(["a","e","i","o","u"]),X0=["ness","ss","ous","us","is"],J0=new Map([["boonies","boonie"]]);function mh(e){return/[aeiouy]/u.test(e)}function wo(e){return G0.has(e)}function Z0(e){if(e.length<2)return!1;const t=e[e.length-1],n=e[e.length-2];return t===n&&!wo(t)}function ew(e){if(e.length<3||!e.endsWith("l"))return!1;const t=e[e.length-2],n=e[e.length-3];return t===n&&!wo(t)}function tw(e,t){return t||!e.endsWith("g")?!1:!e.endsWith("ng")}function nw(e){if(e.length<2||!e.endsWith("k"))return!1;const t=e[e.length-2];return wo(t)}function yh(e){if(e.endsWith("at")||e.endsWith("bl")||e.endsWith("iz"))return`${e}e`;let t=e,n=!1;return Z0(t)&&!["l","s","z"].includes(t[t.length-1])&&(t=t.slice(0,-1),n=!0),ew(t)?`${t}e`:tw(t,n)?`${t}e`:nw(t)?`${t}e`:t.endsWith("is")&&t.length>3?`${t}e`:t}function _d(e){let t=e.toLowerCase().normalize("NFC");if(t=t.replace(Q0,""),t=t.replace(Y0,""),t.length<=3)return t;if(t.endsWith("ier")&&t.length>5){const n=t.slice(0,-3),r=n[n.length-1],i=n[n.length-2];if(r&&i&&r===i&&!wo(r))return`${n}y`}if(t.endsWith("ied")&&t.length>3){const n=t.slice(0,-3);return t.length<=4?`${n}ie`:`${n}y`}if(t.endsWith("ies")&&t.length>3){const n=J0.get(t);if(n)return n;const r=t.slice(0,-3);return t.length<=4?`${r}ie`:`${r}y`}if(t.endsWith("ing")){const n=t.slice(0,-3);if(n.length>=3&&mh(n))return yh(n)}if(t.endsWith("ed")){const n=t.slice(0,-2);if(n.length>=2&&mh(n))return yh(n)}if(t.endsWith("ly")&&t.length>4){const n=t[t.length-3];if(n&&!wo(n))return t.slice(0,-2)}return t.endsWith("es")&&t.length>4?t.endsWith("ches")||t.endsWith("shes")||t.endsWith("xes")||t.endsWith("zes")?t.slice(0,-2):t.slice(0,-1):t.endsWith("s")&&t.length>4&&!X0.some(n=>t.endsWith(n))?t.slice(0,-1):t}const rw=new RegExp("(\\p{L}+(?:['\\u2019\\u02BC-]\\p{L}+)*)|(\\d+)|([^\\s\\p{L}\\d]+)","gu");function ir(e){const t=e.replace(/[\u0001\u0002]/g,""),n=[];let r;for(;r=rw.exec(t);){const[i,o,u,f]=r;if(o){const p=o.toLowerCase().normalize("NFC");n.push({text:i,normalized:p,stem:_d(p),isWord:!0})}else u?n.push({text:i,normalized:u,stem:u,isWord:!1}):f&&n.push({text:i,normalized:f,stem:f,isWord:!1})}return n.length>0?n:[{text:e,normalized:e,stem:e,isWord:new RegExp("\\p{L}","u").test(e)}]}var py={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Qd,function(){var n=function(s,l){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(c[h]=d[h])})(s,l)},r=function(){return(r=Object.assign||function(s){for(var l,c=1,d=arguments.length;c<d;c++)for(var h in l=arguments[c])Object.prototype.hasOwnProperty.call(l,h)&&(s[h]=l[h]);return s}).apply(this,arguments)};function i(s,l,c){for(var d,h=0,m=l.length;h<m;h++)!d&&h in l||((d=d||Array.prototype.slice.call(l,0,h))[h]=l[h]);return s.concat(d||Array.prototype.slice.call(l))}var o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Qd,u=Object.keys,f=Array.isArray;function p(s,l){return typeof l!="object"||u(l).forEach(function(c){s[c]=l[c]}),s}typeof Promise>"u"||o.Promise||(o.Promise=Promise);var g=Object.getPrototypeOf,k={}.hasOwnProperty;function S(s,l){return k.call(s,l)}function _(s,l){typeof l=="function"&&(l=l(g(s))),(typeof Reflect>"u"?u:Reflect.ownKeys)(l).forEach(function(c){z(s,c,l[c])})}var B=Object.defineProperty;function z(s,l,c,d){B(s,l,p(c&&S(c,"get")&&typeof c.get=="function"?{get:c.get,set:c.set,configurable:!0}:{value:c,configurable:!0,writable:!0},d))}function H(s){return{from:function(l){return s.prototype=Object.create(l.prototype),z(s.prototype,"constructor",s),{extend:_.bind(null,s.prototype)}}}}var Q=Object.getOwnPropertyDescriptor,C=[].slice;function v(s,l,c){return C.call(s,l,c)}function N(s,l){return l(s)}function I(s){if(!s)throw new Error("Assertion Failed")}function G(s){o.setImmediate?setImmediate(s):setTimeout(s,0)}function Z(s,l){if(typeof l=="string"&&S(s,l))return s[l];if(!l)return s;if(typeof l!="string"){for(var c=[],d=0,h=l.length;d<h;++d){var m=Z(s,l[d]);c.push(m)}return c}var y=l.indexOf(".");if(y!==-1){var b=s[l.substr(0,y)];return b==null?void 0:Z(b,l.substr(y+1))}}function X(s,l,c){if(s&&l!==void 0&&!("isFrozen"in Object&&Object.isFrozen(s)))if(typeof l!="string"&&"length"in l){I(typeof c!="string"&&"length"in c);for(var d=0,h=l.length;d<h;++d)X(s,l[d],c[d])}else{var m,y,b=l.indexOf(".");b!==-1?(m=l.substr(0,b),(y=l.substr(b+1))===""?c===void 0?f(s)&&!isNaN(parseInt(m))?s.splice(m,1):delete s[m]:s[m]=c:X(b=!(b=s[m])||!S(s,m)?s[m]={}:b,y,c)):c===void 0?f(s)&&!isNaN(parseInt(l))?s.splice(l,1):delete s[l]:s[l]=c}}function J(s){var l,c={};for(l in s)S(s,l)&&(c[l]=s[l]);return c}var Ce=[].concat;function he(s){return Ce.apply([],s)}var Ae="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(he([8,16,32,64].map(function(s){return["Int","Uint","Float"].map(function(l){return l+s+"Array"})}))).filter(function(s){return o[s]}),Le=new Set(Ae.map(function(s){return o[s]})),De=null;function se(s){return De=new WeakMap,s=function l(c){if(!c||typeof c!="object")return c;var d=De.get(c);if(d)return d;if(f(c)){d=[],De.set(c,d);for(var h=0,m=c.length;h<m;++h)d.push(l(c[h]))}else if(Le.has(c.constructor))d=c;else{var y,b=g(c);for(y in d=b===Object.prototype?{}:Object.create(b),De.set(c,d),c)S(c,y)&&(d[y]=l(c[y]))}return d}(s),De=null,s}var re={}.toString;function oe(s){return re.call(s).slice(8,-1)}var Y=typeof Symbol<"u"?Symbol.iterator:"@@iterator",be=typeof Y=="symbol"?function(s){var l;return s!=null&&(l=s[Y])&&l.apply(s)}:function(){return null};function V(s,l){return l=s.indexOf(l),0<=l&&s.splice(l,1),0<=l}var ee={};function ie(s){var l,c,d,h;if(arguments.length===1){if(f(s))return s.slice();if(this===ee&&typeof s=="string")return[s];if(h=be(s)){for(c=[];!(d=h.next()).done;)c.push(d.value);return c}if(s==null)return[s];if(typeof(l=s.length)!="number")return[s];for(c=new Array(l);l--;)c[l]=s[l];return c}for(l=arguments.length,c=new Array(l);l--;)c[l]=arguments[l];return c}var we=typeof Symbol<"u"?function(s){return s[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},fr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],on=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(fr),Ee={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function $e(s,l){this.name=s,this.message=l}function xt(s,l){return s+". Errors: "+Object.keys(l).map(function(c){return l[c].toString()}).filter(function(c,d,h){return h.indexOf(c)===d}).join(`
`)}function wt(s,l,c,d){this.failures=l,this.failedKeys=d,this.successCount=c,this.message=xt(s,l)}function ot(s,l){this.name="BulkError",this.failures=Object.keys(l).map(function(c){return l[c]}),this.failuresByPos=l,this.message=xt(s,this.failures)}H($e).from(Error).extend({toString:function(){return this.name+": "+this.message}}),H(wt).from($e),H(ot).from($e);var Ft=on.reduce(function(s,l){return s[l]=l+"Error",s},{}),Jt=$e,$=on.reduce(function(s,l){var c=l+"Error";function d(h,m){this.name=c,h?typeof h=="string"?(this.message="".concat(h).concat(m?`
 `+m:""),this.inner=m||null):typeof h=="object"&&(this.message="".concat(h.name," ").concat(h.message),this.inner=h):(this.message=Ee[l]||c,this.inner=null)}return H(d).from(Jt),s[l]=d,s},{});$.Syntax=SyntaxError,$.Type=TypeError,$.Range=RangeError;var ke=fr.reduce(function(s,l){return s[l+"Error"]=$[l],s},{}),Se=on.reduce(function(s,l){return["Syntax","Type","Range"].indexOf(l)===-1&&(s[l+"Error"]=$[l]),s},{});function ve(){}function Ue(s){return s}function ct(s,l){return s==null||s===Ue?l:function(c){return l(s(c))}}function rt(s,l){return function(){s.apply(this,arguments),l.apply(this,arguments)}}function Dn(s,l){return s===ve?l:function(){var c=s.apply(this,arguments);c!==void 0&&(arguments[0]=c);var d=this.onsuccess,h=this.onerror;this.onsuccess=null,this.onerror=null;var m=l.apply(this,arguments);return d&&(this.onsuccess=this.onsuccess?rt(d,this.onsuccess):d),h&&(this.onerror=this.onerror?rt(h,this.onerror):h),m!==void 0?m:c}}function hn(s,l){return s===ve?l:function(){s.apply(this,arguments);var c=this.onsuccess,d=this.onerror;this.onsuccess=this.onerror=null,l.apply(this,arguments),c&&(this.onsuccess=this.onsuccess?rt(c,this.onsuccess):c),d&&(this.onerror=this.onerror?rt(d,this.onerror):d)}}function dt(s,l){return s===ve?l:function(c){var d=s.apply(this,arguments);p(c,d);var h=this.onsuccess,m=this.onerror;return this.onsuccess=null,this.onerror=null,c=l.apply(this,arguments),h&&(this.onsuccess=this.onsuccess?rt(h,this.onsuccess):h),m&&(this.onerror=this.onerror?rt(m,this.onerror):m),d===void 0?c===void 0?void 0:c:p(d,c)}}function dr(s,l){return s===ve?l:function(){return l.apply(this,arguments)!==!1&&s.apply(this,arguments)}}function ws(s,l){return s===ve?l:function(){var c=s.apply(this,arguments);if(c&&typeof c.then=="function"){for(var d=this,h=arguments.length,m=new Array(h);h--;)m[h]=arguments[h];return c.then(function(){return l.apply(d,m)})}return l.apply(this,arguments)}}Se.ModifyError=wt,Se.DexieError=$e,Se.BulkError=ot;var Pt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function _o(s){Pt=s}var Un={},bs=100,Ae=typeof Promise>"u"?[]:function(){var s=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[s,g(s),s];var l=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[l,g(l),s]}(),fr=Ae[0],on=Ae[1],Ae=Ae[2],on=on&&on.then,Zt=fr&&fr.constructor,hr=!!Ae,jn=function(s,l){Nn.push([s,l]),pr&&(queueMicrotask(yr),pr=!1)},$n=!0,pr=!0,en=[],Yr=[],ji=Ue,pn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ve,pgp:!1,env:{},finalize:ve},ge=pn,Nn=[],Cn=0,Gr=[];function de(s){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var l=this._PSD=ge;if(typeof s!="function"){if(s!==Un)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Ci(this,this._value))}this._state=null,this._value=null,++l.ref,function c(d,h){try{h(function(m){if(d._state===null){if(m===d)throw new TypeError("A promise cannot be resolved with itself.");var y=d._lib&&Bn();m&&typeof m.then=="function"?c(d,function(b,E){m instanceof de?m._then(b,E):m.then(b,E)}):(d._state=!0,d._value=m,tn(d)),y&&Kn()}},Ci.bind(null,d))}catch(m){Ci(d,m)}}(this,s)}var Ni={get:function(){var s=ge,l=Xr;function c(d,h){var m=this,y=!s.global&&(s!==ge||l!==Xr),b=y&&!En(),E=new de(function(P,M){Bt(m,new Ss(To(d,s,y,b),To(h,s,y,b),P,M,s))});return this._consoleTask&&(E._consoleTask=this._consoleTask),E}return c.prototype=Un,c},set:function(s){z(this,"then",s&&s.prototype===Un?Ni:{get:function(){return s},set:Ni.set})}};function Ss(s,l,c,d,h){this.onFulfilled=typeof s=="function"?s:null,this.onRejected=typeof l=="function"?l:null,this.resolve=c,this.reject=d,this.psd=h}function Ci(s,l){var c,d;Yr.push(l),s._state===null&&(c=s._lib&&Bn(),l=ji(l),s._state=!1,s._value=l,d=s,en.some(function(h){return h._value===d._value})||en.push(d),tn(s),c&&Kn())}function tn(s){var l=s._listeners;s._listeners=[];for(var c=0,d=l.length;c<d;++c)Bt(s,l[c]);var h=s._PSD;--h.ref||h.finalize(),Cn===0&&(++Cn,jn(function(){--Cn==0&&vr()},[]))}function Bt(s,l){if(s._state!==null){var c=s._state?l.onFulfilled:l.onRejected;if(c===null)return(s._state?l.resolve:l.reject)(s._value);++l.psd.ref,++Cn,jn(mr,[c,s,l])}else s._listeners.push(l)}function mr(s,l,c){try{var d,h=l._value;!l._state&&Yr.length&&(Yr=[]),d=Pt&&l._consoleTask?l._consoleTask.run(function(){return s(h)}):s(h),l._state||Yr.indexOf(h)!==-1||function(m){for(var y=en.length;y;)if(en[--y]._value===m._value)return en.splice(y,1)}(l),c.resolve(d)}catch(m){c.reject(m)}finally{--Cn==0&&vr(),--c.psd.ref||c.psd.finalize()}}function yr(){Hn(pn,function(){Bn()&&Kn()})}function Bn(){var s=$n;return pr=$n=!1,s}function Kn(){var s,l,c;do for(;0<Nn.length;)for(s=Nn,Nn=[],c=s.length,l=0;l<c;++l){var d=s[l];d[0].apply(null,d[1])}while(0<Nn.length);pr=$n=!0}function vr(){var s=en;en=[],s.forEach(function(d){d._PSD.onunhandled.call(null,d._value,d)});for(var l=Gr.slice(0),c=l.length;c;)l[--c]()}function Wn(s){return new de(Un,!1,s)}function Be(s,l){var c=ge;return function(){var d=Bn(),h=ge;try{return nn(c,!0),s.apply(this,arguments)}catch(m){l&&l(m)}finally{nn(h,!1),d&&Kn()}}}_(de.prototype,{then:Ni,_then:function(s,l){Bt(this,new Ss(null,null,s,l,ge))},catch:function(s){if(arguments.length===1)return this.then(null,s);var l=s,c=arguments[1];return typeof l=="function"?this.then(null,function(d){return(d instanceof l?c:Wn)(d)}):this.then(null,function(d){return(d&&d.name===l?c:Wn)(d)})},finally:function(s){return this.then(function(l){return de.resolve(s()).then(function(){return l})},function(l){return de.resolve(s()).then(function(){return Wn(l)})})},timeout:function(s,l){var c=this;return s<1/0?new de(function(d,h){var m=setTimeout(function(){return h(new $.Timeout(l))},s);c.then(d,h).finally(clearTimeout.bind(null,m))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&z(de.prototype,Symbol.toStringTag,"Dexie.Promise"),pn.env=Ri(),_(de,{all:function(){var s=ie.apply(null,arguments).map(Ti);return new de(function(l,c){s.length===0&&l([]);var d=s.length;s.forEach(function(h,m){return de.resolve(h).then(function(y){s[m]=y,--d||l(s)},c)})})},resolve:function(s){return s instanceof de?s:s&&typeof s.then=="function"?new de(function(l,c){s.then(l,c)}):new de(Un,!0,s)},reject:Wn,race:function(){var s=ie.apply(null,arguments).map(Ti);return new de(function(l,c){s.map(function(d){return de.resolve(d).then(l,c)})})},PSD:{get:function(){return ge},set:function(s){return ge=s}},totalEchoes:{get:function(){return Xr}},newPSD:mn,usePSD:Hn,scheduler:{get:function(){return jn},set:function(s){jn=s}},rejectionMapper:{get:function(){return ji},set:function(s){ji=s}},follow:function(s,l){return new de(function(c,d){return mn(function(h,m){var y=ge;y.unhandleds=[],y.onunhandled=m,y.finalize=rt(function(){var b,E=this;b=function(){E.unhandleds.length===0?h():m(E.unhandleds[0])},Gr.push(function P(){b(),Gr.splice(Gr.indexOf(P),1)}),++Cn,jn(function(){--Cn==0&&vr()},[])},y.finalize),s()},l,c,d)})}}),Zt&&(Zt.allSettled&&z(de,"allSettled",function(){var s=ie.apply(null,arguments).map(Ti);return new de(function(l){s.length===0&&l([]);var c=s.length,d=new Array(c);s.forEach(function(h,m){return de.resolve(h).then(function(y){return d[m]={status:"fulfilled",value:y}},function(y){return d[m]={status:"rejected",reason:y}}).then(function(){return--c||l(d)})})})}),Zt.any&&typeof AggregateError<"u"&&z(de,"any",function(){var s=ie.apply(null,arguments).map(Ti);return new de(function(l,c){s.length===0&&c(new AggregateError([]));var d=s.length,h=new Array(d);s.forEach(function(m,y){return de.resolve(m).then(function(b){return l(b)},function(b){h[y]=b,--d||c(new AggregateError(h))})})})}),Zt.withResolvers&&(de.withResolvers=Zt.withResolvers));var Je={awaits:0,echoes:0,id:0},Po=0,Ei=[],_i=0,Xr=0,Pi=0;function mn(s,l,c,d){var h=ge,m=Object.create(h);return m.parent=h,m.ref=0,m.global=!1,m.id=++Pi,pn.env,m.env=hr?{Promise:de,PromiseProp:{value:de,configurable:!0,writable:!0},all:de.all,race:de.race,allSettled:de.allSettled,any:de.any,resolve:de.resolve,reject:de.reject}:{},l&&p(m,l),++h.ref,m.finalize=function(){--this.parent.ref||this.parent.finalize()},d=Hn(m,s,c,d),m.ref===0&&m.finalize(),d}function gr(){return Je.id||(Je.id=++Po),++Je.awaits,Je.echoes+=bs,Je.id}function En(){return!!Je.awaits&&(--Je.awaits==0&&(Je.id=0),Je.echoes=Je.awaits*bs,!0)}function Ti(s){return Je.echoes&&s&&s.constructor===Zt?(gr(),s.then(function(l){return En(),l},function(l){return En(),We(l)})):s}function ba(){var s=Ei[Ei.length-1];Ei.pop(),nn(s,!1)}function nn(s,l){var c,d=ge;(l?!Je.echoes||_i++&&s===ge:!_i||--_i&&s===ge)||queueMicrotask(l?(function(h){++Xr,Je.echoes&&--Je.echoes!=0||(Je.echoes=Je.awaits=Je.id=0),Ei.push(ge),nn(h,!0)}).bind(null,s):ba),s!==ge&&(ge=s,d===pn&&(pn.env=Ri()),hr&&(c=pn.env.Promise,l=s.env,(d.global||s.global)&&(Object.defineProperty(o,"Promise",l.PromiseProp),c.all=l.all,c.race=l.race,c.resolve=l.resolve,c.reject=l.reject,l.allSettled&&(c.allSettled=l.allSettled),l.any&&(c.any=l.any))))}function Ri(){var s=o.Promise;return hr?{Promise:s,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:s.all,race:s.race,allSettled:s.allSettled,any:s.any,resolve:s.resolve,reject:s.reject}:{}}function Hn(s,l,c,d,h){var m=ge;try{return nn(s,!0),l(c,d,h)}finally{nn(m,!1)}}function To(s,l,c,d){return typeof s!="function"?s:function(){var h=ge;c&&gr(),nn(l,!0);try{return s.apply(this,arguments)}finally{nn(h,!1),d&&queueMicrotask(En)}}}function Oi(s){Promise===Zt&&Je.echoes===0?_i===0?s():enqueueNativeMicroTask(s):setTimeout(s,0)}(""+on).indexOf("[native code]")===-1&&(gr=En=ve);var We=de.reject,Kt="",yn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Vn="String expected.",rn=[],_n="__dbnames",qn="readonly",Mi="readwrite";function Pn(s,l){return s?l?function(){return s.apply(this,arguments)&&l.apply(this,arguments)}:s:l}var Ro={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Li(s){return typeof s!="string"||/\./.test(s)?function(l){return l}:function(l){return l[s]===void 0&&s in l&&delete(l=se(l))[s],l}}function Tn(){throw $.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Pe(s,l){try{var c=Qn(s),d=Qn(l);if(c!==d)return c==="Array"?1:d==="Array"?-1:c==="binary"?1:d==="binary"?-1:c==="string"?1:d==="string"?-1:c==="Date"?1:d!=="Date"?NaN:-1;switch(c){case"number":case"Date":case"string":return l<s?1:s<l?-1:0;case"binary":return function(h,m){for(var y=h.length,b=m.length,E=y<b?y:b,P=0;P<E;++P)if(h[P]!==m[P])return h[P]<m[P]?-1:1;return y===b?0:y<b?-1:1}(Jr(s),Jr(l));case"Array":return function(h,m){for(var y=h.length,b=m.length,E=y<b?y:b,P=0;P<E;++P){var M=Pe(h[P],m[P]);if(M!==0)return M}return y===b?0:y<b?-1:1}(s,l)}}catch{}return NaN}function Qn(s){var l=typeof s;return l!="object"?l:ArrayBuffer.isView(s)?"binary":(s=oe(s),s==="ArrayBuffer"?"binary":s)}function Jr(s){return s instanceof Uint8Array?s:ArrayBuffer.isView(s)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s)}function xr(s,l,c){var d=s.schema.yProps;return d?(l&&0<c.numFailures&&(l=l.filter(function(h,m){return!c.failures[m]})),Promise.all(d.map(function(h){return h=h.updatesTable,l?s.db.table(h).where("k").anyOf(l).delete():s.db.table(h).clear()})).then(function(){return c})):c}var Rn=(ks.prototype.execute=function(s){var l=this["@@propmod"];if(l.add!==void 0){var c=l.add;if(f(c))return i(i([],f(s)?s:[],!0),c).sort();if(typeof c=="number")return(Number(s)||0)+c;if(typeof c=="bigint")try{return BigInt(s)+c}catch{return BigInt(0)+c}throw new TypeError("Invalid term ".concat(c))}if(l.remove!==void 0){var d=l.remove;if(f(d))return f(s)?s.filter(function(h){return!d.includes(h)}).sort():[];if(typeof d=="number")return Number(s)-d;if(typeof d=="bigint")try{return BigInt(s)-d}catch{return BigInt(0)-d}throw new TypeError("Invalid subtrahend ".concat(d))}return c=(c=l.replacePrefix)===null||c===void 0?void 0:c[0],c&&typeof s=="string"&&s.startsWith(c)?l.replacePrefix[1]+s.substring(c.length):s},ks);function ks(s){this["@@propmod"]=s}function Oo(s,l){for(var c=u(l),d=c.length,h=!1,m=0;m<d;++m){var y=c[m],b=l[y],E=Z(s,y);b instanceof Rn?(X(s,y,b.execute(E)),h=!0):E!==b&&(X(s,y,b),h=!0)}return h}var Yn=(Fe.prototype._trans=function(s,l,c){var d=this._tx||ge.trans,h=this.name,m=Pt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(s==="readonly"?"read":"write"," ").concat(this.name));function y(P,M,j){if(!j.schema[h])throw new $.NotFound("Table "+h+" not part of transaction");return l(j.idbtrans,j)}var b=Bn();try{var E=d&&d.db._novip===this.db._novip?d===ge.trans?d._promise(s,y,c):mn(function(){return d._promise(s,y,c)},{trans:d,transless:ge.transless||ge}):function P(M,j,F,T){if(M.idbdb&&(M._state.openComplete||ge.letThrough||M._vip)){var R=M._createTransaction(j,F,M._dbSchema);try{R.create(),M._state.PR1398_maxLoop=3}catch(O){return O.name===Ft.InvalidState&&M.isOpen()&&0<--M._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),M.close({disableAutoOpen:!1}),M.open().then(function(){return P(M,j,F,T)})):We(O)}return R._promise(j,function(O,L){return mn(function(){return ge.trans=R,T(O,L,R)})}).then(function(O){if(j==="readwrite")try{R.idbtrans.commit()}catch{}return j==="readonly"?O:R._completion.then(function(){return O})})}if(M._state.openComplete)return We(new $.DatabaseClosed(M._state.dbOpenError));if(!M._state.isBeingOpened){if(!M._state.autoOpen)return We(new $.DatabaseClosed);M.open().catch(ve)}return M._state.dbReadyPromise.then(function(){return P(M,j,F,T)})}(this.db,s,[this.name],y);return m&&(E._consoleTask=m,E=E.catch(function(P){return console.trace(P),We(P)})),E}finally{b&&Kn()}},Fe.prototype.get=function(s,l){var c=this;return s&&s.constructor===Object?this.where(s).first(l):s==null?We(new $.Type("Invalid argument to Table.get()")):this._trans("readonly",function(d){return c.core.get({trans:d,key:s}).then(function(h){return c.hook.reading.fire(h)})}).then(l)},Fe.prototype.where=function(s){if(typeof s=="string")return new this.db.WhereClause(this,s);if(f(s))return new this.db.WhereClause(this,"[".concat(s.join("+"),"]"));var l=u(s);if(l.length===1)return this.where(l[0]).equals(s[l[0]]);var c=this.schema.indexes.concat(this.schema.primKey).filter(function(b){if(b.compound&&l.every(function(P){return 0<=b.keyPath.indexOf(P)})){for(var E=0;E<l.length;++E)if(l.indexOf(b.keyPath[E])===-1)return!1;return!0}return!1}).sort(function(b,E){return b.keyPath.length-E.keyPath.length})[0];if(c&&this.db._maxKey!==Kt){var m=c.keyPath.slice(0,l.length);return this.where(m).equals(m.map(function(E){return s[E]}))}!c&&Pt&&console.warn("The query ".concat(JSON.stringify(s)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(l.join("+"),"]"));var d=this.schema.idxByName;function h(b,E){return Pe(b,E)===0}var y=l.reduce(function(j,E){var P=j[0],M=j[1],j=d[E],F=s[E];return[P||j,P||!j?Pn(M,j&&j.multi?function(T){return T=Z(T,E),f(T)&&T.some(function(R){return h(F,R)})}:function(T){return h(F,Z(T,E))}):M]},[null,null]),m=y[0],y=y[1];return m?this.where(m.name).equals(s[m.keyPath]).filter(y):c?this.filter(y):this.where(l).equals("")},Fe.prototype.filter=function(s){return this.toCollection().and(s)},Fe.prototype.count=function(s){return this.toCollection().count(s)},Fe.prototype.offset=function(s){return this.toCollection().offset(s)},Fe.prototype.limit=function(s){return this.toCollection().limit(s)},Fe.prototype.each=function(s){return this.toCollection().each(s)},Fe.prototype.toArray=function(s){return this.toCollection().toArray(s)},Fe.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Fe.prototype.orderBy=function(s){return new this.db.Collection(new this.db.WhereClause(this,f(s)?"[".concat(s.join("+"),"]"):s))},Fe.prototype.reverse=function(){return this.toCollection().reverse()},Fe.prototype.mapToClass=function(s){var l,c=this.db,d=this.name;function h(){return l!==null&&l.apply(this,arguments)||this}(this.schema.mappedClass=s).prototype instanceof Tn&&(function(E,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function M(){this.constructor=E}n(E,P),E.prototype=P===null?Object.create(P):(M.prototype=P.prototype,new M)}(h,l=s),Object.defineProperty(h.prototype,"db",{get:function(){return c},enumerable:!1,configurable:!0}),h.prototype.table=function(){return d},s=h);for(var m=new Set,y=s.prototype;y;y=g(y))Object.getOwnPropertyNames(y).forEach(function(E){return m.add(E)});function b(E){if(!E)return E;var P,M=Object.create(s.prototype);for(P in E)if(!m.has(P))try{M[P]=E[P]}catch{}return M}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=b,this.hook("reading",b),s},Fe.prototype.defineClass=function(){return this.mapToClass(function(s){p(this,s)})},Fe.prototype.add=function(s,l){var c=this,d=this.schema.primKey,h=d.auto,m=d.keyPath,y=s;return m&&h&&(y=Li(m)(s)),this._trans("readwrite",function(b){return c.core.mutate({trans:b,type:"add",keys:l!=null?[l]:null,values:[y]})}).then(function(b){return b.numFailures?de.reject(b.failures[0]):b.lastResult}).then(function(b){if(m)try{X(s,m,b)}catch{}return b})},Fe.prototype.upsert=function(s,l){var c=this,d=this.schema.primKey.keyPath;return this._trans("readwrite",function(h){return c.core.get({trans:h,key:s}).then(function(m){var y=m??{};return Oo(y,l),d&&X(y,d,s),c.core.mutate({trans:h,type:"put",values:[y],keys:[s],upsert:!0,updates:{keys:[s],changeSpecs:[l]}}).then(function(b){return b.numFailures?de.reject(b.failures[0]):!!m})})})},Fe.prototype.update=function(s,l){return typeof s!="object"||f(s)?this.where(":id").equals(s).modify(l):(s=Z(s,this.schema.primKey.keyPath),s===void 0?We(new $.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(s).modify(l))},Fe.prototype.put=function(s,l){var c=this,d=this.schema.primKey,h=d.auto,m=d.keyPath,y=s;return m&&h&&(y=Li(m)(s)),this._trans("readwrite",function(b){return c.core.mutate({trans:b,type:"put",values:[y],keys:l!=null?[l]:null})}).then(function(b){return b.numFailures?de.reject(b.failures[0]):b.lastResult}).then(function(b){if(m)try{X(s,m,b)}catch{}return b})},Fe.prototype.delete=function(s){var l=this;return this._trans("readwrite",function(c){return l.core.mutate({trans:c,type:"delete",keys:[s]}).then(function(d){return xr(l,[s],d)}).then(function(d){return d.numFailures?de.reject(d.failures[0]):void 0})})},Fe.prototype.clear=function(){var s=this;return this._trans("readwrite",function(l){return s.core.mutate({trans:l,type:"deleteRange",range:Ro}).then(function(c){return xr(s,null,c)})}).then(function(l){return l.numFailures?de.reject(l.failures[0]):void 0})},Fe.prototype.bulkGet=function(s){var l=this;return this._trans("readonly",function(c){return l.core.getMany({keys:s,trans:c}).then(function(d){return d.map(function(h){return l.hook.reading.fire(h)})})})},Fe.prototype.bulkAdd=function(s,l,c){var d=this,h=Array.isArray(l)?l:void 0,m=(c=c||(h?void 0:l))?c.allKeys:void 0;return this._trans("readwrite",function(y){var P=d.schema.primKey,b=P.auto,P=P.keyPath;if(P&&h)throw new $.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(h&&h.length!==s.length)throw new $.InvalidArgument("Arguments objects and keys must have the same length");var E=s.length,P=P&&b?s.map(Li(P)):s;return d.core.mutate({trans:y,type:"add",keys:h,values:P,wantResults:m}).then(function(R){var j=R.numFailures,F=R.results,T=R.lastResult,R=R.failures;if(j===0)return m?F:T;throw new ot("".concat(d.name,".bulkAdd(): ").concat(j," of ").concat(E," operations failed"),R)})})},Fe.prototype.bulkPut=function(s,l,c){var d=this,h=Array.isArray(l)?l:void 0,m=(c=c||(h?void 0:l))?c.allKeys:void 0;return this._trans("readwrite",function(y){var P=d.schema.primKey,b=P.auto,P=P.keyPath;if(P&&h)throw new $.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(h&&h.length!==s.length)throw new $.InvalidArgument("Arguments objects and keys must have the same length");var E=s.length,P=P&&b?s.map(Li(P)):s;return d.core.mutate({trans:y,type:"put",keys:h,values:P,wantResults:m}).then(function(R){var j=R.numFailures,F=R.results,T=R.lastResult,R=R.failures;if(j===0)return m?F:T;throw new ot("".concat(d.name,".bulkPut(): ").concat(j," of ").concat(E," operations failed"),R)})})},Fe.prototype.bulkUpdate=function(s){var l=this,c=this.core,d=s.map(function(y){return y.key}),h=s.map(function(y){return y.changes}),m=[];return this._trans("readwrite",function(y){return c.getMany({trans:y,keys:d,cache:"clone"}).then(function(b){var E=[],P=[];s.forEach(function(j,F){var T=j.key,R=j.changes,O=b[F];if(O){for(var L=0,A=Object.keys(R);L<A.length;L++){var D=A[L],K=R[D];if(D===l.schema.primKey.keyPath){if(Pe(K,T)!==0)throw new $.Constraint("Cannot update primary key in bulkUpdate()")}else X(O,D,K)}m.push(F),E.push(T),P.push(O)}});var M=E.length;return c.mutate({trans:y,type:"put",keys:E,values:P,updates:{keys:d,changeSpecs:h}}).then(function(j){var F=j.numFailures,T=j.failures;if(F===0)return M;for(var R=0,O=Object.keys(T);R<O.length;R++){var L,A=O[R],D=m[Number(A)];D!=null&&(L=T[A],delete T[A],T[D]=L)}throw new ot("".concat(l.name,".bulkUpdate(): ").concat(F," of ").concat(M," operations failed"),T)})})})},Fe.prototype.bulkDelete=function(s){var l=this,c=s.length;return this._trans("readwrite",function(d){return l.core.mutate({trans:d,type:"delete",keys:s}).then(function(h){return xr(l,s,h)})}).then(function(y){var h=y.numFailures,m=y.lastResult,y=y.failures;if(h===0)return m;throw new ot("".concat(l.name,".bulkDelete(): ").concat(h," of ").concat(c," operations failed"),y)})},Fe);function Fe(){}function bt(s){function l(y,b){if(b){for(var E=arguments.length,P=new Array(E-1);--E;)P[E-1]=arguments[E];return c[y].subscribe.apply(null,P),s}if(typeof y=="string")return c[y]}var c={};l.addEventType=m;for(var d=1,h=arguments.length;d<h;++d)m(arguments[d]);return l;function m(y,b,E){if(typeof y!="object"){var P;b=b||dr;var M={subscribers:[],fire:E=E||ve,subscribe:function(j){M.subscribers.indexOf(j)===-1&&(M.subscribers.push(j),M.fire=b(M.fire,j))},unsubscribe:function(j){M.subscribers=M.subscribers.filter(function(F){return F!==j}),M.fire=M.subscribers.reduce(b,E)}};return c[y]=l[y]=M}u(P=y).forEach(function(j){var F=P[j];if(f(F))m(j,P[j][0],P[j][1]);else{if(F!=="asap")throw new $.InvalidArgument("Invalid event config");var T=m(j,Ue,function(){for(var R=arguments.length,O=new Array(R);R--;)O[R]=arguments[R];T.subscribers.forEach(function(L){G(function(){L.apply(null,O)})})})}})}}function wr(s,l){return H(l).from({prototype:s}),l}function sn(s,l){return!(s.filter||s.algorithm||s.or)&&(l?s.justLimit:!s.replayFilter)}function Zr(s,l){s.filter=Pn(s.filter,l)}function w(s,l,c){var d=s.replayFilter;s.replayFilter=d?function(){return Pn(d(),l())}:l,s.justLimit=c&&!d}function W(s,l){if(s.isPrimKey)return l.primaryKey;var c=l.getIndexByKeyPath(s.index);if(!c)throw new $.Schema("KeyPath "+s.index+" on object store "+l.name+" is not indexed");return c}function U(s,l,c){var d=W(s,l.schema);return l.openCursor({trans:c,values:!s.keysOnly,reverse:s.dir==="prev",unique:!!s.unique,query:{index:d,range:s.range}})}function ye(s,l,c,d){var h=s.replayFilter?Pn(s.filter,s.replayFilter()):s.filter;if(s.or){var m={},y=function(b,E,P){var M,j;h&&!h(E,P,function(F){return E.stop(F)},function(F){return E.fail(F)})||((j=""+(M=E.primaryKey))=="[object ArrayBuffer]"&&(j=""+new Uint8Array(M)),S(m,j)||(m[j]=!0,l(b,E,P)))};return Promise.all([s.or._iterate(y,c),Re(U(s,d,c),s.algorithm,y,!s.keysOnly&&s.valueMapper)])}return Re(U(s,d,c),Pn(s.algorithm,h),l,!s.keysOnly&&s.valueMapper)}function Re(s,l,c,d){var h=Be(d?function(m,y,b){return c(d(m),y,b)}:c);return s.then(function(m){if(m)return m.start(function(){var y=function(){return m.continue()};l&&!l(m,function(b){return y=b},function(b){m.stop(b),y=ve},function(b){m.fail(b),y=ve})||h(m.value,m,function(b){return y=b}),y()})})}var je=(xe.prototype._read=function(s,l){var c=this._ctx;return c.error?c.table._trans(null,We.bind(null,c.error)):c.table._trans("readonly",s).then(l)},xe.prototype._write=function(s){var l=this._ctx;return l.error?l.table._trans(null,We.bind(null,l.error)):l.table._trans("readwrite",s,"locked")},xe.prototype._addAlgorithm=function(s){var l=this._ctx;l.algorithm=Pn(l.algorithm,s)},xe.prototype._iterate=function(s,l){return ye(this._ctx,s,l,this._ctx.table.core)},xe.prototype.clone=function(s){var l=Object.create(this.constructor.prototype),c=Object.create(this._ctx);return s&&p(c,s),l._ctx=c,l},xe.prototype.raw=function(){return this._ctx.valueMapper=null,this},xe.prototype.each=function(s){var l=this._ctx;return this._read(function(c){return ye(l,s,c,l.table.core)})},xe.prototype.count=function(s){var l=this;return this._read(function(c){var d=l._ctx,h=d.table.core;if(sn(d,!0))return h.count({trans:c,query:{index:W(d,h.schema),range:d.range}}).then(function(y){return Math.min(y,d.limit)});var m=0;return ye(d,function(){return++m,!1},c,h).then(function(){return m})}).then(s)},xe.prototype.sortBy=function(s,l){var c=s.split(".").reverse(),d=c[0],h=c.length-1;function m(E,P){return P?m(E[c[P]],P-1):E[d]}var y=this._ctx.dir==="next"?1:-1;function b(E,P){return Pe(m(E,h),m(P,h))*y}return this.toArray(function(E){return E.sort(b)}).then(l)},xe.prototype.toArray=function(s){var l=this;return this._read(function(c){var d=l._ctx;if(d.dir==="next"&&sn(d,!0)&&0<d.limit){var h=d.valueMapper,m=W(d,d.table.core.schema);return d.table.core.query({trans:c,limit:d.limit,values:!0,query:{index:m,range:d.range}}).then(function(b){return b=b.result,h?b.map(h):b})}var y=[];return ye(d,function(b){return y.push(b)},c,d.table.core).then(function(){return y})},s)},xe.prototype.offset=function(s){var l=this._ctx;return s<=0||(l.offset+=s,sn(l)?w(l,function(){var c=s;return function(d,h){return c===0||(c===1?--c:h(function(){d.advance(c),c=0}),!1)}}):w(l,function(){var c=s;return function(){return--c<0}})),this},xe.prototype.limit=function(s){return this._ctx.limit=Math.min(this._ctx.limit,s),w(this._ctx,function(){var l=s;return function(c,d,h){return--l<=0&&d(h),0<=l}},!0),this},xe.prototype.until=function(s,l){return Zr(this._ctx,function(c,d,h){return!s(c.value)||(d(h),l)}),this},xe.prototype.first=function(s){return this.limit(1).toArray(function(l){return l[0]}).then(s)},xe.prototype.last=function(s){return this.reverse().first(s)},xe.prototype.filter=function(s){var l;return Zr(this._ctx,function(c){return s(c.value)}),(l=this._ctx).isMatch=Pn(l.isMatch,s),this},xe.prototype.and=function(s){return this.filter(s)},xe.prototype.or=function(s){return new this.db.WhereClause(this._ctx.table,s,this)},xe.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},xe.prototype.desc=function(){return this.reverse()},xe.prototype.eachKey=function(s){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(c,d){s(d.key,d)})},xe.prototype.eachUniqueKey=function(s){return this._ctx.unique="unique",this.eachKey(s)},xe.prototype.eachPrimaryKey=function(s){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(c,d){s(d.primaryKey,d)})},xe.prototype.keys=function(s){var l=this._ctx;l.keysOnly=!l.isMatch;var c=[];return this.each(function(d,h){c.push(h.key)}).then(function(){return c}).then(s)},xe.prototype.primaryKeys=function(s){var l=this._ctx;if(l.dir==="next"&&sn(l,!0)&&0<l.limit)return this._read(function(d){var h=W(l,l.table.core.schema);return l.table.core.query({trans:d,values:!1,limit:l.limit,query:{index:h,range:l.range}})}).then(function(d){return d.result}).then(s);l.keysOnly=!l.isMatch;var c=[];return this.each(function(d,h){c.push(h.primaryKey)}).then(function(){return c}).then(s)},xe.prototype.uniqueKeys=function(s){return this._ctx.unique="unique",this.keys(s)},xe.prototype.firstKey=function(s){return this.limit(1).keys(function(l){return l[0]}).then(s)},xe.prototype.lastKey=function(s){return this.reverse().firstKey(s)},xe.prototype.distinct=function(){var s=this._ctx,s=s.index&&s.table.schema.idxByName[s.index];if(!s||!s.multi)return this;var l={};return Zr(this._ctx,function(h){var d=h.primaryKey.toString(),h=S(l,d);return l[d]=!0,!h}),this},xe.prototype.modify=function(s){var l=this,c=this._ctx;return this._write(function(d){var h=typeof s=="function"?s:function(O){return Oo(O,s)},m=c.table.core,P=m.schema.primaryKey,y=P.outbound,b=P.extractKey,E=200,P=l.db._options.modifyChunkSize;P&&(E=typeof P=="object"?P[m.name]||P["*"]||200:P);function M(O,D){var A=D.failures,D=D.numFailures;F+=O-D;for(var K=0,q=u(A);K<q.length;K++){var le=q[K];j.push(A[le])}}var j=[],F=0,T=[],R=s===js;return l.clone().primaryKeys().then(function(O){function L(D){var K=Math.min(E,O.length-D),q=O.slice(D,D+K);return(R?Promise.resolve([]):m.getMany({trans:d,keys:q,cache:"immutable"})).then(function(le){var ce=[],ne=[],ae=y?[]:null,fe=R?q:[];if(!R)for(var ue=0;ue<K;++ue){var pe=le[ue],Te={value:se(pe),primKey:O[D+ue]};h.call(Te,Te.value,Te)!==!1&&(Te.value==null?fe.push(O[D+ue]):y||Pe(b(pe),b(Te.value))===0?(ne.push(Te.value),y&&ae.push(O[D+ue])):(fe.push(O[D+ue]),ce.push(Te.value)))}return Promise.resolve(0<ce.length&&m.mutate({trans:d,type:"add",values:ce}).then(function(Oe){for(var Me in Oe.failures)fe.splice(parseInt(Me),1);M(ce.length,Oe)})).then(function(){return(0<ne.length||A&&typeof s=="object")&&m.mutate({trans:d,type:"put",keys:ae,values:ne,criteria:A,changeSpec:typeof s!="function"&&s,isAdditionalChunk:0<D}).then(function(Oe){return M(ne.length,Oe)})}).then(function(){return(0<fe.length||A&&R)&&m.mutate({trans:d,type:"delete",keys:fe,criteria:A,isAdditionalChunk:0<D}).then(function(Oe){return xr(c.table,fe,Oe)}).then(function(Oe){return M(fe.length,Oe)})}).then(function(){return O.length>D+K&&L(D+E)})})}var A=sn(c)&&c.limit===1/0&&(typeof s!="function"||R)&&{index:c.index,range:c.range};return L(0).then(function(){if(0<j.length)throw new wt("Error modifying one or more objects",j,F,T);return O.length})})})},xe.prototype.delete=function(){var s=this._ctx,l=s.range;return!sn(s)||s.table.schema.yProps||!s.isPrimKey&&l.type!==3?this.modify(js):this._write(function(c){var d=s.table.core.schema.primaryKey,h=l;return s.table.core.count({trans:c,query:{index:d,range:h}}).then(function(m){return s.table.core.mutate({trans:c,type:"deleteRange",range:h}).then(function(E){var b=E.failures,E=E.numFailures;if(E)throw new wt("Could not delete some values",Object.keys(b).map(function(P){return b[P]}),m-E);return m-E})})})},xe);function xe(){}var js=function(s,l){return l.value=null};function ky(s,l){return s<l?-1:s===l?0:1}function jy(s,l){return l<s?-1:s===l?0:1}function Wt(s,l,c){return s=s instanceof Rd?new s.Collection(s):s,s._ctx.error=new(c||TypeError)(l),s}function Fi(s){return new s.Collection(s,function(){return Td("")}).limit(0)}function Mo(s,l,c,d){var h,m,y,b,E,P,M,j=c.length;if(!c.every(function(R){return typeof R=="string"}))return Wt(s,Vn);function F(R){h=R==="next"?function(L){return L.toUpperCase()}:function(L){return L.toLowerCase()},m=R==="next"?function(L){return L.toLowerCase()}:function(L){return L.toUpperCase()},y=R==="next"?ky:jy;var O=c.map(function(L){return{lower:m(L),upper:h(L)}}).sort(function(L,A){return y(L.lower,A.lower)});b=O.map(function(L){return L.upper}),E=O.map(function(L){return L.lower}),M=(P=R)==="next"?"":d}F("next"),s=new s.Collection(s,function(){return br(b[0],E[j-1]+d)}),s._ondirectionchange=function(R){F(R)};var T=0;return s._addAlgorithm(function(R,O,L){var A=R.key;if(typeof A!="string")return!1;var D=m(A);if(l(D,E,T))return!0;for(var K=null,q=T;q<j;++q){var le=function(ce,ne,ae,fe,ue,pe){for(var Te=Math.min(ce.length,fe.length),Oe=-1,Me=0;Me<Te;++Me){var Ht=ne[Me];if(Ht!==fe[Me])return ue(ce[Me],ae[Me])<0?ce.substr(0,Me)+ae[Me]+ae.substr(Me+1):ue(ce[Me],fe[Me])<0?ce.substr(0,Me)+fe[Me]+ae.substr(Me+1):0<=Oe?ce.substr(0,Oe)+ne[Oe]+ae.substr(Oe+1):null;ue(ce[Me],Ht)<0&&(Oe=Me)}return Te<fe.length&&pe==="next"?ce+ae.substr(ce.length):Te<ce.length&&pe==="prev"?ce.substr(0,ae.length):Oe<0?null:ce.substr(0,Oe)+fe[Oe]+ae.substr(Oe+1)}(A,D,b[q],E[q],y,P);le===null&&K===null?T=q+1:(K===null||0<y(K,le))&&(K=le)}return O(K!==null?function(){R.continue(K+M)}:L),!1}),s}function br(s,l,c,d){return{type:2,lower:s,upper:l,lowerOpen:c,upperOpen:d}}function Td(s){return{type:1,lower:s,upper:s}}var Rd=(Object.defineProperty(ft.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),ft.prototype.between=function(s,l,c,d){c=c!==!1,d=d===!0;try{return 0<this._cmp(s,l)||this._cmp(s,l)===0&&(c||d)&&(!c||!d)?Fi(this):new this.Collection(this,function(){return br(s,l,!c,!d)})}catch{return Wt(this,yn)}},ft.prototype.equals=function(s){return s==null?Wt(this,yn):new this.Collection(this,function(){return Td(s)})},ft.prototype.above=function(s){return s==null?Wt(this,yn):new this.Collection(this,function(){return br(s,void 0,!0)})},ft.prototype.aboveOrEqual=function(s){return s==null?Wt(this,yn):new this.Collection(this,function(){return br(s,void 0,!1)})},ft.prototype.below=function(s){return s==null?Wt(this,yn):new this.Collection(this,function(){return br(void 0,s,!1,!0)})},ft.prototype.belowOrEqual=function(s){return s==null?Wt(this,yn):new this.Collection(this,function(){return br(void 0,s)})},ft.prototype.startsWith=function(s){return typeof s!="string"?Wt(this,Vn):this.between(s,s+Kt,!0,!0)},ft.prototype.startsWithIgnoreCase=function(s){return s===""?this.startsWith(s):Mo(this,function(l,c){return l.indexOf(c[0])===0},[s],Kt)},ft.prototype.equalsIgnoreCase=function(s){return Mo(this,function(l,c){return l===c[0]},[s],"")},ft.prototype.anyOfIgnoreCase=function(){var s=ie.apply(ee,arguments);return s.length===0?Fi(this):Mo(this,function(l,c){return c.indexOf(l)!==-1},s,"")},ft.prototype.startsWithAnyOfIgnoreCase=function(){var s=ie.apply(ee,arguments);return s.length===0?Fi(this):Mo(this,function(l,c){return c.some(function(d){return l.indexOf(d)===0})},s,Kt)},ft.prototype.anyOf=function(){var s=this,l=ie.apply(ee,arguments),c=this._cmp;try{l.sort(c)}catch{return Wt(this,yn)}if(l.length===0)return Fi(this);var d=new this.Collection(this,function(){return br(l[0],l[l.length-1])});d._ondirectionchange=function(m){c=m==="next"?s._ascending:s._descending,l.sort(c)};var h=0;return d._addAlgorithm(function(m,y,b){for(var E=m.key;0<c(E,l[h]);)if(++h===l.length)return y(b),!1;return c(E,l[h])===0||(y(function(){m.continue(l[h])}),!1)}),d},ft.prototype.notEqual=function(s){return this.inAnyRange([[-1/0,s],[s,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},ft.prototype.noneOf=function(){var s=ie.apply(ee,arguments);if(s.length===0)return new this.Collection(this);try{s.sort(this._ascending)}catch{return Wt(this,yn)}var l=s.reduce(function(c,d){return c?c.concat([[c[c.length-1][1],d]]):[[-1/0,d]]},null);return l.push([s[s.length-1],this.db._maxKey]),this.inAnyRange(l,{includeLowers:!1,includeUppers:!1})},ft.prototype.inAnyRange=function(A,l){var c=this,d=this._cmp,h=this._ascending,m=this._descending,y=this._min,b=this._max;if(A.length===0)return Fi(this);if(!A.every(function(D){return D[0]!==void 0&&D[1]!==void 0&&h(D[0],D[1])<=0}))return Wt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",$.InvalidArgument);var E=!l||l.includeLowers!==!1,P=l&&l.includeUppers===!0,M,j=h;function F(D,K){return j(D[0],K[0])}try{(M=A.reduce(function(D,K){for(var q=0,le=D.length;q<le;++q){var ce=D[q];if(d(K[0],ce[1])<0&&0<d(K[1],ce[0])){ce[0]=y(ce[0],K[0]),ce[1]=b(ce[1],K[1]);break}}return q===le&&D.push(K),D},[])).sort(F)}catch{return Wt(this,yn)}var T=0,R=P?function(D){return 0<h(D,M[T][1])}:function(D){return 0<=h(D,M[T][1])},O=E?function(D){return 0<m(D,M[T][0])}:function(D){return 0<=m(D,M[T][0])},L=R,A=new this.Collection(this,function(){return br(M[0][0],M[M.length-1][1],!E,!P)});return A._ondirectionchange=function(D){j=D==="next"?(L=R,h):(L=O,m),M.sort(F)},A._addAlgorithm(function(D,K,q){for(var le,ce=D.key;L(ce);)if(++T===M.length)return K(q),!1;return!R(le=ce)&&!O(le)||(c._cmp(ce,M[T][1])===0||c._cmp(ce,M[T][0])===0||K(function(){j===h?D.continue(M[T][0]):D.continue(M[T][1])}),!1)}),A},ft.prototype.startsWithAnyOf=function(){var s=ie.apply(ee,arguments);return s.every(function(l){return typeof l=="string"})?s.length===0?Fi(this):this.inAnyRange(s.map(function(l){return[l,l+Kt]})):Wt(this,"startsWithAnyOf() only works with strings")},ft);function ft(){}function On(s){return Be(function(l){return Ns(l),s(l.target.error),!1})}function Ns(s){s.stopPropagation&&s.stopPropagation(),s.preventDefault&&s.preventDefault()}var Cs="storagemutated",Sa="x-storagemutated-1",Sr=bt(null,Cs),Ny=(Mn.prototype._lock=function(){return I(!ge.global),++this._reculock,this._reculock!==1||ge.global||(ge.lockOwnerFor=this),this},Mn.prototype._unlock=function(){if(I(!ge.global),--this._reculock==0)for(ge.global||(ge.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var s=this._blockedFuncs.shift();try{Hn(s[1],s[0])}catch{}}return this},Mn.prototype._locked=function(){return this._reculock&&ge.lockOwnerFor!==this},Mn.prototype.create=function(s){var l=this;if(!this.mode)return this;var c=this.db.idbdb,d=this.db._state.dbOpenError;if(I(!this.idbtrans),!s&&!c)switch(d&&d.name){case"DatabaseClosedError":throw new $.DatabaseClosed(d);case"MissingAPIError":throw new $.MissingAPI(d.message,d);default:throw new $.OpenFailed(d)}if(!this.active)throw new $.TransactionInactive;return I(this._completion._state===null),(s=this.idbtrans=s||(this.db.core||c).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Be(function(h){Ns(h),l._reject(s.error)}),s.onabort=Be(function(h){Ns(h),l.active&&l._reject(new $.Abort(s.error)),l.active=!1,l.on("abort").fire(h)}),s.oncomplete=Be(function(){l.active=!1,l._resolve(),"mutatedParts"in s&&Sr.storagemutated.fire(s.mutatedParts)}),this},Mn.prototype._promise=function(s,l,c){var d=this;if(s==="readwrite"&&this.mode!=="readwrite")return We(new $.ReadOnly("Transaction is readonly"));if(!this.active)return We(new $.TransactionInactive);if(this._locked())return new de(function(m,y){d._blockedFuncs.push([function(){d._promise(s,l,c).then(m,y)},ge])});if(c)return mn(function(){var m=new de(function(y,b){d._lock();var E=l(y,b,d);E&&E.then&&E.then(y,b)});return m.finally(function(){return d._unlock()}),m._lib=!0,m});var h=new de(function(m,y){var b=l(m,y,d);b&&b.then&&b.then(m,y)});return h._lib=!0,h},Mn.prototype._root=function(){return this.parent?this.parent._root():this},Mn.prototype.waitFor=function(s){var l,c=this._root(),d=de.resolve(s);c._waitingFor?c._waitingFor=c._waitingFor.then(function(){return d}):(c._waitingFor=d,c._waitingQueue=[],l=c.idbtrans.objectStore(c.storeNames[0]),function m(){for(++c._spinCount;c._waitingQueue.length;)c._waitingQueue.shift()();c._waitingFor&&(l.get(-1/0).onsuccess=m)}());var h=c._waitingFor;return new de(function(m,y){d.then(function(b){return c._waitingQueue.push(Be(m.bind(null,b)))},function(b){return c._waitingQueue.push(Be(y.bind(null,b)))}).finally(function(){c._waitingFor===h&&(c._waitingFor=null)})})},Mn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new $.Abort))},Mn.prototype.table=function(s){var l=this._memoizedTables||(this._memoizedTables={});if(S(l,s))return l[s];var c=this.schema[s];if(!c)throw new $.NotFound("Table "+s+" not part of transaction");return c=new this.db.Table(s,c,this),c.core=this.db.core.table(s),l[s]=c},Mn);function Mn(){}function ka(s,l,c,d,h,m,y,b){return{name:s,keyPath:l,unique:c,multi:d,auto:h,compound:m,src:(c&&!y?"&":"")+(d?"*":"")+(h?"++":"")+Od(l),type:b}}function Od(s){return typeof s=="string"?s:s?"["+[].join.call(s,"+")+"]":""}function ja(s,l,c){return{name:s,primKey:l,indexes:c,mappedClass:null,idxByName:(d=function(h){return[h.name,h]},c.reduce(function(h,m,y){return y=d(m,y),y&&(h[y[0]]=y[1]),h},{}))};var d}var Es=function(s){try{return s.only([[]]),Es=function(){return[[]]},[[]]}catch{return Es=function(){return Kt},Kt}};function Na(s){return s==null?function(){}:typeof s=="string"?(l=s).split(".").length===1?function(c){return c[l]}:function(c){return Z(c,l)}:function(c){return Z(c,s)};var l}function Md(s){return[].slice.call(s)}var Cy=0;function _s(s){return s==null?":id":typeof s=="string"?s:"[".concat(s.join("+"),"]")}function Ey(s,l,E){function d(L){if(L.type===3)return null;if(L.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var T=L.lower,R=L.upper,O=L.lowerOpen,L=L.upperOpen;return T===void 0?R===void 0?null:l.upperBound(R,!!L):R===void 0?l.lowerBound(T,!!O):l.bound(T,R,!!O,!!L)}function h(F){var T,R=F.name;return{name:R,schema:F,mutate:function(O){var L=O.trans,A=O.type,D=O.keys,K=O.values,q=O.range;return new Promise(function(le,ce){le=Be(le);var ne=L.objectStore(R),ae=ne.keyPath==null,fe=A==="put"||A==="add";if(!fe&&A!=="delete"&&A!=="deleteRange")throw new Error("Invalid operation type: "+A);var ue,pe=(D||K||{length:1}).length;if(D&&K&&D.length!==K.length)throw new Error("Given keys array must have same length as given values array.");if(pe===0)return le({numFailures:0,failures:{},results:[],lastResult:void 0});function Te(Tt){++Ht,Ns(Tt)}var Oe=[],Me=[],Ht=0;if(A==="deleteRange"){if(q.type===4)return le({numFailures:Ht,failures:Me,results:[],lastResult:void 0});q.type===3?Oe.push(ue=ne.clear()):Oe.push(ue=ne.delete(d(q)))}else{var ae=fe?ae?[K,D]:[K,null]:[D,null],_e=ae[0],kt=ae[1];if(fe)for(var jt=0;jt<pe;++jt)Oe.push(ue=kt&&kt[jt]!==void 0?ne[A](_e[jt],kt[jt]):ne[A](_e[jt])),ue.onerror=Te;else for(jt=0;jt<pe;++jt)Oe.push(ue=ne[A](_e[jt])),ue.onerror=Te}function Ho(Tt){Tt=Tt.target.result,Oe.forEach(function(ni,Ka){return ni.error!=null&&(Me[Ka]=ni.error)}),le({numFailures:Ht,failures:Me,results:A==="delete"?D:Oe.map(function(ni){return ni.result}),lastResult:Tt})}ue.onerror=function(Tt){Te(Tt),Ho(Tt)},ue.onsuccess=Ho})},getMany:function(O){var L=O.trans,A=O.keys;return new Promise(function(D,K){D=Be(D);for(var q,le=L.objectStore(R),ce=A.length,ne=new Array(ce),ae=0,fe=0,ue=function(Oe){Oe=Oe.target,ne[Oe._pos]=Oe.result,++fe===ae&&D(ne)},pe=On(K),Te=0;Te<ce;++Te)A[Te]!=null&&((q=le.get(A[Te]))._pos=Te,q.onsuccess=ue,q.onerror=pe,++ae);ae===0&&D(ne)})},get:function(O){var L=O.trans,A=O.key;return new Promise(function(D,K){D=Be(D);var q=L.objectStore(R).get(A);q.onsuccess=function(le){return D(le.target.result)},q.onerror=On(K)})},query:(T=P,function(O){return new Promise(function(L,A){L=Be(L);var D,K,q,ae=O.trans,le=O.values,ce=O.limit,ue=O.query,ne=ce===1/0?void 0:ce,fe=ue.index,ue=ue.range,ae=ae.objectStore(R),fe=fe.isPrimaryKey?ae:ae.index(fe.name),ue=d(ue);if(ce===0)return L({result:[]});T?((ne=le?fe.getAll(ue,ne):fe.getAllKeys(ue,ne)).onsuccess=function(pe){return L({result:pe.target.result})},ne.onerror=On(A)):(D=0,K=!le&&"openKeyCursor"in fe?fe.openKeyCursor(ue):fe.openCursor(ue),q=[],K.onsuccess=function(pe){var Te=K.result;return Te?(q.push(le?Te.value:Te.primaryKey),++D===ce?L({result:q}):void Te.continue()):L({result:q})},K.onerror=On(A))})}),openCursor:function(O){var L=O.trans,A=O.values,D=O.query,K=O.reverse,q=O.unique;return new Promise(function(le,ce){le=Be(le);var fe=D.index,ne=D.range,ae=L.objectStore(R),ae=fe.isPrimaryKey?ae:ae.index(fe.name),fe=K?q?"prevunique":"prev":q?"nextunique":"next",ue=!A&&"openKeyCursor"in ae?ae.openKeyCursor(d(ne),fe):ae.openCursor(d(ne),fe);ue.onerror=On(ce),ue.onsuccess=Be(function(pe){var Te,Oe,Me,Ht,_e=ue.result;_e?(_e.___id=++Cy,_e.done=!1,Te=_e.continue.bind(_e),Oe=(Oe=_e.continuePrimaryKey)&&Oe.bind(_e),Me=_e.advance.bind(_e),Ht=function(){throw new Error("Cursor not stopped")},_e.trans=L,_e.stop=_e.continue=_e.continuePrimaryKey=_e.advance=function(){throw new Error("Cursor not started")},_e.fail=Be(ce),_e.next=function(){var kt=this,jt=1;return this.start(function(){return jt--?kt.continue():kt.stop()}).then(function(){return kt})},_e.start=function(kt){function jt(){if(ue.result)try{kt()}catch(Tt){_e.fail(Tt)}else _e.done=!0,_e.start=function(){throw new Error("Cursor behind last entry")},_e.stop()}var Ho=new Promise(function(Tt,ni){Tt=Be(Tt),ue.onerror=On(ni),_e.fail=ni,_e.stop=function(Ka){_e.stop=_e.continue=_e.continuePrimaryKey=_e.advance=Ht,Tt(Ka)}});return ue.onsuccess=Be(function(Tt){ue.onsuccess=jt,jt()}),_e.continue=Te,_e.continuePrimaryKey=Oe,_e.advance=Me,jt(),Ho},le(_e)):le(null)},ce)})},count:function(O){var L=O.query,A=O.trans,D=L.index,K=L.range;return new Promise(function(q,le){var ce=A.objectStore(R),ne=D.isPrimaryKey?ce:ce.index(D.name),ce=d(K),ne=ce?ne.count(ce):ne.count();ne.onsuccess=Be(function(ae){return q(ae.target.result)}),ne.onerror=On(le)})}}}var m,y,b,M=(y=E,b=Md((m=s).objectStoreNames),{schema:{name:m.name,tables:b.map(function(F){return y.objectStore(F)}).map(function(F){var T=F.keyPath,L=F.autoIncrement,R=f(T),O={},L={name:F.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:T==null,compound:R,keyPath:T,autoIncrement:L,unique:!0,extractKey:Na(T)},indexes:Md(F.indexNames).map(function(A){return F.index(A)}).map(function(q){var D=q.name,K=q.unique,le=q.multiEntry,q=q.keyPath,le={name:D,compound:f(q),keyPath:q,unique:K,multiEntry:le,extractKey:Na(q)};return O[_s(q)]=le}),getIndexByKeyPath:function(A){return O[_s(A)]}};return O[":id"]=L.primaryKey,T!=null&&(O[_s(T)]=L.primaryKey),L})},hasGetAll:0<b.length&&"getAll"in y.objectStore(b[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),E=M.schema,P=M.hasGetAll,M=E.tables.map(h),j={};return M.forEach(function(F){return j[F.name]=F}),{stack:"dbcore",transaction:s.transaction.bind(s),table:function(F){if(!j[F])throw new Error("Table '".concat(F,"' not found"));return j[F]},MIN_KEY:-1/0,MAX_KEY:Es(l),schema:E}}function _y(s,l,c,d){var h=c.IDBKeyRange;return c.indexedDB,{dbcore:(d=Ey(l,h,d),s.dbcore.reduce(function(m,y){return y=y.create,r(r({},m),y(m))},d))}}function Lo(s,d){var c=d.db,d=_y(s._middlewares,c,s._deps,d);s.core=d.dbcore,s.tables.forEach(function(h){var m=h.name;s.core.schema.tables.some(function(y){return y.name===m})&&(h.core=s.core.table(m),s[m]instanceof s.Table&&(s[m].core=h.core))})}function Fo(s,l,c,d){c.forEach(function(h){var m=d[h];l.forEach(function(y){var b=function E(P,M){return Q(P,M)||(P=g(P))&&E(P,M)}(y,h);(!b||"value"in b&&b.value===void 0)&&(y===s.Transaction.prototype||y instanceof s.Transaction?z(y,h,{get:function(){return this.table(h)},set:function(E){B(this,h,{value:E,writable:!0,configurable:!0,enumerable:!0})}}):y[h]=new s.Table(h,m))})})}function Ca(s,l){l.forEach(function(c){for(var d in c)c[d]instanceof s.Table&&delete c[d]})}function Py(s,l){return s._cfg.version-l._cfg.version}function Ty(s,l,c,d){var h=s._dbSchema;c.objectStoreNames.contains("$meta")&&!h.$meta&&(h.$meta=ja("$meta",Fd("")[0],[]),s._storeNames.push("$meta"));var m=s._createTransaction("readwrite",s._storeNames,h);m.create(c),m._completion.catch(d);var y=m._reject.bind(m),b=ge.transless||ge;mn(function(){return ge.trans=m,ge.transless=b,l!==0?(Lo(s,c),P=l,((E=m).storeNames.includes("$meta")?E.table("$meta").get("version").then(function(M){return M??P}):de.resolve(P)).then(function(M){return F=M,T=m,R=c,O=[],M=(j=s)._versions,L=j._dbSchema=Ao(0,j.idbdb,R),(M=M.filter(function(A){return A._cfg.version>=F})).length!==0?(M.forEach(function(A){O.push(function(){var D=L,K=A._cfg.dbschema;zo(j,D,R),zo(j,K,R),L=j._dbSchema=K;var q=Ea(D,K);q.add.forEach(function(fe){_a(R,fe[0],fe[1].primKey,fe[1].indexes)}),q.change.forEach(function(fe){if(fe.recreate)throw new $.Upgrade("Not yet support for changing primary key");var ue=R.objectStore(fe.name);fe.add.forEach(function(pe){return Io(ue,pe)}),fe.change.forEach(function(pe){ue.deleteIndex(pe.name),Io(ue,pe)}),fe.del.forEach(function(pe){return ue.deleteIndex(pe)})});var le=A._cfg.contentUpgrade;if(le&&A._cfg.version>F){Lo(j,R),T._memoizedTables={};var ce=J(K);q.del.forEach(function(fe){ce[fe]=D[fe]}),Ca(j,[j.Transaction.prototype]),Fo(j,[j.Transaction.prototype],u(ce),ce),T.schema=ce;var ne,ae=we(le);return ae&&gr(),q=de.follow(function(){var fe;(ne=le(T))&&ae&&(fe=En.bind(null,null),ne.then(fe,fe))}),ne&&typeof ne.then=="function"?de.resolve(ne):q.then(function(){return ne})}}),O.push(function(D){var K,q,le=A._cfg.dbschema;K=le,q=D,[].slice.call(q.db.objectStoreNames).forEach(function(ce){return K[ce]==null&&q.db.deleteObjectStore(ce)}),Ca(j,[j.Transaction.prototype]),Fo(j,[j.Transaction.prototype],j._storeNames,j._dbSchema),T.schema=j._dbSchema}),O.push(function(D){j.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(j.idbdb.version/10)===A._cfg.version?(j.idbdb.deleteObjectStore("$meta"),delete j._dbSchema.$meta,j._storeNames=j._storeNames.filter(function(K){return K!=="$meta"})):D.objectStore("$meta").put(A._cfg.version,"version"))})}),function A(){return O.length?de.resolve(O.shift()(T.idbtrans)).then(A):de.resolve()}().then(function(){Ld(L,R)})):de.resolve();var j,F,T,R,O,L}).catch(y)):(u(h).forEach(function(M){_a(c,M,h[M].primKey,h[M].indexes)}),Lo(s,c),void de.follow(function(){return s.on.populate.fire(m)}).catch(y));var E,P})}function Ry(s,l){Ld(s._dbSchema,l),l.db.version%10!=0||l.objectStoreNames.contains("$meta")||l.db.createObjectStore("$meta").add(Math.ceil(l.db.version/10-1),"version");var c=Ao(0,s.idbdb,l);zo(s,s._dbSchema,l);for(var d=0,h=Ea(c,s._dbSchema).change;d<h.length;d++){var m=function(y){if(y.change.length||y.recreate)return console.warn("Unable to patch indexes of table ".concat(y.name," because it has changes on the type of index or primary key.")),{value:void 0};var b=l.objectStore(y.name);y.add.forEach(function(E){Pt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(y.name,".").concat(E.src)),Io(b,E)})}(h[d]);if(typeof m=="object")return m.value}}function Ea(s,l){var c,d={del:[],add:[],change:[]};for(c in s)l[c]||d.del.push(c);for(c in l){var h=s[c],m=l[c];if(h){var y={name:c,def:m,recreate:!1,del:[],add:[],change:[]};if(""+(h.primKey.keyPath||"")!=""+(m.primKey.keyPath||"")||h.primKey.auto!==m.primKey.auto)y.recreate=!0,d.change.push(y);else{var b=h.idxByName,E=m.idxByName,P=void 0;for(P in b)E[P]||y.del.push(P);for(P in E){var M=b[P],j=E[P];M?M.src!==j.src&&y.change.push(j):y.add.push(j)}(0<y.del.length||0<y.add.length||0<y.change.length)&&d.change.push(y)}}else d.add.push([c,m])}return d}function _a(s,l,c,d){var h=s.db.createObjectStore(l,c.keyPath?{keyPath:c.keyPath,autoIncrement:c.auto}:{autoIncrement:c.auto});return d.forEach(function(m){return Io(h,m)}),h}function Ld(s,l){u(s).forEach(function(c){l.db.objectStoreNames.contains(c)||(Pt&&console.debug("Dexie: Creating missing table",c),_a(l,c,s[c].primKey,s[c].indexes))})}function Io(s,l){s.createIndex(l.name,l.keyPath,{unique:l.unique,multiEntry:l.multi})}function Ao(s,l,c){var d={};return v(l.objectStoreNames,0).forEach(function(h){for(var m=c.objectStore(h),y=ka(Od(P=m.keyPath),P||"",!0,!1,!!m.autoIncrement,P&&typeof P!="string",!0),b=[],E=0;E<m.indexNames.length;++E){var M=m.index(m.indexNames[E]),P=M.keyPath,M=ka(M.name,P,!!M.unique,!!M.multiEntry,!1,P&&typeof P!="string",!1);b.push(M)}d[h]=ja(h,y,b)}),d}function zo(s,l,c){for(var d=c.db.objectStoreNames,h=0;h<d.length;++h){var m=d[h],y=c.objectStore(m);s._hasGetAll="getAll"in y;for(var b=0;b<y.indexNames.length;++b){var E=y.indexNames[b],P=y.index(E).keyPath,M=typeof P=="string"?P:"["+v(P).join("+")+"]";!l[m]||(P=l[m].idxByName[M])&&(P.name=E,delete l[m].idxByName[M],l[m].idxByName[E]=P)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(s._hasGetAll=!1)}function Fd(s){return s.split(",").map(function(l,c){var m=l.split(":"),d=(h=m[1])===null||h===void 0?void 0:h.trim(),h=(l=m[0].trim()).replace(/([&*]|\+\+)/g,""),m=/^\[/.test(h)?h.match(/^\[(.*)\]$/)[1].split("+"):h;return ka(h,m||null,/\&/.test(l),/\*/.test(l),/\+\+/.test(l),f(m),c===0,d)})}var Oy=(Ii.prototype._createTableSchema=ja,Ii.prototype._parseIndexSyntax=Fd,Ii.prototype._parseStoresSpec=function(s,l){var c=this;u(s).forEach(function(d){if(s[d]!==null){var h=c._parseIndexSyntax(s[d]),m=h.shift();if(!m)throw new $.Schema("Invalid schema for table "+d+": "+s[d]);if(m.unique=!0,m.multi)throw new $.Schema("Primary key cannot be multiEntry*");h.forEach(function(y){if(y.auto)throw new $.Schema("Only primary key can be marked as autoIncrement (++)");if(!y.keyPath)throw new $.Schema("Index must have a name and cannot be an empty string")}),h=c._createTableSchema(d,m,h),l[d]=h}})},Ii.prototype.stores=function(c){var l=this.db;this._cfg.storesSource=this._cfg.storesSource?p(this._cfg.storesSource,c):c;var c=l._versions,d={},h={};return c.forEach(function(m){p(d,m._cfg.storesSource),h=m._cfg.dbschema={},m._parseStoresSpec(d,h)}),l._dbSchema=h,Ca(l,[l._allTables,l,l.Transaction.prototype]),Fo(l,[l._allTables,l,l.Transaction.prototype,this._cfg.tables],u(h),h),l._storeNames=u(h),this},Ii.prototype.upgrade=function(s){return this._cfg.contentUpgrade=ws(this._cfg.contentUpgrade||ve,s),this},Ii);function Ii(){}function Pa(s,l){var c=s._dbNamesDB;return c||(c=s._dbNamesDB=new Gn(_n,{addons:[],indexedDB:s,IDBKeyRange:l})).version(1).stores({dbnames:"name"}),c.table("dbnames")}function Ta(s){return s&&typeof s.databases=="function"}function Ra(s){return mn(function(){return ge.letThrough=!0,s()})}function Oa(s){return!("from"in s)}var St=function(s,l){if(!this){var c=new St;return s&&"d"in s&&p(c,s),c}p(this,arguments.length?{d:1,from:s,to:1<arguments.length?l:s}:{d:0})};function Ps(s,l,c){var d=Pe(l,c);if(!isNaN(d)){if(0<d)throw RangeError();if(Oa(s))return p(s,{from:l,to:c,d:1});var h=s.l,d=s.r;if(Pe(c,s.from)<0)return h?Ps(h,l,c):s.l={from:l,to:c,d:1,l:null,r:null},Ad(s);if(0<Pe(l,s.to))return d?Ps(d,l,c):s.r={from:l,to:c,d:1,l:null,r:null},Ad(s);Pe(l,s.from)<0&&(s.from=l,s.l=null,s.d=d?d.d+1:1),0<Pe(c,s.to)&&(s.to=c,s.r=null,s.d=s.l?s.l.d+1:1),c=!s.r,h&&!s.l&&Ts(s,h),d&&c&&Ts(s,d)}}function Ts(s,l){Oa(l)||function c(d,E){var m=E.from,y=E.to,b=E.l,E=E.r;Ps(d,m,y),b&&c(d,b),E&&c(d,E)}(s,l)}function Id(s,l){var c=Do(l),d=c.next();if(d.done)return!1;for(var h=d.value,m=Do(s),y=m.next(h.from),b=y.value;!d.done&&!y.done;){if(Pe(b.from,h.to)<=0&&0<=Pe(b.to,h.from))return!0;Pe(h.from,b.from)<0?h=(d=c.next(b.from)).value:b=(y=m.next(h.from)).value}return!1}function Do(s){var l=Oa(s)?null:{s:0,n:s};return{next:function(c){for(var d=0<arguments.length;l;)switch(l.s){case 0:if(l.s=1,d)for(;l.n.l&&Pe(c,l.n.from)<0;)l={up:l,n:l.n.l,s:1};else for(;l.n.l;)l={up:l,n:l.n.l,s:1};case 1:if(l.s=2,!d||Pe(c,l.n.to)<=0)return{value:l.n,done:!1};case 2:if(l.n.r){l.s=3,l={up:l,n:l.n.r,s:0};continue}case 3:l=l.up}return{done:!0}}}}function Ad(s){var l,c,d=(((l=s.r)===null||l===void 0?void 0:l.d)||0)-(((c=s.l)===null||c===void 0?void 0:c.d)||0),h=1<d?"r":d<-1?"l":"";h&&(l=h=="r"?"l":"r",c=r({},s),d=s[h],s.from=d.from,s.to=d.to,s[h]=d[h],c[h]=d[l],(s[l]=c).d=zd(c)),s.d=zd(s)}function zd(c){var l=c.r,c=c.l;return(l?c?Math.max(l.d,c.d):l.d:c?c.d:0)+1}function Uo(s,l){return u(l).forEach(function(c){s[c]?Ts(s[c],l[c]):s[c]=function d(h){var m,y,b={};for(m in h)S(h,m)&&(y=h[m],b[m]=!y||typeof y!="object"||Le.has(y.constructor)?y:d(y));return b}(l[c])}),s}function Ma(s,l){return s.all||l.all||Object.keys(s).some(function(c){return l[c]&&Id(l[c],s[c])})}_(St.prototype,((on={add:function(s){return Ts(this,s),this},addKey:function(s){return Ps(this,s,s),this},addKeys:function(s){var l=this;return s.forEach(function(c){return Ps(l,c,c)}),this},hasKey:function(s){var l=Do(this).next(s).value;return l&&Pe(l.from,s)<=0&&0<=Pe(l.to,s)}})[Y]=function(){return Do(this)},on));var ei={},La={},Fa=!1;function $o(s){Uo(La,s),Fa||(Fa=!0,setTimeout(function(){Fa=!1,Ia(La,!(La={}))},0))}function Ia(s,l){l===void 0&&(l=!1);var c=new Set;if(s.all)for(var d=0,h=Object.values(ei);d<h.length;d++)Dd(y=h[d],s,c,l);else for(var m in s){var y,b=/^idb\:\/\/(.*)\/(.*)\//.exec(m);b&&(m=b[1],b=b[2],(y=ei["idb://".concat(m,"/").concat(b)])&&Dd(y,s,c,l))}c.forEach(function(E){return E()})}function Dd(s,l,c,d){for(var h=[],m=0,y=Object.entries(s.queries.query);m<y.length;m++){for(var b=y[m],E=b[0],P=[],M=0,j=b[1];M<j.length;M++){var F=j[M];Ma(l,F.obsSet)?F.subscribers.forEach(function(L){return c.add(L)}):d&&P.push(F)}d&&h.push([E,P])}if(d)for(var T=0,R=h;T<R.length;T++){var O=R[T],E=O[0],P=O[1];s.queries.query[E]=P}}function My(s){var l=s._state,c=s._deps.indexedDB;if(l.isBeingOpened||s.idbdb)return l.dbReadyPromise.then(function(){return l.dbOpenError?We(l.dbOpenError):s});l.isBeingOpened=!0,l.dbOpenError=null,l.openComplete=!1;var d=l.openCanceller,h=Math.round(10*s.verno),m=!1;function y(){if(l.openCanceller!==d)throw new $.DatabaseClosed("db.open() was cancelled")}function b(){return new de(function(F,T){if(y(),!c)throw new $.MissingAPI;var R=s.name,O=l.autoSchema||!h?c.open(R):c.open(R,h);if(!O)throw new $.MissingAPI;O.onerror=On(T),O.onblocked=Be(s._fireOnBlocked),O.onupgradeneeded=Be(function(L){var A;M=O.transaction,l.autoSchema&&!s._options.allowEmptyDB?(O.onerror=Ns,M.abort(),O.result.close(),(A=c.deleteDatabase(R)).onsuccess=A.onerror=Be(function(){T(new $.NoSuchDatabase("Database ".concat(R," doesnt exist")))})):(M.onerror=On(T),L=L.oldVersion>Math.pow(2,62)?0:L.oldVersion,j=L<1,s.idbdb=O.result,m&&Ry(s,M),Ty(s,L/10,M,T))},T),O.onsuccess=Be(function(){M=null;var L,A,D,K,q,le=s.idbdb=O.result,ce=v(le.objectStoreNames);if(0<ce.length)try{var ne=le.transaction((K=ce).length===1?K[0]:K,"readonly");if(l.autoSchema)A=le,D=ne,(L=s).verno=A.version/10,D=L._dbSchema=Ao(0,A,D),L._storeNames=v(A.objectStoreNames,0),Fo(L,[L._allTables],u(D),D);else if(zo(s,s._dbSchema,ne),((q=Ea(Ao(0,(q=s).idbdb,ne),q._dbSchema)).add.length||q.change.some(function(ae){return ae.add.length||ae.change.length}))&&!m)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),le.close(),h=le.version+1,m=!0,F(b());Lo(s,ne)}catch{}rn.push(s),le.onversionchange=Be(function(ae){l.vcFired=!0,s.on("versionchange").fire(ae)}),le.onclose=Be(function(){s.close({disableAutoOpen:!1})}),j&&(q=s._deps,ne=R,le=q.indexedDB,q=q.IDBKeyRange,Ta(le)||ne===_n||Pa(le,q).put({name:ne}).catch(ve)),F()},T)}).catch(function(F){switch(F==null?void 0:F.name){case"UnknownError":if(0<l.PR1398_maxLoop)return l.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),b();break;case"VersionError":if(0<h)return h=0,b()}return de.reject(F)})}var E,P=l.dbReadyResolve,M=null,j=!1;return de.race([d,(typeof navigator>"u"?de.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(F){function T(){return indexedDB.databases().finally(F)}E=setInterval(T,100),T()}).finally(function(){return clearInterval(E)}):Promise.resolve()).then(b)]).then(function(){return y(),l.onReadyBeingFired=[],de.resolve(Ra(function(){return s.on.ready.fire(s.vip)})).then(function F(){if(0<l.onReadyBeingFired.length){var T=l.onReadyBeingFired.reduce(ws,ve);return l.onReadyBeingFired=[],de.resolve(Ra(function(){return T(s.vip)})).then(F)}})}).finally(function(){l.openCanceller===d&&(l.onReadyBeingFired=null,l.isBeingOpened=!1)}).catch(function(F){l.dbOpenError=F;try{M&&M.abort()}catch{}return d===l.openCanceller&&s._close(),We(F)}).finally(function(){l.openComplete=!0,P()}).then(function(){var F;return j&&(F={},s.tables.forEach(function(T){T.schema.indexes.forEach(function(R){R.name&&(F["idb://".concat(s.name,"/").concat(T.name,"/").concat(R.name)]=new St(-1/0,[[[]]]))}),F["idb://".concat(s.name,"/").concat(T.name,"/")]=F["idb://".concat(s.name,"/").concat(T.name,"/:dels")]=new St(-1/0,[[[]]])}),Sr(Cs).fire(F),Ia(F,!0)),s})}function Aa(s){function l(m){return s.next(m)}var c=h(l),d=h(function(m){return s.throw(m)});function h(m){return function(E){var b=m(E),E=b.value;return b.done?E:E&&typeof E.then=="function"?E.then(c,d):f(E)?Promise.all(E).then(c,d):c(E)}}return h(l)()}function Bo(s,l,c){for(var d=f(s)?s.slice():[s],h=0;h<c;++h)d.push(l);return d}var Ly={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(s){return r(r({},s),{table:function(l){var c=s.table(l),d=c.schema,h={},m=[];function y(j,F,T){var R=_s(j),O=h[R]=h[R]||[],L=j==null?0:typeof j=="string"?1:j.length,A=0<F,A=r(r({},T),{name:A?"".concat(R,"(virtual-from:").concat(T.name,")"):T.name,lowLevelIndex:T,isVirtual:A,keyTail:F,keyLength:L,extractKey:Na(j),unique:!A&&T.unique});return O.push(A),A.isPrimaryKey||m.push(A),1<L&&y(L===2?j[0]:j.slice(0,L-1),F+1,T),O.sort(function(D,K){return D.keyTail-K.keyTail}),A}l=y(d.primaryKey.keyPath,0,d.primaryKey),h[":id"]=[l];for(var b=0,E=d.indexes;b<E.length;b++){var P=E[b];y(P.keyPath,0,P)}function M(j){var F,T=j.query.index;return T.isVirtual?r(r({},j),{query:{index:T.lowLevelIndex,range:(F=j.query.range,T=T.keyTail,{type:F.type===1?2:F.type,lower:Bo(F.lower,F.lowerOpen?s.MAX_KEY:s.MIN_KEY,T),lowerOpen:!0,upper:Bo(F.upper,F.upperOpen?s.MIN_KEY:s.MAX_KEY,T),upperOpen:!0})}}):j}return r(r({},c),{schema:r(r({},d),{primaryKey:l,indexes:m,getIndexByKeyPath:function(j){return(j=h[_s(j)])&&j[0]}}),count:function(j){return c.count(M(j))},query:function(j){return c.query(M(j))},openCursor:function(j){var F=j.query.index,T=F.keyTail,R=F.isVirtual,O=F.keyLength;return R?c.openCursor(M(j)).then(function(A){return A&&L(A)}):c.openCursor(j);function L(A){return Object.create(A,{continue:{value:function(D){D!=null?A.continue(Bo(D,j.reverse?s.MAX_KEY:s.MIN_KEY,T)):j.unique?A.continue(A.key.slice(0,O).concat(j.reverse?s.MIN_KEY:s.MAX_KEY,T)):A.continue()}},continuePrimaryKey:{value:function(D,K){A.continuePrimaryKey(Bo(D,s.MAX_KEY,T),K)}},primaryKey:{get:function(){return A.primaryKey}},key:{get:function(){var D=A.key;return O===1?D[0]:D.slice(0,O)}},value:{get:function(){return A.value}}})}}})}})}};function za(s,l,c,d){return c=c||{},d=d||"",u(s).forEach(function(h){var m,y,b;S(l,h)?(m=s[h],y=l[h],typeof m=="object"&&typeof y=="object"&&m&&y?(b=oe(m))!==oe(y)?c[d+h]=l[h]:b==="Object"?za(m,y,c,d+h+"."):m!==y&&(c[d+h]=l[h]):m!==y&&(c[d+h]=l[h])):c[d+h]=void 0}),u(l).forEach(function(h){S(s,h)||(c[d+h]=l[h])}),c}function Da(s,l){return l.type==="delete"?l.keys:l.keys||l.values.map(s.extractKey)}var Fy={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(s){return r(r({},s),{table:function(l){var c=s.table(l),d=c.schema.primaryKey;return r(r({},c),{mutate:function(h){var m=ge.trans,y=m.table(l).hook,b=y.deleting,E=y.creating,P=y.updating;switch(h.type){case"add":if(E.fire===ve)break;return m._promise("readwrite",function(){return M(h)},!0);case"put":if(E.fire===ve&&P.fire===ve)break;return m._promise("readwrite",function(){return M(h)},!0);case"delete":if(b.fire===ve)break;return m._promise("readwrite",function(){return M(h)},!0);case"deleteRange":if(b.fire===ve)break;return m._promise("readwrite",function(){return function j(F,T,R){return c.query({trans:F,values:!1,query:{index:d,range:T},limit:R}).then(function(O){var L=O.result;return M({type:"delete",keys:L,trans:F}).then(function(A){return 0<A.numFailures?Promise.reject(A.failures[0]):L.length<R?{failures:[],numFailures:0,lastResult:void 0}:j(F,r(r({},T),{lower:L[L.length-1],lowerOpen:!0}),R)})})}(h.trans,h.range,1e4)},!0)}return c.mutate(h);function M(j){var F,T,R,O=ge.trans,L=j.keys||Da(d,j);if(!L)throw new Error("Keys missing");return(j=j.type==="add"||j.type==="put"?r(r({},j),{keys:L}):r({},j)).type!=="delete"&&(j.values=i([],j.values)),j.keys&&(j.keys=i([],j.keys)),F=c,R=L,((T=j).type==="add"?Promise.resolve([]):F.getMany({trans:T.trans,keys:R,cache:"immutable"})).then(function(A){var D=L.map(function(K,q){var le,ce,ne,ae=A[q],fe={onerror:null,onsuccess:null};return j.type==="delete"?b.fire.call(fe,K,ae,O):j.type==="add"||ae===void 0?(le=E.fire.call(fe,K,j.values[q],O),K==null&&le!=null&&(j.keys[q]=K=le,d.outbound||X(j.values[q],d.keyPath,K))):(le=za(ae,j.values[q]),(ce=P.fire.call(fe,le,K,ae,O))&&(ne=j.values[q],Object.keys(ce).forEach(function(ue){S(ne,ue)?ne[ue]=ce[ue]:X(ne,ue,ce[ue])}))),fe});return c.mutate(j).then(function(K){for(var q=K.failures,le=K.results,ce=K.numFailures,K=K.lastResult,ne=0;ne<L.length;++ne){var ae=(le||L)[ne],fe=D[ne];ae==null?fe.onerror&&fe.onerror(q[ne]):fe.onsuccess&&fe.onsuccess(j.type==="put"&&A[ne]?j.values[ne]:ae)}return{failures:q,results:le,numFailures:ce,lastResult:K}}).catch(function(K){return D.forEach(function(q){return q.onerror&&q.onerror(K)}),Promise.reject(K)})})}}})}})}};function Ud(s,l,c){try{if(!l||l.keys.length<s.length)return null;for(var d=[],h=0,m=0;h<l.keys.length&&m<s.length;++h)Pe(l.keys[h],s[m])===0&&(d.push(c?se(l.values[h]):l.values[h]),++m);return d.length===s.length?d:null}catch{return null}}var Iy={stack:"dbcore",level:-1,create:function(s){return{table:function(l){var c=s.table(l);return r(r({},c),{getMany:function(d){if(!d.cache)return c.getMany(d);var h=Ud(d.keys,d.trans._cache,d.cache==="clone");return h?de.resolve(h):c.getMany(d).then(function(m){return d.trans._cache={keys:d.keys,values:d.cache==="clone"?se(m):m},m})},mutate:function(d){return d.type!=="add"&&(d.trans._cache=null),c.mutate(d)}})}}}};function $d(s,l){return s.trans.mode==="readonly"&&!!s.subscr&&!s.trans.explicit&&s.trans.db._options.cache!=="disabled"&&!l.schema.primaryKey.outbound}function Bd(s,l){switch(s){case"query":return l.values&&!l.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Ay={stack:"dbcore",level:0,name:"Observability",create:function(s){var l=s.schema.name,c=new St(s.MIN_KEY,s.MAX_KEY);return r(r({},s),{transaction:function(d,h,m){if(ge.subscr&&h!=="readonly")throw new $.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ge.querier));return s.transaction(d,h,m)},table:function(d){var h=s.table(d),m=h.schema,y=m.primaryKey,j=m.indexes,b=y.extractKey,E=y.outbound,P=y.autoIncrement&&j.filter(function(T){return T.compound&&T.keyPath.includes(y.keyPath)}),M=r(r({},h),{mutate:function(T){function R(ue){return ue="idb://".concat(l,"/").concat(d,"/").concat(ue),K[ue]||(K[ue]=new St)}var O,L,A,D=T.trans,K=T.mutatedParts||(T.mutatedParts={}),q=R(""),le=R(":dels"),ce=T.type,fe=T.type==="deleteRange"?[T.range]:T.type==="delete"?[T.keys]:T.values.length<50?[Da(y,T).filter(function(ue){return ue}),T.values]:[],ne=fe[0],ae=fe[1],fe=T.trans._cache;return f(ne)?(q.addKeys(ne),(fe=ce==="delete"||ne.length===ae.length?Ud(ne,fe):null)||le.addKeys(ne),(fe||ae)&&(O=R,L=fe,A=ae,m.indexes.forEach(function(ue){var pe=O(ue.name||"");function Te(Me){return Me!=null?ue.extractKey(Me):null}function Oe(Me){return ue.multiEntry&&f(Me)?Me.forEach(function(Ht){return pe.addKey(Ht)}):pe.addKey(Me)}(L||A).forEach(function(Me,kt){var _e=L&&Te(L[kt]),kt=A&&Te(A[kt]);Pe(_e,kt)!==0&&(_e!=null&&Oe(_e),kt!=null&&Oe(kt))})}))):ne?(ae={from:(ae=ne.lower)!==null&&ae!==void 0?ae:s.MIN_KEY,to:(ae=ne.upper)!==null&&ae!==void 0?ae:s.MAX_KEY},le.add(ae),q.add(ae)):(q.add(c),le.add(c),m.indexes.forEach(function(ue){return R(ue.name).add(c)})),h.mutate(T).then(function(ue){return!ne||T.type!=="add"&&T.type!=="put"||(q.addKeys(ue.results),P&&P.forEach(function(pe){for(var Te=T.values.map(function(_e){return pe.extractKey(_e)}),Oe=pe.keyPath.findIndex(function(_e){return _e===y.keyPath}),Me=0,Ht=ue.results.length;Me<Ht;++Me)Te[Me][Oe]=ue.results[Me];R(pe.name).addKeys(Te)})),D.mutatedParts=Uo(D.mutatedParts||{},K),ue})}}),j=function(R){var O=R.query,R=O.index,O=O.range;return[R,new St((R=O.lower)!==null&&R!==void 0?R:s.MIN_KEY,(O=O.upper)!==null&&O!==void 0?O:s.MAX_KEY)]},F={get:function(T){return[y,new St(T.key)]},getMany:function(T){return[y,new St().addKeys(T.keys)]},count:j,query:j,openCursor:j};return u(F).forEach(function(T){M[T]=function(R){var O=ge.subscr,L=!!O,A=$d(ge,h)&&Bd(T,R)?R.obsSet={}:O;if(L){var D=function(ae){return ae="idb://".concat(l,"/").concat(d,"/").concat(ae),A[ae]||(A[ae]=new St)},K=D(""),q=D(":dels"),O=F[T](R),L=O[0],O=O[1];if((T==="query"&&L.isPrimaryKey&&!R.values?q:D(L.name||"")).add(O),!L.isPrimaryKey){if(T!=="count"){var le=T==="query"&&E&&R.values&&h.query(r(r({},R),{values:!1}));return h[T].apply(this,arguments).then(function(ae){if(T==="query"){if(E&&R.values)return le.then(function(Te){return Te=Te.result,K.addKeys(Te),ae});var fe=R.values?ae.result.map(b):ae.result;(R.values?K:q).addKeys(fe)}else if(T==="openCursor"){var ue=ae,pe=R.values;return ue&&Object.create(ue,{key:{get:function(){return q.addKey(ue.primaryKey),ue.key}},primaryKey:{get:function(){var Te=ue.primaryKey;return q.addKey(Te),Te}},value:{get:function(){return pe&&K.addKey(ue.primaryKey),ue.value}}})}return ae})}q.add(c)}}return h[T].apply(this,arguments)}}),M}})}};function Kd(s,l,c){if(c.numFailures===0)return l;if(l.type==="deleteRange")return null;var d=l.keys?l.keys.length:"values"in l&&l.values?l.values.length:1;return c.numFailures===d?null:(l=r({},l),f(l.keys)&&(l.keys=l.keys.filter(function(h,m){return!(m in c.failures)})),"values"in l&&f(l.values)&&(l.values=l.values.filter(function(h,m){return!(m in c.failures)})),l)}function Ua(s,l){return c=s,((d=l).lower===void 0||(d.lowerOpen?0<Pe(c,d.lower):0<=Pe(c,d.lower)))&&(s=s,(l=l).upper===void 0||(l.upperOpen?Pe(s,l.upper)<0:Pe(s,l.upper)<=0));var c,d}function Wd(s,l,F,d,h,m){if(!F||F.length===0)return s;var y=l.query.index,b=y.multiEntry,E=l.query.range,P=d.schema.primaryKey.extractKey,M=y.extractKey,j=(y.lowLevelIndex||y).extractKey,F=F.reduce(function(T,R){var O=T,L=[];if(R.type==="add"||R.type==="put")for(var A=new St,D=R.values.length-1;0<=D;--D){var K,q=R.values[D],le=P(q);A.hasKey(le)||(K=M(q),(b&&f(K)?K.some(function(ue){return Ua(ue,E)}):Ua(K,E))&&(A.addKey(le),L.push(q)))}switch(R.type){case"add":var ce=new St().addKeys(l.values?T.map(function(pe){return P(pe)}):T),O=T.concat(l.values?L.filter(function(pe){return pe=P(pe),!ce.hasKey(pe)&&(ce.addKey(pe),!0)}):L.map(function(pe){return P(pe)}).filter(function(pe){return!ce.hasKey(pe)&&(ce.addKey(pe),!0)}));break;case"put":var ne=new St().addKeys(R.values.map(function(pe){return P(pe)}));O=T.filter(function(pe){return!ne.hasKey(l.values?P(pe):pe)}).concat(l.values?L:L.map(function(pe){return P(pe)}));break;case"delete":var ae=new St().addKeys(R.keys);O=T.filter(function(pe){return!ae.hasKey(l.values?P(pe):pe)});break;case"deleteRange":var fe=R.range;O=T.filter(function(pe){return!Ua(P(pe),fe)})}return O},s);return F===s?s:(F.sort(function(T,R){return Pe(j(T),j(R))||Pe(P(T),P(R))}),l.limit&&l.limit<1/0&&(F.length>l.limit?F.length=l.limit:s.length===l.limit&&F.length<l.limit&&(h.dirty=!0)),m?Object.freeze(F):F)}function Hd(s,l){return Pe(s.lower,l.lower)===0&&Pe(s.upper,l.upper)===0&&!!s.lowerOpen==!!l.lowerOpen&&!!s.upperOpen==!!l.upperOpen}function zy(s,l){return function(c,d,h,m){if(c===void 0)return d!==void 0?-1:0;if(d===void 0)return 1;if((d=Pe(c,d))===0){if(h&&m)return 0;if(h)return 1;if(m)return-1}return d}(s.lower,l.lower,s.lowerOpen,l.lowerOpen)<=0&&0<=function(c,d,h,m){if(c===void 0)return d!==void 0?1:0;if(d===void 0)return-1;if((d=Pe(c,d))===0){if(h&&m)return 0;if(h)return-1;if(m)return 1}return d}(s.upper,l.upper,s.upperOpen,l.upperOpen)}function Dy(s,l,c,d){s.subscribers.add(c),d.addEventListener("abort",function(){var h,m;s.subscribers.delete(c),s.subscribers.size===0&&(h=s,m=l,setTimeout(function(){h.subscribers.size===0&&V(m,h)},3e3))})}var Uy={stack:"dbcore",level:0,name:"Cache",create:function(s){var l=s.schema.name;return r(r({},s),{transaction:function(c,d,h){var m,y,b=s.transaction(c,d,h);return d==="readwrite"&&(y=(m=new AbortController).signal,h=function(E){return function(){if(m.abort(),d==="readwrite"){for(var P=new Set,M=0,j=c;M<j.length;M++){var F=j[M],T=ei["idb://".concat(l,"/").concat(F)];if(T){var R=s.table(F),O=T.optimisticOps.filter(function(pe){return pe.trans===b});if(b._explicit&&E&&b.mutatedParts)for(var L=0,A=Object.values(T.queries.query);L<A.length;L++)for(var D=0,K=(ce=A[L]).slice();D<K.length;D++)Ma((ne=K[D]).obsSet,b.mutatedParts)&&(V(ce,ne),ne.subscribers.forEach(function(pe){return P.add(pe)}));else if(0<O.length){T.optimisticOps=T.optimisticOps.filter(function(pe){return pe.trans!==b});for(var q=0,le=Object.values(T.queries.query);q<le.length;q++)for(var ce,ne,ae,fe=0,ue=(ce=le[q]).slice();fe<ue.length;fe++)(ne=ue[fe]).res!=null&&b.mutatedParts&&(E&&!ne.dirty?(ae=Object.isFrozen(ne.res),ae=Wd(ne.res,ne.req,O,R,ne,ae),ne.dirty?(V(ce,ne),ne.subscribers.forEach(function(pe){return P.add(pe)})):ae!==ne.res&&(ne.res=ae,ne.promise=de.resolve({result:ae}))):(ne.dirty&&V(ce,ne),ne.subscribers.forEach(function(pe){return P.add(pe)})))}}}P.forEach(function(pe){return pe()})}}},b.addEventListener("abort",h(!1),{signal:y}),b.addEventListener("error",h(!1),{signal:y}),b.addEventListener("complete",h(!0),{signal:y})),b},table:function(c){var d=s.table(c),h=d.schema.primaryKey;return r(r({},d),{mutate:function(m){var y=ge.trans;if(h.outbound||y.db._options.cache==="disabled"||y.explicit||y.idbtrans.mode!=="readwrite")return d.mutate(m);var b=ei["idb://".concat(l,"/").concat(c)];return b?(y=d.mutate(m),m.type!=="add"&&m.type!=="put"||!(50<=m.values.length||Da(h,m).some(function(E){return E==null}))?(b.optimisticOps.push(m),m.mutatedParts&&$o(m.mutatedParts),y.then(function(E){0<E.numFailures&&(V(b.optimisticOps,m),(E=Kd(0,m,E))&&b.optimisticOps.push(E),m.mutatedParts&&$o(m.mutatedParts))}),y.catch(function(){V(b.optimisticOps,m),m.mutatedParts&&$o(m.mutatedParts)})):y.then(function(E){var P=Kd(0,r(r({},m),{values:m.values.map(function(M,j){var F;return E.failures[j]?M:(M=(F=h.keyPath)!==null&&F!==void 0&&F.includes(".")?se(M):r({},M),X(M,h.keyPath,E.results[j]),M)})}),E);b.optimisticOps.push(P),queueMicrotask(function(){return m.mutatedParts&&$o(m.mutatedParts)})}),y):d.mutate(m)},query:function(m){if(!$d(ge,d)||!Bd("query",m))return d.query(m);var y=((P=ge.trans)===null||P===void 0?void 0:P.db._options.cache)==="immutable",j=ge,b=j.requery,E=j.signal,P=function(R,O,L,A){var D=ei["idb://".concat(R,"/").concat(O)];if(!D)return[];if(!(O=D.queries[L]))return[null,!1,D,null];var K=O[(A.query?A.query.index.name:null)||""];if(!K)return[null,!1,D,null];switch(L){case"query":var q=K.find(function(le){return le.req.limit===A.limit&&le.req.values===A.values&&Hd(le.req.query.range,A.query.range)});return q?[q,!0,D,K]:[K.find(function(le){return("limit"in le.req?le.req.limit:1/0)>=A.limit&&(!A.values||le.req.values)&&zy(le.req.query.range,A.query.range)}),!1,D,K];case"count":return q=K.find(function(le){return Hd(le.req.query.range,A.query.range)}),[q,!!q,D,K]}}(l,c,"query",m),M=P[0],j=P[1],F=P[2],T=P[3];return M&&j?M.obsSet=m.obsSet:(j=d.query(m).then(function(R){var O=R.result;if(M&&(M.res=O),y){for(var L=0,A=O.length;L<A;++L)Object.freeze(O[L]);Object.freeze(O)}else R.result=se(O);return R}).catch(function(R){return T&&M&&V(T,M),Promise.reject(R)}),M={obsSet:m.obsSet,promise:j,subscribers:new Set,type:"query",req:m,dirty:!1},T?T.push(M):(T=[M],(F=F||(ei["idb://".concat(l,"/").concat(c)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[m.query.index.name||""]=T)),Dy(M,T,b,E),M.promise.then(function(R){return{result:Wd(R.result,m,F==null?void 0:F.optimisticOps,d,M,y)}})}})}})}};function Ko(s,l){return new Proxy(s,{get:function(c,d,h){return d==="db"?l:Reflect.get(c,d,h)}})}var Gn=(it.prototype.version=function(s){if(isNaN(s)||s<.1)throw new $.Type("Given version is not a positive number");if(s=Math.round(10*s)/10,this.idbdb||this._state.isBeingOpened)throw new $.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,s);var l=this._versions,c=l.filter(function(d){return d._cfg.version===s})[0];return c||(c=new this.Version(s),l.push(c),l.sort(Py),c.stores({}),this._state.autoSchema=!1,c)},it.prototype._whenReady=function(s){var l=this;return this.idbdb&&(this._state.openComplete||ge.letThrough||this._vip)?s():new de(function(c,d){if(l._state.openComplete)return d(new $.DatabaseClosed(l._state.dbOpenError));if(!l._state.isBeingOpened){if(!l._state.autoOpen)return void d(new $.DatabaseClosed);l.open().catch(ve)}l._state.dbReadyPromise.then(c,d)}).then(s)},it.prototype.use=function(s){var l=s.stack,c=s.create,d=s.level,h=s.name;return h&&this.unuse({stack:l,name:h}),s=this._middlewares[l]||(this._middlewares[l]=[]),s.push({stack:l,create:c,level:d??10,name:h}),s.sort(function(m,y){return m.level-y.level}),this},it.prototype.unuse=function(s){var l=s.stack,c=s.name,d=s.create;return l&&this._middlewares[l]&&(this._middlewares[l]=this._middlewares[l].filter(function(h){return d?h.create!==d:!!c&&h.name!==c})),this},it.prototype.open=function(){var s=this;return Hn(pn,function(){return My(s)})},it.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var s=this._state,l=rn.indexOf(this);if(0<=l&&rn.splice(l,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}s.isBeingOpened||(s.dbReadyPromise=new de(function(c){s.dbReadyResolve=c}),s.openCanceller=new de(function(c,d){s.cancelOpen=d}))},it.prototype.close=function(c){var l=(c===void 0?{disableAutoOpen:!0}:c).disableAutoOpen,c=this._state;l?(c.isBeingOpened&&c.cancelOpen(new $.DatabaseClosed),this._close(),c.autoOpen=!1,c.dbOpenError=new $.DatabaseClosed):(this._close(),c.autoOpen=this._options.autoOpen||c.isBeingOpened,c.openComplete=!1,c.dbOpenError=null)},it.prototype.delete=function(s){var l=this;s===void 0&&(s={disableAutoOpen:!0});var c=0<arguments.length&&typeof arguments[0]!="object",d=this._state;return new de(function(h,m){function y(){l.close(s);var b=l._deps.indexedDB.deleteDatabase(l.name);b.onsuccess=Be(function(){var E,P,M;E=l._deps,P=l.name,M=E.indexedDB,E=E.IDBKeyRange,Ta(M)||P===_n||Pa(M,E).delete(P).catch(ve),h()}),b.onerror=On(m),b.onblocked=l._fireOnBlocked}if(c)throw new $.InvalidArgument("Invalid closeOptions argument to db.delete()");d.isBeingOpened?d.dbReadyPromise.then(y):y()})},it.prototype.backendDB=function(){return this.idbdb},it.prototype.isOpen=function(){return this.idbdb!==null},it.prototype.hasBeenClosed=function(){var s=this._state.dbOpenError;return s&&s.name==="DatabaseClosed"},it.prototype.hasFailed=function(){return this._state.dbOpenError!==null},it.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(it.prototype,"tables",{get:function(){var s=this;return u(this._allTables).map(function(l){return s._allTables[l]})},enumerable:!1,configurable:!0}),it.prototype.transaction=function(){var s=(function(l,c,d){var h=arguments.length;if(h<2)throw new $.InvalidArgument("Too few arguments");for(var m=new Array(h-1);--h;)m[h-1]=arguments[h];return d=m.pop(),[l,he(m),d]}).apply(this,arguments);return this._transaction.apply(this,s)},it.prototype._transaction=function(s,l,c){var d=this,h=ge.trans;h&&h.db===this&&s.indexOf("!")===-1||(h=null);var m,y,b=s.indexOf("?")!==-1;s=s.replace("!","").replace("?","");try{if(y=l.map(function(P){if(P=P instanceof d.Table?P.name:P,typeof P!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return P}),s=="r"||s===qn)m=qn;else{if(s!="rw"&&s!=Mi)throw new $.InvalidArgument("Invalid transaction mode: "+s);m=Mi}if(h){if(h.mode===qn&&m===Mi){if(!b)throw new $.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");h=null}h&&y.forEach(function(P){if(h&&h.storeNames.indexOf(P)===-1){if(!b)throw new $.SubTransaction("Table "+P+" not included in parent transaction.");h=null}}),b&&h&&!h.active&&(h=null)}}catch(P){return h?h._promise(null,function(M,j){j(P)}):We(P)}var E=(function P(M,j,F,T,R){return de.resolve().then(function(){var O=ge.transless||ge,L=M._createTransaction(j,F,M._dbSchema,T);if(L.explicit=!0,O={trans:L,transless:O},T)L.idbtrans=T.idbtrans;else try{L.create(),L.idbtrans._explicit=!0,M._state.PR1398_maxLoop=3}catch(K){return K.name===Ft.InvalidState&&M.isOpen()&&0<--M._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),M.close({disableAutoOpen:!1}),M.open().then(function(){return P(M,j,F,null,R)})):We(K)}var A,D=we(R);return D&&gr(),O=de.follow(function(){var K;(A=R.call(L,L))&&(D?(K=En.bind(null,null),A.then(K,K)):typeof A.next=="function"&&typeof A.throw=="function"&&(A=Aa(A)))},O),(A&&typeof A.then=="function"?de.resolve(A).then(function(K){return L.active?K:We(new $.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):O.then(function(){return A})).then(function(K){return T&&L._resolve(),L._completion.then(function(){return K})}).catch(function(K){return L._reject(K),We(K)})})}).bind(null,this,m,y,h,c);return h?h._promise(m,E,"lock"):ge.trans?Hn(ge.transless,function(){return d._whenReady(E)}):this._whenReady(E)},it.prototype.table=function(s){if(!S(this._allTables,s))throw new $.InvalidTable("Table ".concat(s," does not exist"));return this._allTables[s]},it);function it(s,l){var c=this;this._middlewares={},this.verno=0;var d=it.dependencies;this._options=l=r({addons:it.addons,autoOpen:!0,indexedDB:d.indexedDB,IDBKeyRange:d.IDBKeyRange,cache:"cloned"},l),this._deps={indexedDB:l.indexedDB,IDBKeyRange:l.IDBKeyRange},d=l.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var h,m,y,b,E,P={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ve,dbReadyPromise:null,cancelOpen:ve,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:l.autoOpen};P.dbReadyPromise=new de(function(j){P.dbReadyResolve=j}),P.openCanceller=new de(function(j,F){P.cancelOpen=F}),this._state=P,this.name=s,this.on=bt(this,"populate","blocked","versionchange","close",{ready:[ws,ve]}),this.once=function(j,F){var T=function(){for(var R=[],O=0;O<arguments.length;O++)R[O]=arguments[O];c.on(j).unsubscribe(T),F.apply(c,R)};return c.on(j,T)},this.on.ready.subscribe=N(this.on.ready.subscribe,function(j){return function(F,T){it.vip(function(){var R,O=c._state;O.openComplete?(O.dbOpenError||de.resolve().then(F),T&&j(F)):O.onReadyBeingFired?(O.onReadyBeingFired.push(F),T&&j(F)):(j(F),R=c,T||j(function L(){R.on.ready.unsubscribe(F),R.on.ready.unsubscribe(L)}))})}}),this.Collection=(h=this,wr(je.prototype,function(A,L){this.db=h;var T=Ro,R=null;if(L)try{T=L()}catch(D){R=D}var O=A._ctx,L=O.table,A=L.hook.reading.fire;this._ctx={table:L,index:O.index,isPrimKey:!O.index||L.schema.primKey.keyPath&&O.index===L.schema.primKey.name,range:T,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:R,or:O.or,valueMapper:A!==Ue?A:null}})),this.Table=(m=this,wr(Yn.prototype,function(j,F,T){this.db=m,this._tx=T,this.name=j,this.schema=F,this.hook=m._allTables[j]?m._allTables[j].hook:bt(null,{creating:[Dn,ve],reading:[ct,Ue],updating:[dt,ve],deleting:[hn,ve]})})),this.Transaction=(y=this,wr(Ny.prototype,function(j,F,T,R,O){var L=this;j!=="readonly"&&F.forEach(function(A){A=(A=T[A])===null||A===void 0?void 0:A.yProps,A&&(F=F.concat(A.map(function(D){return D.updatesTable})))}),this.db=y,this.mode=j,this.storeNames=F,this.schema=T,this.chromeTransactionDurability=R,this.idbtrans=null,this.on=bt(this,"complete","error","abort"),this.parent=O||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new de(function(A,D){L._resolve=A,L._reject=D}),this._completion.then(function(){L.active=!1,L.on.complete.fire()},function(A){var D=L.active;return L.active=!1,L.on.error.fire(A),L.parent?L.parent._reject(A):D&&L.idbtrans&&L.idbtrans.abort(),We(A)})})),this.Version=(b=this,wr(Oy.prototype,function(j){this.db=b,this._cfg={version:j,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(E=this,wr(Rd.prototype,function(j,F,T){if(this.db=E,this._ctx={table:j,index:F===":id"?null:F,or:T},this._cmp=this._ascending=Pe,this._descending=function(R,O){return Pe(O,R)},this._max=function(R,O){return 0<Pe(R,O)?R:O},this._min=function(R,O){return Pe(R,O)<0?R:O},this._IDBKeyRange=E._deps.IDBKeyRange,!this._IDBKeyRange)throw new $.MissingAPI})),this.on("versionchange",function(j){0<j.newVersion?console.warn("Another connection wants to upgrade database '".concat(c.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(c.name,"'. Closing db now to resume the delete request.")),c.close({disableAutoOpen:!1})}),this.on("blocked",function(j){!j.newVersion||j.newVersion<j.oldVersion?console.warn("Dexie.delete('".concat(c.name,"') was blocked")):console.warn("Upgrade '".concat(c.name,"' blocked by other connection holding version ").concat(j.oldVersion/10))}),this._maxKey=Es(l.IDBKeyRange),this._createTransaction=function(j,F,T,R){return new c.Transaction(j,F,T,c._options.chromeTransactionDurability,R)},this._fireOnBlocked=function(j){c.on("blocked").fire(j),rn.filter(function(F){return F.name===c.name&&F!==c&&!F._state.vcFired}).map(function(F){return F.on("versionchange").fire(j)})},this.use(Iy),this.use(Uy),this.use(Ay),this.use(Ly),this.use(Fy);var M=new Proxy(this,{get:function(j,F,T){if(F==="_vip")return!0;if(F==="table")return function(O){return Ko(c.table(O),M)};var R=Reflect.get(j,F,T);return R instanceof Yn?Ko(R,M):F==="tables"?R.map(function(O){return Ko(O,M)}):F==="_createTransaction"?function(){return Ko(R.apply(this,arguments),M)}:R}});this.vip=M,d.forEach(function(j){return j(c)})}var Wo,on=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",$y=($a.prototype.subscribe=function(s,l,c){return this._subscribe(s&&typeof s!="function"?s:{next:s,error:l,complete:c})},$a.prototype[on]=function(){return this},$a);function $a(s){this._subscribe=s}try{Wo={indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch{Wo={indexedDB:null,IDBKeyRange:null}}function Vd(s){var l,c=!1,d=new $y(function(h){var m=we(s),y,b=!1,E={},P={},M={get closed(){return b},unsubscribe:function(){b||(b=!0,y&&y.abort(),j&&Sr.storagemutated.unsubscribe(T))}};h.start&&h.start(M);var j=!1,F=function(){return Oi(R)},T=function(O){Uo(E,O),Ma(P,E)&&F()},R=function(){var O,L,A;!b&&Wo.indexedDB&&(E={},O={},y&&y.abort(),y=new AbortController,A=function(D){var K=Bn();try{m&&gr();var q=mn(s,D);return q=m?q.finally(En):q}finally{K&&Kn()}}(L={subscr:O,signal:y.signal,requery:F,querier:s,trans:null}),Promise.resolve(A).then(function(D){c=!0,l=D,b||L.signal.aborted||(E={},function(K){for(var q in K)if(S(K,q))return;return 1}(P=O)||j||(Sr(Cs,T),j=!0),Oi(function(){return!b&&h.next&&h.next(D)}))},function(D){c=!1,["DatabaseClosedError","AbortError"].includes(D==null?void 0:D.name)||b||Oi(function(){b||h.error&&h.error(D)})}))};return setTimeout(F,0),M});return d.hasValue=function(){return c},d.getValue=function(){return l},d}var ti=Gn;function Ba(s){var l=kr;try{kr=!0,Sr.storagemutated.fire(s),Ia(s,!0)}finally{kr=l}}_(ti,r(r({},Se),{delete:function(s){return new ti(s,{addons:[]}).delete()},exists:function(s){return new ti(s,{addons:[]}).open().then(function(l){return l.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(s){try{return l=ti.dependencies,c=l.indexedDB,l=l.IDBKeyRange,(Ta(c)?Promise.resolve(c.databases()).then(function(d){return d.map(function(h){return h.name}).filter(function(h){return h!==_n})}):Pa(c,l).toCollection().primaryKeys()).then(s)}catch{return We(new $.MissingAPI)}var l,c},defineClass:function(){return function(s){p(this,s)}},ignoreTransaction:function(s){return ge.trans?Hn(ge.transless,s):s()},vip:Ra,async:function(s){return function(){try{var l=Aa(s.apply(this,arguments));return l&&typeof l.then=="function"?l:de.resolve(l)}catch(c){return We(c)}}},spawn:function(s,l,c){try{var d=Aa(s.apply(c,l||[]));return d&&typeof d.then=="function"?d:de.resolve(d)}catch(h){return We(h)}},currentTransaction:{get:function(){return ge.trans||null}},waitFor:function(s,l){return l=de.resolve(typeof s=="function"?ti.ignoreTransaction(s):s).timeout(l||6e4),ge.trans?ge.trans.waitFor(l):l},Promise:de,debug:{get:function(){return Pt},set:function(s){_o(s)}},derive:H,extend:p,props:_,override:N,Events:bt,on:Sr,liveQuery:Vd,extendObservabilitySet:Uo,getByKeyPath:Z,setByKeyPath:X,delByKeyPath:function(s,l){typeof l=="string"?X(s,l,void 0):"length"in l&&[].map.call(l,function(c){X(s,c,void 0)})},shallowClone:J,deepClone:se,getObjectDiff:za,cmp:Pe,asap:G,minKey:-1/0,addons:[],connections:rn,errnames:Ft,dependencies:Wo,cache:ei,semVer:"4.2.1",version:"4.2.1".split(".").map(function(s){return parseInt(s)}).reduce(function(s,l,c){return s+l/Math.pow(10,2*c)})})),ti.maxKey=Es(ti.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Sr(Cs,function(s){kr||(s=new CustomEvent(Sa,{detail:s}),kr=!0,dispatchEvent(s),kr=!1)}),addEventListener(Sa,function(s){s=s.detail,kr||Ba(s)}));var Ai,kr=!1,qd=function(){};return typeof BroadcastChannel<"u"&&((qd=function(){(Ai=new BroadcastChannel(Sa)).onmessage=function(s){return s.data&&Ba(s.data)}})(),typeof Ai.unref=="function"&&Ai.unref(),Sr(Cs,function(s){kr||Ai.postMessage(s)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(s){if(!Gn.disableBfCache&&s.persisted){Pt&&console.debug("Dexie: handling persisted pagehide"),Ai!=null&&Ai.close();for(var l=0,c=rn;l<c.length;l++)c[l].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(s){!Gn.disableBfCache&&s.persisted&&(Pt&&console.debug("Dexie: handling persisted pageshow"),qd(),Ba({all:new St(-1/0,[[]])}))})),de.rejectionMapper=function(s,l){return!s||s instanceof $e||s instanceof TypeError||s instanceof SyntaxError||!s.name||!ke[s.name]?s:(l=new ke[s.name](l||s.message,s),"stack"in s&&z(l,"stack",{get:function(){return this.inner.stack}}),l)},_o(Pt),r(Gn,Object.freeze({__proto__:null,Dexie:Gn,liveQuery:Vd,Entity:Tn,cmp:Pe,PropModification:Rn,replacePrefix:function(s,l){return new Rn({replacePrefix:[s,l]})},add:function(s){return new Rn({add:s})},remove:function(s){return new Rn({remove:s})},default:Gn,RangeSet:St,mergeRanges:Ts,rangesOverlap:Id}),{default:Gn}),Gn})})(py);var iw=py.exports;const kc=Rc(iw),vh=Symbol.for("Dexie"),Jl=globalThis[vh]||(globalThis[vh]=kc);if(kc.semVer!==Jl.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${kc.semVer} and ${Jl.semVer}`);const{liveQuery:ub,mergeRanges:cb,rangesOverlap:db,RangeSet:fb,cmp:hb,Entity:pb,PropModification:mb,replacePrefix:yb,add:vb,remove:gb,DexieYProvider:xb}=Jl;class sw extends Jl{constructor(){super("subtitle-learner");zi(this,"words");zi(this,"subtitleFiles");zi(this,"subtitleCues");zi(this,"prefs");zi(this,"sessions");this.version(1).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt"}),this.version(2).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt",subtitleCues:"&id, fileHash, index",sessions:"&id, updatedAt"}),this.version(3).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt",subtitleCues:"&id, fileHash, index",sessions:"&id, updatedAt"}),this.version(3).upgrade(n=>n.table("words").toArray().then(r=>{const i=r.map(o=>({id:o.id,original:o.original,originalSentence:o.originalSentence,normalized:o.normalized,stem:o.stem,createdAt:o.createdAt,updatedAt:o.updatedAt}));return n.table("words").clear().then(()=>n.table("words").bulkPut(i))})),this.version(4).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt",subtitleCues:"&id, fileHash, index",sessions:"&id, updatedAt"}),this.version(4).upgrade(n=>n.table("words").toArray().then(r=>{const i=r.map(o=>({id:o.id,original:o.original,originalSentence:o.originalSentence,normalized:o.normalized,stem:o.stem,createdAt:o.createdAt,updatedAt:o.updatedAt}));return n.table("words").clear().then(()=>n.table("words").bulkPut(i))}))}}const Ne=new sw;let gu=null,gh=!1,xh=!1;async function Pd(){return gh?!0:xh?!1:(gu||(gu=Ne.open().then(()=>(gh=!0,!0)).catch(()=>(xh=!0,!1))),gu)}async function Ze(e,t){if(!await Pd())return e;try{return await t()}catch{return e}}async function At(e){if(await Pd())try{await e()}catch{}}async function ow(){return Ze([],()=>Ne.words.toArray())}async function xu(e){await At(()=>Ne.words.put(e))}async function lw(e){await At(()=>Ne.words.delete(e))}async function wu(e){await At(()=>Ne.transaction("rw",Ne.words,async()=>{await Ne.words.clear(),e.length>0&&await Ne.words.bulkPut(e)}))}function Ui(e){return[...e].sort((t,n)=>n.updatedAt-t.updatedAt)}function aw(e){if(typeof e=="string"){const[t]=ir(e);return t}return e}function wh(e){let t=!1;return{next:e.map(r=>{const i=_d(r.normalized);return i===r.stem?r:(t=!0,{...r,stem:i})}),changed:t}}const yt=Ed((e,t)=>({words:[],initialized:!1,initialize:async()=>{if(t().initialized)return;const n=await ow(),{next:r,changed:i}=wh(n),o=Ui(r);e({words:o,initialized:!0}),i&&await wu(o)},addUnknownWordFromToken:async(n,r)=>{const i=aw(n);if(!i||!i.isWord)return;const o=t().words.find(p=>p.normalized===i.normalized||p.stem===i.stem),u=Date.now();if(o){const p={...o,updatedAt:u,original:o.original||i.text,originalSentence:r??o.originalSentence};e(g=>({words:Ui(g.words.map(k=>k.id===o.id?p:k))})),await xu(p);return}const f={id:Sc(),original:i.text,originalSentence:r,normalized:i.normalized,stem:i.stem,createdAt:u,updatedAt:u};e(p=>({words:Ui([...p.words,f])})),await xu(f)},updateWord:async(n,r)=>{const i=t().words.find(u=>u.id===n);if(!i)return;const o={...i,...r,updatedAt:Date.now()};e(u=>({words:Ui(u.words.map(f=>f.id===n?o:f))})),await xu(o)},removeWord:async n=>{e(r=>({words:r.words.filter(i=>i.id!==n)})),await lw(n)},importWords:async n=>{const r=Date.now(),i=f=>`${f.normalized}::${f.stem}`,o=new Map;for(const f of t().words)o.set(i(f),f);for(const f of n){if(!f.normalized)continue;const p=f.normalized,g=f.stem??_d(p),k=`${p}::${g}`,S=o.get(k);o.set(k,{id:f.id??(S==null?void 0:S.id)??Sc(),original:f.original??(S==null?void 0:S.original)??p,originalSentence:f.originalSentence??(S==null?void 0:S.originalSentence),normalized:p,stem:g,createdAt:f.createdAt??(S==null?void 0:S.createdAt)??r,updatedAt:f.updatedAt??r})}const u=Ui(Array.from(o.values()));e({words:u,initialized:!0}),await wu(u)},reanalyzeStems:async()=>{const{next:n,changed:r}=wh(t().words);if(!r)return;const i=Ui(n);e({words:i}),await wu(i)},classForToken:n=>{const r=new Set(t().words.map(o=>o.normalized)),i=new Set(t().words.map(o=>o.stem));return r.has(n.normalized)?"hl-exact text-white":i.has(n.stem)?"hl-variant text-white":"bg-transparent"}})),my="prefs";async function uw(){return Ze(void 0,async()=>{const e=await Ne.prefs.get(my);return e==null?void 0:e.value})}async function Ds(e){await At(()=>Ne.prefs.put({id:my,value:e,updatedAt:Date.now()}))}const $i={subtitleStyle:{fontFamily:"Inter",fontSizePx:42,secondaryFontSizePx:36,useMainForSecondaryFontSize:!0,fontWeight:600,color:"#ffffff",outline:!0,shadow:!0,bgColor:"rgba(0, 0, 0, 0.35)",lineHeight:1.35},highlightColors:{exact:"#10b981",variant:"#f97316"},playerShortcuts:{toggleSecondarySubtitle:{code:"KeyH",label:"H"},mainSubtitleOffsetBack:{code:"BracketLeft",label:"["},mainSubtitleOffsetForward:{code:"BracketRight",label:"]"}},mediaLibrary:void 0},et=Ed((e,t)=>({prefs:$i,initialized:!1,initialize:async()=>{if(t().initialized)return;const n=await uw();if(!n){e({prefs:$i,initialized:!0});return}const r={...$i,...n,subtitleStyle:{...$i.subtitleStyle,...n.subtitleStyle},highlightColors:{...$i.highlightColors,...n.highlightColors},playerShortcuts:{...$i.playerShortcuts,...n.playerShortcuts}};e({prefs:r,initialized:!0})},updateSubtitleStyle:async n=>{const r={...t().prefs,subtitleStyle:{...t().prefs.subtitleStyle,...n}};e({prefs:r}),await Ds(r)},updateHighlightColors:async n=>{const r={...t().prefs,highlightColors:{...t().prefs.highlightColors,...n}};e({prefs:r}),await Ds(r)},updatePlayerShortcuts:async n=>{const r={...t().prefs,playerShortcuts:{...t().prefs.playerShortcuts,...n}};e({prefs:r}),await Ds(r)},setLastOpened:async n=>{const r={...t().prefs,lastOpened:n};e({prefs:r}),await Ds(r)},setMediaLibrary:async n=>{const r={...t().prefs,mediaLibrary:n};e({prefs:r}),await Ds(r)}})),Nr=Ed((e,t)=>({videoName:"",videoUrl:null,videoBlob:null,videoDurationMs:null,setVideoFromFile:n=>{const r=t().videoUrl;r&&URL.revokeObjectURL(r),e({videoName:n.name,videoUrl:URL.createObjectURL(n),videoBlob:n,videoDurationMs:null})},setVideoFromBlob:(n,r)=>{const i=t().videoUrl;i&&URL.revokeObjectURL(i),e({videoName:n,videoUrl:URL.createObjectURL(r),videoBlob:r,videoDurationMs:null})},setVideoNameOnly:n=>{const r=t().videoUrl;r&&URL.revokeObjectURL(r),e({videoName:n,videoUrl:null,videoBlob:null,videoDurationMs:null})},clearVideo:()=>{const n=t().videoUrl;n&&URL.revokeObjectURL(n),e({videoName:"",videoUrl:null,videoBlob:null,videoDurationMs:null})},setVideoDurationMs:n=>{e({videoDurationMs:n})}})),cw=/(\d{2}:\d{2}:\d{2},\d{3}) --> (\d{2}:\d{2}:\d{2},\d{3})/,jc="",Nc="";function bh(e){const[t,n,r]=e.split(":"),[i,o]=r.split(",");return Number(t)*3600*1e3+Number(n)*60*1e3+Number(i)*1e3+Number(o)}function dw(e){return e.replace(/<i>/gi,jc).replace(/<\/i>/gi,Nc).replace(/<[^>]+>/g,"").replace(/\s+/g," ").trim()}function Ws(e){return e.split(/\r?\n\r?\n/).filter(Boolean).map((t,n)=>{const[r,i,...o]=t.split(/\r?\n/),u=i==null?void 0:i.match(cw),f=(u==null?void 0:u[1])??"00:00:00,000",p=(u==null?void 0:u[2])??"00:00:00,000",g=dw(o.join(`
`));return{index:Number.parseInt(r??String(n),10),startMs:bh(f),endMs:bh(p),rawText:g}}).filter(t=>t.rawText.length>0)}const fw=/^[\)\]\}.,!?;:%]+$/u,hw=/^[\(\[\{]+$/u,pw=/^[.]+$/u;function bo(e){return e.isWord||/^\d+$/.test(e.text)}function yy(e){return!e.isWord&&fw.test(e.text)}function vy(e){return!e.isWord&&hw.test(e.text)}function gy(e,t){if(!e||yy(t)||vy(e))return!1;const n=bo(e),r=bo(t);return!!(n&&r||n&&!r||!n&&r)}function mw(e){const t=new RegExp(`(${jc}|${Nc})`,"g"),n=e.split(t).filter(o=>o.length>0);let r=!1;const i=[];for(const o of n){if(o===jc){r=!0;continue}if(o===Nc){r=!1;continue}const u=ir(o);i.push(...u.map(f=>({token:f,italic:r})))}return i}function yw(e,t={}){const{isRtl:n=!1}=t,r=[];let i="",o=!1;if(e.forEach((u,f)=>{const p=e[f+1];if(n&&!u.token.isWord&&pw.test(u.token.text)&&p&&bo(p.token)){i+=u.token.text,o=o||u.italic;return}if(!u.token.isWord&&vy(u.token)&&p&&bo(p.token)){i+=u.token.text,o=o||u.italic;return}if(!u.token.isWord&&yy(u.token)&&r.length>0){const S=r[r.length-1];S.text+=u.token.text,S.italic=S.italic||u.italic;return}const g=`${i}${u.token.text}`,k=o||u.italic;i="",o=!1,g.trim().length!==0&&r.push({token:u.token,text:g,italic:k})}),i.trim().length>0){const u=i.trim();r.push({token:{text:u,normalized:u,stem:u,isWord:!1},text:u,italic:o})}return r}const vw=["INPUT","TEXTAREA","SELECT"];function gw(e){return typeof HTMLElement>"u"||!(e instanceof HTMLElement)?!1:e.isContentEditable?!0:vw.includes(e.tagName)}function Xn(e){e.preventDefault(),e.stopPropagation(),typeof e.stopImmediatePropagation=="function"&&e.stopImmediatePropagation()}function Jn(e,t,n){return t.includes(e.code)||n.includes(e.key)}function xw(e,t){const{video:n,seekBy:r,toggleFullscreen:i,toggleMute:o,togglePlayback:u,toggleSecondarySubtitle:f}=t,{stepVolume:p}=t;return!n||gw(e.target)||e.altKey||e.ctrlKey||e.metaKey?!1:Jn(e,["Space"],[" ","Spacebar"])||Jn(e,["KeyK"],["k","K"])?(Xn(e),u(),!0):Jn(e,["ArrowLeft"],["ArrowLeft"])?(Xn(e),r(-5),!0):Jn(e,["ArrowRight"],["ArrowRight"])?(Xn(e),r(5),!0):Jn(e,["ArrowUp"],["ArrowUp"])?(Xn(e),p("up"),!0):Jn(e,["ArrowDown"],["ArrowDown"])?(Xn(e),p("down"),!0):Jn(e,["KeyF"],["f","F"])?(Xn(e),i(),!0):Jn(e,["KeyM"],["m","M"])?(Xn(e),o(),!0):!t.ignoreSecondarySubtitleShortcut&&Jn(e,["KeyH"],["h","H"])?(Xn(e),f(),!0):!1}function Sh(e){const t=Math.max(0,Math.floor(e/1e3)),n=Math.floor(t/60).toString().padStart(2,"0"),r=(t%60).toString().padStart(2,"0");return`${n}:${r}`}async function Cc(e,t="SHA-256"){const n=await e.arrayBuffer(),r=await crypto.subtle.digest(t,n);return Array.from(new Uint8Array(r)).map(o=>o.toString(16).padStart(2,"0")).join("")}async function Ec(e){const t=await e.arrayBuffer();if(t.byteLength>=2){const r=new Uint8Array(t);if(r[0]===255&&r[1]===254)return new TextDecoder("utf-16le").decode(t);if(r[0]===254&&r[1]===255)return new TextDecoder("utf-16be").decode(t);if(t.byteLength>=3&&r[0]===239&&r[1]===187&&r[2]===191)return new TextDecoder("utf-8").decode(t)}const n=new TextDecoder("utf-8",{fatal:!0});try{return n.decode(t)}catch{return new TextDecoder("windows-1255").decode(t)}}function ww(e){const{index:t,startMs:n,endMs:r,rawText:i,tokens:o}=e;return{index:t,startMs:n,endMs:r,rawText:i,tokens:o}}function bw(e,t){return{id:`${e}:${t.index}`,fileHash:e,index:t.index,startMs:t.startMs,endMs:t.endMs,rawText:t.rawText,tokens:t.tokens??[]}}async function hi(e){return Ze(void 0,async()=>{const t=await Ne.subtitleCues.where("fileHash").equals(e).sortBy("index");if(t.length!==0)return t.map(ww)})}async function _c(e,t){await At(()=>Ne.transaction("rw",Ne.subtitleCues,async()=>{await Ne.subtitleCues.where("fileHash").equals(e).delete(),t.length>0&&await Ne.subtitleCues.bulkPut(t.map(n=>bw(e,n)))}))}async function Sw(e){await At(()=>Ne.subtitleCues.where("fileHash").equals(e).delete())}async function ui(e){const t=await Ze(void 0,()=>Ne.subtitleFiles.where("bytesHash").equals(e.bytesHash).first()),n=t?{...t,...e,addedAt:e.addedAt??Date.now()}:{id:Sc(),name:e.name,bytesHash:e.bytesHash,totalCues:e.totalCues,language:e.language,addedAt:e.addedAt??Date.now()};return await At(()=>Ne.subtitleFiles.put(n)),n}async function xy(){return Ze([],()=>Ne.subtitleFiles.orderBy("addedAt").reverse().toArray())}async function kw(e){await At(()=>Ne.transaction("rw",Ne.subtitleFiles,Ne.subtitleCues,async()=>{const t=await Ne.subtitleFiles.get(e);t&&(await Ne.subtitleFiles.delete(e),await Sw(t.bytesHash))}))}const Pc="last-session";async function jw(){return Ze(void 0,()=>Ne.sessions.get(Pc))}async function ii(e){const t=Date.now();if(await Ze(0,()=>Ne.sessions.update(Pc,{...e,updatedAt:t}))>0)return;const r={id:Pc,updatedAt:t,videoName:e.videoName,videoBlob:e.videoBlob,subtitleName:e.subtitleName,subtitleText:e.subtitleText,subtitleHash:e.subtitleHash,subtitleOffsetMs:e.subtitleOffsetMs,videoTimeSeconds:e.videoTimeSeconds,secondarySubtitleName:e.secondarySubtitleName,secondarySubtitleText:e.secondarySubtitleText,secondarySubtitleHash:e.secondarySubtitleHash,secondarySubtitleEnabled:e.secondarySubtitleEnabled,secondarySubtitleOffsetMs:e.secondarySubtitleOffsetMs};await At(()=>Ne.sessions.put(r))}const Nw=/[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/,Cw=/^[.!?]+$/u,si=[1,2,3,4,5,10,15,20,25,30,40,50,60,70,80,90,100];function kh(e){return e.some(t=>Nw.test(t.rawText))}function Ew(e){return!e.isWord&&Cw.test(e.text)}function _w(e){const t=e.trim();if(!t)return;const n=encodeURIComponent(`${t} definition`);window.open(`https://www.google.com/search?q=${n}`,"_blank","noopener,noreferrer")}const Pw=["INPUT","TEXTAREA","SELECT","BUTTON","SUMMARY"];function Tw(e){return typeof HTMLElement>"u"||!(e instanceof HTMLElement)?!1:e.isContentEditable?!0:Pw.includes(e.tagName)}function Rw(e){return e.key===" "?"Space":e.key==="Escape"?"Esc":e.key.startsWith("Arrow")?e.key.replace("Arrow","Arrow "):e.key.length===1?e.key.toUpperCase():e.key}function jh(e){e.preventDefault(),e.stopPropagation(),typeof e.stopImmediatePropagation=="function"&&e.stopImmediatePropagation()}function wy(e,t){const n=x.useMemo(()=>mw(e.rawText),[e.rawText]),r=x.useMemo(()=>{if(!t)return n;const i=n.findIndex(u=>bo(u.token));if(i<=0)return n;const o=n.slice(0,i);return o.length===0?n:o.every(u=>Ew(u.token))?[...n.slice(i),...o]:n},[t,n]);return x.useMemo(()=>yw(r,{isRtl:t}),[r,t])}function Nh({cue:e,onTokenClick:t,onTokenContextMenu:n,classForToken:r,isRtl:i=!1,className:o}){const u=wy(e,i);return a.jsx("div",{className:`pointer-events-none flex flex-wrap ${o??""}`,dir:i?"rtl":"ltr",children:u.map((f,p)=>{const g=p>0?u[p-1].token:void 0,k=f.token,S=gy(g,k)?"ms-1":"";return a.jsx("button",{type:"button",className:`pointer-events-auto relative z-50 rounded px-0.5 text-left ${S} ${k.isWord?"focus:outline-none focus-visible:outline-none":"cursor-default"}`,onClick:_=>{k.isWord&&(t(k,e),_.currentTarget instanceof HTMLElement&&_.currentTarget.blur())},onContextMenu:_=>{k.isWord&&(_.preventDefault(),n(k,e))},disabled:!k.isWord,children:a.jsx("span",{className:`rounded px-1 py-0.5 transition-colors ${f.italic?"italic":""} ${r(k)}`,children:f.text})},`${f.text}-${p}`)})})}function Ch({cue:e,isRtl:t=!1,className:n}){const r=wy(e,t);return a.jsx("div",{className:`flex flex-wrap ${n??""}`,dir:t?"rtl":"ltr",children:r.map((i,o)=>{const u=o>0?r[o-1].token:void 0,f=i.token,p=gy(u,f)?"ms-1":"";return a.jsx("span",{className:`rounded px-1 py-0.5 ${p}`,children:i.text},`${i.text}-${o}`)})})}function Eh({isActive:e=!0}){const t=x.useRef(null),n=x.useRef(null),r=x.useRef(null),i=x.useRef(new Map),o=x.useRef({}),u=Nr(w=>w.videoName),f=Nr(w=>w.videoUrl),p=Nr(w=>w.videoDurationMs),g=Nr(w=>w.videoBlob),k=Nr(w=>w.setVideoFromFile),S=Nr(w=>w.setVideoFromBlob),_=Nr(w=>w.setVideoNameOnly),B=Nr(w=>w.setVideoDurationMs),[z,H]=x.useState(null),[Q,C]=x.useState(""),[v,N]=x.useState([]),[I,G]=x.useState(0),[Z,X]=x.useState(!1),[J,Ce]=x.useState(0),[he,Le]=x.useState(null),[De,se]=x.useState(!1),[re,oe]=x.useState(""),[Y,be]=x.useState([]),[V,ee]=x.useState(!1),[ie,we]=x.useState(0),[Ee,$e]=x.useState(null),[xt,wt]=x.useState(!1),[ot,Ft]=x.useState(!1),[Jt,$]=x.useState(!1),[ke,Se]=x.useState(!1),[ve,Ue]=x.useState(!1),[ct,rt]=x.useState(1),[Dn,hn]=x.useState(null),[dt,dr]=x.useState(null),[ws,Pt]=x.useState(!0),[_o,Un]=x.useState(!0),[bs,fr]=x.useState(!1),[Ae,Zt]=x.useState(null),hr=x.useRef(null),jn=x.useRef(null),$n=x.useRef(null),pr=x.useRef(0),en=yt(w=>w.addUnknownWordFromToken),Yr=yt(w=>w.classForToken),ji=yt(w=>w.initialize),pn=yt(w=>w.initialized),ge=et(w=>w.initialize),Nn=et(w=>w.initialized),Cn=et(w=>w.setLastOpened),Gr=et(w=>w.prefs.playerShortcuts),de=et(w=>w.updatePlayerShortcuts),Ni=x.useCallback((w,W)=>{en(w,W.rawText)},[en]),Ss=x.useCallback((w,W)=>{_w(w.text),en(w,W.rawText)},[en]),Ci=x.useCallback(w=>{hn(w),$n.current!==null&&window.clearTimeout($n.current),$n.current=window.setTimeout(()=>{hn(null)},500)},[]),tn=x.useCallback(w=>{N(w),se(w.length>0&&kh(w))},[]),Bt=x.useCallback(w=>{be(w),Ft(w.length>0&&kh(w))},[]),mr=x.useCallback(async(w,W,U)=>{tn(U),await Promise.all([_c(w,U),ui({name:W,bytesHash:w,totalCues:U.length})])},[tn]),yr=x.useCallback(async(w,W,U)=>{Bt(U),await Promise.all([_c(w,U),ui({name:W,bytesHash:w,totalCues:U.length})])},[Bt]);x.useEffect(()=>{pn||ji()},[pn,ji]),x.useEffect(()=>{Nn||ge()},[Nn,ge]),x.useEffect(()=>{const w=()=>{const W=t.current;$(document.fullscreenElement===W)};return document.addEventListener("fullscreenchange",w),()=>{document.removeEventListener("fullscreenchange",w)}},[]),x.useEffect(()=>{const w=n.current;if(!w)return;const W=()=>Se(!w.paused),U=()=>Ue(w.muted),ye=()=>rt(w.volume),Re=()=>{const je=Number.isFinite(w.duration)?w.duration*1e3:null;dr(je),je&&B(je)};return W(),U(),ye(),Re(),w.addEventListener("play",W),w.addEventListener("pause",W),w.addEventListener("volumechange",U),w.addEventListener("volumechange",ye),w.addEventListener("loadedmetadata",Re),w.addEventListener("durationchange",Re),()=>{w.removeEventListener("play",W),w.removeEventListener("pause",W),w.removeEventListener("volumechange",U),w.removeEventListener("volumechange",ye),w.removeEventListener("loadedmetadata",Re),w.removeEventListener("durationchange",Re)}},[]);const Bn=x.useCallback(async()=>{const w=t.current;if(w&&document.fullscreenElement!==w)try{await w.requestFullscreen()}catch(W){console.error("Failed to enter fullscreen",W)}},[]),Kn=x.useCallback(async()=>{if(document.fullscreenElement)try{await document.exitFullscreen()}catch(w){console.error("Failed to exit fullscreen",w)}},[]),vr=x.useCallback(()=>{if(Jt){Kn();return}Bn()},[Bn,Kn,Jt]);x.useEffect(()=>{const w=new Worker(new URL(""+new URL("srtWorker-CQIlcpsu.js",import.meta.url).href,import.meta.url),{type:"module"});return r.current=w,()=>{w.terminate(),r.current=null}},[]),x.useEffect(()=>{const w=r.current;if(!w)return;const W=async U=>{const ye=i.current.get(U.data.id);if(ye){if(o.current[ye.target]!==U.data.id){i.current.delete(U.data.id);return}if(i.current.delete(U.data.id),U.data.error){ye.target==="secondary"?($e(U.data.error),ee(!1)):(Le(U.data.error),X(!1));return}try{ye.target==="secondary"?($e(null),await yr(ye.hash,ye.fileName,U.data.cues)):(Le(null),await mr(ye.hash,ye.fileName,U.data.cues))}catch(Re){console.error(Re),ye.target==="secondary"?$e("Failed to store parsed secondary subtitles."):Le("Failed to store parsed subtitles.")}finally{ye.target==="secondary"?ee(!1):X(!1)}}};return w.addEventListener("message",W),()=>{w.removeEventListener("message",W)}},[mr,yr,tn,Bt]),x.useEffect(()=>{let w=!1;return(async()=>{const U=await jw();if(!(w||!U)&&(U.videoBlob&&!f?S(U.videoName??"",U.videoBlob):U.videoName&&!f&&_(U.videoName),U.subtitleName&&C(U.subtitleName),typeof U.subtitleOffsetMs=="number"&&Ce(U.subtitleOffsetMs),typeof U.videoTimeSeconds=="number"&&H(U.videoTimeSeconds),U.secondarySubtitleName&&oe(U.secondarySubtitleName),typeof U.secondarySubtitleEnabled=="boolean"?wt(U.secondarySubtitleEnabled):U.secondarySubtitleHash&&wt(!0),typeof U.secondarySubtitleOffsetMs=="number"&&we(U.secondarySubtitleOffsetMs),!(!U.subtitleHash&&!U.secondarySubtitleHash))){if(U.secondarySubtitleHash){ee(!0),$e(null);const ye=await hi(U.secondarySubtitleHash);if(w)return;if(ye)Bt(ye),ee(!1),await ui({name:U.secondarySubtitleName??U.secondarySubtitleHash,bytesHash:U.secondarySubtitleHash,totalCues:ye.length});else if(U.secondarySubtitleText){const Re=r.current;if(Re){const je=crypto.randomUUID();i.current.set(je,{hash:U.secondarySubtitleHash,fileName:U.secondarySubtitleName??U.secondarySubtitleHash,target:"secondary"}),o.current.secondary=je,Re.postMessage({id:je,text:U.secondarySubtitleText})}else try{const je=Ws(U.secondarySubtitleText).map(xe=>({...xe,tokens:xe.tokens??ir(xe.rawText)}));await yr(U.secondarySubtitleHash,U.secondarySubtitleName??U.secondarySubtitleHash,je)}catch(je){w||($e(je instanceof Error?je.message:"Failed to parse secondary subtitles"),Bt([]))}finally{w||ee(!1)}}else ee(!1)}if(U.subtitleHash){X(!0),Le(null);const ye=await hi(U.subtitleHash);if(w)return;if(ye){tn(ye),X(!1),await ui({name:U.subtitleName??U.subtitleHash,bytesHash:U.subtitleHash,totalCues:ye.length});return}if(!U.subtitleText){X(!1);return}const Re=r.current;if(Re){const je=crypto.randomUUID();i.current.set(je,{hash:U.subtitleHash,fileName:U.subtitleName??U.subtitleHash,target:"primary"}),o.current.primary=je,Re.postMessage({id:je,text:U.subtitleText});return}try{const je=Ws(U.subtitleText).map(xe=>({...xe,tokens:xe.tokens??ir(xe.rawText)}));await mr(U.subtitleHash,U.subtitleName??U.subtitleHash,je)}catch(je){w||(Le(je instanceof Error?je.message:"Failed to parse subtitles"),tn([]))}finally{w||X(!1)}}}})(),()=>{w=!0}},[mr,yr,S,_,f]),x.useEffect(()=>{const w=n.current;if(w){if(w.currentTime=0,f){w.src!==f&&(w.src=f),w.load();return}w.removeAttribute("src"),w.load()}},[f]),x.useEffect(()=>{dt!==null||!p||dr(p)},[dt,p]),x.useEffect(()=>{if(!g||!f||!u)return;let w=!1;const W=window.setTimeout(()=>{if(w)return;const U=n.current;U&&U.readyState===0&&S(u,g)},800);return()=>{w=!0,window.clearTimeout(W)}},[S,g,u,f]),x.useEffect(()=>{if(!f)return;const w=n.current;if(!w)return;let W=!1,U=0;const ye=()=>{if(W)return;const Re=w.duration;if(Number.isFinite(Re)&&Re>0){dr(Re*1e3);return}U+=1,U<20&&window.setTimeout(ye,250)};return ye(),()=>{W=!0}},[f]),x.useEffect(()=>{const w=n.current;if(!w||z===null)return;const W=()=>{w.currentTime=z};if(w.readyState>=1){W();return}return w.addEventListener("loadedmetadata",W),()=>{w.removeEventListener("loadedmetadata",W)}},[z,f]),x.useEffect(()=>{if(!Nn)return;Cn(u||Q?{videoName:u||void 0,srtName:Q||void 0}:void 0)},[Nn,Cn,Q,u]);const Wn=x.useCallback(()=>{const w=n.current;w&&(w.pause(),w.currentTime=0)},[]),Be=x.useCallback(()=>{const w=n.current;w&&(w.paused?w.play().catch(W=>{console.error("Failed to play video",W)}):w.pause())},[]),Je=x.useCallback(()=>{const w=n.current;w&&(w.muted=!w.muted)},[]),Po=x.useCallback(w=>{const W=n.current;if(!W||W.readyState===0)return;const U=Math.min(Math.max(W.currentTime+w,0),Number.isFinite(W.duration)?W.duration:Number.POSITIVE_INFINITY);W.currentTime=U},[]),Ei=x.useCallback(w=>{const W=n.current;if(!W||W.readyState===0)return;const U=Number(w.target.value);Number.isFinite(U)&&(W.currentTime=U,G(U*1e3))},[]),_i=x.useCallback(w=>{const W=n.current;if(!W)return;const U=Number(w.target.value);Number.isFinite(U)&&(W.volume=U,U>0&&(W.muted=!1),rt(U))},[]),Xr=x.useCallback(w=>{const W=n.current;if(!W)return;const U=Math.round(W.volume*100),ye=Math.min(Math.max(U,0),100);let Re=si[0];if(w==="up"){Re=si[si.length-1];for(const xe of si)if(xe>ye){Re=xe;break}}else{Re=si[0];for(let xe=si.length-1;xe>=0;xe-=1){const js=si[xe];if(js<ye){Re=js;break}}}const je=Re/100;W.volume=je,je>0&&(W.muted=!1),rt(je),Ci(Re)},[Ci]),Pi=x.useCallback(async w=>{Wn(),Le(null),X(!0),G(0);const W=await Ec(w),U=await Cc(w);C(w.name),tn([]),ii({subtitleName:w.name,subtitleText:W,subtitleHash:U});const ye=await hi(U);if(ye){tn(ye),X(!1),await ui({name:w.name,bytesHash:U,totalCues:ye.length});return}const Re=r.current;if(Re){const je=crypto.randomUUID();i.current.set(je,{hash:U,fileName:w.name,target:"primary"}),o.current.primary=je,Re.postMessage({id:je,text:W});return}try{const je=Ws(W).map(xe=>({...xe,tokens:xe.tokens??ir(xe.rawText)}));await mr(U,w.name,je)}catch(je){Le(je instanceof Error?je.message:"Failed to parse subtitles"),tn([])}finally{X(!1)}},[mr,tn,Wn]),mn=x.useCallback(async w=>{$e(null),ee(!0);const W=await Ec(w),U=await Cc(w);oe(w.name),Bt([]),ii({secondarySubtitleName:w.name,secondarySubtitleText:W,secondarySubtitleHash:U,secondarySubtitleEnabled:!0});const ye=await hi(U);if(ye){Bt(ye),ee(!1),wt(!0),await ui({name:w.name,bytesHash:U,totalCues:ye.length});return}const Re=r.current;if(Re){const je=crypto.randomUUID();i.current.set(je,{hash:U,fileName:w.name,target:"secondary"}),o.current.secondary=je,Re.postMessage({id:je,text:W});return}try{const je=Ws(W).map(xe=>({...xe,tokens:xe.tokens??ir(xe.rawText)}));await yr(U,w.name,je),wt(!0)}catch(je){$e(je instanceof Error?je.message:"Failed to parse secondary subtitles"),Bt([])}finally{ee(!1)}},[yr,Bt]),gr=x.useCallback(async w=>{const W=w.target.files;if(!W||W.length===0)return;const U=Array.from(W),ye=U.find(xe=>xe.type.startsWith("video/")||xe.name.toLowerCase().endsWith(".mkv"));if(!ye){w.target.value="";return}Wn(),H(0),pr.current=0,G(0),k(ye),ii({videoName:ye.name,videoBlob:ye,videoTimeSeconds:0});const Re=ye.name.replace(/\.[^.]+$/,"").toLowerCase(),je=U.find(xe=>xe.name.toLowerCase()===`${Re}.srt`&&xe!==ye);je&&await Pi(je),w.target.value=""},[Pi,Wn]),En=x.useCallback(async w=>{var U;const W=(U=w.target.files)==null?void 0:U[0];W&&(await Pi(W),w.target.value="")},[Pi]),Ti=x.useCallback(async w=>{var U;const W=(U=w.target.files)==null?void 0:U[0];W&&(await mn(W),w.target.value="")},[mn]),ba=()=>{const w=n.current;if(!w)return;const W=w.currentTime*1e3;if(bs&&!w.paused){const U=yn(W);if(U!==null){w.currentTime=U/1e3,G(U);return}}G(W),w.currentTime-pr.current>=2&&(pr.current=w.currentTime,ii({videoTimeSeconds:w.currentTime}))},nn=x.useMemo(()=>v.filter(w=>{const W=w.startMs+J,U=w.endMs+J;return W<=I&&U>=I}),[v,I,J]),Ri=x.useMemo(()=>Y.filter(w=>{const W=w.startMs+ie,U=w.endMs+ie;return W<=I&&U>=I}),[Y,I,ie]),Hn=x.useMemo(()=>Sh(I),[I]),To=x.useMemo(()=>dt?Sh(dt):"--:--",[dt]),Oi=x.useMemo(()=>dt?Math.min(100,Math.max(0,I/dt*100)):0,[I,dt]),We=x.useCallback(w=>{for(const W of v){const U=W.startMs+J;if(U>w+50)return Math.max(0,U)}return null},[v,J]),Kt=x.useCallback(w=>{for(let W=v.length-1;W>=0;W-=1){const ye=v[W].startMs+J;if(ye<w-50)return Math.max(0,ye)}return null},[v,J]),yn=x.useCallback(w=>{let W=null;for(const U of v){const ye=U.startMs+J,Re=U.endMs+J;if(w>=ye&&w<=Re)return null;if(ye>w)return W===null?ye-w>150?Math.max(0,ye):null:w-W>150?Math.max(0,ye):null;W=Re}return null},[v,J]),Vn=x.useCallback((w,W={})=>{var ye;const U=n.current;U&&(U.currentTime=w/1e3,G(w),W.focus!==!1&&((ye=t.current)==null||ye.focus()))},[]),rn=x.useCallback(w=>{Ce(W=>{const U=W+w;return ii({subtitleOffsetMs:U}),U})},[]),_n=x.useCallback(w=>{we(W=>{const U=W+w;return ii({secondarySubtitleOffsetMs:U}),U})},[]),qn=x.useCallback(()=>{Y.length!==0&&wt(w=>{const W=!w;return ii({secondarySubtitleEnabled:W}),W})},[Y.length]),Mi=x.useCallback(()=>{const w=We(I);w!==null&&Vn(w)},[I,We,Vn]),Pn=x.useCallback(()=>{const w=Kt(I);w!==null&&Vn(w)},[I,Kt,Vn]),Ro=x.useMemo(()=>We(I),[I,We]),Li=x.useMemo(()=>Kt(I),[I,Kt]),Tn=x.useCallback(()=>{var w;(w=t.current)==null||w.focus()},[]),Pe=x.useCallback(()=>{hr.current!==null&&(window.clearTimeout(hr.current),hr.current=null)},[]),Qn=x.useCallback(()=>{jn.current!==null&&(window.clearTimeout(jn.current),jn.current=null)},[]),Jr=x.useCallback(()=>{Pe(),ke&&(hr.current=window.setTimeout(()=>{Pt(!1)},2500))},[Pe,ke]),xr=x.useCallback(()=>{Pt(!0),Jr()},[Jr]),Rn=x.useCallback(()=>{Qn(),Jt&&(jn.current=window.setTimeout(()=>{Un(!1)},1e3))},[Qn,Jt]),ks=x.useCallback(()=>{Un(!0),Rn()},[Rn]),Oo=x.useCallback(()=>{xr(),ks()},[xr,ks]),Yn=x.useMemo(()=>Gr??{},[Gr]),Fe=x.useCallback(w=>{Zt(W=>W===w?null:w)},[]),bt=x.useCallback(w=>{var W;return Ae===w?"Press a key":((W=Yn[w])==null?void 0:W.label)??"None"},[Ae,Yn]);x.useEffect(()=>{if(!Ae)return;const w=W=>{if(W.altKey||W.ctrlKey||W.metaKey)return;if(jh(W),W.key==="Escape"){Zt(null);return}if(W.key==="Backspace"||W.key==="Delete"){const ye={[Ae]:void 0};de(ye),Zt(null);return}if(W.key==="Shift"||W.key==="Alt"||W.key==="Control"||W.key==="Meta")return;const U={[Ae]:{code:W.code,label:Rw(W)}};de(U),Zt(null)};return document.addEventListener("keydown",w,!0),()=>{document.removeEventListener("keydown",w,!0)}},[Ae,de]);const wr=x.useCallback(w=>{if(Ae||Tw(w.target)||w.altKey||w.ctrlKey||w.metaKey)return!1;const W={mainSubtitleOffsetBack:()=>{rn(-500)},mainSubtitleOffsetForward:()=>{rn(500)},secondarySubtitleOffsetBack:()=>{_n(-500)},secondarySubtitleOffsetForward:()=>{_n(500)},toggleSecondarySubtitle:()=>{qn()},jumpNextSentence:()=>{Mi()},jumpPrevSentence:()=>{Pn()},toggleMainSubtitleRtl:()=>{se(U=>!U)},toggleSecondarySubtitleRtl:()=>{Ft(U=>!U)},toggleSkipSubtitleGaps:()=>{fr(U=>!U)}};for(const[U,ye]of Object.entries(W)){const Re=Yn[U];if(Re&&Re.code===w.code)return jh(w),ye(),Tn(),!0}return!1},[_n,rn,Tn,Mi,Pn,Ae,Yn,qn]),sn=x.useCallback(w=>wr(w)?!0:xw(w,{video:n.current,seekBy:Po,toggleFullscreen:vr,toggleMute:Je,togglePlayback:Be,toggleSecondarySubtitle:qn,stepVolume:Xr,ignoreSecondarySubtitleShortcut:!!Yn.toggleSecondarySubtitle}),[wr,Po,Yn,Xr,vr,Je,Be,qn]),Zr=x.useCallback(w=>{sn(w.nativeEvent)&&(w.preventDefault(),w.stopPropagation())},[sn]);return x.useEffect(()=>{if(e)return document.addEventListener("keydown",sn,!0),()=>{document.removeEventListener("keydown",sn,!0)}},[sn,e]),x.useEffect(()=>{if(e)return;const w=n.current;w&&!w.paused&&w.pause()},[e]),x.useEffect(()=>{if(!ke){Pe(),Pt(!0);return}Jr()},[Pe,ke,Jr]),x.useEffect(()=>{if(!Jt){Qn(),Un(!0);return}Rn()},[Qn,Jt,Rn]),x.useEffect(()=>()=>{Pe(),Qn()},[Pe,Qn]),x.useEffect(()=>()=>{$n.current!==null&&window.clearTimeout($n.current)},[]),a.jsx("div",{className:"space-y-6",onKeyDown:Zr,children:a.jsxs("section",{className:"space-y-4",children:[a.jsxs("div",{ref:t,className:`relative aspect-video overflow-hidden rounded-lg bg-black shadow-xl focus:outline-none focus-visible:none ${Jt&&!_o?"cursor-none":""}`,onDoubleClick:vr,onMouseMove:Oo,onMouseLeave:()=>{ke&&Pt(!1)},onFocusCapture:xr,tabIndex:-1,children:[a.jsx("video",{ref:n,className:"h-full w-full focus:outline-none focus-visible:outline-none",onClick:()=>{Be(),Tn()},onTimeUpdate:ba,src:f??void 0,preload:"metadata",tabIndex:-1,children:a.jsx("track",{kind:"subtitles",srcLang:"en",label:Q||"Subtitles"})}),a.jsx("div",{className:`pointer-events-none absolute inset-0 z-40 flex items-center justify-center transition-opacity duration-300 ${Dn===null?"opacity-0":"opacity-100"}`,"aria-hidden":!0,children:a.jsxs("div",{className:"rounded-full bg-black/50 px-4 py-2 text-lg font-semibold text-white/90 shadow-lg backdrop-blur-sm",children:[Dn??Math.round(ct*100),"%"]})}),a.jsx("div",{className:`absolute inset-x-0 bottom-0 z-20 flex flex-col gap-3 bg-gradient-to-t from-black/80 via-black/40 to-transparent px-4 pb-4 pt-6 text-white transition-opacity duration-300 ${ws?"opacity-100":"pointer-events-none opacity-0"}`,onDoubleClick:w=>w.stopPropagation(),children:a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("input",{type:"range",min:0,max:dt?Math.max(dt/1e3,0):0,step:.1,value:dt?Math.min(I/1e3,dt/1e3):0,onChange:Ei,onKeyDown:Zr,onFocus:w=>{w.currentTarget.blur(),Tn()},className:"player-timeline w-full cursor-pointer","aria-label":"Seek position",disabled:!dt,tabIndex:-1,style:{"--timeline-gradient":`linear-gradient(90deg, rgba(56, 189, 248, 0.6) 0%, rgba(56, 189, 248, 0.6) ${Oi}%, rgba(148, 163, 184, 0.35) ${Oi}%, rgba(148, 163, 184, 0.35) 100%)`}}),a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-sm",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxs("button",{type:"button",className:`group play-variant variant-24 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-200 ${ke?"is-paused":""}`,onClick:()=>{Be(),Tn()},"aria-label":ke?"Pause video":"Play video",children:[a.jsx("span",{className:"play-variant-icon","aria-hidden":!0}),a.jsx("span",{className:"player-tooltip",children:"Space"})]}),a.jsxs("div",{className:"group relative flex items-center gap-2",children:[a.jsxs("button",{type:"button",className:"player-icon-button text-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-200",onClick:()=>{Je(),Tn()},"aria-label":ve?"Unmute video":"Mute video",children:[a.jsx("span",{"aria-hidden":!0,children:ve?"":""}),a.jsx("span",{className:"player-tooltip",children:"M"})]}),a.jsx("div",{className:"max-w-0 overflow-hidden transition-all duration-300 group-hover:max-w-[120px]",children:a.jsx("input",{id:"player-volume",type:"range",min:0,max:1,step:.05,value:ve?0:ct,onChange:_i,onKeyDown:Zr,className:"player-volume w-24 cursor-pointer","aria-label":"Volume"})})]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/70",style:{fontFamily:'"Comic Sans MS", "Comic Sans", cursive'},children:[Hn," / ",To]}),a.jsx("div",{className:"flex flex-wrap items-center gap-2",children:a.jsx("div",{className:"flex flex-row-reverse items-center gap-2",children:a.jsxs("button",{type:"button",className:"group player-icon-button text-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-200",onClick:()=>{vr(),Tn()},"aria-label":Jt?"Exit fullscreen":"Enter fullscreen",children:[a.jsx("span",{"aria-hidden":!0,children:""}),a.jsx("span",{className:"player-tooltip",children:"F"})]})})})]})]})}),xt&&Ri.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"pointer-events-none absolute inset-0 z-30 flex flex-col justify-start p-6",children:a.jsx("div",{className:"pointer-events-none flex flex-col items-center gap-3",children:Ri.map(w=>a.jsx("div",{className:"subtitle-overlay subtitle-overlay-secondary subtitle-overlay-bg max-w-3xl text-center",children:a.jsx(Ch,{cue:w,isRtl:ot,className:"justify-center text-center"})},`${w.startMs}-${w.endMs}-bg`))})}),a.jsx("div",{className:"pointer-events-none absolute inset-0 z-40 flex flex-col justify-start p-6",children:a.jsx("div",{className:"pointer-events-none flex flex-col items-center gap-3",children:Ri.map(w=>a.jsx("div",{className:"subtitle-overlay subtitle-overlay-secondary max-w-3xl text-center",children:a.jsx(Nh,{cue:w,classForToken:Yr,onTokenClick:Ni,onTokenContextMenu:Ss,isRtl:ot,className:"justify-center text-center"})},`${w.startMs}-${w.endMs}`))})})]}),nn.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"pointer-events-none absolute inset-0 z-30 flex flex-col justify-end p-6",children:a.jsx("div",{className:"pointer-events-none flex flex-col items-center gap-3",children:nn.map(w=>a.jsx("div",{className:"subtitle-overlay subtitle-overlay-bg max-w-3xl text-center",children:a.jsx(Ch,{cue:w,isRtl:De,className:"justify-center text-center"})},`${w.startMs}-${w.endMs}-bg`))})}),a.jsx("div",{className:"pointer-events-none absolute inset-0 z-40 flex flex-col justify-end p-6",children:a.jsx("div",{className:"pointer-events-none flex flex-col items-center gap-3",children:nn.map(w=>a.jsx("div",{className:"subtitle-overlay max-w-3xl text-center",children:a.jsx(Nh,{cue:w,classForToken:Yr,onTokenClick:Ni,onTokenContextMenu:Ss,isRtl:De,className:"justify-center text-center"})},`${w.startMs}-${w.endMs}`))})})]})]}),a.jsxs("div",{className:"space-y-4 rounded-lg border border-white/10 bg-white/5 p-4 text-sm text-white/80",children:[a.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[a.jsxs("label",{className:"flex w-full cursor-pointer flex-col gap-2 rounded-lg border border-dashed border-white/20 bg-white/5 p-4 text-sm hover:border-white/40",children:[a.jsx("span",{className:"font-medium",children:"Load video"}),a.jsx("input",{type:"file",accept:"video/*,video/x-matroska,.mkv,.MKV",multiple:!0,className:"hidden",onChange:gr}),a.jsx("span",{className:"text-xs text-white/60",children:"Automatically pairs a matching .srt when selected together."}),a.jsxs("span",{className:"text-xs text-white/60",children:["Current: ",u||"None"]})]}),a.jsxs("label",{className:"flex w-full cursor-pointer flex-col gap-2 rounded-lg border border-dashed border-white/20 bg-white/5 p-4 text-sm hover:border-white/40",children:[a.jsx("span",{className:"font-medium",children:"Load subtitles (SRT)"}),a.jsx("input",{type:"file",accept:".srt",className:"hidden",onChange:En}),a.jsxs("span",{className:"text-xs text-white/60",children:["Current: ",Q||"None"]}),Z&&a.jsx("span",{className:"text-xs text-amber-300",children:"Processing subtitles"}),he&&a.jsx("span",{className:"text-xs text-red-400",children:he})]}),a.jsxs("label",{className:"flex w-full cursor-pointer flex-col gap-2 rounded-lg border border-dashed border-white/20 bg-white/5 p-4 text-sm hover:border-white/40",children:[a.jsx("span",{className:"font-medium",children:"Load second subtitles (SRT, optional)"}),a.jsx("input",{type:"file",accept:".srt",className:"hidden",onChange:Ti}),a.jsxs("span",{className:"text-xs text-white/60",children:["Current: ",re||"None"]}),V&&a.jsx("span",{className:"text-xs text-amber-300",children:"Processing second subtitles"}),Ee&&a.jsx("span",{className:"text-xs text-red-400",children:Ee})]})]}),a.jsxs("details",{className:"rounded-lg border border-white/10 bg-white/5 p-4 text-sm",children:[a.jsx("summary",{className:"cursor-pointer list-none font-medium text-white/90",children:"More controls & keyboard shortcuts"}),a.jsxs("div",{className:"mt-4 space-y-3 text-xs text-white/70",children:[a.jsx("p",{className:"text-xs text-white/60",children:"Click a shortcut badge, then press a key. Press Backspace/Delete to clear."}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-xs text-white/80",children:[a.jsx("thead",{className:"text-[11px] uppercase tracking-wide text-white/50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2 pr-4",children:"Function"}),a.jsx("th",{className:"py-2 text-right sm:text-left",children:"Shortcut (click to change)"})]})}),a.jsxs("tbody",{className:"divide-y divide-white/10",children:[a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 pr-4",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Main subtitles timing"}),a.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",onClick:()=>{rn(-500)},children:"0.5s"}),a.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",onClick:()=>{rn(500)},children:"+0.5s"}),a.jsxs("span",{className:"text-xs text-white/60",children:["Offset: ",J>=0?"+":"",(J/1e3).toFixed(1),"s"]})]})}),a.jsx("td",{className:"py-3",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:justify-start",children:[a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Ae==="mainSubtitleOffsetBack"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>Fe("mainSubtitleOffsetBack"),"aria-pressed":Ae==="mainSubtitleOffsetBack",children:bt("mainSubtitleOffsetBack")}),a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Ae==="mainSubtitleOffsetForward"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>Fe("mainSubtitleOffsetForward"),"aria-pressed":Ae==="mainSubtitleOffsetForward",children:bt("mainSubtitleOffsetForward")})]})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 pr-4",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Second subtitles timing"}),a.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>{_n(-500)},disabled:Y.length===0,children:"0.5s"}),a.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>{_n(500)},disabled:Y.length===0,children:"+0.5s"}),a.jsxs("span",{className:"text-xs text-white/60",children:["Offset: ",ie>=0?"+":"",(ie/1e3).toFixed(1),"s"]})]})}),a.jsx("td",{className:"py-3",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:justify-start",children:[a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Ae==="secondarySubtitleOffsetBack"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>Fe("secondarySubtitleOffsetBack"),"aria-pressed":Ae==="secondarySubtitleOffsetBack",children:bt("secondarySubtitleOffsetBack")}),a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Ae==="secondarySubtitleOffsetForward"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>Fe("secondarySubtitleOffsetForward"),"aria-pressed":Ae==="secondarySubtitleOffsetForward",children:bt("secondarySubtitleOffsetForward")})]})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 pr-4",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Second subtitles visible"}),a.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 text-xs font-medium text-white transition hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>{qn()},disabled:Y.length===0,children:xt?"On":"Off"})]})}),a.jsx("td",{className:"py-3",children:a.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:justify-start",children:a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Ae==="toggleSecondarySubtitle"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>Fe("toggleSecondarySubtitle"),"aria-pressed":Ae==="toggleSecondarySubtitle",children:bt("toggleSecondarySubtitle")})})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 pr-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Main subtitles right-to-left order"}),a.jsx("input",{type:"checkbox",checked:De,onChange:w=>se(w.target.checked),className:"h-3 w-3 rounded border-white/30 bg-slate-900"})]})}),a.jsx("td",{className:"py-3",children:a.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:justify-start",children:a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Ae==="toggleMainSubtitleRtl"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>Fe("toggleMainSubtitleRtl"),"aria-pressed":Ae==="toggleMainSubtitleRtl",children:bt("toggleMainSubtitleRtl")})})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 pr-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Second subtitles right-to-left order"}),a.jsx("input",{type:"checkbox",checked:ot,onChange:w=>Ft(w.target.checked),className:"h-3 w-3 rounded border-white/30 bg-slate-900"})]})}),a.jsx("td",{className:"py-3",children:a.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:justify-start",children:a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Ae==="toggleSecondarySubtitleRtl"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>Fe("toggleSecondarySubtitleRtl"),"aria-pressed":Ae==="toggleSecondarySubtitleRtl",children:bt("toggleSecondarySubtitleRtl")})})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 pr-4",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Jump to next sentence"}),a.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>{const w=We(I);w!==null&&Vn(w,{focus:!1})},disabled:Ro===null,children:"Next"})]})}),a.jsx("td",{className:"py-3",children:a.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:justify-start",children:a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Ae==="jumpNextSentence"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>Fe("jumpNextSentence"),"aria-pressed":Ae==="jumpNextSentence",children:bt("jumpNextSentence")})})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 pr-4",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Jump to previous sentence"}),a.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>{const w=Kt(I);w!==null&&Vn(w,{focus:!1})},disabled:Li===null,children:"Back"})]})}),a.jsx("td",{className:"py-3",children:a.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:justify-start",children:a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Ae==="jumpPrevSentence"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>Fe("jumpPrevSentence"),"aria-pressed":Ae==="jumpPrevSentence",children:bt("jumpPrevSentence")})})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 pr-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Skip all gaps between sentences"}),a.jsx("input",{type:"checkbox",checked:bs,onChange:w=>fr(w.target.checked),className:"h-3 w-3 rounded border-white/30 bg-slate-900"})]})}),a.jsx("td",{className:"py-3",children:a.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:justify-start",children:a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Ae==="toggleSkipSubtitleGaps"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>Fe("toggleSkipSubtitleGaps"),"aria-pressed":Ae==="toggleSkipSubtitleGaps",children:bt("toggleSkipSubtitleGaps")})})})]})]})]})})]})]})]})]})})}const Ow="./word-frequency.csv";function Mw(e){const t=e.split(/\r?\n/),n=new Map;for(let r=1;r<t.length;r+=1){const i=t[r];if(!i)continue;const o=i.indexOf(","),u=(o===-1?i:i.slice(0,o)).trim().toLowerCase();!u||n.has(u)||n.set(u,r)}return n}async function Lw(){const e=await fetch(Ow);if(!e.ok)throw new Error("Failed to load frequency list.");const t=await e.text();return Mw(t)}let bu=null;function Fw(){return bu||(bu=Lw()),bu}function Iw(e,t){if(!t)return null;const n=t.get(e.stem.toLowerCase());if(typeof n=="number")return n;const r=t.get(e.normalized.toLowerCase());return typeof r=="number"?r:null}function Aw({word:e,frequencyRank:t,onDelete:n,visibleColumns:r}){return a.jsxs("tr",{className:"hover:bg-white/5",children:[r.word&&a.jsx("td",{className:"px-4 py-2 font-medium",children:e.original}),r.originalSentence&&a.jsx("td",{className:"px-4 py-2 text-white/70",children:e.originalSentence?a.jsx("span",{className:"block max-w-xl break-words",children:e.originalSentence}):""}),r.normalized&&a.jsx("td",{className:"px-4 py-2 text-white/70",children:e.normalized}),r.stem&&a.jsx("td",{className:"px-4 py-2 text-white/70",children:e.stem}),r.frequencyRank&&a.jsx("td",{className:"px-4 py-2 text-right text-white/70",children:typeof t=="number"?`#${t.toLocaleString()}`:"-"}),r.updatedAt&&a.jsx("td",{className:"px-4 py-2 text-right text-white/60",children:new Date(e.updatedAt).toLocaleString()}),r.actions&&a.jsx("td",{className:"px-4 py-2 text-right",children:a.jsx("button",{type:"button",className:"rounded border border-red-500/40 px-2 py-1 text-xs font-medium text-red-300 hover:bg-red-500/10",onClick:()=>{n(e.id)},children:"Delete"})})]})}function zw(){const[e,t]=x.useState(null),[n,r]=x.useState(null),[i,o]=x.useState(!1),[u,f]=x.useState(null),[p,g]=x.useState("updatedAt"),[k,S]=x.useState("desc"),[_,B]=x.useState(!1),[z,H]=x.useState({word:!0,originalSentence:!0,normalized:!0,stem:!0,frequencyRank:!0,updatedAt:!0,actions:!0}),[Q,C]=x.useState(null),v=yt(re=>re.words),N=yt(re=>re.initialized),I=yt(re=>re.initialize),G=yt(re=>re.removeWord),Z=yt(re=>re.reanalyzeStems);x.useEffect(()=>{N||I()},[N,I]),x.useEffect(()=>{let re=!1;return o(!0),f(null),Fw().then(oe=>{re||C(oe)}).catch(oe=>{re||f(oe instanceof Error?oe.message:"Unable to load frequency list.")}).finally(()=>{re||o(!1)}),()=>{re=!0}},[]);const X=x.useMemo(()=>{const re=new Map;for(const oe of v)re.set(oe.id,Iw(oe,Q));return re},[Q,v]),J=x.useMemo(()=>{const re=[...v],oe=k==="asc"?1:-1;return re.sort((Y,be)=>{if(p==="alphabetical")return Y.normalized.localeCompare(be.normalized,void 0,{sensitivity:"base"})*oe;if(p==="frequencyRank"){const V=X.get(Y.id),ee=X.get(be.id),ie=typeof V=="number"?V:Number.POSITIVE_INFINITY,we=typeof ee=="number"?ee:Number.POSITIVE_INFINITY;return ie!==we?k==="asc"?ie-we:we-ie:Y.normalized.localeCompare(be.normalized,void 0,{sensitivity:"base"})}return(Y.updatedAt-be.updatedAt)*oe}),re},[X,k,p,v]),Ce=x.useCallback(async()=>{var oe;const re=J.map(Y=>Y.original).join(`
`);if(re.trim()===""){t(null),r("No words available to copy.");return}try{if((oe=navigator.clipboard)!=null&&oe.writeText)await navigator.clipboard.writeText(re);else{const Y=document.createElement("textarea");Y.value=re,Y.setAttribute("readonly","true"),Y.style.position="absolute",Y.style.left="-9999px",document.body.appendChild(Y),Y.select(),document.execCommand("copy"),document.body.removeChild(Y)}t(null),r(`Copied ${J.length} word${J.length===1?"":"s"} to the clipboard.`)}catch(Y){r(null),t(Y instanceof Error?Y.message:"Failed to copy words.")}},[J]),he=x.useCallback(async()=>{var oe;const re=J.map(Y=>{const be=(Y.originalSentence??"").trim();return`${Y.original}, as in "${be}"`}).join(`
`);if(re.trim()===""){t(null),r("No words available to copy.");return}try{if((oe=navigator.clipboard)!=null&&oe.writeText)await navigator.clipboard.writeText(re);else{const Y=document.createElement("textarea");Y.value=re,Y.setAttribute("readonly","true"),Y.style.position="absolute",Y.style.left="-9999px",document.body.appendChild(Y),Y.select(),document.execCommand("copy"),document.body.removeChild(Y)}t(null),r(`Copied ${J.length} word${J.length===1?"":"s"} with sentences.`)}catch(Y){r(null),t(Y instanceof Error?Y.message:"Failed to copy words.")}},[J]),Le=x.useCallback(re=>{g(re),S(re==="updatedAt"?"desc":"asc")},[]),De=x.useCallback(re=>{S(oe=>p===re?oe==="asc"?"desc":"asc":re==="updatedAt"?"desc":"asc"),g(re)},[p]),se=x.useCallback(async()=>{B(!0),t(null),r(null);try{await Z(),r("Re-analyzed stems.")}catch(re){t(re instanceof Error?re.message:"Failed to re-analyze stems.")}finally{B(!1)}},[Z]);return N?J.length===0?a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Unknown Words"}),a.jsx("p",{className:"text-sm text-white/60",children:"Click a word in the player to add it to your learning list."}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>{Ce()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20",children:"Copy Words"}),a.jsx("button",{type:"button",onClick:()=>{he()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20",children:"Copy Words + Sentences"}),a.jsx("a",{href:"https://chatgpt.com/share/69795a95-8b4c-8013-977d-dc008df46bce",target:"_blank",rel:"noreferrer",className:"rounded bg-emerald-500/20 px-3 py-1 text-xs font-medium text-emerald-200 hover:bg-emerald-500/30",children:"Play with ChatGPT"}),a.jsx("button",{type:"button",onClick:()=>{se()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20 disabled:opacity-50",disabled:_,children:_?"Re-analyzing":"Re-analyze"})]}),e&&a.jsx("p",{className:"text-xs text-red-400",children:e}),n&&a.jsx("p",{className:"text-xs text-emerald-400",children:n})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Unknown Words"}),a.jsx("p",{className:"text-xs text-white/50",children:"Review your list or prune items you no longer need."})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>{Ce()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20",children:"Copy Words"}),a.jsx("button",{type:"button",onClick:()=>{he()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20",children:"Copy Words + Sentences"}),a.jsx("a",{href:"https://chatgpt.com/share/69112ad9-3858-8013-a13d-061dd7661a56",target:"_blank",rel:"noreferrer",className:"rounded bg-emerald-500/20 px-3 py-1 text-xs font-medium text-emerald-200 hover:bg-emerald-500/30",children:"Play with ChatGPT"}),a.jsx("button",{type:"button",onClick:()=>{se()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20 disabled:opacity-50",disabled:_,children:_?"Re-analyzing...":"Re-analyze"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-xs text-white/60",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("span",{children:[J.length," items"]}),a.jsxs("label",{className:"flex items-center gap-1",children:[a.jsx("span",{children:"Sort"}),a.jsxs("select",{value:p,onChange:re=>{Le(re.target.value)},className:"rounded border border-white/10 bg-slate-900/80 px-2 py-1 text-white hover:bg-slate-800 focus:outline-none focus-visible:outline-none",children:[a.jsx("option",{value:"updatedAt",className:"bg-slate-900 text-white",children:"Updated"}),a.jsx("option",{value:"alphabetical",className:"bg-slate-900 text-white",children:"A-Z"}),a.jsx("option",{value:"frequencyRank",className:"bg-slate-900 text-white",children:"Frequency Rank"})]})]}),a.jsx("button",{type:"button",className:"rounded border border-white/10 bg-white/5 px-2 py-1 text-white",onClick:()=>S(re=>re==="asc"?"desc":"asc"),children:k==="asc"?"Ascending":"Descending"}),a.jsxs("details",{className:"relative",children:[a.jsxs("summary",{className:"inline-flex cursor-pointer list-none items-center gap-1 rounded border border-white/10 bg-slate-900/80 px-2 py-1 text-white hover:bg-slate-800 focus:outline-none focus-visible:outline-none",children:["View",a.jsx("span",{className:"text-[10px] text-white/70",children:""})]}),a.jsx("div",{className:"absolute left-0 z-10 mt-2 w-56 rounded border border-white/10 bg-slate-900/95 p-3 text-xs text-white shadow-lg",children:[["word","Word"],["originalSentence","Original sentence"],["normalized","Normalized"],["stem","Stem"],["frequencyRank","Frequency Rank"],["updatedAt","Updated"],["actions","Actions"]].map(([re,oe])=>a.jsxs("label",{className:"flex items-center gap-2 py-1",children:[a.jsx("input",{type:"checkbox",className:"h-3 w-3 rounded border-white/30 bg-slate-900",checked:z[re],onChange:()=>H(Y=>({...Y,[re]:!Y[re]}))}),a.jsx("span",{children:oe})]},re))})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i&&a.jsx("span",{children:"Loading frequency ranks..."}),u&&a.jsx("span",{className:"text-amber-300",children:u}),e?a.jsx("span",{className:"text-red-400",children:e}):n?a.jsx("span",{className:"text-emerald-400",children:n}):null]})]}),a.jsx("div",{className:"overflow-hidden rounded-lg border border-white/10",children:a.jsxs("table",{className:"min-w-full divide-y divide-white/10",children:[a.jsx("thead",{className:"bg-white/5 text-left text-xs uppercase tracking-wide text-white/60",children:a.jsxs("tr",{children:[z.word&&a.jsx("th",{className:"px-4 py-2",children:a.jsxs("button",{type:"button",onClick:()=>De("alphabetical"),className:"inline-flex items-center gap-1 hover:text-white",children:["Word",p==="alphabetical"&&a.jsx("span",{className:"text-[10px] text-white/70",children:k==="asc"?"":""})]})}),z.originalSentence&&a.jsx("th",{className:"px-4 py-2",children:"Original sentence"}),z.normalized&&a.jsx("th",{className:"px-4 py-2",children:"Normalized"}),z.stem&&a.jsx("th",{className:"px-4 py-2",children:"Stem"}),z.frequencyRank&&a.jsx("th",{className:"px-4 py-2 text-right",children:a.jsxs("button",{type:"button",onClick:()=>De("frequencyRank"),className:"flex w-full items-center justify-end gap-1 hover:text-white",children:["Frequency Rank",p==="frequencyRank"&&a.jsx("span",{className:"text-[10px] text-white/70",children:k==="asc"?"":""})]})}),z.updatedAt&&a.jsx("th",{className:"px-4 py-2 text-right",children:a.jsxs("button",{type:"button",onClick:()=>De("updatedAt"),className:"flex w-full items-center justify-end gap-1 hover:text-white",children:["Updated",p==="updatedAt"&&a.jsx("span",{className:"text-[10px] text-white/70",children:k==="asc"?"":""})]})}),z.actions&&a.jsx("th",{className:"px-4 py-2 text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-white/10 text-sm",children:J.map(re=>a.jsx(Aw,{word:re,frequencyRank:X.get(re.id)??null,onDelete:G,visibleColumns:z},re.id))})]})})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Unknown Words"}),a.jsx("p",{className:"text-sm text-white/60",children:"Loading your saved vocabulary..."})]})}const Dw=[0,1,2,3],Uw=[".mp4",".mkv",".mov",".avi",".m4v",".webm"],_h={minHeight:"60vh",maxHeight:"calc(100vh - 10rem)"};function ul(e){const t=Math.max(0,Math.floor(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60).toString().padStart(2,"0"),i=(t%60).toString().padStart(2,"0");return n>0?`${n}:${r}:${i}`:`${r}:${i}`}function $w(e,t){return e.some(n=>n.isWord&&(n.normalized===t.normalized||n.stem===t.stem))}function Bw(e){return Ws(e).map(t=>({...t,tokens:t.tokens??ir(t.rawText)}))}function Kw(){const[e,t]=x.useState(null),[n,r]=x.useState(1),[i,o]=x.useState([]),[u,f]=x.useState(!1),[p,g]=x.useState(!1),[k,S]=x.useState(null),[_,B]=x.useState({}),[z,H]=x.useState(!0),[Q,C]=x.useState(null),[v,N]=x.useState(null),[I,G]=x.useState(null),[Z,X]=x.useState(null),J=x.useRef(null),Ce=x.useRef(new Map),he=x.useRef(null),Le=yt($=>$.initialized),De=yt($=>$.initialize),se=yt($=>$.words),re=et($=>$.initialized),oe=et($=>$.initialize),Y=et($=>$.prefs.mediaLibrary);x.useEffect(()=>{Le||De()},[Le,De]),x.useEffect(()=>{re||oe()},[oe,re]),x.useEffect(()=>{const $=new Worker(new URL(""+new URL("srtWorker-CQIlcpsu.js",import.meta.url).href,import.meta.url),{type:"module"}),ke=Se=>{const ve=Ce.current.get(Se.data.id);if(ve){if(Ce.current.delete(Se.data.id),Se.data.error){ve.reject(new Error(Se.data.error));return}ve.resolve(Se.data.cues)}};return $.addEventListener("message",ke),J.current=$,()=>{$.removeEventListener("message",ke),$.terminate(),J.current=null;for(const[,Se]of Ce.current)Se.reject(new Error("Parsing cancelled"));Ce.current.clear()}},[]);const be=x.useCallback(async $=>{const ke=J.current;if(!ke)return Bw($);const Se=typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2);return new Promise((ve,Ue)=>{Ce.current.set(Se,{resolve:ve,reject:Ue}),ke.postMessage({id:Se,text:$})})},[]),V=x.useCallback(async()=>{if(!(Y!=null&&Y.handle))return N("Select a media library folder in Settings to enable playback."),null;try{const $=Y.handle.queryPermission,ke=Y.handle.requestPermission;if(!$||!ke)return Y.handle;const Se=await $.call(Y.handle,{mode:"read"});return Se==="granted"?Y.handle:Se==="denied"?(N("Folder access denied. Re-select the library and allow access."),null):await ke.call(Y.handle,{mode:"read"})==="granted"?Y.handle:(N("Folder access denied. Re-select the library and allow access."),null)}catch($){return N($ instanceof Error?$.message:"Unable to use media library."),null}},[Y]),ee=x.useCallback(async $=>{const ke=await V();if(!ke)return null;const Se=$.toLowerCase(),ve=[ke];for(;ve.length>0;){const Ue=ve.shift();if(!Ue)continue;const ct=Ue.values;if(ct)for await(const rt of ct.call(Ue))if(rt.kind==="file"){const Dn=rt.name.toLowerCase();if(Uw.some(hn=>Dn===`${Se}${hn}`))return rt}else rt.kind==="directory"&&ve.push(rt)}return null},[V]),ie=x.useCallback(async $=>{N(null),G("Searching for matching video");const ke=$.file.name.replace(/\.[^.]+$/,"");try{const Se=await ee(ke);if(!Se){G(null),N("No matching video found under the selected media library.");return}const ve=await Se.getFile(),Ue=URL.createObjectURL(ve);C(ct=>(ct&&URL.revokeObjectURL(ct),Ue)),X({startMs:$.contextStartMs,endMs:$.contextEndMs}),G(`Playing ${Se.name}`),queueMicrotask(()=>{const ct=he.current;ct&&(ct.currentTime=$.contextStartMs/1e3,ct.play())})}catch(Se){G(null),N(Se instanceof Error?Se.message:"Unable to play quote.")}},[ee]),we=x.useCallback(async()=>{f(!0);try{const $=await xy();o($)}finally{f(!1)}},[]);x.useEffect(()=>{we()},[we]),x.useEffect(()=>{let $=!1;if(i.length===0){B({});return}return(async()=>{const ke=await Promise.all(i.map(async ve=>{const Ue=await hi(ve.bytesHash);return[ve.bytesHash,Ue??[]]}));if($)return;const Se={};for(const[ve,Ue]of ke)Se[ve]=Ue;B(Se)})(),()=>{$=!0}},[i]),x.useEffect(()=>()=>{C(ke=>(ke&&URL.revokeObjectURL(ke),null));const $=he.current;$&&($.pause(),$.removeAttribute("src"),$.load())},[]),x.useEffect(()=>{const $=he.current;if(!$||!Z)return;const ke=()=>{Z&&$.currentTime*1e3>=Z.endMs&&$.pause()};return $.addEventListener("timeupdate",ke),()=>{$.removeEventListener("timeupdate",ke)}},[Z,Q]);const Ee=x.useMemo(()=>se,[se]);x.useEffect(()=>{if(Ee.length===0){t(null);return}(!e||!Ee.some($=>$.id===e))&&t(Ee[0].id)},[Ee,e]);const $e=x.useMemo(()=>Ee.find($=>$.id===e)??null,[Ee,e]),xt=x.useMemo(()=>{if(!$e)return[];const $=[];for(const ke of i){const Se=_[ke.bytesHash]??[];Se.forEach((ve,Ue)=>{var dt,dr;const ct=ve.tokens??ir(ve.rawText);if(!$w(ct,$e))return;const rt=Math.max(0,Ue-n),Dn=Math.min(Se.length-1,Ue+n),hn=Se.slice(rt,Dn+1);$.push({id:`${ke.id}:${ve.index}:${rt}:${Dn}`,file:ke,focusIndex:Ue-rt,cues:hn,contextStartMs:((dt=hn[0])==null?void 0:dt.startMs)??ve.startMs,contextEndMs:((dr=hn[hn.length-1])==null?void 0:dr.endMs)??ve.endMs})})}return $.sort((ke,Se)=>ke.file.name===Se.file.name?ke.contextStartMs-Se.contextStartMs:ke.file.name.localeCompare(Se.file.name))},[$e,i,_,n]),wt=x.useCallback($=>{t($)},[]),ot=x.useCallback($=>{r(Number($.target.value))},[]),Ft=x.useCallback(async $=>{const ke=$.target.files;if(!(!ke||ke.length===0)){g(!0),S(null);try{for(const Se of Array.from(ke))try{const ve=await Cc(Se);let Ue=await hi(ve);if(!Ue){const ct=await Ec(Se);Ue=await be(ct),await _c(ve,Ue)}await ui({name:Se.name,bytesHash:ve,totalCues:Ue.length})}catch(ve){const Ue=ve instanceof Error?ve.message:"Failed to add subtitle file.";S(`Failed to process ${Se.name}: ${Ue}`)}await we()}finally{g(!1),$.target.value=""}}},[be,we]),Jt=x.useCallback(async $=>{await kw($.id),B(ke=>{const Se={...ke};return delete Se[$.bytesHash],Se}),await we()},[we]);return a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr,2fr]",children:[a.jsx("section",{className:"space-y-4",children:a.jsxs("div",{className:"rounded-lg bg-black/40 p-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Unknown words"}),Ee.length===0?a.jsx("p",{className:"mt-3 text-sm text-white/60",children:"Add words from the player to explore their quotes."}):a.jsx("div",{className:"mt-3 space-y-2 overflow-y-auto pr-1",style:{minHeight:_h.minHeight,maxHeight:_h.maxHeight},children:Ee.map($=>a.jsx("div",{children:a.jsxs("button",{type:"button",onClick:()=>wt($.id),className:`flex w-full flex-col gap-1 rounded-lg border px-3 py-2 text-left transition focus:outline-none focus-visible:outline-none ${$.id===e?"border-emerald-500 bg-emerald-500/10 text-white":"border-white/10 bg-white/5 text-white/80 hover:border-white/20 hover:text-white"}`,children:[a.jsx("span",{className:"text-sm font-medium text-white",children:$.original}),a.jsx("div",{className:"text-xs text-white/60",children:"Tap to see contexts"})]})},$.id))})]})}),a.jsxs("section",{className:"space-y-6",children:[a.jsxs("div",{className:"rounded-lg bg-black/40 p-4",children:[a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Subtitle sources"}),a.jsx("p",{className:"text-sm text-white/60",children:"Quotes are gathered from the files listed below."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>H($=>!$),disabled:i.length===0,className:`rounded-md border px-3 py-2 text-xs font-medium text-white transition focus:outline-none focus-visible:outline-none ${i.length===0?"cursor-not-allowed border-white/10 bg-white/5 text-white/40":"border-white/20 bg-white/10 hover:border-white/30 hover:bg-white/20"}`,children:i.length===0?"No files yet":z?"Collapse list":`Expand list (${i.length})`}),a.jsxs("label",{className:"inline-flex cursor-pointer items-center gap-2 rounded-md border border-dashed border-white/20 bg-white/5 px-3 py-2 text-sm text-white/80 transition hover:border-white/40",children:[a.jsx("input",{type:"file",accept:".srt",multiple:!0,className:"hidden",onChange:Ft}),a.jsx("span",{className:"font-medium",children:"Add subtitles"})]})]})]}),p&&a.jsx("p",{className:"mt-3 text-xs text-white/50",children:"Processing subtitle files"}),k&&a.jsx("p",{className:"mt-2 text-xs text-red-400",children:k}),z?a.jsx("ul",{className:"mt-4 max-h-64 space-y-2 overflow-y-auto pr-1",children:u?a.jsx("li",{className:"text-sm text-white/60",children:"Loading files"}):i.length===0?a.jsx("li",{className:"text-sm text-white/60",children:"No subtitle files stored yet."}):i.map($=>a.jsxs("li",{className:"flex items-center justify-between rounded-md border border-white/10 bg-white/5 px-3 py-2 text-sm text-white/80",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-white",children:$.name}),a.jsxs("div",{className:"text-xs text-white/50",children:[$.totalCues," cues  Added ",new Date($.addedAt).toLocaleString()]})]}),a.jsx("button",{type:"button",onClick:()=>Jt($),className:"rounded bg-white/10 px-2 py-1 text-xs text-white transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",children:"Remove"})]},$.id))}):a.jsx("p",{className:"mt-4 text-sm text-white/70",children:u?"Loading files":i.length===0?"No subtitle files stored yet.":`${i.length} subtitle file${i.length===1?"":"s"} stored. Expand to manage them.`})]}),a.jsxs("div",{className:"rounded-lg bg-black/40 p-4",children:[a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Quote contexts"}),a.jsxs("label",{className:"flex items-center gap-2 text-sm text-white/70",children:[a.jsx("span",{children:"Context lines"}),a.jsx("select",{value:n,onChange:ot,className:"rounded-md border border-white/20 bg-white/5 px-2 py-1 focus:outline-none focus-visible:outline-none",children:Dw.map($=>a.jsx("option",{value:$,children:$},$))})]})]}),a.jsxs("div",{className:"mt-3 space-y-2 rounded-md border border-white/10 bg-black/40 p-3 text-sm text-white/80",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Quote playback"}),I&&a.jsx("span",{className:"text-xs text-white/60",children:I})]}),Q?a.jsx("video",{ref:he,controls:!0,className:"w-full rounded border border-white/10",src:Q,onLoadedMetadata:()=>{Z&&he.current&&(he.current.currentTime=Z.startMs/1e3)}}):a.jsx("p",{className:"text-xs text-white/60",children:"Select a media library folder in Settings to enable quote playback. Matching videos will be looked up by subtitle filename."}),Z&&a.jsxs("p",{className:"text-xs text-white/60",children:["Segment: ",ul(Z.startMs),"  ",ul(Z.endMs)]}),v&&a.jsx("p",{className:"text-xs text-red-400",children:v})]}),$e?xt.length===0?a.jsx("p",{className:"mt-3 text-sm text-white/60",children:"No quotes found for this word in the stored subtitle files."}):a.jsx("ul",{className:"mt-4 space-y-4",children:xt.map($=>a.jsxs("li",{className:"space-y-2 rounded-md border border-white/10 bg-white/5 p-3 text-sm text-white/80",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-xs text-white/60",children:[a.jsx("span",{className:"font-medium text-white",children:$.file.name}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("span",{children:[ul($.contextStartMs),"  ",ul($.contextEndMs)]}),a.jsx("button",{type:"button",onClick:()=>void ie($),disabled:!(Y!=null&&Y.handle),className:"rounded border border-white/20 bg-white/10 px-2 py-1 text-[11px] font-medium text-white transition hover:border-white/30 hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/10 disabled:text-white/40",children:"Play quote"})]})]}),a.jsx("div",{className:"space-y-1 rounded bg-black/40 p-2",children:$.cues.map((ke,Se)=>a.jsx("p",{className:`whitespace-pre-line ${Se===$.focusIndex?"font-semibold text-white":"text-white/80"}`,children:ke.rawText},`${ke.index}-${Se}`))})]},$.id))}):a.jsx("p",{className:"mt-3 text-sm text-white/60",children:"Select a word to see how it appears across your subtitles."})]})]})]})}const jl="prefs";function wa(e){return{...e,mediaLibrary:void 0}}function Zl(e){const{videoBlob:t,...n}=e;return n}function Mr(e){return Array.isArray(e)?e:[]}function Ph(e){if(typeof e!="string")return e;const t=e.trim();if(!t)return e;try{return JSON.parse(t)}catch{return e}}function Th(e){if(!e||typeof e!="object")return!1;const t=e;return Array.isArray(t.words)||Array.isArray(t.subtitleFiles)||Array.isArray(t.subtitleCues)||Array.isArray(t.sessions)||!!(t.prefs&&typeof t.prefs=="object")}function by(e){if(!e||typeof e!="object")throw new Error("Invalid backup file.");const t=[e,e.data,e.payload,e.backup];for(const n of t){const r=Ph(n);if(Th(r))return r;if(r&&typeof r=="object"&&"data"in r){const i=Ph(r.data);if(Th(i))return i}}throw new Error("Invalid backup file: missing data.")}function Sy(e,t,n,r,i){return{words:e.length,subtitleFiles:t.length,subtitleCues:n.length,sessions:r.length,hasPrefs:!!i}}function Ww(e){const t=by(e),n=Mr(t.words),r=Mr(t.subtitleFiles),i=Mr(t.subtitleCues),o=t.prefs&&typeof t.prefs=="object"?wa(t.prefs):void 0,u=Mr(t.sessions).map(Zl);return Sy(n,r,i,u,o)}function Tc(e,t){return e&&e.trim()?e:t??""}function Hw(e,t){const n=new Map,r=i=>`${i.normalized}::${i.stem}`;for(const i of e)n.set(r(i),i);for(const i of t){const o=r(i),u=n.get(o);if(!u){n.set(o,i);continue}const f=(i.updatedAt??0)>=(u.updatedAt??0),p=f?i:u,g=f?u:i,k=Math.min(u.createdAt??p.createdAt??Date.now(),i.createdAt??p.createdAt??Date.now());n.set(o,{id:u.id,original:Tc(p.original,g.original),originalSentence:Tc(p.originalSentence,g.originalSentence)||void 0,normalized:u.normalized||i.normalized,stem:u.stem||i.stem,createdAt:k,updatedAt:Math.max(u.updatedAt??0,i.updatedAt??0)})}return Array.from(n.values())}function Vw(e,t){const n=new Map;for(const r of e)n.set(r.bytesHash,r);for(const r of t){const i=n.get(r.bytesHash);if(!i){n.set(r.bytesHash,r);continue}const o=(r.addedAt??0)>=(i.addedAt??0),u=o?r:i,f=o?i:r;n.set(r.bytesHash,{id:i.id,name:Tc(u.name,f.name),bytesHash:i.bytesHash,totalCues:Math.max(i.totalCues??0,r.totalCues??0),language:u.language??f.language,addedAt:Math.max(i.addedAt??0,r.addedAt??0)})}return Array.from(n.values())}function qw(e,t){const n=new Map;for(const r of e)n.set(r.id,r);for(const r of t)n.set(r.id,r);return Array.from(n.values())}function Qw(e,t){if(!t)return e;const n=e??t;return wa({...n,...t,subtitleStyle:{...n.subtitleStyle,...t.subtitleStyle},highlightColors:{...n.highlightColors,...t.highlightColors}})}function Yw(e,t){const n=new Map;for(const r of e)n.set(r.id,r);for(const r of t){const i=n.get(r.id);(!i||(r.updatedAt??0)>=(i.updatedAt??0))&&n.set(r.id,r)}return Array.from(n.values())}async function cl(e,t,n,r){if(t.length!==0)for(let i=0;i<t.length;i+=n){const o=t.slice(i,i+n);await e.bulkPut(o),r(o.length)}}async function Gw(){const[e,t,n,r,i]=await Promise.all([Ze([],()=>Ne.words.toArray()),Ze([],()=>Ne.subtitleFiles.toArray()),Ze([],()=>Ne.subtitleCues.toArray()),Ze(void 0,()=>Ne.prefs.get(jl)),Ze([],()=>Ne.sessions.toArray())]),o=r!=null&&r.value?wa(r.value):void 0,u=i.map(Zl);return{payload:{version:1,exportedAt:new Date().toISOString(),data:{words:e,subtitleFiles:t,subtitleCues:n,prefs:o,sessions:u}},counts:{words:e.length,addedWords:0,subtitleFiles:t.length,addedSubtitleFiles:0,subtitleCues:n.length,sessions:u.length,hasPrefs:!!o}}}async function Xw(e,t){const n=(V,ee)=>{var ie;(ie=t==null?void 0:t.onProgress)==null||ie.call(t,{percent:V,stage:ee})},r=by(e);if(n(2,"Opening database"),!await Pd())return{words:0,addedWords:0,subtitleFiles:0,addedSubtitleFiles:0,subtitleCues:0,sessions:0,hasPrefs:!1};const o=Mr(r.words),u=Mr(r.subtitleFiles),f=Mr(r.subtitleCues),p=r.prefs&&typeof r.prefs=="object"?wa(r.prefs):void 0,g=Mr(r.sessions).map(Zl),k=Sy(o,u,f,g,p);n(5,"Loading existing data");const[S,_,B,z,H]=await Promise.all([Ze([],()=>Ne.words.toArray()),Ze([],()=>Ne.subtitleFiles.toArray()),Ze([],()=>Ne.subtitleCues.toArray()),Ze(void 0,()=>Ne.prefs.get(jl)),Ze([],()=>Ne.sessions.toArray())]),Q=H.map(Zl);n(25,"Merging data");const C=Hw(S,o),v=Vw(_,u),N=qw(B,f),I=Qw(z==null?void 0:z.value,p),G=Yw(Q,g);Math.max(0,C.length-S.length),Math.max(0,v.length-_.length);const Z=C.length+v.length+N.length+(I?1:0)+G.length;let X=0;const J=35,Ce=95,he=(V,ee=0)=>{if(Z===0){n(Ce,V);return}ee>0&&(X+=ee);const ie=J+X/Z*(Ce-J);n(Math.min(Ce,Math.max(J,ie)),V)};C.length>0&&(he("Saving words"),await At(()=>cl(Ne.words,C,500,V=>he("Saving words",V)))),v.length>0&&(he("Saving subtitle files"),await At(()=>cl(Ne.subtitleFiles,v,200,V=>he("Saving subtitle files",V)))),N.length>0&&(he("Saving subtitle cues"),await At(()=>cl(Ne.subtitleCues,N,1e3,V=>he("Saving subtitle cues",V)))),I&&(he("Saving preferences"),await At(()=>Ne.prefs.put({id:jl,value:I,updatedAt:Date.now()})),he("Saving preferences",1)),G.length>0&&(he("Saving sessions"),await At(()=>cl(Ne.sessions,G,200,V=>he("Saving sessions",V)))),n(100,"Finalizing");const[Le,De,se,re,oe]=await Promise.all([Ze(0,()=>Ne.words.count()),Ze(0,()=>Ne.subtitleFiles.count()),Ze(0,()=>Ne.subtitleCues.count()),Ze(0,()=>Ne.sessions.count()),Ze(void 0,()=>Ne.prefs.get(jl))]),Y=k.words>0||k.subtitleFiles>0||k.subtitleCues>0||k.sessions>0||k.hasPrefs,be=!!(oe!=null&&oe.value);if(Y&&Le===0&&De===0&&se===0&&re===0&&!be)throw new Error("Import did not write any data. Check browser storage permissions and retry.");return{words:Le,addedWords:Math.max(0,Le-S.length),subtitleFiles:De,addedSubtitleFiles:Math.max(0,De-_.length),subtitleCues:se,sessions:re,hasPrefs:be}}function Jw(){const e=et(se=>se.prefs.subtitleStyle),t=et(se=>se.prefs.highlightColors),n=et(se=>se.prefs.mediaLibrary),r=et(se=>se.updateSubtitleStyle),i=et(se=>se.updateHighlightColors),o=et(se=>se.setMediaLibrary),u=et(se=>se.initialized),f=et(se=>se.initialize),[p,g]=x.useState(null),[k,S]=x.useState(null),[_,B]=x.useState(null),[z,H]=x.useState(!1),[Q,C]=x.useState(!1),[v,N]=x.useState(null),[I,G]=x.useState(0),Z=x.useRef(null);x.useEffect(()=>{u||f()},[u,f]),x.useEffect(()=>{if(!Q){G(0);return}const se=Date.now();G(0);const re=window.setInterval(()=>{G(Math.floor((Date.now()-se)/1e3))},1e3);return()=>{window.clearInterval(re)}},[Q]);const X=(se,re)=>{const oe=Number(se.target.value);Number.isFinite(oe)&&r({[re]:re==="lineHeight"?Number(oe.toFixed(2)):oe})},J=typeof window<"u"&&"showDirectoryPicker"in window,Ce=async()=>{var se;if(g(null),!J){g("Your browser does not support choosing a folder");return}try{const re=await((se=window.showDirectoryPicker)==null?void 0:se.call(window));if(!re)return;const oe=re.requestPermission;if(oe&&await oe.call(re,{mode:"read"})==="denied"){g("Folder access was denied. Please allow access to play quotes.");return}await o({handle:re,label:re.name,lastPromptedAt:Date.now()})}catch(re){g(re instanceof Error?re.message:"Unable to pick folder.")}},he=async()=>{g(null),await o(void 0)},Le=async()=>{S(null),B(null),H(!0);try{const{payload:se,counts:re}=await Gw(),oe=new Blob([JSON.stringify(se,null,2)],{type:"application/json"}),Y=URL.createObjectURL(oe),be=document.createElement("a");be.href=Y,be.download=`subtitle-word-tracker-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(be),be.click(),document.body.removeChild(be),URL.revokeObjectURL(Y),B(`Exported ${re.words} word${re.words===1?"":"s"} and ${re.subtitleFiles} subtitle file${re.subtitleFiles===1?"":"s"}.`)}catch(se){B(null),S(se instanceof Error?se.message:"Unable to export data.")}finally{H(!1)}},De=async se=>{var oe;const re=(oe=se.target.files)==null?void 0:oe[0];if(re){S(null),B(null),C(!0),N({percent:5,stage:"Reading file"});try{const Y=await re.text();N({percent:15,stage:"Parsing backup"});const be=JSON.parse(Y),V=Ww(be);N({percent:15,stage:`Parsed backup (${V.words} words, ${V.subtitleFiles} files)`});const ee=await Xw(be,{onProgress:ie=>{const we=Math.min(100,Math.max(15,15+ie.percent*.85));N({percent:we,stage:ie.stage})}});et.setState({initialized:!1}),et.getState().initialize(),yt.setState({initialized:!1}),yt.getState().initialize(),B(`Merged data. Now storing ${ee.words} word${ee.words===1?"":"s"} (${ee.addedWords} added) and ${ee.subtitleFiles} subtitle file${ee.subtitleFiles===1?"":"s"} (${ee.addedSubtitleFiles} added).`)}catch(Y){B(null),S(Y instanceof Error?Y.message:"Unable to import data.")}finally{C(!1),N(null),se.target.value=""}}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Subtitle Appearance"}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Font family"}),a.jsx("input",{type:"text",value:e.fontFamily,onChange:se=>void r({fontFamily:se.target.value}),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Font size (px)"}),a.jsx("input",{type:"number",min:16,max:96,value:e.fontSizePx,onChange:se=>X(se,"fontSizePx"),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Second subtitle font size (px)"}),a.jsx("input",{type:"number",min:16,max:96,value:e.useMainForSecondaryFontSize?e.fontSizePx:e.secondaryFontSizePx,onChange:se=>X(se,"secondaryFontSizePx"),disabled:e.useMainForSecondaryFontSize,className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none disabled:text-white/40"})]}),a.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[a.jsx("input",{type:"checkbox",checked:e.useMainForSecondaryFontSize,onChange:se=>void r({useMainForSecondaryFontSize:se.target.checked}),className:"h-4 w-4 rounded border-white/20 bg-black/60"}),a.jsx("span",{className:"text-white/70",children:"Same as main"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Font weight"}),a.jsx("input",{type:"number",min:300,max:900,step:100,value:e.fontWeight,onChange:se=>X(se,"fontWeight"),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Line height"}),a.jsx("input",{type:"number",min:1,max:2,step:.05,value:e.lineHeight,onChange:se=>X(se,"lineHeight"),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Text color"}),a.jsx("input",{type:"color",value:e.color,onChange:se=>void r({color:se.target.value}),className:"h-10 w-full cursor-pointer rounded-md border border-white/10 bg-black/40"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Background"}),a.jsx("input",{type:"text",value:e.bgColor,onChange:se=>void r({bgColor:se.target.value}),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none",placeholder:"rgba(0,0,0,0.35)"})]}),a.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[a.jsx("input",{type:"checkbox",checked:e.outline,onChange:se=>void r({outline:se.target.checked}),className:"h-4 w-4 rounded border-white/20 bg-black/60"}),a.jsx("span",{className:"text-white/70",children:"Outline text"})]}),a.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[a.jsx("input",{type:"checkbox",checked:e.shadow,onChange:se=>void r({shadow:se.target.checked}),className:"h-4 w-4 rounded border-white/20 bg-black/60"}),a.jsx("span",{className:"text-white/70",children:"Drop shadow"})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Highlight Colors"}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Exact match"}),a.jsx("input",{type:"color",value:t.exact,onChange:se=>void i({exact:se.target.value}),className:"h-10 w-full cursor-pointer rounded-md border border-white/10 bg-black/40"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Variant match"}),a.jsx("input",{type:"color",value:t.variant,onChange:se=>void i({variant:se.target.value}),className:"h-10 w-full cursor-pointer rounded-md border border-white/10 bg-black/40"})]})]})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Media Library"}),a.jsx("p",{className:"text-sm text-white/70",children:"Pick the root folder that contains your shows/movies. This enables future quote-level playback by searching for matching video files alongside your subtitles."}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsx("button",{type:"button",onClick:Ce,className:"rounded-md border border-white/20 bg-white/10 px-3 py-2 text-sm font-medium text-white transition hover:border-white/30 hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/10 disabled:text-white/40",children:"Choose folder"}),a.jsx("button",{type:"button",onClick:he,disabled:!n,className:"rounded-md border border-white/10 px-3 py-2 text-sm text-white/70 transition hover:border-white/30 hover:bg-white/10 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/5 disabled:text-white/40",children:"Clear selection"}),!J&&a.jsx("span",{className:"text-xs text-amber-300",children:"Folder selection requires a Chromium-based browser."})]}),n?a.jsxs("p",{className:"text-sm text-white/70",children:["Selected: ",a.jsx("span",{className:"font-semibold text-white",children:n.label??"Folder"})]}):a.jsx("p",{className:"text-sm text-white/60",children:"No folder selected yet."}),p&&a.jsx("p",{className:"text-sm text-red-400",children:p})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Data Transfer"}),a.jsx("p",{className:"text-sm text-white/70",children:"Export a full backup of your words, subtitles database, preferences, and last session. Import merges with existing data; newer timestamps win for words and subtitle files, and prefs from the backup override local settings. Media library folder access cannot be exported; reselect it after import."}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsx("button",{type:"button",onClick:Le,disabled:z,className:"rounded-md border border-white/20 bg-white/10 px-3 py-2 text-sm font-medium text-white transition hover:border-white/30 hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/10 disabled:text-white/40",children:z?"Exporting...":"Export everything"}),a.jsx("button",{type:"button",onClick:()=>{var se;return(se=Z.current)==null?void 0:se.click()},disabled:Q,className:"rounded-md border border-white/20 bg-white/10 px-3 py-2 text-sm font-medium text-white transition hover:border-white/30 hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/10 disabled:text-white/40",children:Q?"Importing...":"Import everything"}),a.jsx("input",{ref:Z,type:"file",accept:".json",className:"hidden",onChange:De})]}),Q&&v?a.jsxs("div",{className:"mt-2 w-full",children:[a.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded bg-white/10",children:a.jsx("div",{className:"h-full bg-emerald-400 transition-all duration-300",style:{width:`${v.percent}%`}})}),a.jsxs("p",{className:"mt-1 text-xs text-white/60",children:["Importing: ",v.stage," (",Math.round(v.percent),"%, ",I,"s)"]})]}):null,k&&a.jsx("p",{className:"text-sm text-red-400",children:k}),_&&a.jsx("p",{className:"text-sm text-emerald-400",children:_})]}),a.jsxs("section",{className:"space-y-2",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Preview"}),a.jsxs("div",{className:"rounded-lg border border-white/10 bg-black/60 p-4 text-center text-lg",style:{fontFamily:e.fontFamily,fontSize:e.fontSizePx,fontWeight:e.fontWeight,lineHeight:e.lineHeight,color:e.color,textShadow:e.shadow?"0 2px 8px rgba(0,0,0,0.8)":"none",WebkitTextStroke:e.outline?"1px rgba(0,0,0,0.9)":"0",background:e.bgColor},children:["Subtitle preview with ",a.jsx("span",{style:{background:t.exact},children:"exact"})," and",a.jsx("span",{style:{background:t.variant,marginLeft:8},children:"variant"})," highlights."]})]})]})}function Zw(e,t){return t===0?0:Math.round(e/t*1e3)/10}function eb(){const e=yt(k=>k.words),t=yt(k=>k.initialize),n=yt(k=>k.initialized),[r,i]=x.useState([]),[o,u]=x.useState(!1),[f,p]=x.useState({totalTokens:0,unknownTokens:0});x.useEffect(()=>{n||t()},[t,n]),x.useEffect(()=>{let k=!1;return(async()=>{u(!0);const _=await xy();k||(i(_),u(!1))})(),()=>{k=!0}},[]),x.useEffect(()=>{let k=!1;if(r.length===0){p({totalTokens:0,unknownTokens:0});return}return(async()=>{const _=new Map,B=new Map;for(const Q of e)_.set(Q.normalized.toLowerCase(),Q),B.set(Q.stem,Q);let z=0,H=0;for(const Q of r){const C=await hi(Q.bytesHash);if(C)for(const v of C){const N=v.tokens??ir(v.rawText);for(const I of N){if(!I.isWord)continue;z+=1,(_.get(I.normalized)??B.get(I.stem))&&(H+=1)}}}k||p({totalTokens:z,unknownTokens:H})})(),()=>{k=!0}},[r,e]);const g=x.useMemo(()=>f.unknownTokens===0?null:Math.max(1,Math.round(f.totalTokens/f.unknownTokens)),[f.totalTokens,f.unknownTokens]);return a.jsx("div",{className:"space-y-6",children:a.jsxs("section",{className:"grid gap-4 md:grid-cols-3",children:[a.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-4",children:[a.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Unknown words saved"}),a.jsx("p",{className:"mt-2 text-2xl font-semibold text-white",children:e.length}),a.jsx("p",{className:"text-xs text-white/60",children:e.length===0?"Add words from the player to start tracking.":`Covers ${f.totalTokens.toLocaleString()} word tokens in your library.`})]}),a.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-4",children:[a.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Encounter rate"}),a.jsx("p",{className:"mt-2 text-2xl font-semibold text-white",children:g?`1 in ${g}`:""}),a.jsx("p",{className:"text-xs text-white/60",children:f.totalTokens===0?"Add subtitles to measure coverage.":`${Zw(f.unknownTokens,f.totalTokens)}% of words you see are on your unknown list.`})]}),a.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-4",children:[a.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Library coverage"}),a.jsx("p",{className:"mt-2 text-2xl font-semibold text-white",children:r.length}),a.jsxs("p",{className:"text-xs text-white/60",children:["Subtitle files stored  ",o?"Loading":`${f.totalTokens.toLocaleString()} word tokens scanned`]})]})]})})}const Su=64*1024,Rh="https://api.opensubtitles.com/api/v1",ku="oq1XXcuCnNOnaFDKbknI2pxaQO8TiiU5",Oh="Er4Y8GbS7JoCcLf9oJmjc2noj2wIsrNu",Mh="UVUt5ZRVmROJD7ot9JVJY63n8RTIhxYW",tb="ofir gaash v1.0",Lh=async(e,t,n)=>{const i=await e.slice(t,t+n).arrayBuffer();return new DataView(i)},Fh=e=>{let t=0n;const n=e.byteLength-e.byteLength%8;for(let r=0;r<n;r+=8)t+=e.getBigUint64(r,!0);return t},nb=async e=>{const t=e.size,n=await Lh(e,0,Su),r=Math.max(0,t-Su),i=await Lh(e,r,Su);let o=BigInt(t);return o+=Fh(n),o+=Fh(i),o.toString(16).padStart(16,"0")},Ih=e=>({"Api-Key":e.trim(),"Content-Type":"application/json","X-User-Agent":tb}),ju=async e=>{let t="";try{t=await e.text()}catch(u){t=`Unable to read response body: ${u.message}`}const n=e.headers.get("x-kong-request-id")||e.headers.get("x-request-id")||e.headers.get("x-amzn-requestid"),r=e.headers.get("retry-after"),i=e.headers.get("content-type");return[`Status: ${e.status} ${e.statusText}`.trim(),n?`Request ID: ${n}`:null,r?`Retry-After: ${r}`:null,i?`Content-Type: ${i}`:null,t?`Body: ${t.slice(0,800)}`:null].filter(Boolean).join(`
`)},rb={neutral:"border-white/10 bg-white/5 text-white/70",loading:"border-sky-400/40 bg-sky-400/10 text-sky-100",success:"border-emerald-400/40 bg-emerald-400/10 text-emerald-100",error:"border-rose-400/40 bg-rose-400/10 text-rose-100"};function ib(){const[e,t]=x.useState(ku),[n,r]=x.useState(null),[i,o]=x.useState("en"),[u,f]=x.useState({summary:"",tone:"neutral"}),[p,g]=x.useState(null),[k,S]=x.useState(!1),[_,B]=x.useState(null),[z,H]=x.useState("downloads"),[Q,C]=x.useState("desc"),v=x.useCallback((oe,Y="neutral",be)=>{f({summary:oe,tone:Y,details:be})},[]),N=x.useCallback(()=>e.trim()?n?!0:(v("Please choose a video file.","error"),!1):(v("Please enter your OpenSubtitles API key.","error"),!1),[e,n,v]),I=x.useCallback(()=>{g([])},[]),G=x.useCallback(async oe=>{var Y;I(),v("Searching OpenSubtitles...","loading"),S(!0);try{const be=new URL(`${Rh}/subtitles`);Object.entries(oe).forEach(([ie,we])=>{we&&be.searchParams.set(ie,we)});const V=await fetch(be,{headers:Ih(e)});if(!V.ok){const ie=await ju(V);throw new Error(`Search failed.
${ie}`)}const ee=await V.json();g(ee.data??[]),v(`Found ${ee.total_count??((Y=ee.data)==null?void 0:Y.length)??0} subtitle(s).`,"success")}catch(be){const V=be.message||"Search failed.",[ee,...ie]=V.split(`
`);v(ee,"error",ie.join(`
`)),I()}finally{S(!1)}},[e,I,v]),Z=async()=>{if(!(!N()||!n)){v("Calculating video hash...","loading");try{const oe=await nb(n);await G({moviehash:oe,moviehash_match:"1",languages:i})}catch(oe){v(`Hash failed: ${oe.message}`,"error")}}},X=async()=>{!N()||!n||await G({query:n.name,languages:i})},J=async oe=>{var be;const Y=(be=oe.attributes.files)==null?void 0:be[0];if(!(Y!=null&&Y.file_id)){v("This subtitle entry does not include a file id.","error");return}v("Preparing download...","loading");try{const V=await fetch(`${Rh}/download`,{method:"POST",headers:Ih(e),body:JSON.stringify({file_id:Y.file_id})});if(!V.ok){const ie=await ju(V);throw new Error(`Download request failed.
${ie}`)}const ee=await V.json();g(ie=>(ie==null?void 0:ie.map(we=>we.id===oe.id?{...we,downloadLink:ee.link}:we))??[]),v("Download link ready.","success")}catch(V){const ee=V.message||"Download request failed.",[ie,...we]=ee.split(`
`);v(ie,"error",we.join(`
`))}},Ce=x.useCallback(async oe=>{var be,V;if(!oe.downloadLink){v("Download link not ready yet.","error");return}const Y=((V=(be=oe.attributes.files)==null?void 0:be[0])==null?void 0:V.file_name)??`subtitle-${oe.id}.srt`;B(oe.id),v(`Downloading ${Y}...`,"loading");try{const ee=await fetch(oe.downloadLink);if(!ee.ok){const $e=await ju(ee);throw new Error(`Subtitle download failed.
${$e}`)}const ie=await ee.blob(),we=URL.createObjectURL(ie),Ee=document.createElement("a");Ee.href=we,Ee.download=Y,document.body.appendChild(Ee),Ee.click(),document.body.removeChild(Ee),URL.revokeObjectURL(we),v(`Downloaded ${Y}.`,"success")}catch(ee){const ie=ee.message||"Subtitle download failed.",[we,...Ee]=ie.split(`
`);v(we,"error",Ee.join(`
`))}finally{B(null)}},[v]),he=rb[u.tone],Le=u.summary||"",De=x.useMemo(()=>p!==null&&p.length===0,[p]),se=x.useMemo(()=>{if(!p)return null;const oe=Q==="asc"?1:-1;return[...p].sort((Y,be)=>{var ie,we,Ee,$e;const V=((we=(ie=Y.attributes.files)==null?void 0:ie[0])==null?void 0:we.file_name)??"Untitled release",ee=(($e=(Ee=be.attributes.files)==null?void 0:Ee[0])==null?void 0:$e.file_name)??"Untitled release";switch(z){case"title":return V.localeCompare(ee,void 0,{sensitivity:"base"})*oe;case"downloads":return((Y.attributes.download_count??0)-(be.attributes.download_count??0))*oe;case"hearingImpaired":return(Number(Y.attributes.hearing_impaired)-Number(be.attributes.hearing_impaired))*oe;default:return 0}})},[p,Q,z]),re=x.useCallback(oe=>{if(z===oe){C(Y=>Y==="asc"?"desc":"asc");return}H(oe),C("desc")},[z]);return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("header",{className:"rounded-2xl border border-white/10 bg-gradient-to-br from-white/10 via-white/5 to-transparent p-6 shadow-lg",children:[a.jsx("p",{className:"text-sm uppercase tracking-[0.2em] text-white/60",children:"VLSub Web"}),a.jsx("h2",{className:"mt-3 text-3xl font-semibold text-white",children:"Find subtitles for your video, straight from your browser."}),a.jsx("p",{className:"mt-3 max-w-2xl text-sm text-white/70",children:"Select a local video file, look up subtitles by hash or filename, and download the match you want. Powered by the OpenSubtitles API."})]}),a.jsxs("section",{className:"grid gap-6 lg:grid-cols-2",children:[a.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 shadow-md",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"1. Connect to OpenSubtitles"}),a.jsxs("p",{className:"mt-2 text-sm text-white/60",children:["Enter your OpenSubtitles API key to search and download subtitles. You can create one at"," ",a.jsx("a",{href:"https://www.opensubtitles.com/",target:"_blank",rel:"noreferrer",className:"text-white underline decoration-white/40 underline-offset-4",children:"opensubtitles.com"}),"."]}),a.jsxs("label",{className:"mt-4 flex flex-col gap-2 text-sm text-white/70",children:[a.jsx("span",{children:"API Key"}),a.jsx("input",{id:"apiKey",type:"text",placeholder:"Paste your API key",value:e,onChange:oe=>t(oe.target.value),className:"rounded-lg border border-white/10 bg-white/10 px-3 py-2 text-sm text-white placeholder:text-white/40 focus:border-white/40 focus:outline-none"}),a.jsxs("div",{className:"text-xs text-white/50",children:[a.jsx("div",{className:"mt-1",children:"If running locally, use:"}),a.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-white/70",children:[a.jsx("span",{className:"rounded bg-white/10 px-2 py-1 text-xs",children:Oh}),a.jsx("button",{type:"button",onClick:()=>t(Oh),className:"rounded border border-white/10 px-2 py-1 text-[11px] text-white/70 transition hover:border-white/30 hover:bg-white/10",children:"Use this"})]}),a.jsx("div",{className:"mt-2",children:"If running from GitHub, use:"}),a.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-white/70",children:[a.jsx("span",{className:"rounded bg-white/10 px-2 py-1 text-xs",children:ku}),a.jsx("button",{type:"button",onClick:()=>t(ku),className:"rounded border border-white/10 px-2 py-1 text-[11px] text-white/70 transition hover:border-white/30 hover:bg-white/10",children:"Use this"})]}),a.jsx("div",{className:"mt-2",children:"Or"}),a.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-white/70",children:[a.jsx("span",{className:"rounded bg-white/10 px-2 py-1 text-xs",children:Mh}),a.jsx("button",{type:"button",onClick:()=>t(Mh),className:"rounded border border-white/10 px-2 py-1 text-[11px] text-white/70 transition hover:border-white/30 hover:bg-white/10",children:"Use this"})]})]})]})]}),a.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 shadow-md",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"2. Choose your video"}),a.jsx("p",{className:"mt-2 text-sm text-white/60",children:"We never upload your video. The hash is computed locally in your browser."}),a.jsxs("div",{className:"mt-4 flex flex-col gap-2 text-sm text-white/70",children:[a.jsx("span",{children:"Video file"}),a.jsx("input",{id:"videoFile",type:"file",accept:"video/*,.mkv,.mp4,.mov,.avi,.wmv,.flv,.webm,.m4v,.mpg,.mpeg",onChange:oe=>{var be;const Y=((be=oe.target.files)==null?void 0:be[0])??null;r(Y),v(Y?`Selected ${Y.name}`:"","neutral")},className:"rounded-lg border border-white/10 bg-white/10 px-3 py-2 text-sm text-white file:mr-4 file:rounded-md file:border-0 file:bg-white/20 file:px-3 file:py-2 file:text-sm file:text-white hover:file:bg-white/30"})]}),a.jsxs("div",{className:"mt-4 flex flex-col gap-2 text-sm text-white/70",children:[a.jsx("span",{children:"Preferred language"}),a.jsxs("select",{id:"language",value:i,onChange:oe=>o(oe.target.value),className:"rounded-lg border border-white/20 bg-white px-3 py-2 text-sm text-slate-900 focus:border-white/40 focus:outline-none",children:[a.jsx("option",{value:"en",children:"English"}),a.jsx("option",{value:"he",children:"Hebrew"}),a.jsx("option",{value:"ar",children:"Arabic"}),a.jsx("option",{value:"hi",children:"Hindi"}),a.jsx("option",{value:"es",children:"Spanish"}),a.jsx("option",{value:"fr",children:"French"}),a.jsx("option",{value:"de",children:"German"}),a.jsx("option",{value:"it",children:"Italian"}),a.jsx("option",{value:"pt",children:"Portuguese"}),a.jsx("option",{value:"nl",children:"Dutch"}),a.jsx("option",{value:"pl",children:"Polish"}),a.jsx("option",{value:"sv",children:"Swedish"}),a.jsx("option",{value:"tr",children:"Turkish"}),a.jsx("option",{value:"ja",children:"Japanese"}),a.jsx("option",{value:"ko",children:"Korean"}),a.jsx("option",{value:"zh",children:"Chinese"})]})]}),a.jsxs("div",{className:"mt-5 flex flex-wrap gap-3",children:[a.jsx("button",{id:"searchHash",type:"button",onClick:Z,disabled:k,className:"rounded-full border border-white/20 bg-white/10 px-4 py-2 text-sm font-medium text-white transition hover:bg-white/20 disabled:cursor-not-allowed disabled:opacity-60",children:"Search by hash"}),a.jsx("button",{id:"searchName",type:"button",onClick:X,disabled:k,className:"rounded-full border border-white/10 px-4 py-2 text-sm font-medium text-white/70 transition hover:border-white/20 hover:bg-white/10 disabled:cursor-not-allowed disabled:opacity-60",children:"Search by filename"})]}),a.jsxs("div",{id:"status",role:"status","aria-live":"polite",className:`mt-4 rounded-xl border px-4 py-3 text-sm ${he}`,children:[Le,u.details?a.jsxs("details",{className:"mt-3 text-xs text-white/70",open:!0,children:[a.jsx("summary",{className:"cursor-pointer text-white/80",children:"Show details"}),a.jsx("pre",{className:"mt-2 whitespace-pre-wrap text-xs text-white/60",children:u.details})]}):null]})]})]}),a.jsxs("section",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 shadow-md",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"3. Download your subtitle"}),a.jsxs("div",{id:"results",className:"mt-4 space-y-4",children:[p===null?a.jsx("p",{className:"text-sm text-white/60",children:"Search results will appear here."}):null,De?a.jsx("p",{className:"text-sm text-white/60",children:"No subtitles found. Try another search."}):null,se&&se.length>0?a.jsx("div",{className:"overflow-hidden rounded-xl border border-white/10",children:a.jsxs("table",{className:"w-full text-left text-sm text-white/80",children:[a.jsx("thead",{className:"bg-white/10 text-xs uppercase tracking-wide text-white/60",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3",children:a.jsxs("button",{type:"button",onClick:()=>re("title"),className:"flex items-center gap-2 hover:text-white",children:["Title",z==="title"?Q==="asc"?"":"":null]})}),a.jsx("th",{className:"px-4 py-3",children:a.jsxs("button",{type:"button",onClick:()=>re("downloads"),className:"flex items-center gap-2 hover:text-white",children:["Downloads",z==="downloads"?Q==="asc"?"":"":null]})}),a.jsx("th",{className:"px-4 py-3",children:a.jsxs("button",{type:"button",onClick:()=>re("hearingImpaired"),className:"flex items-center gap-2 hover:text-white",children:["Hearing impaired",z==="hearingImpaired"?Q==="asc"?"":"":null]})}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Action"})]})}),a.jsx("tbody",{className:"divide-y divide-white/5",children:se.map(oe=>{var V;const Y=(V=oe.attributes.files)==null?void 0:V[0],be=(Y==null?void 0:Y.file_name)??"Untitled release";return a.jsxs("tr",{className:"bg-white/5",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsx("div",{className:"font-semibold text-white",children:be})}),a.jsx("td",{className:"px-4 py-3 text-xs",children:oe.attributes.download_count??"-"}),a.jsx("td",{className:"px-4 py-3 text-xs",children:oe.attributes.hearing_impaired?"Yes":"No"}),a.jsx("td",{className:"px-4 py-3 text-right text-xs",children:oe.downloadLink?a.jsx("button",{type:"button",onClick:()=>void Ce(oe),disabled:_===oe.id,className:"inline-flex min-w-[9.5rem] items-center justify-center rounded-full border border-white/20 px-3 py-1 text-xs text-white/80 transition hover:bg-white/10 disabled:cursor-not-allowed disabled:opacity-60",children:_===oe.id?"Downloading...":"Download subtitle"}):a.jsx("button",{type:"button",onClick:()=>J(oe),disabled:k,className:"inline-flex min-w-[9.5rem] items-center justify-center whitespace-nowrap rounded-full border border-white/20 bg-white/10 px-3 py-1 text-xs text-white transition hover:bg-white/20 disabled:cursor-not-allowed disabled:opacity-60",children:"Get download link"})})]},oe.id)})})]})}):null]})]}),a.jsx("footer",{className:"text-xs text-white/50",children:"Built from the original VLSub workflow. This demo uses the OpenSubtitles API and requires your own API key."})]})}function sb(){const e=x.useRef(null);return x.useEffect(()=>()=>{e.current&&(e.current.src="about:blank")},[]),a.jsxs("div",{className:"space-y-6 text-right text-sm text-white/80",dir:"rtl",children:[a.jsx("section",{className:"space-y-3",children:a.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-start",children:[a.jsxs("div",{className:"space-y-3 lg:flex-1",children:[a.jsx("p",{children:"   ."}),a.jsxs("p",{children:["  ",a.jsx("strong",{children:"  "}),"    ."]})]}),a.jsx("div",{className:"w-full overflow-hidden rounded-lg border border-white/10 bg-black/40 lg:w-[22rem]",children:a.jsx("div",{className:"aspect-video w-full",children:a.jsx("iframe",{ref:e,className:"h-full w-full",src:"https://www.youtube.com/embed/0n2JBXuHEoc",title:"Tutorial",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})})]})}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 1    / "}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsx("li",{children:"    "}),a.jsxs("li",{children:["    ",a.jsx("strong",{children:""}),"  Dolby Digital",a.jsx("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:a.jsxs("li",{children:[" ",a.jsx("strong",{children:"AAC"}),"  "]})})]}),a.jsxs("li",{children:["    :",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsx("li",{children:a.jsx("a",{href:"http://rargb.to/",target:"_blank",rel:"noreferrer",className:"text-white underline decoration-white/40 underline-offset-4",children:"http://rargb.to/"})}),a.jsx("li",{children:a.jsx("a",{href:"https://1337x.to/",target:"_blank",rel:"noreferrer",className:"text-white underline decoration-white/40 underline-offset-4",children:"https://1337x.to/"})})]})]}),a.jsx("li",{children:"         (  )"})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 2    "}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsxs("li",{children:["   ",a.jsx("strong",{children:" "})]}),a.jsxs("li",{children:["     ",a.jsx("code",{className:"rounded bg-white/10 px-1",children:"srt"})]}),a.jsx("li",{children:"         "}),a.jsxs("li",{children:[" :",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsxs("li",{children:[" ",a.jsx("a",{href:"https://opensubtitles.org",target:"_blank",rel:"noreferrer",className:"mr-1 text-white underline decoration-white/40 underline-offset-4",children:"opensubtitles.org"})]}),a.jsxs("li",{children:["  ",a.jsx("strong",{children:"Find Subs"})," ",a.jsx("blockquote",{className:"mt-2 rounded border-l-2 border-white/20 bg-white/5 px-3 py-2 text-xs text-white/60",children:" :           "})]})]})]})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 3    ( )"}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsx("li",{children:"  "}),a.jsx("li",{children:"     2"})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 4   "}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsxs("li",{children:["  ",a.jsx("strong",{children:" "})]}),a.jsxs("li",{children:["  ",a.jsx("strong",{children:" "})]}),a.jsxs("li",{children:["   ",a.jsx("strong",{children:"Player"})]})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 5    "}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsx("li",{children:"  Play"}),a.jsxs("li",{children:["   :",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsx("li",{children:"     "}),a.jsx("li",{children:"      "})]})]}),a.jsxs("li",{children:["  :",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsxs("li",{children:["    ",a.jsx("strong",{children:"Second Subtitles"})]}),a.jsxs("li",{children:["  /      ",a.jsx("strong",{children:"H"})]})]})]})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 6   Words"}),a.jsx("ul",{className:"list-disc space-y-2 pr-5",children:a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Words"})," :",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsx("li",{children:"    "}),a.jsx("li",{children:"       "}),a.jsx("li",{children:"      "})]})]})})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 7    ChatGPT"}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsxs("li",{children:["    :",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsx("li",{children:"      "}),a.jsx("li",{children:"   ChatGPT"})]})]}),a.jsx("li",{children:"        "}),a.jsxs("li",{children:[": ",a.jsx("strong",{children:"   ChatGPT"}),"  "]})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 8   "}),a.jsx("ul",{className:"list-disc space-y-2 pr-5",children:a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Quotes ()"}),":",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsx("li",{children:"  "}),a.jsx("li",{children:"      "}),a.jsx("li",{children:"      "})]})]})})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 9    '"}),a.jsx("p",{children:"   '     ."}),a.jsx("h3",{className:"text-base font-semibold text-white",children:" "}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsxs("li",{children:["     (",a.jsx("strong",{children:"H"}),")"]}),a.jsx("li",{children:"     "}),a.jsxs("li",{children:["   (",a.jsx("strong",{children:"H"}),")"]}),a.jsxs("li",{children:[":",a.jsx("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:a.jsxs("li",{children:["",a.jsx("strong",{children:"Settings"}),"       (    )"]})})]})]}),a.jsx("h3",{className:"text-base font-semibold text-white",children:"  "}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"F"}),"   "]}),a.jsx("li",{children:"   5   / "}),a.jsxs("li",{children:[a.jsx("strong",{children:""}),"   / "]})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"  (Settings)"}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsx("li",{children:"  "}),a.jsxs("li",{children:["   :",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsxs("li",{children:["  ( ",a.jsx("code",{className:"rounded bg-white/10 px-1",children:"actor"}),") :"]}),a.jsx("li",{children:"      "}),a.jsxs("li",{children:["      (",a.jsx("code",{className:"rounded bg-white/10 px-1",children:"act"}),","," ",a.jsx("code",{className:"rounded bg-white/10 px-1",children:"acting"}),","," ",a.jsx("code",{className:"rounded bg-white/10 px-1",children:"actress"})," )"]})]})]}),a.jsxs("li",{children:[" :",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsx("li",{children:"   / "}),a.jsxs("li",{children:["  ",a.jsx("strong",{children:"Offset"})]}),a.jsx("li",{children:" Offset    "})]})]})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"   Words"}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsxs("li",{children:["  ",a.jsx("strong",{children:"  "}),":",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsx("li",{children:"    "}),a.jsxs("li",{children:["   ",a.jsx("em",{children:"nice to have"})]})]})]}),a.jsxs("li",{children:["  ",a.jsx("strong",{children:"  "}),":",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsx("li",{children:"   "}),a.jsxs("li",{children:[":",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsxs("li",{children:[a.jsx("code",{className:"rounded bg-white/10 px-1",children:"wind"})," =  "]}),a.jsxs("li",{children:[a.jsx("code",{className:"rounded bg-white/10 px-1",children:"to wind up"})," =  "]}),a.jsxs("li",{children:[a.jsx("code",{className:"rounded bg-white/10 px-1",children:"corporate"}),"   "]}),a.jsxs("li",{children:[a.jsx("code",{className:"rounded bg-white/10 px-1",children:"corporate"}),"      "]})]})]})]})]})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"  "}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsxs("li",{children:["  ?",a.jsxs("ol",{className:"mt-2 list-decimal space-y-1 pr-5",children:[a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Words"}),"   ",a.jsx("strong",{children:"Export JSON"})]}),a.jsxs("li",{children:["    ",a.jsx("strong",{children:"Import"})]})]})]}),a.jsxs("li",{children:["   ?",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Quotes"}),"      "]}),a.jsx("li",{children:"    "})]})]})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"  Find Subtitles"}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsx("li",{children:"    API"}),a.jsxs("li",{children:["   ",a.jsx("strong",{children:"5  "}),"  "]}),a.jsx("li",{children:"      "}),a.jsxs("li",{children:[":",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsxs("li",{children:["  ",a.jsx("strong",{children:" "}),"  "]}),a.jsxs("li",{children:["  ",a.jsx("strong",{children:"Hash"})," "]})]})]})]})]})]})}const oi=({isActive:e})=>`px-3 py-2 rounded-md text-sm font-medium transition-colors ${e?"bg-white/10 text-white":"text-white/70 hover:text-white hover:bg-white/5"}`;function ob(){const e=xs(),t=e.pathname==="/"||e.pathname==="",n=et(u=>u.prefs.subtitleStyle),r=et(u=>u.prefs.highlightColors),i=et(u=>u.initialize),o=et(u=>u.initialized);return x.useEffect(()=>{o||i()},[o,i]),x.useEffect(()=>{const u=document.documentElement.style;u.setProperty("--subtitle-font-family",n.fontFamily),u.setProperty("--subtitle-font-size",`${n.fontSizePx}px`);const f=n.useMainForSecondaryFontSize?n.fontSizePx:n.secondaryFontSizePx;u.setProperty("--subtitle-secondary-font-size",`${f}px`),u.setProperty("--subtitle-font-weight",`${n.fontWeight}`),u.setProperty("--subtitle-color",n.color),u.setProperty("--subtitle-bg",n.bgColor),u.setProperty("--subtitle-line-height",`${n.lineHeight}`),u.setProperty("--subtitle-outline",n.outline?"1":"0"),u.setProperty("--subtitle-shadow",n.shadow?"1":"0"),u.setProperty("--highlight-exact",r.exact),u.setProperty("--highlight-variant",r.variant)},[n,r]),a.jsx("div",{className:"min-h-screen bg-background text-foreground",children:a.jsxs("div",{className:"mx-auto flex max-w-6xl flex-col gap-6 px-4 py-6",children:[a.jsxs("header",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Subtitle Word Tracker"}),a.jsxs("nav",{className:"flex gap-2",children:[a.jsx(ri,{to:"/",className:oi,end:!0,children:"Player"}),a.jsx(ri,{to:"/words",className:oi,children:"Words"}),a.jsx(ri,{to:"/quotes",className:oi,children:"Quotes"}),a.jsx(ri,{to:"/stats",className:oi,children:"Stats"}),a.jsx(ri,{to:"/settings",className:oi,children:"Settings"}),a.jsx(ri,{to:"/vlsub",className:oi,children:"Find Subs"}),a.jsx(ri,{to:"/help",className:oi,children:"?"})]})]}),a.jsxs("main",{className:"flex-1 rounded-lg border border-white/10 bg-white/5 p-6 shadow-xl backdrop-blur",children:[a.jsx("div",{className:t?"":"hidden","aria-hidden":!t,children:a.jsx(Eh,{isActive:t})}),a.jsxs(l0,{children:[a.jsx(Zn,{path:"/",element:a.jsx("div",{})}),a.jsx(Zn,{path:"/words",element:a.jsx(zw,{})}),a.jsx(Zn,{path:"/quotes",element:a.jsx(Kw,{})}),a.jsx(Zn,{path:"/stats",element:a.jsx(eb,{})}),a.jsx(Zn,{path:"/settings",element:a.jsx(Jw,{})}),a.jsx(Zn,{path:"/vlsub",element:a.jsx(ib,{})}),a.jsx(Zn,{path:"/help",element:a.jsx(sb,{})}),a.jsx(Zn,{path:"*",element:a.jsx(Eh,{})})]})]}),a.jsx("footer",{className:"text-xs text-white/40",children:"Local-first learning tool for movie subtitles."})]})})}const lb="./",dl=new URL(lb,window.location.href).pathname,Nl=dl.length>1&&dl.endsWith("/")?dl.slice(0,-1):dl,Ah=new URLSearchParams(window.location.search).get("path");if(Ah){const e=decodeURIComponent(Ah),t=Nl==="/"?"":Nl,n=e.startsWith(t)?e.slice(t.length)||"/":e;window.history.replaceState(null,"",`${Nl}${n}`)}Nu.createRoot(document.getElementById("root")).render(a.jsx(Ic.StrictMode,{children:a.jsx(m0,{basename:Nl,future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:a.jsx(ob,{})})}));
