var Iy=Object.defineProperty;var My=(e,t,n)=>t in e?Iy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var fi=(e,t,n)=>My(e,typeof t!="symbol"?t+"":t,n);function Fy(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var $d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ch={exports:{}},Ml={},Eh={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xs=Symbol.for("react.element"),Ay=Symbol.for("react.portal"),zy=Symbol.for("react.fragment"),Dy=Symbol.for("react.strict_mode"),$y=Symbol.for("react.profiler"),Uy=Symbol.for("react.provider"),By=Symbol.for("react.context"),Ky=Symbol.for("react.forward_ref"),Wy=Symbol.for("react.suspense"),Hy=Symbol.for("react.memo"),Vy=Symbol.for("react.lazy"),Ud=Symbol.iterator;function qy(e){return e===null||typeof e!="object"?null:(e=Ud&&e[Ud]||e["@@iterator"],typeof e=="function"?e:null)}var _h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ph=Object.assign,Th={};function Ki(e,t,n){this.props=e,this.context=t,this.refs=Th,this.updater=n||_h}Ki.prototype.isReactComponent={};Ki.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ki.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Oh(){}Oh.prototype=Ki.prototype;function yc(e,t,n){this.props=e,this.context=t,this.refs=Th,this.updater=n||_h}var vc=yc.prototype=new Oh;vc.constructor=yc;Ph(vc,Ki.prototype);vc.isPureReactComponent=!0;var Bd=Array.isArray,Rh=Object.prototype.hasOwnProperty,gc={current:null},Lh={key:!0,ref:!0,__self:!0,__source:!0};function Ih(e,t,n){var r,i={},o=null,c=null;if(t!=null)for(r in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(o=""+t.key),t)Rh.call(t,r)&&!Lh.hasOwnProperty(r)&&(i[r]=t[r]);var h=arguments.length-2;if(h===1)i.children=n;else if(1<h){for(var p=Array(h),v=0;v<h;v++)p[v]=arguments[v+2];i.children=p}if(e&&e.defaultProps)for(r in h=e.defaultProps,h)i[r]===void 0&&(i[r]=h[r]);return{$$typeof:Xs,type:e,key:o,ref:c,props:i,_owner:gc.current}}function Qy(e,t){return{$$typeof:Xs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xs}function Yy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Kd=/\/+/g;function Ta(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Yy(""+e.key):t.toString(36)}function Vo(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(o){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case Xs:case Ay:c=!0}}if(c)return c=e,i=i(c),e=r===""?"."+Ta(c,0):r,Bd(i)?(n="",e!=null&&(n=e.replace(Kd,"$&/")+"/"),Vo(i,t,n,"",function(v){return v})):i!=null&&(xc(i)&&(i=Qy(i,n+(!i.key||c&&c.key===i.key?"":(""+i.key).replace(Kd,"$&/")+"/")+e)),t.push(i)),1;if(c=0,r=r===""?".":r+":",Bd(e))for(var h=0;h<e.length;h++){o=e[h];var p=r+Ta(o,h);c+=Vo(o,t,n,p,i)}else if(p=qy(e),typeof p=="function")for(e=p.call(e),h=0;!(o=e.next()).done;)o=o.value,p=r+Ta(o,h++),c+=Vo(o,t,n,p,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function jo(e,t,n){if(e==null)return e;var r=[],i=0;return Vo(e,r,"","",function(o){return t.call(n,o,i++)}),r}function Gy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ot={current:null},qo={transition:null},Xy={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:qo,ReactCurrentOwner:gc};function Mh(){throw Error("act(...) is not supported in production builds of React.")}Le.Children={map:jo,forEach:function(e,t,n){jo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return jo(e,function(){t++}),t},toArray:function(e){return jo(e,function(t){return t})||[]},only:function(e){if(!xc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Le.Component=Ki;Le.Fragment=zy;Le.Profiler=$y;Le.PureComponent=yc;Le.StrictMode=Dy;Le.Suspense=Wy;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xy;Le.act=Mh;Le.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ph({},e.props),i=e.key,o=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,c=gc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var h=e.type.defaultProps;for(p in t)Rh.call(t,p)&&!Lh.hasOwnProperty(p)&&(r[p]=t[p]===void 0&&h!==void 0?h[p]:t[p])}var p=arguments.length-2;if(p===1)r.children=n;else if(1<p){h=Array(p);for(var v=0;v<p;v++)h[v]=arguments[v+2];r.children=h}return{$$typeof:Xs,type:e.type,key:i,ref:o,props:r,_owner:c}};Le.createContext=function(e){return e={$$typeof:By,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Uy,_context:e},e.Consumer=e};Le.createElement=Ih;Le.createFactory=function(e){var t=Ih.bind(null,e);return t.type=e,t};Le.createRef=function(){return{current:null}};Le.forwardRef=function(e){return{$$typeof:Ky,render:e}};Le.isValidElement=xc;Le.lazy=function(e){return{$$typeof:Vy,_payload:{_status:-1,_result:e},_init:Gy}};Le.memo=function(e,t){return{$$typeof:Hy,type:e,compare:t===void 0?null:t}};Le.startTransition=function(e){var t=qo.transition;qo.transition={};try{e()}finally{qo.transition=t}};Le.unstable_act=Mh;Le.useCallback=function(e,t){return Ot.current.useCallback(e,t)};Le.useContext=function(e){return Ot.current.useContext(e)};Le.useDebugValue=function(){};Le.useDeferredValue=function(e){return Ot.current.useDeferredValue(e)};Le.useEffect=function(e,t){return Ot.current.useEffect(e,t)};Le.useId=function(){return Ot.current.useId()};Le.useImperativeHandle=function(e,t,n){return Ot.current.useImperativeHandle(e,t,n)};Le.useInsertionEffect=function(e,t){return Ot.current.useInsertionEffect(e,t)};Le.useLayoutEffect=function(e,t){return Ot.current.useLayoutEffect(e,t)};Le.useMemo=function(e,t){return Ot.current.useMemo(e,t)};Le.useReducer=function(e,t,n){return Ot.current.useReducer(e,t,n)};Le.useRef=function(e){return Ot.current.useRef(e)};Le.useState=function(e){return Ot.current.useState(e)};Le.useSyncExternalStore=function(e,t,n){return Ot.current.useSyncExternalStore(e,t,n)};Le.useTransition=function(){return Ot.current.useTransition()};Le.version="18.3.1";Eh.exports=Le;var x=Eh.exports;const wc=mc(x),Jy=Fy({__proto__:null,default:wc},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy=x,ev=Symbol.for("react.element"),tv=Symbol.for("react.fragment"),nv=Object.prototype.hasOwnProperty,rv=Zy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iv={key:!0,ref:!0,__self:!0,__source:!0};function Fh(e,t,n){var r,i={},o=null,c=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(c=t.ref);for(r in t)nv.call(t,r)&&!iv.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:ev,type:e,key:o,ref:c,props:i,_owner:rv.current}}Ml.Fragment=tv;Ml.jsx=Fh;Ml.jsxs=Fh;Ch.exports=Ml;var u=Ch.exports,du={},Ah={exports:{}},Gt={},zh={exports:{}},Dh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,re){var oe=H.length;H.push(re);e:for(;0<oe;){var we=oe-1>>>1,Ne=H[we];if(0<i(Ne,re))H[we]=re,H[oe]=Ne,oe=we;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var re=H[0],oe=H.pop();if(oe!==re){H[0]=oe;e:for(var we=0,Ne=H.length,ze=Ne>>>1;we<ze;){var Nt=2*(we+1)-1,at=H[Nt],ut=Nt+1,Lt=H[ut];if(0>i(at,oe))ut<Ne&&0>i(Lt,at)?(H[we]=Lt,H[ut]=oe,we=ut):(H[we]=at,H[Nt]=oe,we=Nt);else if(ut<Ne&&0>i(Lt,oe))H[we]=Lt,H[ut]=oe,we=ut;else break e}}return re}function i(H,re){var oe=H.sortIndex-re.sortIndex;return oe!==0?oe:H.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();e.unstable_now=function(){return c.now()-h}}var p=[],v=[],S=1,b=null,_=3,U=!1,z=!1,B=!1,q=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(H){for(var re=n(v);re!==null;){if(re.callback===null)r(v);else if(re.startTime<=H)r(v),re.sortIndex=re.expirationTime,t(p,re);else break;re=n(v)}}function $(H){if(B=!1,k(H),!z)if(n(p)!==null)z=!0,Y(J);else{var re=n(v);re!==null&&ve($,re.startTime-H)}}function J(H,re){z=!1,B&&(B=!1,N(ne),ne=-1),U=!0;var oe=_;try{for(k(re),b=n(p);b!==null&&(!(b.expirationTime>re)||H&&!Ie());){var we=b.callback;if(typeof we=="function"){b.callback=null,_=b.priorityLevel;var Ne=we(b.expirationTime<=re);re=e.unstable_now(),typeof Ne=="function"?b.callback=Ne:b===n(p)&&r(p),k(re)}else r(p);b=n(p)}if(b!==null)var ze=!0;else{var Nt=n(v);Nt!==null&&ve($,Nt.startTime-re),ze=!1}return ze}finally{b=null,_=oe,U=!1}}var Q=!1,X=null,ne=-1,be=5,ye=-1;function Ie(){return!(e.unstable_now()-ye<be)}function Ue(){if(X!==null){var H=e.unstable_now();ye=H;var re=!0;try{re=X(!0,H)}finally{re?se():(Q=!1,X=null)}}else Q=!1}var se;if(typeof g=="function")se=function(){g(Ue)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,te=G.port2;G.port1.onmessage=Ue,se=function(){te.postMessage(null)}}else se=function(){q(Ue,0)};function Y(H){X=H,Q||(Q=!0,se())}function ve(H,re){ne=q(function(){H(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){z||U||(z=!0,Y(J))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):be=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return n(p)},e.unstable_next=function(H){switch(_){case 1:case 2:case 3:var re=3;break;default:re=_}var oe=_;_=re;try{return H()}finally{_=oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,re){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var oe=_;_=H;try{return re()}finally{_=oe}},e.unstable_scheduleCallback=function(H,re,oe){var we=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?we+oe:we):oe=we,H){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=oe+Ne,H={id:S++,callback:re,priorityLevel:H,startTime:oe,expirationTime:Ne,sortIndex:-1},oe>we?(H.sortIndex=oe,t(v,H),n(p)===null&&H===n(v)&&(B?(N(ne),ne=-1):B=!0,ve($,oe-we))):(H.sortIndex=Ne,t(p,H),z||U||(z=!0,Y(J))),H},e.unstable_shouldYield=Ie,e.unstable_wrapCallback=function(H){var re=_;return function(){var oe=_;_=re;try{return H.apply(this,arguments)}finally{_=oe}}}})(Dh);zh.exports=Dh;var sv=zh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov=x,Yt=sv;function Z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $h=new Set,Os={};function ri(e,t){Ii(e,t),Ii(e+"Capture",t)}function Ii(e,t){for(Os[e]=t,e=0;e<t.length;e++)$h.add(t[e])}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fu=Object.prototype.hasOwnProperty,lv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wd={},Hd={};function av(e){return fu.call(Hd,e)?!0:fu.call(Wd,e)?!1:lv.test(e)?Hd[e]=!0:(Wd[e]=!0,!1)}function uv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function cv(e,t,n,r){if(t===null||typeof t>"u"||uv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Rt(e,t,n,r,i,o,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=c}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vt[e]=new Rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vt[t]=new Rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vt[e]=new Rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vt[e]=new Rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vt[e]=new Rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vt[e]=new Rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vt[e]=new Rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vt[e]=new Rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vt[e]=new Rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var bc=/[\-:]([a-z])/g;function Sc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(bc,Sc);vt[t]=new Rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(bc,Sc);vt[t]=new Rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(bc,Sc);vt[t]=new Rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vt[e]=new Rt(e,1,!1,e.toLowerCase(),null,!1,!1)});vt.xlinkHref=new Rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vt[e]=new Rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function kc(e,t,n,r){var i=vt.hasOwnProperty(t)?vt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(cv(t,n,i,r)&&(n=null),r||i===null?av(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Yn=ov.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,No=Symbol.for("react.element"),yi=Symbol.for("react.portal"),vi=Symbol.for("react.fragment"),jc=Symbol.for("react.strict_mode"),hu=Symbol.for("react.profiler"),Uh=Symbol.for("react.provider"),Bh=Symbol.for("react.context"),Nc=Symbol.for("react.forward_ref"),pu=Symbol.for("react.suspense"),mu=Symbol.for("react.suspense_list"),Cc=Symbol.for("react.memo"),ar=Symbol.for("react.lazy"),Kh=Symbol.for("react.offscreen"),Vd=Symbol.iterator;function us(e){return e===null||typeof e!="object"?null:(e=Vd&&e[Vd]||e["@@iterator"],typeof e=="function"?e:null)}var Ge=Object.assign,Oa;function vs(e){if(Oa===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Oa=t&&t[1]||""}return`
`+Oa+e}var Ra=!1;function La(e,t){if(!e||Ra)return"";Ra=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(v){var r=v}Reflect.construct(e,[],t)}else{try{t.call()}catch(v){r=v}e.call(t.prototype)}else{try{throw Error()}catch(v){r=v}e()}}catch(v){if(v&&r&&typeof v.stack=="string"){for(var i=v.stack.split(`
`),o=r.stack.split(`
`),c=i.length-1,h=o.length-1;1<=c&&0<=h&&i[c]!==o[h];)h--;for(;1<=c&&0<=h;c--,h--)if(i[c]!==o[h]){if(c!==1||h!==1)do if(c--,h--,0>h||i[c]!==o[h]){var p=`
`+i[c].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=c&&0<=h);break}}}finally{Ra=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?vs(e):""}function dv(e){switch(e.tag){case 5:return vs(e.type);case 16:return vs("Lazy");case 13:return vs("Suspense");case 19:return vs("SuspenseList");case 0:case 2:case 15:return e=La(e.type,!1),e;case 11:return e=La(e.type.render,!1),e;case 1:return e=La(e.type,!0),e;default:return""}}function yu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vi:return"Fragment";case yi:return"Portal";case hu:return"Profiler";case jc:return"StrictMode";case pu:return"Suspense";case mu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Bh:return(e.displayName||"Context")+".Consumer";case Uh:return(e._context.displayName||"Context")+".Provider";case Nc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cc:return t=e.displayName||null,t!==null?t:yu(e.type)||"Memo";case ar:t=e._payload,e=e._init;try{return yu(e(t))}catch{}}return null}function fv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yu(t);case 8:return t===jc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function hv(e){var t=Wh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(c){r=""+c,o.call(this,c)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(c){r=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Co(e){e._valueTracker||(e._valueTracker=hv(e))}function Hh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Wh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ol(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vu(e,t){var n=t.checked;return Ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function qd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Nr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Vh(e,t){t=t.checked,t!=null&&kc(e,"checked",t,!1)}function gu(e,t){Vh(e,t);var n=Nr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xu(e,t.type,n):t.hasOwnProperty("defaultValue")&&xu(e,t.type,Nr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Qd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function xu(e,t,n){(t!=="number"||ol(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var gs=Array.isArray;function _i(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Nr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function wu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Z(91));return Ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Z(92));if(gs(n)){if(1<n.length)throw Error(Z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Nr(n)}}function qh(e,t){var n=Nr(t.value),r=Nr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Gd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Eo,Yh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Eo=Eo||document.createElement("div"),Eo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Eo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Rs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pv=["Webkit","ms","Moz","O"];Object.keys(Ss).forEach(function(e){pv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ss[t]=Ss[e]})});function Gh(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ss.hasOwnProperty(e)&&Ss[e]?(""+t).trim():t+"px"}function Xh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Gh(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var mv=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Su(e,t){if(t){if(mv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Z(62))}}function ku(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ju=null;function Ec(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Nu=null,Pi=null,Ti=null;function Xd(e){if(e=eo(e)){if(typeof Nu!="function")throw Error(Z(280));var t=e.stateNode;t&&(t=$l(t),Nu(e.stateNode,e.type,t))}}function Jh(e){Pi?Ti?Ti.push(e):Ti=[e]:Pi=e}function Zh(){if(Pi){var e=Pi,t=Ti;if(Ti=Pi=null,Xd(e),t)for(e=0;e<t.length;e++)Xd(t[e])}}function ep(e,t){return e(t)}function tp(){}var Ia=!1;function np(e,t,n){if(Ia)return e(t,n);Ia=!0;try{return ep(e,t,n)}finally{Ia=!1,(Pi!==null||Ti!==null)&&(tp(),Zh())}}function Ls(e,t){var n=e.stateNode;if(n===null)return null;var r=$l(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Z(231,t,typeof n));return n}var Cu=!1;if(Hn)try{var cs={};Object.defineProperty(cs,"passive",{get:function(){Cu=!0}}),window.addEventListener("test",cs,cs),window.removeEventListener("test",cs,cs)}catch{Cu=!1}function yv(e,t,n,r,i,o,c,h,p){var v=Array.prototype.slice.call(arguments,3);try{t.apply(n,v)}catch(S){this.onError(S)}}var ks=!1,ll=null,al=!1,Eu=null,vv={onError:function(e){ks=!0,ll=e}};function gv(e,t,n,r,i,o,c,h,p){ks=!1,ll=null,yv.apply(vv,arguments)}function xv(e,t,n,r,i,o,c,h,p){if(gv.apply(this,arguments),ks){if(ks){var v=ll;ks=!1,ll=null}else throw Error(Z(198));al||(al=!0,Eu=v)}}function ii(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Jd(e){if(ii(e)!==e)throw Error(Z(188))}function wv(e){var t=e.alternate;if(!t){if(t=ii(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Jd(i),e;if(o===r)return Jd(i),t;o=o.sibling}throw Error(Z(188))}if(n.return!==r.return)n=i,r=o;else{for(var c=!1,h=i.child;h;){if(h===n){c=!0,n=i,r=o;break}if(h===r){c=!0,r=i,n=o;break}h=h.sibling}if(!c){for(h=o.child;h;){if(h===n){c=!0,n=o,r=i;break}if(h===r){c=!0,r=o,n=i;break}h=h.sibling}if(!c)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?e:t}function ip(e){return e=wv(e),e!==null?sp(e):null}function sp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sp(e);if(t!==null)return t;e=e.sibling}return null}var op=Yt.unstable_scheduleCallback,Zd=Yt.unstable_cancelCallback,bv=Yt.unstable_shouldYield,Sv=Yt.unstable_requestPaint,tt=Yt.unstable_now,kv=Yt.unstable_getCurrentPriorityLevel,_c=Yt.unstable_ImmediatePriority,lp=Yt.unstable_UserBlockingPriority,ul=Yt.unstable_NormalPriority,jv=Yt.unstable_LowPriority,ap=Yt.unstable_IdlePriority,Fl=null,Tn=null;function Nv(e){if(Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(Fl,e,void 0,(e.current.flags&128)===128)}catch{}}var vn=Math.clz32?Math.clz32:_v,Cv=Math.log,Ev=Math.LN2;function _v(e){return e>>>=0,e===0?32:31-(Cv(e)/Ev|0)|0}var _o=64,Po=4194304;function xs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,c=n&268435455;if(c!==0){var h=c&~i;h!==0?r=xs(h):(o&=c,o!==0&&(r=xs(o)))}else c=n&~i,c!==0?r=xs(c):o!==0&&(r=xs(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-vn(t),i=1<<n,r|=e[n],t&=~i;return r}function Pv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var c=31-vn(o),h=1<<c,p=i[c];p===-1?(!(h&n)||h&r)&&(i[c]=Pv(h,t)):p<=t&&(e.expiredLanes|=h),o&=~h}}function _u(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function up(){var e=_o;return _o<<=1,!(_o&4194240)&&(_o=64),e}function Ma(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Js(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vn(t),e[t]=n}function Ov(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-vn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Pc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-vn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var $e=0;function cp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var dp,Tc,fp,hp,pp,Pu=!1,To=[],yr=null,vr=null,gr=null,Is=new Map,Ms=new Map,cr=[],Rv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ef(e,t){switch(e){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":Is.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ms.delete(t.pointerId)}}function ds(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=eo(t),t!==null&&Tc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Lv(e,t,n,r,i){switch(t){case"focusin":return yr=ds(yr,e,t,n,r,i),!0;case"dragenter":return vr=ds(vr,e,t,n,r,i),!0;case"mouseover":return gr=ds(gr,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Is.set(o,ds(Is.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ms.set(o,ds(Ms.get(o)||null,e,t,n,r,i)),!0}return!1}function mp(e){var t=Vr(e.target);if(t!==null){var n=ii(t);if(n!==null){if(t=n.tag,t===13){if(t=rp(n),t!==null){e.blockedOn=t,pp(e.priority,function(){fp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Tu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ju=r,n.target.dispatchEvent(r),ju=null}else return t=eo(n),t!==null&&Tc(t),e.blockedOn=n,!1;t.shift()}return!0}function tf(e,t,n){Qo(e)&&n.delete(t)}function Iv(){Pu=!1,yr!==null&&Qo(yr)&&(yr=null),vr!==null&&Qo(vr)&&(vr=null),gr!==null&&Qo(gr)&&(gr=null),Is.forEach(tf),Ms.forEach(tf)}function fs(e,t){e.blockedOn===t&&(e.blockedOn=null,Pu||(Pu=!0,Yt.unstable_scheduleCallback(Yt.unstable_NormalPriority,Iv)))}function Fs(e){function t(i){return fs(i,e)}if(0<To.length){fs(To[0],e);for(var n=1;n<To.length;n++){var r=To[n];r.blockedOn===e&&(r.blockedOn=null)}}for(yr!==null&&fs(yr,e),vr!==null&&fs(vr,e),gr!==null&&fs(gr,e),Is.forEach(t),Ms.forEach(t),n=0;n<cr.length;n++)r=cr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<cr.length&&(n=cr[0],n.blockedOn===null);)mp(n),n.blockedOn===null&&cr.shift()}var Oi=Yn.ReactCurrentBatchConfig,dl=!0;function Mv(e,t,n,r){var i=$e,o=Oi.transition;Oi.transition=null;try{$e=1,Oc(e,t,n,r)}finally{$e=i,Oi.transition=o}}function Fv(e,t,n,r){var i=$e,o=Oi.transition;Oi.transition=null;try{$e=4,Oc(e,t,n,r)}finally{$e=i,Oi.transition=o}}function Oc(e,t,n,r){if(dl){var i=Tu(e,t,n,r);if(i===null)Ha(e,t,r,fl,n),ef(e,r);else if(Lv(i,e,t,n,r))r.stopPropagation();else if(ef(e,r),t&4&&-1<Rv.indexOf(e)){for(;i!==null;){var o=eo(i);if(o!==null&&dp(o),o=Tu(e,t,n,r),o===null&&Ha(e,t,r,fl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ha(e,t,r,null,n)}}var fl=null;function Tu(e,t,n,r){if(fl=null,e=Ec(r),e=Vr(e),e!==null)if(t=ii(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fl=e,null}function yp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kv()){case _c:return 1;case lp:return 4;case ul:case jv:return 16;case ap:return 536870912;default:return 16}default:return 16}}var fr=null,Rc=null,Yo=null;function vp(){if(Yo)return Yo;var e,t=Rc,n=t.length,r,i="value"in fr?fr.value:fr.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var c=n-e;for(r=1;r<=c&&t[n-r]===i[o-r];r++);return Yo=i.slice(e,1<r?1-r:void 0)}function Go(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Oo(){return!0}function nf(){return!1}function Xt(e){function t(n,r,i,o,c){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=c,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(n=e[h],this[h]=n?n(o):o[h]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Oo:nf,this.isPropagationStopped=nf,this}return Ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Oo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Oo)},persist:function(){},isPersistent:Oo}),t}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lc=Xt(Wi),Zs=Ge({},Wi,{view:0,detail:0}),Av=Xt(Zs),Fa,Aa,hs,Al=Ge({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ic,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hs&&(hs&&e.type==="mousemove"?(Fa=e.screenX-hs.screenX,Aa=e.screenY-hs.screenY):Aa=Fa=0,hs=e),Fa)},movementY:function(e){return"movementY"in e?e.movementY:Aa}}),rf=Xt(Al),zv=Ge({},Al,{dataTransfer:0}),Dv=Xt(zv),$v=Ge({},Zs,{relatedTarget:0}),za=Xt($v),Uv=Ge({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),Bv=Xt(Uv),Kv=Ge({},Wi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wv=Xt(Kv),Hv=Ge({},Wi,{data:0}),sf=Xt(Hv),Vv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Qv[e])?!!t[e]:!1}function Ic(){return Yv}var Gv=Ge({},Zs,{key:function(e){if(e.key){var t=Vv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Go(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ic,charCode:function(e){return e.type==="keypress"?Go(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Go(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xv=Xt(Gv),Jv=Ge({},Al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),of=Xt(Jv),Zv=Ge({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ic}),eg=Xt(Zv),tg=Ge({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ng=Xt(tg),rg=Ge({},Al,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ig=Xt(rg),sg=[9,13,27,32],Mc=Hn&&"CompositionEvent"in window,js=null;Hn&&"documentMode"in document&&(js=document.documentMode);var og=Hn&&"TextEvent"in window&&!js,gp=Hn&&(!Mc||js&&8<js&&11>=js),lf=" ",af=!1;function xp(e,t){switch(e){case"keyup":return sg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gi=!1;function lg(e,t){switch(e){case"compositionend":return wp(t);case"keypress":return t.which!==32?null:(af=!0,lf);case"textInput":return e=t.data,e===lf&&af?null:e;default:return null}}function ag(e,t){if(gi)return e==="compositionend"||!Mc&&xp(e,t)?(e=vp(),Yo=Rc=fr=null,gi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gp&&t.locale!=="ko"?null:t.data;default:return null}}var ug={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ug[e.type]:t==="textarea"}function bp(e,t,n,r){Jh(r),t=hl(t,"onChange"),0<t.length&&(n=new Lc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ns=null,As=null;function cg(e){Rp(e,0)}function zl(e){var t=bi(e);if(Hh(t))return e}function dg(e,t){if(e==="change")return t}var Sp=!1;if(Hn){var Da;if(Hn){var $a="oninput"in document;if(!$a){var cf=document.createElement("div");cf.setAttribute("oninput","return;"),$a=typeof cf.oninput=="function"}Da=$a}else Da=!1;Sp=Da&&(!document.documentMode||9<document.documentMode)}function df(){Ns&&(Ns.detachEvent("onpropertychange",kp),As=Ns=null)}function kp(e){if(e.propertyName==="value"&&zl(As)){var t=[];bp(t,As,e,Ec(e)),np(cg,t)}}function fg(e,t,n){e==="focusin"?(df(),Ns=t,As=n,Ns.attachEvent("onpropertychange",kp)):e==="focusout"&&df()}function hg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zl(As)}function pg(e,t){if(e==="click")return zl(t)}function mg(e,t){if(e==="input"||e==="change")return zl(t)}function yg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xn=typeof Object.is=="function"?Object.is:yg;function zs(e,t){if(xn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!fu.call(t,i)||!xn(e[i],t[i]))return!1}return!0}function ff(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hf(e,t){var n=ff(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ff(n)}}function jp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Np(){for(var e=window,t=ol();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ol(e.document)}return t}function Fc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vg(e){var t=Np(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&jp(n.ownerDocument.documentElement,n)){if(r!==null&&Fc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=hf(n,o);var c=hf(n,r);i&&c&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gg=Hn&&"documentMode"in document&&11>=document.documentMode,xi=null,Ou=null,Cs=null,Ru=!1;function pf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ru||xi==null||xi!==ol(r)||(r=xi,"selectionStart"in r&&Fc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cs&&zs(Cs,r)||(Cs=r,r=hl(Ou,"onSelect"),0<r.length&&(t=new Lc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=xi)))}function Ro(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wi={animationend:Ro("Animation","AnimationEnd"),animationiteration:Ro("Animation","AnimationIteration"),animationstart:Ro("Animation","AnimationStart"),transitionend:Ro("Transition","TransitionEnd")},Ua={},Cp={};Hn&&(Cp=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);function Dl(e){if(Ua[e])return Ua[e];if(!wi[e])return e;var t=wi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Cp)return Ua[e]=t[n];return e}var Ep=Dl("animationend"),_p=Dl("animationiteration"),Pp=Dl("animationstart"),Tp=Dl("transitionend"),Op=new Map,mf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(e,t){Op.set(e,t),ri(t,[e])}for(var Ba=0;Ba<mf.length;Ba++){var Ka=mf[Ba],xg=Ka.toLowerCase(),wg=Ka[0].toUpperCase()+Ka.slice(1);Er(xg,"on"+wg)}Er(Ep,"onAnimationEnd");Er(_p,"onAnimationIteration");Er(Pp,"onAnimationStart");Er("dblclick","onDoubleClick");Er("focusin","onFocus");Er("focusout","onBlur");Er(Tp,"onTransitionEnd");Ii("onMouseEnter",["mouseout","mouseover"]);Ii("onMouseLeave",["mouseout","mouseover"]);Ii("onPointerEnter",["pointerout","pointerover"]);Ii("onPointerLeave",["pointerout","pointerover"]);ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bg=new Set("cancel close invalid load scroll toggle".split(" ").concat(ws));function yf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,xv(r,t,void 0,e),e.currentTarget=null}function Rp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var c=r.length-1;0<=c;c--){var h=r[c],p=h.instance,v=h.currentTarget;if(h=h.listener,p!==o&&i.isPropagationStopped())break e;yf(i,h,v),o=p}else for(c=0;c<r.length;c++){if(h=r[c],p=h.instance,v=h.currentTarget,h=h.listener,p!==o&&i.isPropagationStopped())break e;yf(i,h,v),o=p}}}if(al)throw e=Eu,al=!1,Eu=null,e}function He(e,t){var n=t[Au];n===void 0&&(n=t[Au]=new Set);var r=e+"__bubble";n.has(r)||(Lp(t,e,2,!1),n.add(r))}function Wa(e,t,n){var r=0;t&&(r|=4),Lp(n,e,r,t)}var Lo="_reactListening"+Math.random().toString(36).slice(2);function Ds(e){if(!e[Lo]){e[Lo]=!0,$h.forEach(function(n){n!=="selectionchange"&&(bg.has(n)||Wa(n,!1,e),Wa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lo]||(t[Lo]=!0,Wa("selectionchange",!1,t))}}function Lp(e,t,n,r){switch(yp(t)){case 1:var i=Mv;break;case 4:i=Fv;break;default:i=Oc}n=i.bind(null,t,n,e),i=void 0,!Cu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ha(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var c=r.tag;if(c===3||c===4){var h=r.stateNode.containerInfo;if(h===i||h.nodeType===8&&h.parentNode===i)break;if(c===4)for(c=r.return;c!==null;){var p=c.tag;if((p===3||p===4)&&(p=c.stateNode.containerInfo,p===i||p.nodeType===8&&p.parentNode===i))return;c=c.return}for(;h!==null;){if(c=Vr(h),c===null)return;if(p=c.tag,p===5||p===6){r=o=c;continue e}h=h.parentNode}}r=r.return}np(function(){var v=o,S=Ec(n),b=[];e:{var _=Op.get(e);if(_!==void 0){var U=Lc,z=e;switch(e){case"keypress":if(Go(n)===0)break e;case"keydown":case"keyup":U=Xv;break;case"focusin":z="focus",U=za;break;case"focusout":z="blur",U=za;break;case"beforeblur":case"afterblur":U=za;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=rf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=Dv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=eg;break;case Ep:case _p:case Pp:U=Bv;break;case Tp:U=ng;break;case"scroll":U=Av;break;case"wheel":U=ig;break;case"copy":case"cut":case"paste":U=Wv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=of}var B=(t&4)!==0,q=!B&&e==="scroll",N=B?_!==null?_+"Capture":null:_;B=[];for(var g=v,k;g!==null;){k=g;var $=k.stateNode;if(k.tag===5&&$!==null&&(k=$,N!==null&&($=Ls(g,N),$!=null&&B.push($s(g,$,k)))),q)break;g=g.return}0<B.length&&(_=new U(_,z,null,n,S),b.push({event:_,listeners:B}))}}if(!(t&7)){e:{if(_=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",_&&n!==ju&&(z=n.relatedTarget||n.fromElement)&&(Vr(z)||z[Vn]))break e;if((U||_)&&(_=S.window===S?S:(_=S.ownerDocument)?_.defaultView||_.parentWindow:window,U?(z=n.relatedTarget||n.toElement,U=v,z=z?Vr(z):null,z!==null&&(q=ii(z),z!==q||z.tag!==5&&z.tag!==6)&&(z=null)):(U=null,z=v),U!==z)){if(B=rf,$="onMouseLeave",N="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(B=of,$="onPointerLeave",N="onPointerEnter",g="pointer"),q=U==null?_:bi(U),k=z==null?_:bi(z),_=new B($,g+"leave",U,n,S),_.target=q,_.relatedTarget=k,$=null,Vr(S)===v&&(B=new B(N,g+"enter",z,n,S),B.target=k,B.relatedTarget=q,$=B),q=$,U&&z)t:{for(B=U,N=z,g=0,k=B;k;k=hi(k))g++;for(k=0,$=N;$;$=hi($))k++;for(;0<g-k;)B=hi(B),g--;for(;0<k-g;)N=hi(N),k--;for(;g--;){if(B===N||N!==null&&B===N.alternate)break t;B=hi(B),N=hi(N)}B=null}else B=null;U!==null&&vf(b,_,U,B,!1),z!==null&&q!==null&&vf(b,q,z,B,!0)}}e:{if(_=v?bi(v):window,U=_.nodeName&&_.nodeName.toLowerCase(),U==="select"||U==="input"&&_.type==="file")var J=dg;else if(uf(_))if(Sp)J=mg;else{J=hg;var Q=fg}else(U=_.nodeName)&&U.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(J=pg);if(J&&(J=J(e,v))){bp(b,J,n,S);break e}Q&&Q(e,_,v),e==="focusout"&&(Q=_._wrapperState)&&Q.controlled&&_.type==="number"&&xu(_,"number",_.value)}switch(Q=v?bi(v):window,e){case"focusin":(uf(Q)||Q.contentEditable==="true")&&(xi=Q,Ou=v,Cs=null);break;case"focusout":Cs=Ou=xi=null;break;case"mousedown":Ru=!0;break;case"contextmenu":case"mouseup":case"dragend":Ru=!1,pf(b,n,S);break;case"selectionchange":if(gg)break;case"keydown":case"keyup":pf(b,n,S)}var X;if(Mc)e:{switch(e){case"compositionstart":var ne="onCompositionStart";break e;case"compositionend":ne="onCompositionEnd";break e;case"compositionupdate":ne="onCompositionUpdate";break e}ne=void 0}else gi?xp(e,n)&&(ne="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ne="onCompositionStart");ne&&(gp&&n.locale!=="ko"&&(gi||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&gi&&(X=vp()):(fr=S,Rc="value"in fr?fr.value:fr.textContent,gi=!0)),Q=hl(v,ne),0<Q.length&&(ne=new sf(ne,e,null,n,S),b.push({event:ne,listeners:Q}),X?ne.data=X:(X=wp(n),X!==null&&(ne.data=X)))),(X=og?lg(e,n):ag(e,n))&&(v=hl(v,"onBeforeInput"),0<v.length&&(S=new sf("onBeforeInput","beforeinput",null,n,S),b.push({event:S,listeners:v}),S.data=X))}Rp(b,t)})}function $s(e,t,n){return{instance:e,listener:t,currentTarget:n}}function hl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ls(e,n),o!=null&&r.unshift($s(e,o,i)),o=Ls(e,t),o!=null&&r.push($s(e,o,i))),e=e.return}return r}function hi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vf(e,t,n,r,i){for(var o=t._reactName,c=[];n!==null&&n!==r;){var h=n,p=h.alternate,v=h.stateNode;if(p!==null&&p===r)break;h.tag===5&&v!==null&&(h=v,i?(p=Ls(n,o),p!=null&&c.unshift($s(n,p,h))):i||(p=Ls(n,o),p!=null&&c.push($s(n,p,h)))),n=n.return}c.length!==0&&e.push({event:t,listeners:c})}var Sg=/\r\n?/g,kg=/\u0000|\uFFFD/g;function gf(e){return(typeof e=="string"?e:""+e).replace(Sg,`
`).replace(kg,"")}function Io(e,t,n){if(t=gf(t),gf(e)!==t&&n)throw Error(Z(425))}function pl(){}var Lu=null,Iu=null;function Mu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fu=typeof setTimeout=="function"?setTimeout:void 0,jg=typeof clearTimeout=="function"?clearTimeout:void 0,xf=typeof Promise=="function"?Promise:void 0,Ng=typeof queueMicrotask=="function"?queueMicrotask:typeof xf<"u"?function(e){return xf.resolve(null).then(e).catch(Cg)}:Fu;function Cg(e){setTimeout(function(){throw e})}function Va(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Fs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Fs(t)}function xr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function wf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Hi=Math.random().toString(36).slice(2),Pn="__reactFiber$"+Hi,Us="__reactProps$"+Hi,Vn="__reactContainer$"+Hi,Au="__reactEvents$"+Hi,Eg="__reactListeners$"+Hi,_g="__reactHandles$"+Hi;function Vr(e){var t=e[Pn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Vn]||n[Pn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=wf(e);e!==null;){if(n=e[Pn])return n;e=wf(e)}return t}e=n,n=e.parentNode}return null}function eo(e){return e=e[Pn]||e[Vn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function bi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Z(33))}function $l(e){return e[Us]||null}var zu=[],Si=-1;function _r(e){return{current:e}}function Ve(e){0>Si||(e.current=zu[Si],zu[Si]=null,Si--)}function We(e,t){Si++,zu[Si]=e.current,e.current=t}var Cr={},jt=_r(Cr),zt=_r(!1),Jr=Cr;function Mi(e,t){var n=e.type.contextTypes;if(!n)return Cr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Dt(e){return e=e.childContextTypes,e!=null}function ml(){Ve(zt),Ve(jt)}function bf(e,t,n){if(jt.current!==Cr)throw Error(Z(168));We(jt,t),We(zt,n)}function Ip(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Z(108,fv(e)||"Unknown",i));return Ge({},n,r)}function yl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cr,Jr=jt.current,We(jt,e),We(zt,zt.current),!0}function Sf(e,t,n){var r=e.stateNode;if(!r)throw Error(Z(169));n?(e=Ip(e,t,Jr),r.__reactInternalMemoizedMergedChildContext=e,Ve(zt),Ve(jt),We(jt,e)):Ve(zt),We(zt,n)}var $n=null,Ul=!1,qa=!1;function Mp(e){$n===null?$n=[e]:$n.push(e)}function Pg(e){Ul=!0,Mp(e)}function Pr(){if(!qa&&$n!==null){qa=!0;var e=0,t=$e;try{var n=$n;for($e=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}$n=null,Ul=!1}catch(i){throw $n!==null&&($n=$n.slice(e+1)),op(_c,Pr),i}finally{$e=t,qa=!1}}return null}var ki=[],ji=0,vl=null,gl=0,tn=[],nn=0,Zr=null,Un=1,Bn="";function Kr(e,t){ki[ji++]=gl,ki[ji++]=vl,vl=e,gl=t}function Fp(e,t,n){tn[nn++]=Un,tn[nn++]=Bn,tn[nn++]=Zr,Zr=e;var r=Un;e=Bn;var i=32-vn(r)-1;r&=~(1<<i),n+=1;var o=32-vn(t)+i;if(30<o){var c=i-i%5;o=(r&(1<<c)-1).toString(32),r>>=c,i-=c,Un=1<<32-vn(t)+i|n<<i|r,Bn=o+e}else Un=1<<o|n<<i|r,Bn=e}function Ac(e){e.return!==null&&(Kr(e,1),Fp(e,1,0))}function zc(e){for(;e===vl;)vl=ki[--ji],ki[ji]=null,gl=ki[--ji],ki[ji]=null;for(;e===Zr;)Zr=tn[--nn],tn[nn]=null,Bn=tn[--nn],tn[nn]=null,Un=tn[--nn],tn[nn]=null}var Qt=null,qt=null,qe=!1,yn=null;function Ap(e,t){var n=rn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function kf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qt=e,qt=xr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qt=e,qt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Zr!==null?{id:Un,overflow:Bn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=rn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Qt=e,qt=null,!0):!1;default:return!1}}function Du(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $u(e){if(qe){var t=qt;if(t){var n=t;if(!kf(e,t)){if(Du(e))throw Error(Z(418));t=xr(n.nextSibling);var r=Qt;t&&kf(e,t)?Ap(r,n):(e.flags=e.flags&-4097|2,qe=!1,Qt=e)}}else{if(Du(e))throw Error(Z(418));e.flags=e.flags&-4097|2,qe=!1,Qt=e}}}function jf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qt=e}function Mo(e){if(e!==Qt)return!1;if(!qe)return jf(e),qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Mu(e.type,e.memoizedProps)),t&&(t=qt)){if(Du(e))throw zp(),Error(Z(418));for(;t;)Ap(e,t),t=xr(t.nextSibling)}if(jf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){qt=xr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}qt=null}}else qt=Qt?xr(e.stateNode.nextSibling):null;return!0}function zp(){for(var e=qt;e;)e=xr(e.nextSibling)}function Fi(){qt=Qt=null,qe=!1}function Dc(e){yn===null?yn=[e]:yn.push(e)}var Tg=Yn.ReactCurrentBatchConfig;function ps(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(c){var h=i.refs;c===null?delete h[o]:h[o]=c},t._stringRef=o,t)}if(typeof e!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,e))}return e}function Fo(e,t){throw e=Object.prototype.toString.call(t),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Nf(e){var t=e._init;return t(e._payload)}function Dp(e){function t(N,g){if(e){var k=N.deletions;k===null?(N.deletions=[g],N.flags|=16):k.push(g)}}function n(N,g){if(!e)return null;for(;g!==null;)t(N,g),g=g.sibling;return null}function r(N,g){for(N=new Map;g!==null;)g.key!==null?N.set(g.key,g):N.set(g.index,g),g=g.sibling;return N}function i(N,g){return N=kr(N,g),N.index=0,N.sibling=null,N}function o(N,g,k){return N.index=k,e?(k=N.alternate,k!==null?(k=k.index,k<g?(N.flags|=2,g):k):(N.flags|=2,g)):(N.flags|=1048576,g)}function c(N){return e&&N.alternate===null&&(N.flags|=2),N}function h(N,g,k,$){return g===null||g.tag!==6?(g=eu(k,N.mode,$),g.return=N,g):(g=i(g,k),g.return=N,g)}function p(N,g,k,$){var J=k.type;return J===vi?S(N,g,k.props.children,$,k.key):g!==null&&(g.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===ar&&Nf(J)===g.type)?($=i(g,k.props),$.ref=ps(N,g,k),$.return=N,$):($=rl(k.type,k.key,k.props,null,N.mode,$),$.ref=ps(N,g,k),$.return=N,$)}function v(N,g,k,$){return g===null||g.tag!==4||g.stateNode.containerInfo!==k.containerInfo||g.stateNode.implementation!==k.implementation?(g=tu(k,N.mode,$),g.return=N,g):(g=i(g,k.children||[]),g.return=N,g)}function S(N,g,k,$,J){return g===null||g.tag!==7?(g=Xr(k,N.mode,$,J),g.return=N,g):(g=i(g,k),g.return=N,g)}function b(N,g,k){if(typeof g=="string"&&g!==""||typeof g=="number")return g=eu(""+g,N.mode,k),g.return=N,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case No:return k=rl(g.type,g.key,g.props,null,N.mode,k),k.ref=ps(N,null,g),k.return=N,k;case yi:return g=tu(g,N.mode,k),g.return=N,g;case ar:var $=g._init;return b(N,$(g._payload),k)}if(gs(g)||us(g))return g=Xr(g,N.mode,k,null),g.return=N,g;Fo(N,g)}return null}function _(N,g,k,$){var J=g!==null?g.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return J!==null?null:h(N,g,""+k,$);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case No:return k.key===J?p(N,g,k,$):null;case yi:return k.key===J?v(N,g,k,$):null;case ar:return J=k._init,_(N,g,J(k._payload),$)}if(gs(k)||us(k))return J!==null?null:S(N,g,k,$,null);Fo(N,k)}return null}function U(N,g,k,$,J){if(typeof $=="string"&&$!==""||typeof $=="number")return N=N.get(k)||null,h(g,N,""+$,J);if(typeof $=="object"&&$!==null){switch($.$$typeof){case No:return N=N.get($.key===null?k:$.key)||null,p(g,N,$,J);case yi:return N=N.get($.key===null?k:$.key)||null,v(g,N,$,J);case ar:var Q=$._init;return U(N,g,k,Q($._payload),J)}if(gs($)||us($))return N=N.get(k)||null,S(g,N,$,J,null);Fo(g,$)}return null}function z(N,g,k,$){for(var J=null,Q=null,X=g,ne=g=0,be=null;X!==null&&ne<k.length;ne++){X.index>ne?(be=X,X=null):be=X.sibling;var ye=_(N,X,k[ne],$);if(ye===null){X===null&&(X=be);break}e&&X&&ye.alternate===null&&t(N,X),g=o(ye,g,ne),Q===null?J=ye:Q.sibling=ye,Q=ye,X=be}if(ne===k.length)return n(N,X),qe&&Kr(N,ne),J;if(X===null){for(;ne<k.length;ne++)X=b(N,k[ne],$),X!==null&&(g=o(X,g,ne),Q===null?J=X:Q.sibling=X,Q=X);return qe&&Kr(N,ne),J}for(X=r(N,X);ne<k.length;ne++)be=U(X,N,ne,k[ne],$),be!==null&&(e&&be.alternate!==null&&X.delete(be.key===null?ne:be.key),g=o(be,g,ne),Q===null?J=be:Q.sibling=be,Q=be);return e&&X.forEach(function(Ie){return t(N,Ie)}),qe&&Kr(N,ne),J}function B(N,g,k,$){var J=us(k);if(typeof J!="function")throw Error(Z(150));if(k=J.call(k),k==null)throw Error(Z(151));for(var Q=J=null,X=g,ne=g=0,be=null,ye=k.next();X!==null&&!ye.done;ne++,ye=k.next()){X.index>ne?(be=X,X=null):be=X.sibling;var Ie=_(N,X,ye.value,$);if(Ie===null){X===null&&(X=be);break}e&&X&&Ie.alternate===null&&t(N,X),g=o(Ie,g,ne),Q===null?J=Ie:Q.sibling=Ie,Q=Ie,X=be}if(ye.done)return n(N,X),qe&&Kr(N,ne),J;if(X===null){for(;!ye.done;ne++,ye=k.next())ye=b(N,ye.value,$),ye!==null&&(g=o(ye,g,ne),Q===null?J=ye:Q.sibling=ye,Q=ye);return qe&&Kr(N,ne),J}for(X=r(N,X);!ye.done;ne++,ye=k.next())ye=U(X,N,ne,ye.value,$),ye!==null&&(e&&ye.alternate!==null&&X.delete(ye.key===null?ne:ye.key),g=o(ye,g,ne),Q===null?J=ye:Q.sibling=ye,Q=ye);return e&&X.forEach(function(Ue){return t(N,Ue)}),qe&&Kr(N,ne),J}function q(N,g,k,$){if(typeof k=="object"&&k!==null&&k.type===vi&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case No:e:{for(var J=k.key,Q=g;Q!==null;){if(Q.key===J){if(J=k.type,J===vi){if(Q.tag===7){n(N,Q.sibling),g=i(Q,k.props.children),g.return=N,N=g;break e}}else if(Q.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===ar&&Nf(J)===Q.type){n(N,Q.sibling),g=i(Q,k.props),g.ref=ps(N,Q,k),g.return=N,N=g;break e}n(N,Q);break}else t(N,Q);Q=Q.sibling}k.type===vi?(g=Xr(k.props.children,N.mode,$,k.key),g.return=N,N=g):($=rl(k.type,k.key,k.props,null,N.mode,$),$.ref=ps(N,g,k),$.return=N,N=$)}return c(N);case yi:e:{for(Q=k.key;g!==null;){if(g.key===Q)if(g.tag===4&&g.stateNode.containerInfo===k.containerInfo&&g.stateNode.implementation===k.implementation){n(N,g.sibling),g=i(g,k.children||[]),g.return=N,N=g;break e}else{n(N,g);break}else t(N,g);g=g.sibling}g=tu(k,N.mode,$),g.return=N,N=g}return c(N);case ar:return Q=k._init,q(N,g,Q(k._payload),$)}if(gs(k))return z(N,g,k,$);if(us(k))return B(N,g,k,$);Fo(N,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,g!==null&&g.tag===6?(n(N,g.sibling),g=i(g,k),g.return=N,N=g):(n(N,g),g=eu(k,N.mode,$),g.return=N,N=g),c(N)):n(N,g)}return q}var Ai=Dp(!0),$p=Dp(!1),xl=_r(null),wl=null,Ni=null,$c=null;function Uc(){$c=Ni=wl=null}function Bc(e){var t=xl.current;Ve(xl),e._currentValue=t}function Uu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ri(e,t){wl=e,$c=Ni=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(At=!0),e.firstContext=null)}function on(e){var t=e._currentValue;if($c!==e)if(e={context:e,memoizedValue:t,next:null},Ni===null){if(wl===null)throw Error(Z(308));Ni=e,wl.dependencies={lanes:0,firstContext:e}}else Ni=Ni.next=e;return t}var qr=null;function Kc(e){qr===null?qr=[e]:qr.push(e)}function Up(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Kc(t)):(n.next=i.next,i.next=n),t.interleaved=n,qn(e,r)}function qn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ur=!1;function Wc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Fe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,qn(e,n)}return i=r.interleaved,i===null?(t.next=t,Kc(r)):(t.next=i.next,i.next=t),r.interleaved=t,qn(e,n)}function Xo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pc(e,n)}}function Cf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var c={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=c:o=o.next=c,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function bl(e,t,n,r){var i=e.updateQueue;ur=!1;var o=i.firstBaseUpdate,c=i.lastBaseUpdate,h=i.shared.pending;if(h!==null){i.shared.pending=null;var p=h,v=p.next;p.next=null,c===null?o=v:c.next=v,c=p;var S=e.alternate;S!==null&&(S=S.updateQueue,h=S.lastBaseUpdate,h!==c&&(h===null?S.firstBaseUpdate=v:h.next=v,S.lastBaseUpdate=p))}if(o!==null){var b=i.baseState;c=0,S=v=p=null,h=o;do{var _=h.lane,U=h.eventTime;if((r&_)===_){S!==null&&(S=S.next={eventTime:U,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var z=e,B=h;switch(_=t,U=n,B.tag){case 1:if(z=B.payload,typeof z=="function"){b=z.call(U,b,_);break e}b=z;break e;case 3:z.flags=z.flags&-65537|128;case 0:if(z=B.payload,_=typeof z=="function"?z.call(U,b,_):z,_==null)break e;b=Ge({},b,_);break e;case 2:ur=!0}}h.callback!==null&&h.lane!==0&&(e.flags|=64,_=i.effects,_===null?i.effects=[h]:_.push(h))}else U={eventTime:U,lane:_,tag:h.tag,payload:h.payload,callback:h.callback,next:null},S===null?(v=S=U,p=b):S=S.next=U,c|=_;if(h=h.next,h===null){if(h=i.shared.pending,h===null)break;_=h,h=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(!0);if(S===null&&(p=b),i.baseState=p,i.firstBaseUpdate=v,i.lastBaseUpdate=S,t=i.shared.interleaved,t!==null){i=t;do c|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);ti|=c,e.lanes=c,e.memoizedState=b}}function Ef(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Z(191,i));i.call(r)}}}var to={},On=_r(to),Bs=_r(to),Ks=_r(to);function Qr(e){if(e===to)throw Error(Z(174));return e}function Hc(e,t){switch(We(Ks,t),We(Bs,e),We(On,to),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bu(t,e)}Ve(On),We(On,t)}function zi(){Ve(On),Ve(Bs),Ve(Ks)}function Kp(e){Qr(Ks.current);var t=Qr(On.current),n=bu(t,e.type);t!==n&&(We(Bs,e),We(On,n))}function Vc(e){Bs.current===e&&(Ve(On),Ve(Bs))}var Qe=_r(0);function Sl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qa=[];function qc(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Jo=Yn.ReactCurrentDispatcher,Ya=Yn.ReactCurrentBatchConfig,ei=0,Ye=null,ot=null,dt=null,kl=!1,Es=!1,Ws=0,Og=0;function bt(){throw Error(Z(321))}function Qc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xn(e[n],t[n]))return!1;return!0}function Yc(e,t,n,r,i,o){if(ei=o,Ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jo.current=e===null||e.memoizedState===null?Mg:Fg,e=n(r,i),Es){o=0;do{if(Es=!1,Ws=0,25<=o)throw Error(Z(301));o+=1,dt=ot=null,t.updateQueue=null,Jo.current=Ag,e=n(r,i)}while(Es)}if(Jo.current=jl,t=ot!==null&&ot.next!==null,ei=0,dt=ot=Ye=null,kl=!1,t)throw Error(Z(300));return e}function Gc(){var e=Ws!==0;return Ws=0,e}function _n(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ye.memoizedState=dt=e:dt=dt.next=e,dt}function ln(){if(ot===null){var e=Ye.alternate;e=e!==null?e.memoizedState:null}else e=ot.next;var t=dt===null?Ye.memoizedState:dt.next;if(t!==null)dt=t,ot=e;else{if(e===null)throw Error(Z(310));ot=e,e={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},dt===null?Ye.memoizedState=dt=e:dt=dt.next=e}return dt}function Hs(e,t){return typeof t=="function"?t(e):t}function Ga(e){var t=ln(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var r=ot,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var c=i.next;i.next=o.next,o.next=c}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var h=c=null,p=null,v=o;do{var S=v.lane;if((ei&S)===S)p!==null&&(p=p.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),r=v.hasEagerState?v.eagerState:e(r,v.action);else{var b={lane:S,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};p===null?(h=p=b,c=r):p=p.next=b,Ye.lanes|=S,ti|=S}v=v.next}while(v!==null&&v!==o);p===null?c=r:p.next=h,xn(r,t.memoizedState)||(At=!0),t.memoizedState=r,t.baseState=c,t.baseQueue=p,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Ye.lanes|=o,ti|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Xa(e){var t=ln(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var c=i=i.next;do o=e(o,c.action),c=c.next;while(c!==i);xn(o,t.memoizedState)||(At=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Wp(){}function Hp(e,t){var n=Ye,r=ln(),i=t(),o=!xn(r.memoizedState,i);if(o&&(r.memoizedState=i,At=!0),r=r.queue,Xc(Qp.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,Vs(9,qp.bind(null,n,r,i,t),void 0,null),ft===null)throw Error(Z(349));ei&30||Vp(n,t,i)}return i}function Vp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function qp(e,t,n,r){t.value=n,t.getSnapshot=r,Yp(t)&&Gp(e)}function Qp(e,t,n){return n(function(){Yp(t)&&Gp(e)})}function Yp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xn(e,n)}catch{return!0}}function Gp(e){var t=qn(e,1);t!==null&&gn(t,e,1,-1)}function _f(e){var t=_n();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:e},t.queue=e,e=e.dispatch=Ig.bind(null,Ye,e),[t.memoizedState,e]}function Vs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Xp(){return ln().memoizedState}function Zo(e,t,n,r){var i=_n();Ye.flags|=e,i.memoizedState=Vs(1|t,n,void 0,r===void 0?null:r)}function Bl(e,t,n,r){var i=ln();r=r===void 0?null:r;var o=void 0;if(ot!==null){var c=ot.memoizedState;if(o=c.destroy,r!==null&&Qc(r,c.deps)){i.memoizedState=Vs(t,n,o,r);return}}Ye.flags|=e,i.memoizedState=Vs(1|t,n,o,r)}function Pf(e,t){return Zo(8390656,8,e,t)}function Xc(e,t){return Bl(2048,8,e,t)}function Jp(e,t){return Bl(4,2,e,t)}function Zp(e,t){return Bl(4,4,e,t)}function em(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tm(e,t,n){return n=n!=null?n.concat([e]):null,Bl(4,4,em.bind(null,t,e),n)}function Jc(){}function nm(e,t){var n=ln();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Qc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function rm(e,t){var n=ln();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Qc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function im(e,t,n){return ei&21?(xn(n,t)||(n=up(),Ye.lanes|=n,ti|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,At=!0),e.memoizedState=n)}function Rg(e,t){var n=$e;$e=n!==0&&4>n?n:4,e(!0);var r=Ya.transition;Ya.transition={};try{e(!1),t()}finally{$e=n,Ya.transition=r}}function sm(){return ln().memoizedState}function Lg(e,t,n){var r=Sr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},om(e))lm(t,n);else if(n=Up(e,t,n,r),n!==null){var i=Tt();gn(n,e,r,i),am(n,t,r)}}function Ig(e,t,n){var r=Sr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(om(e))lm(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var c=t.lastRenderedState,h=o(c,n);if(i.hasEagerState=!0,i.eagerState=h,xn(h,c)){var p=t.interleaved;p===null?(i.next=i,Kc(t)):(i.next=p.next,p.next=i),t.interleaved=i;return}}catch{}finally{}n=Up(e,t,i,r),n!==null&&(i=Tt(),gn(n,e,r,i),am(n,t,r))}}function om(e){var t=e.alternate;return e===Ye||t!==null&&t===Ye}function lm(e,t){Es=kl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function am(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pc(e,n)}}var jl={readContext:on,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},Mg={readContext:on,useCallback:function(e,t){return _n().memoizedState=[e,t===void 0?null:t],e},useContext:on,useEffect:Pf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Zo(4194308,4,em.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zo(4,2,e,t)},useMemo:function(e,t){var n=_n();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_n();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Lg.bind(null,Ye,e),[r.memoizedState,e]},useRef:function(e){var t=_n();return e={current:e},t.memoizedState=e},useState:_f,useDebugValue:Jc,useDeferredValue:function(e){return _n().memoizedState=e},useTransition:function(){var e=_f(!1),t=e[0];return e=Rg.bind(null,e[1]),_n().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ye,i=_n();if(qe){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=t(),ft===null)throw Error(Z(349));ei&30||Vp(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Pf(Qp.bind(null,r,o,e),[e]),r.flags|=2048,Vs(9,qp.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=_n(),t=ft.identifierPrefix;if(qe){var n=Bn,r=Un;n=(r&~(1<<32-vn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ws++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Og++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Fg={readContext:on,useCallback:nm,useContext:on,useEffect:Xc,useImperativeHandle:tm,useInsertionEffect:Jp,useLayoutEffect:Zp,useMemo:rm,useReducer:Ga,useRef:Xp,useState:function(){return Ga(Hs)},useDebugValue:Jc,useDeferredValue:function(e){var t=ln();return im(t,ot.memoizedState,e)},useTransition:function(){var e=Ga(Hs)[0],t=ln().memoizedState;return[e,t]},useMutableSource:Wp,useSyncExternalStore:Hp,useId:sm,unstable_isNewReconciler:!1},Ag={readContext:on,useCallback:nm,useContext:on,useEffect:Xc,useImperativeHandle:tm,useInsertionEffect:Jp,useLayoutEffect:Zp,useMemo:rm,useReducer:Xa,useRef:Xp,useState:function(){return Xa(Hs)},useDebugValue:Jc,useDeferredValue:function(e){var t=ln();return ot===null?t.memoizedState=e:im(t,ot.memoizedState,e)},useTransition:function(){var e=Xa(Hs)[0],t=ln().memoizedState;return[e,t]},useMutableSource:Wp,useSyncExternalStore:Hp,useId:sm,unstable_isNewReconciler:!1};function pn(e,t){if(e&&e.defaultProps){t=Ge({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Bu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Kl={isMounted:function(e){return(e=e._reactInternals)?ii(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Tt(),i=Sr(e),o=Wn(r,i);o.payload=t,n!=null&&(o.callback=n),t=wr(e,o,i),t!==null&&(gn(t,e,i,r),Xo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Tt(),i=Sr(e),o=Wn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=wr(e,o,i),t!==null&&(gn(t,e,i,r),Xo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Tt(),r=Sr(e),i=Wn(n,r);i.tag=2,t!=null&&(i.callback=t),t=wr(e,i,r),t!==null&&(gn(t,e,r,n),Xo(t,e,r))}};function Tf(e,t,n,r,i,o,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,c):t.prototype&&t.prototype.isPureReactComponent?!zs(n,r)||!zs(i,o):!0}function um(e,t,n){var r=!1,i=Cr,o=t.contextType;return typeof o=="object"&&o!==null?o=on(o):(i=Dt(t)?Jr:jt.current,r=t.contextTypes,o=(r=r!=null)?Mi(e,i):Cr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Kl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Of(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Kl.enqueueReplaceState(t,t.state,null)}function Ku(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Wc(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=on(o):(o=Dt(t)?Jr:jt.current,i.context=Mi(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Bu(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Kl.enqueueReplaceState(i,i.state,null),bl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Di(e,t){try{var n="",r=t;do n+=dv(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Ja(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Wu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var zg=typeof WeakMap=="function"?WeakMap:Map;function cm(e,t,n){n=Wn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Cl||(Cl=!0,ec=r),Wu(e,t)},n}function dm(e,t,n){n=Wn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Wu(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Wu(e,t),typeof r!="function"&&(br===null?br=new Set([this]):br.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),n}function Rf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new zg;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Jg.bind(null,e,t,n),t.then(e,e))}function Lf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function If(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Wn(-1,1),t.tag=2,wr(n,t,1))),n.lanes|=1),e)}var Dg=Yn.ReactCurrentOwner,At=!1;function Pt(e,t,n,r){t.child=e===null?$p(t,null,n,r):Ai(t,e.child,n,r)}function Mf(e,t,n,r,i){n=n.render;var o=t.ref;return Ri(t,i),r=Yc(e,t,n,r,o,i),n=Gc(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qn(e,t,i)):(qe&&n&&Ac(t),t.flags|=1,Pt(e,t,r,i),t.child)}function Ff(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!od(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,fm(e,t,o,r,i)):(e=rl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var c=o.memoizedProps;if(n=n.compare,n=n!==null?n:zs,n(c,r)&&e.ref===t.ref)return Qn(e,t,i)}return t.flags|=1,e=kr(o,r),e.ref=t.ref,e.return=t,t.child=e}function fm(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(zs(o,r)&&e.ref===t.ref)if(At=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(At=!0);else return t.lanes=e.lanes,Qn(e,t,i)}return Hu(e,t,n,r,i)}function hm(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Ei,Vt),Vt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,We(Ei,Vt),Vt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,We(Ei,Vt),Vt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,We(Ei,Vt),Vt|=r;return Pt(e,t,i,n),t.child}function pm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Hu(e,t,n,r,i){var o=Dt(n)?Jr:jt.current;return o=Mi(t,o),Ri(t,i),n=Yc(e,t,n,r,o,i),r=Gc(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qn(e,t,i)):(qe&&r&&Ac(t),t.flags|=1,Pt(e,t,n,i),t.child)}function Af(e,t,n,r,i){if(Dt(n)){var o=!0;yl(t)}else o=!1;if(Ri(t,i),t.stateNode===null)el(e,t),um(t,n,r),Ku(t,n,r,i),r=!0;else if(e===null){var c=t.stateNode,h=t.memoizedProps;c.props=h;var p=c.context,v=n.contextType;typeof v=="object"&&v!==null?v=on(v):(v=Dt(n)?Jr:jt.current,v=Mi(t,v));var S=n.getDerivedStateFromProps,b=typeof S=="function"||typeof c.getSnapshotBeforeUpdate=="function";b||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==r||p!==v)&&Of(t,c,r,v),ur=!1;var _=t.memoizedState;c.state=_,bl(t,r,c,i),p=t.memoizedState,h!==r||_!==p||zt.current||ur?(typeof S=="function"&&(Bu(t,n,S,r),p=t.memoizedState),(h=ur||Tf(t,n,h,r,_,p,v))?(b||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=p),c.props=r,c.state=p,c.context=v,r=h):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{c=t.stateNode,Bp(e,t),h=t.memoizedProps,v=t.type===t.elementType?h:pn(t.type,h),c.props=v,b=t.pendingProps,_=c.context,p=n.contextType,typeof p=="object"&&p!==null?p=on(p):(p=Dt(n)?Jr:jt.current,p=Mi(t,p));var U=n.getDerivedStateFromProps;(S=typeof U=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==b||_!==p)&&Of(t,c,r,p),ur=!1,_=t.memoizedState,c.state=_,bl(t,r,c,i);var z=t.memoizedState;h!==b||_!==z||zt.current||ur?(typeof U=="function"&&(Bu(t,n,U,r),z=t.memoizedState),(v=ur||Tf(t,n,v,r,_,z,p)||!1)?(S||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,z,p),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,z,p)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=z),c.props=r,c.state=z,c.context=p,r=v):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),r=!1)}return Vu(e,t,n,r,o,i)}function Vu(e,t,n,r,i,o){pm(e,t);var c=(t.flags&128)!==0;if(!r&&!c)return i&&Sf(t,n,!1),Qn(e,t,o);r=t.stateNode,Dg.current=t;var h=c&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&c?(t.child=Ai(t,e.child,null,o),t.child=Ai(t,null,h,o)):Pt(e,t,h,o),t.memoizedState=r.state,i&&Sf(t,n,!0),t.child}function mm(e){var t=e.stateNode;t.pendingContext?bf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bf(e,t.context,!1),Hc(e,t.containerInfo)}function zf(e,t,n,r,i){return Fi(),Dc(i),t.flags|=256,Pt(e,t,n,r),t.child}var qu={dehydrated:null,treeContext:null,retryLane:0};function Qu(e){return{baseLanes:e,cachePool:null,transitions:null}}function ym(e,t,n){var r=t.pendingProps,i=Qe.current,o=!1,c=(t.flags&128)!==0,h;if((h=c)||(h=e!==null&&e.memoizedState===null?!1:(i&2)!==0),h?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),We(Qe,i&1),e===null)return $u(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=r.children,e=r.fallback,o?(r=t.mode,o=t.child,c={mode:"hidden",children:c},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=c):o=Vl(c,r,0,null),e=Xr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Qu(n),t.memoizedState=qu,e):Zc(t,c));if(i=e.memoizedState,i!==null&&(h=i.dehydrated,h!==null))return $g(e,t,c,r,h,i,n);if(o){o=r.fallback,c=t.mode,i=e.child,h=i.sibling;var p={mode:"hidden",children:r.children};return!(c&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=p,t.deletions=null):(r=kr(i,p),r.subtreeFlags=i.subtreeFlags&14680064),h!==null?o=kr(h,o):(o=Xr(o,c,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,c=e.child.memoizedState,c=c===null?Qu(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},o.memoizedState=c,o.childLanes=e.childLanes&~n,t.memoizedState=qu,r}return o=e.child,e=o.sibling,r=kr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Zc(e,t){return t=Vl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ao(e,t,n,r){return r!==null&&Dc(r),Ai(t,e.child,null,n),e=Zc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $g(e,t,n,r,i,o,c){if(n)return t.flags&256?(t.flags&=-257,r=Ja(Error(Z(422))),Ao(e,t,c,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Vl({mode:"visible",children:r.children},i,0,null),o=Xr(o,i,c,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Ai(t,e.child,null,c),t.child.memoizedState=Qu(c),t.memoizedState=qu,o);if(!(t.mode&1))return Ao(e,t,c,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var h=r.dgst;return r=h,o=Error(Z(419)),r=Ja(o,r,void 0),Ao(e,t,c,r)}if(h=(c&e.childLanes)!==0,At||h){if(r=ft,r!==null){switch(c&-c){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|c)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,qn(e,i),gn(r,e,i,-1))}return sd(),r=Ja(Error(Z(421))),Ao(e,t,c,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Zg.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,qt=xr(i.nextSibling),Qt=t,qe=!0,yn=null,e!==null&&(tn[nn++]=Un,tn[nn++]=Bn,tn[nn++]=Zr,Un=e.id,Bn=e.overflow,Zr=t),t=Zc(t,r.children),t.flags|=4096,t)}function Df(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Uu(e.return,t,n)}function Za(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function vm(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Pt(e,t,r.children,n),r=Qe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Df(e,n,t);else if(e.tag===19)Df(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(We(Qe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Sl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Za(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Sl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Za(t,!0,n,null,o);break;case"together":Za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function el(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ti|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,n=kr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=kr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ug(e,t,n){switch(t.tag){case 3:mm(t),Fi();break;case 5:Kp(t);break;case 1:Dt(t.type)&&yl(t);break;case 4:Hc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;We(xl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(We(Qe,Qe.current&1),t.flags|=128,null):n&t.child.childLanes?ym(e,t,n):(We(Qe,Qe.current&1),e=Qn(e,t,n),e!==null?e.sibling:null);We(Qe,Qe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return vm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),We(Qe,Qe.current),r)break;return null;case 22:case 23:return t.lanes=0,hm(e,t,n)}return Qn(e,t,n)}var gm,Yu,xm,wm;gm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yu=function(){};xm=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qr(On.current);var o=null;switch(n){case"input":i=vu(e,i),r=vu(e,r),o=[];break;case"select":i=Ge({},i,{value:void 0}),r=Ge({},r,{value:void 0}),o=[];break;case"textarea":i=wu(e,i),r=wu(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=pl)}Su(n,r);var c;n=null;for(v in i)if(!r.hasOwnProperty(v)&&i.hasOwnProperty(v)&&i[v]!=null)if(v==="style"){var h=i[v];for(c in h)h.hasOwnProperty(c)&&(n||(n={}),n[c]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(Os.hasOwnProperty(v)?o||(o=[]):(o=o||[]).push(v,null));for(v in r){var p=r[v];if(h=i!=null?i[v]:void 0,r.hasOwnProperty(v)&&p!==h&&(p!=null||h!=null))if(v==="style")if(h){for(c in h)!h.hasOwnProperty(c)||p&&p.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in p)p.hasOwnProperty(c)&&h[c]!==p[c]&&(n||(n={}),n[c]=p[c])}else n||(o||(o=[]),o.push(v,n)),n=p;else v==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,h=h?h.__html:void 0,p!=null&&h!==p&&(o=o||[]).push(v,p)):v==="children"?typeof p!="string"&&typeof p!="number"||(o=o||[]).push(v,""+p):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(Os.hasOwnProperty(v)?(p!=null&&v==="onScroll"&&He("scroll",e),o||h===p||(o=[])):(o=o||[]).push(v,p))}n&&(o=o||[]).push("style",n);var v=o;(t.updateQueue=v)&&(t.flags|=4)}};wm=function(e,t,n,r){n!==r&&(t.flags|=4)};function ms(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function St(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Bg(e,t,n){var r=t.pendingProps;switch(zc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(t),null;case 1:return Dt(t.type)&&ml(),St(t),null;case 3:return r=t.stateNode,zi(),Ve(zt),Ve(jt),qc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Mo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yn!==null&&(rc(yn),yn=null))),Yu(e,t),St(t),null;case 5:Vc(t);var i=Qr(Ks.current);if(n=t.type,e!==null&&t.stateNode!=null)xm(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Z(166));return St(t),null}if(e=Qr(On.current),Mo(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Pn]=t,r[Us]=o,e=(t.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(i=0;i<ws.length;i++)He(ws[i],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":qd(r,o),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},He("invalid",r);break;case"textarea":Yd(r,o),He("invalid",r)}Su(n,o),i=null;for(var c in o)if(o.hasOwnProperty(c)){var h=o[c];c==="children"?typeof h=="string"?r.textContent!==h&&(o.suppressHydrationWarning!==!0&&Io(r.textContent,h,e),i=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(o.suppressHydrationWarning!==!0&&Io(r.textContent,h,e),i=["children",""+h]):Os.hasOwnProperty(c)&&h!=null&&c==="onScroll"&&He("scroll",r)}switch(n){case"input":Co(r),Qd(r,o,!0);break;case"textarea":Co(r),Gd(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=pl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{c=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),n==="select"&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Pn]=t,e[Us]=r,gm(e,t,!1,!1),t.stateNode=e;e:{switch(c=ku(n,r),n){case"dialog":He("cancel",e),He("close",e),i=r;break;case"iframe":case"object":case"embed":He("load",e),i=r;break;case"video":case"audio":for(i=0;i<ws.length;i++)He(ws[i],e);i=r;break;case"source":He("error",e),i=r;break;case"img":case"image":case"link":He("error",e),He("load",e),i=r;break;case"details":He("toggle",e),i=r;break;case"input":qd(e,r),i=vu(e,r),He("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ge({},r,{value:void 0}),He("invalid",e);break;case"textarea":Yd(e,r),i=wu(e,r),He("invalid",e);break;default:i=r}Su(n,i),h=i;for(o in h)if(h.hasOwnProperty(o)){var p=h[o];o==="style"?Xh(e,p):o==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&Yh(e,p)):o==="children"?typeof p=="string"?(n!=="textarea"||p!=="")&&Rs(e,p):typeof p=="number"&&Rs(e,""+p):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Os.hasOwnProperty(o)?p!=null&&o==="onScroll"&&He("scroll",e):p!=null&&kc(e,o,p,c))}switch(n){case"input":Co(e),Qd(e,r,!1);break;case"textarea":Co(e),Gd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Nr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?_i(e,!!r.multiple,o,!1):r.defaultValue!=null&&_i(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=pl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return St(t),null;case 6:if(e&&t.stateNode!=null)wm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Z(166));if(n=Qr(Ks.current),Qr(On.current),Mo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Pn]=t,(o=r.nodeValue!==n)&&(e=Qt,e!==null))switch(e.tag){case 3:Io(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Io(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pn]=t,t.stateNode=r}return St(t),null;case 13:if(Ve(Qe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qe&&qt!==null&&t.mode&1&&!(t.flags&128))zp(),Fi(),t.flags|=98560,o=!1;else if(o=Mo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(Z(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Z(317));o[Pn]=t}else Fi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;St(t),o=!1}else yn!==null&&(rc(yn),yn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Qe.current&1?lt===0&&(lt=3):sd())),t.updateQueue!==null&&(t.flags|=4),St(t),null);case 4:return zi(),Yu(e,t),e===null&&Ds(t.stateNode.containerInfo),St(t),null;case 10:return Bc(t.type._context),St(t),null;case 17:return Dt(t.type)&&ml(),St(t),null;case 19:if(Ve(Qe),o=t.memoizedState,o===null)return St(t),null;if(r=(t.flags&128)!==0,c=o.rendering,c===null)if(r)ms(o,!1);else{if(lt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=Sl(e),c!==null){for(t.flags|=128,ms(o,!1),r=c.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,c=o.alternate,c===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,e=c.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return We(Qe,Qe.current&1|2),t.child}e=e.sibling}o.tail!==null&&tt()>$i&&(t.flags|=128,r=!0,ms(o,!1),t.lanes=4194304)}else{if(!r)if(e=Sl(c),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ms(o,!0),o.tail===null&&o.tailMode==="hidden"&&!c.alternate&&!qe)return St(t),null}else 2*tt()-o.renderingStartTime>$i&&n!==1073741824&&(t.flags|=128,r=!0,ms(o,!1),t.lanes=4194304);o.isBackwards?(c.sibling=t.child,t.child=c):(n=o.last,n!==null?n.sibling=c:t.child=c,o.last=c)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=tt(),t.sibling=null,n=Qe.current,We(Qe,r?n&1|2:n&1),t):(St(t),null);case 22:case 23:return id(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Vt&1073741824&&(St(t),t.subtreeFlags&6&&(t.flags|=8192)):St(t),null;case 24:return null;case 25:return null}throw Error(Z(156,t.tag))}function Kg(e,t){switch(zc(t),t.tag){case 1:return Dt(t.type)&&ml(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return zi(),Ve(zt),Ve(jt),qc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Vc(t),null;case 13:if(Ve(Qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Z(340));Fi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ve(Qe),null;case 4:return zi(),null;case 10:return Bc(t.type._context),null;case 22:case 23:return id(),null;case 24:return null;default:return null}}var zo=!1,kt=!1,Wg=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Ci(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Xe(e,t,r)}else n.current=null}function Gu(e,t,n){try{n()}catch(r){Xe(e,t,r)}}var $f=!1;function Hg(e,t){if(Lu=dl,e=Np(),Fc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var c=0,h=-1,p=-1,v=0,S=0,b=e,_=null;t:for(;;){for(var U;b!==n||i!==0&&b.nodeType!==3||(h=c+i),b!==o||r!==0&&b.nodeType!==3||(p=c+r),b.nodeType===3&&(c+=b.nodeValue.length),(U=b.firstChild)!==null;)_=b,b=U;for(;;){if(b===e)break t;if(_===n&&++v===i&&(h=c),_===o&&++S===r&&(p=c),(U=b.nextSibling)!==null)break;b=_,_=b.parentNode}b=U}n=h===-1||p===-1?null:{start:h,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(Iu={focusedElem:e,selectionRange:n},dl=!1,pe=t;pe!==null;)if(t=pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pe=e;else for(;pe!==null;){t=pe;try{var z=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(z!==null){var B=z.memoizedProps,q=z.memoizedState,N=t.stateNode,g=N.getSnapshotBeforeUpdate(t.elementType===t.type?B:pn(t.type,B),q);N.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch($){Xe(t,t.return,$)}if(e=t.sibling,e!==null){e.return=t.return,pe=e;break}pe=t.return}return z=$f,$f=!1,z}function _s(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Gu(t,n,o)}i=i.next}while(i!==r)}}function Wl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Xu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function bm(e){var t=e.alternate;t!==null&&(e.alternate=null,bm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pn],delete t[Us],delete t[Au],delete t[Eg],delete t[_g])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sm(e){return e.tag===5||e.tag===3||e.tag===4}function Uf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ju(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=pl));else if(r!==4&&(e=e.child,e!==null))for(Ju(e,t,n),e=e.sibling;e!==null;)Ju(e,t,n),e=e.sibling}function Zu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Zu(e,t,n),e=e.sibling;e!==null;)Zu(e,t,n),e=e.sibling}var pt=null,mn=!1;function lr(e,t,n){for(n=n.child;n!==null;)km(e,t,n),n=n.sibling}function km(e,t,n){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(Fl,n)}catch{}switch(n.tag){case 5:kt||Ci(n,t);case 6:var r=pt,i=mn;pt=null,lr(e,t,n),pt=r,mn=i,pt!==null&&(mn?(e=pt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):pt.removeChild(n.stateNode));break;case 18:pt!==null&&(mn?(e=pt,n=n.stateNode,e.nodeType===8?Va(e.parentNode,n):e.nodeType===1&&Va(e,n),Fs(e)):Va(pt,n.stateNode));break;case 4:r=pt,i=mn,pt=n.stateNode.containerInfo,mn=!0,lr(e,t,n),pt=r,mn=i;break;case 0:case 11:case 14:case 15:if(!kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,c=o.destroy;o=o.tag,c!==void 0&&(o&2||o&4)&&Gu(n,t,c),i=i.next}while(i!==r)}lr(e,t,n);break;case 1:if(!kt&&(Ci(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){Xe(n,t,h)}lr(e,t,n);break;case 21:lr(e,t,n);break;case 22:n.mode&1?(kt=(r=kt)||n.memoizedState!==null,lr(e,t,n),kt=r):lr(e,t,n);break;default:lr(e,t,n)}}function Bf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Wg),t.forEach(function(r){var i=ex.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function hn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,c=t,h=c;e:for(;h!==null;){switch(h.tag){case 5:pt=h.stateNode,mn=!1;break e;case 3:pt=h.stateNode.containerInfo,mn=!0;break e;case 4:pt=h.stateNode.containerInfo,mn=!0;break e}h=h.return}if(pt===null)throw Error(Z(160));km(o,c,i),pt=null,mn=!1;var p=i.alternate;p!==null&&(p.return=null),i.return=null}catch(v){Xe(i,t,v)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)jm(t,e),t=t.sibling}function jm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hn(t,e),En(e),r&4){try{_s(3,e,e.return),Wl(3,e)}catch(B){Xe(e,e.return,B)}try{_s(5,e,e.return)}catch(B){Xe(e,e.return,B)}}break;case 1:hn(t,e),En(e),r&512&&n!==null&&Ci(n,n.return);break;case 5:if(hn(t,e),En(e),r&512&&n!==null&&Ci(n,n.return),e.flags&32){var i=e.stateNode;try{Rs(i,"")}catch(B){Xe(e,e.return,B)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,c=n!==null?n.memoizedProps:o,h=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{h==="input"&&o.type==="radio"&&o.name!=null&&Vh(i,o),ku(h,c);var v=ku(h,o);for(c=0;c<p.length;c+=2){var S=p[c],b=p[c+1];S==="style"?Xh(i,b):S==="dangerouslySetInnerHTML"?Yh(i,b):S==="children"?Rs(i,b):kc(i,S,b,v)}switch(h){case"input":gu(i,o);break;case"textarea":qh(i,o);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var U=o.value;U!=null?_i(i,!!o.multiple,U,!1):_!==!!o.multiple&&(o.defaultValue!=null?_i(i,!!o.multiple,o.defaultValue,!0):_i(i,!!o.multiple,o.multiple?[]:"",!1))}i[Us]=o}catch(B){Xe(e,e.return,B)}}break;case 6:if(hn(t,e),En(e),r&4){if(e.stateNode===null)throw Error(Z(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(B){Xe(e,e.return,B)}}break;case 3:if(hn(t,e),En(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fs(t.containerInfo)}catch(B){Xe(e,e.return,B)}break;case 4:hn(t,e),En(e);break;case 13:hn(t,e),En(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(nd=tt())),r&4&&Bf(e);break;case 22:if(S=n!==null&&n.memoizedState!==null,e.mode&1?(kt=(v=kt)||S,hn(t,e),kt=v):hn(t,e),En(e),r&8192){if(v=e.memoizedState!==null,(e.stateNode.isHidden=v)&&!S&&e.mode&1)for(pe=e,S=e.child;S!==null;){for(b=pe=S;pe!==null;){switch(_=pe,U=_.child,_.tag){case 0:case 11:case 14:case 15:_s(4,_,_.return);break;case 1:Ci(_,_.return);var z=_.stateNode;if(typeof z.componentWillUnmount=="function"){r=_,n=_.return;try{t=r,z.props=t.memoizedProps,z.state=t.memoizedState,z.componentWillUnmount()}catch(B){Xe(r,n,B)}}break;case 5:Ci(_,_.return);break;case 22:if(_.memoizedState!==null){Wf(b);continue}}U!==null?(U.return=_,pe=U):Wf(b)}S=S.sibling}e:for(S=null,b=e;;){if(b.tag===5){if(S===null){S=b;try{i=b.stateNode,v?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(h=b.stateNode,p=b.memoizedProps.style,c=p!=null&&p.hasOwnProperty("display")?p.display:null,h.style.display=Gh("display",c))}catch(B){Xe(e,e.return,B)}}}else if(b.tag===6){if(S===null)try{b.stateNode.nodeValue=v?"":b.memoizedProps}catch(B){Xe(e,e.return,B)}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===e)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===e)break e;for(;b.sibling===null;){if(b.return===null||b.return===e)break e;S===b&&(S=null),b=b.return}S===b&&(S=null),b.sibling.return=b.return,b=b.sibling}}break;case 19:hn(t,e),En(e),r&4&&Bf(e);break;case 21:break;default:hn(t,e),En(e)}}function En(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Sm(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Rs(i,""),r.flags&=-33);var o=Uf(e);Zu(e,o,i);break;case 3:case 4:var c=r.stateNode.containerInfo,h=Uf(e);Ju(e,h,c);break;default:throw Error(Z(161))}}catch(p){Xe(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vg(e,t,n){pe=e,Nm(e)}function Nm(e,t,n){for(var r=(e.mode&1)!==0;pe!==null;){var i=pe,o=i.child;if(i.tag===22&&r){var c=i.memoizedState!==null||zo;if(!c){var h=i.alternate,p=h!==null&&h.memoizedState!==null||kt;h=zo;var v=kt;if(zo=c,(kt=p)&&!v)for(pe=i;pe!==null;)c=pe,p=c.child,c.tag===22&&c.memoizedState!==null?Hf(i):p!==null?(p.return=c,pe=p):Hf(i);for(;o!==null;)pe=o,Nm(o),o=o.sibling;pe=i,zo=h,kt=v}Kf(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,pe=o):Kf(e)}}function Kf(e){for(;pe!==null;){var t=pe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:kt||Wl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!kt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:pn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Ef(t,o,r);break;case 3:var c=t.updateQueue;if(c!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ef(t,c,n)}break;case 5:var h=t.stateNode;if(n===null&&t.flags&4){n=h;var p=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&n.focus();break;case"img":p.src&&(n.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var v=t.alternate;if(v!==null){var S=v.memoizedState;if(S!==null){var b=S.dehydrated;b!==null&&Fs(b)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}kt||t.flags&512&&Xu(t)}catch(_){Xe(t,t.return,_)}}if(t===e){pe=null;break}if(n=t.sibling,n!==null){n.return=t.return,pe=n;break}pe=t.return}}function Wf(e){for(;pe!==null;){var t=pe;if(t===e){pe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,pe=n;break}pe=t.return}}function Hf(e){for(;pe!==null;){var t=pe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Wl(4,t)}catch(p){Xe(t,n,p)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(p){Xe(t,i,p)}}var o=t.return;try{Xu(t)}catch(p){Xe(t,o,p)}break;case 5:var c=t.return;try{Xu(t)}catch(p){Xe(t,c,p)}}}catch(p){Xe(t,t.return,p)}if(t===e){pe=null;break}var h=t.sibling;if(h!==null){h.return=t.return,pe=h;break}pe=t.return}}var qg=Math.ceil,Nl=Yn.ReactCurrentDispatcher,ed=Yn.ReactCurrentOwner,sn=Yn.ReactCurrentBatchConfig,Fe=0,ft=null,it=null,yt=0,Vt=0,Ei=_r(0),lt=0,qs=null,ti=0,Hl=0,td=0,Ps=null,Ft=null,nd=0,$i=1/0,Dn=null,Cl=!1,ec=null,br=null,Do=!1,hr=null,El=0,Ts=0,tc=null,tl=-1,nl=0;function Tt(){return Fe&6?tt():tl!==-1?tl:tl=tt()}function Sr(e){return e.mode&1?Fe&2&&yt!==0?yt&-yt:Tg.transition!==null?(nl===0&&(nl=up()),nl):(e=$e,e!==0||(e=window.event,e=e===void 0?16:yp(e.type)),e):1}function gn(e,t,n,r){if(50<Ts)throw Ts=0,tc=null,Error(Z(185));Js(e,n,r),(!(Fe&2)||e!==ft)&&(e===ft&&(!(Fe&2)&&(Hl|=n),lt===4&&dr(e,yt)),$t(e,r),n===1&&Fe===0&&!(t.mode&1)&&($i=tt()+500,Ul&&Pr()))}function $t(e,t){var n=e.callbackNode;Tv(e,t);var r=cl(e,e===ft?yt:0);if(r===0)n!==null&&Zd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Zd(n),t===1)e.tag===0?Pg(Vf.bind(null,e)):Mp(Vf.bind(null,e)),Ng(function(){!(Fe&6)&&Pr()}),n=null;else{switch(cp(r)){case 1:n=_c;break;case 4:n=lp;break;case 16:n=ul;break;case 536870912:n=ap;break;default:n=ul}n=Lm(n,Cm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Cm(e,t){if(tl=-1,nl=0,Fe&6)throw Error(Z(327));var n=e.callbackNode;if(Li()&&e.callbackNode!==n)return null;var r=cl(e,e===ft?yt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=_l(e,r);else{t=r;var i=Fe;Fe|=2;var o=_m();(ft!==e||yt!==t)&&(Dn=null,$i=tt()+500,Gr(e,t));do try{Gg();break}catch(h){Em(e,h)}while(!0);Uc(),Nl.current=o,Fe=i,it!==null?t=0:(ft=null,yt=0,t=lt)}if(t!==0){if(t===2&&(i=_u(e),i!==0&&(r=i,t=nc(e,i))),t===1)throw n=qs,Gr(e,0),dr(e,r),$t(e,tt()),n;if(t===6)dr(e,r);else{if(i=e.current.alternate,!(r&30)&&!Qg(i)&&(t=_l(e,r),t===2&&(o=_u(e),o!==0&&(r=o,t=nc(e,o))),t===1))throw n=qs,Gr(e,0),dr(e,r),$t(e,tt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Z(345));case 2:Wr(e,Ft,Dn);break;case 3:if(dr(e,r),(r&130023424)===r&&(t=nd+500-tt(),10<t)){if(cl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Tt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Fu(Wr.bind(null,e,Ft,Dn),t);break}Wr(e,Ft,Dn);break;case 4:if(dr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var c=31-vn(r);o=1<<c,c=t[c],c>i&&(i=c),r&=~o}if(r=i,r=tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qg(r/1960))-r,10<r){e.timeoutHandle=Fu(Wr.bind(null,e,Ft,Dn),r);break}Wr(e,Ft,Dn);break;case 5:Wr(e,Ft,Dn);break;default:throw Error(Z(329))}}}return $t(e,tt()),e.callbackNode===n?Cm.bind(null,e):null}function nc(e,t){var n=Ps;return e.current.memoizedState.isDehydrated&&(Gr(e,t).flags|=256),e=_l(e,t),e!==2&&(t=Ft,Ft=n,t!==null&&rc(t)),e}function rc(e){Ft===null?Ft=e:Ft.push.apply(Ft,e)}function Qg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!xn(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dr(e,t){for(t&=~td,t&=~Hl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-vn(t),r=1<<n;e[n]=-1,t&=~r}}function Vf(e){if(Fe&6)throw Error(Z(327));Li();var t=cl(e,0);if(!(t&1))return $t(e,tt()),null;var n=_l(e,t);if(e.tag!==0&&n===2){var r=_u(e);r!==0&&(t=r,n=nc(e,r))}if(n===1)throw n=qs,Gr(e,0),dr(e,t),$t(e,tt()),n;if(n===6)throw Error(Z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wr(e,Ft,Dn),$t(e,tt()),null}function rd(e,t){var n=Fe;Fe|=1;try{return e(t)}finally{Fe=n,Fe===0&&($i=tt()+500,Ul&&Pr())}}function ni(e){hr!==null&&hr.tag===0&&!(Fe&6)&&Li();var t=Fe;Fe|=1;var n=sn.transition,r=$e;try{if(sn.transition=null,$e=1,e)return e()}finally{$e=r,sn.transition=n,Fe=t,!(Fe&6)&&Pr()}}function id(){Vt=Ei.current,Ve(Ei)}function Gr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,jg(n)),it!==null)for(n=it.return;n!==null;){var r=n;switch(zc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ml();break;case 3:zi(),Ve(zt),Ve(jt),qc();break;case 5:Vc(r);break;case 4:zi();break;case 13:Ve(Qe);break;case 19:Ve(Qe);break;case 10:Bc(r.type._context);break;case 22:case 23:id()}n=n.return}if(ft=e,it=e=kr(e.current,null),yt=Vt=t,lt=0,qs=null,td=Hl=ti=0,Ft=Ps=null,qr!==null){for(t=0;t<qr.length;t++)if(n=qr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var c=o.next;o.next=i,r.next=c}n.pending=r}qr=null}return e}function Em(e,t){do{var n=it;try{if(Uc(),Jo.current=jl,kl){for(var r=Ye.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}kl=!1}if(ei=0,dt=ot=Ye=null,Es=!1,Ws=0,ed.current=null,n===null||n.return===null){lt=1,qs=t,it=null;break}e:{var o=e,c=n.return,h=n,p=t;if(t=yt,h.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var v=p,S=h,b=S.tag;if(!(S.mode&1)&&(b===0||b===11||b===15)){var _=S.alternate;_?(S.updateQueue=_.updateQueue,S.memoizedState=_.memoizedState,S.lanes=_.lanes):(S.updateQueue=null,S.memoizedState=null)}var U=Lf(c);if(U!==null){U.flags&=-257,If(U,c,h,o,t),U.mode&1&&Rf(o,v,t),t=U,p=v;var z=t.updateQueue;if(z===null){var B=new Set;B.add(p),t.updateQueue=B}else z.add(p);break e}else{if(!(t&1)){Rf(o,v,t),sd();break e}p=Error(Z(426))}}else if(qe&&h.mode&1){var q=Lf(c);if(q!==null){!(q.flags&65536)&&(q.flags|=256),If(q,c,h,o,t),Dc(Di(p,h));break e}}o=p=Di(p,h),lt!==4&&(lt=2),Ps===null?Ps=[o]:Ps.push(o),o=c;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var N=cm(o,p,t);Cf(o,N);break e;case 1:h=p;var g=o.type,k=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(br===null||!br.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t;var $=dm(o,h,t);Cf(o,$);break e}}o=o.return}while(o!==null)}Tm(n)}catch(J){t=J,it===n&&n!==null&&(it=n=n.return);continue}break}while(!0)}function _m(){var e=Nl.current;return Nl.current=jl,e===null?jl:e}function sd(){(lt===0||lt===3||lt===2)&&(lt=4),ft===null||!(ti&268435455)&&!(Hl&268435455)||dr(ft,yt)}function _l(e,t){var n=Fe;Fe|=2;var r=_m();(ft!==e||yt!==t)&&(Dn=null,Gr(e,t));do try{Yg();break}catch(i){Em(e,i)}while(!0);if(Uc(),Fe=n,Nl.current=r,it!==null)throw Error(Z(261));return ft=null,yt=0,lt}function Yg(){for(;it!==null;)Pm(it)}function Gg(){for(;it!==null&&!bv();)Pm(it)}function Pm(e){var t=Rm(e.alternate,e,Vt);e.memoizedProps=e.pendingProps,t===null?Tm(e):it=t,ed.current=null}function Tm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Kg(n,t),n!==null){n.flags&=32767,it=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{lt=6,it=null;return}}else if(n=Bg(n,t,Vt),n!==null){it=n;return}if(t=t.sibling,t!==null){it=t;return}it=t=e}while(t!==null);lt===0&&(lt=5)}function Wr(e,t,n){var r=$e,i=sn.transition;try{sn.transition=null,$e=1,Xg(e,t,n,r)}finally{sn.transition=i,$e=r}return null}function Xg(e,t,n,r){do Li();while(hr!==null);if(Fe&6)throw Error(Z(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Z(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Ov(e,o),e===ft&&(it=ft=null,yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Do||(Do=!0,Lm(ul,function(){return Li(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=sn.transition,sn.transition=null;var c=$e;$e=1;var h=Fe;Fe|=4,ed.current=null,Hg(e,n),jm(n,e),vg(Iu),dl=!!Lu,Iu=Lu=null,e.current=n,Vg(n),Sv(),Fe=h,$e=c,sn.transition=o}else e.current=n;if(Do&&(Do=!1,hr=e,El=i),o=e.pendingLanes,o===0&&(br=null),Nv(n.stateNode),$t(e,tt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Cl)throw Cl=!1,e=ec,ec=null,e;return El&1&&e.tag!==0&&Li(),o=e.pendingLanes,o&1?e===tc?Ts++:(Ts=0,tc=e):Ts=0,Pr(),null}function Li(){if(hr!==null){var e=cp(El),t=sn.transition,n=$e;try{if(sn.transition=null,$e=16>e?16:e,hr===null)var r=!1;else{if(e=hr,hr=null,El=0,Fe&6)throw Error(Z(331));var i=Fe;for(Fe|=4,pe=e.current;pe!==null;){var o=pe,c=o.child;if(pe.flags&16){var h=o.deletions;if(h!==null){for(var p=0;p<h.length;p++){var v=h[p];for(pe=v;pe!==null;){var S=pe;switch(S.tag){case 0:case 11:case 15:_s(8,S,o)}var b=S.child;if(b!==null)b.return=S,pe=b;else for(;pe!==null;){S=pe;var _=S.sibling,U=S.return;if(bm(S),S===v){pe=null;break}if(_!==null){_.return=U,pe=_;break}pe=U}}}var z=o.alternate;if(z!==null){var B=z.child;if(B!==null){z.child=null;do{var q=B.sibling;B.sibling=null,B=q}while(B!==null)}}pe=o}}if(o.subtreeFlags&2064&&c!==null)c.return=o,pe=c;else e:for(;pe!==null;){if(o=pe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:_s(9,o,o.return)}var N=o.sibling;if(N!==null){N.return=o.return,pe=N;break e}pe=o.return}}var g=e.current;for(pe=g;pe!==null;){c=pe;var k=c.child;if(c.subtreeFlags&2064&&k!==null)k.return=c,pe=k;else e:for(c=g;pe!==null;){if(h=pe,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:Wl(9,h)}}catch(J){Xe(h,h.return,J)}if(h===c){pe=null;break e}var $=h.sibling;if($!==null){$.return=h.return,pe=$;break e}pe=h.return}}if(Fe=i,Pr(),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(Fl,e)}catch{}r=!0}return r}finally{$e=n,sn.transition=t}}return!1}function qf(e,t,n){t=Di(n,t),t=cm(e,t,1),e=wr(e,t,1),t=Tt(),e!==null&&(Js(e,1,t),$t(e,t))}function Xe(e,t,n){if(e.tag===3)qf(e,e,n);else for(;t!==null;){if(t.tag===3){qf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(br===null||!br.has(r))){e=Di(n,e),e=dm(t,e,1),t=wr(t,e,1),e=Tt(),t!==null&&(Js(t,1,e),$t(t,e));break}}t=t.return}}function Jg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Tt(),e.pingedLanes|=e.suspendedLanes&n,ft===e&&(yt&n)===n&&(lt===4||lt===3&&(yt&130023424)===yt&&500>tt()-nd?Gr(e,0):td|=n),$t(e,t)}function Om(e,t){t===0&&(e.mode&1?(t=Po,Po<<=1,!(Po&130023424)&&(Po=4194304)):t=1);var n=Tt();e=qn(e,t),e!==null&&(Js(e,t,n),$t(e,n))}function Zg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Om(e,n)}function ex(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(t),Om(e,n)}var Rm;Rm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||zt.current)At=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return At=!1,Ug(e,t,n);At=!!(e.flags&131072)}else At=!1,qe&&t.flags&1048576&&Fp(t,gl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;el(e,t),e=t.pendingProps;var i=Mi(t,jt.current);Ri(t,n),i=Yc(null,t,r,e,i,n);var o=Gc();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dt(r)?(o=!0,yl(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Wc(t),i.updater=Kl,t.stateNode=i,i._reactInternals=t,Ku(t,r,e,n),t=Vu(null,t,r,!0,o,n)):(t.tag=0,qe&&o&&Ac(t),Pt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(el(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=nx(r),e=pn(r,e),i){case 0:t=Hu(null,t,r,e,n);break e;case 1:t=Af(null,t,r,e,n);break e;case 11:t=Mf(null,t,r,e,n);break e;case 14:t=Ff(null,t,r,pn(r.type,e),n);break e}throw Error(Z(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pn(r,i),Hu(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pn(r,i),Af(e,t,r,i,n);case 3:e:{if(mm(t),e===null)throw Error(Z(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Bp(e,t),bl(t,r,null,n);var c=t.memoizedState;if(r=c.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Di(Error(Z(423)),t),t=zf(e,t,r,n,i);break e}else if(r!==i){i=Di(Error(Z(424)),t),t=zf(e,t,r,n,i);break e}else for(qt=xr(t.stateNode.containerInfo.firstChild),Qt=t,qe=!0,yn=null,n=$p(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fi(),r===i){t=Qn(e,t,n);break e}Pt(e,t,r,n)}t=t.child}return t;case 5:return Kp(t),e===null&&$u(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,c=i.children,Mu(r,i)?c=null:o!==null&&Mu(r,o)&&(t.flags|=32),pm(e,t),Pt(e,t,c,n),t.child;case 6:return e===null&&$u(t),null;case 13:return ym(e,t,n);case 4:return Hc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ai(t,null,r,n):Pt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pn(r,i),Mf(e,t,r,i,n);case 7:return Pt(e,t,t.pendingProps,n),t.child;case 8:return Pt(e,t,t.pendingProps.children,n),t.child;case 12:return Pt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,c=i.value,We(xl,r._currentValue),r._currentValue=c,o!==null)if(xn(o.value,c)){if(o.children===i.children&&!zt.current){t=Qn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var h=o.dependencies;if(h!==null){c=o.child;for(var p=h.firstContext;p!==null;){if(p.context===r){if(o.tag===1){p=Wn(-1,n&-n),p.tag=2;var v=o.updateQueue;if(v!==null){v=v.shared;var S=v.pending;S===null?p.next=p:(p.next=S.next,S.next=p),v.pending=p}}o.lanes|=n,p=o.alternate,p!==null&&(p.lanes|=n),Uu(o.return,n,t),h.lanes|=n;break}p=p.next}}else if(o.tag===10)c=o.type===t.type?null:o.child;else if(o.tag===18){if(c=o.return,c===null)throw Error(Z(341));c.lanes|=n,h=c.alternate,h!==null&&(h.lanes|=n),Uu(c,n,t),c=o.sibling}else c=o.child;if(c!==null)c.return=o;else for(c=o;c!==null;){if(c===t){c=null;break}if(o=c.sibling,o!==null){o.return=c.return,c=o;break}c=c.return}o=c}Pt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ri(t,n),i=on(i),r=r(i),t.flags|=1,Pt(e,t,r,n),t.child;case 14:return r=t.type,i=pn(r,t.pendingProps),i=pn(r.type,i),Ff(e,t,r,i,n);case 15:return fm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pn(r,i),el(e,t),t.tag=1,Dt(r)?(e=!0,yl(t)):e=!1,Ri(t,n),um(t,r,i),Ku(t,r,i,n),Vu(null,t,r,!0,e,n);case 19:return vm(e,t,n);case 22:return hm(e,t,n)}throw Error(Z(156,t.tag))};function Lm(e,t){return op(e,t)}function tx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(e,t,n,r){return new tx(e,t,n,r)}function od(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nx(e){if(typeof e=="function")return od(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Nc)return 11;if(e===Cc)return 14}return 2}function kr(e,t){var n=e.alternate;return n===null?(n=rn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function rl(e,t,n,r,i,o){var c=2;if(r=e,typeof e=="function")od(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case vi:return Xr(n.children,i,o,t);case jc:c=8,i|=8;break;case hu:return e=rn(12,n,t,i|2),e.elementType=hu,e.lanes=o,e;case pu:return e=rn(13,n,t,i),e.elementType=pu,e.lanes=o,e;case mu:return e=rn(19,n,t,i),e.elementType=mu,e.lanes=o,e;case Kh:return Vl(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Uh:c=10;break e;case Bh:c=9;break e;case Nc:c=11;break e;case Cc:c=14;break e;case ar:c=16,r=null;break e}throw Error(Z(130,e==null?e:typeof e,""))}return t=rn(c,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Xr(e,t,n,r){return e=rn(7,e,r,t),e.lanes=n,e}function Vl(e,t,n,r){return e=rn(22,e,r,t),e.elementType=Kh,e.lanes=n,e.stateNode={isHidden:!1},e}function eu(e,t,n){return e=rn(6,e,null,t),e.lanes=n,e}function tu(e,t,n){return t=rn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function rx(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ma(0),this.expirationTimes=Ma(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ma(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ld(e,t,n,r,i,o,c,h,p){return e=new rx(e,t,n,h,p),t===1?(t=1,o===!0&&(t|=8)):t=0,o=rn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wc(o),e}function ix(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Im(e){if(!e)return Cr;e=e._reactInternals;e:{if(ii(e)!==e||e.tag!==1)throw Error(Z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Z(171))}if(e.tag===1){var n=e.type;if(Dt(n))return Ip(e,n,t)}return t}function Mm(e,t,n,r,i,o,c,h,p){return e=ld(n,r,!0,e,i,o,c,h,p),e.context=Im(null),n=e.current,r=Tt(),i=Sr(n),o=Wn(r,i),o.callback=t??null,wr(n,o,i),e.current.lanes=i,Js(e,i,r),$t(e,r),e}function ql(e,t,n,r){var i=t.current,o=Tt(),c=Sr(i);return n=Im(n),t.context===null?t.context=n:t.pendingContext=n,t=Wn(o,c),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=wr(i,t,c),e!==null&&(gn(e,i,c,o),Xo(e,i,c)),c}function Pl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ad(e,t){Qf(e,t),(e=e.alternate)&&Qf(e,t)}function sx(){return null}var Fm=typeof reportError=="function"?reportError:function(e){console.error(e)};function ud(e){this._internalRoot=e}Ql.prototype.render=ud.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Z(409));ql(e,t,null,null)};Ql.prototype.unmount=ud.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ni(function(){ql(null,e,null,null)}),t[Vn]=null}};function Ql(e){this._internalRoot=e}Ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=hp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<cr.length&&t!==0&&t<cr[n].priority;n++);cr.splice(n,0,e),n===0&&mp(e)}};function cd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yf(){}function ox(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var v=Pl(c);o.call(v)}}var c=Mm(t,r,e,0,null,!1,!1,"",Yf);return e._reactRootContainer=c,e[Vn]=c.current,Ds(e.nodeType===8?e.parentNode:e),ni(),c}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var h=r;r=function(){var v=Pl(p);h.call(v)}}var p=ld(e,0,!1,null,null,!1,!1,"",Yf);return e._reactRootContainer=p,e[Vn]=p.current,Ds(e.nodeType===8?e.parentNode:e),ni(function(){ql(t,p,n,r)}),p}function Gl(e,t,n,r,i){var o=n._reactRootContainer;if(o){var c=o;if(typeof i=="function"){var h=i;i=function(){var p=Pl(c);h.call(p)}}ql(t,c,e,i)}else c=ox(n,t,e,i,r);return Pl(c)}dp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=xs(t.pendingLanes);n!==0&&(Pc(t,n|1),$t(t,tt()),!(Fe&6)&&($i=tt()+500,Pr()))}break;case 13:ni(function(){var r=qn(e,1);if(r!==null){var i=Tt();gn(r,e,1,i)}}),ad(e,1)}};Tc=function(e){if(e.tag===13){var t=qn(e,134217728);if(t!==null){var n=Tt();gn(t,e,134217728,n)}ad(e,134217728)}};fp=function(e){if(e.tag===13){var t=Sr(e),n=qn(e,t);if(n!==null){var r=Tt();gn(n,e,t,r)}ad(e,t)}};hp=function(){return $e};pp=function(e,t){var n=$e;try{return $e=e,t()}finally{$e=n}};Nu=function(e,t,n){switch(t){case"input":if(gu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=$l(r);if(!i)throw Error(Z(90));Hh(r),gu(r,i)}}}break;case"textarea":qh(e,n);break;case"select":t=n.value,t!=null&&_i(e,!!n.multiple,t,!1)}};ep=rd;tp=ni;var lx={usingClientEntryPoint:!1,Events:[eo,bi,$l,Jh,Zh,rd]},ys={findFiberByHostInstance:Vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ax={bundleType:ys.bundleType,version:ys.version,rendererPackageName:ys.rendererPackageName,rendererConfig:ys.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ip(e),e===null?null:e.stateNode},findFiberByHostInstance:ys.findFiberByHostInstance||sx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$o.isDisabled&&$o.supportsFiber)try{Fl=$o.inject(ax),Tn=$o}catch{}}Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lx;Gt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cd(t))throw Error(Z(200));return ix(e,t,null,n)};Gt.createRoot=function(e,t){if(!cd(e))throw Error(Z(299));var n=!1,r="",i=Fm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ld(e,1,!1,null,null,n,!1,r,i),e[Vn]=t.current,Ds(e.nodeType===8?e.parentNode:e),new ud(t)};Gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=ip(t),e=e===null?null:e.stateNode,e};Gt.flushSync=function(e){return ni(e)};Gt.hydrate=function(e,t,n){if(!Yl(t))throw Error(Z(200));return Gl(null,e,t,!0,n)};Gt.hydrateRoot=function(e,t,n){if(!cd(e))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",c=Fm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),t=Mm(t,null,e,1,n??null,i,!1,o,c),e[Vn]=t.current,Ds(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ql(t)};Gt.render=function(e,t,n){if(!Yl(t))throw Error(Z(200));return Gl(null,e,t,!1,n)};Gt.unmountComponentAtNode=function(e){if(!Yl(e))throw Error(Z(40));return e._reactRootContainer?(ni(function(){Gl(null,null,e,!1,function(){e._reactRootContainer=null,e[Vn]=null})}),!0):!1};Gt.unstable_batchedUpdates=rd;Gt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yl(n))throw Error(Z(200));if(e==null||e._reactInternals===void 0)throw Error(Z(38));return Gl(e,t,n,!1,r)};Gt.version="18.3.1-next-f1338f8080-20240426";function Am(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Am)}catch(e){console.error(e)}}Am(),Ah.exports=Gt;var ux=Ah.exports,Gf=ux;du.createRoot=Gf.createRoot,du.hydrateRoot=Gf.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qs(){return Qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qs.apply(this,arguments)}var pr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(pr||(pr={}));const Xf="popstate";function cx(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:c,hash:h}=r.location;return ic("",{pathname:o,search:c,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Tl(i)}return fx(t,n,null,e)}function Je(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function dx(){return Math.random().toString(36).substr(2,8)}function Jf(e,t){return{usr:e.state,key:e.key,idx:t}}function ic(e,t,n,r){return n===void 0&&(n=null),Qs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Vi(t):t,{state:n,key:t&&t.key||r||dx()})}function Tl(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Vi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function fx(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,c=i.history,h=pr.Pop,p=null,v=S();v==null&&(v=0,c.replaceState(Qs({},c.state,{idx:v}),""));function S(){return(c.state||{idx:null}).idx}function b(){h=pr.Pop;let q=S(),N=q==null?null:q-v;v=q,p&&p({action:h,location:B.location,delta:N})}function _(q,N){h=pr.Push;let g=ic(B.location,q,N);v=S()+1;let k=Jf(g,v),$=B.createHref(g);try{c.pushState(k,"",$)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;i.location.assign($)}o&&p&&p({action:h,location:B.location,delta:1})}function U(q,N){h=pr.Replace;let g=ic(B.location,q,N);v=S();let k=Jf(g,v),$=B.createHref(g);c.replaceState(k,"",$),o&&p&&p({action:h,location:B.location,delta:0})}function z(q){let N=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof q=="string"?q:Tl(q);return g=g.replace(/ $/,"%20"),Je(N,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,N)}let B={get action(){return h},get location(){return e(i,c)},listen(q){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(Xf,b),p=q,()=>{i.removeEventListener(Xf,b),p=null}},createHref(q){return t(i,q)},createURL:z,encodeLocation(q){let N=z(q);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:_,replace:U,go(q){return c.go(q)}};return B}var Zf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Zf||(Zf={}));function hx(e,t,n){return n===void 0&&(n="/"),px(e,t,n)}function px(e,t,n,r){let i=typeof t=="string"?Vi(t):t,o=Ui(i.pathname||"/",n);if(o==null)return null;let c=Dm(e);mx(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let v=Cx(o);h=jx(c[p],v)}return h}function Dm(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,c,h)=>{let p={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};p.relativePath.startsWith("/")&&(Je(p.relativePath.startsWith(r),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(r.length));let v=jr([r,p.relativePath]),S=n.concat(p);o.children&&o.children.length>0&&(Je(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),Dm(o.children,t,S,v)),!(o.path==null&&!o.index)&&t.push({path:v,score:Sx(v,o.index),routesMeta:S})};return e.forEach((o,c)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))i(o,c);else for(let p of $m(o.path))i(o,c,p)}),t}function $m(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let c=$m(r.join("/")),h=[];return h.push(...c.map(p=>p===""?o:[o,p].join("/"))),i&&h.push(...c),h.map(p=>e.startsWith("/")&&p===""?"/":p)}function mx(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:kx(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const yx=/^:[\w-]+$/,vx=3,gx=2,xx=1,wx=10,bx=-2,eh=e=>e==="*";function Sx(e,t){let n=e.split("/"),r=n.length;return n.some(eh)&&(r+=bx),t&&(r+=gx),n.filter(i=>!eh(i)).reduce((i,o)=>i+(yx.test(o)?vx:o===""?xx:wx),r)}function kx(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function jx(e,t,n){let{routesMeta:r}=e,i={},o="/",c=[];for(let h=0;h<r.length;++h){let p=r[h],v=h===r.length-1,S=o==="/"?t:t.slice(o.length)||"/",b=sc({path:p.relativePath,caseSensitive:p.caseSensitive,end:v},S),_=p.route;if(!b)return null;Object.assign(i,b.params),c.push({params:i,pathname:jr([o,b.pathname]),pathnameBase:Tx(jr([o,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(o=jr([o,b.pathnameBase]))}return c}function sc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Nx(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((v,S,b)=>{let{paramName:_,isOptional:U}=S;if(_==="*"){let B=h[b]||"";c=o.slice(0,o.length-B.length).replace(/(.)\/+$/,"$1")}const z=h[b];return U&&!z?v[_]=void 0:v[_]=(z||"").replace(/%2F/g,"/"),v},{}),pathname:o,pathnameBase:c,pattern:e}}function Nx(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),zm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(r.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Cx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return zm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ui(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Ex(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Vi(e):e;return{pathname:n?n.startsWith("/")?n:_x(n,t):t,search:Ox(r),hash:Rx(i)}}function _x(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function nu(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Px(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Um(e,t){let n=Px(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Bm(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Vi(e):(i=Qs({},e),Je(!i.pathname||!i.pathname.includes("?"),nu("?","pathname","search",i)),Je(!i.pathname||!i.pathname.includes("#"),nu("#","pathname","hash",i)),Je(!i.search||!i.search.includes("#"),nu("#","search","hash",i)));let o=e===""||i.pathname==="",c=o?"/":i.pathname,h;if(c==null)h=n;else{let b=t.length-1;if(!r&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),b-=1;i.pathname=_.join("/")}h=b>=0?t[b]:"/"}let p=Ex(i,h),v=c&&c!=="/"&&c.endsWith("/"),S=(o||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(v||S)&&(p.pathname+="/"),p}const jr=e=>e.join("/").replace(/\/\/+/g,"/"),Tx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ox=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Rx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Lx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Km=["post","put","patch","delete"];new Set(Km);const Ix=["get",...Km];new Set(Ix);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ys(){return Ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ys.apply(this,arguments)}const Xl=x.createContext(null),Wm=x.createContext(null),Tr=x.createContext(null),Jl=x.createContext(null),si=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Hm=x.createContext(null);function Mx(e,t){let{relative:n}=t===void 0?{}:t;no()||Je(!1);let{basename:r,navigator:i}=x.useContext(Tr),{hash:o,pathname:c,search:h}=Zl(e,{relative:n}),p=c;return r!=="/"&&(p=c==="/"?r:jr([r,c])),i.createHref({pathname:p,search:h,hash:o})}function no(){return x.useContext(Jl)!=null}function ro(){return no()||Je(!1),x.useContext(Jl).location}function Vm(e){x.useContext(Tr).static||x.useLayoutEffect(e)}function Fx(){let{isDataRoute:e}=x.useContext(si);return e?Yx():Ax()}function Ax(){no()||Je(!1);let e=x.useContext(Xl),{basename:t,future:n,navigator:r}=x.useContext(Tr),{matches:i}=x.useContext(si),{pathname:o}=ro(),c=JSON.stringify(Um(i,n.v7_relativeSplatPath)),h=x.useRef(!1);return Vm(()=>{h.current=!0}),x.useCallback(function(v,S){if(S===void 0&&(S={}),!h.current)return;if(typeof v=="number"){r.go(v);return}let b=Bm(v,JSON.parse(c),o,S.relative==="path");e==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:jr([t,b.pathname])),(S.replace?r.replace:r.push)(b,S.state,S)},[t,r,c,o,e])}function Zl(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=x.useContext(Tr),{matches:i}=x.useContext(si),{pathname:o}=ro(),c=JSON.stringify(Um(i,r.v7_relativeSplatPath));return x.useMemo(()=>Bm(e,JSON.parse(c),o,n==="path"),[e,c,o,n])}function zx(e,t){return Dx(e,t)}function Dx(e,t,n,r){no()||Je(!1);let{navigator:i}=x.useContext(Tr),{matches:o}=x.useContext(si),c=o[o.length-1],h=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let v=ro(),S;if(t){var b;let q=typeof t=="string"?Vi(t):t;p==="/"||(b=q.pathname)!=null&&b.startsWith(p)||Je(!1),S=q}else S=v;let _=S.pathname||"/",U=_;if(p!=="/"){let q=p.replace(/^\//,"").split("/");U="/"+_.replace(/^\//,"").split("/").slice(q.length).join("/")}let z=hx(e,{pathname:U}),B=Wx(z&&z.map(q=>Object.assign({},q,{params:Object.assign({},h,q.params),pathname:jr([p,i.encodeLocation?i.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?p:jr([p,i.encodeLocation?i.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),o,n,r);return t&&B?x.createElement(Jl.Provider,{value:{location:Ys({pathname:"/",search:"",hash:"",state:null,key:"default"},S),navigationType:pr.Pop}},B):B}function $x(){let e=Qx(),t=Lx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:i},n):null,null)}const Ux=x.createElement($x,null);class Bx extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(si.Provider,{value:this.props.routeContext},x.createElement(Hm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Kx(e){let{routeContext:t,match:n,children:r}=e,i=x.useContext(Xl);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(si.Provider,{value:t},r)}function Wx(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let c=e,h=(i=n)==null?void 0:i.errors;if(h!=null){let S=c.findIndex(b=>b.route.id&&(h==null?void 0:h[b.route.id])!==void 0);S>=0||Je(!1),c=c.slice(0,Math.min(c.length,S+1))}let p=!1,v=-1;if(n&&r&&r.v7_partialHydration)for(let S=0;S<c.length;S++){let b=c[S];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(v=S),b.route.id){let{loaderData:_,errors:U}=n,z=b.route.loader&&_[b.route.id]===void 0&&(!U||U[b.route.id]===void 0);if(b.route.lazy||z){p=!0,v>=0?c=c.slice(0,v+1):c=[c[0]];break}}}return c.reduceRight((S,b,_)=>{let U,z=!1,B=null,q=null;n&&(U=h&&b.route.id?h[b.route.id]:void 0,B=b.route.errorElement||Ux,p&&(v<0&&_===0?(Gx("route-fallback"),z=!0,q=null):v===_&&(z=!0,q=b.route.hydrateFallbackElement||null)));let N=t.concat(c.slice(0,_+1)),g=()=>{let k;return U?k=B:z?k=q:b.route.Component?k=x.createElement(b.route.Component,null):b.route.element?k=b.route.element:k=S,x.createElement(Kx,{match:b,routeContext:{outlet:S,matches:N,isDataRoute:n!=null},children:k})};return n&&(b.route.ErrorBoundary||b.route.errorElement||_===0)?x.createElement(Bx,{location:n.location,revalidation:n.revalidation,component:B,error:U,children:g(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):g()},null)}var qm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(qm||{}),Qm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Qm||{});function Hx(e){let t=x.useContext(Xl);return t||Je(!1),t}function Vx(e){let t=x.useContext(Wm);return t||Je(!1),t}function qx(e){let t=x.useContext(si);return t||Je(!1),t}function Ym(e){let t=qx(),n=t.matches[t.matches.length-1];return n.route.id||Je(!1),n.route.id}function Qx(){var e;let t=x.useContext(Hm),n=Vx(),r=Ym();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Yx(){let{router:e}=Hx(qm.UseNavigateStable),t=Ym(Qm.UseNavigateStable),n=x.useRef(!1);return Vm(()=>{n.current=!0}),x.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ys({fromRouteId:t},o)))},[e,t])}const th={};function Gx(e,t,n){th[e]||(th[e]=!0)}function Xx(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function zn(e){Je(!1)}function Jx(e){let{basename:t="/",children:n=null,location:r,navigationType:i=pr.Pop,navigator:o,static:c=!1,future:h}=e;no()&&Je(!1);let p=t.replace(/^\/*/,"/"),v=x.useMemo(()=>({basename:p,navigator:o,static:c,future:Ys({v7_relativeSplatPath:!1},h)}),[p,h,o,c]);typeof r=="string"&&(r=Vi(r));let{pathname:S="/",search:b="",hash:_="",state:U=null,key:z="default"}=r,B=x.useMemo(()=>{let q=Ui(S,p);return q==null?null:{location:{pathname:q,search:b,hash:_,state:U,key:z},navigationType:i}},[p,S,b,_,U,z,i]);return B==null?null:x.createElement(Tr.Provider,{value:v},x.createElement(Jl.Provider,{children:n,value:B}))}function Zx(e){let{children:t,location:n}=e;return zx(oc(t),n)}new Promise(()=>{});function oc(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(r,i)=>{if(!x.isValidElement(r))return;let o=[...t,i];if(r.type===x.Fragment){n.push.apply(n,oc(r.props.children,o));return}r.type!==zn&&Je(!1),!r.props.index||!r.props.children||Je(!1);let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=oc(r.props.children,o)),n.push(c)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ol(){return Ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ol.apply(this,arguments)}function Gm(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function e0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function t0(e,t){return e.button===0&&(!t||t==="_self")&&!e0(e)}const n0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],r0=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],i0="6";try{window.__reactRouterVersion=i0}catch{}const s0=x.createContext({isTransitioning:!1}),o0="startTransition",nh=Jy[o0];function l0(e){let{basename:t,children:n,future:r,window:i}=e,o=x.useRef();o.current==null&&(o.current=cx({window:i,v5Compat:!0}));let c=o.current,[h,p]=x.useState({action:c.action,location:c.location}),{v7_startTransition:v}=r||{},S=x.useCallback(b=>{v&&nh?nh(()=>p(b)):p(b)},[p,v]);return x.useLayoutEffect(()=>c.listen(S),[c,S]),x.useEffect(()=>Xx(r),[r]),x.createElement(Jx,{basename:t,children:n,location:h.location,navigationType:h.action,navigator:c,future:r})}const a0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",u0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,c0=x.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:c,state:h,target:p,to:v,preventScrollReset:S,viewTransition:b}=t,_=Gm(t,n0),{basename:U}=x.useContext(Tr),z,B=!1;if(typeof v=="string"&&u0.test(v)&&(z=v,a0))try{let k=new URL(window.location.href),$=v.startsWith("//")?new URL(k.protocol+v):new URL(v),J=Ui($.pathname,U);$.origin===k.origin&&J!=null?v=J+$.search+$.hash:B=!0}catch{}let q=Mx(v,{relative:i}),N=f0(v,{replace:c,state:h,target:p,preventScrollReset:S,relative:i,viewTransition:b});function g(k){r&&r(k),k.defaultPrevented||N(k)}return x.createElement("a",Ol({},_,{href:z||q,onClick:B||o?r:g,ref:n,target:p}))}),$r=x.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:c=!1,style:h,to:p,viewTransition:v,children:S}=t,b=Gm(t,r0),_=Zl(p,{relative:b.relative}),U=ro(),z=x.useContext(Wm),{navigator:B,basename:q}=x.useContext(Tr),N=z!=null&&h0(_)&&v===!0,g=B.encodeLocation?B.encodeLocation(_).pathname:_.pathname,k=U.pathname,$=z&&z.navigation&&z.navigation.location?z.navigation.location.pathname:null;i||(k=k.toLowerCase(),$=$?$.toLowerCase():null,g=g.toLowerCase()),$&&q&&($=Ui($,q)||$);const J=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let Q=k===g||!c&&k.startsWith(g)&&k.charAt(J)==="/",X=$!=null&&($===g||!c&&$.startsWith(g)&&$.charAt(g.length)==="/"),ne={isActive:Q,isPending:X,isTransitioning:N},be=Q?r:void 0,ye;typeof o=="function"?ye=o(ne):ye=[o,Q?"active":null,X?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let Ie=typeof h=="function"?h(ne):h;return x.createElement(c0,Ol({},b,{"aria-current":be,className:ye,ref:n,style:Ie,to:p,viewTransition:v}),typeof S=="function"?S(ne):S)});var lc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(lc||(lc={}));var rh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(rh||(rh={}));function d0(e){let t=x.useContext(Xl);return t||Je(!1),t}function f0(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:c,viewTransition:h}=t===void 0?{}:t,p=Fx(),v=ro(),S=Zl(e,{relative:c});return x.useCallback(b=>{if(t0(b,n)){b.preventDefault();let _=r!==void 0?r:Tl(v)===Tl(S);p(e,{replace:_,state:i,preventScrollReset:o,relative:c,viewTransition:h})}},[v,p,S,r,i,n,e,o,c,h])}function h0(e,t){t===void 0&&(t={});let n=x.useContext(s0);n==null&&Je(!1);let{basename:r}=d0(lc.useViewTransitionState),i=Zl(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=Ui(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Ui(n.nextLocation.pathname,r)||n.nextLocation.pathname;return sc(i.pathname,c)!=null||sc(i.pathname,o)!=null}let ac=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");const p0={},ih=e=>{let t;const n=new Set,r=(S,b)=>{const _=typeof S=="function"?S(t):S;if(!Object.is(_,t)){const U=t;t=b??(typeof _!="object"||_===null)?_:Object.assign({},t,_),n.forEach(z=>z(t,U))}},i=()=>t,p={setState:r,getState:i,getInitialState:()=>v,subscribe:S=>(n.add(S),()=>n.delete(S)),destroy:()=>{(p0?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},v=t=e(r,i,p);return p},m0=e=>e?ih(e):ih;var Xm={exports:{}},Jm={},Zm={exports:{}},ey={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bi=x;function y0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var v0=typeof Object.is=="function"?Object.is:y0,g0=Bi.useState,x0=Bi.useEffect,w0=Bi.useLayoutEffect,b0=Bi.useDebugValue;function S0(e,t){var n=t(),r=g0({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return w0(function(){i.value=n,i.getSnapshot=t,ru(i)&&o({inst:i})},[e,n,t]),x0(function(){return ru(i)&&o({inst:i}),e(function(){ru(i)&&o({inst:i})})},[e]),b0(n),n}function ru(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!v0(e,n)}catch{return!0}}function k0(e,t){return t()}var j0=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?k0:S0;ey.useSyncExternalStore=Bi.useSyncExternalStore!==void 0?Bi.useSyncExternalStore:j0;Zm.exports=ey;var N0=Zm.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ea=x,C0=N0;function E0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _0=typeof Object.is=="function"?Object.is:E0,P0=C0.useSyncExternalStore,T0=ea.useRef,O0=ea.useEffect,R0=ea.useMemo,L0=ea.useDebugValue;Jm.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=T0(null);if(o.current===null){var c={hasValue:!1,value:null};o.current=c}else c=o.current;o=R0(function(){function p(U){if(!v){if(v=!0,S=U,U=r(U),i!==void 0&&c.hasValue){var z=c.value;if(i(z,U))return b=z}return b=U}if(z=b,_0(S,U))return z;var B=r(U);return i!==void 0&&i(z,B)?(S=U,z):(S=U,b=B)}var v=!1,S,b,_=n===void 0?null:n;return[function(){return p(t())},_===null?void 0:function(){return p(_())}]},[t,n,r,i]);var h=P0(e,o[0],o[1]);return O0(function(){c.hasValue=!0,c.value=h},[h]),L0(h),h};Xm.exports=Jm;var I0=Xm.exports;const M0=mc(I0),ty={},{useDebugValue:F0}=wc,{useSyncExternalStoreWithSelector:A0}=M0;let sh=!1;const z0=e=>e;function D0(e,t=z0,n){(ty?"production":void 0)!=="production"&&n&&!sh&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),sh=!0);const r=A0(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return F0(r),r}const oh=e=>{(ty?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?m0(e):e,n=(r,i)=>D0(t,r,i);return Object.assign(n,t),n},ny=e=>e?oh(e):oh,$0=/['\u2019\u02BC](s|d)$/u,U0=/['\u2019\u02BC]$/u,B0=new Set(["a","e","i","o","u"]),K0=["ness","ss","ous","us","is"],W0=new Map([["boonies","boonie"]]);function lh(e){return/[aeiouy]/u.test(e)}function Gs(e){return B0.has(e)}function H0(e){if(e.length<2)return!1;const t=e[e.length-1],n=e[e.length-2];return t===n&&!Gs(t)}function V0(e){if(e.length<3||!e.endsWith("l"))return!1;const t=e[e.length-2],n=e[e.length-3];return t===n&&!Gs(t)}function q0(e,t){return t||!e.endsWith("g")?!1:!e.endsWith("ng")}function Q0(e){if(e.length<2||!e.endsWith("k"))return!1;const t=e[e.length-2];return Gs(t)}function ah(e){if(e.endsWith("at")||e.endsWith("bl")||e.endsWith("iz"))return`${e}e`;let t=e,n=!1;return H0(t)&&!["l","s","z"].includes(t[t.length-1])&&(t=t.slice(0,-1),n=!0),V0(t)?`${t}e`:q0(t,n)?`${t}e`:Q0(t)?`${t}e`:t.endsWith("is")&&t.length>3?`${t}e`:t}function dd(e){let t=e.toLowerCase().normalize("NFC");if(t=t.replace($0,""),t=t.replace(U0,""),t.length<=3)return t;if(t.endsWith("ier")&&t.length>5){const n=t.slice(0,-3),r=n[n.length-1],i=n[n.length-2];if(r&&i&&r===i&&!Gs(r))return`${n}y`}if(t.endsWith("ied")&&t.length>3){const n=t.slice(0,-3);return t.length<=4?`${n}ie`:`${n}y`}if(t.endsWith("ies")&&t.length>3){const n=W0.get(t);if(n)return n;const r=t.slice(0,-3);return t.length<=4?`${r}ie`:`${r}y`}if(t.endsWith("ing")){const n=t.slice(0,-3);if(n.length>=3&&lh(n))return ah(n)}if(t.endsWith("ed")){const n=t.slice(0,-2);if(n.length>=2&&lh(n))return ah(n)}if(t.endsWith("ly")&&t.length>4){const n=t[t.length-3];if(n&&!Gs(n))return t.slice(0,-2)}return t.endsWith("es")&&t.length>4?t.endsWith("ches")||t.endsWith("shes")||t.endsWith("xes")||t.endsWith("zes")?t.slice(0,-2):t.slice(0,-1):t.endsWith("s")&&t.length>4&&!K0.some(n=>t.endsWith(n))?t.slice(0,-1):t}const Y0=new RegExp("(\\p{L}+(?:['\\u2019\\u02BC-]\\p{L}+)*)|(\\d+)|([^\\s\\p{L}\\d]+)","gu");function Kn(e){const t=e.replace(/[\u0001\u0002]/g,""),n=[];let r;for(;r=Y0.exec(t);){const[i,o,c,h]=r;if(o){const p=o.toLowerCase().normalize("NFC");n.push({text:i,normalized:p,stem:dd(p),isWord:!0})}else c?n.push({text:i,normalized:c,stem:c,isWord:!1}):h&&n.push({text:i,normalized:h,stem:h,isWord:!1})}return n.length>0?n:[{text:e,normalized:e,stem:e,isWord:new RegExp("\\p{L}","u").test(e)}]}var ry={exports:{}};(function(e,t){(function(n,r){e.exports=r()})($d,function(){var n=function(s,l){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(a[f]=d[f])})(s,l)},r=function(){return(r=Object.assign||function(s){for(var l,a=1,d=arguments.length;a<d;a++)for(var f in l=arguments[a])Object.prototype.hasOwnProperty.call(l,f)&&(s[f]=l[f]);return s}).apply(this,arguments)};function i(s,l,a){for(var d,f=0,m=l.length;f<m;f++)!d&&f in l||((d=d||Array.prototype.slice.call(l,0,f))[f]=l[f]);return s.concat(d||Array.prototype.slice.call(l))}var o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:$d,c=Object.keys,h=Array.isArray;function p(s,l){return typeof l!="object"||c(l).forEach(function(a){s[a]=l[a]}),s}typeof Promise>"u"||o.Promise||(o.Promise=Promise);var v=Object.getPrototypeOf,S={}.hasOwnProperty;function b(s,l){return S.call(s,l)}function _(s,l){typeof l=="function"&&(l=l(v(s))),(typeof Reflect>"u"?c:Reflect.ownKeys)(l).forEach(function(a){z(s,a,l[a])})}var U=Object.defineProperty;function z(s,l,a,d){U(s,l,p(a&&b(a,"get")&&typeof a.get=="function"?{get:a.get,set:a.set,configurable:!0}:{value:a,configurable:!0,writable:!0},d))}function B(s){return{from:function(l){return s.prototype=Object.create(l.prototype),z(s.prototype,"constructor",s),{extend:_.bind(null,s.prototype)}}}}var q=Object.getOwnPropertyDescriptor,N=[].slice;function g(s,l,a){return N.call(s,l,a)}function k(s,l){return l(s)}function $(s){if(!s)throw new Error("Assertion Failed")}function J(s){o.setImmediate?setImmediate(s):setTimeout(s,0)}function Q(s,l){if(typeof l=="string"&&b(s,l))return s[l];if(!l)return s;if(typeof l!="string"){for(var a=[],d=0,f=l.length;d<f;++d){var m=Q(s,l[d]);a.push(m)}return a}var y=l.indexOf(".");if(y!==-1){var w=s[l.substr(0,y)];return w==null?void 0:Q(w,l.substr(y+1))}}function X(s,l,a){if(s&&l!==void 0&&!("isFrozen"in Object&&Object.isFrozen(s)))if(typeof l!="string"&&"length"in l){$(typeof a!="string"&&"length"in a);for(var d=0,f=l.length;d<f;++d)X(s,l[d],a[d])}else{var m,y,w=l.indexOf(".");w!==-1?(m=l.substr(0,w),(y=l.substr(w+1))===""?a===void 0?h(s)&&!isNaN(parseInt(m))?s.splice(m,1):delete s[m]:s[m]=a:X(w=!(w=s[m])||!b(s,m)?s[m]={}:w,y,a)):a===void 0?h(s)&&!isNaN(parseInt(l))?s.splice(l,1):delete s[l]:s[l]=a}}function ne(s){var l,a={};for(l in s)b(s,l)&&(a[l]=s[l]);return a}var be=[].concat;function ye(s){return be.apply([],s)}var Sn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ye([8,16,32,64].map(function(s){return["Int","Uint","Float"].map(function(l){return l+s+"Array"})}))).filter(function(s){return o[s]}),Ie=new Set(Sn.map(function(s){return o[s]})),Ue=null;function se(s){return Ue=new WeakMap,s=function l(a){if(!a||typeof a!="object")return a;var d=Ue.get(a);if(d)return d;if(h(a)){d=[],Ue.set(a,d);for(var f=0,m=a.length;f<m;++f)d.push(l(a[f]))}else if(Ie.has(a.constructor))d=a;else{var y,w=v(a);for(y in d=w===Object.prototype?{}:Object.create(w),Ue.set(a,d),a)b(a,y)&&(d[y]=l(a[y]))}return d}(s),Ue=null,s}var G={}.toString;function te(s){return G.call(s).slice(8,-1)}var Y=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ve=typeof Y=="symbol"?function(s){var l;return s!=null&&(l=s[Y])&&l.apply(s)}:function(){return null};function H(s,l){return l=s.indexOf(l),0<=l&&s.splice(l,1),0<=l}var re={};function oe(s){var l,a,d,f;if(arguments.length===1){if(h(s))return s.slice();if(this===re&&typeof s=="string")return[s];if(f=ve(s)){for(a=[];!(d=f.next()).done;)a.push(d.value);return a}if(s==null)return[s];if(typeof(l=s.length)!="number")return[s];for(a=new Array(l);l--;)a[l]=s[l];return a}for(l=arguments.length,a=new Array(l);l--;)a[l]=arguments[l];return a}var we=typeof Symbol<"u"?function(s){return s[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},bn=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],en=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(bn),Ne={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ze(s,l){this.name=s,this.message=l}function Nt(s,l){return s+". Errors: "+Object.keys(l).map(function(a){return l[a].toString()}).filter(function(a,d,f){return f.indexOf(a)===d}).join(`
`)}function at(s,l,a,d){this.failures=l,this.failedKeys=d,this.successCount=a,this.message=Nt(s,l)}function ut(s,l){this.name="BulkError",this.failures=Object.keys(l).map(function(a){return l[a]}),this.failuresByPos=l,this.message=Nt(s,this.failures)}B(ze).from(Error).extend({toString:function(){return this.name+": "+this.message}}),B(at).from(ze),B(ut).from(ze);var Lt=en.reduce(function(s,l){return s[l]=l+"Error",s},{}),qi=ze,D=en.reduce(function(s,l){var a=l+"Error";function d(f,m){this.name=a,f?typeof f=="string"?(this.message="".concat(f).concat(m?`
 `+m:""),this.inner=m||null):typeof f=="object"&&(this.message="".concat(f.name," ").concat(f.message),this.inner=f):(this.message=Ne[l]||a,this.inner=null)}return B(d).from(qi),s[l]=d,s},{});D.Syntax=SyntaxError,D.Type=TypeError,D.Range=RangeError;var Ee=bn.reduce(function(s,l){return s[l+"Error"]=D[l],s},{}),ge=en.reduce(function(s,l){return["Syntax","Type","Range"].indexOf(l)===-1&&(s[l+"Error"]=D[l]),s},{});function xe(){}function De(s){return s}function nt(s,l){return s==null||s===De?l:function(a){return l(s(a))}}function st(s,l){return function(){s.apply(this,arguments),l.apply(this,arguments)}}function wn(s,l){return s===xe?l:function(){var a=s.apply(this,arguments);a!==void 0&&(arguments[0]=a);var d=this.onsuccess,f=this.onerror;this.onsuccess=null,this.onerror=null;var m=l.apply(this,arguments);return d&&(this.onsuccess=this.onsuccess?st(d,this.onsuccess):d),f&&(this.onerror=this.onerror?st(f,this.onerror):f),m!==void 0?m:a}}function Ut(s,l){return s===xe?l:function(){s.apply(this,arguments);var a=this.onsuccess,d=this.onerror;this.onsuccess=this.onerror=null,l.apply(this,arguments),a&&(this.onsuccess=this.onsuccess?st(a,this.onsuccess):a),d&&(this.onerror=this.onerror?st(d,this.onerror):d)}}function Rn(s,l){return s===xe?l:function(a){var d=s.apply(this,arguments);p(a,d);var f=this.onsuccess,m=this.onerror;return this.onsuccess=null,this.onerror=null,a=l.apply(this,arguments),f&&(this.onsuccess=this.onsuccess?st(f,this.onsuccess):f),m&&(this.onerror=this.onerror?st(m,this.onerror):m),d===void 0?a===void 0?void 0:a:p(d,a)}}function Gn(s,l){return s===xe?l:function(){return l.apply(this,arguments)!==!1&&s.apply(this,arguments)}}function Xn(s,l){return s===xe?l:function(){var a=s.apply(this,arguments);if(a&&typeof a.then=="function"){for(var d=this,f=arguments.length,m=new Array(f);f--;)m[f]=arguments[f];return a.then(function(){return l.apply(d,m)})}return l.apply(this,arguments)}}ge.ModifyError=at,ge.DexieError=ze,ge.BulkError=ut;var It=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Qi(s){It=s}var Jn={},Yi=100,Sn=typeof Promise>"u"?[]:function(){var s=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[s,v(s),s];var l=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[l,v(l),s]}(),bn=Sn[0],en=Sn[1],Sn=Sn[2],en=en&&en.then,an=bn&&bn.constructor,Or=!!Sn,Ct=function(s,l){kn.push([s,l]),un&&(queueMicrotask(ra),un=!1)},Bt=!0,un=!0,Mt=[],Rr=[],oi=De,Kt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:xe,pgp:!1,env:{},finalize:xe},me=Kt,kn=[],cn=0,Ln=[];function fe(s){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var l=this._PSD=me;if(typeof s!="function"){if(s!==Jn)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Zn(this,this._value))}this._state=null,this._value=null,++l.ref,function a(d,f){try{f(function(m){if(d._state===null){if(m===d)throw new TypeError("A promise cannot be resolved with itself.");var y=d._lib&&er();m&&typeof m.then=="function"?a(d,function(w,C){m instanceof fe?m._then(w,C):m.then(w,C)}):(d._state=!0,d._value=m,Ji(d)),y&&Jt()}},Zn.bind(null,d))}catch(m){Zn(d,m)}}(this,s)}var Gi={get:function(){var s=me,l=ht;function a(d,f){var m=this,y=!s.global&&(s!==me||l!==ht),w=y&&!Zt(),C=new fe(function(E,L){Zi(m,new Xi(T(d,s,y,w),T(f,s,y,w),E,L,s))});return this._consoleTask&&(C._consoleTask=this._consoleTask),C}return a.prototype=Jn,a},set:function(s){z(this,"then",s&&s.prototype===Jn?Gi:{get:function(){return s},set:Gi.set})}};function Xi(s,l,a,d,f){this.onFulfilled=typeof s=="function"?s:null,this.onRejected=typeof l=="function"?l:null,this.resolve=a,this.reject=d,this.psd=f}function Zn(s,l){var a,d;Rr.push(l),s._state===null&&(a=s._lib&&er(),l=oi(l),s._state=!1,s._value=l,d=s,Mt.some(function(f){return f._value===d._value})||Mt.push(d),Ji(s),a&&Jt())}function Ji(s){var l=s._listeners;s._listeners=[];for(var a=0,d=l.length;a<d;++a)Zi(s,l[a]);var f=s._PSD;--f.ref||f.finalize(),cn===0&&(++cn,Ct(function(){--cn==0&&Lr()},[]))}function Zi(s,l){if(s._state!==null){var a=s._state?l.onFulfilled:l.onRejected;if(a===null)return(s._state?l.resolve:l.reject)(s._value);++l.psd.ref,++cn,Ct(na,[a,s,l])}else s._listeners.push(l)}function na(s,l,a){try{var d,f=l._value;!l._state&&Rr.length&&(Rr=[]),d=It&&l._consoleTask?l._consoleTask.run(function(){return s(f)}):s(f),l._state||Rr.indexOf(f)!==-1||function(m){for(var y=Mt.length;y;)if(Mt[--y]._value===m._value)return Mt.splice(y,1)}(l),a.resolve(d)}catch(m){a.reject(m)}finally{--cn==0&&Lr(),--a.psd.ref||a.psd.finalize()}}function ra(){fn(Kt,function(){er()&&Jt()})}function er(){var s=Bt;return un=Bt=!1,s}function Jt(){var s,l,a;do for(;0<kn.length;)for(s=kn,kn=[],a=s.length,l=0;l<a;++l){var d=s[l];d[0].apply(null,d[1])}while(0<kn.length);un=Bt=!0}function Lr(){var s=Mt;Mt=[],s.forEach(function(d){d._PSD.onunhandled.call(null,d._value,d)});for(var l=Ln.slice(0),a=l.length;a;)l[--a]()}function li(s){return new fe(Jn,!1,s)}function Be(s,l){var a=me;return function(){var d=er(),f=me;try{return jn(a,!0),s.apply(this,arguments)}catch(m){l&&l(m)}finally{jn(f,!1),d&&Jt()}}}_(fe.prototype,{then:Gi,_then:function(s,l){Zi(this,new Xi(null,null,s,l,me))},catch:function(s){if(arguments.length===1)return this.then(null,s);var l=s,a=arguments[1];return typeof l=="function"?this.then(null,function(d){return(d instanceof l?a:li)(d)}):this.then(null,function(d){return(d&&d.name===l?a:li)(d)})},finally:function(s){return this.then(function(l){return fe.resolve(s()).then(function(){return l})},function(l){return fe.resolve(s()).then(function(){return li(l)})})},timeout:function(s,l){var a=this;return s<1/0?new fe(function(d,f){var m=setTimeout(function(){return f(new D.Timeout(l))},s);a.then(d,f).finally(clearTimeout.bind(null,m))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&z(fe.prototype,Symbol.toStringTag,"Dexie.Promise"),Kt.env=rr(),_(fe,{all:function(){var s=oe.apply(null,arguments).map(In);return new fe(function(l,a){s.length===0&&l([]);var d=s.length;s.forEach(function(f,m){return fe.resolve(f).then(function(y){s[m]=y,--d||l(s)},a)})})},resolve:function(s){return s instanceof fe?s:s&&typeof s.then=="function"?new fe(function(l,a){s.then(l,a)}):new fe(Jn,!0,s)},reject:li,race:function(){var s=oe.apply(null,arguments).map(In);return new fe(function(l,a){s.map(function(d){return fe.resolve(d).then(l,a)})})},PSD:{get:function(){return me},set:function(s){return me=s}},totalEchoes:{get:function(){return ht}},newPSD:Et,usePSD:fn,scheduler:{get:function(){return Ct},set:function(s){Ct=s}},rejectionMapper:{get:function(){return oi},set:function(s){oi=s}},follow:function(s,l){return new fe(function(a,d){return Et(function(f,m){var y=me;y.unhandleds=[],y.onunhandled=m,y.finalize=st(function(){var w,C=this;w=function(){C.unhandleds.length===0?f():m(C.unhandleds[0])},Ln.push(function E(){w(),Ln.splice(Ln.indexOf(E),1)}),++cn,Ct(function(){--cn==0&&Lr()},[])},y.finalize),s()},l,a,d)})}}),an&&(an.allSettled&&z(fe,"allSettled",function(){var s=oe.apply(null,arguments).map(In);return new fe(function(l){s.length===0&&l([]);var a=s.length,d=new Array(a);s.forEach(function(f,m){return fe.resolve(f).then(function(y){return d[m]={status:"fulfilled",value:y}},function(y){return d[m]={status:"rejected",reason:y}}).then(function(){return--a||l(d)})})})}),an.any&&typeof AggregateError<"u"&&z(fe,"any",function(){var s=oe.apply(null,arguments).map(In);return new fe(function(l,a){s.length===0&&a(new AggregateError([]));var d=s.length,f=new Array(d);s.forEach(function(m,y){return fe.resolve(m).then(function(w){return l(w)},function(w){f[y]=w,--d||a(new AggregateError(f))})})})}),an.withResolvers&&(fe.withResolvers=an.withResolvers));var Ze={awaits:0,echoes:0,id:0},io=0,Ir=[],tr=0,ht=0,nr=0;function Et(s,l,a,d){var f=me,m=Object.create(f);return m.parent=f,m.ref=0,m.global=!1,m.id=++nr,Kt.env,m.env=Or?{Promise:fe,PromiseProp:{value:fe,configurable:!0,writable:!0},all:fe.all,race:fe.race,allSettled:fe.allSettled,any:fe.any,resolve:fe.resolve,reject:fe.reject}:{},l&&p(m,l),++f.ref,m.finalize=function(){--this.parent.ref||this.parent.finalize()},d=fn(m,s,a,d),m.ref===0&&m.finalize(),d}function dn(){return Ze.id||(Ze.id=++io),++Ze.awaits,Ze.echoes+=Yi,Ze.id}function Zt(){return!!Ze.awaits&&(--Ze.awaits==0&&(Ze.id=0),Ze.echoes=Ze.awaits*Yi,!0)}function In(s){return Ze.echoes&&s&&s.constructor===an?(dn(),s.then(function(l){return Zt(),l},function(l){return Zt(),K(l)})):s}function so(){var s=Ir[Ir.length-1];Ir.pop(),jn(s,!1)}function jn(s,l){var a,d=me;(l?!Ze.echoes||tr++&&s===me:!tr||--tr&&s===me)||queueMicrotask(l?(function(f){++ht,Ze.echoes&&--Ze.echoes!=0||(Ze.echoes=Ze.awaits=Ze.id=0),Ir.push(me),jn(f,!0)}).bind(null,s):so),s!==me&&(me=s,d===Kt&&(Kt.env=rr()),Or&&(a=Kt.env.Promise,l=s.env,(d.global||s.global)&&(Object.defineProperty(o,"Promise",l.PromiseProp),a.all=l.all,a.race=l.race,a.resolve=l.resolve,a.reject=l.reject,l.allSettled&&(a.allSettled=l.allSettled),l.any&&(a.any=l.any))))}function rr(){var s=o.Promise;return Or?{Promise:s,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:s.all,race:s.race,allSettled:s.allSettled,any:s.any,resolve:s.resolve,reject:s.reject}:{}}function fn(s,l,a,d,f){var m=me;try{return jn(s,!0),l(a,d,f)}finally{jn(m,!1)}}function T(s,l,a,d){return typeof s!="function"?s:function(){var f=me;a&&dn(),jn(l,!0);try{return s.apply(this,arguments)}finally{jn(f,!1),d&&queueMicrotask(Zt)}}}function ue(s){Promise===an&&Ze.echoes===0?tr===0?s():enqueueNativeMicroTask(s):setTimeout(s,0)}(""+en).indexOf("[native code]")===-1&&(dn=Zt=xe);var K=fe.reject,Se="",Pe="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",je="String expected.",Oe=[],Mr="__dbnames",ia="readonly",sa="readwrite";function Fr(s,l){return s?l?function(){return s.apply(this,arguments)&&l.apply(this,arguments)}:s:l}var fd={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function oo(s){return typeof s!="string"||/\./.test(s)?function(l){return l}:function(l){return l[s]===void 0&&s in l&&delete(l=se(l))[s],l}}function hd(){throw D.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Me(s,l){try{var a=pd(s),d=pd(l);if(a!==d)return a==="Array"?1:d==="Array"?-1:a==="binary"?1:d==="binary"?-1:a==="string"?1:d==="string"?-1:a==="Date"?1:d!=="Date"?NaN:-1;switch(a){case"number":case"Date":case"string":return l<s?1:s<l?-1:0;case"binary":return function(f,m){for(var y=f.length,w=m.length,C=y<w?y:w,E=0;E<C;++E)if(f[E]!==m[E])return f[E]<m[E]?-1:1;return y===w?0:y<w?-1:1}(md(s),md(l));case"Array":return function(f,m){for(var y=f.length,w=m.length,C=y<w?y:w,E=0;E<C;++E){var L=Me(f[E],m[E]);if(L!==0)return L}return y===w?0:y<w?-1:1}(s,l)}}catch{}return NaN}function pd(s){var l=typeof s;return l!="object"?l:ArrayBuffer.isView(s)?"binary":(s=te(s),s==="ArrayBuffer"?"binary":s)}function md(s){return s instanceof Uint8Array?s:ArrayBuffer.isView(s)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s)}function lo(s,l,a){var d=s.schema.yProps;return d?(l&&0<a.numFailures&&(l=l.filter(function(f,m){return!a.failures[m]})),Promise.all(d.map(function(f){return f=f.updatesTable,l?s.db.table(f).where("k").anyOf(l).delete():s.db.table(f).clear()})).then(function(){return a})):a}var es=(yd.prototype.execute=function(s){var l=this["@@propmod"];if(l.add!==void 0){var a=l.add;if(h(a))return i(i([],h(s)?s:[],!0),a).sort();if(typeof a=="number")return(Number(s)||0)+a;if(typeof a=="bigint")try{return BigInt(s)+a}catch{return BigInt(0)+a}throw new TypeError("Invalid term ".concat(a))}if(l.remove!==void 0){var d=l.remove;if(h(d))return h(s)?s.filter(function(f){return!d.includes(f)}).sort():[];if(typeof d=="number")return Number(s)-d;if(typeof d=="bigint")try{return BigInt(s)-d}catch{return BigInt(0)-d}throw new TypeError("Invalid subtrahend ".concat(d))}return a=(a=l.replacePrefix)===null||a===void 0?void 0:a[0],a&&typeof s=="string"&&s.startsWith(a)?l.replacePrefix[1]+s.substring(a.length):s},yd);function yd(s){this["@@propmod"]=s}function vd(s,l){for(var a=c(l),d=a.length,f=!1,m=0;m<d;++m){var y=a[m],w=l[y],C=Q(s,y);w instanceof es?(X(s,y,w.execute(C)),f=!0):C!==w&&(X(s,y,w),f=!0)}return f}var gd=(Ke.prototype._trans=function(s,l,a){var d=this._tx||me.trans,f=this.name,m=It&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(s==="readonly"?"read":"write"," ").concat(this.name));function y(E,L,j){if(!j.schema[f])throw new D.NotFound("Table "+f+" not part of transaction");return l(j.idbtrans,j)}var w=er();try{var C=d&&d.db._novip===this.db._novip?d===me.trans?d._promise(s,y,a):Et(function(){return d._promise(s,y,a)},{trans:d,transless:me.transless||me}):function E(L,j,M,P){if(L.idbdb&&(L._state.openComplete||me.letThrough||L._vip)){var O=L._createTransaction(j,M,L._dbSchema);try{O.create(),L._state.PR1398_maxLoop=3}catch(R){return R.name===Lt.InvalidState&&L.isOpen()&&0<--L._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),L.close({disableAutoOpen:!1}),L.open().then(function(){return E(L,j,M,P)})):K(R)}return O._promise(j,function(R,I){return Et(function(){return me.trans=O,P(R,I,O)})}).then(function(R){if(j==="readwrite")try{O.idbtrans.commit()}catch{}return j==="readonly"?R:O._completion.then(function(){return R})})}if(L._state.openComplete)return K(new D.DatabaseClosed(L._state.dbOpenError));if(!L._state.isBeingOpened){if(!L._state.autoOpen)return K(new D.DatabaseClosed);L.open().catch(xe)}return L._state.dbReadyPromise.then(function(){return E(L,j,M,P)})}(this.db,s,[this.name],y);return m&&(C._consoleTask=m,C=C.catch(function(E){return console.trace(E),K(E)})),C}finally{w&&Jt()}},Ke.prototype.get=function(s,l){var a=this;return s&&s.constructor===Object?this.where(s).first(l):s==null?K(new D.Type("Invalid argument to Table.get()")):this._trans("readonly",function(d){return a.core.get({trans:d,key:s}).then(function(f){return a.hook.reading.fire(f)})}).then(l)},Ke.prototype.where=function(s){if(typeof s=="string")return new this.db.WhereClause(this,s);if(h(s))return new this.db.WhereClause(this,"[".concat(s.join("+"),"]"));var l=c(s);if(l.length===1)return this.where(l[0]).equals(s[l[0]]);var a=this.schema.indexes.concat(this.schema.primKey).filter(function(w){if(w.compound&&l.every(function(E){return 0<=w.keyPath.indexOf(E)})){for(var C=0;C<l.length;++C)if(l.indexOf(w.keyPath[C])===-1)return!1;return!0}return!1}).sort(function(w,C){return w.keyPath.length-C.keyPath.length})[0];if(a&&this.db._maxKey!==Se){var m=a.keyPath.slice(0,l.length);return this.where(m).equals(m.map(function(C){return s[C]}))}!a&&It&&console.warn("The query ".concat(JSON.stringify(s)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(l.join("+"),"]"));var d=this.schema.idxByName;function f(w,C){return Me(w,C)===0}var y=l.reduce(function(j,C){var E=j[0],L=j[1],j=d[C],M=s[C];return[E||j,E||!j?Fr(L,j&&j.multi?function(P){return P=Q(P,C),h(P)&&P.some(function(O){return f(M,O)})}:function(P){return f(M,Q(P,C))}):L]},[null,null]),m=y[0],y=y[1];return m?this.where(m.name).equals(s[m.keyPath]).filter(y):a?this.filter(y):this.where(l).equals("")},Ke.prototype.filter=function(s){return this.toCollection().and(s)},Ke.prototype.count=function(s){return this.toCollection().count(s)},Ke.prototype.offset=function(s){return this.toCollection().offset(s)},Ke.prototype.limit=function(s){return this.toCollection().limit(s)},Ke.prototype.each=function(s){return this.toCollection().each(s)},Ke.prototype.toArray=function(s){return this.toCollection().toArray(s)},Ke.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Ke.prototype.orderBy=function(s){return new this.db.Collection(new this.db.WhereClause(this,h(s)?"[".concat(s.join("+"),"]"):s))},Ke.prototype.reverse=function(){return this.toCollection().reverse()},Ke.prototype.mapToClass=function(s){var l,a=this.db,d=this.name;function f(){return l!==null&&l.apply(this,arguments)||this}(this.schema.mappedClass=s).prototype instanceof hd&&(function(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function L(){this.constructor=C}n(C,E),C.prototype=E===null?Object.create(E):(L.prototype=E.prototype,new L)}(f,l=s),Object.defineProperty(f.prototype,"db",{get:function(){return a},enumerable:!1,configurable:!0}),f.prototype.table=function(){return d},s=f);for(var m=new Set,y=s.prototype;y;y=v(y))Object.getOwnPropertyNames(y).forEach(function(C){return m.add(C)});function w(C){if(!C)return C;var E,L=Object.create(s.prototype);for(E in C)if(!m.has(E))try{L[E]=C[E]}catch{}return L}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=w,this.hook("reading",w),s},Ke.prototype.defineClass=function(){return this.mapToClass(function(s){p(this,s)})},Ke.prototype.add=function(s,l){var a=this,d=this.schema.primKey,f=d.auto,m=d.keyPath,y=s;return m&&f&&(y=oo(m)(s)),this._trans("readwrite",function(w){return a.core.mutate({trans:w,type:"add",keys:l!=null?[l]:null,values:[y]})}).then(function(w){return w.numFailures?fe.reject(w.failures[0]):w.lastResult}).then(function(w){if(m)try{X(s,m,w)}catch{}return w})},Ke.prototype.upsert=function(s,l){var a=this,d=this.schema.primKey.keyPath;return this._trans("readwrite",function(f){return a.core.get({trans:f,key:s}).then(function(m){var y=m??{};return vd(y,l),d&&X(y,d,s),a.core.mutate({trans:f,type:"put",values:[y],keys:[s],upsert:!0,updates:{keys:[s],changeSpecs:[l]}}).then(function(w){return w.numFailures?fe.reject(w.failures[0]):!!m})})})},Ke.prototype.update=function(s,l){return typeof s!="object"||h(s)?this.where(":id").equals(s).modify(l):(s=Q(s,this.schema.primKey.keyPath),s===void 0?K(new D.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(s).modify(l))},Ke.prototype.put=function(s,l){var a=this,d=this.schema.primKey,f=d.auto,m=d.keyPath,y=s;return m&&f&&(y=oo(m)(s)),this._trans("readwrite",function(w){return a.core.mutate({trans:w,type:"put",values:[y],keys:l!=null?[l]:null})}).then(function(w){return w.numFailures?fe.reject(w.failures[0]):w.lastResult}).then(function(w){if(m)try{X(s,m,w)}catch{}return w})},Ke.prototype.delete=function(s){var l=this;return this._trans("readwrite",function(a){return l.core.mutate({trans:a,type:"delete",keys:[s]}).then(function(d){return lo(l,[s],d)}).then(function(d){return d.numFailures?fe.reject(d.failures[0]):void 0})})},Ke.prototype.clear=function(){var s=this;return this._trans("readwrite",function(l){return s.core.mutate({trans:l,type:"deleteRange",range:fd}).then(function(a){return lo(s,null,a)})}).then(function(l){return l.numFailures?fe.reject(l.failures[0]):void 0})},Ke.prototype.bulkGet=function(s){var l=this;return this._trans("readonly",function(a){return l.core.getMany({keys:s,trans:a}).then(function(d){return d.map(function(f){return l.hook.reading.fire(f)})})})},Ke.prototype.bulkAdd=function(s,l,a){var d=this,f=Array.isArray(l)?l:void 0,m=(a=a||(f?void 0:l))?a.allKeys:void 0;return this._trans("readwrite",function(y){var E=d.schema.primKey,w=E.auto,E=E.keyPath;if(E&&f)throw new D.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(f&&f.length!==s.length)throw new D.InvalidArgument("Arguments objects and keys must have the same length");var C=s.length,E=E&&w?s.map(oo(E)):s;return d.core.mutate({trans:y,type:"add",keys:f,values:E,wantResults:m}).then(function(O){var j=O.numFailures,M=O.results,P=O.lastResult,O=O.failures;if(j===0)return m?M:P;throw new ut("".concat(d.name,".bulkAdd(): ").concat(j," of ").concat(C," operations failed"),O)})})},Ke.prototype.bulkPut=function(s,l,a){var d=this,f=Array.isArray(l)?l:void 0,m=(a=a||(f?void 0:l))?a.allKeys:void 0;return this._trans("readwrite",function(y){var E=d.schema.primKey,w=E.auto,E=E.keyPath;if(E&&f)throw new D.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(f&&f.length!==s.length)throw new D.InvalidArgument("Arguments objects and keys must have the same length");var C=s.length,E=E&&w?s.map(oo(E)):s;return d.core.mutate({trans:y,type:"put",keys:f,values:E,wantResults:m}).then(function(O){var j=O.numFailures,M=O.results,P=O.lastResult,O=O.failures;if(j===0)return m?M:P;throw new ut("".concat(d.name,".bulkPut(): ").concat(j," of ").concat(C," operations failed"),O)})})},Ke.prototype.bulkUpdate=function(s){var l=this,a=this.core,d=s.map(function(y){return y.key}),f=s.map(function(y){return y.changes}),m=[];return this._trans("readwrite",function(y){return a.getMany({trans:y,keys:d,cache:"clone"}).then(function(w){var C=[],E=[];s.forEach(function(j,M){var P=j.key,O=j.changes,R=w[M];if(R){for(var I=0,F=Object.keys(O);I<F.length;I++){var A=F[I],W=O[A];if(A===l.schema.primKey.keyPath){if(Me(W,P)!==0)throw new D.Constraint("Cannot update primary key in bulkUpdate()")}else X(R,A,W)}m.push(M),C.push(P),E.push(R)}});var L=C.length;return a.mutate({trans:y,type:"put",keys:C,values:E,updates:{keys:d,changeSpecs:f}}).then(function(j){var M=j.numFailures,P=j.failures;if(M===0)return L;for(var O=0,R=Object.keys(P);O<R.length;O++){var I,F=R[O],A=m[Number(F)];A!=null&&(I=P[F],delete P[F],P[A]=I)}throw new ut("".concat(l.name,".bulkUpdate(): ").concat(M," of ").concat(L," operations failed"),P)})})})},Ke.prototype.bulkDelete=function(s){var l=this,a=s.length;return this._trans("readwrite",function(d){return l.core.mutate({trans:d,type:"delete",keys:s}).then(function(f){return lo(l,s,f)})}).then(function(y){var f=y.numFailures,m=y.lastResult,y=y.failures;if(f===0)return m;throw new ut("".concat(l.name,".bulkDelete(): ").concat(f," of ").concat(a," operations failed"),y)})},Ke);function Ke(){}function ts(s){function l(y,w){if(w){for(var C=arguments.length,E=new Array(C-1);--C;)E[C-1]=arguments[C];return a[y].subscribe.apply(null,E),s}if(typeof y=="string")return a[y]}var a={};l.addEventType=m;for(var d=1,f=arguments.length;d<f;++d)m(arguments[d]);return l;function m(y,w,C){if(typeof y!="object"){var E;w=w||Gn;var L={subscribers:[],fire:C=C||xe,subscribe:function(j){L.subscribers.indexOf(j)===-1&&(L.subscribers.push(j),L.fire=w(L.fire,j))},unsubscribe:function(j){L.subscribers=L.subscribers.filter(function(M){return M!==j}),L.fire=L.subscribers.reduce(w,C)}};return a[y]=l[y]=L}c(E=y).forEach(function(j){var M=E[j];if(h(M))m(j,E[j][0],E[j][1]);else{if(M!=="asap")throw new D.InvalidArgument("Invalid event config");var P=m(j,De,function(){for(var O=arguments.length,R=new Array(O);O--;)R[O]=arguments[O];P.subscribers.forEach(function(I){J(function(){I.apply(null,R)})})})}})}}function ns(s,l){return B(l).from({prototype:s}),l}function ai(s,l){return!(s.filter||s.algorithm||s.or)&&(l?s.justLimit:!s.replayFilter)}function oa(s,l){s.filter=Fr(s.filter,l)}function la(s,l,a){var d=s.replayFilter;s.replayFilter=d?function(){return Fr(d(),l())}:l,s.justLimit=a&&!d}function ao(s,l){if(s.isPrimKey)return l.primaryKey;var a=l.getIndexByKeyPath(s.index);if(!a)throw new D.Schema("KeyPath "+s.index+" on object store "+l.name+" is not indexed");return a}function xd(s,l,a){var d=ao(s,l.schema);return l.openCursor({trans:a,values:!s.keysOnly,reverse:s.dir==="prev",unique:!!s.unique,query:{index:d,range:s.range}})}function uo(s,l,a,d){var f=s.replayFilter?Fr(s.filter,s.replayFilter()):s.filter;if(s.or){var m={},y=function(w,C,E){var L,j;f&&!f(C,E,function(M){return C.stop(M)},function(M){return C.fail(M)})||((j=""+(L=C.primaryKey))=="[object ArrayBuffer]"&&(j=""+new Uint8Array(L)),b(m,j)||(m[j]=!0,l(w,C,E)))};return Promise.all([s.or._iterate(y,a),wd(xd(s,d,a),s.algorithm,y,!s.keysOnly&&s.valueMapper)])}return wd(xd(s,d,a),Fr(s.algorithm,f),l,!s.keysOnly&&s.valueMapper)}function wd(s,l,a,d){var f=Be(d?function(m,y,w){return a(d(m),y,w)}:a);return s.then(function(m){if(m)return m.start(function(){var y=function(){return m.continue()};l&&!l(m,function(w){return y=w},function(w){m.stop(w),y=xe},function(w){m.fail(w),y=xe})||f(m.value,m,function(w){return y=w}),y()})})}var py=(Ae.prototype._read=function(s,l){var a=this._ctx;return a.error?a.table._trans(null,K.bind(null,a.error)):a.table._trans("readonly",s).then(l)},Ae.prototype._write=function(s){var l=this._ctx;return l.error?l.table._trans(null,K.bind(null,l.error)):l.table._trans("readwrite",s,"locked")},Ae.prototype._addAlgorithm=function(s){var l=this._ctx;l.algorithm=Fr(l.algorithm,s)},Ae.prototype._iterate=function(s,l){return uo(this._ctx,s,l,this._ctx.table.core)},Ae.prototype.clone=function(s){var l=Object.create(this.constructor.prototype),a=Object.create(this._ctx);return s&&p(a,s),l._ctx=a,l},Ae.prototype.raw=function(){return this._ctx.valueMapper=null,this},Ae.prototype.each=function(s){var l=this._ctx;return this._read(function(a){return uo(l,s,a,l.table.core)})},Ae.prototype.count=function(s){var l=this;return this._read(function(a){var d=l._ctx,f=d.table.core;if(ai(d,!0))return f.count({trans:a,query:{index:ao(d,f.schema),range:d.range}}).then(function(y){return Math.min(y,d.limit)});var m=0;return uo(d,function(){return++m,!1},a,f).then(function(){return m})}).then(s)},Ae.prototype.sortBy=function(s,l){var a=s.split(".").reverse(),d=a[0],f=a.length-1;function m(C,E){return E?m(C[a[E]],E-1):C[d]}var y=this._ctx.dir==="next"?1:-1;function w(C,E){return Me(m(C,f),m(E,f))*y}return this.toArray(function(C){return C.sort(w)}).then(l)},Ae.prototype.toArray=function(s){var l=this;return this._read(function(a){var d=l._ctx;if(d.dir==="next"&&ai(d,!0)&&0<d.limit){var f=d.valueMapper,m=ao(d,d.table.core.schema);return d.table.core.query({trans:a,limit:d.limit,values:!0,query:{index:m,range:d.range}}).then(function(w){return w=w.result,f?w.map(f):w})}var y=[];return uo(d,function(w){return y.push(w)},a,d.table.core).then(function(){return y})},s)},Ae.prototype.offset=function(s){var l=this._ctx;return s<=0||(l.offset+=s,ai(l)?la(l,function(){var a=s;return function(d,f){return a===0||(a===1?--a:f(function(){d.advance(a),a=0}),!1)}}):la(l,function(){var a=s;return function(){return--a<0}})),this},Ae.prototype.limit=function(s){return this._ctx.limit=Math.min(this._ctx.limit,s),la(this._ctx,function(){var l=s;return function(a,d,f){return--l<=0&&d(f),0<=l}},!0),this},Ae.prototype.until=function(s,l){return oa(this._ctx,function(a,d,f){return!s(a.value)||(d(f),l)}),this},Ae.prototype.first=function(s){return this.limit(1).toArray(function(l){return l[0]}).then(s)},Ae.prototype.last=function(s){return this.reverse().first(s)},Ae.prototype.filter=function(s){var l;return oa(this._ctx,function(a){return s(a.value)}),(l=this._ctx).isMatch=Fr(l.isMatch,s),this},Ae.prototype.and=function(s){return this.filter(s)},Ae.prototype.or=function(s){return new this.db.WhereClause(this._ctx.table,s,this)},Ae.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Ae.prototype.desc=function(){return this.reverse()},Ae.prototype.eachKey=function(s){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(a,d){s(d.key,d)})},Ae.prototype.eachUniqueKey=function(s){return this._ctx.unique="unique",this.eachKey(s)},Ae.prototype.eachPrimaryKey=function(s){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(a,d){s(d.primaryKey,d)})},Ae.prototype.keys=function(s){var l=this._ctx;l.keysOnly=!l.isMatch;var a=[];return this.each(function(d,f){a.push(f.key)}).then(function(){return a}).then(s)},Ae.prototype.primaryKeys=function(s){var l=this._ctx;if(l.dir==="next"&&ai(l,!0)&&0<l.limit)return this._read(function(d){var f=ao(l,l.table.core.schema);return l.table.core.query({trans:d,values:!1,limit:l.limit,query:{index:f,range:l.range}})}).then(function(d){return d.result}).then(s);l.keysOnly=!l.isMatch;var a=[];return this.each(function(d,f){a.push(f.primaryKey)}).then(function(){return a}).then(s)},Ae.prototype.uniqueKeys=function(s){return this._ctx.unique="unique",this.keys(s)},Ae.prototype.firstKey=function(s){return this.limit(1).keys(function(l){return l[0]}).then(s)},Ae.prototype.lastKey=function(s){return this.reverse().firstKey(s)},Ae.prototype.distinct=function(){var s=this._ctx,s=s.index&&s.table.schema.idxByName[s.index];if(!s||!s.multi)return this;var l={};return oa(this._ctx,function(f){var d=f.primaryKey.toString(),f=b(l,d);return l[d]=!0,!f}),this},Ae.prototype.modify=function(s){var l=this,a=this._ctx;return this._write(function(d){var f=typeof s=="function"?s:function(R){return vd(R,s)},m=a.table.core,E=m.schema.primaryKey,y=E.outbound,w=E.extractKey,C=200,E=l.db._options.modifyChunkSize;E&&(C=typeof E=="object"?E[m.name]||E["*"]||200:E);function L(R,A){var F=A.failures,A=A.numFailures;M+=R-A;for(var W=0,V=c(F);W<V.length;W++){var ie=V[W];j.push(F[ie])}}var j=[],M=0,P=[],O=s===bd;return l.clone().primaryKeys().then(function(R){function I(A){var W=Math.min(C,R.length-A),V=R.slice(A,A+W);return(O?Promise.resolve([]):m.getMany({trans:d,keys:V,cache:"immutable"})).then(function(ie){var ce=[],ee=[],le=y?[]:null,de=O?V:[];if(!O)for(var ae=0;ae<W;++ae){var he=ie[ae],_e={value:se(he),primKey:R[A+ae]};f.call(_e,_e.value,_e)!==!1&&(_e.value==null?de.push(R[A+ae]):y||Me(w(he),w(_e.value))===0?(ee.push(_e.value),y&&le.push(R[A+ae])):(de.push(R[A+ae]),ce.push(_e.value)))}return Promise.resolve(0<ce.length&&m.mutate({trans:d,type:"add",values:ce}).then(function(Te){for(var Re in Te.failures)de.splice(parseInt(Re),1);L(ce.length,Te)})).then(function(){return(0<ee.length||F&&typeof s=="object")&&m.mutate({trans:d,type:"put",keys:le,values:ee,criteria:F,changeSpec:typeof s!="function"&&s,isAdditionalChunk:0<A}).then(function(Te){return L(ee.length,Te)})}).then(function(){return(0<de.length||F&&O)&&m.mutate({trans:d,type:"delete",keys:de,criteria:F,isAdditionalChunk:0<A}).then(function(Te){return lo(a.table,de,Te)}).then(function(Te){return L(de.length,Te)})}).then(function(){return R.length>A+W&&I(A+C)})})}var F=ai(a)&&a.limit===1/0&&(typeof s!="function"||O)&&{index:a.index,range:a.range};return I(0).then(function(){if(0<j.length)throw new at("Error modifying one or more objects",j,M,P);return R.length})})})},Ae.prototype.delete=function(){var s=this._ctx,l=s.range;return!ai(s)||s.table.schema.yProps||!s.isPrimKey&&l.type!==3?this.modify(bd):this._write(function(a){var d=s.table.core.schema.primaryKey,f=l;return s.table.core.count({trans:a,query:{index:d,range:f}}).then(function(m){return s.table.core.mutate({trans:a,type:"deleteRange",range:f}).then(function(C){var w=C.failures,C=C.numFailures;if(C)throw new at("Could not delete some values",Object.keys(w).map(function(E){return w[E]}),m-C);return m-C})})})},Ae);function Ae(){}var bd=function(s,l){return l.value=null};function my(s,l){return s<l?-1:s===l?0:1}function yy(s,l){return l<s?-1:s===l?0:1}function Wt(s,l,a){return s=s instanceof kd?new s.Collection(s):s,s._ctx.error=new(a||TypeError)(l),s}function ui(s){return new s.Collection(s,function(){return Sd("")}).limit(0)}function co(s,l,a,d){var f,m,y,w,C,E,L,j=a.length;if(!a.every(function(O){return typeof O=="string"}))return Wt(s,je);function M(O){f=O==="next"?function(I){return I.toUpperCase()}:function(I){return I.toLowerCase()},m=O==="next"?function(I){return I.toLowerCase()}:function(I){return I.toUpperCase()},y=O==="next"?my:yy;var R=a.map(function(I){return{lower:m(I),upper:f(I)}}).sort(function(I,F){return y(I.lower,F.lower)});w=R.map(function(I){return I.upper}),C=R.map(function(I){return I.lower}),L=(E=O)==="next"?"":d}M("next"),s=new s.Collection(s,function(){return ir(w[0],C[j-1]+d)}),s._ondirectionchange=function(O){M(O)};var P=0;return s._addAlgorithm(function(O,R,I){var F=O.key;if(typeof F!="string")return!1;var A=m(F);if(l(A,C,P))return!0;for(var W=null,V=P;V<j;++V){var ie=function(ce,ee,le,de,ae,he){for(var _e=Math.min(ce.length,de.length),Te=-1,Re=0;Re<_e;++Re){var Ht=ee[Re];if(Ht!==de[Re])return ae(ce[Re],le[Re])<0?ce.substr(0,Re)+le[Re]+le.substr(Re+1):ae(ce[Re],de[Re])<0?ce.substr(0,Re)+de[Re]+le.substr(Re+1):0<=Te?ce.substr(0,Te)+ee[Te]+le.substr(Te+1):null;ae(ce[Re],Ht)<0&&(Te=Re)}return _e<de.length&&he==="next"?ce+le.substr(ce.length):_e<ce.length&&he==="prev"?ce.substr(0,le.length):Te<0?null:ce.substr(0,Te)+de[Te]+le.substr(Te+1)}(F,A,w[V],C[V],y,E);ie===null&&W===null?P=V+1:(W===null||0<y(W,ie))&&(W=ie)}return R(W!==null?function(){O.continue(W+L)}:I),!1}),s}function ir(s,l,a,d){return{type:2,lower:s,upper:l,lowerOpen:a,upperOpen:d}}function Sd(s){return{type:1,lower:s,upper:s}}var kd=(Object.defineProperty(ct.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),ct.prototype.between=function(s,l,a,d){a=a!==!1,d=d===!0;try{return 0<this._cmp(s,l)||this._cmp(s,l)===0&&(a||d)&&(!a||!d)?ui(this):new this.Collection(this,function(){return ir(s,l,!a,!d)})}catch{return Wt(this,Pe)}},ct.prototype.equals=function(s){return s==null?Wt(this,Pe):new this.Collection(this,function(){return Sd(s)})},ct.prototype.above=function(s){return s==null?Wt(this,Pe):new this.Collection(this,function(){return ir(s,void 0,!0)})},ct.prototype.aboveOrEqual=function(s){return s==null?Wt(this,Pe):new this.Collection(this,function(){return ir(s,void 0,!1)})},ct.prototype.below=function(s){return s==null?Wt(this,Pe):new this.Collection(this,function(){return ir(void 0,s,!1,!0)})},ct.prototype.belowOrEqual=function(s){return s==null?Wt(this,Pe):new this.Collection(this,function(){return ir(void 0,s)})},ct.prototype.startsWith=function(s){return typeof s!="string"?Wt(this,je):this.between(s,s+Se,!0,!0)},ct.prototype.startsWithIgnoreCase=function(s){return s===""?this.startsWith(s):co(this,function(l,a){return l.indexOf(a[0])===0},[s],Se)},ct.prototype.equalsIgnoreCase=function(s){return co(this,function(l,a){return l===a[0]},[s],"")},ct.prototype.anyOfIgnoreCase=function(){var s=oe.apply(re,arguments);return s.length===0?ui(this):co(this,function(l,a){return a.indexOf(l)!==-1},s,"")},ct.prototype.startsWithAnyOfIgnoreCase=function(){var s=oe.apply(re,arguments);return s.length===0?ui(this):co(this,function(l,a){return a.some(function(d){return l.indexOf(d)===0})},s,Se)},ct.prototype.anyOf=function(){var s=this,l=oe.apply(re,arguments),a=this._cmp;try{l.sort(a)}catch{return Wt(this,Pe)}if(l.length===0)return ui(this);var d=new this.Collection(this,function(){return ir(l[0],l[l.length-1])});d._ondirectionchange=function(m){a=m==="next"?s._ascending:s._descending,l.sort(a)};var f=0;return d._addAlgorithm(function(m,y,w){for(var C=m.key;0<a(C,l[f]);)if(++f===l.length)return y(w),!1;return a(C,l[f])===0||(y(function(){m.continue(l[f])}),!1)}),d},ct.prototype.notEqual=function(s){return this.inAnyRange([[-1/0,s],[s,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},ct.prototype.noneOf=function(){var s=oe.apply(re,arguments);if(s.length===0)return new this.Collection(this);try{s.sort(this._ascending)}catch{return Wt(this,Pe)}var l=s.reduce(function(a,d){return a?a.concat([[a[a.length-1][1],d]]):[[-1/0,d]]},null);return l.push([s[s.length-1],this.db._maxKey]),this.inAnyRange(l,{includeLowers:!1,includeUppers:!1})},ct.prototype.inAnyRange=function(F,l){var a=this,d=this._cmp,f=this._ascending,m=this._descending,y=this._min,w=this._max;if(F.length===0)return ui(this);if(!F.every(function(A){return A[0]!==void 0&&A[1]!==void 0&&f(A[0],A[1])<=0}))return Wt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",D.InvalidArgument);var C=!l||l.includeLowers!==!1,E=l&&l.includeUppers===!0,L,j=f;function M(A,W){return j(A[0],W[0])}try{(L=F.reduce(function(A,W){for(var V=0,ie=A.length;V<ie;++V){var ce=A[V];if(d(W[0],ce[1])<0&&0<d(W[1],ce[0])){ce[0]=y(ce[0],W[0]),ce[1]=w(ce[1],W[1]);break}}return V===ie&&A.push(W),A},[])).sort(M)}catch{return Wt(this,Pe)}var P=0,O=E?function(A){return 0<f(A,L[P][1])}:function(A){return 0<=f(A,L[P][1])},R=C?function(A){return 0<m(A,L[P][0])}:function(A){return 0<=m(A,L[P][0])},I=O,F=new this.Collection(this,function(){return ir(L[0][0],L[L.length-1][1],!C,!E)});return F._ondirectionchange=function(A){j=A==="next"?(I=O,f):(I=R,m),L.sort(M)},F._addAlgorithm(function(A,W,V){for(var ie,ce=A.key;I(ce);)if(++P===L.length)return W(V),!1;return!O(ie=ce)&&!R(ie)||(a._cmp(ce,L[P][1])===0||a._cmp(ce,L[P][0])===0||W(function(){j===f?A.continue(L[P][0]):A.continue(L[P][1])}),!1)}),F},ct.prototype.startsWithAnyOf=function(){var s=oe.apply(re,arguments);return s.every(function(l){return typeof l=="string"})?s.length===0?ui(this):this.inAnyRange(s.map(function(l){return[l,l+Se]})):Wt(this,"startsWithAnyOf() only works with strings")},ct);function ct(){}function Nn(s){return Be(function(l){return rs(l),s(l.target.error),!1})}function rs(s){s.stopPropagation&&s.stopPropagation(),s.preventDefault&&s.preventDefault()}var is="storagemutated",aa="x-storagemutated-1",sr=ts(null,is),vy=(Cn.prototype._lock=function(){return $(!me.global),++this._reculock,this._reculock!==1||me.global||(me.lockOwnerFor=this),this},Cn.prototype._unlock=function(){if($(!me.global),--this._reculock==0)for(me.global||(me.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var s=this._blockedFuncs.shift();try{fn(s[1],s[0])}catch{}}return this},Cn.prototype._locked=function(){return this._reculock&&me.lockOwnerFor!==this},Cn.prototype.create=function(s){var l=this;if(!this.mode)return this;var a=this.db.idbdb,d=this.db._state.dbOpenError;if($(!this.idbtrans),!s&&!a)switch(d&&d.name){case"DatabaseClosedError":throw new D.DatabaseClosed(d);case"MissingAPIError":throw new D.MissingAPI(d.message,d);default:throw new D.OpenFailed(d)}if(!this.active)throw new D.TransactionInactive;return $(this._completion._state===null),(s=this.idbtrans=s||(this.db.core||a).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Be(function(f){rs(f),l._reject(s.error)}),s.onabort=Be(function(f){rs(f),l.active&&l._reject(new D.Abort(s.error)),l.active=!1,l.on("abort").fire(f)}),s.oncomplete=Be(function(){l.active=!1,l._resolve(),"mutatedParts"in s&&sr.storagemutated.fire(s.mutatedParts)}),this},Cn.prototype._promise=function(s,l,a){var d=this;if(s==="readwrite"&&this.mode!=="readwrite")return K(new D.ReadOnly("Transaction is readonly"));if(!this.active)return K(new D.TransactionInactive);if(this._locked())return new fe(function(m,y){d._blockedFuncs.push([function(){d._promise(s,l,a).then(m,y)},me])});if(a)return Et(function(){var m=new fe(function(y,w){d._lock();var C=l(y,w,d);C&&C.then&&C.then(y,w)});return m.finally(function(){return d._unlock()}),m._lib=!0,m});var f=new fe(function(m,y){var w=l(m,y,d);w&&w.then&&w.then(m,y)});return f._lib=!0,f},Cn.prototype._root=function(){return this.parent?this.parent._root():this},Cn.prototype.waitFor=function(s){var l,a=this._root(),d=fe.resolve(s);a._waitingFor?a._waitingFor=a._waitingFor.then(function(){return d}):(a._waitingFor=d,a._waitingQueue=[],l=a.idbtrans.objectStore(a.storeNames[0]),function m(){for(++a._spinCount;a._waitingQueue.length;)a._waitingQueue.shift()();a._waitingFor&&(l.get(-1/0).onsuccess=m)}());var f=a._waitingFor;return new fe(function(m,y){d.then(function(w){return a._waitingQueue.push(Be(m.bind(null,w)))},function(w){return a._waitingQueue.push(Be(y.bind(null,w)))}).finally(function(){a._waitingFor===f&&(a._waitingFor=null)})})},Cn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new D.Abort))},Cn.prototype.table=function(s){var l=this._memoizedTables||(this._memoizedTables={});if(b(l,s))return l[s];var a=this.schema[s];if(!a)throw new D.NotFound("Table "+s+" not part of transaction");return a=new this.db.Table(s,a,this),a.core=this.db.core.table(s),l[s]=a},Cn);function Cn(){}function ua(s,l,a,d,f,m,y,w){return{name:s,keyPath:l,unique:a,multi:d,auto:f,compound:m,src:(a&&!y?"&":"")+(d?"*":"")+(f?"++":"")+jd(l),type:w}}function jd(s){return typeof s=="string"?s:s?"["+[].join.call(s,"+")+"]":""}function ca(s,l,a){return{name:s,primKey:l,indexes:a,mappedClass:null,idxByName:(d=function(f){return[f.name,f]},a.reduce(function(f,m,y){return y=d(m,y),y&&(f[y[0]]=y[1]),f},{}))};var d}var ss=function(s){try{return s.only([[]]),ss=function(){return[[]]},[[]]}catch{return ss=function(){return Se},Se}};function da(s){return s==null?function(){}:typeof s=="string"?(l=s).split(".").length===1?function(a){return a[l]}:function(a){return Q(a,l)}:function(a){return Q(a,s)};var l}function Nd(s){return[].slice.call(s)}var gy=0;function os(s){return s==null?":id":typeof s=="string"?s:"[".concat(s.join("+"),"]")}function xy(s,l,C){function d(I){if(I.type===3)return null;if(I.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var P=I.lower,O=I.upper,R=I.lowerOpen,I=I.upperOpen;return P===void 0?O===void 0?null:l.upperBound(O,!!I):O===void 0?l.lowerBound(P,!!R):l.bound(P,O,!!R,!!I)}function f(M){var P,O=M.name;return{name:O,schema:M,mutate:function(R){var I=R.trans,F=R.type,A=R.keys,W=R.values,V=R.range;return new Promise(function(ie,ce){ie=Be(ie);var ee=I.objectStore(O),le=ee.keyPath==null,de=F==="put"||F==="add";if(!de&&F!=="delete"&&F!=="deleteRange")throw new Error("Invalid operation type: "+F);var ae,he=(A||W||{length:1}).length;if(A&&W&&A.length!==W.length)throw new Error("Given keys array must have same length as given values array.");if(he===0)return ie({numFailures:0,failures:{},results:[],lastResult:void 0});function _e(_t){++Ht,rs(_t)}var Te=[],Re=[],Ht=0;if(F==="deleteRange"){if(V.type===4)return ie({numFailures:Ht,failures:Re,results:[],lastResult:void 0});V.type===3?Te.push(ae=ee.clear()):Te.push(ae=ee.delete(d(V)))}else{var le=de?le?[W,A]:[W,null]:[A,null],Ce=le[0],xt=le[1];if(de)for(var wt=0;wt<he;++wt)Te.push(ae=xt&&xt[wt]!==void 0?ee[F](Ce[wt],xt[wt]):ee[F](Ce[wt])),ae.onerror=_e;else for(wt=0;wt<he;++wt)Te.push(ae=ee[F](Ce[wt])),ae.onerror=_e}function ko(_t){_t=_t.target.result,Te.forEach(function(Dr,Pa){return Dr.error!=null&&(Re[Pa]=Dr.error)}),ie({numFailures:Ht,failures:Re,results:F==="delete"?A:Te.map(function(Dr){return Dr.result}),lastResult:_t})}ae.onerror=function(_t){_e(_t),ko(_t)},ae.onsuccess=ko})},getMany:function(R){var I=R.trans,F=R.keys;return new Promise(function(A,W){A=Be(A);for(var V,ie=I.objectStore(O),ce=F.length,ee=new Array(ce),le=0,de=0,ae=function(Te){Te=Te.target,ee[Te._pos]=Te.result,++de===le&&A(ee)},he=Nn(W),_e=0;_e<ce;++_e)F[_e]!=null&&((V=ie.get(F[_e]))._pos=_e,V.onsuccess=ae,V.onerror=he,++le);le===0&&A(ee)})},get:function(R){var I=R.trans,F=R.key;return new Promise(function(A,W){A=Be(A);var V=I.objectStore(O).get(F);V.onsuccess=function(ie){return A(ie.target.result)},V.onerror=Nn(W)})},query:(P=E,function(R){return new Promise(function(I,F){I=Be(I);var A,W,V,le=R.trans,ie=R.values,ce=R.limit,ae=R.query,ee=ce===1/0?void 0:ce,de=ae.index,ae=ae.range,le=le.objectStore(O),de=de.isPrimaryKey?le:le.index(de.name),ae=d(ae);if(ce===0)return I({result:[]});P?((ee=ie?de.getAll(ae,ee):de.getAllKeys(ae,ee)).onsuccess=function(he){return I({result:he.target.result})},ee.onerror=Nn(F)):(A=0,W=!ie&&"openKeyCursor"in de?de.openKeyCursor(ae):de.openCursor(ae),V=[],W.onsuccess=function(he){var _e=W.result;return _e?(V.push(ie?_e.value:_e.primaryKey),++A===ce?I({result:V}):void _e.continue()):I({result:V})},W.onerror=Nn(F))})}),openCursor:function(R){var I=R.trans,F=R.values,A=R.query,W=R.reverse,V=R.unique;return new Promise(function(ie,ce){ie=Be(ie);var de=A.index,ee=A.range,le=I.objectStore(O),le=de.isPrimaryKey?le:le.index(de.name),de=W?V?"prevunique":"prev":V?"nextunique":"next",ae=!F&&"openKeyCursor"in le?le.openKeyCursor(d(ee),de):le.openCursor(d(ee),de);ae.onerror=Nn(ce),ae.onsuccess=Be(function(he){var _e,Te,Re,Ht,Ce=ae.result;Ce?(Ce.___id=++gy,Ce.done=!1,_e=Ce.continue.bind(Ce),Te=(Te=Ce.continuePrimaryKey)&&Te.bind(Ce),Re=Ce.advance.bind(Ce),Ht=function(){throw new Error("Cursor not stopped")},Ce.trans=I,Ce.stop=Ce.continue=Ce.continuePrimaryKey=Ce.advance=function(){throw new Error("Cursor not started")},Ce.fail=Be(ce),Ce.next=function(){var xt=this,wt=1;return this.start(function(){return wt--?xt.continue():xt.stop()}).then(function(){return xt})},Ce.start=function(xt){function wt(){if(ae.result)try{xt()}catch(_t){Ce.fail(_t)}else Ce.done=!0,Ce.start=function(){throw new Error("Cursor behind last entry")},Ce.stop()}var ko=new Promise(function(_t,Dr){_t=Be(_t),ae.onerror=Nn(Dr),Ce.fail=Dr,Ce.stop=function(Pa){Ce.stop=Ce.continue=Ce.continuePrimaryKey=Ce.advance=Ht,_t(Pa)}});return ae.onsuccess=Be(function(_t){ae.onsuccess=wt,wt()}),Ce.continue=_e,Ce.continuePrimaryKey=Te,Ce.advance=Re,wt(),ko},ie(Ce)):ie(null)},ce)})},count:function(R){var I=R.query,F=R.trans,A=I.index,W=I.range;return new Promise(function(V,ie){var ce=F.objectStore(O),ee=A.isPrimaryKey?ce:ce.index(A.name),ce=d(W),ee=ce?ee.count(ce):ee.count();ee.onsuccess=Be(function(le){return V(le.target.result)}),ee.onerror=Nn(ie)})}}}var m,y,w,L=(y=C,w=Nd((m=s).objectStoreNames),{schema:{name:m.name,tables:w.map(function(M){return y.objectStore(M)}).map(function(M){var P=M.keyPath,I=M.autoIncrement,O=h(P),R={},I={name:M.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:P==null,compound:O,keyPath:P,autoIncrement:I,unique:!0,extractKey:da(P)},indexes:Nd(M.indexNames).map(function(F){return M.index(F)}).map(function(V){var A=V.name,W=V.unique,ie=V.multiEntry,V=V.keyPath,ie={name:A,compound:h(V),keyPath:V,unique:W,multiEntry:ie,extractKey:da(V)};return R[os(V)]=ie}),getIndexByKeyPath:function(F){return R[os(F)]}};return R[":id"]=I.primaryKey,P!=null&&(R[os(P)]=I.primaryKey),I})},hasGetAll:0<w.length&&"getAll"in y.objectStore(w[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),C=L.schema,E=L.hasGetAll,L=C.tables.map(f),j={};return L.forEach(function(M){return j[M.name]=M}),{stack:"dbcore",transaction:s.transaction.bind(s),table:function(M){if(!j[M])throw new Error("Table '".concat(M,"' not found"));return j[M]},MIN_KEY:-1/0,MAX_KEY:ss(l),schema:C}}function wy(s,l,a,d){var f=a.IDBKeyRange;return a.indexedDB,{dbcore:(d=xy(l,f,d),s.dbcore.reduce(function(m,y){return y=y.create,r(r({},m),y(m))},d))}}function fo(s,d){var a=d.db,d=wy(s._middlewares,a,s._deps,d);s.core=d.dbcore,s.tables.forEach(function(f){var m=f.name;s.core.schema.tables.some(function(y){return y.name===m})&&(f.core=s.core.table(m),s[m]instanceof s.Table&&(s[m].core=f.core))})}function ho(s,l,a,d){a.forEach(function(f){var m=d[f];l.forEach(function(y){var w=function C(E,L){return q(E,L)||(E=v(E))&&C(E,L)}(y,f);(!w||"value"in w&&w.value===void 0)&&(y===s.Transaction.prototype||y instanceof s.Transaction?z(y,f,{get:function(){return this.table(f)},set:function(C){U(this,f,{value:C,writable:!0,configurable:!0,enumerable:!0})}}):y[f]=new s.Table(f,m))})})}function fa(s,l){l.forEach(function(a){for(var d in a)a[d]instanceof s.Table&&delete a[d]})}function by(s,l){return s._cfg.version-l._cfg.version}function Sy(s,l,a,d){var f=s._dbSchema;a.objectStoreNames.contains("$meta")&&!f.$meta&&(f.$meta=ca("$meta",Ed("")[0],[]),s._storeNames.push("$meta"));var m=s._createTransaction("readwrite",s._storeNames,f);m.create(a),m._completion.catch(d);var y=m._reject.bind(m),w=me.transless||me;Et(function(){return me.trans=m,me.transless=w,l!==0?(fo(s,a),E=l,((C=m).storeNames.includes("$meta")?C.table("$meta").get("version").then(function(L){return L??E}):fe.resolve(E)).then(function(L){return M=L,P=m,O=a,R=[],L=(j=s)._versions,I=j._dbSchema=mo(0,j.idbdb,O),(L=L.filter(function(F){return F._cfg.version>=M})).length!==0?(L.forEach(function(F){R.push(function(){var A=I,W=F._cfg.dbschema;yo(j,A,O),yo(j,W,O),I=j._dbSchema=W;var V=ha(A,W);V.add.forEach(function(de){pa(O,de[0],de[1].primKey,de[1].indexes)}),V.change.forEach(function(de){if(de.recreate)throw new D.Upgrade("Not yet support for changing primary key");var ae=O.objectStore(de.name);de.add.forEach(function(he){return po(ae,he)}),de.change.forEach(function(he){ae.deleteIndex(he.name),po(ae,he)}),de.del.forEach(function(he){return ae.deleteIndex(he)})});var ie=F._cfg.contentUpgrade;if(ie&&F._cfg.version>M){fo(j,O),P._memoizedTables={};var ce=ne(W);V.del.forEach(function(de){ce[de]=A[de]}),fa(j,[j.Transaction.prototype]),ho(j,[j.Transaction.prototype],c(ce),ce),P.schema=ce;var ee,le=we(ie);return le&&dn(),V=fe.follow(function(){var de;(ee=ie(P))&&le&&(de=Zt.bind(null,null),ee.then(de,de))}),ee&&typeof ee.then=="function"?fe.resolve(ee):V.then(function(){return ee})}}),R.push(function(A){var W,V,ie=F._cfg.dbschema;W=ie,V=A,[].slice.call(V.db.objectStoreNames).forEach(function(ce){return W[ce]==null&&V.db.deleteObjectStore(ce)}),fa(j,[j.Transaction.prototype]),ho(j,[j.Transaction.prototype],j._storeNames,j._dbSchema),P.schema=j._dbSchema}),R.push(function(A){j.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(j.idbdb.version/10)===F._cfg.version?(j.idbdb.deleteObjectStore("$meta"),delete j._dbSchema.$meta,j._storeNames=j._storeNames.filter(function(W){return W!=="$meta"})):A.objectStore("$meta").put(F._cfg.version,"version"))})}),function F(){return R.length?fe.resolve(R.shift()(P.idbtrans)).then(F):fe.resolve()}().then(function(){Cd(I,O)})):fe.resolve();var j,M,P,O,R,I}).catch(y)):(c(f).forEach(function(L){pa(a,L,f[L].primKey,f[L].indexes)}),fo(s,a),void fe.follow(function(){return s.on.populate.fire(m)}).catch(y));var C,E})}function ky(s,l){Cd(s._dbSchema,l),l.db.version%10!=0||l.objectStoreNames.contains("$meta")||l.db.createObjectStore("$meta").add(Math.ceil(l.db.version/10-1),"version");var a=mo(0,s.idbdb,l);yo(s,s._dbSchema,l);for(var d=0,f=ha(a,s._dbSchema).change;d<f.length;d++){var m=function(y){if(y.change.length||y.recreate)return console.warn("Unable to patch indexes of table ".concat(y.name," because it has changes on the type of index or primary key.")),{value:void 0};var w=l.objectStore(y.name);y.add.forEach(function(C){It&&console.debug("Dexie upgrade patch: Creating missing index ".concat(y.name,".").concat(C.src)),po(w,C)})}(f[d]);if(typeof m=="object")return m.value}}function ha(s,l){var a,d={del:[],add:[],change:[]};for(a in s)l[a]||d.del.push(a);for(a in l){var f=s[a],m=l[a];if(f){var y={name:a,def:m,recreate:!1,del:[],add:[],change:[]};if(""+(f.primKey.keyPath||"")!=""+(m.primKey.keyPath||"")||f.primKey.auto!==m.primKey.auto)y.recreate=!0,d.change.push(y);else{var w=f.idxByName,C=m.idxByName,E=void 0;for(E in w)C[E]||y.del.push(E);for(E in C){var L=w[E],j=C[E];L?L.src!==j.src&&y.change.push(j):y.add.push(j)}(0<y.del.length||0<y.add.length||0<y.change.length)&&d.change.push(y)}}else d.add.push([a,m])}return d}function pa(s,l,a,d){var f=s.db.createObjectStore(l,a.keyPath?{keyPath:a.keyPath,autoIncrement:a.auto}:{autoIncrement:a.auto});return d.forEach(function(m){return po(f,m)}),f}function Cd(s,l){c(s).forEach(function(a){l.db.objectStoreNames.contains(a)||(It&&console.debug("Dexie: Creating missing table",a),pa(l,a,s[a].primKey,s[a].indexes))})}function po(s,l){s.createIndex(l.name,l.keyPath,{unique:l.unique,multiEntry:l.multi})}function mo(s,l,a){var d={};return g(l.objectStoreNames,0).forEach(function(f){for(var m=a.objectStore(f),y=ua(jd(E=m.keyPath),E||"",!0,!1,!!m.autoIncrement,E&&typeof E!="string",!0),w=[],C=0;C<m.indexNames.length;++C){var L=m.index(m.indexNames[C]),E=L.keyPath,L=ua(L.name,E,!!L.unique,!!L.multiEntry,!1,E&&typeof E!="string",!1);w.push(L)}d[f]=ca(f,y,w)}),d}function yo(s,l,a){for(var d=a.db.objectStoreNames,f=0;f<d.length;++f){var m=d[f],y=a.objectStore(m);s._hasGetAll="getAll"in y;for(var w=0;w<y.indexNames.length;++w){var C=y.indexNames[w],E=y.index(C).keyPath,L=typeof E=="string"?E:"["+g(E).join("+")+"]";!l[m]||(E=l[m].idxByName[L])&&(E.name=C,delete l[m].idxByName[L],l[m].idxByName[C]=E)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(s._hasGetAll=!1)}function Ed(s){return s.split(",").map(function(l,a){var m=l.split(":"),d=(f=m[1])===null||f===void 0?void 0:f.trim(),f=(l=m[0].trim()).replace(/([&*]|\+\+)/g,""),m=/^\[/.test(f)?f.match(/^\[(.*)\]$/)[1].split("+"):f;return ua(f,m||null,/\&/.test(l),/\*/.test(l),/\+\+/.test(l),h(m),a===0,d)})}var jy=(ci.prototype._createTableSchema=ca,ci.prototype._parseIndexSyntax=Ed,ci.prototype._parseStoresSpec=function(s,l){var a=this;c(s).forEach(function(d){if(s[d]!==null){var f=a._parseIndexSyntax(s[d]),m=f.shift();if(!m)throw new D.Schema("Invalid schema for table "+d+": "+s[d]);if(m.unique=!0,m.multi)throw new D.Schema("Primary key cannot be multiEntry*");f.forEach(function(y){if(y.auto)throw new D.Schema("Only primary key can be marked as autoIncrement (++)");if(!y.keyPath)throw new D.Schema("Index must have a name and cannot be an empty string")}),f=a._createTableSchema(d,m,f),l[d]=f}})},ci.prototype.stores=function(a){var l=this.db;this._cfg.storesSource=this._cfg.storesSource?p(this._cfg.storesSource,a):a;var a=l._versions,d={},f={};return a.forEach(function(m){p(d,m._cfg.storesSource),f=m._cfg.dbschema={},m._parseStoresSpec(d,f)}),l._dbSchema=f,fa(l,[l._allTables,l,l.Transaction.prototype]),ho(l,[l._allTables,l,l.Transaction.prototype,this._cfg.tables],c(f),f),l._storeNames=c(f),this},ci.prototype.upgrade=function(s){return this._cfg.contentUpgrade=Xn(this._cfg.contentUpgrade||xe,s),this},ci);function ci(){}function ma(s,l){var a=s._dbNamesDB;return a||(a=s._dbNamesDB=new Mn(Mr,{addons:[],indexedDB:s,IDBKeyRange:l})).version(1).stores({dbnames:"name"}),a.table("dbnames")}function ya(s){return s&&typeof s.databases=="function"}function va(s){return Et(function(){return me.letThrough=!0,s()})}function ga(s){return!("from"in s)}var gt=function(s,l){if(!this){var a=new gt;return s&&"d"in s&&p(a,s),a}p(this,arguments.length?{d:1,from:s,to:1<arguments.length?l:s}:{d:0})};function ls(s,l,a){var d=Me(l,a);if(!isNaN(d)){if(0<d)throw RangeError();if(ga(s))return p(s,{from:l,to:a,d:1});var f=s.l,d=s.r;if(Me(a,s.from)<0)return f?ls(f,l,a):s.l={from:l,to:a,d:1,l:null,r:null},Pd(s);if(0<Me(l,s.to))return d?ls(d,l,a):s.r={from:l,to:a,d:1,l:null,r:null},Pd(s);Me(l,s.from)<0&&(s.from=l,s.l=null,s.d=d?d.d+1:1),0<Me(a,s.to)&&(s.to=a,s.r=null,s.d=s.l?s.l.d+1:1),a=!s.r,f&&!s.l&&as(s,f),d&&a&&as(s,d)}}function as(s,l){ga(l)||function a(d,C){var m=C.from,y=C.to,w=C.l,C=C.r;ls(d,m,y),w&&a(d,w),C&&a(d,C)}(s,l)}function _d(s,l){var a=vo(l),d=a.next();if(d.done)return!1;for(var f=d.value,m=vo(s),y=m.next(f.from),w=y.value;!d.done&&!y.done;){if(Me(w.from,f.to)<=0&&0<=Me(w.to,f.from))return!0;Me(f.from,w.from)<0?f=(d=a.next(w.from)).value:w=(y=m.next(f.from)).value}return!1}function vo(s){var l=ga(s)?null:{s:0,n:s};return{next:function(a){for(var d=0<arguments.length;l;)switch(l.s){case 0:if(l.s=1,d)for(;l.n.l&&Me(a,l.n.from)<0;)l={up:l,n:l.n.l,s:1};else for(;l.n.l;)l={up:l,n:l.n.l,s:1};case 1:if(l.s=2,!d||Me(a,l.n.to)<=0)return{value:l.n,done:!1};case 2:if(l.n.r){l.s=3,l={up:l,n:l.n.r,s:0};continue}case 3:l=l.up}return{done:!0}}}}function Pd(s){var l,a,d=(((l=s.r)===null||l===void 0?void 0:l.d)||0)-(((a=s.l)===null||a===void 0?void 0:a.d)||0),f=1<d?"r":d<-1?"l":"";f&&(l=f=="r"?"l":"r",a=r({},s),d=s[f],s.from=d.from,s.to=d.to,s[f]=d[f],a[f]=d[l],(s[l]=a).d=Td(a)),s.d=Td(s)}function Td(a){var l=a.r,a=a.l;return(l?a?Math.max(l.d,a.d):l.d:a?a.d:0)+1}function go(s,l){return c(l).forEach(function(a){s[a]?as(s[a],l[a]):s[a]=function d(f){var m,y,w={};for(m in f)b(f,m)&&(y=f[m],w[m]=!y||typeof y!="object"||Ie.has(y.constructor)?y:d(y));return w}(l[a])}),s}function xa(s,l){return s.all||l.all||Object.keys(s).some(function(a){return l[a]&&_d(l[a],s[a])})}_(gt.prototype,((en={add:function(s){return as(this,s),this},addKey:function(s){return ls(this,s,s),this},addKeys:function(s){var l=this;return s.forEach(function(a){return ls(l,a,a)}),this},hasKey:function(s){var l=vo(this).next(s).value;return l&&Me(l.from,s)<=0&&0<=Me(l.to,s)}})[Y]=function(){return vo(this)},en));var Ar={},wa={},ba=!1;function xo(s){go(wa,s),ba||(ba=!0,setTimeout(function(){ba=!1,Sa(wa,!(wa={}))},0))}function Sa(s,l){l===void 0&&(l=!1);var a=new Set;if(s.all)for(var d=0,f=Object.values(Ar);d<f.length;d++)Od(y=f[d],s,a,l);else for(var m in s){var y,w=/^idb\:\/\/(.*)\/(.*)\//.exec(m);w&&(m=w[1],w=w[2],(y=Ar["idb://".concat(m,"/").concat(w)])&&Od(y,s,a,l))}a.forEach(function(C){return C()})}function Od(s,l,a,d){for(var f=[],m=0,y=Object.entries(s.queries.query);m<y.length;m++){for(var w=y[m],C=w[0],E=[],L=0,j=w[1];L<j.length;L++){var M=j[L];xa(l,M.obsSet)?M.subscribers.forEach(function(I){return a.add(I)}):d&&E.push(M)}d&&f.push([C,E])}if(d)for(var P=0,O=f;P<O.length;P++){var R=O[P],C=R[0],E=R[1];s.queries.query[C]=E}}function Ny(s){var l=s._state,a=s._deps.indexedDB;if(l.isBeingOpened||s.idbdb)return l.dbReadyPromise.then(function(){return l.dbOpenError?K(l.dbOpenError):s});l.isBeingOpened=!0,l.dbOpenError=null,l.openComplete=!1;var d=l.openCanceller,f=Math.round(10*s.verno),m=!1;function y(){if(l.openCanceller!==d)throw new D.DatabaseClosed("db.open() was cancelled")}function w(){return new fe(function(M,P){if(y(),!a)throw new D.MissingAPI;var O=s.name,R=l.autoSchema||!f?a.open(O):a.open(O,f);if(!R)throw new D.MissingAPI;R.onerror=Nn(P),R.onblocked=Be(s._fireOnBlocked),R.onupgradeneeded=Be(function(I){var F;L=R.transaction,l.autoSchema&&!s._options.allowEmptyDB?(R.onerror=rs,L.abort(),R.result.close(),(F=a.deleteDatabase(O)).onsuccess=F.onerror=Be(function(){P(new D.NoSuchDatabase("Database ".concat(O," doesnt exist")))})):(L.onerror=Nn(P),I=I.oldVersion>Math.pow(2,62)?0:I.oldVersion,j=I<1,s.idbdb=R.result,m&&ky(s,L),Sy(s,I/10,L,P))},P),R.onsuccess=Be(function(){L=null;var I,F,A,W,V,ie=s.idbdb=R.result,ce=g(ie.objectStoreNames);if(0<ce.length)try{var ee=ie.transaction((W=ce).length===1?W[0]:W,"readonly");if(l.autoSchema)F=ie,A=ee,(I=s).verno=F.version/10,A=I._dbSchema=mo(0,F,A),I._storeNames=g(F.objectStoreNames,0),ho(I,[I._allTables],c(A),A);else if(yo(s,s._dbSchema,ee),((V=ha(mo(0,(V=s).idbdb,ee),V._dbSchema)).add.length||V.change.some(function(le){return le.add.length||le.change.length}))&&!m)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ie.close(),f=ie.version+1,m=!0,M(w());fo(s,ee)}catch{}Oe.push(s),ie.onversionchange=Be(function(le){l.vcFired=!0,s.on("versionchange").fire(le)}),ie.onclose=Be(function(){s.close({disableAutoOpen:!1})}),j&&(V=s._deps,ee=O,ie=V.indexedDB,V=V.IDBKeyRange,ya(ie)||ee===Mr||ma(ie,V).put({name:ee}).catch(xe)),M()},P)}).catch(function(M){switch(M==null?void 0:M.name){case"UnknownError":if(0<l.PR1398_maxLoop)return l.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),w();break;case"VersionError":if(0<f)return f=0,w()}return fe.reject(M)})}var C,E=l.dbReadyResolve,L=null,j=!1;return fe.race([d,(typeof navigator>"u"?fe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(M){function P(){return indexedDB.databases().finally(M)}C=setInterval(P,100),P()}).finally(function(){return clearInterval(C)}):Promise.resolve()).then(w)]).then(function(){return y(),l.onReadyBeingFired=[],fe.resolve(va(function(){return s.on.ready.fire(s.vip)})).then(function M(){if(0<l.onReadyBeingFired.length){var P=l.onReadyBeingFired.reduce(Xn,xe);return l.onReadyBeingFired=[],fe.resolve(va(function(){return P(s.vip)})).then(M)}})}).finally(function(){l.openCanceller===d&&(l.onReadyBeingFired=null,l.isBeingOpened=!1)}).catch(function(M){l.dbOpenError=M;try{L&&L.abort()}catch{}return d===l.openCanceller&&s._close(),K(M)}).finally(function(){l.openComplete=!0,E()}).then(function(){var M;return j&&(M={},s.tables.forEach(function(P){P.schema.indexes.forEach(function(O){O.name&&(M["idb://".concat(s.name,"/").concat(P.name,"/").concat(O.name)]=new gt(-1/0,[[[]]]))}),M["idb://".concat(s.name,"/").concat(P.name,"/")]=M["idb://".concat(s.name,"/").concat(P.name,"/:dels")]=new gt(-1/0,[[[]]])}),sr(is).fire(M),Sa(M,!0)),s})}function ka(s){function l(m){return s.next(m)}var a=f(l),d=f(function(m){return s.throw(m)});function f(m){return function(C){var w=m(C),C=w.value;return w.done?C:C&&typeof C.then=="function"?C.then(a,d):h(C)?Promise.all(C).then(a,d):a(C)}}return f(l)()}function wo(s,l,a){for(var d=h(s)?s.slice():[s],f=0;f<a;++f)d.push(l);return d}var Cy={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(s){return r(r({},s),{table:function(l){var a=s.table(l),d=a.schema,f={},m=[];function y(j,M,P){var O=os(j),R=f[O]=f[O]||[],I=j==null?0:typeof j=="string"?1:j.length,F=0<M,F=r(r({},P),{name:F?"".concat(O,"(virtual-from:").concat(P.name,")"):P.name,lowLevelIndex:P,isVirtual:F,keyTail:M,keyLength:I,extractKey:da(j),unique:!F&&P.unique});return R.push(F),F.isPrimaryKey||m.push(F),1<I&&y(I===2?j[0]:j.slice(0,I-1),M+1,P),R.sort(function(A,W){return A.keyTail-W.keyTail}),F}l=y(d.primaryKey.keyPath,0,d.primaryKey),f[":id"]=[l];for(var w=0,C=d.indexes;w<C.length;w++){var E=C[w];y(E.keyPath,0,E)}function L(j){var M,P=j.query.index;return P.isVirtual?r(r({},j),{query:{index:P.lowLevelIndex,range:(M=j.query.range,P=P.keyTail,{type:M.type===1?2:M.type,lower:wo(M.lower,M.lowerOpen?s.MAX_KEY:s.MIN_KEY,P),lowerOpen:!0,upper:wo(M.upper,M.upperOpen?s.MIN_KEY:s.MAX_KEY,P),upperOpen:!0})}}):j}return r(r({},a),{schema:r(r({},d),{primaryKey:l,indexes:m,getIndexByKeyPath:function(j){return(j=f[os(j)])&&j[0]}}),count:function(j){return a.count(L(j))},query:function(j){return a.query(L(j))},openCursor:function(j){var M=j.query.index,P=M.keyTail,O=M.isVirtual,R=M.keyLength;return O?a.openCursor(L(j)).then(function(F){return F&&I(F)}):a.openCursor(j);function I(F){return Object.create(F,{continue:{value:function(A){A!=null?F.continue(wo(A,j.reverse?s.MAX_KEY:s.MIN_KEY,P)):j.unique?F.continue(F.key.slice(0,R).concat(j.reverse?s.MIN_KEY:s.MAX_KEY,P)):F.continue()}},continuePrimaryKey:{value:function(A,W){F.continuePrimaryKey(wo(A,s.MAX_KEY,P),W)}},primaryKey:{get:function(){return F.primaryKey}},key:{get:function(){var A=F.key;return R===1?A[0]:A.slice(0,R)}},value:{get:function(){return F.value}}})}}})}})}};function ja(s,l,a,d){return a=a||{},d=d||"",c(s).forEach(function(f){var m,y,w;b(l,f)?(m=s[f],y=l[f],typeof m=="object"&&typeof y=="object"&&m&&y?(w=te(m))!==te(y)?a[d+f]=l[f]:w==="Object"?ja(m,y,a,d+f+"."):m!==y&&(a[d+f]=l[f]):m!==y&&(a[d+f]=l[f])):a[d+f]=void 0}),c(l).forEach(function(f){b(s,f)||(a[d+f]=l[f])}),a}function Na(s,l){return l.type==="delete"?l.keys:l.keys||l.values.map(s.extractKey)}var Ey={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(s){return r(r({},s),{table:function(l){var a=s.table(l),d=a.schema.primaryKey;return r(r({},a),{mutate:function(f){var m=me.trans,y=m.table(l).hook,w=y.deleting,C=y.creating,E=y.updating;switch(f.type){case"add":if(C.fire===xe)break;return m._promise("readwrite",function(){return L(f)},!0);case"put":if(C.fire===xe&&E.fire===xe)break;return m._promise("readwrite",function(){return L(f)},!0);case"delete":if(w.fire===xe)break;return m._promise("readwrite",function(){return L(f)},!0);case"deleteRange":if(w.fire===xe)break;return m._promise("readwrite",function(){return function j(M,P,O){return a.query({trans:M,values:!1,query:{index:d,range:P},limit:O}).then(function(R){var I=R.result;return L({type:"delete",keys:I,trans:M}).then(function(F){return 0<F.numFailures?Promise.reject(F.failures[0]):I.length<O?{failures:[],numFailures:0,lastResult:void 0}:j(M,r(r({},P),{lower:I[I.length-1],lowerOpen:!0}),O)})})}(f.trans,f.range,1e4)},!0)}return a.mutate(f);function L(j){var M,P,O,R=me.trans,I=j.keys||Na(d,j);if(!I)throw new Error("Keys missing");return(j=j.type==="add"||j.type==="put"?r(r({},j),{keys:I}):r({},j)).type!=="delete"&&(j.values=i([],j.values)),j.keys&&(j.keys=i([],j.keys)),M=a,O=I,((P=j).type==="add"?Promise.resolve([]):M.getMany({trans:P.trans,keys:O,cache:"immutable"})).then(function(F){var A=I.map(function(W,V){var ie,ce,ee,le=F[V],de={onerror:null,onsuccess:null};return j.type==="delete"?w.fire.call(de,W,le,R):j.type==="add"||le===void 0?(ie=C.fire.call(de,W,j.values[V],R),W==null&&ie!=null&&(j.keys[V]=W=ie,d.outbound||X(j.values[V],d.keyPath,W))):(ie=ja(le,j.values[V]),(ce=E.fire.call(de,ie,W,le,R))&&(ee=j.values[V],Object.keys(ce).forEach(function(ae){b(ee,ae)?ee[ae]=ce[ae]:X(ee,ae,ce[ae])}))),de});return a.mutate(j).then(function(W){for(var V=W.failures,ie=W.results,ce=W.numFailures,W=W.lastResult,ee=0;ee<I.length;++ee){var le=(ie||I)[ee],de=A[ee];le==null?de.onerror&&de.onerror(V[ee]):de.onsuccess&&de.onsuccess(j.type==="put"&&F[ee]?j.values[ee]:le)}return{failures:V,results:ie,numFailures:ce,lastResult:W}}).catch(function(W){return A.forEach(function(V){return V.onerror&&V.onerror(W)}),Promise.reject(W)})})}}})}})}};function Rd(s,l,a){try{if(!l||l.keys.length<s.length)return null;for(var d=[],f=0,m=0;f<l.keys.length&&m<s.length;++f)Me(l.keys[f],s[m])===0&&(d.push(a?se(l.values[f]):l.values[f]),++m);return d.length===s.length?d:null}catch{return null}}var _y={stack:"dbcore",level:-1,create:function(s){return{table:function(l){var a=s.table(l);return r(r({},a),{getMany:function(d){if(!d.cache)return a.getMany(d);var f=Rd(d.keys,d.trans._cache,d.cache==="clone");return f?fe.resolve(f):a.getMany(d).then(function(m){return d.trans._cache={keys:d.keys,values:d.cache==="clone"?se(m):m},m})},mutate:function(d){return d.type!=="add"&&(d.trans._cache=null),a.mutate(d)}})}}}};function Ld(s,l){return s.trans.mode==="readonly"&&!!s.subscr&&!s.trans.explicit&&s.trans.db._options.cache!=="disabled"&&!l.schema.primaryKey.outbound}function Id(s,l){switch(s){case"query":return l.values&&!l.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Py={stack:"dbcore",level:0,name:"Observability",create:function(s){var l=s.schema.name,a=new gt(s.MIN_KEY,s.MAX_KEY);return r(r({},s),{transaction:function(d,f,m){if(me.subscr&&f!=="readonly")throw new D.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(me.querier));return s.transaction(d,f,m)},table:function(d){var f=s.table(d),m=f.schema,y=m.primaryKey,j=m.indexes,w=y.extractKey,C=y.outbound,E=y.autoIncrement&&j.filter(function(P){return P.compound&&P.keyPath.includes(y.keyPath)}),L=r(r({},f),{mutate:function(P){function O(ae){return ae="idb://".concat(l,"/").concat(d,"/").concat(ae),W[ae]||(W[ae]=new gt)}var R,I,F,A=P.trans,W=P.mutatedParts||(P.mutatedParts={}),V=O(""),ie=O(":dels"),ce=P.type,de=P.type==="deleteRange"?[P.range]:P.type==="delete"?[P.keys]:P.values.length<50?[Na(y,P).filter(function(ae){return ae}),P.values]:[],ee=de[0],le=de[1],de=P.trans._cache;return h(ee)?(V.addKeys(ee),(de=ce==="delete"||ee.length===le.length?Rd(ee,de):null)||ie.addKeys(ee),(de||le)&&(R=O,I=de,F=le,m.indexes.forEach(function(ae){var he=R(ae.name||"");function _e(Re){return Re!=null?ae.extractKey(Re):null}function Te(Re){return ae.multiEntry&&h(Re)?Re.forEach(function(Ht){return he.addKey(Ht)}):he.addKey(Re)}(I||F).forEach(function(Re,xt){var Ce=I&&_e(I[xt]),xt=F&&_e(F[xt]);Me(Ce,xt)!==0&&(Ce!=null&&Te(Ce),xt!=null&&Te(xt))})}))):ee?(le={from:(le=ee.lower)!==null&&le!==void 0?le:s.MIN_KEY,to:(le=ee.upper)!==null&&le!==void 0?le:s.MAX_KEY},ie.add(le),V.add(le)):(V.add(a),ie.add(a),m.indexes.forEach(function(ae){return O(ae.name).add(a)})),f.mutate(P).then(function(ae){return!ee||P.type!=="add"&&P.type!=="put"||(V.addKeys(ae.results),E&&E.forEach(function(he){for(var _e=P.values.map(function(Ce){return he.extractKey(Ce)}),Te=he.keyPath.findIndex(function(Ce){return Ce===y.keyPath}),Re=0,Ht=ae.results.length;Re<Ht;++Re)_e[Re][Te]=ae.results[Re];O(he.name).addKeys(_e)})),A.mutatedParts=go(A.mutatedParts||{},W),ae})}}),j=function(O){var R=O.query,O=R.index,R=R.range;return[O,new gt((O=R.lower)!==null&&O!==void 0?O:s.MIN_KEY,(R=R.upper)!==null&&R!==void 0?R:s.MAX_KEY)]},M={get:function(P){return[y,new gt(P.key)]},getMany:function(P){return[y,new gt().addKeys(P.keys)]},count:j,query:j,openCursor:j};return c(M).forEach(function(P){L[P]=function(O){var R=me.subscr,I=!!R,F=Ld(me,f)&&Id(P,O)?O.obsSet={}:R;if(I){var A=function(le){return le="idb://".concat(l,"/").concat(d,"/").concat(le),F[le]||(F[le]=new gt)},W=A(""),V=A(":dels"),R=M[P](O),I=R[0],R=R[1];if((P==="query"&&I.isPrimaryKey&&!O.values?V:A(I.name||"")).add(R),!I.isPrimaryKey){if(P!=="count"){var ie=P==="query"&&C&&O.values&&f.query(r(r({},O),{values:!1}));return f[P].apply(this,arguments).then(function(le){if(P==="query"){if(C&&O.values)return ie.then(function(_e){return _e=_e.result,W.addKeys(_e),le});var de=O.values?le.result.map(w):le.result;(O.values?W:V).addKeys(de)}else if(P==="openCursor"){var ae=le,he=O.values;return ae&&Object.create(ae,{key:{get:function(){return V.addKey(ae.primaryKey),ae.key}},primaryKey:{get:function(){var _e=ae.primaryKey;return V.addKey(_e),_e}},value:{get:function(){return he&&W.addKey(ae.primaryKey),ae.value}}})}return le})}V.add(a)}}return f[P].apply(this,arguments)}}),L}})}};function Md(s,l,a){if(a.numFailures===0)return l;if(l.type==="deleteRange")return null;var d=l.keys?l.keys.length:"values"in l&&l.values?l.values.length:1;return a.numFailures===d?null:(l=r({},l),h(l.keys)&&(l.keys=l.keys.filter(function(f,m){return!(m in a.failures)})),"values"in l&&h(l.values)&&(l.values=l.values.filter(function(f,m){return!(m in a.failures)})),l)}function Ca(s,l){return a=s,((d=l).lower===void 0||(d.lowerOpen?0<Me(a,d.lower):0<=Me(a,d.lower)))&&(s=s,(l=l).upper===void 0||(l.upperOpen?Me(s,l.upper)<0:Me(s,l.upper)<=0));var a,d}function Fd(s,l,M,d,f,m){if(!M||M.length===0)return s;var y=l.query.index,w=y.multiEntry,C=l.query.range,E=d.schema.primaryKey.extractKey,L=y.extractKey,j=(y.lowLevelIndex||y).extractKey,M=M.reduce(function(P,O){var R=P,I=[];if(O.type==="add"||O.type==="put")for(var F=new gt,A=O.values.length-1;0<=A;--A){var W,V=O.values[A],ie=E(V);F.hasKey(ie)||(W=L(V),(w&&h(W)?W.some(function(ae){return Ca(ae,C)}):Ca(W,C))&&(F.addKey(ie),I.push(V)))}switch(O.type){case"add":var ce=new gt().addKeys(l.values?P.map(function(he){return E(he)}):P),R=P.concat(l.values?I.filter(function(he){return he=E(he),!ce.hasKey(he)&&(ce.addKey(he),!0)}):I.map(function(he){return E(he)}).filter(function(he){return!ce.hasKey(he)&&(ce.addKey(he),!0)}));break;case"put":var ee=new gt().addKeys(O.values.map(function(he){return E(he)}));R=P.filter(function(he){return!ee.hasKey(l.values?E(he):he)}).concat(l.values?I:I.map(function(he){return E(he)}));break;case"delete":var le=new gt().addKeys(O.keys);R=P.filter(function(he){return!le.hasKey(l.values?E(he):he)});break;case"deleteRange":var de=O.range;R=P.filter(function(he){return!Ca(E(he),de)})}return R},s);return M===s?s:(M.sort(function(P,O){return Me(j(P),j(O))||Me(E(P),E(O))}),l.limit&&l.limit<1/0&&(M.length>l.limit?M.length=l.limit:s.length===l.limit&&M.length<l.limit&&(f.dirty=!0)),m?Object.freeze(M):M)}function Ad(s,l){return Me(s.lower,l.lower)===0&&Me(s.upper,l.upper)===0&&!!s.lowerOpen==!!l.lowerOpen&&!!s.upperOpen==!!l.upperOpen}function Ty(s,l){return function(a,d,f,m){if(a===void 0)return d!==void 0?-1:0;if(d===void 0)return 1;if((d=Me(a,d))===0){if(f&&m)return 0;if(f)return 1;if(m)return-1}return d}(s.lower,l.lower,s.lowerOpen,l.lowerOpen)<=0&&0<=function(a,d,f,m){if(a===void 0)return d!==void 0?1:0;if(d===void 0)return-1;if((d=Me(a,d))===0){if(f&&m)return 0;if(f)return-1;if(m)return 1}return d}(s.upper,l.upper,s.upperOpen,l.upperOpen)}function Oy(s,l,a,d){s.subscribers.add(a),d.addEventListener("abort",function(){var f,m;s.subscribers.delete(a),s.subscribers.size===0&&(f=s,m=l,setTimeout(function(){f.subscribers.size===0&&H(m,f)},3e3))})}var Ry={stack:"dbcore",level:0,name:"Cache",create:function(s){var l=s.schema.name;return r(r({},s),{transaction:function(a,d,f){var m,y,w=s.transaction(a,d,f);return d==="readwrite"&&(y=(m=new AbortController).signal,f=function(C){return function(){if(m.abort(),d==="readwrite"){for(var E=new Set,L=0,j=a;L<j.length;L++){var M=j[L],P=Ar["idb://".concat(l,"/").concat(M)];if(P){var O=s.table(M),R=P.optimisticOps.filter(function(he){return he.trans===w});if(w._explicit&&C&&w.mutatedParts)for(var I=0,F=Object.values(P.queries.query);I<F.length;I++)for(var A=0,W=(ce=F[I]).slice();A<W.length;A++)xa((ee=W[A]).obsSet,w.mutatedParts)&&(H(ce,ee),ee.subscribers.forEach(function(he){return E.add(he)}));else if(0<R.length){P.optimisticOps=P.optimisticOps.filter(function(he){return he.trans!==w});for(var V=0,ie=Object.values(P.queries.query);V<ie.length;V++)for(var ce,ee,le,de=0,ae=(ce=ie[V]).slice();de<ae.length;de++)(ee=ae[de]).res!=null&&w.mutatedParts&&(C&&!ee.dirty?(le=Object.isFrozen(ee.res),le=Fd(ee.res,ee.req,R,O,ee,le),ee.dirty?(H(ce,ee),ee.subscribers.forEach(function(he){return E.add(he)})):le!==ee.res&&(ee.res=le,ee.promise=fe.resolve({result:le}))):(ee.dirty&&H(ce,ee),ee.subscribers.forEach(function(he){return E.add(he)})))}}}E.forEach(function(he){return he()})}}},w.addEventListener("abort",f(!1),{signal:y}),w.addEventListener("error",f(!1),{signal:y}),w.addEventListener("complete",f(!0),{signal:y})),w},table:function(a){var d=s.table(a),f=d.schema.primaryKey;return r(r({},d),{mutate:function(m){var y=me.trans;if(f.outbound||y.db._options.cache==="disabled"||y.explicit||y.idbtrans.mode!=="readwrite")return d.mutate(m);var w=Ar["idb://".concat(l,"/").concat(a)];return w?(y=d.mutate(m),m.type!=="add"&&m.type!=="put"||!(50<=m.values.length||Na(f,m).some(function(C){return C==null}))?(w.optimisticOps.push(m),m.mutatedParts&&xo(m.mutatedParts),y.then(function(C){0<C.numFailures&&(H(w.optimisticOps,m),(C=Md(0,m,C))&&w.optimisticOps.push(C),m.mutatedParts&&xo(m.mutatedParts))}),y.catch(function(){H(w.optimisticOps,m),m.mutatedParts&&xo(m.mutatedParts)})):y.then(function(C){var E=Md(0,r(r({},m),{values:m.values.map(function(L,j){var M;return C.failures[j]?L:(L=(M=f.keyPath)!==null&&M!==void 0&&M.includes(".")?se(L):r({},L),X(L,f.keyPath,C.results[j]),L)})}),C);w.optimisticOps.push(E),queueMicrotask(function(){return m.mutatedParts&&xo(m.mutatedParts)})}),y):d.mutate(m)},query:function(m){if(!Ld(me,d)||!Id("query",m))return d.query(m);var y=((E=me.trans)===null||E===void 0?void 0:E.db._options.cache)==="immutable",j=me,w=j.requery,C=j.signal,E=function(O,R,I,F){var A=Ar["idb://".concat(O,"/").concat(R)];if(!A)return[];if(!(R=A.queries[I]))return[null,!1,A,null];var W=R[(F.query?F.query.index.name:null)||""];if(!W)return[null,!1,A,null];switch(I){case"query":var V=W.find(function(ie){return ie.req.limit===F.limit&&ie.req.values===F.values&&Ad(ie.req.query.range,F.query.range)});return V?[V,!0,A,W]:[W.find(function(ie){return("limit"in ie.req?ie.req.limit:1/0)>=F.limit&&(!F.values||ie.req.values)&&Ty(ie.req.query.range,F.query.range)}),!1,A,W];case"count":return V=W.find(function(ie){return Ad(ie.req.query.range,F.query.range)}),[V,!!V,A,W]}}(l,a,"query",m),L=E[0],j=E[1],M=E[2],P=E[3];return L&&j?L.obsSet=m.obsSet:(j=d.query(m).then(function(O){var R=O.result;if(L&&(L.res=R),y){for(var I=0,F=R.length;I<F;++I)Object.freeze(R[I]);Object.freeze(R)}else O.result=se(R);return O}).catch(function(O){return P&&L&&H(P,L),Promise.reject(O)}),L={obsSet:m.obsSet,promise:j,subscribers:new Set,type:"query",req:m,dirty:!1},P?P.push(L):(P=[L],(M=M||(Ar["idb://".concat(l,"/").concat(a)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[m.query.index.name||""]=P)),Oy(L,P,w,C),L.promise.then(function(O){return{result:Fd(O.result,m,M==null?void 0:M.optimisticOps,d,L,y)}})}})}})}};function bo(s,l){return new Proxy(s,{get:function(a,d,f){return d==="db"?l:Reflect.get(a,d,f)}})}var Mn=(et.prototype.version=function(s){if(isNaN(s)||s<.1)throw new D.Type("Given version is not a positive number");if(s=Math.round(10*s)/10,this.idbdb||this._state.isBeingOpened)throw new D.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,s);var l=this._versions,a=l.filter(function(d){return d._cfg.version===s})[0];return a||(a=new this.Version(s),l.push(a),l.sort(by),a.stores({}),this._state.autoSchema=!1,a)},et.prototype._whenReady=function(s){var l=this;return this.idbdb&&(this._state.openComplete||me.letThrough||this._vip)?s():new fe(function(a,d){if(l._state.openComplete)return d(new D.DatabaseClosed(l._state.dbOpenError));if(!l._state.isBeingOpened){if(!l._state.autoOpen)return void d(new D.DatabaseClosed);l.open().catch(xe)}l._state.dbReadyPromise.then(a,d)}).then(s)},et.prototype.use=function(s){var l=s.stack,a=s.create,d=s.level,f=s.name;return f&&this.unuse({stack:l,name:f}),s=this._middlewares[l]||(this._middlewares[l]=[]),s.push({stack:l,create:a,level:d??10,name:f}),s.sort(function(m,y){return m.level-y.level}),this},et.prototype.unuse=function(s){var l=s.stack,a=s.name,d=s.create;return l&&this._middlewares[l]&&(this._middlewares[l]=this._middlewares[l].filter(function(f){return d?f.create!==d:!!a&&f.name!==a})),this},et.prototype.open=function(){var s=this;return fn(Kt,function(){return Ny(s)})},et.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var s=this._state,l=Oe.indexOf(this);if(0<=l&&Oe.splice(l,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}s.isBeingOpened||(s.dbReadyPromise=new fe(function(a){s.dbReadyResolve=a}),s.openCanceller=new fe(function(a,d){s.cancelOpen=d}))},et.prototype.close=function(a){var l=(a===void 0?{disableAutoOpen:!0}:a).disableAutoOpen,a=this._state;l?(a.isBeingOpened&&a.cancelOpen(new D.DatabaseClosed),this._close(),a.autoOpen=!1,a.dbOpenError=new D.DatabaseClosed):(this._close(),a.autoOpen=this._options.autoOpen||a.isBeingOpened,a.openComplete=!1,a.dbOpenError=null)},et.prototype.delete=function(s){var l=this;s===void 0&&(s={disableAutoOpen:!0});var a=0<arguments.length&&typeof arguments[0]!="object",d=this._state;return new fe(function(f,m){function y(){l.close(s);var w=l._deps.indexedDB.deleteDatabase(l.name);w.onsuccess=Be(function(){var C,E,L;C=l._deps,E=l.name,L=C.indexedDB,C=C.IDBKeyRange,ya(L)||E===Mr||ma(L,C).delete(E).catch(xe),f()}),w.onerror=Nn(m),w.onblocked=l._fireOnBlocked}if(a)throw new D.InvalidArgument("Invalid closeOptions argument to db.delete()");d.isBeingOpened?d.dbReadyPromise.then(y):y()})},et.prototype.backendDB=function(){return this.idbdb},et.prototype.isOpen=function(){return this.idbdb!==null},et.prototype.hasBeenClosed=function(){var s=this._state.dbOpenError;return s&&s.name==="DatabaseClosed"},et.prototype.hasFailed=function(){return this._state.dbOpenError!==null},et.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(et.prototype,"tables",{get:function(){var s=this;return c(this._allTables).map(function(l){return s._allTables[l]})},enumerable:!1,configurable:!0}),et.prototype.transaction=function(){var s=(function(l,a,d){var f=arguments.length;if(f<2)throw new D.InvalidArgument("Too few arguments");for(var m=new Array(f-1);--f;)m[f-1]=arguments[f];return d=m.pop(),[l,ye(m),d]}).apply(this,arguments);return this._transaction.apply(this,s)},et.prototype._transaction=function(s,l,a){var d=this,f=me.trans;f&&f.db===this&&s.indexOf("!")===-1||(f=null);var m,y,w=s.indexOf("?")!==-1;s=s.replace("!","").replace("?","");try{if(y=l.map(function(E){if(E=E instanceof d.Table?E.name:E,typeof E!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return E}),s=="r"||s===ia)m=ia;else{if(s!="rw"&&s!=sa)throw new D.InvalidArgument("Invalid transaction mode: "+s);m=sa}if(f){if(f.mode===ia&&m===sa){if(!w)throw new D.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");f=null}f&&y.forEach(function(E){if(f&&f.storeNames.indexOf(E)===-1){if(!w)throw new D.SubTransaction("Table "+E+" not included in parent transaction.");f=null}}),w&&f&&!f.active&&(f=null)}}catch(E){return f?f._promise(null,function(L,j){j(E)}):K(E)}var C=(function E(L,j,M,P,O){return fe.resolve().then(function(){var R=me.transless||me,I=L._createTransaction(j,M,L._dbSchema,P);if(I.explicit=!0,R={trans:I,transless:R},P)I.idbtrans=P.idbtrans;else try{I.create(),I.idbtrans._explicit=!0,L._state.PR1398_maxLoop=3}catch(W){return W.name===Lt.InvalidState&&L.isOpen()&&0<--L._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),L.close({disableAutoOpen:!1}),L.open().then(function(){return E(L,j,M,null,O)})):K(W)}var F,A=we(O);return A&&dn(),R=fe.follow(function(){var W;(F=O.call(I,I))&&(A?(W=Zt.bind(null,null),F.then(W,W)):typeof F.next=="function"&&typeof F.throw=="function"&&(F=ka(F)))},R),(F&&typeof F.then=="function"?fe.resolve(F).then(function(W){return I.active?W:K(new D.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):R.then(function(){return F})).then(function(W){return P&&I._resolve(),I._completion.then(function(){return W})}).catch(function(W){return I._reject(W),K(W)})})}).bind(null,this,m,y,f,a);return f?f._promise(m,C,"lock"):me.trans?fn(me.transless,function(){return d._whenReady(C)}):this._whenReady(C)},et.prototype.table=function(s){if(!b(this._allTables,s))throw new D.InvalidTable("Table ".concat(s," does not exist"));return this._allTables[s]},et);function et(s,l){var a=this;this._middlewares={},this.verno=0;var d=et.dependencies;this._options=l=r({addons:et.addons,autoOpen:!0,indexedDB:d.indexedDB,IDBKeyRange:d.IDBKeyRange,cache:"cloned"},l),this._deps={indexedDB:l.indexedDB,IDBKeyRange:l.IDBKeyRange},d=l.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var f,m,y,w,C,E={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:xe,dbReadyPromise:null,cancelOpen:xe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:l.autoOpen};E.dbReadyPromise=new fe(function(j){E.dbReadyResolve=j}),E.openCanceller=new fe(function(j,M){E.cancelOpen=M}),this._state=E,this.name=s,this.on=ts(this,"populate","blocked","versionchange","close",{ready:[Xn,xe]}),this.once=function(j,M){var P=function(){for(var O=[],R=0;R<arguments.length;R++)O[R]=arguments[R];a.on(j).unsubscribe(P),M.apply(a,O)};return a.on(j,P)},this.on.ready.subscribe=k(this.on.ready.subscribe,function(j){return function(M,P){et.vip(function(){var O,R=a._state;R.openComplete?(R.dbOpenError||fe.resolve().then(M),P&&j(M)):R.onReadyBeingFired?(R.onReadyBeingFired.push(M),P&&j(M)):(j(M),O=a,P||j(function I(){O.on.ready.unsubscribe(M),O.on.ready.unsubscribe(I)}))})}}),this.Collection=(f=this,ns(py.prototype,function(F,I){this.db=f;var P=fd,O=null;if(I)try{P=I()}catch(A){O=A}var R=F._ctx,I=R.table,F=I.hook.reading.fire;this._ctx={table:I,index:R.index,isPrimKey:!R.index||I.schema.primKey.keyPath&&R.index===I.schema.primKey.name,range:P,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:O,or:R.or,valueMapper:F!==De?F:null}})),this.Table=(m=this,ns(gd.prototype,function(j,M,P){this.db=m,this._tx=P,this.name=j,this.schema=M,this.hook=m._allTables[j]?m._allTables[j].hook:ts(null,{creating:[wn,xe],reading:[nt,De],updating:[Rn,xe],deleting:[Ut,xe]})})),this.Transaction=(y=this,ns(vy.prototype,function(j,M,P,O,R){var I=this;j!=="readonly"&&M.forEach(function(F){F=(F=P[F])===null||F===void 0?void 0:F.yProps,F&&(M=M.concat(F.map(function(A){return A.updatesTable})))}),this.db=y,this.mode=j,this.storeNames=M,this.schema=P,this.chromeTransactionDurability=O,this.idbtrans=null,this.on=ts(this,"complete","error","abort"),this.parent=R||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new fe(function(F,A){I._resolve=F,I._reject=A}),this._completion.then(function(){I.active=!1,I.on.complete.fire()},function(F){var A=I.active;return I.active=!1,I.on.error.fire(F),I.parent?I.parent._reject(F):A&&I.idbtrans&&I.idbtrans.abort(),K(F)})})),this.Version=(w=this,ns(jy.prototype,function(j){this.db=w,this._cfg={version:j,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(C=this,ns(kd.prototype,function(j,M,P){if(this.db=C,this._ctx={table:j,index:M===":id"?null:M,or:P},this._cmp=this._ascending=Me,this._descending=function(O,R){return Me(R,O)},this._max=function(O,R){return 0<Me(O,R)?O:R},this._min=function(O,R){return Me(O,R)<0?O:R},this._IDBKeyRange=C._deps.IDBKeyRange,!this._IDBKeyRange)throw new D.MissingAPI})),this.on("versionchange",function(j){0<j.newVersion?console.warn("Another connection wants to upgrade database '".concat(a.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(a.name,"'. Closing db now to resume the delete request.")),a.close({disableAutoOpen:!1})}),this.on("blocked",function(j){!j.newVersion||j.newVersion<j.oldVersion?console.warn("Dexie.delete('".concat(a.name,"') was blocked")):console.warn("Upgrade '".concat(a.name,"' blocked by other connection holding version ").concat(j.oldVersion/10))}),this._maxKey=ss(l.IDBKeyRange),this._createTransaction=function(j,M,P,O){return new a.Transaction(j,M,P,a._options.chromeTransactionDurability,O)},this._fireOnBlocked=function(j){a.on("blocked").fire(j),Oe.filter(function(M){return M.name===a.name&&M!==a&&!M._state.vcFired}).map(function(M){return M.on("versionchange").fire(j)})},this.use(_y),this.use(Ry),this.use(Py),this.use(Cy),this.use(Ey);var L=new Proxy(this,{get:function(j,M,P){if(M==="_vip")return!0;if(M==="table")return function(R){return bo(a.table(R),L)};var O=Reflect.get(j,M,P);return O instanceof gd?bo(O,L):M==="tables"?O.map(function(R){return bo(R,L)}):M==="_createTransaction"?function(){return bo(O.apply(this,arguments),L)}:O}});this.vip=L,d.forEach(function(j){return j(a)})}var So,en=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Ly=(Ea.prototype.subscribe=function(s,l,a){return this._subscribe(s&&typeof s!="function"?s:{next:s,error:l,complete:a})},Ea.prototype[en]=function(){return this},Ea);function Ea(s){this._subscribe=s}try{So={indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch{So={indexedDB:null,IDBKeyRange:null}}function zd(s){var l,a=!1,d=new Ly(function(f){var m=we(s),y,w=!1,C={},E={},L={get closed(){return w},unsubscribe:function(){w||(w=!0,y&&y.abort(),j&&sr.storagemutated.unsubscribe(P))}};f.start&&f.start(L);var j=!1,M=function(){return ue(O)},P=function(R){go(C,R),xa(E,C)&&M()},O=function(){var R,I,F;!w&&So.indexedDB&&(C={},R={},y&&y.abort(),y=new AbortController,F=function(A){var W=er();try{m&&dn();var V=Et(s,A);return V=m?V.finally(Zt):V}finally{W&&Jt()}}(I={subscr:R,signal:y.signal,requery:M,querier:s,trans:null}),Promise.resolve(F).then(function(A){a=!0,l=A,w||I.signal.aborted||(C={},function(W){for(var V in W)if(b(W,V))return;return 1}(E=R)||j||(sr(is,P),j=!0),ue(function(){return!w&&f.next&&f.next(A)}))},function(A){a=!1,["DatabaseClosedError","AbortError"].includes(A==null?void 0:A.name)||w||ue(function(){w||f.error&&f.error(A)})}))};return setTimeout(M,0),L});return d.hasValue=function(){return a},d.getValue=function(){return l},d}var zr=Mn;function _a(s){var l=or;try{or=!0,sr.storagemutated.fire(s),Sa(s,!0)}finally{or=l}}_(zr,r(r({},ge),{delete:function(s){return new zr(s,{addons:[]}).delete()},exists:function(s){return new zr(s,{addons:[]}).open().then(function(l){return l.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(s){try{return l=zr.dependencies,a=l.indexedDB,l=l.IDBKeyRange,(ya(a)?Promise.resolve(a.databases()).then(function(d){return d.map(function(f){return f.name}).filter(function(f){return f!==Mr})}):ma(a,l).toCollection().primaryKeys()).then(s)}catch{return K(new D.MissingAPI)}var l,a},defineClass:function(){return function(s){p(this,s)}},ignoreTransaction:function(s){return me.trans?fn(me.transless,s):s()},vip:va,async:function(s){return function(){try{var l=ka(s.apply(this,arguments));return l&&typeof l.then=="function"?l:fe.resolve(l)}catch(a){return K(a)}}},spawn:function(s,l,a){try{var d=ka(s.apply(a,l||[]));return d&&typeof d.then=="function"?d:fe.resolve(d)}catch(f){return K(f)}},currentTransaction:{get:function(){return me.trans||null}},waitFor:function(s,l){return l=fe.resolve(typeof s=="function"?zr.ignoreTransaction(s):s).timeout(l||6e4),me.trans?me.trans.waitFor(l):l},Promise:fe,debug:{get:function(){return It},set:function(s){Qi(s)}},derive:B,extend:p,props:_,override:k,Events:ts,on:sr,liveQuery:zd,extendObservabilitySet:go,getByKeyPath:Q,setByKeyPath:X,delByKeyPath:function(s,l){typeof l=="string"?X(s,l,void 0):"length"in l&&[].map.call(l,function(a){X(s,a,void 0)})},shallowClone:ne,deepClone:se,getObjectDiff:ja,cmp:Me,asap:J,minKey:-1/0,addons:[],connections:Oe,errnames:Lt,dependencies:So,cache:Ar,semVer:"4.2.1",version:"4.2.1".split(".").map(function(s){return parseInt(s)}).reduce(function(s,l,a){return s+l/Math.pow(10,2*a)})})),zr.maxKey=ss(zr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(sr(is,function(s){or||(s=new CustomEvent(aa,{detail:s}),or=!0,dispatchEvent(s),or=!1)}),addEventListener(aa,function(s){s=s.detail,or||_a(s)}));var di,or=!1,Dd=function(){};return typeof BroadcastChannel<"u"&&((Dd=function(){(di=new BroadcastChannel(aa)).onmessage=function(s){return s.data&&_a(s.data)}})(),typeof di.unref=="function"&&di.unref(),sr(is,function(s){or||di.postMessage(s)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(s){if(!Mn.disableBfCache&&s.persisted){It&&console.debug("Dexie: handling persisted pagehide"),di!=null&&di.close();for(var l=0,a=Oe;l<a.length;l++)a[l].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(s){!Mn.disableBfCache&&s.persisted&&(It&&console.debug("Dexie: handling persisted pageshow"),Dd(),_a({all:new gt(-1/0,[[]])}))})),fe.rejectionMapper=function(s,l){return!s||s instanceof ze||s instanceof TypeError||s instanceof SyntaxError||!s.name||!Ee[s.name]?s:(l=new Ee[s.name](l||s.message,s),"stack"in s&&z(l,"stack",{get:function(){return this.inner.stack}}),l)},Qi(It),r(Mn,Object.freeze({__proto__:null,Dexie:Mn,liveQuery:zd,Entity:hd,cmp:Me,PropModification:es,replacePrefix:function(s,l){return new es({replacePrefix:[s,l]})},add:function(s){return new es({add:s})},remove:function(s){return new es({remove:s})},default:Mn,RangeSet:gt,mergeRanges:as,rangesOverlap:_d}),{default:Mn}),Mn})})(ry);var G0=ry.exports;const uc=mc(G0),uh=Symbol.for("Dexie"),Rl=globalThis[uh]||(globalThis[uh]=uc);if(uc.semVer!==Rl.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${uc.semVer} and ${Rl.semVer}`);const{liveQuery:Gw,mergeRanges:Xw,rangesOverlap:Jw,RangeSet:Zw,cmp:eb,Entity:tb,PropModification:nb,replacePrefix:rb,add:ib,remove:sb,DexieYProvider:ob}=Rl;class X0 extends Rl{constructor(){super("subtitle-learner");fi(this,"words");fi(this,"subtitleFiles");fi(this,"subtitleCues");fi(this,"prefs");fi(this,"sessions");this.version(1).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt"}),this.version(2).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt",subtitleCues:"&id, fileHash, index",sessions:"&id, updatedAt"}),this.version(3).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt",subtitleCues:"&id, fileHash, index",sessions:"&id, updatedAt"}),this.version(3).upgrade(n=>n.table("words").toArray().then(r=>{const i=r.map(o=>({id:o.id,original:o.original,originalSentence:o.originalSentence,normalized:o.normalized,stem:o.stem,createdAt:o.createdAt,updatedAt:o.updatedAt}));return n.table("words").clear().then(()=>n.table("words").bulkPut(i))})),this.version(4).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt",subtitleCues:"&id, fileHash, index",sessions:"&id, updatedAt"}),this.version(4).upgrade(n=>n.table("words").toArray().then(r=>{const i=r.map(o=>({id:o.id,original:o.original,originalSentence:o.originalSentence,normalized:o.normalized,stem:o.stem,createdAt:o.createdAt,updatedAt:o.updatedAt}));return n.table("words").clear().then(()=>n.table("words").bulkPut(i))}))}}const ke=new X0;async function J0(){return ke.words.toArray()}async function iu(e){await ke.words.put(e)}async function Z0(e){await ke.words.delete(e)}async function su(e){await ke.transaction("rw",ke.words,async()=>{await ke.words.clear(),e.length>0&&await ke.words.bulkPut(e)})}function pi(e){return[...e].sort((t,n)=>n.updatedAt-t.updatedAt)}function ew(e){if(typeof e=="string"){const[t]=Kn(e);return t}return e}function ch(e){let t=!1;return{next:e.map(r=>{const i=dd(r.normalized);return i===r.stem?r:(t=!0,{...r,stem:i})}),changed:t}}const mt=ny((e,t)=>({words:[],initialized:!1,initialize:async()=>{if(t().initialized)return;const n=await J0(),{next:r,changed:i}=ch(n),o=pi(r);e({words:o,initialized:!0}),i&&await su(o)},addUnknownWordFromToken:async(n,r)=>{const i=ew(n);if(!i||!i.isWord)return;const o=t().words.find(p=>p.normalized===i.normalized||p.stem===i.stem),c=Date.now();if(o){const p={...o,updatedAt:c,original:o.original||i.text,originalSentence:r??o.originalSentence};e(v=>({words:pi(v.words.map(S=>S.id===o.id?p:S))})),await iu(p);return}const h={id:ac(),original:i.text,originalSentence:r,normalized:i.normalized,stem:i.stem,createdAt:c,updatedAt:c};e(p=>({words:pi([...p.words,h])})),await iu(h)},updateWord:async(n,r)=>{const i=t().words.find(c=>c.id===n);if(!i)return;const o={...i,...r,updatedAt:Date.now()};e(c=>({words:pi(c.words.map(h=>h.id===n?o:h))})),await iu(o)},removeWord:async n=>{e(r=>({words:r.words.filter(i=>i.id!==n)})),await Z0(n)},importWords:async n=>{const r=Date.now(),i=h=>`${h.normalized}::${h.stem}`,o=new Map;for(const h of t().words)o.set(i(h),h);for(const h of n){if(!h.normalized)continue;const p=h.normalized,v=h.stem??dd(p),S=`${p}::${v}`,b=o.get(S);o.set(S,{id:h.id??(b==null?void 0:b.id)??ac(),original:h.original??(b==null?void 0:b.original)??p,originalSentence:h.originalSentence??(b==null?void 0:b.originalSentence),normalized:p,stem:v,createdAt:h.createdAt??(b==null?void 0:b.createdAt)??r,updatedAt:h.updatedAt??r})}const c=pi(Array.from(o.values()));e({words:c,initialized:!0}),await su(c)},reanalyzeStems:async()=>{const{next:n,changed:r}=ch(t().words);if(!r)return;const i=pi(n);e({words:i}),await su(i)},classForToken:n=>{const r=new Set(t().words.map(o=>o.normalized)),i=new Set(t().words.map(o=>o.stem));return r.has(n.normalized)?"hl-exact text-white":i.has(n.stem)?"hl-variant text-white":"bg-transparent"}})),iy="prefs";async function tw(){const e=await ke.prefs.get(iy);return e==null?void 0:e.value}async function Uo(e){await ke.prefs.put({id:iy,value:e,updatedAt:Date.now()})}const dh={subtitleStyle:{fontFamily:"Inter",fontSizePx:42,secondaryFontSizePx:36,useMainForSecondaryFontSize:!0,fontWeight:600,color:"#ffffff",outline:!0,shadow:!0,bgColor:"rgba(0, 0, 0, 0.35)",lineHeight:1.35},highlightColors:{exact:"#10b981",variant:"#f97316"},mediaLibrary:void 0},rt=ny((e,t)=>({prefs:dh,initialized:!1,initialize:async()=>{if(t().initialized)return;const n=await tw();e({prefs:n??dh,initialized:!0})},updateSubtitleStyle:async n=>{const r={...t().prefs,subtitleStyle:{...t().prefs.subtitleStyle,...n}};e({prefs:r}),await Uo(r)},updateHighlightColors:async n=>{const r={...t().prefs,highlightColors:{...t().prefs.highlightColors,...n}};e({prefs:r}),await Uo(r)},setLastOpened:async n=>{const r={...t().prefs,lastOpened:n};e({prefs:r}),await Uo(r)},setMediaLibrary:async n=>{const r={...t().prefs,mediaLibrary:n};e({prefs:r}),await Uo(r)}})),nw=/(\d{2}:\d{2}:\d{2},\d{3}) --> (\d{2}:\d{2}:\d{2},\d{3})/,cc="",dc="";function fh(e){const[t,n,r]=e.split(":"),[i,o]=r.split(",");return Number(t)*3600*1e3+Number(n)*60*1e3+Number(i)*1e3+Number(o)}function rw(e){return e.replace(/<i>/gi,cc).replace(/<\/i>/gi,dc).replace(/<[^>]+>/g,"").replace(/\s+/g," ").trim()}function bs(e){return e.split(/\r?\n\r?\n/).filter(Boolean).map((t,n)=>{const[r,i,...o]=t.split(/\r?\n/),c=i==null?void 0:i.match(nw),h=(c==null?void 0:c[1])??"00:00:00,000",p=(c==null?void 0:c[2])??"00:00:00,000",v=rw(o.join(`
`));return{index:Number.parseInt(r??String(n),10),startMs:fh(h),endMs:fh(p),rawText:v}}).filter(t=>t.rawText.length>0)}const iw=/^[\)\]\}.,!?;:%]+$/u,sw=/^[\(\[\{]+$/u;function Ll(e){return e.isWord||/^\d+$/.test(e.text)}function sy(e){return!e.isWord&&iw.test(e.text)}function oy(e){return!e.isWord&&sw.test(e.text)}function ly(e,t){if(!e||sy(t)||oy(e))return!1;const n=Ll(e),r=Ll(t);return!!(n&&r||n&&!r||!n&&r)}function ow(e){const t=new RegExp(`(${cc}|${dc})`,"g"),n=e.split(t).filter(o=>o.length>0);let r=!1;const i=[];for(const o of n){if(o===cc){r=!0;continue}if(o===dc){r=!1;continue}const c=Kn(o);i.push(...c.map(h=>({token:h,italic:r})))}return i}function lw(e){const t=[];let n="",r=!1;if(e.forEach((i,o)=>{const c=e[o+1];if(!i.token.isWord&&oy(i.token)&&c&&Ll(c.token)){n+=i.token.text,r=r||i.italic;return}if(!i.token.isWord&&sy(i.token)&&t.length>0){const v=t[t.length-1];v.text+=i.token.text,v.italic=v.italic||i.italic;return}const h=`${n}${i.token.text}`,p=r||i.italic;n="",r=!1,h.trim().length!==0&&t.push({token:i.token,text:h,italic:p})}),n.trim().length>0){const i=n.trim();t.push({token:{text:i,normalized:i,stem:i,isWord:!1},text:i,italic:r})}return t}const aw=["INPUT","TEXTAREA","SELECT"];function uw(e){return typeof HTMLElement>"u"||!(e instanceof HTMLElement)?!1:e.isContentEditable?!0:aw.includes(e.tagName)}function Fn(e){e.preventDefault(),e.stopPropagation(),typeof e.stopImmediatePropagation=="function"&&e.stopImmediatePropagation()}function An(e,t,n){return t.includes(e.code)||n.includes(e.key)}function cw(e,t){const{video:n,seekBy:r,toggleFullscreen:i,toggleMute:o,togglePlayback:c,toggleSecondarySubtitle:h}=t,{stepVolume:p}=t;return!n||uw(e.target)||e.altKey||e.ctrlKey||e.metaKey?!1:An(e,["Space"],[" ","Spacebar"])||An(e,["KeyK"],["k","K"])?(Fn(e),c(),!0):An(e,["ArrowLeft"],["ArrowLeft"])?(Fn(e),r(-5),!0):An(e,["ArrowRight"],["ArrowRight"])?(Fn(e),r(5),!0):An(e,["ArrowUp"],["ArrowUp"])?(Fn(e),p("up"),!0):An(e,["ArrowDown"],["ArrowDown"])?(Fn(e),p("down"),!0):An(e,["KeyF"],["f","F"])?(Fn(e),i(),!0):An(e,["KeyM"],["m","M"])?(Fn(e),o(),!0):An(e,["KeyH"],["h","H"])?(Fn(e),h(),!0):!1}function Bo(e){const t=Math.max(0,Math.floor(e/1e3)),n=Math.floor(t/60).toString().padStart(2,"0"),r=(t%60).toString().padStart(2,"0");return`${n}:${r}`}async function fc(e,t="SHA-256"){const n=await e.arrayBuffer(),r=await crypto.subtle.digest(t,n);return Array.from(new Uint8Array(r)).map(o=>o.toString(16).padStart(2,"0")).join("")}function dw(e){const{index:t,startMs:n,endMs:r,rawText:i,tokens:o}=e;return{index:t,startMs:n,endMs:r,rawText:i,tokens:o}}function fw(e,t){return{id:`${e}:${t.index}`,fileHash:e,index:t.index,startMs:t.startMs,endMs:t.endMs,rawText:t.rawText,tokens:t.tokens??[]}}async function Yr(e){const t=await ke.subtitleCues.where("fileHash").equals(e).sortBy("index");if(t.length!==0)return t.map(dw)}async function hc(e,t){await ke.transaction("rw",ke.subtitleCues,async()=>{await ke.subtitleCues.where("fileHash").equals(e).delete(),t.length>0&&await ke.subtitleCues.bulkPut(t.map(n=>fw(e,n)))})}async function hw(e){await ke.subtitleCues.where("fileHash").equals(e).delete()}async function Hr(e){const t=await ke.subtitleFiles.where("bytesHash").equals(e.bytesHash).first(),n=t?{...t,...e,addedAt:e.addedAt??Date.now()}:{id:ac(),name:e.name,bytesHash:e.bytesHash,totalCues:e.totalCues,language:e.language,addedAt:e.addedAt??Date.now()};return await ke.subtitleFiles.put(n),n}async function ay(){return ke.subtitleFiles.orderBy("addedAt").reverse().toArray()}async function pw(e){await ke.transaction("rw",ke.subtitleFiles,ke.subtitleCues,async()=>{const t=await ke.subtitleFiles.get(e);t&&(await ke.subtitleFiles.delete(e),await hw(t.bytesHash))})}const uy="last-session";async function cy(){return ke.sessions.get(uy)}async function mi(e){const t=await cy(),n={id:uy,updatedAt:Date.now(),videoName:t==null?void 0:t.videoName,videoBlob:t==null?void 0:t.videoBlob,subtitleName:t==null?void 0:t.subtitleName,subtitleText:t==null?void 0:t.subtitleText,subtitleHash:t==null?void 0:t.subtitleHash,videoTimeSeconds:t==null?void 0:t.videoTimeSeconds,secondarySubtitleName:t==null?void 0:t.secondarySubtitleName,secondarySubtitleText:t==null?void 0:t.secondarySubtitleText,secondarySubtitleHash:t==null?void 0:t.secondarySubtitleHash,secondarySubtitleEnabled:t==null?void 0:t.secondarySubtitleEnabled,secondarySubtitleOffsetMs:t==null?void 0:t.secondarySubtitleOffsetMs};Object.prototype.hasOwnProperty.call(e,"videoName")&&(n.videoName=e.videoName),Object.prototype.hasOwnProperty.call(e,"videoBlob")&&(n.videoBlob=e.videoBlob),Object.prototype.hasOwnProperty.call(e,"subtitleName")&&(n.subtitleName=e.subtitleName),Object.prototype.hasOwnProperty.call(e,"subtitleText")&&(n.subtitleText=e.subtitleText),Object.prototype.hasOwnProperty.call(e,"subtitleHash")&&(n.subtitleHash=e.subtitleHash),Object.prototype.hasOwnProperty.call(e,"videoTimeSeconds")&&(n.videoTimeSeconds=e.videoTimeSeconds),Object.prototype.hasOwnProperty.call(e,"secondarySubtitleName")&&(n.secondarySubtitleName=e.secondarySubtitleName),Object.prototype.hasOwnProperty.call(e,"secondarySubtitleText")&&(n.secondarySubtitleText=e.secondarySubtitleText),Object.prototype.hasOwnProperty.call(e,"secondarySubtitleHash")&&(n.secondarySubtitleHash=e.secondarySubtitleHash),Object.prototype.hasOwnProperty.call(e,"secondarySubtitleEnabled")&&(n.secondarySubtitleEnabled=e.secondarySubtitleEnabled),Object.prototype.hasOwnProperty.call(e,"secondarySubtitleOffsetMs")&&(n.secondarySubtitleOffsetMs=e.secondarySubtitleOffsetMs),await ke.sessions.put(n)}const mw=/[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/,yw=/^[.!?]+$/u,Ur=[1,2,3,4,5,10,15,20,25,30,40,50,60,70,80,90,100];function hh(e){return e.some(t=>mw.test(t.rawText))}function vw(e){return!e.isWord&&yw.test(e.text)}function gw(e){const t=e.trim();if(!t)return;const n=encodeURIComponent(`${t} definition`);window.open(`https://www.google.com/search?q=${n}`,"_blank","noopener,noreferrer")}function dy(e,t){const n=x.useMemo(()=>ow(e.rawText),[e.rawText]),r=x.useMemo(()=>{if(!t)return n;const i=n.findIndex(c=>Ll(c.token));if(i<=0)return n;const o=n.slice(0,i);return o.length===0?n:o.every(c=>vw(c.token))?[...n.slice(i),...o]:n},[t,n]);return x.useMemo(()=>lw(r),[r])}function ou({cue:e,onTokenClick:t,onTokenContextMenu:n,classForToken:r,isRtl:i=!1,className:o}){const c=dy(e,i);return u.jsx("div",{className:`pointer-events-none flex flex-wrap ${o??""}`,dir:i?"rtl":"ltr",children:c.map((h,p)=>{const v=p>0?c[p-1].token:void 0,S=h.token,b=ly(v,S)?"ms-1":"";return u.jsx("button",{type:"button",className:`pointer-events-auto relative z-50 rounded px-0.5 text-left ${b} ${S.isWord?"focus:outline-none focus-visible:outline-none":"cursor-default"}`,onClick:_=>{S.isWord&&(t(S,e),_.currentTarget instanceof HTMLElement&&_.currentTarget.blur())},onContextMenu:_=>{S.isWord&&(_.preventDefault(),n(S,e))},disabled:!S.isWord,children:u.jsx("span",{className:`rounded px-1 py-0.5 transition-colors ${h.italic?"italic":""} ${r(S)}`,children:h.text})},`${h.text}-${p}`)})})}function ph({cue:e,isRtl:t=!1,className:n}){const r=dy(e,t);return u.jsx("div",{className:`flex flex-wrap ${n??""}`,dir:t?"rtl":"ltr",children:r.map((i,o)=>{const c=o>0?r[o-1].token:void 0,h=i.token,p=ly(c,h)?"ms-1":"";return u.jsx("span",{className:`rounded px-1 py-0.5 ${p}`,children:i.text},`${i.text}-${o}`)})})}function mh(){const e=x.useRef(null),t=x.useRef(null),n=x.useRef(null),r=x.useRef(new Map),i=x.useRef({}),[o,c]=x.useState(""),[h,p]=x.useState(null),[v,S]=x.useState(null),[b,_]=x.useState(""),[U,z]=x.useState([]),[B,q]=x.useState(0),[N,g]=x.useState(!1),[k,$]=x.useState(0),[J,Q]=x.useState(null),[X,ne]=x.useState(!1),[be,ye]=x.useState(""),[Ie,Ue]=x.useState([]),[se,G]=x.useState(!1),[te,Y]=x.useState(0),[ve,H]=x.useState(null),[re,oe]=x.useState(!1),[we,Ne]=x.useState(!1),[ze,Nt]=x.useState(!1),[at,ut]=x.useState(!1),[Lt,qi]=x.useState(!1),[D,Ee]=x.useState(1),[ge,xe]=x.useState(null),[De,nt]=x.useState(!0),[st,wn]=x.useState(!0),Ut=x.useRef(null),Rn=x.useRef(null),Gn=x.useRef(0),Xn=mt(T=>T.addUnknownWordFromToken),It=mt(T=>T.classForToken),Qi=mt(T=>T.initialize),Jn=mt(T=>T.initialized),Yi=rt(T=>T.initialize),bn=rt(T=>T.initialized),Sn=rt(T=>T.setLastOpened),an=x.useCallback((T,ue)=>{Xn(T,ue.rawText)},[Xn]),Or=x.useCallback((T,ue)=>{gw(T.text),Xn(T,ue.rawText)},[Xn]),Ct=x.useCallback(T=>{z(T),ne(T.length>0&&hh(T))},[]),Bt=x.useCallback(T=>{Ue(T),Ne(T.length>0&&hh(T))},[]),un=x.useCallback(async(T,ue,K)=>{Ct(K),await Promise.all([hc(T,K),Hr({name:ue,bytesHash:T,totalCues:K.length})])},[Ct]),Mt=x.useCallback(async(T,ue,K)=>{Bt(K),await Promise.all([hc(T,K),Hr({name:ue,bytesHash:T,totalCues:K.length})])},[Bt]);x.useEffect(()=>{Jn||Qi()},[Jn,Qi]),x.useEffect(()=>{bn||Yi()},[bn,Yi]),x.useEffect(()=>{const T=()=>{const ue=e.current;Nt(document.fullscreenElement===ue)};return document.addEventListener("fullscreenchange",T),()=>{document.removeEventListener("fullscreenchange",T)}},[]),x.useEffect(()=>{const T=t.current;if(!T)return;const ue=()=>ut(!T.paused),K=()=>qi(T.muted),Se=()=>Ee(T.volume),Pe=()=>{xe(Number.isFinite(T.duration)?T.duration*1e3:null)};return ue(),K(),Se(),Pe(),T.addEventListener("play",ue),T.addEventListener("pause",ue),T.addEventListener("volumechange",K),T.addEventListener("volumechange",Se),T.addEventListener("loadedmetadata",Pe),T.addEventListener("durationchange",Pe),()=>{T.removeEventListener("play",ue),T.removeEventListener("pause",ue),T.removeEventListener("volumechange",K),T.removeEventListener("volumechange",Se),T.removeEventListener("loadedmetadata",Pe),T.removeEventListener("durationchange",Pe)}},[]);const Rr=x.useCallback(async()=>{const T=e.current;if(T&&document.fullscreenElement!==T)try{await T.requestFullscreen()}catch(ue){console.error("Failed to enter fullscreen",ue)}},[]),oi=x.useCallback(async()=>{if(document.fullscreenElement)try{await document.exitFullscreen()}catch(T){console.error("Failed to exit fullscreen",T)}},[]),Kt=x.useCallback(()=>{if(ze){oi();return}Rr()},[Rr,oi,ze]);x.useEffect(()=>{const T=new Worker(new URL(""+new URL("srtWorker-CQIlcpsu.js",import.meta.url).href,import.meta.url),{type:"module"});return n.current=T,()=>{T.terminate(),n.current=null}},[]),x.useEffect(()=>{const T=n.current;if(!T)return;const ue=async K=>{const Se=r.current.get(K.data.id);if(Se){if(i.current[Se.target]!==K.data.id){r.current.delete(K.data.id);return}if(r.current.delete(K.data.id),K.data.error){Se.target==="secondary"?(H(K.data.error),G(!1)):(Q(K.data.error),g(!1));return}try{Se.target==="secondary"?(H(null),await Mt(Se.hash,Se.fileName,K.data.cues)):(Q(null),await un(Se.hash,Se.fileName,K.data.cues))}catch(Pe){console.error(Pe),Se.target==="secondary"?H("Failed to store parsed secondary subtitles."):Q("Failed to store parsed subtitles.")}finally{Se.target==="secondary"?G(!1):g(!1)}}};return T.addEventListener("message",ue),()=>{T.removeEventListener("message",ue)}},[un,Mt,Ct,Bt]),x.useEffect(()=>{let T=!1;return(async()=>{const K=await cy();if(!(T||!K)){if(K.videoBlob){const Se=K.videoBlob;p(Pe=>(Pe&&URL.revokeObjectURL(Pe),URL.createObjectURL(Se))),c(K.videoName??"")}else K.videoName&&c(K.videoName);if(K.subtitleName&&_(K.subtitleName),typeof K.videoTimeSeconds=="number"&&S(K.videoTimeSeconds),K.secondarySubtitleName&&ye(K.secondarySubtitleName),typeof K.secondarySubtitleEnabled=="boolean"?oe(K.secondarySubtitleEnabled):K.secondarySubtitleHash&&oe(!0),typeof K.secondarySubtitleOffsetMs=="number"&&Y(K.secondarySubtitleOffsetMs),!(!K.subtitleHash&&!K.secondarySubtitleHash)){if(K.secondarySubtitleHash){G(!0),H(null);const Se=await Yr(K.secondarySubtitleHash);if(T)return;if(Se)Bt(Se),G(!1),await Hr({name:K.secondarySubtitleName??K.secondarySubtitleHash,bytesHash:K.secondarySubtitleHash,totalCues:Se.length});else if(K.secondarySubtitleText){const Pe=n.current;if(Pe){const je=crypto.randomUUID();r.current.set(je,{hash:K.secondarySubtitleHash,fileName:K.secondarySubtitleName??K.secondarySubtitleHash,target:"secondary"}),i.current.secondary=je,Pe.postMessage({id:je,text:K.secondarySubtitleText})}else try{const je=bs(K.secondarySubtitleText).map(Oe=>({...Oe,tokens:Oe.tokens??Kn(Oe.rawText)}));await Mt(K.secondarySubtitleHash,K.secondarySubtitleName??K.secondarySubtitleHash,je)}catch(je){T||(H(je instanceof Error?je.message:"Failed to parse secondary subtitles"),Bt([]))}finally{T||G(!1)}}else G(!1)}if(K.subtitleHash){g(!0),Q(null);const Se=await Yr(K.subtitleHash);if(T)return;if(Se){Ct(Se),g(!1),await Hr({name:K.subtitleName??K.subtitleHash,bytesHash:K.subtitleHash,totalCues:Se.length});return}if(!K.subtitleText){g(!1);return}const Pe=n.current;if(Pe){const je=crypto.randomUUID();r.current.set(je,{hash:K.subtitleHash,fileName:K.subtitleName??K.subtitleHash,target:"primary"}),i.current.primary=je,Pe.postMessage({id:je,text:K.subtitleText});return}try{const je=bs(K.subtitleText).map(Oe=>({...Oe,tokens:Oe.tokens??Kn(Oe.rawText)}));await un(K.subtitleHash,K.subtitleName??K.subtitleHash,je)}catch(je){T||(Q(je instanceof Error?je.message:"Failed to parse subtitles"),Ct([]))}finally{T||g(!1)}}}}})(),()=>{T=!0}},[un,Mt]),x.useEffect(()=>{if(h)return()=>{URL.revokeObjectURL(h)}},[h]),x.useEffect(()=>{const T=t.current;T&&(T.currentTime=0)},[h]),x.useEffect(()=>{const T=t.current;if(!T||v===null)return;const ue=()=>{T.currentTime=v};if(T.readyState>=1){ue();return}return T.addEventListener("loadedmetadata",ue),()=>{T.removeEventListener("loadedmetadata",ue)}},[v,h]),x.useEffect(()=>{if(!bn)return;Sn(o||b?{videoName:o||void 0,srtName:b||void 0}:void 0)},[bn,Sn,b,o]);const me=x.useCallback(()=>{const T=t.current;T&&(T.pause(),T.currentTime=0)},[]),kn=x.useCallback(()=>{const T=t.current;T&&(T.paused?T.play().catch(ue=>{console.error("Failed to play video",ue)}):T.pause())},[]),cn=x.useCallback(()=>{const T=t.current;T&&(T.muted=!T.muted)},[]),Ln=x.useCallback(T=>{const ue=t.current;if(!ue||ue.readyState===0)return;const K=Math.min(Math.max(ue.currentTime+T,0),Number.isFinite(ue.duration)?ue.duration:Number.POSITIVE_INFINITY);ue.currentTime=K},[]),fe=x.useCallback(T=>{const ue=t.current;if(!ue||ue.readyState===0)return;const K=Number(T.target.value);Number.isFinite(K)&&(ue.currentTime=K,q(K*1e3))},[]),Gi=x.useCallback(T=>{const ue=t.current;if(!ue)return;const K=Number(T.target.value);Number.isFinite(K)&&(ue.volume=K,K>0&&(ue.muted=!1),Ee(K))},[]),Xi=x.useCallback(T=>{const ue=t.current;if(!ue)return;const K=Math.round(ue.volume*100),Se=Math.min(Math.max(K,0),100);let Pe=Ur[0];if(T==="up"){Pe=Ur[Ur.length-1];for(const Oe of Ur)if(Oe>Se){Pe=Oe;break}}else{Pe=Ur[0];for(let Oe=Ur.length-1;Oe>=0;Oe-=1){const Mr=Ur[Oe];if(Mr<Se){Pe=Mr;break}}}const je=Pe/100;ue.volume=je,je>0&&(ue.muted=!1),Ee(je)},[]),Zn=x.useCallback(async T=>{me(),Q(null),g(!0),q(0);const ue=await T.text(),K=await fc(T);_(T.name),Ct([]),mi({subtitleName:T.name,subtitleText:ue,subtitleHash:K});const Se=await Yr(K);if(Se){Ct(Se),g(!1),await Hr({name:T.name,bytesHash:K,totalCues:Se.length});return}const Pe=n.current;if(Pe){const je=crypto.randomUUID();r.current.set(je,{hash:K,fileName:T.name,target:"primary"}),i.current.primary=je,Pe.postMessage({id:je,text:ue});return}try{const je=bs(ue).map(Oe=>({...Oe,tokens:Oe.tokens??Kn(Oe.rawText)}));await un(K,T.name,je)}catch(je){Q(je instanceof Error?je.message:"Failed to parse subtitles"),Ct([])}finally{g(!1)}},[un,Ct,me]),Ji=x.useCallback(async T=>{H(null),G(!0);const ue=await T.text(),K=await fc(T);ye(T.name),Bt([]),mi({secondarySubtitleName:T.name,secondarySubtitleText:ue,secondarySubtitleHash:K,secondarySubtitleEnabled:!0});const Se=await Yr(K);if(Se){Bt(Se),G(!1),oe(!0),await Hr({name:T.name,bytesHash:K,totalCues:Se.length});return}const Pe=n.current;if(Pe){const je=crypto.randomUUID();r.current.set(je,{hash:K,fileName:T.name,target:"secondary"}),i.current.secondary=je,Pe.postMessage({id:je,text:ue});return}try{const je=bs(ue).map(Oe=>({...Oe,tokens:Oe.tokens??Kn(Oe.rawText)}));await Mt(K,T.name,je),oe(!0)}catch(je){H(je instanceof Error?je.message:"Failed to parse secondary subtitles"),Bt([])}finally{G(!1)}},[Mt,Bt]),Zi=x.useCallback(async T=>{const ue=T.target.files;if(!ue||ue.length===0)return;const K=Array.from(ue),Se=K.find(Oe=>Oe.type.startsWith("video/")||Oe.name.toLowerCase().endsWith(".mkv"));if(!Se){T.target.value="";return}me(),S(0),Gn.current=0,c(Se.name),q(0),p(Oe=>(Oe&&URL.revokeObjectURL(Oe),URL.createObjectURL(Se))),mi({videoName:Se.name,videoBlob:Se,videoTimeSeconds:0});const Pe=Se.name.replace(/\.[^.]+$/,"").toLowerCase(),je=K.find(Oe=>Oe.name.toLowerCase()===`${Pe}.srt`&&Oe!==Se);je&&await Zn(je),T.target.value=""},[Zn,me]),na=x.useCallback(async T=>{var K;const ue=(K=T.target.files)==null?void 0:K[0];ue&&(await Zn(ue),T.target.value="")},[Zn]),ra=x.useCallback(async T=>{var K;const ue=(K=T.target.files)==null?void 0:K[0];ue&&(await Ji(ue),T.target.value="")},[Ji]),er=()=>{const T=t.current;T&&(q(T.currentTime*1e3),T.currentTime-Gn.current>=2&&(Gn.current=T.currentTime,mi({videoTimeSeconds:T.currentTime})))},Jt=x.useMemo(()=>U.filter(T=>{const ue=T.startMs+k,K=T.endMs+k;return ue<=B&&K>=B}),[U,B,k]),Lr=x.useMemo(()=>Ie.filter(T=>{const ue=T.startMs+te,K=T.endMs+te;return ue<=B&&K>=B}),[Ie,B,te]),li=x.useMemo(()=>Bo(B),[B]),Be=x.useMemo(()=>ge?Bo(ge):"--:--",[ge]),Ze=x.useMemo(()=>ge?Math.min(100,Math.max(0,B/ge*100)):0,[B,ge]),io=x.useCallback(T=>{$(ue=>ue+T)},[]),Ir=x.useCallback(T=>{Y(ue=>{const K=ue+T;return mi({secondarySubtitleOffsetMs:K}),K})},[]),tr=x.useCallback(()=>{Ie.length!==0&&oe(T=>{const ue=!T;return mi({secondarySubtitleEnabled:ue}),ue})},[Ie.length]),ht=x.useCallback(()=>{var T;(T=e.current)==null||T.focus()},[]),nr=x.useCallback(()=>{Ut.current!==null&&(window.clearTimeout(Ut.current),Ut.current=null)},[]),Et=x.useCallback(()=>{Rn.current!==null&&(window.clearTimeout(Rn.current),Rn.current=null)},[]),dn=x.useCallback(()=>{nr(),at&&(Ut.current=window.setTimeout(()=>{nt(!1)},2500))},[nr,at]),Zt=x.useCallback(()=>{nt(!0),dn()},[dn]),In=x.useCallback(()=>{Et(),ze&&(Rn.current=window.setTimeout(()=>{wn(!1)},1e3))},[Et,ze]),so=x.useCallback(()=>{wn(!0),In()},[In]),jn=x.useCallback(()=>{Zt(),so()},[Zt,so]),rr=x.useCallback(T=>cw(T,{video:t.current,seekBy:Ln,toggleFullscreen:Kt,toggleMute:cn,togglePlayback:kn,toggleSecondarySubtitle:tr,stepVolume:Xi}),[Ln,Xi,Kt,cn,kn,tr]),fn=x.useCallback(T=>{rr(T.nativeEvent)&&(T.preventDefault(),T.stopPropagation())},[rr]);return x.useEffect(()=>(document.addEventListener("keydown",rr,!0),()=>{document.removeEventListener("keydown",rr,!0)}),[rr]),x.useEffect(()=>{if(!at){nr(),nt(!0);return}dn()},[nr,at,dn]),x.useEffect(()=>{if(!ze){Et(),wn(!0);return}In()},[Et,ze,In]),x.useEffect(()=>()=>{nr(),Et()},[nr,Et]),u.jsxs("div",{className:"grid gap-6 lg:grid-cols-[2fr,1fr]",onKeyDown:fn,children:[u.jsxs("section",{className:"space-y-4",children:[u.jsxs("div",{ref:e,className:`relative aspect-video overflow-hidden rounded-lg bg-black shadow-xl ${ze&&!st?"cursor-none":""}`,onDoubleClick:Kt,onMouseMove:jn,onMouseLeave:()=>{at&&nt(!1)},onFocusCapture:Zt,tabIndex:-1,children:[u.jsx("video",{ref:t,className:"h-full w-full focus:outline-none focus-visible:outline-none",onClick:()=>{kn(),ht()},onTimeUpdate:er,src:h??void 0,tabIndex:-1,children:u.jsx("track",{kind:"subtitles",srcLang:"en",label:b||"Subtitles"})}),u.jsx("div",{className:`absolute inset-x-0 bottom-0 z-20 flex flex-col gap-3 bg-gradient-to-t from-black/80 via-black/40 to-transparent px-4 pb-4 pt-6 text-white transition-opacity duration-300 ${De?"opacity-100":"pointer-events-none opacity-0"}`,onDoubleClick:T=>T.stopPropagation(),children:u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("input",{type:"range",min:0,max:ge?Math.max(ge/1e3,0):0,step:.1,value:ge?Math.min(B/1e3,ge/1e3):0,onChange:fe,onKeyDown:fn,onFocus:T=>{T.currentTarget.blur(),ht()},className:"player-timeline w-full cursor-pointer","aria-label":"Seek position",disabled:!ge,tabIndex:-1,style:{"--timeline-gradient":`linear-gradient(90deg, rgba(56, 189, 248, 0.6) 0%, rgba(56, 189, 248, 0.6) ${Ze}%, rgba(148, 163, 184, 0.35) ${Ze}%, rgba(148, 163, 184, 0.35) 100%)`}}),u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-sm",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsxs("button",{type:"button",className:`group play-variant variant-24 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-200 ${at?"is-paused":""}`,onClick:()=>{kn(),ht()},"aria-label":at?"Pause video":"Play video",children:[u.jsx("span",{className:"play-variant-icon","aria-hidden":!0}),u.jsx("span",{className:"player-tooltip",children:"Space"})]}),u.jsxs("div",{className:"group relative flex items-center gap-2",children:[u.jsxs("button",{type:"button",className:"player-icon-button text-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-200",onClick:()=>{cn(),ht()},"aria-label":Lt?"Unmute video":"Mute video",children:[u.jsx("span",{"aria-hidden":!0,children:Lt?"":""}),u.jsx("span",{className:"player-tooltip",children:"M"})]}),u.jsx("div",{className:"max-w-0 overflow-hidden transition-all duration-300 group-hover:max-w-[120px]",children:u.jsx("input",{id:"player-volume",type:"range",min:0,max:1,step:.05,value:Lt?0:D,onChange:Gi,onKeyDown:fn,className:"player-volume w-24 cursor-pointer","aria-label":"Volume"})})]})]}),u.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/70",style:{fontFamily:'"Comic Sans MS", "Comic Sans", cursive'},children:[li," / ",Be]}),u.jsx("div",{className:"flex flex-wrap items-center gap-2",children:u.jsxs("div",{className:"flex flex-row-reverse items-center gap-2",children:[u.jsxs("button",{type:"button",className:"group player-icon-button text-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-200",onClick:()=>{Kt(),ht()},"aria-label":ze?"Exit fullscreen":"Enter fullscreen",children:[u.jsx("span",{"aria-hidden":!0,children:""}),u.jsx("span",{className:"player-tooltip",children:"F"})]}),u.jsxs("button",{type:"button",className:"group player-icon-button text-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-200",onClick:()=>{Ln(-5),ht()},"aria-label":"Seek backward 5 seconds",children:["-5s ",u.jsx("span",{className:"player-tooltip",children:""})]}),u.jsxs("button",{type:"button",className:"group player-icon-button text-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-200",onClick:()=>{Ln(5),ht()},"aria-label":"Seek forward 5 seconds",children:["+5s ",u.jsx("span",{className:"player-tooltip",children:""})]})]})})]})]})}),re&&Lr.length>0&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"pointer-events-none absolute inset-0 z-30 flex flex-col justify-start p-6",children:u.jsx("div",{className:"pointer-events-none flex flex-col items-center gap-3",children:Lr.map(T=>u.jsx("div",{className:"subtitle-overlay subtitle-overlay-secondary subtitle-overlay-bg max-w-3xl text-center",children:u.jsx(ph,{cue:T,isRtl:we,className:"justify-center text-center"})},`${T.startMs}-${T.endMs}-bg`))})}),u.jsx("div",{className:"pointer-events-none absolute inset-0 z-40 flex flex-col justify-start p-6",children:u.jsx("div",{className:"pointer-events-none flex flex-col items-center gap-3",children:Lr.map(T=>u.jsx("div",{className:"subtitle-overlay subtitle-overlay-secondary max-w-3xl text-center",children:u.jsx(ou,{cue:T,classForToken:It,onTokenClick:an,onTokenContextMenu:Or,isRtl:we,className:"justify-center text-center"})},`${T.startMs}-${T.endMs}`))})})]}),Jt.length>0&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"pointer-events-none absolute inset-0 z-30 flex flex-col justify-end p-6",children:u.jsx("div",{className:"pointer-events-none flex flex-col items-center gap-3",children:Jt.map(T=>u.jsx("div",{className:"subtitle-overlay subtitle-overlay-bg max-w-3xl text-center",children:u.jsx(ph,{cue:T,isRtl:X,className:"justify-center text-center"})},`${T.startMs}-${T.endMs}-bg`))})}),u.jsx("div",{className:"pointer-events-none absolute inset-0 z-40 flex flex-col justify-end p-6",children:u.jsx("div",{className:"pointer-events-none flex flex-col items-center gap-3",children:Jt.map(T=>u.jsx("div",{className:"subtitle-overlay max-w-3xl text-center",children:u.jsx(ou,{cue:T,classForToken:It,onTokenClick:an,onTokenContextMenu:Or,isRtl:X,className:"justify-center text-center"})},`${T.startMs}-${T.endMs}`))})})]})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3 rounded-lg bg-white/5 p-3 text-sm text-white/80",children:[u.jsx("span",{className:"font-medium text-white",children:"Subtitle timing"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",onClick:()=>{io(-500),ht()},children:"0.5s"}),u.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",onClick:()=>{io(500),ht()},children:"+0.5s"})]}),u.jsxs("span",{className:"text-xs text-white/60",children:["Offset: ",k>=0?"+":"",(k/1e3).toFixed(1),"s"]})]}),u.jsxs("label",{className:"flex w-full cursor-pointer flex-col gap-2 rounded-lg border border-dashed border-white/20 bg-white/5 p-4 text-sm hover:border-white/40",children:[u.jsx("span",{className:"font-medium",children:"Load video"}),u.jsx("input",{type:"file",accept:"video/*,video/x-matroska,.mkv,.MKV",multiple:!0,className:"hidden",onChange:Zi}),u.jsx("span",{className:"text-xs text-white/60",children:"Automatically pairs a matching .srt when selected together."}),u.jsxs("span",{className:"text-xs text-white/60",children:["Current: ",o||"None"]})]}),u.jsxs("label",{className:"flex w-full cursor-pointer flex-col gap-2 rounded-lg border border-dashed border-white/20 bg-white/5 p-4 text-sm hover:border-white/40",children:[u.jsx("span",{className:"font-medium",children:"Load subtitles (SRT)"}),u.jsx("input",{type:"file",accept:".srt",className:"hidden",onChange:na}),u.jsxs("span",{className:"text-xs text-white/60",children:["Current: ",b||"None"]}),N&&u.jsx("span",{className:"text-xs text-amber-300",children:"Processing subtitles"}),J&&u.jsx("span",{className:"text-xs text-red-400",children:J})]}),u.jsxs("label",{className:"flex items-center gap-2 text-xs text-white/70",children:[u.jsx("input",{type:"checkbox",checked:X,onChange:T=>ne(T.target.checked),className:"h-3 w-3 rounded border-white/30 bg-slate-900"}),"Right-to-left order"]}),u.jsxs("details",{className:"rounded-lg border border-white/10 bg-white/5 p-4 text-sm",children:[u.jsx("summary",{className:"cursor-pointer list-none font-medium text-white/90",children:"Second subtitles (optional)"}),u.jsxs("div",{className:"mt-3 space-y-3",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 text-xs font-medium text-white transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",onClick:()=>{tr(),ht()},disabled:Ie.length===0,children:re?"On":"Off"}),u.jsx("span",{className:"text-xs text-white/60",children:"Shows a second line at the top. Shortcut: H/"})]}),u.jsxs("label",{className:"flex w-full cursor-pointer flex-col gap-2 rounded-lg border border-dashed border-white/20 bg-white/5 p-3 text-xs hover:border-white/40",children:[u.jsx("span",{className:"font-medium text-sm",children:"Load second subtitles (SRT)"}),u.jsx("input",{type:"file",accept:".srt",className:"hidden",onChange:ra}),u.jsxs("span",{className:"text-xs text-white/60",children:["Current: ",be||"None"]}),se&&u.jsx("span",{className:"text-xs text-amber-300",children:"Processing second subtitles"}),ve&&u.jsx("span",{className:"text-xs text-red-400",children:ve})]}),u.jsxs("label",{className:"flex items-center gap-2 text-xs text-white/70",children:[u.jsx("input",{type:"checkbox",checked:we,onChange:T=>Ne(T.target.checked),className:"h-3 w-3 rounded border-white/30 bg-slate-900"}),"Right-to-left order"]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3 rounded-lg bg-white/5 p-2 text-xs text-white/80",children:[u.jsx("span",{className:"font-medium text-white",children:"Second subtitle timing"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",onClick:()=>{Ir(-500),ht()},children:"0.5s"}),u.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",onClick:()=>{Ir(500),ht()},children:"+0.5s"})]}),u.jsxs("span",{className:"text-xs text-white/60",children:["Offset: ",te>=0?"+":"",(te/1e3).toFixed(1),"s"]})]})]})]})]}),u.jsx("aside",{className:"space-y-4",children:u.jsxs("div",{className:"rounded-lg bg-black/40 p-4",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Active Cue"}),N?u.jsx("p",{className:"mt-3 text-sm text-white/60",children:"Processing subtitles"}):Jt.length>0?u.jsx("div",{className:"mt-3 space-y-2 text-sm",children:Jt.map(T=>u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"text-white/60",children:[Bo(Math.max(0,T.startMs+k)),"  ",Bo(Math.max(0,T.endMs+k))]}),u.jsx(ou,{cue:T,classForToken:It,onTokenClick:an,onTokenContextMenu:Or,isRtl:X})]},`${T.startMs}-${T.endMs}`))}):u.jsx("p",{className:"text-sm text-white/50",children:"Load a subtitle file to see cues."})]})})]})}const xw="./word-frequency.csv";function ww(e){const t=e.split(/\r?\n/),n=new Map;for(let r=1;r<t.length;r+=1){const i=t[r];if(!i)continue;const o=i.indexOf(","),c=(o===-1?i:i.slice(0,o)).trim().toLowerCase();!c||n.has(c)||n.set(c,r)}return n}async function bw(){const e=await fetch(xw);if(!e.ok)throw new Error("Failed to load frequency list.");const t=await e.text();return ww(t)}let lu=null;function Sw(){return lu||(lu=bw()),lu}function kw(e,t){if(!t)return null;const n=t.get(e.stem.toLowerCase());if(typeof n=="number")return n;const r=t.get(e.normalized.toLowerCase());return typeof r=="number"?r:null}function jw({word:e,frequencyRank:t,onDelete:n,visibleColumns:r}){return u.jsxs("tr",{className:"hover:bg-white/5",children:[r.word&&u.jsx("td",{className:"px-4 py-2 font-medium",children:e.original}),r.originalSentence&&u.jsx("td",{className:"px-4 py-2 text-white/70",children:e.originalSentence?u.jsx("span",{className:"block max-w-xl break-words",children:e.originalSentence}):""}),r.normalized&&u.jsx("td",{className:"px-4 py-2 text-white/70",children:e.normalized}),r.stem&&u.jsx("td",{className:"px-4 py-2 text-white/70",children:e.stem}),r.frequencyRank&&u.jsx("td",{className:"px-4 py-2 text-right text-white/70",children:typeof t=="number"?`#${t.toLocaleString()}`:"-"}),r.updatedAt&&u.jsx("td",{className:"px-4 py-2 text-right text-white/60",children:new Date(e.updatedAt).toLocaleString()}),r.actions&&u.jsx("td",{className:"px-4 py-2 text-right",children:u.jsx("button",{type:"button",className:"rounded border border-red-500/40 px-2 py-1 text-xs font-medium text-red-300 hover:bg-red-500/10",onClick:()=>{n(e.id)},children:"Delete"})})]})}function Nw(){const[e,t]=x.useState(null),[n,r]=x.useState(null),[i,o]=x.useState(!1),[c,h]=x.useState(null),[p,v]=x.useState("updatedAt"),[S,b]=x.useState("desc"),[_,U]=x.useState(!1),[z,B]=x.useState({word:!0,originalSentence:!0,normalized:!0,stem:!0,frequencyRank:!0,updatedAt:!0,actions:!0}),[q,N]=x.useState(null),g=mt(G=>G.words),k=mt(G=>G.initialized),$=mt(G=>G.initialize),J=mt(G=>G.removeWord),Q=mt(G=>G.reanalyzeStems);x.useEffect(()=>{k||$()},[k,$]),x.useEffect(()=>{let G=!1;return o(!0),h(null),Sw().then(te=>{G||N(te)}).catch(te=>{G||h(te instanceof Error?te.message:"Unable to load frequency list.")}).finally(()=>{G||o(!1)}),()=>{G=!0}},[]);const X=x.useMemo(()=>{const G=new Map;for(const te of g)G.set(te.id,kw(te,q));return G},[q,g]),ne=x.useMemo(()=>{const G=[...g],te=S==="asc"?1:-1;return G.sort((Y,ve)=>{if(p==="alphabetical")return Y.normalized.localeCompare(ve.normalized,void 0,{sensitivity:"base"})*te;if(p==="frequencyRank"){const H=X.get(Y.id),re=X.get(ve.id),oe=typeof H=="number"?H:Number.POSITIVE_INFINITY,we=typeof re=="number"?re:Number.POSITIVE_INFINITY;return oe!==we?S==="asc"?oe-we:we-oe:Y.normalized.localeCompare(ve.normalized,void 0,{sensitivity:"base"})}return(Y.updatedAt-ve.updatedAt)*te}),G},[X,S,p,g]),be=x.useCallback(async()=>{var te;const G=ne.map(Y=>Y.original).join(`
`);if(G.trim()===""){t(null),r("No words available to copy.");return}try{if((te=navigator.clipboard)!=null&&te.writeText)await navigator.clipboard.writeText(G);else{const Y=document.createElement("textarea");Y.value=G,Y.setAttribute("readonly","true"),Y.style.position="absolute",Y.style.left="-9999px",document.body.appendChild(Y),Y.select(),document.execCommand("copy"),document.body.removeChild(Y)}t(null),r(`Copied ${ne.length} word${ne.length===1?"":"s"} to the clipboard.`)}catch(Y){r(null),t(Y instanceof Error?Y.message:"Failed to copy words.")}},[ne]),ye=x.useCallback(async()=>{var te;const G=ne.map(Y=>{const ve=(Y.originalSentence??"").trim();return`${Y.original}, as in "${ve}"`}).join(`
`);if(G.trim()===""){t(null),r("No words available to copy.");return}try{if((te=navigator.clipboard)!=null&&te.writeText)await navigator.clipboard.writeText(G);else{const Y=document.createElement("textarea");Y.value=G,Y.setAttribute("readonly","true"),Y.style.position="absolute",Y.style.left="-9999px",document.body.appendChild(Y),Y.select(),document.execCommand("copy"),document.body.removeChild(Y)}t(null),r(`Copied ${ne.length} word${ne.length===1?"":"s"} with sentences.`)}catch(Y){r(null),t(Y instanceof Error?Y.message:"Failed to copy words.")}},[ne]),Ie=x.useCallback(G=>{v(G),b(G==="updatedAt"?"desc":"asc")},[]),Ue=x.useCallback(G=>{b(te=>p===G?te==="asc"?"desc":"asc":G==="updatedAt"?"desc":"asc"),v(G)},[p]),se=x.useCallback(async()=>{U(!0),t(null),r(null);try{await Q(),r("Re-analyzed stems.")}catch(G){t(G instanceof Error?G.message:"Failed to re-analyze stems.")}finally{U(!1)}},[Q]);return k?ne.length===0?u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Unknown Words"}),u.jsx("p",{className:"text-sm text-white/60",children:"Click a word in the player to add it to your learning list."}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{be()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20",children:"Copy Words"}),u.jsx("button",{type:"button",onClick:()=>{ye()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20",children:"Copy Words + Sentences"}),u.jsx("a",{href:"https://chatgpt.com/share/69110ae1-0894-8013-ab12-c4e78af73786",target:"_blank",rel:"noreferrer",className:"rounded bg-emerald-500/20 px-3 py-1 text-xs font-medium text-emerald-200 hover:bg-emerald-500/30",children:"Play with ChatGPT"}),u.jsx("button",{type:"button",onClick:()=>{se()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20 disabled:opacity-50",disabled:_,children:_?"Re-analyzing":"Re-analyze"})]}),e&&u.jsx("p",{className:"text-xs text-red-400",children:e}),n&&u.jsx("p",{className:"text-xs text-emerald-400",children:n})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Unknown Words"}),u.jsx("p",{className:"text-xs text-white/50",children:"Review your list or prune items you no longer need."})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{be()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20",children:"Copy Words"}),u.jsx("button",{type:"button",onClick:()=>{ye()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20",children:"Copy Words + Sentences"}),u.jsx("a",{href:"https://chatgpt.com/share/69112ad9-3858-8013-a13d-061dd7661a56",target:"_blank",rel:"noreferrer",className:"rounded bg-emerald-500/20 px-3 py-1 text-xs font-medium text-emerald-200 hover:bg-emerald-500/30",children:"Play with ChatGPT"}),u.jsx("button",{type:"button",onClick:()=>{se()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20 disabled:opacity-50",disabled:_,children:_?"Re-analyzing...":"Re-analyze"})]})]}),u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-xs text-white/60",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsxs("span",{children:[ne.length," items"]}),u.jsxs("label",{className:"flex items-center gap-1",children:[u.jsx("span",{children:"Sort"}),u.jsxs("select",{value:p,onChange:G=>{Ie(G.target.value)},className:"rounded border border-white/10 bg-slate-900/80 px-2 py-1 text-white hover:bg-slate-800 focus:outline-none focus-visible:outline-none",children:[u.jsx("option",{value:"updatedAt",className:"bg-slate-900 text-white",children:"Updated"}),u.jsx("option",{value:"alphabetical",className:"bg-slate-900 text-white",children:"A-Z"}),u.jsx("option",{value:"frequencyRank",className:"bg-slate-900 text-white",children:"Frequency Rank"})]})]}),u.jsx("button",{type:"button",className:"rounded border border-white/10 bg-white/5 px-2 py-1 text-white",onClick:()=>b(G=>G==="asc"?"desc":"asc"),children:S==="asc"?"Ascending":"Descending"}),u.jsxs("details",{className:"relative",children:[u.jsxs("summary",{className:"inline-flex cursor-pointer list-none items-center gap-1 rounded border border-white/10 bg-slate-900/80 px-2 py-1 text-white hover:bg-slate-800 focus:outline-none focus-visible:outline-none",children:["View",u.jsx("span",{className:"text-[10px] text-white/70",children:""})]}),u.jsx("div",{className:"absolute left-0 z-10 mt-2 w-56 rounded border border-white/10 bg-slate-900/95 p-3 text-xs text-white shadow-lg",children:[["word","Word"],["originalSentence","Original sentence"],["normalized","Normalized"],["stem","Stem"],["frequencyRank","Frequency Rank"],["updatedAt","Updated"],["actions","Actions"]].map(([G,te])=>u.jsxs("label",{className:"flex items-center gap-2 py-1",children:[u.jsx("input",{type:"checkbox",className:"h-3 w-3 rounded border-white/30 bg-slate-900",checked:z[G],onChange:()=>B(Y=>({...Y,[G]:!Y[G]}))}),u.jsx("span",{children:te})]},G))})]})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i&&u.jsx("span",{children:"Loading frequency ranks..."}),c&&u.jsx("span",{className:"text-amber-300",children:c}),e?u.jsx("span",{className:"text-red-400",children:e}):n?u.jsx("span",{className:"text-emerald-400",children:n}):null]})]}),u.jsx("div",{className:"overflow-hidden rounded-lg border border-white/10",children:u.jsxs("table",{className:"min-w-full divide-y divide-white/10",children:[u.jsx("thead",{className:"bg-white/5 text-left text-xs uppercase tracking-wide text-white/60",children:u.jsxs("tr",{children:[z.word&&u.jsx("th",{className:"px-4 py-2",children:u.jsxs("button",{type:"button",onClick:()=>Ue("alphabetical"),className:"inline-flex items-center gap-1 hover:text-white",children:["Word",p==="alphabetical"&&u.jsx("span",{className:"text-[10px] text-white/70",children:S==="asc"?"":""})]})}),z.originalSentence&&u.jsx("th",{className:"px-4 py-2",children:"Original sentence"}),z.normalized&&u.jsx("th",{className:"px-4 py-2",children:"Normalized"}),z.stem&&u.jsx("th",{className:"px-4 py-2",children:"Stem"}),z.frequencyRank&&u.jsx("th",{className:"px-4 py-2 text-right",children:u.jsxs("button",{type:"button",onClick:()=>Ue("frequencyRank"),className:"flex w-full items-center justify-end gap-1 hover:text-white",children:["Frequency Rank",p==="frequencyRank"&&u.jsx("span",{className:"text-[10px] text-white/70",children:S==="asc"?"":""})]})}),z.updatedAt&&u.jsx("th",{className:"px-4 py-2 text-right",children:u.jsxs("button",{type:"button",onClick:()=>Ue("updatedAt"),className:"flex w-full items-center justify-end gap-1 hover:text-white",children:["Updated",p==="updatedAt"&&u.jsx("span",{className:"text-[10px] text-white/70",children:S==="asc"?"":""})]})}),z.actions&&u.jsx("th",{className:"px-4 py-2 text-right",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-white/10 text-sm",children:ne.map(G=>u.jsx(jw,{word:G,frequencyRank:X.get(G.id)??null,onDelete:J,visibleColumns:z},G.id))})]})})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Unknown Words"}),u.jsx("p",{className:"text-sm text-white/60",children:"Loading your saved vocabulary..."})]})}const Cw=[0,1,2,3],Ew=[".mp4",".mkv",".mov",".avi",".m4v",".webm"],yh={minHeight:"60vh",maxHeight:"calc(100vh - 10rem)"};function Ko(e){const t=Math.max(0,Math.floor(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60).toString().padStart(2,"0"),i=(t%60).toString().padStart(2,"0");return n>0?`${n}:${r}:${i}`:`${r}:${i}`}function _w(e,t){return e.some(n=>n.isWord&&(n.normalized===t.normalized||n.stem===t.stem))}function Pw(e){return bs(e).map(t=>({...t,tokens:t.tokens??Kn(t.rawText)}))}function Tw(){const[e,t]=x.useState(null),[n,r]=x.useState(1),[i,o]=x.useState([]),[c,h]=x.useState(!1),[p,v]=x.useState(!1),[S,b]=x.useState(null),[_,U]=x.useState({}),[z,B]=x.useState(!0),[q,N]=x.useState(null),[g,k]=x.useState(null),[$,J]=x.useState(null),[Q,X]=x.useState(null),ne=x.useRef(null),be=x.useRef(new Map),ye=x.useRef(null),Ie=mt(D=>D.initialized),Ue=mt(D=>D.initialize),se=mt(D=>D.words),G=rt(D=>D.initialized),te=rt(D=>D.initialize),Y=rt(D=>D.prefs.mediaLibrary);x.useEffect(()=>{Ie||Ue()},[Ie,Ue]),x.useEffect(()=>{G||te()},[te,G]),x.useEffect(()=>{const D=new Worker(new URL(""+new URL("srtWorker-CQIlcpsu.js",import.meta.url).href,import.meta.url),{type:"module"}),Ee=ge=>{const xe=be.current.get(ge.data.id);if(xe){if(be.current.delete(ge.data.id),ge.data.error){xe.reject(new Error(ge.data.error));return}xe.resolve(ge.data.cues)}};return D.addEventListener("message",Ee),ne.current=D,()=>{D.removeEventListener("message",Ee),D.terminate(),ne.current=null;for(const[,ge]of be.current)ge.reject(new Error("Parsing cancelled"));be.current.clear()}},[]);const ve=x.useCallback(async D=>{const Ee=ne.current;if(!Ee)return Pw(D);const ge=typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2);return new Promise((xe,De)=>{be.current.set(ge,{resolve:xe,reject:De}),Ee.postMessage({id:ge,text:D})})},[]),H=x.useCallback(async()=>{if(!(Y!=null&&Y.handle))return k("Select a media library folder in Settings to enable playback."),null;try{const D=Y.handle.queryPermission,Ee=Y.handle.requestPermission;if(!D||!Ee)return Y.handle;const ge=await D.call(Y.handle,{mode:"read"});return ge==="granted"?Y.handle:ge==="denied"?(k("Folder access denied. Re-select the library and allow access."),null):await Ee.call(Y.handle,{mode:"read"})==="granted"?Y.handle:(k("Folder access denied. Re-select the library and allow access."),null)}catch(D){return k(D instanceof Error?D.message:"Unable to use media library."),null}},[Y]),re=x.useCallback(async D=>{const Ee=await H();if(!Ee)return null;const ge=D.toLowerCase(),xe=[Ee];for(;xe.length>0;){const De=xe.shift();if(!De)continue;const nt=De.values;if(nt)for await(const st of nt.call(De))if(st.kind==="file"){const wn=st.name.toLowerCase();if(Ew.some(Ut=>wn===`${ge}${Ut}`))return st}else st.kind==="directory"&&xe.push(st)}return null},[H]),oe=x.useCallback(async D=>{k(null),J("Searching for matching video");const Ee=D.file.name.replace(/\.[^.]+$/,"");try{const ge=await re(Ee);if(!ge){J(null),k("No matching video found under the selected media library.");return}const xe=await ge.getFile(),De=URL.createObjectURL(xe);N(nt=>(nt&&URL.revokeObjectURL(nt),De)),X({startMs:D.contextStartMs,endMs:D.contextEndMs}),J(`Playing ${ge.name}`),queueMicrotask(()=>{const nt=ye.current;nt&&(nt.currentTime=D.contextStartMs/1e3,nt.play())})}catch(ge){J(null),k(ge instanceof Error?ge.message:"Unable to play quote.")}},[re]),we=x.useCallback(async()=>{h(!0);try{const D=await ay();o(D)}finally{h(!1)}},[]);x.useEffect(()=>{we()},[we]),x.useEffect(()=>{let D=!1;if(i.length===0){U({});return}return(async()=>{const Ee=await Promise.all(i.map(async xe=>{const De=await Yr(xe.bytesHash);return[xe.bytesHash,De??[]]}));if(D)return;const ge={};for(const[xe,De]of Ee)ge[xe]=De;U(ge)})(),()=>{D=!0}},[i]),x.useEffect(()=>()=>{N(D=>(D&&URL.revokeObjectURL(D),null))},[]),x.useEffect(()=>{const D=ye.current;if(!D||!Q)return;const Ee=()=>{Q&&D.currentTime*1e3>=Q.endMs&&D.pause()};return D.addEventListener("timeupdate",Ee),()=>{D.removeEventListener("timeupdate",Ee)}},[Q,q]);const Ne=x.useMemo(()=>se,[se]);x.useEffect(()=>{if(Ne.length===0){t(null);return}(!e||!Ne.some(D=>D.id===e))&&t(Ne[0].id)},[Ne,e]);const ze=x.useMemo(()=>Ne.find(D=>D.id===e)??null,[Ne,e]),Nt=x.useMemo(()=>{if(!ze)return[];const D=[];for(const Ee of i){const ge=_[Ee.bytesHash]??[];ge.forEach((xe,De)=>{var Rn,Gn;const nt=xe.tokens??Kn(xe.rawText);if(!_w(nt,ze))return;const st=Math.max(0,De-n),wn=Math.min(ge.length-1,De+n),Ut=ge.slice(st,wn+1);D.push({id:`${Ee.id}:${xe.index}:${st}:${wn}`,file:Ee,focusIndex:De-st,cues:Ut,contextStartMs:((Rn=Ut[0])==null?void 0:Rn.startMs)??xe.startMs,contextEndMs:((Gn=Ut[Ut.length-1])==null?void 0:Gn.endMs)??xe.endMs})})}return D.sort((Ee,ge)=>Ee.file.name===ge.file.name?Ee.contextStartMs-ge.contextStartMs:Ee.file.name.localeCompare(ge.file.name))},[ze,i,_,n]),at=x.useCallback(D=>{t(D)},[]),ut=x.useCallback(D=>{r(Number(D.target.value))},[]),Lt=x.useCallback(async D=>{const Ee=D.target.files;if(!(!Ee||Ee.length===0)){v(!0),b(null);try{for(const ge of Array.from(Ee))try{const xe=await fc(ge);let De=await Yr(xe);if(!De){const nt=await ge.text();De=await ve(nt),await hc(xe,De)}await Hr({name:ge.name,bytesHash:xe,totalCues:De.length})}catch(xe){const De=xe instanceof Error?xe.message:"Failed to add subtitle file.";b(`Failed to process ${ge.name}: ${De}`)}await we()}finally{v(!1),D.target.value=""}}},[ve,we]),qi=x.useCallback(async D=>{await pw(D.id),U(Ee=>{const ge={...Ee};return delete ge[D.bytesHash],ge}),await we()},[we]);return u.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr,2fr]",children:[u.jsx("section",{className:"space-y-4",children:u.jsxs("div",{className:"rounded-lg bg-black/40 p-4",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Unknown words"}),Ne.length===0?u.jsx("p",{className:"mt-3 text-sm text-white/60",children:"Add words from the player to explore their quotes."}):u.jsx("div",{className:"mt-3 space-y-2 overflow-y-auto pr-1",style:{minHeight:yh.minHeight,maxHeight:yh.maxHeight},children:Ne.map(D=>u.jsx("div",{children:u.jsxs("button",{type:"button",onClick:()=>at(D.id),className:`flex w-full flex-col gap-1 rounded-lg border px-3 py-2 text-left transition focus:outline-none focus-visible:outline-none ${D.id===e?"border-emerald-500 bg-emerald-500/10 text-white":"border-white/10 bg-white/5 text-white/80 hover:border-white/20 hover:text-white"}`,children:[u.jsx("span",{className:"text-sm font-medium text-white",children:D.original}),u.jsx("div",{className:"text-xs text-white/60",children:"Tap to see contexts"})]})},D.id))})]})}),u.jsxs("section",{className:"space-y-6",children:[u.jsxs("div",{className:"rounded-lg bg-black/40 p-4",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Subtitle sources"}),u.jsx("p",{className:"text-sm text-white/60",children:"Quotes are gathered from the files listed below."})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>B(D=>!D),disabled:i.length===0,className:`rounded-md border px-3 py-2 text-xs font-medium text-white transition focus:outline-none focus-visible:outline-none ${i.length===0?"cursor-not-allowed border-white/10 bg-white/5 text-white/40":"border-white/20 bg-white/10 hover:border-white/30 hover:bg-white/20"}`,children:i.length===0?"No files yet":z?"Collapse list":`Expand list (${i.length})`}),u.jsxs("label",{className:"inline-flex cursor-pointer items-center gap-2 rounded-md border border-dashed border-white/20 bg-white/5 px-3 py-2 text-sm text-white/80 transition hover:border-white/40",children:[u.jsx("input",{type:"file",accept:".srt",multiple:!0,className:"hidden",onChange:Lt}),u.jsx("span",{className:"font-medium",children:"Add subtitles"})]})]})]}),p&&u.jsx("p",{className:"mt-3 text-xs text-white/50",children:"Processing subtitle files"}),S&&u.jsx("p",{className:"mt-2 text-xs text-red-400",children:S}),z?u.jsx("ul",{className:"mt-4 max-h-64 space-y-2 overflow-y-auto pr-1",children:c?u.jsx("li",{className:"text-sm text-white/60",children:"Loading files"}):i.length===0?u.jsx("li",{className:"text-sm text-white/60",children:"No subtitle files stored yet."}):i.map(D=>u.jsxs("li",{className:"flex items-center justify-between rounded-md border border-white/10 bg-white/5 px-3 py-2 text-sm text-white/80",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-white",children:D.name}),u.jsxs("div",{className:"text-xs text-white/50",children:[D.totalCues," cues  Added ",new Date(D.addedAt).toLocaleString()]})]}),u.jsx("button",{type:"button",onClick:()=>qi(D),className:"rounded bg-white/10 px-2 py-1 text-xs text-white transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",children:"Remove"})]},D.id))}):u.jsx("p",{className:"mt-4 text-sm text-white/70",children:c?"Loading files":i.length===0?"No subtitle files stored yet.":`${i.length} subtitle file${i.length===1?"":"s"} stored. Expand to manage them.`})]}),u.jsxs("div",{className:"rounded-lg bg-black/40 p-4",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Quote contexts"}),u.jsxs("label",{className:"flex items-center gap-2 text-sm text-white/70",children:[u.jsx("span",{children:"Context lines"}),u.jsx("select",{value:n,onChange:ut,className:"rounded-md border border-white/20 bg-white/5 px-2 py-1 focus:outline-none focus-visible:outline-none",children:Cw.map(D=>u.jsx("option",{value:D,children:D},D))})]})]}),u.jsxs("div",{className:"mt-3 space-y-2 rounded-md border border-white/10 bg-black/40 p-3 text-sm text-white/80",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[u.jsx("span",{className:"font-medium text-white",children:"Quote playback"}),$&&u.jsx("span",{className:"text-xs text-white/60",children:$})]}),q?u.jsx("video",{ref:ye,controls:!0,className:"w-full rounded border border-white/10",src:q,onLoadedMetadata:()=>{Q&&ye.current&&(ye.current.currentTime=Q.startMs/1e3)}}):u.jsx("p",{className:"text-xs text-white/60",children:"Select a media library folder in Settings to enable quote playback. Matching videos will be looked up by subtitle filename."}),Q&&u.jsxs("p",{className:"text-xs text-white/60",children:["Segment: ",Ko(Q.startMs),"  ",Ko(Q.endMs)]}),g&&u.jsx("p",{className:"text-xs text-red-400",children:g})]}),ze?Nt.length===0?u.jsx("p",{className:"mt-3 text-sm text-white/60",children:"No quotes found for this word in the stored subtitle files."}):u.jsx("ul",{className:"mt-4 space-y-4",children:Nt.map(D=>u.jsxs("li",{className:"space-y-2 rounded-md border border-white/10 bg-white/5 p-3 text-sm text-white/80",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-xs text-white/60",children:[u.jsx("span",{className:"font-medium text-white",children:D.file.name}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsxs("span",{children:[Ko(D.contextStartMs),"  ",Ko(D.contextEndMs)]}),u.jsx("button",{type:"button",onClick:()=>void oe(D),disabled:!(Y!=null&&Y.handle),className:"rounded border border-white/20 bg-white/10 px-2 py-1 text-[11px] font-medium text-white transition hover:border-white/30 hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/10 disabled:text-white/40",children:"Play quote"})]})]}),u.jsx("div",{className:"space-y-1 rounded bg-black/40 p-2",children:D.cues.map((Ee,ge)=>u.jsx("p",{className:`whitespace-pre-line ${ge===D.focusIndex?"font-semibold text-white":"text-white/80"}`,children:Ee.rawText},`${Ee.index}-${ge}`))})]},D.id))}):u.jsx("p",{className:"mt-3 text-sm text-white/60",children:"Select a word to see how it appears across your subtitles."})]})]})]})}const il="prefs";function ta(e){return{...e,mediaLibrary:void 0}}function Il(e){const{videoBlob:t,...n}=e;return n}function mr(e){return Array.isArray(e)?e:[]}function vh(e){if(typeof e!="string")return e;const t=e.trim();if(!t)return e;try{return JSON.parse(t)}catch{return e}}function gh(e){if(!e||typeof e!="object")return!1;const t=e;return Array.isArray(t.words)||Array.isArray(t.subtitleFiles)||Array.isArray(t.subtitleCues)||Array.isArray(t.sessions)||!!(t.prefs&&typeof t.prefs=="object")}function fy(e){if(!e||typeof e!="object")throw new Error("Invalid backup file.");const t=[e,e.data,e.payload,e.backup];for(const n of t){const r=vh(n);if(gh(r))return r;if(r&&typeof r=="object"&&"data"in r){const i=vh(r.data);if(gh(i))return i}}throw new Error("Invalid backup file: missing data.")}function hy(e,t,n,r,i){return{words:e.length,subtitleFiles:t.length,subtitleCues:n.length,sessions:r.length,hasPrefs:!!i}}function Ow(e){const t=fy(e),n=mr(t.words),r=mr(t.subtitleFiles),i=mr(t.subtitleCues),o=t.prefs&&typeof t.prefs=="object"?ta(t.prefs):void 0,c=mr(t.sessions).map(Il);return hy(n,r,i,c,o)}function pc(e,t){return e&&e.trim()?e:t??""}function Rw(e,t){const n=new Map,r=i=>`${i.normalized}::${i.stem}`;for(const i of e)n.set(r(i),i);for(const i of t){const o=r(i),c=n.get(o);if(!c){n.set(o,i);continue}const h=(i.updatedAt??0)>=(c.updatedAt??0),p=h?i:c,v=h?c:i,S=Math.min(c.createdAt??p.createdAt??Date.now(),i.createdAt??p.createdAt??Date.now());n.set(o,{id:c.id,original:pc(p.original,v.original),originalSentence:pc(p.originalSentence,v.originalSentence)||void 0,normalized:c.normalized||i.normalized,stem:c.stem||i.stem,createdAt:S,updatedAt:Math.max(c.updatedAt??0,i.updatedAt??0)})}return Array.from(n.values())}function Lw(e,t){const n=new Map;for(const r of e)n.set(r.bytesHash,r);for(const r of t){const i=n.get(r.bytesHash);if(!i){n.set(r.bytesHash,r);continue}const o=(r.addedAt??0)>=(i.addedAt??0),c=o?r:i,h=o?i:r;n.set(r.bytesHash,{id:i.id,name:pc(c.name,h.name),bytesHash:i.bytesHash,totalCues:Math.max(i.totalCues??0,r.totalCues??0),language:c.language??h.language,addedAt:Math.max(i.addedAt??0,r.addedAt??0)})}return Array.from(n.values())}function Iw(e,t){const n=new Map;for(const r of e)n.set(r.id,r);for(const r of t)n.set(r.id,r);return Array.from(n.values())}function Mw(e,t){if(!t)return e;const n=e??t;return ta({...n,...t,subtitleStyle:{...n.subtitleStyle,...t.subtitleStyle},highlightColors:{...n.highlightColors,...t.highlightColors}})}function Fw(e,t){const n=new Map;for(const r of e)n.set(r.id,r);for(const r of t){const i=n.get(r.id);(!i||(r.updatedAt??0)>=(i.updatedAt??0))&&n.set(r.id,r)}return Array.from(n.values())}async function Wo(e,t,n,r){if(t.length!==0)for(let i=0;i<t.length;i+=n){const o=t.slice(i,i+n);await e.bulkPut(o),r(o.length)}}async function Aw(){const[e,t,n,r,i]=await Promise.all([ke.words.toArray(),ke.subtitleFiles.toArray(),ke.subtitleCues.toArray(),ke.prefs.get(il),ke.sessions.toArray()]),o=r!=null&&r.value?ta(r.value):void 0,c=i.map(Il);return{payload:{version:1,exportedAt:new Date().toISOString(),data:{words:e,subtitleFiles:t,subtitleCues:n,prefs:o,sessions:c}},counts:{words:e.length,addedWords:0,subtitleFiles:t.length,addedSubtitleFiles:0,subtitleCues:n.length,sessions:c.length,hasPrefs:!!o}}}async function zw(e,t){const n=(ve,H)=>{var re;(re=t==null?void 0:t.onProgress)==null||re.call(t,{percent:ve,stage:H})},r=fy(e);n(2,"Opening database"),await ke.open();const i=mr(r.words),o=mr(r.subtitleFiles),c=mr(r.subtitleCues),h=r.prefs&&typeof r.prefs=="object"?ta(r.prefs):void 0,p=mr(r.sessions).map(Il),v=hy(i,o,c,p,h);n(5,"Loading existing data");const[S,b,_,U,z]=await Promise.all([ke.words.toArray(),ke.subtitleFiles.toArray(),ke.subtitleCues.toArray(),ke.prefs.get(il),ke.sessions.toArray()]),B=z.map(Il);n(25,"Merging data");const q=Rw(S,i),N=Lw(b,o),g=Iw(_,c),k=Mw(U==null?void 0:U.value,h),$=Fw(B,p);Math.max(0,q.length-S.length),Math.max(0,N.length-b.length);const J=q.length+N.length+g.length+(k?1:0)+$.length;let Q=0;const X=35,ne=95,be=(ve,H=0)=>{if(J===0){n(ne,ve);return}H>0&&(Q+=H);const re=X+Q/J*(ne-X);n(Math.min(ne,Math.max(X,re)),ve)};q.length>0&&(be("Saving words"),await Wo(ke.words,q,500,ve=>be("Saving words",ve))),N.length>0&&(be("Saving subtitle files"),await Wo(ke.subtitleFiles,N,200,ve=>be("Saving subtitle files",ve))),g.length>0&&(be("Saving subtitle cues"),await Wo(ke.subtitleCues,g,1e3,ve=>be("Saving subtitle cues",ve))),k&&(be("Saving preferences"),await ke.prefs.put({id:il,value:k,updatedAt:Date.now()}),be("Saving preferences",1)),$.length>0&&(be("Saving sessions"),await Wo(ke.sessions,$,200,ve=>be("Saving sessions",ve))),n(100,"Finalizing");const[ye,Ie,Ue,se,G]=await Promise.all([ke.words.count(),ke.subtitleFiles.count(),ke.subtitleCues.count(),ke.sessions.count(),ke.prefs.get(il)]),te=v.words>0||v.subtitleFiles>0||v.subtitleCues>0||v.sessions>0||v.hasPrefs,Y=!!(G!=null&&G.value);if(te&&ye===0&&Ie===0&&Ue===0&&se===0&&!Y)throw new Error("Import did not write any data. Check browser storage permissions and retry.");return{words:ye,addedWords:Math.max(0,ye-S.length),subtitleFiles:Ie,addedSubtitleFiles:Math.max(0,Ie-b.length),subtitleCues:Ue,sessions:se,hasPrefs:Y}}function Dw(){const e=rt(se=>se.prefs.subtitleStyle),t=rt(se=>se.prefs.highlightColors),n=rt(se=>se.prefs.mediaLibrary),r=rt(se=>se.updateSubtitleStyle),i=rt(se=>se.updateHighlightColors),o=rt(se=>se.setMediaLibrary),c=rt(se=>se.initialized),h=rt(se=>se.initialize),[p,v]=x.useState(null),[S,b]=x.useState(null),[_,U]=x.useState(null),[z,B]=x.useState(!1),[q,N]=x.useState(!1),[g,k]=x.useState(null),[$,J]=x.useState(0),Q=x.useRef(null);x.useEffect(()=>{c||h()},[c,h]),x.useEffect(()=>{if(!q){J(0);return}const se=Date.now();J(0);const G=window.setInterval(()=>{J(Math.floor((Date.now()-se)/1e3))},1e3);return()=>{window.clearInterval(G)}},[q]);const X=(se,G)=>{const te=Number(se.target.value);Number.isFinite(te)&&r({[G]:G==="lineHeight"?Number(te.toFixed(2)):te})},ne=typeof window<"u"&&"showDirectoryPicker"in window,be=async()=>{var se;if(v(null),!ne){v("Your browser does not support choosing a folder");return}try{const G=await((se=window.showDirectoryPicker)==null?void 0:se.call(window));if(!G)return;const te=G.requestPermission;if(te&&await te.call(G,{mode:"read"})==="denied"){v("Folder access was denied. Please allow access to play quotes.");return}await o({handle:G,label:G.name,lastPromptedAt:Date.now()})}catch(G){v(G instanceof Error?G.message:"Unable to pick folder.")}},ye=async()=>{v(null),await o(void 0)},Ie=async()=>{b(null),U(null),B(!0);try{const{payload:se,counts:G}=await Aw(),te=new Blob([JSON.stringify(se,null,2)],{type:"application/json"}),Y=URL.createObjectURL(te),ve=document.createElement("a");ve.href=Y,ve.download=`subtitle-word-tracker-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(ve),ve.click(),document.body.removeChild(ve),URL.revokeObjectURL(Y),U(`Exported ${G.words} word${G.words===1?"":"s"} and ${G.subtitleFiles} subtitle file${G.subtitleFiles===1?"":"s"}.`)}catch(se){U(null),b(se instanceof Error?se.message:"Unable to export data.")}finally{B(!1)}},Ue=async se=>{var te;const G=(te=se.target.files)==null?void 0:te[0];if(G){b(null),U(null),N(!0),k({percent:5,stage:"Reading file"});try{const Y=await G.text();k({percent:15,stage:"Parsing backup"});const ve=JSON.parse(Y),H=Ow(ve);k({percent:15,stage:`Parsed backup (${H.words} words, ${H.subtitleFiles} files)`});const re=await zw(ve,{onProgress:oe=>{const we=Math.min(100,Math.max(15,15+oe.percent*.85));k({percent:we,stage:oe.stage})}});rt.setState({initialized:!1}),rt.getState().initialize(),mt.setState({initialized:!1}),mt.getState().initialize(),U(`Merged data. Now storing ${re.words} word${re.words===1?"":"s"} (${re.addedWords} added) and ${re.subtitleFiles} subtitle file${re.subtitleFiles===1?"":"s"} (${re.addedSubtitleFiles} added).`)}catch(Y){U(null),b(Y instanceof Error?Y.message:"Unable to import data.")}finally{N(!1),k(null),se.target.value=""}}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("section",{className:"space-y-4",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Subtitle Appearance"}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[u.jsx("span",{className:"text-white/70",children:"Font family"}),u.jsx("input",{type:"text",value:e.fontFamily,onChange:se=>void r({fontFamily:se.target.value}),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none"})]}),u.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[u.jsx("span",{className:"text-white/70",children:"Font size (px)"}),u.jsx("input",{type:"number",min:16,max:96,value:e.fontSizePx,onChange:se=>X(se,"fontSizePx"),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none"})]}),u.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[u.jsx("span",{className:"text-white/70",children:"Second subtitle font size (px)"}),u.jsx("input",{type:"number",min:16,max:96,value:e.useMainForSecondaryFontSize?e.fontSizePx:e.secondaryFontSizePx,onChange:se=>X(se,"secondaryFontSizePx"),disabled:e.useMainForSecondaryFontSize,className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none disabled:text-white/40"})]}),u.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[u.jsx("input",{type:"checkbox",checked:e.useMainForSecondaryFontSize,onChange:se=>void r({useMainForSecondaryFontSize:se.target.checked}),className:"h-4 w-4 rounded border-white/20 bg-black/60"}),u.jsx("span",{className:"text-white/70",children:"Same as main"})]}),u.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[u.jsx("span",{className:"text-white/70",children:"Font weight"}),u.jsx("input",{type:"number",min:300,max:900,step:100,value:e.fontWeight,onChange:se=>X(se,"fontWeight"),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none"})]}),u.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[u.jsx("span",{className:"text-white/70",children:"Line height"}),u.jsx("input",{type:"number",min:1,max:2,step:.05,value:e.lineHeight,onChange:se=>X(se,"lineHeight"),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none"})]}),u.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[u.jsx("span",{className:"text-white/70",children:"Text color"}),u.jsx("input",{type:"color",value:e.color,onChange:se=>void r({color:se.target.value}),className:"h-10 w-full cursor-pointer rounded-md border border-white/10 bg-black/40"})]}),u.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[u.jsx("span",{className:"text-white/70",children:"Background"}),u.jsx("input",{type:"text",value:e.bgColor,onChange:se=>void r({bgColor:se.target.value}),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none",placeholder:"rgba(0,0,0,0.35)"})]}),u.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[u.jsx("input",{type:"checkbox",checked:e.outline,onChange:se=>void r({outline:se.target.checked}),className:"h-4 w-4 rounded border-white/20 bg-black/60"}),u.jsx("span",{className:"text-white/70",children:"Outline text"})]}),u.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[u.jsx("input",{type:"checkbox",checked:e.shadow,onChange:se=>void r({shadow:se.target.checked}),className:"h-4 w-4 rounded border-white/20 bg-black/60"}),u.jsx("span",{className:"text-white/70",children:"Drop shadow"})]})]})]}),u.jsxs("section",{className:"space-y-4",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Highlight Colors"}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[u.jsx("span",{className:"text-white/70",children:"Exact match"}),u.jsx("input",{type:"color",value:t.exact,onChange:se=>void i({exact:se.target.value}),className:"h-10 w-full cursor-pointer rounded-md border border-white/10 bg-black/40"})]}),u.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[u.jsx("span",{className:"text-white/70",children:"Variant match"}),u.jsx("input",{type:"color",value:t.variant,onChange:se=>void i({variant:se.target.value}),className:"h-10 w-full cursor-pointer rounded-md border border-white/10 bg-black/40"})]})]})]}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Media Library"}),u.jsx("p",{className:"text-sm text-white/70",children:"Pick the root folder that contains your shows/movies. This enables future quote-level playback by searching for matching video files alongside your subtitles."}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsx("button",{type:"button",onClick:be,className:"rounded-md border border-white/20 bg-white/10 px-3 py-2 text-sm font-medium text-white transition hover:border-white/30 hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/10 disabled:text-white/40",children:"Choose folder"}),u.jsx("button",{type:"button",onClick:ye,disabled:!n,className:"rounded-md border border-white/10 px-3 py-2 text-sm text-white/70 transition hover:border-white/30 hover:bg-white/10 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/5 disabled:text-white/40",children:"Clear selection"}),!ne&&u.jsx("span",{className:"text-xs text-amber-300",children:"Folder selection requires a Chromium-based browser."})]}),n?u.jsxs("p",{className:"text-sm text-white/70",children:["Selected: ",u.jsx("span",{className:"font-semibold text-white",children:n.label??"Folder"})]}):u.jsx("p",{className:"text-sm text-white/60",children:"No folder selected yet."}),p&&u.jsx("p",{className:"text-sm text-red-400",children:p})]}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Data Transfer"}),u.jsx("p",{className:"text-sm text-white/70",children:"Export a full backup of your words, subtitles database, preferences, and last session. Import merges with existing data; newer timestamps win for words and subtitle files, and prefs from the backup override local settings. Media library folder access cannot be exported; reselect it after import."}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsx("button",{type:"button",onClick:Ie,disabled:z,className:"rounded-md border border-white/20 bg-white/10 px-3 py-2 text-sm font-medium text-white transition hover:border-white/30 hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/10 disabled:text-white/40",children:z?"Exporting...":"Export everything"}),u.jsx("button",{type:"button",onClick:()=>{var se;return(se=Q.current)==null?void 0:se.click()},disabled:q,className:"rounded-md border border-white/20 bg-white/10 px-3 py-2 text-sm font-medium text-white transition hover:border-white/30 hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/10 disabled:text-white/40",children:q?"Importing...":"Import everything"}),u.jsx("input",{ref:Q,type:"file",accept:".json",className:"hidden",onChange:Ue})]}),q&&g?u.jsxs("div",{className:"mt-2 w-full",children:[u.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded bg-white/10",children:u.jsx("div",{className:"h-full bg-emerald-400 transition-all duration-300",style:{width:`${g.percent}%`}})}),u.jsxs("p",{className:"mt-1 text-xs text-white/60",children:["Importing: ",g.stage," (",Math.round(g.percent),"%, ",$,"s)"]})]}):null,S&&u.jsx("p",{className:"text-sm text-red-400",children:S}),_&&u.jsx("p",{className:"text-sm text-emerald-400",children:_})]}),u.jsxs("section",{className:"space-y-2",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Preview"}),u.jsxs("div",{className:"rounded-lg border border-white/10 bg-black/60 p-4 text-center text-lg",style:{fontFamily:e.fontFamily,fontSize:e.fontSizePx,fontWeight:e.fontWeight,lineHeight:e.lineHeight,color:e.color,textShadow:e.shadow?"0 2px 8px rgba(0,0,0,0.8)":"none",WebkitTextStroke:e.outline?"1px rgba(0,0,0,0.9)":"0",background:e.bgColor},children:["Subtitle preview with ",u.jsx("span",{style:{background:t.exact},children:"exact"})," and",u.jsx("span",{style:{background:t.variant,marginLeft:8},children:"variant"})," highlights."]})]})]})}function $w(e,t){return t===0?0:Math.round(e/t*1e3)/10}function Uw(){const e=mt(S=>S.words),t=mt(S=>S.initialize),n=mt(S=>S.initialized),[r,i]=x.useState([]),[o,c]=x.useState(!1),[h,p]=x.useState({totalTokens:0,unknownTokens:0});x.useEffect(()=>{n||t()},[t,n]),x.useEffect(()=>{let S=!1;return(async()=>{c(!0);const _=await ay();S||(i(_),c(!1))})(),()=>{S=!0}},[]),x.useEffect(()=>{let S=!1;if(r.length===0){p({totalTokens:0,unknownTokens:0});return}return(async()=>{const _=new Map,U=new Map;for(const q of e)_.set(q.normalized.toLowerCase(),q),U.set(q.stem,q);let z=0,B=0;for(const q of r){const N=await Yr(q.bytesHash);if(N)for(const g of N){const k=g.tokens??Kn(g.rawText);for(const $ of k){if(!$.isWord)continue;z+=1,(_.get($.normalized)??U.get($.stem))&&(B+=1)}}}S||p({totalTokens:z,unknownTokens:B})})(),()=>{S=!0}},[r,e]);const v=x.useMemo(()=>h.unknownTokens===0?null:Math.max(1,Math.round(h.totalTokens/h.unknownTokens)),[h.totalTokens,h.unknownTokens]);return u.jsx("div",{className:"space-y-6",children:u.jsxs("section",{className:"grid gap-4 md:grid-cols-3",children:[u.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-4",children:[u.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Unknown words saved"}),u.jsx("p",{className:"mt-2 text-2xl font-semibold text-white",children:e.length}),u.jsx("p",{className:"text-xs text-white/60",children:e.length===0?"Add words from the player to start tracking.":`Covers ${h.totalTokens.toLocaleString()} word tokens in your library.`})]}),u.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-4",children:[u.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Encounter rate"}),u.jsx("p",{className:"mt-2 text-2xl font-semibold text-white",children:v?`1 in ${v}`:""}),u.jsx("p",{className:"text-xs text-white/60",children:h.totalTokens===0?"Add subtitles to measure coverage.":`${$w(h.unknownTokens,h.totalTokens)}% of words you see are on your unknown list.`})]}),u.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-4",children:[u.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Library coverage"}),u.jsx("p",{className:"mt-2 text-2xl font-semibold text-white",children:r.length}),u.jsxs("p",{className:"text-xs text-white/60",children:["Subtitle files stored  ",o?"Loading":`${h.totalTokens.toLocaleString()} word tokens scanned`]})]})]})})}const au=64*1024,xh="https://api.opensubtitles.com/api/v1",uu="oq1XXcuCnNOnaFDKbknI2pxaQO8TiiU5",wh="Er4Y8GbS7JoCcLf9oJmjc2noj2wIsrNu",bh="UVUt5ZRVmROJD7ot9JVJY63n8RTIhxYW",Bw="ofir gaash v1.0",Sh=async(e,t,n)=>{const i=await e.slice(t,t+n).arrayBuffer();return new DataView(i)},kh=e=>{let t=0n;const n=e.byteLength-e.byteLength%8;for(let r=0;r<n;r+=8)t+=e.getBigUint64(r,!0);return t},Kw=async e=>{const t=e.size,n=await Sh(e,0,au),r=Math.max(0,t-au),i=await Sh(e,r,au);let o=BigInt(t);return o+=kh(n),o+=kh(i),o.toString(16).padStart(16,"0")},jh=e=>({"Api-Key":e.trim(),"Content-Type":"application/json","X-User-Agent":Bw}),cu=async e=>{let t="";try{t=await e.text()}catch(c){t=`Unable to read response body: ${c.message}`}const n=e.headers.get("x-kong-request-id")||e.headers.get("x-request-id")||e.headers.get("x-amzn-requestid"),r=e.headers.get("retry-after"),i=e.headers.get("content-type");return[`Status: ${e.status} ${e.statusText}`.trim(),n?`Request ID: ${n}`:null,r?`Retry-After: ${r}`:null,i?`Content-Type: ${i}`:null,t?`Body: ${t.slice(0,800)}`:null].filter(Boolean).join(`
`)},Ww={neutral:"border-white/10 bg-white/5 text-white/70",loading:"border-sky-400/40 bg-sky-400/10 text-sky-100",success:"border-emerald-400/40 bg-emerald-400/10 text-emerald-100",error:"border-rose-400/40 bg-rose-400/10 text-rose-100"};function Hw(){const[e,t]=x.useState(uu),[n,r]=x.useState(null),[i,o]=x.useState("en"),[c,h]=x.useState({summary:"",tone:"neutral"}),[p,v]=x.useState(null),[S,b]=x.useState(!1),[_,U]=x.useState(null),[z,B]=x.useState("downloads"),[q,N]=x.useState("desc"),g=x.useCallback((te,Y="neutral",ve)=>{h({summary:te,tone:Y,details:ve})},[]),k=x.useCallback(()=>e.trim()?n?!0:(g("Please choose a video file.","error"),!1):(g("Please enter your OpenSubtitles API key.","error"),!1),[e,n,g]),$=x.useCallback(()=>{v([])},[]),J=x.useCallback(async te=>{var Y;$(),g("Searching OpenSubtitles...","loading"),b(!0);try{const ve=new URL(`${xh}/subtitles`);Object.entries(te).forEach(([oe,we])=>{we&&ve.searchParams.set(oe,we)});const H=await fetch(ve,{headers:jh(e)});if(!H.ok){const oe=await cu(H);throw new Error(`Search failed.
${oe}`)}const re=await H.json();v(re.data??[]),g(`Found ${re.total_count??((Y=re.data)==null?void 0:Y.length)??0} subtitle(s).`,"success")}catch(ve){const H=ve.message||"Search failed.",[re,...oe]=H.split(`
`);g(re,"error",oe.join(`
`)),$()}finally{b(!1)}},[e,$,g]),Q=async()=>{if(!(!k()||!n)){g("Calculating video hash...","loading");try{const te=await Kw(n);await J({moviehash:te,moviehash_match:"1",languages:i})}catch(te){g(`Hash failed: ${te.message}`,"error")}}},X=async()=>{!k()||!n||await J({query:n.name,languages:i})},ne=async te=>{var ve;const Y=(ve=te.attributes.files)==null?void 0:ve[0];if(!(Y!=null&&Y.file_id)){g("This subtitle entry does not include a file id.","error");return}g("Preparing download...","loading");try{const H=await fetch(`${xh}/download`,{method:"POST",headers:jh(e),body:JSON.stringify({file_id:Y.file_id})});if(!H.ok){const oe=await cu(H);throw new Error(`Download request failed.
${oe}`)}const re=await H.json();v(oe=>(oe==null?void 0:oe.map(we=>we.id===te.id?{...we,downloadLink:re.link}:we))??[]),g("Download link ready.","success")}catch(H){const re=H.message||"Download request failed.",[oe,...we]=re.split(`
`);g(oe,"error",we.join(`
`))}},be=x.useCallback(async te=>{var ve,H;if(!te.downloadLink){g("Download link not ready yet.","error");return}const Y=((H=(ve=te.attributes.files)==null?void 0:ve[0])==null?void 0:H.file_name)??`subtitle-${te.id}.srt`;U(te.id),g(`Downloading ${Y}...`,"loading");try{const re=await fetch(te.downloadLink);if(!re.ok){const ze=await cu(re);throw new Error(`Subtitle download failed.
${ze}`)}const oe=await re.blob(),we=URL.createObjectURL(oe),Ne=document.createElement("a");Ne.href=we,Ne.download=Y,document.body.appendChild(Ne),Ne.click(),document.body.removeChild(Ne),URL.revokeObjectURL(we),g(`Downloaded ${Y}.`,"success")}catch(re){const oe=re.message||"Subtitle download failed.",[we,...Ne]=oe.split(`
`);g(we,"error",Ne.join(`
`))}finally{U(null)}},[g]),ye=Ww[c.tone],Ie=c.summary||"",Ue=x.useMemo(()=>p!==null&&p.length===0,[p]),se=x.useMemo(()=>{if(!p)return null;const te=q==="asc"?1:-1;return[...p].sort((Y,ve)=>{var oe,we,Ne,ze;const H=((we=(oe=Y.attributes.files)==null?void 0:oe[0])==null?void 0:we.file_name)??"Untitled release",re=((ze=(Ne=ve.attributes.files)==null?void 0:Ne[0])==null?void 0:ze.file_name)??"Untitled release";switch(z){case"title":return H.localeCompare(re,void 0,{sensitivity:"base"})*te;case"downloads":return((Y.attributes.download_count??0)-(ve.attributes.download_count??0))*te;case"hearingImpaired":return(Number(Y.attributes.hearing_impaired)-Number(ve.attributes.hearing_impaired))*te;default:return 0}})},[p,q,z]),G=x.useCallback(te=>{if(z===te){N(Y=>Y==="asc"?"desc":"asc");return}B(te),N("desc")},[z]);return u.jsxs("div",{className:"space-y-8",children:[u.jsxs("header",{className:"rounded-2xl border border-white/10 bg-gradient-to-br from-white/10 via-white/5 to-transparent p-6 shadow-lg",children:[u.jsx("p",{className:"text-sm uppercase tracking-[0.2em] text-white/60",children:"VLSub Web"}),u.jsx("h2",{className:"mt-3 text-3xl font-semibold text-white",children:"Find subtitles for your video, straight from your browser."}),u.jsx("p",{className:"mt-3 max-w-2xl text-sm text-white/70",children:"Select a local video file, look up subtitles by hash or filename, and download the match you want. Powered by the OpenSubtitles API."})]}),u.jsxs("section",{className:"grid gap-6 lg:grid-cols-2",children:[u.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 shadow-md",children:[u.jsx("h3",{className:"text-lg font-semibold text-white",children:"1. Connect to OpenSubtitles"}),u.jsxs("p",{className:"mt-2 text-sm text-white/60",children:["Enter your OpenSubtitles API key to search and download subtitles. You can create one at"," ",u.jsx("a",{href:"https://www.opensubtitles.com/",target:"_blank",rel:"noreferrer",className:"text-white underline decoration-white/40 underline-offset-4",children:"opensubtitles.com"}),"."]}),u.jsxs("label",{className:"mt-4 flex flex-col gap-2 text-sm text-white/70",children:[u.jsx("span",{children:"API Key"}),u.jsx("input",{id:"apiKey",type:"text",placeholder:"Paste your API key",value:e,onChange:te=>t(te.target.value),className:"rounded-lg border border-white/10 bg-white/10 px-3 py-2 text-sm text-white placeholder:text-white/40 focus:border-white/40 focus:outline-none"}),u.jsxs("div",{className:"text-xs text-white/50",children:[u.jsx("div",{className:"mt-1",children:"If running locally, use:"}),u.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-white/70",children:[u.jsx("span",{className:"rounded bg-white/10 px-2 py-1 text-xs",children:wh}),u.jsx("button",{type:"button",onClick:()=>t(wh),className:"rounded border border-white/10 px-2 py-1 text-[11px] text-white/70 transition hover:border-white/30 hover:bg-white/10",children:"Use this"})]}),u.jsx("div",{className:"mt-2",children:"If running from GitHub, use:"}),u.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-white/70",children:[u.jsx("span",{className:"rounded bg-white/10 px-2 py-1 text-xs",children:uu}),u.jsx("button",{type:"button",onClick:()=>t(uu),className:"rounded border border-white/10 px-2 py-1 text-[11px] text-white/70 transition hover:border-white/30 hover:bg-white/10",children:"Use this"})]}),u.jsx("div",{className:"mt-2",children:"Or"}),u.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-white/70",children:[u.jsx("span",{className:"rounded bg-white/10 px-2 py-1 text-xs",children:bh}),u.jsx("button",{type:"button",onClick:()=>t(bh),className:"rounded border border-white/10 px-2 py-1 text-[11px] text-white/70 transition hover:border-white/30 hover:bg-white/10",children:"Use this"})]})]})]})]}),u.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 shadow-md",children:[u.jsx("h3",{className:"text-lg font-semibold text-white",children:"2. Choose your video"}),u.jsx("p",{className:"mt-2 text-sm text-white/60",children:"We never upload your video. The hash is computed locally in your browser."}),u.jsxs("div",{className:"mt-4 flex flex-col gap-2 text-sm text-white/70",children:[u.jsx("span",{children:"Video file"}),u.jsx("input",{id:"videoFile",type:"file",accept:"video/*,.mkv,.mp4,.mov,.avi,.wmv,.flv,.webm,.m4v,.mpg,.mpeg",onChange:te=>{var ve;const Y=((ve=te.target.files)==null?void 0:ve[0])??null;r(Y),g(Y?`Selected ${Y.name}`:"","neutral")},className:"rounded-lg border border-white/10 bg-white/10 px-3 py-2 text-sm text-white file:mr-4 file:rounded-md file:border-0 file:bg-white/20 file:px-3 file:py-2 file:text-sm file:text-white hover:file:bg-white/30"})]}),u.jsxs("div",{className:"mt-4 flex flex-col gap-2 text-sm text-white/70",children:[u.jsx("span",{children:"Preferred language"}),u.jsxs("select",{id:"language",value:i,onChange:te=>o(te.target.value),className:"rounded-lg border border-white/20 bg-white px-3 py-2 text-sm text-slate-900 focus:border-white/40 focus:outline-none",children:[u.jsx("option",{value:"en",children:"English"}),u.jsx("option",{value:"he",children:"Hebrew"}),u.jsx("option",{value:"ar",children:"Arabic"}),u.jsx("option",{value:"hi",children:"Hindi"}),u.jsx("option",{value:"es",children:"Spanish"}),u.jsx("option",{value:"fr",children:"French"}),u.jsx("option",{value:"de",children:"German"}),u.jsx("option",{value:"it",children:"Italian"}),u.jsx("option",{value:"pt",children:"Portuguese"}),u.jsx("option",{value:"nl",children:"Dutch"}),u.jsx("option",{value:"pl",children:"Polish"}),u.jsx("option",{value:"sv",children:"Swedish"}),u.jsx("option",{value:"tr",children:"Turkish"}),u.jsx("option",{value:"ja",children:"Japanese"}),u.jsx("option",{value:"ko",children:"Korean"}),u.jsx("option",{value:"zh",children:"Chinese"})]})]}),u.jsxs("div",{className:"mt-5 flex flex-wrap gap-3",children:[u.jsx("button",{id:"searchHash",type:"button",onClick:Q,disabled:S,className:"rounded-full border border-white/20 bg-white/10 px-4 py-2 text-sm font-medium text-white transition hover:bg-white/20 disabled:cursor-not-allowed disabled:opacity-60",children:"Search by hash"}),u.jsx("button",{id:"searchName",type:"button",onClick:X,disabled:S,className:"rounded-full border border-white/10 px-4 py-2 text-sm font-medium text-white/70 transition hover:border-white/20 hover:bg-white/10 disabled:cursor-not-allowed disabled:opacity-60",children:"Search by filename"})]}),u.jsxs("div",{id:"status",role:"status","aria-live":"polite",className:`mt-4 rounded-xl border px-4 py-3 text-sm ${ye}`,children:[Ie,c.details?u.jsxs("details",{className:"mt-3 text-xs text-white/70",open:!0,children:[u.jsx("summary",{className:"cursor-pointer text-white/80",children:"Show details"}),u.jsx("pre",{className:"mt-2 whitespace-pre-wrap text-xs text-white/60",children:c.details})]}):null]})]})]}),u.jsxs("section",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 shadow-md",children:[u.jsx("h3",{className:"text-lg font-semibold text-white",children:"3. Download your subtitle"}),u.jsxs("div",{id:"results",className:"mt-4 space-y-4",children:[p===null?u.jsx("p",{className:"text-sm text-white/60",children:"Search results will appear here."}):null,Ue?u.jsx("p",{className:"text-sm text-white/60",children:"No subtitles found. Try another search."}):null,se&&se.length>0?u.jsx("div",{className:"overflow-hidden rounded-xl border border-white/10",children:u.jsxs("table",{className:"w-full text-left text-sm text-white/80",children:[u.jsx("thead",{className:"bg-white/10 text-xs uppercase tracking-wide text-white/60",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3",children:u.jsxs("button",{type:"button",onClick:()=>G("title"),className:"flex items-center gap-2 hover:text-white",children:["Title",z==="title"?q==="asc"?"":"":null]})}),u.jsx("th",{className:"px-4 py-3",children:u.jsxs("button",{type:"button",onClick:()=>G("downloads"),className:"flex items-center gap-2 hover:text-white",children:["Downloads",z==="downloads"?q==="asc"?"":"":null]})}),u.jsx("th",{className:"px-4 py-3",children:u.jsxs("button",{type:"button",onClick:()=>G("hearingImpaired"),className:"flex items-center gap-2 hover:text-white",children:["Hearing impaired",z==="hearingImpaired"?q==="asc"?"":"":null]})}),u.jsx("th",{className:"px-4 py-3 text-right",children:"Action"})]})}),u.jsx("tbody",{className:"divide-y divide-white/5",children:se.map(te=>{var H;const Y=(H=te.attributes.files)==null?void 0:H[0],ve=(Y==null?void 0:Y.file_name)??"Untitled release";return u.jsxs("tr",{className:"bg-white/5",children:[u.jsx("td",{className:"px-4 py-3",children:u.jsx("div",{className:"font-semibold text-white",children:ve})}),u.jsx("td",{className:"px-4 py-3 text-xs",children:te.attributes.download_count??"-"}),u.jsx("td",{className:"px-4 py-3 text-xs",children:te.attributes.hearing_impaired?"Yes":"No"}),u.jsx("td",{className:"px-4 py-3 text-right text-xs",children:te.downloadLink?u.jsx("button",{type:"button",onClick:()=>void be(te),disabled:_===te.id,className:"inline-flex min-w-[9.5rem] items-center justify-center rounded-full border border-white/20 px-3 py-1 text-xs text-white/80 transition hover:bg-white/10 disabled:cursor-not-allowed disabled:opacity-60",children:_===te.id?"Downloading...":"Download subtitle"}):u.jsx("button",{type:"button",onClick:()=>ne(te),disabled:S,className:"inline-flex min-w-[9.5rem] items-center justify-center whitespace-nowrap rounded-full border border-white/20 bg-white/10 px-3 py-1 text-xs text-white transition hover:bg-white/20 disabled:cursor-not-allowed disabled:opacity-60",children:"Get download link"})})]},te.id)})})]})}):null]})]}),u.jsx("footer",{className:"text-xs text-white/50",children:"Built from the original VLSub workflow. This demo uses the OpenSubtitles API and requires your own API key."})]})}function Vw(){return u.jsxs("div",{className:"space-y-6 text-right text-sm text-white/80",dir:"rtl",children:[u.jsxs("section",{className:"space-y-3",children:[u.jsx("p",{children:"   ."}),u.jsxs("p",{children:["  ",u.jsx("strong",{children:"  "}),"    ."]})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:" 1    / "}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsx("li",{children:"    "}),u.jsxs("li",{children:["    ",u.jsx("strong",{children:""}),"  Dolby Digital",u.jsx("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:u.jsxs("li",{children:[" ",u.jsx("strong",{children:"AAC"}),"  "]})})]}),u.jsxs("li",{children:["    :",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsx("li",{children:u.jsx("a",{href:"http://rargb.to/",target:"_blank",rel:"noreferrer",className:"text-white underline decoration-white/40 underline-offset-4",children:"http://rargb.to/"})}),u.jsx("li",{children:u.jsx("a",{href:"https://1337x.to/",target:"_blank",rel:"noreferrer",className:"text-white underline decoration-white/40 underline-offset-4",children:"https://1337x.to/"})})]})]}),u.jsx("li",{children:"         (  )"})]})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:" 2    "}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsxs("li",{children:["   ",u.jsx("strong",{children:" "})]}),u.jsxs("li",{children:["     ",u.jsx("code",{className:"rounded bg-white/10 px-1",children:"srt"})]}),u.jsx("li",{children:"         "}),u.jsxs("li",{children:[" :",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsxs("li",{children:[" ",u.jsx("a",{href:"https://opensubtitles.org",target:"_blank",rel:"noreferrer",className:"mr-1 text-white underline decoration-white/40 underline-offset-4",children:"opensubtitles.org"})]}),u.jsxs("li",{children:["  ",u.jsx("strong",{children:"Find Subs"})," ",u.jsx("blockquote",{className:"mt-2 rounded border-l-2 border-white/20 bg-white/5 px-3 py-2 text-xs text-white/60",children:" :           "})]})]})]})]})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:" 3    ( )"}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsx("li",{children:"  "}),u.jsx("li",{children:"     2"})]})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:" 4   "}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsxs("li",{children:["  ",u.jsx("strong",{children:" "})]}),u.jsxs("li",{children:["  ",u.jsx("strong",{children:" "})]}),u.jsxs("li",{children:["   ",u.jsx("strong",{children:"Player"})]})]})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:" 5    "}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsx("li",{children:"  Play"}),u.jsxs("li",{children:["   :",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsx("li",{children:"     "}),u.jsx("li",{children:"      "})]})]}),u.jsxs("li",{children:["  :",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsxs("li",{children:["    ",u.jsx("strong",{children:"Second Subtitles"})]}),u.jsxs("li",{children:["  /      ",u.jsx("strong",{children:"H"})]})]})]})]})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:" 6   Words"}),u.jsx("ul",{className:"list-disc space-y-2 pr-5",children:u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Words"})," :",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsx("li",{children:"    "}),u.jsx("li",{children:"       "}),u.jsx("li",{children:"      "})]})]})})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:" 7    ChatGPT"}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsxs("li",{children:["    :",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsx("li",{children:"      "}),u.jsx("li",{children:"   ChatGPT"})]})]}),u.jsx("li",{children:"        "}),u.jsxs("li",{children:[": ",u.jsx("strong",{children:"   ChatGPT"}),"  "]})]})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:" 8   "}),u.jsx("ul",{className:"list-disc space-y-2 pr-5",children:u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Quotes ()"}),":",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsx("li",{children:"  "}),u.jsx("li",{children:"      "}),u.jsx("li",{children:"      "})]})]})})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:" 9    '"}),u.jsx("p",{children:"   '     ."}),u.jsx("h3",{className:"text-base font-semibold text-white",children:" "}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsxs("li",{children:["     (",u.jsx("strong",{children:"H"}),")"]}),u.jsx("li",{children:"     "}),u.jsxs("li",{children:["   (",u.jsx("strong",{children:"H"}),")"]}),u.jsxs("li",{children:[":",u.jsx("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:u.jsxs("li",{children:["",u.jsx("strong",{children:"Settings"}),"       (    )"]})})]})]}),u.jsx("h3",{className:"text-base font-semibold text-white",children:"  "}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsxs("li",{children:[u.jsx("strong",{children:"F"}),"   "]}),u.jsx("li",{children:"   5   / "}),u.jsxs("li",{children:[u.jsx("strong",{children:""}),"   / "]})]})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:"  (Settings)"}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsx("li",{children:"  "}),u.jsxs("li",{children:["   :",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsxs("li",{children:["  ( ",u.jsx("code",{className:"rounded bg-white/10 px-1",children:"actor"}),") :"]}),u.jsx("li",{children:"      "}),u.jsxs("li",{children:["      (",u.jsx("code",{className:"rounded bg-white/10 px-1",children:"act"}),","," ",u.jsx("code",{className:"rounded bg-white/10 px-1",children:"acting"}),","," ",u.jsx("code",{className:"rounded bg-white/10 px-1",children:"actress"})," )"]})]})]}),u.jsxs("li",{children:[" :",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsx("li",{children:"   / "}),u.jsxs("li",{children:["  ",u.jsx("strong",{children:"Offset"})]}),u.jsx("li",{children:" Offset    "})]})]})]})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:"   Words"}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsxs("li",{children:["  ",u.jsx("strong",{children:"  "}),":",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsx("li",{children:"    "}),u.jsxs("li",{children:["   ",u.jsx("em",{children:"nice to have"})]})]})]}),u.jsxs("li",{children:["  ",u.jsx("strong",{children:"  "}),":",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsx("li",{children:"   "}),u.jsxs("li",{children:[":",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsxs("li",{children:[u.jsx("code",{className:"rounded bg-white/10 px-1",children:"wind"})," =  "]}),u.jsxs("li",{children:[u.jsx("code",{className:"rounded bg-white/10 px-1",children:"to wind up"})," =  "]}),u.jsxs("li",{children:[u.jsx("code",{className:"rounded bg-white/10 px-1",children:"corporate"}),"   "]}),u.jsxs("li",{children:[u.jsx("code",{className:"rounded bg-white/10 px-1",children:"corporate"}),"      "]})]})]})]})]})]})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:"  "}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsxs("li",{children:["  ?",u.jsxs("ol",{className:"mt-2 list-decimal space-y-1 pr-5",children:[u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Words"}),"   ",u.jsx("strong",{children:"Export JSON"})]}),u.jsxs("li",{children:["    ",u.jsx("strong",{children:"Import"})]})]})]}),u.jsxs("li",{children:["   ?",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Quotes"}),"      "]}),u.jsx("li",{children:"    "})]})]})]})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:"  Find Subtitles"}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsx("li",{children:"    API"}),u.jsxs("li",{children:["   ",u.jsx("strong",{children:"5  "}),"  "]}),u.jsx("li",{children:"      "}),u.jsxs("li",{children:[":",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsxs("li",{children:["  ",u.jsx("strong",{children:" "}),"  "]}),u.jsxs("li",{children:["  ",u.jsx("strong",{children:"Hash"})," "]})]})]})]})]})]})}const Br=({isActive:e})=>`px-3 py-2 rounded-md text-sm font-medium transition-colors ${e?"bg-white/10 text-white":"text-white/70 hover:text-white hover:bg-white/5"}`;function qw(){const e=rt(i=>i.prefs.subtitleStyle),t=rt(i=>i.prefs.highlightColors),n=rt(i=>i.initialize),r=rt(i=>i.initialized);return x.useEffect(()=>{r||n()},[r,n]),x.useEffect(()=>{const i=document.documentElement.style;i.setProperty("--subtitle-font-family",e.fontFamily),i.setProperty("--subtitle-font-size",`${e.fontSizePx}px`);const o=e.useMainForSecondaryFontSize?e.fontSizePx:e.secondaryFontSizePx;i.setProperty("--subtitle-secondary-font-size",`${o}px`),i.setProperty("--subtitle-font-weight",`${e.fontWeight}`),i.setProperty("--subtitle-color",e.color),i.setProperty("--subtitle-bg",e.bgColor),i.setProperty("--subtitle-line-height",`${e.lineHeight}`),i.setProperty("--subtitle-outline",e.outline?"1":"0"),i.setProperty("--subtitle-shadow",e.shadow?"1":"0"),i.setProperty("--highlight-exact",t.exact),i.setProperty("--highlight-variant",t.variant)},[e,t]),u.jsx("div",{className:"min-h-screen bg-background text-foreground",children:u.jsxs("div",{className:"mx-auto flex max-w-6xl flex-col gap-6 px-4 py-6",children:[u.jsxs("header",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsx("h1",{className:"text-2xl font-semibold",children:"Subtitle Word Tracker"}),u.jsxs("nav",{className:"flex gap-2",children:[u.jsx($r,{to:"/",className:Br,end:!0,children:"Player"}),u.jsx($r,{to:"/words",className:Br,children:"Words"}),u.jsx($r,{to:"/quotes",className:Br,children:"Quotes"}),u.jsx($r,{to:"/stats",className:Br,children:"Stats"}),u.jsx($r,{to:"/settings",className:Br,children:"Settings"}),u.jsx($r,{to:"/vlsub",className:Br,children:"Find Subs"}),u.jsx($r,{to:"/help",className:Br,children:"?"})]})]}),u.jsx("main",{className:"flex-1 rounded-lg border border-white/10 bg-white/5 p-6 shadow-xl backdrop-blur",children:u.jsxs(Zx,{children:[u.jsx(zn,{path:"/",element:u.jsx(mh,{})}),u.jsx(zn,{path:"/words",element:u.jsx(Nw,{})}),u.jsx(zn,{path:"/quotes",element:u.jsx(Tw,{})}),u.jsx(zn,{path:"/stats",element:u.jsx(Uw,{})}),u.jsx(zn,{path:"/settings",element:u.jsx(Dw,{})}),u.jsx(zn,{path:"/vlsub",element:u.jsx(Hw,{})}),u.jsx(zn,{path:"/help",element:u.jsx(Vw,{})}),u.jsx(zn,{path:"*",element:u.jsx(mh,{})})]})}),u.jsx("footer",{className:"text-xs text-white/40",children:"Local-first learning tool for movie subtitles."})]})})}const Qw="./",Ho=new URL(Qw,window.location.href).pathname,sl=Ho.length>1&&Ho.endsWith("/")?Ho.slice(0,-1):Ho,Nh=new URLSearchParams(window.location.search).get("path");if(Nh){const e=decodeURIComponent(Nh),t=sl==="/"?"":sl,n=e.startsWith(t)?e.slice(t.length)||"/":e;window.history.replaceState(null,"",`${sl}${n}`)}du.createRoot(document.getElementById("root")).render(u.jsx(wc.StrictMode,{children:u.jsx(l0,{basename:sl,children:u.jsx(qw,{})})}));
