var $y=Object.defineProperty;var By=(e,t,n)=>t in e?$y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ji=(e,t,n)=>By(e,typeof t!="symbol"?t+"":t,n);function Ky(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Qd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ih={exports:{}},Bl={},Ah={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lo=Symbol.for("react.element"),Wy=Symbol.for("react.portal"),Hy=Symbol.for("react.fragment"),Vy=Symbol.for("react.strict_mode"),qy=Symbol.for("react.profiler"),Qy=Symbol.for("react.provider"),Yy=Symbol.for("react.context"),Xy=Symbol.for("react.forward_ref"),Gy=Symbol.for("react.suspense"),Jy=Symbol.for("react.memo"),Zy=Symbol.for("react.lazy"),Yd=Symbol.iterator;function ev(e){return e===null||typeof e!="object"?null:(e=Yd&&e[Yd]||e["@@iterator"],typeof e=="function"?e:null)}var zh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dh=Object.assign,Uh={};function ts(e,t,n){this.props=e,this.context=t,this.refs=Uh,this.updater=n||zh}ts.prototype.isReactComponent={};ts.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ts.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $h(){}$h.prototype=ts.prototype;function kc(e,t,n){this.props=e,this.context=t,this.refs=Uh,this.updater=n||zh}var jc=kc.prototype=new $h;jc.constructor=kc;Dh(jc,ts.prototype);jc.isPureReactComponent=!0;var Xd=Array.isArray,Bh=Object.prototype.hasOwnProperty,Nc={current:null},Kh={key:!0,ref:!0,__self:!0,__source:!0};function Wh(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)Bh.call(t,r)&&!Kh.hasOwnProperty(r)&&(i[r]=t[r]);var f=arguments.length-2;if(f===1)i.children=n;else if(1<f){for(var p=Array(f),v=0;v<f;v++)p[v]=arguments[v+2];i.children=p}if(e&&e.defaultProps)for(r in f=e.defaultProps,f)i[r]===void 0&&(i[r]=f[r]);return{$$typeof:lo,type:e,key:o,ref:a,props:i,_owner:Nc.current}}function tv(e,t){return{$$typeof:lo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Cc(e){return typeof e=="object"&&e!==null&&e.$$typeof===lo}function nv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Gd=/\/+/g;function Fa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?nv(""+e.key):t.toString(36)}function el(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case lo:case Wy:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Fa(a,0):r,Xd(i)?(n="",e!=null&&(n=e.replace(Gd,"$&/")+"/"),el(i,t,n,"",function(v){return v})):i!=null&&(Cc(i)&&(i=tv(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Gd,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",Xd(e))for(var f=0;f<e.length;f++){o=e[f];var p=r+Fa(o,f);a+=el(o,t,n,p,i)}else if(p=ev(e),typeof p=="function")for(e=p.call(e),f=0;!(o=e.next()).done;)o=o.value,p=r+Fa(o,f++),a+=el(o,t,n,p,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Oo(e,t,n){if(e==null)return e;var r=[],i=0;return el(e,r,"","",function(o){return t.call(n,o,i++)}),r}function rv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ft={current:null},tl={transition:null},iv={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:tl,ReactCurrentOwner:Nc};function Hh(){throw Error("act(...) is not supported in production builds of React.")}Oe.Children={map:Oo,forEach:function(e,t,n){Oo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Oo(e,function(){t++}),t},toArray:function(e){return Oo(e,function(t){return t})||[]},only:function(e){if(!Cc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Oe.Component=ts;Oe.Fragment=Hy;Oe.Profiler=qy;Oe.PureComponent=kc;Oe.StrictMode=Vy;Oe.Suspense=Gy;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iv;Oe.act=Hh;Oe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Dh({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Nc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(p in t)Bh.call(t,p)&&!Kh.hasOwnProperty(p)&&(r[p]=t[p]===void 0&&f!==void 0?f[p]:t[p])}var p=arguments.length-2;if(p===1)r.children=n;else if(1<p){f=Array(p);for(var v=0;v<p;v++)f[v]=arguments[v+2];r.children=f}return{$$typeof:lo,type:e.type,key:i,ref:o,props:r,_owner:a}};Oe.createContext=function(e){return e={$$typeof:Yy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Qy,_context:e},e.Consumer=e};Oe.createElement=Wh;Oe.createFactory=function(e){var t=Wh.bind(null,e);return t.type=e,t};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(e){return{$$typeof:Xy,render:e}};Oe.isValidElement=Cc;Oe.lazy=function(e){return{$$typeof:Zy,_payload:{_status:-1,_result:e},_init:rv}};Oe.memo=function(e,t){return{$$typeof:Jy,type:e,compare:t===void 0?null:t}};Oe.startTransition=function(e){var t=tl.transition;tl.transition={};try{e()}finally{tl.transition=t}};Oe.unstable_act=Hh;Oe.useCallback=function(e,t){return Ft.current.useCallback(e,t)};Oe.useContext=function(e){return Ft.current.useContext(e)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(e){return Ft.current.useDeferredValue(e)};Oe.useEffect=function(e,t){return Ft.current.useEffect(e,t)};Oe.useId=function(){return Ft.current.useId()};Oe.useImperativeHandle=function(e,t,n){return Ft.current.useImperativeHandle(e,t,n)};Oe.useInsertionEffect=function(e,t){return Ft.current.useInsertionEffect(e,t)};Oe.useLayoutEffect=function(e,t){return Ft.current.useLayoutEffect(e,t)};Oe.useMemo=function(e,t){return Ft.current.useMemo(e,t)};Oe.useReducer=function(e,t,n){return Ft.current.useReducer(e,t,n)};Oe.useRef=function(e){return Ft.current.useRef(e)};Oe.useState=function(e){return Ft.current.useState(e)};Oe.useSyncExternalStore=function(e,t,n){return Ft.current.useSyncExternalStore(e,t,n)};Oe.useTransition=function(){return Ft.current.useTransition()};Oe.version="18.3.1";Ah.exports=Oe;var x=Ah.exports;const Ec=Sc(x),sv=Ky({__proto__:null,default:Ec},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov=x,lv=Symbol.for("react.element"),av=Symbol.for("react.fragment"),uv=Object.prototype.hasOwnProperty,cv=ov.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dv={key:!0,ref:!0,__self:!0,__source:!0};function Vh(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)uv.call(t,r)&&!dv.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:lv,type:e,key:o,ref:a,props:i,_owner:cv.current}}Bl.Fragment=av;Bl.jsx=Vh;Bl.jsxs=Vh;Ih.exports=Bl;var c=Ih.exports,yu={},qh={exports:{}},Zt={},Qh={exports:{}},Yh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,J){var re=H.length;H.push(J);e:for(;0<re;){var ge=re-1>>>1,Ce=H[ge];if(0<i(Ce,J))H[ge]=J,H[re]=Ce,re=ge;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var J=H[0],re=H.pop();if(re!==J){H[0]=re;e:for(var ge=0,Ce=H.length,Ue=Ce>>>1;ge<Ue;){var bt=2*(ge+1)-1,St=H[bt],it=bt+1,Kt=H[it];if(0>i(St,re))it<Ce&&0>i(Kt,St)?(H[ge]=Kt,H[it]=re,ge=it):(H[ge]=St,H[bt]=re,ge=bt);else if(it<Ce&&0>i(Kt,re))H[ge]=Kt,H[it]=re,ge=it;else break e}}return J}function i(H,J){var re=H.sortIndex-J.sortIndex;return re!==0?re:H.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,f=a.now();e.unstable_now=function(){return a.now()-f}}var p=[],v=[],S=1,b=null,_=3,$=!1,z=!1,K=!1,q=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(H){for(var J=n(v);J!==null;){if(J.callback===null)r(v);else if(J.startTime<=H)r(v),J.sortIndex=J.expirationTime,t(p,J);else break;J=n(v)}}function A(H){if(K=!1,N(H),!z)if(n(p)!==null)z=!0,Y(X);else{var J=n(v);J!==null&&we(A,J.startTime-H)}}function X(H,J){z=!1,K&&(K=!1,C(Z),Z=-1),$=!0;var re=_;try{for(N(J),b=n(p);b!==null&&(!(b.expirationTime>J)||H&&!Re());){var ge=b.callback;if(typeof ge=="function"){b.callback=null,_=b.priorityLevel;var Ce=ge(b.expirationTime<=J);J=e.unstable_now(),typeof Ce=="function"?b.callback=Ce:b===n(p)&&r(p),N(J)}else r(p);b=n(p)}if(b!==null)var Ue=!0;else{var bt=n(v);bt!==null&&we(A,bt.startTime-J),Ue=!1}return Ue}finally{b=null,_=re,$=!1}}var G=!1,Q=null,Z=-1,Ne=5,he=-1;function Re(){return!(e.unstable_now()-he<Ne)}function Ae(){if(Q!==null){var H=e.unstable_now();he=H;var J=!0;try{J=Q(!0,H)}finally{J?oe():(G=!1,Q=null)}}else G=!1}var oe;if(typeof g=="function")oe=function(){g(Ae)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,se=ne.port2;ne.port1.onmessage=Ae,oe=function(){se.postMessage(null)}}else oe=function(){q(Ae,0)};function Y(H){Q=H,G||(G=!0,oe())}function we(H,J){Z=q(function(){H(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){z||$||(z=!0,Y(X))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ne=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return n(p)},e.unstable_next=function(H){switch(_){case 1:case 2:case 3:var J=3;break;default:J=_}var re=_;_=J;try{return H()}finally{_=re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var re=_;_=H;try{return J()}finally{_=re}},e.unstable_scheduleCallback=function(H,J,re){var ge=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ge+re:ge):re=ge,H){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=re+Ce,H={id:S++,callback:J,priorityLevel:H,startTime:re,expirationTime:Ce,sortIndex:-1},re>ge?(H.sortIndex=re,t(v,H),n(p)===null&&H===n(v)&&(K?(C(Z),Z=-1):K=!0,we(A,re-ge))):(H.sortIndex=Ce,t(p,H),z||$||(z=!0,Y(X))),H},e.unstable_shouldYield=Re,e.unstable_wrapCallback=function(H){var J=_;return function(){var re=_;_=J;try{return H.apply(this,arguments)}finally{_=re}}}})(Yh);Qh.exports=Yh;var fv=Qh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv=x,Jt=fv;function ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xh=new Set,Us={};function ci(e,t){Vi(e,t),Vi(e+"Capture",t)}function Vi(e,t){for(Us[e]=t,e=0;e<t.length;e++)Xh.add(t[e])}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vu=Object.prototype.hasOwnProperty,pv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jd={},Zd={};function mv(e){return vu.call(Zd,e)?!0:vu.call(Jd,e)?!1:pv.test(e)?Zd[e]=!0:(Jd[e]=!0,!1)}function yv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vv(e,t,n,r){if(t===null||typeof t>"u"||yv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Mt(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){wt[e]=new Mt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];wt[t]=new Mt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){wt[e]=new Mt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){wt[e]=new Mt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){wt[e]=new Mt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){wt[e]=new Mt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){wt[e]=new Mt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){wt[e]=new Mt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){wt[e]=new Mt(e,5,!1,e.toLowerCase(),null,!1,!1)});var _c=/[\-:]([a-z])/g;function Pc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_c,Pc);wt[t]=new Mt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_c,Pc);wt[t]=new Mt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_c,Pc);wt[t]=new Mt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){wt[e]=new Mt(e,1,!1,e.toLowerCase(),null,!1,!1)});wt.xlinkHref=new Mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){wt[e]=new Mt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Tc(e,t,n,r){var i=wt.hasOwnProperty(t)?wt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vv(t,n,i,r)&&(n=null),r||i===null?mv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Zn=hv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lo=Symbol.for("react.element"),_i=Symbol.for("react.portal"),Pi=Symbol.for("react.fragment"),Rc=Symbol.for("react.strict_mode"),gu=Symbol.for("react.profiler"),Gh=Symbol.for("react.provider"),Jh=Symbol.for("react.context"),Oc=Symbol.for("react.forward_ref"),xu=Symbol.for("react.suspense"),wu=Symbol.for("react.suspense_list"),Lc=Symbol.for("react.memo"),dr=Symbol.for("react.lazy"),Zh=Symbol.for("react.offscreen"),ef=Symbol.iterator;function gs(e){return e===null||typeof e!="object"?null:(e=ef&&e[ef]||e["@@iterator"],typeof e=="function"?e:null)}var Ge=Object.assign,Ma;function Cs(e){if(Ma===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ma=t&&t[1]||""}return`
`+Ma+e}var Ia=!1;function Aa(e,t){if(!e||Ia)return"";Ia=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(v){var r=v}Reflect.construct(e,[],t)}else{try{t.call()}catch(v){r=v}e.call(t.prototype)}else{try{throw Error()}catch(v){r=v}e()}}catch(v){if(v&&r&&typeof v.stack=="string"){for(var i=v.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,f=o.length-1;1<=a&&0<=f&&i[a]!==o[f];)f--;for(;1<=a&&0<=f;a--,f--)if(i[a]!==o[f]){if(a!==1||f!==1)do if(a--,f--,0>f||i[a]!==o[f]){var p=`
`+i[a].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=a&&0<=f);break}}}finally{Ia=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Cs(e):""}function gv(e){switch(e.tag){case 5:return Cs(e.type);case 16:return Cs("Lazy");case 13:return Cs("Suspense");case 19:return Cs("SuspenseList");case 0:case 2:case 15:return e=Aa(e.type,!1),e;case 11:return e=Aa(e.type.render,!1),e;case 1:return e=Aa(e.type,!0),e;default:return""}}function bu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pi:return"Fragment";case _i:return"Portal";case gu:return"Profiler";case Rc:return"StrictMode";case xu:return"Suspense";case wu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Jh:return(e.displayName||"Context")+".Consumer";case Gh:return(e._context.displayName||"Context")+".Provider";case Oc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Lc:return t=e.displayName||null,t!==null?t:bu(e.type)||"Memo";case dr:t=e._payload,e=e._init;try{return bu(e(t))}catch{}}return null}function xv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bu(t);case 8:return t===Rc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _r(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ep(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wv(e){var t=ep(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fo(e){e._valueTracker||(e._valueTracker=wv(e))}function tp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ep(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function pl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Su(e,t){var n=t.checked;return Ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function tf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=_r(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function np(e,t){t=t.checked,t!=null&&Tc(e,"checked",t,!1)}function ku(e,t){np(e,t);var n=_r(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ju(e,t.type,n):t.hasOwnProperty("defaultValue")&&ju(e,t.type,_r(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function nf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ju(e,t,n){(t!=="number"||pl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Es=Array.isArray;function Ui(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_r(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Nu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ee(91));return Ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ee(92));if(Es(n)){if(1<n.length)throw Error(ee(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:_r(n)}}function rp(e,t){var n=_r(t.value),r=_r(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function sf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ip(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ip(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Mo,sp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Mo=Mo||document.createElement("div"),Mo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Mo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $s(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Rs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bv=["Webkit","ms","Moz","O"];Object.keys(Rs).forEach(function(e){bv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rs[t]=Rs[e]})});function op(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Rs.hasOwnProperty(e)&&Rs[e]?(""+t).trim():t+"px"}function lp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=op(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Sv=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Eu(e,t){if(t){if(Sv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ee(62))}}function _u(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pu=null;function Fc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tu=null,$i=null,Bi=null;function of(e){if(e=co(e)){if(typeof Tu!="function")throw Error(ee(280));var t=e.stateNode;t&&(t=ql(t),Tu(e.stateNode,e.type,t))}}function ap(e){$i?Bi?Bi.push(e):Bi=[e]:$i=e}function up(){if($i){var e=$i,t=Bi;if(Bi=$i=null,of(e),t)for(e=0;e<t.length;e++)of(t[e])}}function cp(e,t){return e(t)}function dp(){}var za=!1;function fp(e,t,n){if(za)return e(t,n);za=!0;try{return cp(e,t,n)}finally{za=!1,($i!==null||Bi!==null)&&(dp(),up())}}function Bs(e,t){var n=e.stateNode;if(n===null)return null;var r=ql(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ee(231,t,typeof n));return n}var Ru=!1;if(Yn)try{var xs={};Object.defineProperty(xs,"passive",{get:function(){Ru=!0}}),window.addEventListener("test",xs,xs),window.removeEventListener("test",xs,xs)}catch{Ru=!1}function kv(e,t,n,r,i,o,a,f,p){var v=Array.prototype.slice.call(arguments,3);try{t.apply(n,v)}catch(S){this.onError(S)}}var Os=!1,ml=null,yl=!1,Ou=null,jv={onError:function(e){Os=!0,ml=e}};function Nv(e,t,n,r,i,o,a,f,p){Os=!1,ml=null,kv.apply(jv,arguments)}function Cv(e,t,n,r,i,o,a,f,p){if(Nv.apply(this,arguments),Os){if(Os){var v=ml;Os=!1,ml=null}else throw Error(ee(198));yl||(yl=!0,Ou=v)}}function di(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function hp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lf(e){if(di(e)!==e)throw Error(ee(188))}function Ev(e){var t=e.alternate;if(!t){if(t=di(e),t===null)throw Error(ee(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return lf(i),e;if(o===r)return lf(i),t;o=o.sibling}throw Error(ee(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,f=i.child;f;){if(f===n){a=!0,n=i,r=o;break}if(f===r){a=!0,r=i,n=o;break}f=f.sibling}if(!a){for(f=o.child;f;){if(f===n){a=!0,n=o,r=i;break}if(f===r){a=!0,r=o,n=i;break}f=f.sibling}if(!a)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?e:t}function pp(e){return e=Ev(e),e!==null?mp(e):null}function mp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=mp(e);if(t!==null)return t;e=e.sibling}return null}var yp=Jt.unstable_scheduleCallback,af=Jt.unstable_cancelCallback,_v=Jt.unstable_shouldYield,Pv=Jt.unstable_requestPaint,rt=Jt.unstable_now,Tv=Jt.unstable_getCurrentPriorityLevel,Mc=Jt.unstable_ImmediatePriority,vp=Jt.unstable_UserBlockingPriority,vl=Jt.unstable_NormalPriority,Rv=Jt.unstable_LowPriority,gp=Jt.unstable_IdlePriority,Kl=null,Fn=null;function Ov(e){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(Kl,e,void 0,(e.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:Mv,Lv=Math.log,Fv=Math.LN2;function Mv(e){return e>>>=0,e===0?32:31-(Lv(e)/Fv|0)|0}var Io=64,Ao=4194304;function _s(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var f=a&~i;f!==0?r=_s(f):(o&=a,o!==0&&(r=_s(o)))}else a=n&~i,a!==0?r=_s(a):o!==0&&(r=_s(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Sn(t),i=1<<n,r|=e[n],t&=~i;return r}function Iv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Av(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Sn(o),f=1<<a,p=i[a];p===-1?(!(f&n)||f&r)&&(i[a]=Iv(f,t)):p<=t&&(e.expiredLanes|=f),o&=~f}}function Lu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xp(){var e=Io;return Io<<=1,!(Io&4194240)&&(Io=64),e}function Da(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ao(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Sn(t),e[t]=n}function zv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Sn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Ic(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Sn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var $e=0;function wp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bp,Ac,Sp,kp,jp,Fu=!1,zo=[],xr=null,wr=null,br=null,Ks=new Map,Ws=new Map,hr=[],Dv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uf(e,t){switch(e){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":Ks.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ws.delete(t.pointerId)}}function ws(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=co(t),t!==null&&Ac(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Uv(e,t,n,r,i){switch(t){case"focusin":return xr=ws(xr,e,t,n,r,i),!0;case"dragenter":return wr=ws(wr,e,t,n,r,i),!0;case"mouseover":return br=ws(br,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ks.set(o,ws(Ks.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ws.set(o,ws(Ws.get(o)||null,e,t,n,r,i)),!0}return!1}function Np(e){var t=Zr(e.target);if(t!==null){var n=di(t);if(n!==null){if(t=n.tag,t===13){if(t=hp(n),t!==null){e.blockedOn=t,jp(e.priority,function(){Sp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Mu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Pu=r,n.target.dispatchEvent(r),Pu=null}else return t=co(n),t!==null&&Ac(t),e.blockedOn=n,!1;t.shift()}return!0}function cf(e,t,n){nl(e)&&n.delete(t)}function $v(){Fu=!1,xr!==null&&nl(xr)&&(xr=null),wr!==null&&nl(wr)&&(wr=null),br!==null&&nl(br)&&(br=null),Ks.forEach(cf),Ws.forEach(cf)}function bs(e,t){e.blockedOn===t&&(e.blockedOn=null,Fu||(Fu=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,$v)))}function Hs(e){function t(i){return bs(i,e)}if(0<zo.length){bs(zo[0],e);for(var n=1;n<zo.length;n++){var r=zo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(xr!==null&&bs(xr,e),wr!==null&&bs(wr,e),br!==null&&bs(br,e),Ks.forEach(t),Ws.forEach(t),n=0;n<hr.length;n++)r=hr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<hr.length&&(n=hr[0],n.blockedOn===null);)Np(n),n.blockedOn===null&&hr.shift()}var Ki=Zn.ReactCurrentBatchConfig,xl=!0;function Bv(e,t,n,r){var i=$e,o=Ki.transition;Ki.transition=null;try{$e=1,zc(e,t,n,r)}finally{$e=i,Ki.transition=o}}function Kv(e,t,n,r){var i=$e,o=Ki.transition;Ki.transition=null;try{$e=4,zc(e,t,n,r)}finally{$e=i,Ki.transition=o}}function zc(e,t,n,r){if(xl){var i=Mu(e,t,n,r);if(i===null)Ya(e,t,r,wl,n),uf(e,r);else if(Uv(i,e,t,n,r))r.stopPropagation();else if(uf(e,r),t&4&&-1<Dv.indexOf(e)){for(;i!==null;){var o=co(i);if(o!==null&&bp(o),o=Mu(e,t,n,r),o===null&&Ya(e,t,r,wl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ya(e,t,r,null,n)}}var wl=null;function Mu(e,t,n,r){if(wl=null,e=Fc(r),e=Zr(e),e!==null)if(t=di(e),t===null)e=null;else if(n=t.tag,n===13){if(e=hp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wl=e,null}function Cp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tv()){case Mc:return 1;case vp:return 4;case vl:case Rv:return 16;case gp:return 536870912;default:return 16}default:return 16}}var mr=null,Dc=null,rl=null;function Ep(){if(rl)return rl;var e,t=Dc,n=t.length,r,i="value"in mr?mr.value:mr.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return rl=i.slice(e,1<r?1-r:void 0)}function il(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Do(){return!0}function df(){return!1}function en(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(n=e[f],this[f]=n?n(o):o[f]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Do:df,this.isPropagationStopped=df,this}return Ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Do)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Do)},persist:function(){},isPersistent:Do}),t}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uc=en(ns),uo=Ge({},ns,{view:0,detail:0}),Wv=en(uo),Ua,$a,Ss,Wl=Ge({},uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$c,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ss&&(Ss&&e.type==="mousemove"?(Ua=e.screenX-Ss.screenX,$a=e.screenY-Ss.screenY):$a=Ua=0,Ss=e),Ua)},movementY:function(e){return"movementY"in e?e.movementY:$a}}),ff=en(Wl),Hv=Ge({},Wl,{dataTransfer:0}),Vv=en(Hv),qv=Ge({},uo,{relatedTarget:0}),Ba=en(qv),Qv=Ge({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),Yv=en(Qv),Xv=Ge({},ns,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gv=en(Xv),Jv=Ge({},ns,{data:0}),hf=en(Jv),Zv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ng(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tg[e])?!!t[e]:!1}function $c(){return ng}var rg=Ge({},uo,{key:function(e){if(e.key){var t=Zv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=il(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?eg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$c,charCode:function(e){return e.type==="keypress"?il(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?il(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ig=en(rg),sg=Ge({},Wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pf=en(sg),og=Ge({},uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$c}),lg=en(og),ag=Ge({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),ug=en(ag),cg=Ge({},Wl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dg=en(cg),fg=[9,13,27,32],Bc=Yn&&"CompositionEvent"in window,Ls=null;Yn&&"documentMode"in document&&(Ls=document.documentMode);var hg=Yn&&"TextEvent"in window&&!Ls,_p=Yn&&(!Bc||Ls&&8<Ls&&11>=Ls),mf=" ",yf=!1;function Pp(e,t){switch(e){case"keyup":return fg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ti=!1;function pg(e,t){switch(e){case"compositionend":return Tp(t);case"keypress":return t.which!==32?null:(yf=!0,mf);case"textInput":return e=t.data,e===mf&&yf?null:e;default:return null}}function mg(e,t){if(Ti)return e==="compositionend"||!Bc&&Pp(e,t)?(e=Ep(),rl=Dc=mr=null,Ti=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _p&&t.locale!=="ko"?null:t.data;default:return null}}var yg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yg[e.type]:t==="textarea"}function Rp(e,t,n,r){ap(r),t=bl(t,"onChange"),0<t.length&&(n=new Uc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fs=null,Vs=null;function vg(e){Bp(e,0)}function Hl(e){var t=Li(e);if(tp(t))return e}function gg(e,t){if(e==="change")return t}var Op=!1;if(Yn){var Ka;if(Yn){var Wa="oninput"in document;if(!Wa){var gf=document.createElement("div");gf.setAttribute("oninput","return;"),Wa=typeof gf.oninput=="function"}Ka=Wa}else Ka=!1;Op=Ka&&(!document.documentMode||9<document.documentMode)}function xf(){Fs&&(Fs.detachEvent("onpropertychange",Lp),Vs=Fs=null)}function Lp(e){if(e.propertyName==="value"&&Hl(Vs)){var t=[];Rp(t,Vs,e,Fc(e)),fp(vg,t)}}function xg(e,t,n){e==="focusin"?(xf(),Fs=t,Vs=n,Fs.attachEvent("onpropertychange",Lp)):e==="focusout"&&xf()}function wg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hl(Vs)}function bg(e,t){if(e==="click")return Hl(t)}function Sg(e,t){if(e==="input"||e==="change")return Hl(t)}function kg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jn=typeof Object.is=="function"?Object.is:kg;function qs(e,t){if(jn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!vu.call(t,i)||!jn(e[i],t[i]))return!1}return!0}function wf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bf(e,t){var n=wf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wf(n)}}function Fp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Mp(){for(var e=window,t=pl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=pl(e.document)}return t}function Kc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function jg(e){var t=Mp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Fp(n.ownerDocument.documentElement,n)){if(r!==null&&Kc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=bf(n,o);var a=bf(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ng=Yn&&"documentMode"in document&&11>=document.documentMode,Ri=null,Iu=null,Ms=null,Au=!1;function Sf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Au||Ri==null||Ri!==pl(r)||(r=Ri,"selectionStart"in r&&Kc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ms&&qs(Ms,r)||(Ms=r,r=bl(Iu,"onSelect"),0<r.length&&(t=new Uc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ri)))}function Uo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Oi={animationend:Uo("Animation","AnimationEnd"),animationiteration:Uo("Animation","AnimationIteration"),animationstart:Uo("Animation","AnimationStart"),transitionend:Uo("Transition","TransitionEnd")},Ha={},Ip={};Yn&&(Ip=document.createElement("div").style,"AnimationEvent"in window||(delete Oi.animationend.animation,delete Oi.animationiteration.animation,delete Oi.animationstart.animation),"TransitionEvent"in window||delete Oi.transitionend.transition);function Vl(e){if(Ha[e])return Ha[e];if(!Oi[e])return e;var t=Oi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ip)return Ha[e]=t[n];return e}var Ap=Vl("animationend"),zp=Vl("animationiteration"),Dp=Vl("animationstart"),Up=Vl("transitionend"),$p=new Map,kf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,t){$p.set(e,t),ci(t,[e])}for(var Va=0;Va<kf.length;Va++){var qa=kf[Va],Cg=qa.toLowerCase(),Eg=qa[0].toUpperCase()+qa.slice(1);Tr(Cg,"on"+Eg)}Tr(Ap,"onAnimationEnd");Tr(zp,"onAnimationIteration");Tr(Dp,"onAnimationStart");Tr("dblclick","onDoubleClick");Tr("focusin","onFocus");Tr("focusout","onBlur");Tr(Up,"onTransitionEnd");Vi("onMouseEnter",["mouseout","mouseover"]);Vi("onMouseLeave",["mouseout","mouseover"]);Vi("onPointerEnter",["pointerout","pointerover"]);Vi("onPointerLeave",["pointerout","pointerover"]);ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ci("onBeforeInput",["compositionend","keypress","textInput","paste"]);ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_g=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ps));function jf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Cv(r,t,void 0,e),e.currentTarget=null}function Bp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var f=r[a],p=f.instance,v=f.currentTarget;if(f=f.listener,p!==o&&i.isPropagationStopped())break e;jf(i,f,v),o=p}else for(a=0;a<r.length;a++){if(f=r[a],p=f.instance,v=f.currentTarget,f=f.listener,p!==o&&i.isPropagationStopped())break e;jf(i,f,v),o=p}}}if(yl)throw e=Ou,yl=!1,Ou=null,e}function He(e,t){var n=t[Bu];n===void 0&&(n=t[Bu]=new Set);var r=e+"__bubble";n.has(r)||(Kp(t,e,2,!1),n.add(r))}function Qa(e,t,n){var r=0;t&&(r|=4),Kp(n,e,r,t)}var $o="_reactListening"+Math.random().toString(36).slice(2);function Qs(e){if(!e[$o]){e[$o]=!0,Xh.forEach(function(n){n!=="selectionchange"&&(_g.has(n)||Qa(n,!1,e),Qa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$o]||(t[$o]=!0,Qa("selectionchange",!1,t))}}function Kp(e,t,n,r){switch(Cp(t)){case 1:var i=Bv;break;case 4:i=Kv;break;default:i=zc}n=i.bind(null,t,n,e),i=void 0,!Ru||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ya(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var f=r.stateNode.containerInfo;if(f===i||f.nodeType===8&&f.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var p=a.tag;if((p===3||p===4)&&(p=a.stateNode.containerInfo,p===i||p.nodeType===8&&p.parentNode===i))return;a=a.return}for(;f!==null;){if(a=Zr(f),a===null)return;if(p=a.tag,p===5||p===6){r=o=a;continue e}f=f.parentNode}}r=r.return}fp(function(){var v=o,S=Fc(n),b=[];e:{var _=$p.get(e);if(_!==void 0){var $=Uc,z=e;switch(e){case"keypress":if(il(n)===0)break e;case"keydown":case"keyup":$=ig;break;case"focusin":z="focus",$=Ba;break;case"focusout":z="blur",$=Ba;break;case"beforeblur":case"afterblur":$=Ba;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=ff;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Vv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=lg;break;case Ap:case zp:case Dp:$=Yv;break;case Up:$=ug;break;case"scroll":$=Wv;break;case"wheel":$=dg;break;case"copy":case"cut":case"paste":$=Gv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=pf}var K=(t&4)!==0,q=!K&&e==="scroll",C=K?_!==null?_+"Capture":null:_;K=[];for(var g=v,N;g!==null;){N=g;var A=N.stateNode;if(N.tag===5&&A!==null&&(N=A,C!==null&&(A=Bs(g,C),A!=null&&K.push(Ys(g,A,N)))),q)break;g=g.return}0<K.length&&(_=new $(_,z,null,n,S),b.push({event:_,listeners:K}))}}if(!(t&7)){e:{if(_=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",_&&n!==Pu&&(z=n.relatedTarget||n.fromElement)&&(Zr(z)||z[Xn]))break e;if(($||_)&&(_=S.window===S?S:(_=S.ownerDocument)?_.defaultView||_.parentWindow:window,$?(z=n.relatedTarget||n.toElement,$=v,z=z?Zr(z):null,z!==null&&(q=di(z),z!==q||z.tag!==5&&z.tag!==6)&&(z=null)):($=null,z=v),$!==z)){if(K=ff,A="onMouseLeave",C="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(K=pf,A="onPointerLeave",C="onPointerEnter",g="pointer"),q=$==null?_:Li($),N=z==null?_:Li(z),_=new K(A,g+"leave",$,n,S),_.target=q,_.relatedTarget=N,A=null,Zr(S)===v&&(K=new K(C,g+"enter",z,n,S),K.target=N,K.relatedTarget=q,A=K),q=A,$&&z)t:{for(K=$,C=z,g=0,N=K;N;N=Ni(N))g++;for(N=0,A=C;A;A=Ni(A))N++;for(;0<g-N;)K=Ni(K),g--;for(;0<N-g;)C=Ni(C),N--;for(;g--;){if(K===C||C!==null&&K===C.alternate)break t;K=Ni(K),C=Ni(C)}K=null}else K=null;$!==null&&Nf(b,_,$,K,!1),z!==null&&q!==null&&Nf(b,q,z,K,!0)}}e:{if(_=v?Li(v):window,$=_.nodeName&&_.nodeName.toLowerCase(),$==="select"||$==="input"&&_.type==="file")var X=gg;else if(vf(_))if(Op)X=Sg;else{X=wg;var G=xg}else($=_.nodeName)&&$.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(X=bg);if(X&&(X=X(e,v))){Rp(b,X,n,S);break e}G&&G(e,_,v),e==="focusout"&&(G=_._wrapperState)&&G.controlled&&_.type==="number"&&ju(_,"number",_.value)}switch(G=v?Li(v):window,e){case"focusin":(vf(G)||G.contentEditable==="true")&&(Ri=G,Iu=v,Ms=null);break;case"focusout":Ms=Iu=Ri=null;break;case"mousedown":Au=!0;break;case"contextmenu":case"mouseup":case"dragend":Au=!1,Sf(b,n,S);break;case"selectionchange":if(Ng)break;case"keydown":case"keyup":Sf(b,n,S)}var Q;if(Bc)e:{switch(e){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else Ti?Pp(e,n)&&(Z="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Z="onCompositionStart");Z&&(_p&&n.locale!=="ko"&&(Ti||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&Ti&&(Q=Ep()):(mr=S,Dc="value"in mr?mr.value:mr.textContent,Ti=!0)),G=bl(v,Z),0<G.length&&(Z=new hf(Z,e,null,n,S),b.push({event:Z,listeners:G}),Q?Z.data=Q:(Q=Tp(n),Q!==null&&(Z.data=Q)))),(Q=hg?pg(e,n):mg(e,n))&&(v=bl(v,"onBeforeInput"),0<v.length&&(S=new hf("onBeforeInput","beforeinput",null,n,S),b.push({event:S,listeners:v}),S.data=Q))}Bp(b,t)})}function Ys(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Bs(e,n),o!=null&&r.unshift(Ys(e,o,i)),o=Bs(e,t),o!=null&&r.push(Ys(e,o,i))),e=e.return}return r}function Ni(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nf(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var f=n,p=f.alternate,v=f.stateNode;if(p!==null&&p===r)break;f.tag===5&&v!==null&&(f=v,i?(p=Bs(n,o),p!=null&&a.unshift(Ys(n,p,f))):i||(p=Bs(n,o),p!=null&&a.push(Ys(n,p,f)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Pg=/\r\n?/g,Tg=/\u0000|\uFFFD/g;function Cf(e){return(typeof e=="string"?e:""+e).replace(Pg,`
`).replace(Tg,"")}function Bo(e,t,n){if(t=Cf(t),Cf(e)!==t&&n)throw Error(ee(425))}function Sl(){}var zu=null,Du=null;function Uu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $u=typeof setTimeout=="function"?setTimeout:void 0,Rg=typeof clearTimeout=="function"?clearTimeout:void 0,Ef=typeof Promise=="function"?Promise:void 0,Og=typeof queueMicrotask=="function"?queueMicrotask:typeof Ef<"u"?function(e){return Ef.resolve(null).then(e).catch(Lg)}:$u;function Lg(e){setTimeout(function(){throw e})}function Xa(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Hs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Hs(t)}function Sr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _f(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var rs=Math.random().toString(36).slice(2),Ln="__reactFiber$"+rs,Xs="__reactProps$"+rs,Xn="__reactContainer$"+rs,Bu="__reactEvents$"+rs,Fg="__reactListeners$"+rs,Mg="__reactHandles$"+rs;function Zr(e){var t=e[Ln];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xn]||n[Ln]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_f(e);e!==null;){if(n=e[Ln])return n;e=_f(e)}return t}e=n,n=e.parentNode}return null}function co(e){return e=e[Ln]||e[Xn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Li(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ee(33))}function ql(e){return e[Xs]||null}var Ku=[],Fi=-1;function Rr(e){return{current:e}}function Ve(e){0>Fi||(e.current=Ku[Fi],Ku[Fi]=null,Fi--)}function We(e,t){Fi++,Ku[Fi]=e.current,e.current=t}var Pr={},Pt=Rr(Pr),Ut=Rr(!1),si=Pr;function qi(e,t){var n=e.type.contextTypes;if(!n)return Pr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function $t(e){return e=e.childContextTypes,e!=null}function kl(){Ve(Ut),Ve(Pt)}function Pf(e,t,n){if(Pt.current!==Pr)throw Error(ee(168));We(Pt,t),We(Ut,n)}function Wp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ee(108,xv(e)||"Unknown",i));return Ge({},n,r)}function jl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pr,si=Pt.current,We(Pt,e),We(Ut,Ut.current),!0}function Tf(e,t,n){var r=e.stateNode;if(!r)throw Error(ee(169));n?(e=Wp(e,t,si),r.__reactInternalMemoizedMergedChildContext=e,Ve(Ut),Ve(Pt),We(Pt,e)):Ve(Ut),We(Ut,n)}var Wn=null,Ql=!1,Ga=!1;function Hp(e){Wn===null?Wn=[e]:Wn.push(e)}function Ig(e){Ql=!0,Hp(e)}function Or(){if(!Ga&&Wn!==null){Ga=!0;var e=0,t=$e;try{var n=Wn;for($e=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Wn=null,Ql=!1}catch(i){throw Wn!==null&&(Wn=Wn.slice(e+1)),yp(Mc,Or),i}finally{$e=t,Ga=!1}}return null}var Mi=[],Ii=0,Nl=null,Cl=0,ln=[],an=0,oi=null,Hn=1,Vn="";function Xr(e,t){Mi[Ii++]=Cl,Mi[Ii++]=Nl,Nl=e,Cl=t}function Vp(e,t,n){ln[an++]=Hn,ln[an++]=Vn,ln[an++]=oi,oi=e;var r=Hn;e=Vn;var i=32-Sn(r)-1;r&=~(1<<i),n+=1;var o=32-Sn(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Hn=1<<32-Sn(t)+i|n<<i|r,Vn=o+e}else Hn=1<<o|n<<i|r,Vn=e}function Wc(e){e.return!==null&&(Xr(e,1),Vp(e,1,0))}function Hc(e){for(;e===Nl;)Nl=Mi[--Ii],Mi[Ii]=null,Cl=Mi[--Ii],Mi[Ii]=null;for(;e===oi;)oi=ln[--an],ln[an]=null,Vn=ln[--an],ln[an]=null,Hn=ln[--an],ln[an]=null}var Gt=null,Xt=null,qe=!1,bn=null;function qp(e,t){var n=un(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Rf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Gt=e,Xt=Sr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Gt=e,Xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=oi!==null?{id:Hn,overflow:Vn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=un(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Gt=e,Xt=null,!0):!1;default:return!1}}function Wu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hu(e){if(qe){var t=Xt;if(t){var n=t;if(!Rf(e,t)){if(Wu(e))throw Error(ee(418));t=Sr(n.nextSibling);var r=Gt;t&&Rf(e,t)?qp(r,n):(e.flags=e.flags&-4097|2,qe=!1,Gt=e)}}else{if(Wu(e))throw Error(ee(418));e.flags=e.flags&-4097|2,qe=!1,Gt=e}}}function Of(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Gt=e}function Ko(e){if(e!==Gt)return!1;if(!qe)return Of(e),qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Uu(e.type,e.memoizedProps)),t&&(t=Xt)){if(Wu(e))throw Qp(),Error(ee(418));for(;t;)qp(e,t),t=Sr(t.nextSibling)}if(Of(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Xt=Sr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Xt=null}}else Xt=Gt?Sr(e.stateNode.nextSibling):null;return!0}function Qp(){for(var e=Xt;e;)e=Sr(e.nextSibling)}function Qi(){Xt=Gt=null,qe=!1}function Vc(e){bn===null?bn=[e]:bn.push(e)}var Ag=Zn.ReactCurrentBatchConfig;function ks(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var f=i.refs;a===null?delete f[o]:f[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,e))}return e}function Wo(e,t){throw e=Object.prototype.toString.call(t),Error(ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Lf(e){var t=e._init;return t(e._payload)}function Yp(e){function t(C,g){if(e){var N=C.deletions;N===null?(C.deletions=[g],C.flags|=16):N.push(g)}}function n(C,g){if(!e)return null;for(;g!==null;)t(C,g),g=g.sibling;return null}function r(C,g){for(C=new Map;g!==null;)g.key!==null?C.set(g.key,g):C.set(g.index,g),g=g.sibling;return C}function i(C,g){return C=Cr(C,g),C.index=0,C.sibling=null,C}function o(C,g,N){return C.index=N,e?(N=C.alternate,N!==null?(N=N.index,N<g?(C.flags|=2,g):N):(C.flags|=2,g)):(C.flags|=1048576,g)}function a(C){return e&&C.alternate===null&&(C.flags|=2),C}function f(C,g,N,A){return g===null||g.tag!==6?(g=iu(N,C.mode,A),g.return=C,g):(g=i(g,N),g.return=C,g)}function p(C,g,N,A){var X=N.type;return X===Pi?S(C,g,N.props.children,A,N.key):g!==null&&(g.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===dr&&Lf(X)===g.type)?(A=i(g,N.props),A.ref=ks(C,g,N),A.return=C,A):(A=dl(N.type,N.key,N.props,null,C.mode,A),A.ref=ks(C,g,N),A.return=C,A)}function v(C,g,N,A){return g===null||g.tag!==4||g.stateNode.containerInfo!==N.containerInfo||g.stateNode.implementation!==N.implementation?(g=su(N,C.mode,A),g.return=C,g):(g=i(g,N.children||[]),g.return=C,g)}function S(C,g,N,A,X){return g===null||g.tag!==7?(g=ii(N,C.mode,A,X),g.return=C,g):(g=i(g,N),g.return=C,g)}function b(C,g,N){if(typeof g=="string"&&g!==""||typeof g=="number")return g=iu(""+g,C.mode,N),g.return=C,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Lo:return N=dl(g.type,g.key,g.props,null,C.mode,N),N.ref=ks(C,null,g),N.return=C,N;case _i:return g=su(g,C.mode,N),g.return=C,g;case dr:var A=g._init;return b(C,A(g._payload),N)}if(Es(g)||gs(g))return g=ii(g,C.mode,N,null),g.return=C,g;Wo(C,g)}return null}function _(C,g,N,A){var X=g!==null?g.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return X!==null?null:f(C,g,""+N,A);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Lo:return N.key===X?p(C,g,N,A):null;case _i:return N.key===X?v(C,g,N,A):null;case dr:return X=N._init,_(C,g,X(N._payload),A)}if(Es(N)||gs(N))return X!==null?null:S(C,g,N,A,null);Wo(C,N)}return null}function $(C,g,N,A,X){if(typeof A=="string"&&A!==""||typeof A=="number")return C=C.get(N)||null,f(g,C,""+A,X);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Lo:return C=C.get(A.key===null?N:A.key)||null,p(g,C,A,X);case _i:return C=C.get(A.key===null?N:A.key)||null,v(g,C,A,X);case dr:var G=A._init;return $(C,g,N,G(A._payload),X)}if(Es(A)||gs(A))return C=C.get(N)||null,S(g,C,A,X,null);Wo(g,A)}return null}function z(C,g,N,A){for(var X=null,G=null,Q=g,Z=g=0,Ne=null;Q!==null&&Z<N.length;Z++){Q.index>Z?(Ne=Q,Q=null):Ne=Q.sibling;var he=_(C,Q,N[Z],A);if(he===null){Q===null&&(Q=Ne);break}e&&Q&&he.alternate===null&&t(C,Q),g=o(he,g,Z),G===null?X=he:G.sibling=he,G=he,Q=Ne}if(Z===N.length)return n(C,Q),qe&&Xr(C,Z),X;if(Q===null){for(;Z<N.length;Z++)Q=b(C,N[Z],A),Q!==null&&(g=o(Q,g,Z),G===null?X=Q:G.sibling=Q,G=Q);return qe&&Xr(C,Z),X}for(Q=r(C,Q);Z<N.length;Z++)Ne=$(Q,C,Z,N[Z],A),Ne!==null&&(e&&Ne.alternate!==null&&Q.delete(Ne.key===null?Z:Ne.key),g=o(Ne,g,Z),G===null?X=Ne:G.sibling=Ne,G=Ne);return e&&Q.forEach(function(Re){return t(C,Re)}),qe&&Xr(C,Z),X}function K(C,g,N,A){var X=gs(N);if(typeof X!="function")throw Error(ee(150));if(N=X.call(N),N==null)throw Error(ee(151));for(var G=X=null,Q=g,Z=g=0,Ne=null,he=N.next();Q!==null&&!he.done;Z++,he=N.next()){Q.index>Z?(Ne=Q,Q=null):Ne=Q.sibling;var Re=_(C,Q,he.value,A);if(Re===null){Q===null&&(Q=Ne);break}e&&Q&&Re.alternate===null&&t(C,Q),g=o(Re,g,Z),G===null?X=Re:G.sibling=Re,G=Re,Q=Ne}if(he.done)return n(C,Q),qe&&Xr(C,Z),X;if(Q===null){for(;!he.done;Z++,he=N.next())he=b(C,he.value,A),he!==null&&(g=o(he,g,Z),G===null?X=he:G.sibling=he,G=he);return qe&&Xr(C,Z),X}for(Q=r(C,Q);!he.done;Z++,he=N.next())he=$(Q,C,Z,he.value,A),he!==null&&(e&&he.alternate!==null&&Q.delete(he.key===null?Z:he.key),g=o(he,g,Z),G===null?X=he:G.sibling=he,G=he);return e&&Q.forEach(function(Ae){return t(C,Ae)}),qe&&Xr(C,Z),X}function q(C,g,N,A){if(typeof N=="object"&&N!==null&&N.type===Pi&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Lo:e:{for(var X=N.key,G=g;G!==null;){if(G.key===X){if(X=N.type,X===Pi){if(G.tag===7){n(C,G.sibling),g=i(G,N.props.children),g.return=C,C=g;break e}}else if(G.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===dr&&Lf(X)===G.type){n(C,G.sibling),g=i(G,N.props),g.ref=ks(C,G,N),g.return=C,C=g;break e}n(C,G);break}else t(C,G);G=G.sibling}N.type===Pi?(g=ii(N.props.children,C.mode,A,N.key),g.return=C,C=g):(A=dl(N.type,N.key,N.props,null,C.mode,A),A.ref=ks(C,g,N),A.return=C,C=A)}return a(C);case _i:e:{for(G=N.key;g!==null;){if(g.key===G)if(g.tag===4&&g.stateNode.containerInfo===N.containerInfo&&g.stateNode.implementation===N.implementation){n(C,g.sibling),g=i(g,N.children||[]),g.return=C,C=g;break e}else{n(C,g);break}else t(C,g);g=g.sibling}g=su(N,C.mode,A),g.return=C,C=g}return a(C);case dr:return G=N._init,q(C,g,G(N._payload),A)}if(Es(N))return z(C,g,N,A);if(gs(N))return K(C,g,N,A);Wo(C,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,g!==null&&g.tag===6?(n(C,g.sibling),g=i(g,N),g.return=C,C=g):(n(C,g),g=iu(N,C.mode,A),g.return=C,C=g),a(C)):n(C,g)}return q}var Yi=Yp(!0),Xp=Yp(!1),El=Rr(null),_l=null,Ai=null,qc=null;function Qc(){qc=Ai=_l=null}function Yc(e){var t=El.current;Ve(El),e._currentValue=t}function Vu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Wi(e,t){_l=e,qc=Ai=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Dt=!0),e.firstContext=null)}function dn(e){var t=e._currentValue;if(qc!==e)if(e={context:e,memoizedValue:t,next:null},Ai===null){if(_l===null)throw Error(ee(308));Ai=e,_l.dependencies={lanes:0,firstContext:e}}else Ai=Ai.next=e;return t}var ei=null;function Xc(e){ei===null?ei=[e]:ei.push(e)}function Gp(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Xc(t)):(n.next=i.next,i.next=n),t.interleaved=n,Gn(e,r)}function Gn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var fr=!1;function Gc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function kr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Me&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Gn(e,n)}return i=r.interleaved,i===null?(t.next=t,Xc(r)):(t.next=i.next,i.next=t),r.interleaved=t,Gn(e,n)}function sl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ic(e,n)}}function Ff(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Pl(e,t,n,r){var i=e.updateQueue;fr=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,f=i.shared.pending;if(f!==null){i.shared.pending=null;var p=f,v=p.next;p.next=null,a===null?o=v:a.next=v,a=p;var S=e.alternate;S!==null&&(S=S.updateQueue,f=S.lastBaseUpdate,f!==a&&(f===null?S.firstBaseUpdate=v:f.next=v,S.lastBaseUpdate=p))}if(o!==null){var b=i.baseState;a=0,S=v=p=null,f=o;do{var _=f.lane,$=f.eventTime;if((r&_)===_){S!==null&&(S=S.next={eventTime:$,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var z=e,K=f;switch(_=t,$=n,K.tag){case 1:if(z=K.payload,typeof z=="function"){b=z.call($,b,_);break e}b=z;break e;case 3:z.flags=z.flags&-65537|128;case 0:if(z=K.payload,_=typeof z=="function"?z.call($,b,_):z,_==null)break e;b=Ge({},b,_);break e;case 2:fr=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,_=i.effects,_===null?i.effects=[f]:_.push(f))}else $={eventTime:$,lane:_,tag:f.tag,payload:f.payload,callback:f.callback,next:null},S===null?(v=S=$,p=b):S=S.next=$,a|=_;if(f=f.next,f===null){if(f=i.shared.pending,f===null)break;_=f,f=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(!0);if(S===null&&(p=b),i.baseState=p,i.firstBaseUpdate=v,i.lastBaseUpdate=S,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);ai|=a,e.lanes=a,e.memoizedState=b}}function Mf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ee(191,i));i.call(r)}}}var fo={},Mn=Rr(fo),Gs=Rr(fo),Js=Rr(fo);function ti(e){if(e===fo)throw Error(ee(174));return e}function Jc(e,t){switch(We(Js,t),We(Gs,e),We(Mn,fo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Cu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Cu(t,e)}Ve(Mn),We(Mn,t)}function Xi(){Ve(Mn),Ve(Gs),Ve(Js)}function Zp(e){ti(Js.current);var t=ti(Mn.current),n=Cu(t,e.type);t!==n&&(We(Gs,e),We(Mn,n))}function Zc(e){Gs.current===e&&(Ve(Mn),Ve(Gs))}var Ye=Rr(0);function Tl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ja=[];function ed(){for(var e=0;e<Ja.length;e++)Ja[e]._workInProgressVersionPrimary=null;Ja.length=0}var ol=Zn.ReactCurrentDispatcher,Za=Zn.ReactCurrentBatchConfig,li=0,Xe=null,ut=null,ht=null,Rl=!1,Is=!1,Zs=0,zg=0;function Ct(){throw Error(ee(321))}function td(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jn(e[n],t[n]))return!1;return!0}function nd(e,t,n,r,i,o){if(li=o,Xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ol.current=e===null||e.memoizedState===null?Bg:Kg,e=n(r,i),Is){o=0;do{if(Is=!1,Zs=0,25<=o)throw Error(ee(301));o+=1,ht=ut=null,t.updateQueue=null,ol.current=Wg,e=n(r,i)}while(Is)}if(ol.current=Ol,t=ut!==null&&ut.next!==null,li=0,ht=ut=Xe=null,Rl=!1,t)throw Error(ee(300));return e}function rd(){var e=Zs!==0;return Zs=0,e}function On(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Xe.memoizedState=ht=e:ht=ht.next=e,ht}function fn(){if(ut===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=ut.next;var t=ht===null?Xe.memoizedState:ht.next;if(t!==null)ht=t,ut=e;else{if(e===null)throw Error(ee(310));ut=e,e={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},ht===null?Xe.memoizedState=ht=e:ht=ht.next=e}return ht}function eo(e,t){return typeof t=="function"?t(e):t}function eu(e){var t=fn(),n=t.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=e;var r=ut,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var f=a=null,p=null,v=o;do{var S=v.lane;if((li&S)===S)p!==null&&(p=p.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),r=v.hasEagerState?v.eagerState:e(r,v.action);else{var b={lane:S,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};p===null?(f=p=b,a=r):p=p.next=b,Xe.lanes|=S,ai|=S}v=v.next}while(v!==null&&v!==o);p===null?a=r:p.next=f,jn(r,t.memoizedState)||(Dt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=p,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Xe.lanes|=o,ai|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function tu(e){var t=fn(),n=t.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);jn(o,t.memoizedState)||(Dt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function em(){}function tm(e,t){var n=Xe,r=fn(),i=t(),o=!jn(r.memoizedState,i);if(o&&(r.memoizedState=i,Dt=!0),r=r.queue,id(im.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,to(9,rm.bind(null,n,r,i,t),void 0,null),pt===null)throw Error(ee(349));li&30||nm(n,t,i)}return i}function nm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function rm(e,t,n,r){t.value=n,t.getSnapshot=r,sm(t)&&om(e)}function im(e,t,n){return n(function(){sm(t)&&om(e)})}function sm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jn(e,n)}catch{return!0}}function om(e){var t=Gn(e,1);t!==null&&kn(t,e,1,-1)}function If(e){var t=On();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eo,lastRenderedState:e},t.queue=e,e=e.dispatch=$g.bind(null,Xe,e),[t.memoizedState,e]}function to(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function lm(){return fn().memoizedState}function ll(e,t,n,r){var i=On();Xe.flags|=e,i.memoizedState=to(1|t,n,void 0,r===void 0?null:r)}function Yl(e,t,n,r){var i=fn();r=r===void 0?null:r;var o=void 0;if(ut!==null){var a=ut.memoizedState;if(o=a.destroy,r!==null&&td(r,a.deps)){i.memoizedState=to(t,n,o,r);return}}Xe.flags|=e,i.memoizedState=to(1|t,n,o,r)}function Af(e,t){return ll(8390656,8,e,t)}function id(e,t){return Yl(2048,8,e,t)}function am(e,t){return Yl(4,2,e,t)}function um(e,t){return Yl(4,4,e,t)}function cm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function dm(e,t,n){return n=n!=null?n.concat([e]):null,Yl(4,4,cm.bind(null,t,e),n)}function sd(){}function fm(e,t){var n=fn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&td(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function hm(e,t){var n=fn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&td(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function pm(e,t,n){return li&21?(jn(n,t)||(n=xp(),Xe.lanes|=n,ai|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Dt=!0),e.memoizedState=n)}function Dg(e,t){var n=$e;$e=n!==0&&4>n?n:4,e(!0);var r=Za.transition;Za.transition={};try{e(!1),t()}finally{$e=n,Za.transition=r}}function mm(){return fn().memoizedState}function Ug(e,t,n){var r=Nr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ym(e))vm(t,n);else if(n=Gp(e,t,n,r),n!==null){var i=Lt();kn(n,e,r,i),gm(n,t,r)}}function $g(e,t,n){var r=Nr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ym(e))vm(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,f=o(a,n);if(i.hasEagerState=!0,i.eagerState=f,jn(f,a)){var p=t.interleaved;p===null?(i.next=i,Xc(t)):(i.next=p.next,p.next=i),t.interleaved=i;return}}catch{}finally{}n=Gp(e,t,i,r),n!==null&&(i=Lt(),kn(n,e,r,i),gm(n,t,r))}}function ym(e){var t=e.alternate;return e===Xe||t!==null&&t===Xe}function vm(e,t){Is=Rl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function gm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ic(e,n)}}var Ol={readContext:dn,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},Bg={readContext:dn,useCallback:function(e,t){return On().memoizedState=[e,t===void 0?null:t],e},useContext:dn,useEffect:Af,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ll(4194308,4,cm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ll(4194308,4,e,t)},useInsertionEffect:function(e,t){return ll(4,2,e,t)},useMemo:function(e,t){var n=On();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=On();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ug.bind(null,Xe,e),[r.memoizedState,e]},useRef:function(e){var t=On();return e={current:e},t.memoizedState=e},useState:If,useDebugValue:sd,useDeferredValue:function(e){return On().memoizedState=e},useTransition:function(){var e=If(!1),t=e[0];return e=Dg.bind(null,e[1]),On().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Xe,i=On();if(qe){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=t(),pt===null)throw Error(ee(349));li&30||nm(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Af(im.bind(null,r,o,e),[e]),r.flags|=2048,to(9,rm.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=On(),t=pt.identifierPrefix;if(qe){var n=Vn,r=Hn;n=(r&~(1<<32-Sn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Zs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=zg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Kg={readContext:dn,useCallback:fm,useContext:dn,useEffect:id,useImperativeHandle:dm,useInsertionEffect:am,useLayoutEffect:um,useMemo:hm,useReducer:eu,useRef:lm,useState:function(){return eu(eo)},useDebugValue:sd,useDeferredValue:function(e){var t=fn();return pm(t,ut.memoizedState,e)},useTransition:function(){var e=eu(eo)[0],t=fn().memoizedState;return[e,t]},useMutableSource:em,useSyncExternalStore:tm,useId:mm,unstable_isNewReconciler:!1},Wg={readContext:dn,useCallback:fm,useContext:dn,useEffect:id,useImperativeHandle:dm,useInsertionEffect:am,useLayoutEffect:um,useMemo:hm,useReducer:tu,useRef:lm,useState:function(){return tu(eo)},useDebugValue:sd,useDeferredValue:function(e){var t=fn();return ut===null?t.memoizedState=e:pm(t,ut.memoizedState,e)},useTransition:function(){var e=tu(eo)[0],t=fn().memoizedState;return[e,t]},useMutableSource:em,useSyncExternalStore:tm,useId:mm,unstable_isNewReconciler:!1};function xn(e,t){if(e&&e.defaultProps){t=Ge({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function qu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xl={isMounted:function(e){return(e=e._reactInternals)?di(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Lt(),i=Nr(e),o=Qn(r,i);o.payload=t,n!=null&&(o.callback=n),t=kr(e,o,i),t!==null&&(kn(t,e,i,r),sl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Lt(),i=Nr(e),o=Qn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=kr(e,o,i),t!==null&&(kn(t,e,i,r),sl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Lt(),r=Nr(e),i=Qn(n,r);i.tag=2,t!=null&&(i.callback=t),t=kr(e,i,r),t!==null&&(kn(t,e,r,n),sl(t,e,r))}};function zf(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!qs(n,r)||!qs(i,o):!0}function xm(e,t,n){var r=!1,i=Pr,o=t.contextType;return typeof o=="object"&&o!==null?o=dn(o):(i=$t(t)?si:Pt.current,r=t.contextTypes,o=(r=r!=null)?qi(e,i):Pr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Df(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Xl.enqueueReplaceState(t,t.state,null)}function Qu(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Gc(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=dn(o):(o=$t(t)?si:Pt.current,i.context=qi(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(qu(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Xl.enqueueReplaceState(i,i.state,null),Pl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Gi(e,t){try{var n="",r=t;do n+=gv(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function nu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Yu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Hg=typeof WeakMap=="function"?WeakMap:Map;function wm(e,t,n){n=Qn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Fl||(Fl=!0,sc=r),Yu(e,t)},n}function bm(e,t,n){n=Qn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Yu(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Yu(e,t),typeof r!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Uf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Hg;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=sx.bind(null,e,t,n),t.then(e,e))}function $f(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Bf(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Qn(-1,1),t.tag=2,kr(n,t,1))),n.lanes|=1),e)}var Vg=Zn.ReactCurrentOwner,Dt=!1;function Ot(e,t,n,r){t.child=e===null?Xp(t,null,n,r):Yi(t,e.child,n,r)}function Kf(e,t,n,r,i){n=n.render;var o=t.ref;return Wi(t,i),r=nd(e,t,n,r,o,i),n=rd(),e!==null&&!Dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Jn(e,t,i)):(qe&&n&&Wc(t),t.flags|=1,Ot(e,t,r,i),t.child)}function Wf(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!hd(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Sm(e,t,o,r,i)):(e=dl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:qs,n(a,r)&&e.ref===t.ref)return Jn(e,t,i)}return t.flags|=1,e=Cr(o,r),e.ref=t.ref,e.return=t,t.child=e}function Sm(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(qs(o,r)&&e.ref===t.ref)if(Dt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Dt=!0);else return t.lanes=e.lanes,Jn(e,t,i)}return Xu(e,t,n,r,i)}function km(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Di,Yt),Yt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,We(Di,Yt),Yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,We(Di,Yt),Yt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,We(Di,Yt),Yt|=r;return Ot(e,t,i,n),t.child}function jm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Xu(e,t,n,r,i){var o=$t(n)?si:Pt.current;return o=qi(t,o),Wi(t,i),n=nd(e,t,n,r,o,i),r=rd(),e!==null&&!Dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Jn(e,t,i)):(qe&&r&&Wc(t),t.flags|=1,Ot(e,t,n,i),t.child)}function Hf(e,t,n,r,i){if($t(n)){var o=!0;jl(t)}else o=!1;if(Wi(t,i),t.stateNode===null)al(e,t),xm(t,n,r),Qu(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,f=t.memoizedProps;a.props=f;var p=a.context,v=n.contextType;typeof v=="object"&&v!==null?v=dn(v):(v=$t(n)?si:Pt.current,v=qi(t,v));var S=n.getDerivedStateFromProps,b=typeof S=="function"||typeof a.getSnapshotBeforeUpdate=="function";b||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(f!==r||p!==v)&&Df(t,a,r,v),fr=!1;var _=t.memoizedState;a.state=_,Pl(t,r,a,i),p=t.memoizedState,f!==r||_!==p||Ut.current||fr?(typeof S=="function"&&(qu(t,n,S,r),p=t.memoizedState),(f=fr||zf(t,n,f,r,_,p,v))?(b||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=v,r=f):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Jp(e,t),f=t.memoizedProps,v=t.type===t.elementType?f:xn(t.type,f),a.props=v,b=t.pendingProps,_=a.context,p=n.contextType,typeof p=="object"&&p!==null?p=dn(p):(p=$t(n)?si:Pt.current,p=qi(t,p));var $=n.getDerivedStateFromProps;(S=typeof $=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(f!==b||_!==p)&&Df(t,a,r,p),fr=!1,_=t.memoizedState,a.state=_,Pl(t,r,a,i);var z=t.memoizedState;f!==b||_!==z||Ut.current||fr?(typeof $=="function"&&(qu(t,n,$,r),z=t.memoizedState),(v=fr||zf(t,n,v,r,_,z,p)||!1)?(S||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,z,p),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,z,p)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||f===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=z),a.props=r,a.state=z,a.context=p,r=v):(typeof a.componentDidUpdate!="function"||f===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),r=!1)}return Gu(e,t,n,r,o,i)}function Gu(e,t,n,r,i,o){jm(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&Tf(t,n,!1),Jn(e,t,o);r=t.stateNode,Vg.current=t;var f=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Yi(t,e.child,null,o),t.child=Yi(t,null,f,o)):Ot(e,t,f,o),t.memoizedState=r.state,i&&Tf(t,n,!0),t.child}function Nm(e){var t=e.stateNode;t.pendingContext?Pf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pf(e,t.context,!1),Jc(e,t.containerInfo)}function Vf(e,t,n,r,i){return Qi(),Vc(i),t.flags|=256,Ot(e,t,n,r),t.child}var Ju={dehydrated:null,treeContext:null,retryLane:0};function Zu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Cm(e,t,n){var r=t.pendingProps,i=Ye.current,o=!1,a=(t.flags&128)!==0,f;if((f=a)||(f=e!==null&&e.memoizedState===null?!1:(i&2)!==0),f?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),We(Ye,i&1),e===null)return Hu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Zl(a,r,0,null),e=ii(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Zu(n),t.memoizedState=Ju,e):od(t,a));if(i=e.memoizedState,i!==null&&(f=i.dehydrated,f!==null))return qg(e,t,a,r,f,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,f=i.sibling;var p={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=p,t.deletions=null):(r=Cr(i,p),r.subtreeFlags=i.subtreeFlags&14680064),f!==null?o=Cr(f,o):(o=ii(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?Zu(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=Ju,r}return o=e.child,e=o.sibling,r=Cr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function od(e,t){return t=Zl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ho(e,t,n,r){return r!==null&&Vc(r),Yi(t,e.child,null,n),e=od(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qg(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=nu(Error(ee(422))),Ho(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Zl({mode:"visible",children:r.children},i,0,null),o=ii(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Yi(t,e.child,null,a),t.child.memoizedState=Zu(a),t.memoizedState=Ju,o);if(!(t.mode&1))return Ho(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var f=r.dgst;return r=f,o=Error(ee(419)),r=nu(o,r,void 0),Ho(e,t,a,r)}if(f=(a&e.childLanes)!==0,Dt||f){if(r=pt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Gn(e,i),kn(r,e,i,-1))}return fd(),r=nu(Error(ee(421))),Ho(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=ox.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Xt=Sr(i.nextSibling),Gt=t,qe=!0,bn=null,e!==null&&(ln[an++]=Hn,ln[an++]=Vn,ln[an++]=oi,Hn=e.id,Vn=e.overflow,oi=t),t=od(t,r.children),t.flags|=4096,t)}function qf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Vu(e.return,t,n)}function ru(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Em(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ot(e,t,r.children,n),r=Ye.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qf(e,n,t);else if(e.tag===19)qf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(We(Ye,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Tl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Tl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,o);break;case"together":ru(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function al(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ai|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ee(153));if(t.child!==null){for(e=t.child,n=Cr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Cr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Qg(e,t,n){switch(t.tag){case 3:Nm(t),Qi();break;case 5:Zp(t);break;case 1:$t(t.type)&&jl(t);break;case 4:Jc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;We(El,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(We(Ye,Ye.current&1),t.flags|=128,null):n&t.child.childLanes?Cm(e,t,n):(We(Ye,Ye.current&1),e=Jn(e,t,n),e!==null?e.sibling:null);We(Ye,Ye.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Em(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),We(Ye,Ye.current),r)break;return null;case 22:case 23:return t.lanes=0,km(e,t,n)}return Jn(e,t,n)}var _m,ec,Pm,Tm;_m=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ec=function(){};Pm=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ti(Mn.current);var o=null;switch(n){case"input":i=Su(e,i),r=Su(e,r),o=[];break;case"select":i=Ge({},i,{value:void 0}),r=Ge({},r,{value:void 0}),o=[];break;case"textarea":i=Nu(e,i),r=Nu(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Sl)}Eu(n,r);var a;n=null;for(v in i)if(!r.hasOwnProperty(v)&&i.hasOwnProperty(v)&&i[v]!=null)if(v==="style"){var f=i[v];for(a in f)f.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(Us.hasOwnProperty(v)?o||(o=[]):(o=o||[]).push(v,null));for(v in r){var p=r[v];if(f=i!=null?i[v]:void 0,r.hasOwnProperty(v)&&p!==f&&(p!=null||f!=null))if(v==="style")if(f){for(a in f)!f.hasOwnProperty(a)||p&&p.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in p)p.hasOwnProperty(a)&&f[a]!==p[a]&&(n||(n={}),n[a]=p[a])}else n||(o||(o=[]),o.push(v,n)),n=p;else v==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,f=f?f.__html:void 0,p!=null&&f!==p&&(o=o||[]).push(v,p)):v==="children"?typeof p!="string"&&typeof p!="number"||(o=o||[]).push(v,""+p):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(Us.hasOwnProperty(v)?(p!=null&&v==="onScroll"&&He("scroll",e),o||f===p||(o=[])):(o=o||[]).push(v,p))}n&&(o=o||[]).push("style",n);var v=o;(t.updateQueue=v)&&(t.flags|=4)}};Tm=function(e,t,n,r){n!==r&&(t.flags|=4)};function js(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Et(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Yg(e,t,n){var r=t.pendingProps;switch(Hc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(t),null;case 1:return $t(t.type)&&kl(),Et(t),null;case 3:return r=t.stateNode,Xi(),Ve(Ut),Ve(Pt),ed(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ko(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bn!==null&&(ac(bn),bn=null))),ec(e,t),Et(t),null;case 5:Zc(t);var i=ti(Js.current);if(n=t.type,e!==null&&t.stateNode!=null)Pm(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ee(166));return Et(t),null}if(e=ti(Mn.current),Ko(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Ln]=t,r[Xs]=o,e=(t.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(i=0;i<Ps.length;i++)He(Ps[i],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":tf(r,o),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},He("invalid",r);break;case"textarea":rf(r,o),He("invalid",r)}Eu(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var f=o[a];a==="children"?typeof f=="string"?r.textContent!==f&&(o.suppressHydrationWarning!==!0&&Bo(r.textContent,f,e),i=["children",f]):typeof f=="number"&&r.textContent!==""+f&&(o.suppressHydrationWarning!==!0&&Bo(r.textContent,f,e),i=["children",""+f]):Us.hasOwnProperty(a)&&f!=null&&a==="onScroll"&&He("scroll",r)}switch(n){case"input":Fo(r),nf(r,o,!0);break;case"textarea":Fo(r),sf(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Sl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ip(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Ln]=t,e[Xs]=r,_m(e,t,!1,!1),t.stateNode=e;e:{switch(a=_u(n,r),n){case"dialog":He("cancel",e),He("close",e),i=r;break;case"iframe":case"object":case"embed":He("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ps.length;i++)He(Ps[i],e);i=r;break;case"source":He("error",e),i=r;break;case"img":case"image":case"link":He("error",e),He("load",e),i=r;break;case"details":He("toggle",e),i=r;break;case"input":tf(e,r),i=Su(e,r),He("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ge({},r,{value:void 0}),He("invalid",e);break;case"textarea":rf(e,r),i=Nu(e,r),He("invalid",e);break;default:i=r}Eu(n,i),f=i;for(o in f)if(f.hasOwnProperty(o)){var p=f[o];o==="style"?lp(e,p):o==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&sp(e,p)):o==="children"?typeof p=="string"?(n!=="textarea"||p!=="")&&$s(e,p):typeof p=="number"&&$s(e,""+p):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Us.hasOwnProperty(o)?p!=null&&o==="onScroll"&&He("scroll",e):p!=null&&Tc(e,o,p,a))}switch(n){case"input":Fo(e),nf(e,r,!1);break;case"textarea":Fo(e),sf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+_r(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Ui(e,!!r.multiple,o,!1):r.defaultValue!=null&&Ui(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Sl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Et(t),null;case 6:if(e&&t.stateNode!=null)Tm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ee(166));if(n=ti(Js.current),ti(Mn.current),Ko(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ln]=t,(o=r.nodeValue!==n)&&(e=Gt,e!==null))switch(e.tag){case 3:Bo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Bo(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ln]=t,t.stateNode=r}return Et(t),null;case 13:if(Ve(Ye),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qe&&Xt!==null&&t.mode&1&&!(t.flags&128))Qp(),Qi(),t.flags|=98560,o=!1;else if(o=Ko(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(ee(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ee(317));o[Ln]=t}else Qi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Et(t),o=!1}else bn!==null&&(ac(bn),bn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ye.current&1?ct===0&&(ct=3):fd())),t.updateQueue!==null&&(t.flags|=4),Et(t),null);case 4:return Xi(),ec(e,t),e===null&&Qs(t.stateNode.containerInfo),Et(t),null;case 10:return Yc(t.type._context),Et(t),null;case 17:return $t(t.type)&&kl(),Et(t),null;case 19:if(Ve(Ye),o=t.memoizedState,o===null)return Et(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)js(o,!1);else{if(ct!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Tl(e),a!==null){for(t.flags|=128,js(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return We(Ye,Ye.current&1|2),t.child}e=e.sibling}o.tail!==null&&rt()>Ji&&(t.flags|=128,r=!0,js(o,!1),t.lanes=4194304)}else{if(!r)if(e=Tl(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),js(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!qe)return Et(t),null}else 2*rt()-o.renderingStartTime>Ji&&n!==1073741824&&(t.flags|=128,r=!0,js(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=rt(),t.sibling=null,n=Ye.current,We(Ye,r?n&1|2:n&1),t):(Et(t),null);case 22:case 23:return dd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Yt&1073741824&&(Et(t),t.subtreeFlags&6&&(t.flags|=8192)):Et(t),null;case 24:return null;case 25:return null}throw Error(ee(156,t.tag))}function Xg(e,t){switch(Hc(t),t.tag){case 1:return $t(t.type)&&kl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xi(),Ve(Ut),Ve(Pt),ed(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Zc(t),null;case 13:if(Ve(Ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ee(340));Qi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ve(Ye),null;case 4:return Xi(),null;case 10:return Yc(t.type._context),null;case 22:case 23:return dd(),null;case 24:return null;default:return null}}var Vo=!1,_t=!1,Gg=typeof WeakSet=="function"?WeakSet:Set,me=null;function zi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ze(e,t,r)}else n.current=null}function tc(e,t,n){try{n()}catch(r){Ze(e,t,r)}}var Qf=!1;function Jg(e,t){if(zu=xl,e=Mp(),Kc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,f=-1,p=-1,v=0,S=0,b=e,_=null;t:for(;;){for(var $;b!==n||i!==0&&b.nodeType!==3||(f=a+i),b!==o||r!==0&&b.nodeType!==3||(p=a+r),b.nodeType===3&&(a+=b.nodeValue.length),($=b.firstChild)!==null;)_=b,b=$;for(;;){if(b===e)break t;if(_===n&&++v===i&&(f=a),_===o&&++S===r&&(p=a),($=b.nextSibling)!==null)break;b=_,_=b.parentNode}b=$}n=f===-1||p===-1?null:{start:f,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(Du={focusedElem:e,selectionRange:n},xl=!1,me=t;me!==null;)if(t=me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,me=e;else for(;me!==null;){t=me;try{var z=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(z!==null){var K=z.memoizedProps,q=z.memoizedState,C=t.stateNode,g=C.getSnapshotBeforeUpdate(t.elementType===t.type?K:xn(t.type,K),q);C.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(A){Ze(t,t.return,A)}if(e=t.sibling,e!==null){e.return=t.return,me=e;break}me=t.return}return z=Qf,Qf=!1,z}function As(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&tc(t,n,o)}i=i.next}while(i!==r)}}function Gl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function nc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Rm(e){var t=e.alternate;t!==null&&(e.alternate=null,Rm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ln],delete t[Xs],delete t[Bu],delete t[Fg],delete t[Mg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Om(e){return e.tag===5||e.tag===3||e.tag===4}function Yf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Om(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Sl));else if(r!==4&&(e=e.child,e!==null))for(rc(e,t,n),e=e.sibling;e!==null;)rc(e,t,n),e=e.sibling}function ic(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ic(e,t,n),e=e.sibling;e!==null;)ic(e,t,n),e=e.sibling}var vt=null,wn=!1;function ur(e,t,n){for(n=n.child;n!==null;)Lm(e,t,n),n=n.sibling}function Lm(e,t,n){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(Kl,n)}catch{}switch(n.tag){case 5:_t||zi(n,t);case 6:var r=vt,i=wn;vt=null,ur(e,t,n),vt=r,wn=i,vt!==null&&(wn?(e=vt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):vt.removeChild(n.stateNode));break;case 18:vt!==null&&(wn?(e=vt,n=n.stateNode,e.nodeType===8?Xa(e.parentNode,n):e.nodeType===1&&Xa(e,n),Hs(e)):Xa(vt,n.stateNode));break;case 4:r=vt,i=wn,vt=n.stateNode.containerInfo,wn=!0,ur(e,t,n),vt=r,wn=i;break;case 0:case 11:case 14:case 15:if(!_t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&tc(n,t,a),i=i.next}while(i!==r)}ur(e,t,n);break;case 1:if(!_t&&(zi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(f){Ze(n,t,f)}ur(e,t,n);break;case 21:ur(e,t,n);break;case 22:n.mode&1?(_t=(r=_t)||n.memoizedState!==null,ur(e,t,n),_t=r):ur(e,t,n);break;default:ur(e,t,n)}}function Xf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Gg),t.forEach(function(r){var i=lx.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function gn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,f=a;e:for(;f!==null;){switch(f.tag){case 5:vt=f.stateNode,wn=!1;break e;case 3:vt=f.stateNode.containerInfo,wn=!0;break e;case 4:vt=f.stateNode.containerInfo,wn=!0;break e}f=f.return}if(vt===null)throw Error(ee(160));Lm(o,a,i),vt=null,wn=!1;var p=i.alternate;p!==null&&(p.return=null),i.return=null}catch(v){Ze(i,t,v)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Fm(t,e),t=t.sibling}function Fm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gn(t,e),Rn(e),r&4){try{As(3,e,e.return),Gl(3,e)}catch(K){Ze(e,e.return,K)}try{As(5,e,e.return)}catch(K){Ze(e,e.return,K)}}break;case 1:gn(t,e),Rn(e),r&512&&n!==null&&zi(n,n.return);break;case 5:if(gn(t,e),Rn(e),r&512&&n!==null&&zi(n,n.return),e.flags&32){var i=e.stateNode;try{$s(i,"")}catch(K){Ze(e,e.return,K)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,f=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{f==="input"&&o.type==="radio"&&o.name!=null&&np(i,o),_u(f,a);var v=_u(f,o);for(a=0;a<p.length;a+=2){var S=p[a],b=p[a+1];S==="style"?lp(i,b):S==="dangerouslySetInnerHTML"?sp(i,b):S==="children"?$s(i,b):Tc(i,S,b,v)}switch(f){case"input":ku(i,o);break;case"textarea":rp(i,o);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var $=o.value;$!=null?Ui(i,!!o.multiple,$,!1):_!==!!o.multiple&&(o.defaultValue!=null?Ui(i,!!o.multiple,o.defaultValue,!0):Ui(i,!!o.multiple,o.multiple?[]:"",!1))}i[Xs]=o}catch(K){Ze(e,e.return,K)}}break;case 6:if(gn(t,e),Rn(e),r&4){if(e.stateNode===null)throw Error(ee(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(K){Ze(e,e.return,K)}}break;case 3:if(gn(t,e),Rn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hs(t.containerInfo)}catch(K){Ze(e,e.return,K)}break;case 4:gn(t,e),Rn(e);break;case 13:gn(t,e),Rn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(ud=rt())),r&4&&Xf(e);break;case 22:if(S=n!==null&&n.memoizedState!==null,e.mode&1?(_t=(v=_t)||S,gn(t,e),_t=v):gn(t,e),Rn(e),r&8192){if(v=e.memoizedState!==null,(e.stateNode.isHidden=v)&&!S&&e.mode&1)for(me=e,S=e.child;S!==null;){for(b=me=S;me!==null;){switch(_=me,$=_.child,_.tag){case 0:case 11:case 14:case 15:As(4,_,_.return);break;case 1:zi(_,_.return);var z=_.stateNode;if(typeof z.componentWillUnmount=="function"){r=_,n=_.return;try{t=r,z.props=t.memoizedProps,z.state=t.memoizedState,z.componentWillUnmount()}catch(K){Ze(r,n,K)}}break;case 5:zi(_,_.return);break;case 22:if(_.memoizedState!==null){Jf(b);continue}}$!==null?($.return=_,me=$):Jf(b)}S=S.sibling}e:for(S=null,b=e;;){if(b.tag===5){if(S===null){S=b;try{i=b.stateNode,v?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(f=b.stateNode,p=b.memoizedProps.style,a=p!=null&&p.hasOwnProperty("display")?p.display:null,f.style.display=op("display",a))}catch(K){Ze(e,e.return,K)}}}else if(b.tag===6){if(S===null)try{b.stateNode.nodeValue=v?"":b.memoizedProps}catch(K){Ze(e,e.return,K)}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===e)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===e)break e;for(;b.sibling===null;){if(b.return===null||b.return===e)break e;S===b&&(S=null),b=b.return}S===b&&(S=null),b.sibling.return=b.return,b=b.sibling}}break;case 19:gn(t,e),Rn(e),r&4&&Xf(e);break;case 21:break;default:gn(t,e),Rn(e)}}function Rn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Om(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($s(i,""),r.flags&=-33);var o=Yf(e);ic(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,f=Yf(e);rc(e,f,a);break;default:throw Error(ee(161))}}catch(p){Ze(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Zg(e,t,n){me=e,Mm(e)}function Mm(e,t,n){for(var r=(e.mode&1)!==0;me!==null;){var i=me,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Vo;if(!a){var f=i.alternate,p=f!==null&&f.memoizedState!==null||_t;f=Vo;var v=_t;if(Vo=a,(_t=p)&&!v)for(me=i;me!==null;)a=me,p=a.child,a.tag===22&&a.memoizedState!==null?Zf(i):p!==null?(p.return=a,me=p):Zf(i);for(;o!==null;)me=o,Mm(o),o=o.sibling;me=i,Vo=f,_t=v}Gf(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,me=o):Gf(e)}}function Gf(e){for(;me!==null;){var t=me;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_t||Gl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!_t)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:xn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Mf(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Mf(t,a,n)}break;case 5:var f=t.stateNode;if(n===null&&t.flags&4){n=f;var p=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&n.focus();break;case"img":p.src&&(n.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var v=t.alternate;if(v!==null){var S=v.memoizedState;if(S!==null){var b=S.dehydrated;b!==null&&Hs(b)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}_t||t.flags&512&&nc(t)}catch(_){Ze(t,t.return,_)}}if(t===e){me=null;break}if(n=t.sibling,n!==null){n.return=t.return,me=n;break}me=t.return}}function Jf(e){for(;me!==null;){var t=me;if(t===e){me=null;break}var n=t.sibling;if(n!==null){n.return=t.return,me=n;break}me=t.return}}function Zf(e){for(;me!==null;){var t=me;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Gl(4,t)}catch(p){Ze(t,n,p)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(p){Ze(t,i,p)}}var o=t.return;try{nc(t)}catch(p){Ze(t,o,p)}break;case 5:var a=t.return;try{nc(t)}catch(p){Ze(t,a,p)}}}catch(p){Ze(t,t.return,p)}if(t===e){me=null;break}var f=t.sibling;if(f!==null){f.return=t.return,me=f;break}me=t.return}}var ex=Math.ceil,Ll=Zn.ReactCurrentDispatcher,ld=Zn.ReactCurrentOwner,cn=Zn.ReactCurrentBatchConfig,Me=0,pt=null,at=null,xt=0,Yt=0,Di=Rr(0),ct=0,no=null,ai=0,Jl=0,ad=0,zs=null,At=null,ud=0,Ji=1/0,Kn=null,Fl=!1,sc=null,jr=null,qo=!1,yr=null,Ml=0,Ds=0,oc=null,ul=-1,cl=0;function Lt(){return Me&6?rt():ul!==-1?ul:ul=rt()}function Nr(e){return e.mode&1?Me&2&&xt!==0?xt&-xt:Ag.transition!==null?(cl===0&&(cl=xp()),cl):(e=$e,e!==0||(e=window.event,e=e===void 0?16:Cp(e.type)),e):1}function kn(e,t,n,r){if(50<Ds)throw Ds=0,oc=null,Error(ee(185));ao(e,n,r),(!(Me&2)||e!==pt)&&(e===pt&&(!(Me&2)&&(Jl|=n),ct===4&&pr(e,xt)),Bt(e,r),n===1&&Me===0&&!(t.mode&1)&&(Ji=rt()+500,Ql&&Or()))}function Bt(e,t){var n=e.callbackNode;Av(e,t);var r=gl(e,e===pt?xt:0);if(r===0)n!==null&&af(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&af(n),t===1)e.tag===0?Ig(eh.bind(null,e)):Hp(eh.bind(null,e)),Og(function(){!(Me&6)&&Or()}),n=null;else{switch(wp(r)){case 1:n=Mc;break;case 4:n=vp;break;case 16:n=vl;break;case 536870912:n=gp;break;default:n=vl}n=Km(n,Im.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Im(e,t){if(ul=-1,cl=0,Me&6)throw Error(ee(327));var n=e.callbackNode;if(Hi()&&e.callbackNode!==n)return null;var r=gl(e,e===pt?xt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Il(e,r);else{t=r;var i=Me;Me|=2;var o=zm();(pt!==e||xt!==t)&&(Kn=null,Ji=rt()+500,ri(e,t));do try{rx();break}catch(f){Am(e,f)}while(!0);Qc(),Ll.current=o,Me=i,at!==null?t=0:(pt=null,xt=0,t=ct)}if(t!==0){if(t===2&&(i=Lu(e),i!==0&&(r=i,t=lc(e,i))),t===1)throw n=no,ri(e,0),pr(e,r),Bt(e,rt()),n;if(t===6)pr(e,r);else{if(i=e.current.alternate,!(r&30)&&!tx(i)&&(t=Il(e,r),t===2&&(o=Lu(e),o!==0&&(r=o,t=lc(e,o))),t===1))throw n=no,ri(e,0),pr(e,r),Bt(e,rt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ee(345));case 2:Gr(e,At,Kn);break;case 3:if(pr(e,r),(r&130023424)===r&&(t=ud+500-rt(),10<t)){if(gl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Lt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=$u(Gr.bind(null,e,At,Kn),t);break}Gr(e,At,Kn);break;case 4:if(pr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Sn(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ex(r/1960))-r,10<r){e.timeoutHandle=$u(Gr.bind(null,e,At,Kn),r);break}Gr(e,At,Kn);break;case 5:Gr(e,At,Kn);break;default:throw Error(ee(329))}}}return Bt(e,rt()),e.callbackNode===n?Im.bind(null,e):null}function lc(e,t){var n=zs;return e.current.memoizedState.isDehydrated&&(ri(e,t).flags|=256),e=Il(e,t),e!==2&&(t=At,At=n,t!==null&&ac(t)),e}function ac(e){At===null?At=e:At.push.apply(At,e)}function tx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!jn(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pr(e,t){for(t&=~ad,t&=~Jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Sn(t),r=1<<n;e[n]=-1,t&=~r}}function eh(e){if(Me&6)throw Error(ee(327));Hi();var t=gl(e,0);if(!(t&1))return Bt(e,rt()),null;var n=Il(e,t);if(e.tag!==0&&n===2){var r=Lu(e);r!==0&&(t=r,n=lc(e,r))}if(n===1)throw n=no,ri(e,0),pr(e,t),Bt(e,rt()),n;if(n===6)throw Error(ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gr(e,At,Kn),Bt(e,rt()),null}function cd(e,t){var n=Me;Me|=1;try{return e(t)}finally{Me=n,Me===0&&(Ji=rt()+500,Ql&&Or())}}function ui(e){yr!==null&&yr.tag===0&&!(Me&6)&&Hi();var t=Me;Me|=1;var n=cn.transition,r=$e;try{if(cn.transition=null,$e=1,e)return e()}finally{$e=r,cn.transition=n,Me=t,!(Me&6)&&Or()}}function dd(){Yt=Di.current,Ve(Di)}function ri(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Rg(n)),at!==null)for(n=at.return;n!==null;){var r=n;switch(Hc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kl();break;case 3:Xi(),Ve(Ut),Ve(Pt),ed();break;case 5:Zc(r);break;case 4:Xi();break;case 13:Ve(Ye);break;case 19:Ve(Ye);break;case 10:Yc(r.type._context);break;case 22:case 23:dd()}n=n.return}if(pt=e,at=e=Cr(e.current,null),xt=Yt=t,ct=0,no=null,ad=Jl=ai=0,At=zs=null,ei!==null){for(t=0;t<ei.length;t++)if(n=ei[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}ei=null}return e}function Am(e,t){do{var n=at;try{if(Qc(),ol.current=Ol,Rl){for(var r=Xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Rl=!1}if(li=0,ht=ut=Xe=null,Is=!1,Zs=0,ld.current=null,n===null||n.return===null){ct=1,no=t,at=null;break}e:{var o=e,a=n.return,f=n,p=t;if(t=xt,f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var v=p,S=f,b=S.tag;if(!(S.mode&1)&&(b===0||b===11||b===15)){var _=S.alternate;_?(S.updateQueue=_.updateQueue,S.memoizedState=_.memoizedState,S.lanes=_.lanes):(S.updateQueue=null,S.memoizedState=null)}var $=$f(a);if($!==null){$.flags&=-257,Bf($,a,f,o,t),$.mode&1&&Uf(o,v,t),t=$,p=v;var z=t.updateQueue;if(z===null){var K=new Set;K.add(p),t.updateQueue=K}else z.add(p);break e}else{if(!(t&1)){Uf(o,v,t),fd();break e}p=Error(ee(426))}}else if(qe&&f.mode&1){var q=$f(a);if(q!==null){!(q.flags&65536)&&(q.flags|=256),Bf(q,a,f,o,t),Vc(Gi(p,f));break e}}o=p=Gi(p,f),ct!==4&&(ct=2),zs===null?zs=[o]:zs.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var C=wm(o,p,t);Ff(o,C);break e;case 1:f=p;var g=o.type,N=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(jr===null||!jr.has(N)))){o.flags|=65536,t&=-t,o.lanes|=t;var A=bm(o,f,t);Ff(o,A);break e}}o=o.return}while(o!==null)}Um(n)}catch(X){t=X,at===n&&n!==null&&(at=n=n.return);continue}break}while(!0)}function zm(){var e=Ll.current;return Ll.current=Ol,e===null?Ol:e}function fd(){(ct===0||ct===3||ct===2)&&(ct=4),pt===null||!(ai&268435455)&&!(Jl&268435455)||pr(pt,xt)}function Il(e,t){var n=Me;Me|=2;var r=zm();(pt!==e||xt!==t)&&(Kn=null,ri(e,t));do try{nx();break}catch(i){Am(e,i)}while(!0);if(Qc(),Me=n,Ll.current=r,at!==null)throw Error(ee(261));return pt=null,xt=0,ct}function nx(){for(;at!==null;)Dm(at)}function rx(){for(;at!==null&&!_v();)Dm(at)}function Dm(e){var t=Bm(e.alternate,e,Yt);e.memoizedProps=e.pendingProps,t===null?Um(e):at=t,ld.current=null}function Um(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Xg(n,t),n!==null){n.flags&=32767,at=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ct=6,at=null;return}}else if(n=Yg(n,t,Yt),n!==null){at=n;return}if(t=t.sibling,t!==null){at=t;return}at=t=e}while(t!==null);ct===0&&(ct=5)}function Gr(e,t,n){var r=$e,i=cn.transition;try{cn.transition=null,$e=1,ix(e,t,n,r)}finally{cn.transition=i,$e=r}return null}function ix(e,t,n,r){do Hi();while(yr!==null);if(Me&6)throw Error(ee(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ee(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(zv(e,o),e===pt&&(at=pt=null,xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qo||(qo=!0,Km(vl,function(){return Hi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=cn.transition,cn.transition=null;var a=$e;$e=1;var f=Me;Me|=4,ld.current=null,Jg(e,n),Fm(n,e),jg(Du),xl=!!zu,Du=zu=null,e.current=n,Zg(n),Pv(),Me=f,$e=a,cn.transition=o}else e.current=n;if(qo&&(qo=!1,yr=e,Ml=i),o=e.pendingLanes,o===0&&(jr=null),Ov(n.stateNode),Bt(e,rt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Fl)throw Fl=!1,e=sc,sc=null,e;return Ml&1&&e.tag!==0&&Hi(),o=e.pendingLanes,o&1?e===oc?Ds++:(Ds=0,oc=e):Ds=0,Or(),null}function Hi(){if(yr!==null){var e=wp(Ml),t=cn.transition,n=$e;try{if(cn.transition=null,$e=16>e?16:e,yr===null)var r=!1;else{if(e=yr,yr=null,Ml=0,Me&6)throw Error(ee(331));var i=Me;for(Me|=4,me=e.current;me!==null;){var o=me,a=o.child;if(me.flags&16){var f=o.deletions;if(f!==null){for(var p=0;p<f.length;p++){var v=f[p];for(me=v;me!==null;){var S=me;switch(S.tag){case 0:case 11:case 15:As(8,S,o)}var b=S.child;if(b!==null)b.return=S,me=b;else for(;me!==null;){S=me;var _=S.sibling,$=S.return;if(Rm(S),S===v){me=null;break}if(_!==null){_.return=$,me=_;break}me=$}}}var z=o.alternate;if(z!==null){var K=z.child;if(K!==null){z.child=null;do{var q=K.sibling;K.sibling=null,K=q}while(K!==null)}}me=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,me=a;else e:for(;me!==null;){if(o=me,o.flags&2048)switch(o.tag){case 0:case 11:case 15:As(9,o,o.return)}var C=o.sibling;if(C!==null){C.return=o.return,me=C;break e}me=o.return}}var g=e.current;for(me=g;me!==null;){a=me;var N=a.child;if(a.subtreeFlags&2064&&N!==null)N.return=a,me=N;else e:for(a=g;me!==null;){if(f=me,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:Gl(9,f)}}catch(X){Ze(f,f.return,X)}if(f===a){me=null;break e}var A=f.sibling;if(A!==null){A.return=f.return,me=A;break e}me=f.return}}if(Me=i,Or(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(Kl,e)}catch{}r=!0}return r}finally{$e=n,cn.transition=t}}return!1}function th(e,t,n){t=Gi(n,t),t=wm(e,t,1),e=kr(e,t,1),t=Lt(),e!==null&&(ao(e,1,t),Bt(e,t))}function Ze(e,t,n){if(e.tag===3)th(e,e,n);else for(;t!==null;){if(t.tag===3){th(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jr===null||!jr.has(r))){e=Gi(n,e),e=bm(t,e,1),t=kr(t,e,1),e=Lt(),t!==null&&(ao(t,1,e),Bt(t,e));break}}t=t.return}}function sx(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Lt(),e.pingedLanes|=e.suspendedLanes&n,pt===e&&(xt&n)===n&&(ct===4||ct===3&&(xt&130023424)===xt&&500>rt()-ud?ri(e,0):ad|=n),Bt(e,t)}function $m(e,t){t===0&&(e.mode&1?(t=Ao,Ao<<=1,!(Ao&130023424)&&(Ao=4194304)):t=1);var n=Lt();e=Gn(e,t),e!==null&&(ao(e,t,n),Bt(e,n))}function ox(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),$m(e,n)}function lx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(t),$m(e,n)}var Bm;Bm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ut.current)Dt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Dt=!1,Qg(e,t,n);Dt=!!(e.flags&131072)}else Dt=!1,qe&&t.flags&1048576&&Vp(t,Cl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;al(e,t),e=t.pendingProps;var i=qi(t,Pt.current);Wi(t,n),i=nd(null,t,r,e,i,n);var o=rd();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$t(r)?(o=!0,jl(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gc(t),i.updater=Xl,t.stateNode=i,i._reactInternals=t,Qu(t,r,e,n),t=Gu(null,t,r,!0,o,n)):(t.tag=0,qe&&o&&Wc(t),Ot(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(al(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=ux(r),e=xn(r,e),i){case 0:t=Xu(null,t,r,e,n);break e;case 1:t=Hf(null,t,r,e,n);break e;case 11:t=Kf(null,t,r,e,n);break e;case 14:t=Wf(null,t,r,xn(r.type,e),n);break e}throw Error(ee(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xn(r,i),Xu(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xn(r,i),Hf(e,t,r,i,n);case 3:e:{if(Nm(t),e===null)throw Error(ee(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Jp(e,t),Pl(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Gi(Error(ee(423)),t),t=Vf(e,t,r,n,i);break e}else if(r!==i){i=Gi(Error(ee(424)),t),t=Vf(e,t,r,n,i);break e}else for(Xt=Sr(t.stateNode.containerInfo.firstChild),Gt=t,qe=!0,bn=null,n=Xp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qi(),r===i){t=Jn(e,t,n);break e}Ot(e,t,r,n)}t=t.child}return t;case 5:return Zp(t),e===null&&Hu(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,Uu(r,i)?a=null:o!==null&&Uu(r,o)&&(t.flags|=32),jm(e,t),Ot(e,t,a,n),t.child;case 6:return e===null&&Hu(t),null;case 13:return Cm(e,t,n);case 4:return Jc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Yi(t,null,r,n):Ot(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xn(r,i),Kf(e,t,r,i,n);case 7:return Ot(e,t,t.pendingProps,n),t.child;case 8:return Ot(e,t,t.pendingProps.children,n),t.child;case 12:return Ot(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,We(El,r._currentValue),r._currentValue=a,o!==null)if(jn(o.value,a)){if(o.children===i.children&&!Ut.current){t=Jn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var f=o.dependencies;if(f!==null){a=o.child;for(var p=f.firstContext;p!==null;){if(p.context===r){if(o.tag===1){p=Qn(-1,n&-n),p.tag=2;var v=o.updateQueue;if(v!==null){v=v.shared;var S=v.pending;S===null?p.next=p:(p.next=S.next,S.next=p),v.pending=p}}o.lanes|=n,p=o.alternate,p!==null&&(p.lanes|=n),Vu(o.return,n,t),f.lanes|=n;break}p=p.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(ee(341));a.lanes|=n,f=a.alternate,f!==null&&(f.lanes|=n),Vu(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Ot(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Wi(t,n),i=dn(i),r=r(i),t.flags|=1,Ot(e,t,r,n),t.child;case 14:return r=t.type,i=xn(r,t.pendingProps),i=xn(r.type,i),Wf(e,t,r,i,n);case 15:return Sm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xn(r,i),al(e,t),t.tag=1,$t(r)?(e=!0,jl(t)):e=!1,Wi(t,n),xm(t,r,i),Qu(t,r,i,n),Gu(null,t,r,!0,e,n);case 19:return Em(e,t,n);case 22:return km(e,t,n)}throw Error(ee(156,t.tag))};function Km(e,t){return yp(e,t)}function ax(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,t,n,r){return new ax(e,t,n,r)}function hd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ux(e){if(typeof e=="function")return hd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Oc)return 11;if(e===Lc)return 14}return 2}function Cr(e,t){var n=e.alternate;return n===null?(n=un(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function dl(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")hd(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Pi:return ii(n.children,i,o,t);case Rc:a=8,i|=8;break;case gu:return e=un(12,n,t,i|2),e.elementType=gu,e.lanes=o,e;case xu:return e=un(13,n,t,i),e.elementType=xu,e.lanes=o,e;case wu:return e=un(19,n,t,i),e.elementType=wu,e.lanes=o,e;case Zh:return Zl(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Gh:a=10;break e;case Jh:a=9;break e;case Oc:a=11;break e;case Lc:a=14;break e;case dr:a=16,r=null;break e}throw Error(ee(130,e==null?e:typeof e,""))}return t=un(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function ii(e,t,n,r){return e=un(7,e,r,t),e.lanes=n,e}function Zl(e,t,n,r){return e=un(22,e,r,t),e.elementType=Zh,e.lanes=n,e.stateNode={isHidden:!1},e}function iu(e,t,n){return e=un(6,e,null,t),e.lanes=n,e}function su(e,t,n){return t=un(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cx(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Da(0),this.expirationTimes=Da(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Da(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function pd(e,t,n,r,i,o,a,f,p){return e=new cx(e,t,n,f,p),t===1?(t=1,o===!0&&(t|=8)):t=0,o=un(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gc(o),e}function dx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_i,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Wm(e){if(!e)return Pr;e=e._reactInternals;e:{if(di(e)!==e||e.tag!==1)throw Error(ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($t(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ee(171))}if(e.tag===1){var n=e.type;if($t(n))return Wp(e,n,t)}return t}function Hm(e,t,n,r,i,o,a,f,p){return e=pd(n,r,!0,e,i,o,a,f,p),e.context=Wm(null),n=e.current,r=Lt(),i=Nr(n),o=Qn(r,i),o.callback=t??null,kr(n,o,i),e.current.lanes=i,ao(e,i,r),Bt(e,r),e}function ea(e,t,n,r){var i=t.current,o=Lt(),a=Nr(i);return n=Wm(n),t.context===null?t.context=n:t.pendingContext=n,t=Qn(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=kr(i,t,a),e!==null&&(kn(e,i,a,o),sl(e,i,a)),a}function Al(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function md(e,t){nh(e,t),(e=e.alternate)&&nh(e,t)}function fx(){return null}var Vm=typeof reportError=="function"?reportError:function(e){console.error(e)};function yd(e){this._internalRoot=e}ta.prototype.render=yd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ee(409));ea(e,t,null,null)};ta.prototype.unmount=yd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ui(function(){ea(null,e,null,null)}),t[Xn]=null}};function ta(e){this._internalRoot=e}ta.prototype.unstable_scheduleHydration=function(e){if(e){var t=kp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<hr.length&&t!==0&&t<hr[n].priority;n++);hr.splice(n,0,e),n===0&&Np(e)}};function vd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function na(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rh(){}function hx(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var v=Al(a);o.call(v)}}var a=Hm(t,r,e,0,null,!1,!1,"",rh);return e._reactRootContainer=a,e[Xn]=a.current,Qs(e.nodeType===8?e.parentNode:e),ui(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var f=r;r=function(){var v=Al(p);f.call(v)}}var p=pd(e,0,!1,null,null,!1,!1,"",rh);return e._reactRootContainer=p,e[Xn]=p.current,Qs(e.nodeType===8?e.parentNode:e),ui(function(){ea(t,p,n,r)}),p}function ra(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var f=i;i=function(){var p=Al(a);f.call(p)}}ea(t,a,e,i)}else a=hx(n,t,e,i,r);return Al(a)}bp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=_s(t.pendingLanes);n!==0&&(Ic(t,n|1),Bt(t,rt()),!(Me&6)&&(Ji=rt()+500,Or()))}break;case 13:ui(function(){var r=Gn(e,1);if(r!==null){var i=Lt();kn(r,e,1,i)}}),md(e,1)}};Ac=function(e){if(e.tag===13){var t=Gn(e,134217728);if(t!==null){var n=Lt();kn(t,e,134217728,n)}md(e,134217728)}};Sp=function(e){if(e.tag===13){var t=Nr(e),n=Gn(e,t);if(n!==null){var r=Lt();kn(n,e,t,r)}md(e,t)}};kp=function(){return $e};jp=function(e,t){var n=$e;try{return $e=e,t()}finally{$e=n}};Tu=function(e,t,n){switch(t){case"input":if(ku(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ql(r);if(!i)throw Error(ee(90));tp(r),ku(r,i)}}}break;case"textarea":rp(e,n);break;case"select":t=n.value,t!=null&&Ui(e,!!n.multiple,t,!1)}};cp=cd;dp=ui;var px={usingClientEntryPoint:!1,Events:[co,Li,ql,ap,up,cd]},Ns={findFiberByHostInstance:Zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mx={bundleType:Ns.bundleType,version:Ns.version,rendererPackageName:Ns.rendererPackageName,rendererConfig:Ns.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pp(e),e===null?null:e.stateNode},findFiberByHostInstance:Ns.findFiberByHostInstance||fx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qo.isDisabled&&Qo.supportsFiber)try{Kl=Qo.inject(mx),Fn=Qo}catch{}}Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=px;Zt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vd(t))throw Error(ee(200));return dx(e,t,null,n)};Zt.createRoot=function(e,t){if(!vd(e))throw Error(ee(299));var n=!1,r="",i=Vm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=pd(e,1,!1,null,null,n,!1,r,i),e[Xn]=t.current,Qs(e.nodeType===8?e.parentNode:e),new yd(t)};Zt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ee(188)):(e=Object.keys(e).join(","),Error(ee(268,e)));return e=pp(t),e=e===null?null:e.stateNode,e};Zt.flushSync=function(e){return ui(e)};Zt.hydrate=function(e,t,n){if(!na(t))throw Error(ee(200));return ra(null,e,t,!0,n)};Zt.hydrateRoot=function(e,t,n){if(!vd(e))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=Vm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Hm(t,null,e,1,n??null,i,!1,o,a),e[Xn]=t.current,Qs(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ta(t)};Zt.render=function(e,t,n){if(!na(t))throw Error(ee(200));return ra(null,e,t,!1,n)};Zt.unmountComponentAtNode=function(e){if(!na(e))throw Error(ee(40));return e._reactRootContainer?(ui(function(){ra(null,null,e,!1,function(){e._reactRootContainer=null,e[Xn]=null})}),!0):!1};Zt.unstable_batchedUpdates=cd;Zt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!na(n))throw Error(ee(200));if(e==null||e._reactInternals===void 0)throw Error(ee(38));return ra(e,t,n,!1,r)};Zt.version="18.3.1-next-f1338f8080-20240426";function qm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qm)}catch(e){console.error(e)}}qm(),qh.exports=Zt;var yx=qh.exports,ih=yx;yu.createRoot=ih.createRoot,yu.hydrateRoot=ih.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ro(){return ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ro.apply(this,arguments)}var vr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(vr||(vr={}));const sh="popstate";function vx(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:a,hash:f}=r.location;return uc("",{pathname:o,search:a,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:zl(i)}return xx(t,n,null,e)}function et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Qm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gx(){return Math.random().toString(36).substr(2,8)}function oh(e,t){return{usr:e.state,key:e.key,idx:t}}function uc(e,t,n,r){return n===void 0&&(n=null),ro({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?is(t):t,{state:n,key:t&&t.key||r||gx()})}function zl(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function is(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function xx(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,f=vr.Pop,p=null,v=S();v==null&&(v=0,a.replaceState(ro({},a.state,{idx:v}),""));function S(){return(a.state||{idx:null}).idx}function b(){f=vr.Pop;let q=S(),C=q==null?null:q-v;v=q,p&&p({action:f,location:K.location,delta:C})}function _(q,C){f=vr.Push;let g=uc(K.location,q,C);v=S()+1;let N=oh(g,v),A=K.createHref(g);try{a.pushState(N,"",A)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;i.location.assign(A)}o&&p&&p({action:f,location:K.location,delta:1})}function $(q,C){f=vr.Replace;let g=uc(K.location,q,C);v=S();let N=oh(g,v),A=K.createHref(g);a.replaceState(N,"",A),o&&p&&p({action:f,location:K.location,delta:0})}function z(q){let C=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof q=="string"?q:zl(q);return g=g.replace(/ $/,"%20"),et(C,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,C)}let K={get action(){return f},get location(){return e(i,a)},listen(q){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(sh,b),p=q,()=>{i.removeEventListener(sh,b),p=null}},createHref(q){return t(i,q)},createURL:z,encodeLocation(q){let C=z(q);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:_,replace:$,go(q){return a.go(q)}};return K}var lh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(lh||(lh={}));function wx(e,t,n){return n===void 0&&(n="/"),bx(e,t,n)}function bx(e,t,n,r){let i=typeof t=="string"?is(t):t,o=Zi(i.pathname||"/",n);if(o==null)return null;let a=Ym(e);Sx(a);let f=null;for(let p=0;f==null&&p<a.length;++p){let v=Lx(o);f=Rx(a[p],v)}return f}function Ym(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,f)=>{let p={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};p.relativePath.startsWith("/")&&(et(p.relativePath.startsWith(r),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(r.length));let v=Er([r,p.relativePath]),S=n.concat(p);o.children&&o.children.length>0&&(et(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),Ym(o.children,t,S,v)),!(o.path==null&&!o.index)&&t.push({path:v,score:Px(v,o.index),routesMeta:S})};return e.forEach((o,a)=>{var f;if(o.path===""||!((f=o.path)!=null&&f.includes("?")))i(o,a);else for(let p of Xm(o.path))i(o,a,p)}),t}function Xm(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=Xm(r.join("/")),f=[];return f.push(...a.map(p=>p===""?o:[o,p].join("/"))),i&&f.push(...a),f.map(p=>e.startsWith("/")&&p===""?"/":p)}function Sx(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Tx(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const kx=/^:[\w-]+$/,jx=3,Nx=2,Cx=1,Ex=10,_x=-2,ah=e=>e==="*";function Px(e,t){let n=e.split("/"),r=n.length;return n.some(ah)&&(r+=_x),t&&(r+=Nx),n.filter(i=>!ah(i)).reduce((i,o)=>i+(kx.test(o)?jx:o===""?Cx:Ex),r)}function Tx(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Rx(e,t,n){let{routesMeta:r}=e,i={},o="/",a=[];for(let f=0;f<r.length;++f){let p=r[f],v=f===r.length-1,S=o==="/"?t:t.slice(o.length)||"/",b=cc({path:p.relativePath,caseSensitive:p.caseSensitive,end:v},S),_=p.route;if(!b)return null;Object.assign(i,b.params),a.push({params:i,pathname:Er([o,b.pathname]),pathnameBase:Ax(Er([o,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(o=Er([o,b.pathnameBase]))}return a}function cc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Ox(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:r.reduce((v,S,b)=>{let{paramName:_,isOptional:$}=S;if(_==="*"){let K=f[b]||"";a=o.slice(0,o.length-K.length).replace(/(.)\/+$/,"$1")}const z=f[b];return $&&!z?v[_]=void 0:v[_]=(z||"").replace(/%2F/g,"/"),v},{}),pathname:o,pathnameBase:a,pattern:e}}function Ox(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Qm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,f,p)=>(r.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Lx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Zi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Fx(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?is(e):e;return{pathname:n?n.startsWith("/")?n:Mx(n,t):t,search:zx(r),hash:Dx(i)}}function Mx(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ou(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ix(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Gm(e,t){let n=Ix(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Jm(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=is(e):(i=ro({},e),et(!i.pathname||!i.pathname.includes("?"),ou("?","pathname","search",i)),et(!i.pathname||!i.pathname.includes("#"),ou("#","pathname","hash",i)),et(!i.search||!i.search.includes("#"),ou("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,f;if(a==null)f=n;else{let b=t.length-1;if(!r&&a.startsWith("..")){let _=a.split("/");for(;_[0]==="..";)_.shift(),b-=1;i.pathname=_.join("/")}f=b>=0?t[b]:"/"}let p=Fx(i,f),v=a&&a!=="/"&&a.endsWith("/"),S=(o||a===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(v||S)&&(p.pathname+="/"),p}const Er=e=>e.join("/").replace(/\/\/+/g,"/"),Ax=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),zx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Dx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ux(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Zm=["post","put","patch","delete"];new Set(Zm);const $x=["get",...Zm];new Set($x);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function io(){return io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},io.apply(this,arguments)}const ia=x.createContext(null),ey=x.createContext(null),Lr=x.createContext(null),sa=x.createContext(null),fi=x.createContext({outlet:null,matches:[],isDataRoute:!1}),ty=x.createContext(null);function Bx(e,t){let{relative:n}=t===void 0?{}:t;ho()||et(!1);let{basename:r,navigator:i}=x.useContext(Lr),{hash:o,pathname:a,search:f}=oa(e,{relative:n}),p=a;return r!=="/"&&(p=a==="/"?r:Er([r,a])),i.createHref({pathname:p,search:f,hash:o})}function ho(){return x.useContext(sa)!=null}function ss(){return ho()||et(!1),x.useContext(sa).location}function ny(e){x.useContext(Lr).static||x.useLayoutEffect(e)}function Kx(){let{isDataRoute:e}=x.useContext(fi);return e?n0():Wx()}function Wx(){ho()||et(!1);let e=x.useContext(ia),{basename:t,future:n,navigator:r}=x.useContext(Lr),{matches:i}=x.useContext(fi),{pathname:o}=ss(),a=JSON.stringify(Gm(i,n.v7_relativeSplatPath)),f=x.useRef(!1);return ny(()=>{f.current=!0}),x.useCallback(function(v,S){if(S===void 0&&(S={}),!f.current)return;if(typeof v=="number"){r.go(v);return}let b=Jm(v,JSON.parse(a),o,S.relative==="path");e==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:Er([t,b.pathname])),(S.replace?r.replace:r.push)(b,S.state,S)},[t,r,a,o,e])}function oa(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=x.useContext(Lr),{matches:i}=x.useContext(fi),{pathname:o}=ss(),a=JSON.stringify(Gm(i,r.v7_relativeSplatPath));return x.useMemo(()=>Jm(e,JSON.parse(a),o,n==="path"),[e,a,o,n])}function Hx(e,t){return Vx(e,t)}function Vx(e,t,n,r){ho()||et(!1);let{navigator:i}=x.useContext(Lr),{matches:o}=x.useContext(fi),a=o[o.length-1],f=a?a.params:{};a&&a.pathname;let p=a?a.pathnameBase:"/";a&&a.route;let v=ss(),S;if(t){var b;let q=typeof t=="string"?is(t):t;p==="/"||(b=q.pathname)!=null&&b.startsWith(p)||et(!1),S=q}else S=v;let _=S.pathname||"/",$=_;if(p!=="/"){let q=p.replace(/^\//,"").split("/");$="/"+_.replace(/^\//,"").split("/").slice(q.length).join("/")}let z=wx(e,{pathname:$}),K=Gx(z&&z.map(q=>Object.assign({},q,{params:Object.assign({},f,q.params),pathname:Er([p,i.encodeLocation?i.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?p:Er([p,i.encodeLocation?i.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),o,n,r);return t&&K?x.createElement(sa.Provider,{value:{location:io({pathname:"/",search:"",hash:"",state:null,key:"default"},S),navigationType:vr.Pop}},K):K}function qx(){let e=t0(),t=Ux(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:i},n):null,null)}const Qx=x.createElement(qx,null);class Yx extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(fi.Provider,{value:this.props.routeContext},x.createElement(ty.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Xx(e){let{routeContext:t,match:n,children:r}=e,i=x.useContext(ia);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(fi.Provider,{value:t},r)}function Gx(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,f=(i=n)==null?void 0:i.errors;if(f!=null){let S=a.findIndex(b=>b.route.id&&(f==null?void 0:f[b.route.id])!==void 0);S>=0||et(!1),a=a.slice(0,Math.min(a.length,S+1))}let p=!1,v=-1;if(n&&r&&r.v7_partialHydration)for(let S=0;S<a.length;S++){let b=a[S];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(v=S),b.route.id){let{loaderData:_,errors:$}=n,z=b.route.loader&&_[b.route.id]===void 0&&(!$||$[b.route.id]===void 0);if(b.route.lazy||z){p=!0,v>=0?a=a.slice(0,v+1):a=[a[0]];break}}}return a.reduceRight((S,b,_)=>{let $,z=!1,K=null,q=null;n&&($=f&&b.route.id?f[b.route.id]:void 0,K=b.route.errorElement||Qx,p&&(v<0&&_===0?(r0("route-fallback"),z=!0,q=null):v===_&&(z=!0,q=b.route.hydrateFallbackElement||null)));let C=t.concat(a.slice(0,_+1)),g=()=>{let N;return $?N=K:z?N=q:b.route.Component?N=x.createElement(b.route.Component,null):b.route.element?N=b.route.element:N=S,x.createElement(Xx,{match:b,routeContext:{outlet:S,matches:C,isDataRoute:n!=null},children:N})};return n&&(b.route.ErrorBoundary||b.route.errorElement||_===0)?x.createElement(Yx,{location:n.location,revalidation:n.revalidation,component:K,error:$,children:g(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):g()},null)}var ry=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ry||{}),iy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(iy||{});function Jx(e){let t=x.useContext(ia);return t||et(!1),t}function Zx(e){let t=x.useContext(ey);return t||et(!1),t}function e0(e){let t=x.useContext(fi);return t||et(!1),t}function sy(e){let t=e0(),n=t.matches[t.matches.length-1];return n.route.id||et(!1),n.route.id}function t0(){var e;let t=x.useContext(ty),n=Zx(),r=sy();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function n0(){let{router:e}=Jx(ry.UseNavigateStable),t=sy(iy.UseNavigateStable),n=x.useRef(!1);return ny(()=>{n.current=!0}),x.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,io({fromRouteId:t},o)))},[e,t])}const uh={};function r0(e,t,n){uh[e]||(uh[e]=!0)}function i0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Bn(e){et(!1)}function s0(e){let{basename:t="/",children:n=null,location:r,navigationType:i=vr.Pop,navigator:o,static:a=!1,future:f}=e;ho()&&et(!1);let p=t.replace(/^\/*/,"/"),v=x.useMemo(()=>({basename:p,navigator:o,static:a,future:io({v7_relativeSplatPath:!1},f)}),[p,f,o,a]);typeof r=="string"&&(r=is(r));let{pathname:S="/",search:b="",hash:_="",state:$=null,key:z="default"}=r,K=x.useMemo(()=>{let q=Zi(S,p);return q==null?null:{location:{pathname:q,search:b,hash:_,state:$,key:z},navigationType:i}},[p,S,b,_,$,z,i]);return K==null?null:x.createElement(Lr.Provider,{value:v},x.createElement(sa.Provider,{children:n,value:K}))}function o0(e){let{children:t,location:n}=e;return Hx(dc(t),n)}new Promise(()=>{});function dc(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(r,i)=>{if(!x.isValidElement(r))return;let o=[...t,i];if(r.type===x.Fragment){n.push.apply(n,dc(r.props.children,o));return}r.type!==Bn&&et(!1),!r.props.index||!r.props.children||et(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=dc(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dl(){return Dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dl.apply(this,arguments)}function oy(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function l0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function a0(e,t){return e.button===0&&(!t||t==="_self")&&!l0(e)}const u0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],c0=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],d0="6";try{window.__reactRouterVersion=d0}catch{}const f0=x.createContext({isTransitioning:!1}),h0="startTransition",ch=sv[h0];function p0(e){let{basename:t,children:n,future:r,window:i}=e,o=x.useRef();o.current==null&&(o.current=vx({window:i,v5Compat:!0}));let a=o.current,[f,p]=x.useState({action:a.action,location:a.location}),{v7_startTransition:v}=r||{},S=x.useCallback(b=>{v&&ch?ch(()=>p(b)):p(b)},[p,v]);return x.useLayoutEffect(()=>a.listen(S),[a,S]),x.useEffect(()=>i0(r),[r]),x.createElement(s0,{basename:t,children:n,location:f.location,navigationType:f.action,navigator:a,future:r})}const m0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",y0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,v0=x.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:f,target:p,to:v,preventScrollReset:S,viewTransition:b}=t,_=oy(t,u0),{basename:$}=x.useContext(Lr),z,K=!1;if(typeof v=="string"&&y0.test(v)&&(z=v,m0))try{let N=new URL(window.location.href),A=v.startsWith("//")?new URL(N.protocol+v):new URL(v),X=Zi(A.pathname,$);A.origin===N.origin&&X!=null?v=X+A.search+A.hash:K=!0}catch{}let q=Bx(v,{relative:i}),C=x0(v,{replace:a,state:f,target:p,preventScrollReset:S,relative:i,viewTransition:b});function g(N){r&&r(N),N.defaultPrevented||C(N)}return x.createElement("a",Dl({},_,{href:z||q,onClick:K||o?r:g,ref:n,target:p}))}),qr=x.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:a=!1,style:f,to:p,viewTransition:v,children:S}=t,b=oy(t,c0),_=oa(p,{relative:b.relative}),$=ss(),z=x.useContext(ey),{navigator:K,basename:q}=x.useContext(Lr),C=z!=null&&w0(_)&&v===!0,g=K.encodeLocation?K.encodeLocation(_).pathname:_.pathname,N=$.pathname,A=z&&z.navigation&&z.navigation.location?z.navigation.location.pathname:null;i||(N=N.toLowerCase(),A=A?A.toLowerCase():null,g=g.toLowerCase()),A&&q&&(A=Zi(A,q)||A);const X=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let G=N===g||!a&&N.startsWith(g)&&N.charAt(X)==="/",Q=A!=null&&(A===g||!a&&A.startsWith(g)&&A.charAt(g.length)==="/"),Z={isActive:G,isPending:Q,isTransitioning:C},Ne=G?r:void 0,he;typeof o=="function"?he=o(Z):he=[o,G?"active":null,Q?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let Re=typeof f=="function"?f(Z):f;return x.createElement(v0,Dl({},b,{"aria-current":Ne,className:he,ref:n,style:Re,to:p,viewTransition:v}),typeof S=="function"?S(Z):S)});var fc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(fc||(fc={}));var dh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(dh||(dh={}));function g0(e){let t=x.useContext(ia);return t||et(!1),t}function x0(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:f}=t===void 0?{}:t,p=Kx(),v=ss(),S=oa(e,{relative:a});return x.useCallback(b=>{if(a0(b,n)){b.preventDefault();let _=r!==void 0?r:zl(v)===zl(S);p(e,{replace:_,state:i,preventScrollReset:o,relative:a,viewTransition:f})}},[v,p,S,r,i,n,e,o,a,f])}function w0(e,t){t===void 0&&(t={});let n=x.useContext(f0);n==null&&et(!1);let{basename:r}=g0(fc.useViewTransitionState),i=oa(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=Zi(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Zi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return cc(i.pathname,a)!=null||cc(i.pathname,o)!=null}let hc=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");const b0={},fh=e=>{let t;const n=new Set,r=(S,b)=>{const _=typeof S=="function"?S(t):S;if(!Object.is(_,t)){const $=t;t=b??(typeof _!="object"||_===null)?_:Object.assign({},t,_),n.forEach(z=>z(t,$))}},i=()=>t,p={setState:r,getState:i,getInitialState:()=>v,subscribe:S=>(n.add(S),()=>n.delete(S)),destroy:()=>{(b0?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},v=t=e(r,i,p);return p},S0=e=>e?fh(e):fh;var ly={exports:{}},ay={},uy={exports:{}},cy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var es=x;function k0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var j0=typeof Object.is=="function"?Object.is:k0,N0=es.useState,C0=es.useEffect,E0=es.useLayoutEffect,_0=es.useDebugValue;function P0(e,t){var n=t(),r=N0({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return E0(function(){i.value=n,i.getSnapshot=t,lu(i)&&o({inst:i})},[e,n,t]),C0(function(){return lu(i)&&o({inst:i}),e(function(){lu(i)&&o({inst:i})})},[e]),_0(n),n}function lu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!j0(e,n)}catch{return!0}}function T0(e,t){return t()}var R0=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?T0:P0;cy.useSyncExternalStore=es.useSyncExternalStore!==void 0?es.useSyncExternalStore:R0;uy.exports=cy;var O0=uy.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var la=x,L0=O0;function F0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var M0=typeof Object.is=="function"?Object.is:F0,I0=L0.useSyncExternalStore,A0=la.useRef,z0=la.useEffect,D0=la.useMemo,U0=la.useDebugValue;ay.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=A0(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=D0(function(){function p($){if(!v){if(v=!0,S=$,$=r($),i!==void 0&&a.hasValue){var z=a.value;if(i(z,$))return b=z}return b=$}if(z=b,M0(S,$))return z;var K=r($);return i!==void 0&&i(z,K)?(S=$,z):(S=$,b=K)}var v=!1,S,b,_=n===void 0?null:n;return[function(){return p(t())},_===null?void 0:function(){return p(_())}]},[t,n,r,i]);var f=I0(e,o[0],o[1]);return z0(function(){a.hasValue=!0,a.value=f},[f]),U0(f),f};ly.exports=ay;var $0=ly.exports;const B0=Sc($0),dy={},{useDebugValue:K0}=Ec,{useSyncExternalStoreWithSelector:W0}=B0;let hh=!1;const H0=e=>e;function V0(e,t=H0,n){(dy?"production":void 0)!=="production"&&n&&!hh&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),hh=!0);const r=W0(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return K0(r),r}const ph=e=>{(dy?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?S0(e):e,n=(r,i)=>V0(t,r,i);return Object.assign(n,t),n},gd=e=>e?ph(e):ph,q0=/['\u2019\u02BC](s|d)$/u,Q0=/['\u2019\u02BC]$/u,Y0=new Set(["a","e","i","o","u"]),X0=["ness","ss","ous","us","is"],G0=new Map([["boonies","boonie"]]);function mh(e){return/[aeiouy]/u.test(e)}function so(e){return Y0.has(e)}function J0(e){if(e.length<2)return!1;const t=e[e.length-1],n=e[e.length-2];return t===n&&!so(t)}function Z0(e){if(e.length<3||!e.endsWith("l"))return!1;const t=e[e.length-2],n=e[e.length-3];return t===n&&!so(t)}function ew(e,t){return t||!e.endsWith("g")?!1:!e.endsWith("ng")}function tw(e){if(e.length<2||!e.endsWith("k"))return!1;const t=e[e.length-2];return so(t)}function yh(e){if(e.endsWith("at")||e.endsWith("bl")||e.endsWith("iz"))return`${e}e`;let t=e,n=!1;return J0(t)&&!["l","s","z"].includes(t[t.length-1])&&(t=t.slice(0,-1),n=!0),Z0(t)?`${t}e`:ew(t,n)?`${t}e`:tw(t)?`${t}e`:t.endsWith("is")&&t.length>3?`${t}e`:t}function xd(e){let t=e.toLowerCase().normalize("NFC");if(t=t.replace(q0,""),t=t.replace(Q0,""),t.length<=3)return t;if(t.endsWith("ier")&&t.length>5){const n=t.slice(0,-3),r=n[n.length-1],i=n[n.length-2];if(r&&i&&r===i&&!so(r))return`${n}y`}if(t.endsWith("ied")&&t.length>3){const n=t.slice(0,-3);return t.length<=4?`${n}ie`:`${n}y`}if(t.endsWith("ies")&&t.length>3){const n=G0.get(t);if(n)return n;const r=t.slice(0,-3);return t.length<=4?`${r}ie`:`${r}y`}if(t.endsWith("ing")){const n=t.slice(0,-3);if(n.length>=3&&mh(n))return yh(n)}if(t.endsWith("ed")){const n=t.slice(0,-2);if(n.length>=2&&mh(n))return yh(n)}if(t.endsWith("ly")&&t.length>4){const n=t[t.length-3];if(n&&!so(n))return t.slice(0,-2)}return t.endsWith("es")&&t.length>4?t.endsWith("ches")||t.endsWith("shes")||t.endsWith("xes")||t.endsWith("zes")?t.slice(0,-2):t.slice(0,-1):t.endsWith("s")&&t.length>4&&!X0.some(n=>t.endsWith(n))?t.slice(0,-1):t}const nw=new RegExp("(\\p{L}+(?:['\\u2019\\u02BC-]\\p{L}+)*)|(\\d+)|([^\\s\\p{L}\\d]+)","gu");function qn(e){const t=e.replace(/[\u0001\u0002]/g,""),n=[];let r;for(;r=nw.exec(t);){const[i,o,a,f]=r;if(o){const p=o.toLowerCase().normalize("NFC");n.push({text:i,normalized:p,stem:xd(p),isWord:!0})}else a?n.push({text:i,normalized:a,stem:a,isWord:!1}):f&&n.push({text:i,normalized:f,stem:f,isWord:!1})}return n.length>0?n:[{text:e,normalized:e,stem:e,isWord:new RegExp("\\p{L}","u").test(e)}]}var fy={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Qd,function(){var n=function(s,l){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(u[h]=d[h])})(s,l)},r=function(){return(r=Object.assign||function(s){for(var l,u=1,d=arguments.length;u<d;u++)for(var h in l=arguments[u])Object.prototype.hasOwnProperty.call(l,h)&&(s[h]=l[h]);return s}).apply(this,arguments)};function i(s,l,u){for(var d,h=0,m=l.length;h<m;h++)!d&&h in l||((d=d||Array.prototype.slice.call(l,0,h))[h]=l[h]);return s.concat(d||Array.prototype.slice.call(l))}var o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Qd,a=Object.keys,f=Array.isArray;function p(s,l){return typeof l!="object"||a(l).forEach(function(u){s[u]=l[u]}),s}typeof Promise>"u"||o.Promise||(o.Promise=Promise);var v=Object.getPrototypeOf,S={}.hasOwnProperty;function b(s,l){return S.call(s,l)}function _(s,l){typeof l=="function"&&(l=l(v(s))),(typeof Reflect>"u"?a:Reflect.ownKeys)(l).forEach(function(u){z(s,u,l[u])})}var $=Object.defineProperty;function z(s,l,u,d){$(s,l,p(u&&b(u,"get")&&typeof u.get=="function"?{get:u.get,set:u.set,configurable:!0}:{value:u,configurable:!0,writable:!0},d))}function K(s){return{from:function(l){return s.prototype=Object.create(l.prototype),z(s.prototype,"constructor",s),{extend:_.bind(null,s.prototype)}}}}var q=Object.getOwnPropertyDescriptor,C=[].slice;function g(s,l,u){return C.call(s,l,u)}function N(s,l){return l(s)}function A(s){if(!s)throw new Error("Assertion Failed")}function X(s){o.setImmediate?setImmediate(s):setTimeout(s,0)}function G(s,l){if(typeof l=="string"&&b(s,l))return s[l];if(!l)return s;if(typeof l!="string"){for(var u=[],d=0,h=l.length;d<h;++d){var m=G(s,l[d]);u.push(m)}return u}var y=l.indexOf(".");if(y!==-1){var w=s[l.substr(0,y)];return w==null?void 0:G(w,l.substr(y+1))}}function Q(s,l,u){if(s&&l!==void 0&&!("isFrozen"in Object&&Object.isFrozen(s)))if(typeof l!="string"&&"length"in l){A(typeof u!="string"&&"length"in u);for(var d=0,h=l.length;d<h;++d)Q(s,l[d],u[d])}else{var m,y,w=l.indexOf(".");w!==-1?(m=l.substr(0,w),(y=l.substr(w+1))===""?u===void 0?f(s)&&!isNaN(parseInt(m))?s.splice(m,1):delete s[m]:s[m]=u:Q(w=!(w=s[m])||!b(s,m)?s[m]={}:w,y,u)):u===void 0?f(s)&&!isNaN(parseInt(l))?s.splice(l,1):delete s[l]:s[l]=u}}function Z(s){var l,u={};for(l in s)b(s,l)&&(u[l]=s[l]);return u}var Ne=[].concat;function he(s){return Ne.apply([],s)}var hn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(he([8,16,32,64].map(function(s){return["Int","Uint","Float"].map(function(l){return l+s+"Array"})}))).filter(function(s){return o[s]}),Re=new Set(hn.map(function(s){return o[s]})),Ae=null;function oe(s){return Ae=new WeakMap,s=function l(u){if(!u||typeof u!="object")return u;var d=Ae.get(u);if(d)return d;if(f(u)){d=[],Ae.set(u,d);for(var h=0,m=u.length;h<m;++h)d.push(l(u[h]))}else if(Re.has(u.constructor))d=u;else{var y,w=v(u);for(y in d=w===Object.prototype?{}:Object.create(w),Ae.set(u,d),u)b(u,y)&&(d[y]=l(u[y]))}return d}(s),Ae=null,s}var ne={}.toString;function se(s){return ne.call(s).slice(8,-1)}var Y=typeof Symbol<"u"?Symbol.iterator:"@@iterator",we=typeof Y=="symbol"?function(s){var l;return s!=null&&(l=s[Y])&&l.apply(s)}:function(){return null};function H(s,l){return l=s.indexOf(l),0<=l&&s.splice(l,1),0<=l}var J={};function re(s){var l,u,d,h;if(arguments.length===1){if(f(s))return s.slice();if(this===J&&typeof s=="string")return[s];if(h=we(s)){for(u=[];!(d=h.next()).done;)u.push(d.value);return u}if(s==null)return[s];if(typeof(l=s.length)!="number")return[s];for(u=new Array(l);l--;)u[l]=s[l];return u}for(l=arguments.length,u=new Array(l);l--;)u[l]=arguments[l];return u}var ge=typeof Symbol<"u"?function(s){return s[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Cn=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],on=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Cn),Ce={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ue(s,l){this.name=s,this.message=l}function bt(s,l){return s+". Errors: "+Object.keys(l).map(function(u){return l[u].toString()}).filter(function(u,d,h){return h.indexOf(u)===d}).join(`
`)}function St(s,l,u,d){this.failures=l,this.failedKeys=d,this.successCount=u,this.message=bt(s,l)}function it(s,l){this.name="BulkError",this.failures=Object.keys(l).map(function(u){return l[u]}),this.failuresByPos=l,this.message=bt(s,this.failures)}K(Ue).from(Error).extend({toString:function(){return this.name+": "+this.message}}),K(St).from(Ue),K(it).from(Ue);var Kt=on.reduce(function(s,l){return s[l]=l+"Error",s},{}),tn=Ue,U=on.reduce(function(s,l){var u=l+"Error";function d(h,m){this.name=u,h?typeof h=="string"?(this.message="".concat(h).concat(m?`
 `+m:""),this.inner=m||null):typeof h=="object"&&(this.message="".concat(h.name," ").concat(h.message),this.inner=h):(this.message=Ce[l]||u,this.inner=null)}return K(d).from(tn),s[l]=d,s},{});U.Syntax=SyntaxError,U.Type=TypeError,U.Range=RangeError;var Se=Cn.reduce(function(s,l){return s[l+"Error"]=U[l],s},{}),be=on.reduce(function(s,l){return["Syntax","Type","Range"].indexOf(l)===-1&&(s[l+"Error"]=U[l]),s},{});function ve(){}function De(s){return s}function mt(s,l){return s==null||s===De?l:function(u){return l(s(u))}}function tt(s,l){return function(){s.apply(this,arguments),l.apply(this,arguments)}}function st(s,l){return s===ve?l:function(){var u=s.apply(this,arguments);u!==void 0&&(arguments[0]=u);var d=this.onsuccess,h=this.onerror;this.onsuccess=null,this.onerror=null;var m=l.apply(this,arguments);return d&&(this.onsuccess=this.onsuccess?tt(d,this.onsuccess):d),h&&(this.onerror=this.onerror?tt(h,this.onerror):h),m!==void 0?m:u}}function nn(s,l){return s===ve?l:function(){s.apply(this,arguments);var u=this.onsuccess,d=this.onerror;this.onsuccess=this.onerror=null,l.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?tt(u,this.onsuccess):u),d&&(this.onerror=this.onerror?tt(d,this.onerror):d)}}function hi(s,l){return s===ve?l:function(u){var d=s.apply(this,arguments);p(u,d);var h=this.onsuccess,m=this.onerror;return this.onsuccess=null,this.onerror=null,u=l.apply(this,arguments),h&&(this.onsuccess=this.onsuccess?tt(h,this.onsuccess):h),m&&(this.onerror=this.onerror?tt(m,this.onerror):m),d===void 0?u===void 0?void 0:u:p(d,u)}}function In(s,l){return s===ve?l:function(){return l.apply(this,arguments)!==!1&&s.apply(this,arguments)}}function os(s,l){return s===ve?l:function(){var u=s.apply(this,arguments);if(u&&typeof u.then=="function"){for(var d=this,h=arguments.length,m=new Array(h);h--;)m[h]=arguments[h];return u.then(function(){return l.apply(d,m)})}return l.apply(this,arguments)}}be.ModifyError=St,be.DexieError=Ue,be.BulkError=it;var It=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Fr(s){It=s}var Nn={},pi=100,hn=typeof Promise>"u"?[]:function(){var s=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[s,v(s),s];var l=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[l,v(l),s]}(),Cn=hn[0],on=hn[1],hn=hn[2],on=on&&on.then,En=Cn&&Cn.constructor,mi=!!hn,er=function(s,l){rn.push([s,l]),Mr&&(queueMicrotask(po),Mr=!1)},tr=!0,Mr=!0,pn=[],nr=[],Wt=De,dt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ve,pgp:!1,env:{},finalize:ve},ye=dt,rn=[],_n=0,Ir=[];function ce(s){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var l=this._PSD=ye;if(typeof s!="function"){if(s!==Nn)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&zr(this,this._value))}this._state=null,this._value=null,++l.ref,function u(d,h){try{h(function(m){if(d._state===null){if(m===d)throw new TypeError("A promise cannot be resolved with itself.");var y=d._lib&&mn();m&&typeof m.then=="function"?u(d,function(w,E){m instanceof ce?m._then(w,E):m.then(w,E)}):(d._state=!0,d._value=m,Dr(d)),y&&An()}},zr.bind(null,d))}catch(m){zr(d,m)}}(this,s)}var rr={get:function(){var s=ye,l=gi;function u(d,h){var m=this,y=!s.global&&(s!==ye||l!==gi),w=y&&!sn(),E=new ce(function(P,L){ls(m,new Ar(Br(d,s,y,w),Br(h,s,y,w),P,L,s))});return this._consoleTask&&(E._consoleTask=this._consoleTask),E}return u.prototype=Nn,u},set:function(s){z(this,"then",s&&s.prototype===Nn?rr:{get:function(){return s},set:rr.set})}};function Ar(s,l,u,d,h){this.onFulfilled=typeof s=="function"?s:null,this.onRejected=typeof l=="function"?l:null,this.resolve=u,this.reject=d,this.psd=h}function zr(s,l){var u,d;nr.push(l),s._state===null&&(u=s._lib&&mn(),l=Wt(l),s._state=!1,s._value=l,d=s,pn.some(function(h){return h._value===d._value})||pn.push(d),Dr(s),u&&An())}function Dr(s){var l=s._listeners;s._listeners=[];for(var u=0,d=l.length;u<d;++u)ls(s,l[u]);var h=s._PSD;--h.ref||h.finalize(),_n===0&&(++_n,er(function(){--_n==0&&as()},[]))}function ls(s,l){if(s._state!==null){var u=s._state?l.onFulfilled:l.onRejected;if(u===null)return(s._state?l.resolve:l.reject)(s._value);++l.psd.ref,++_n,er(ua,[u,s,l])}else s._listeners.push(l)}function ua(s,l,u){try{var d,h=l._value;!l._state&&nr.length&&(nr=[]),d=It&&l._consoleTask?l._consoleTask.run(function(){return s(h)}):s(h),l._state||nr.indexOf(h)!==-1||function(m){for(var y=pn.length;y;)if(pn[--y]._value===m._value)return pn.splice(y,1)}(l),u.resolve(d)}catch(m){u.reject(m)}finally{--_n==0&&as(),--u.psd.ref||u.psd.finalize()}}function po(){vn(dt,function(){mn()&&An()})}function mn(){var s=tr;return Mr=tr=!1,s}function An(){var s,l,u;do for(;0<rn.length;)for(s=rn,rn=[],u=s.length,l=0;l<u;++l){var d=s[l];d[0].apply(null,d[1])}while(0<rn.length);Mr=tr=!0}function as(){var s=pn;pn=[],s.forEach(function(d){d._PSD.onunhandled.call(null,d._value,d)});for(var l=Ir.slice(0),u=l.length;u;)l[--u]()}function yi(s){return new ce(Nn,!1,s)}function Be(s,l){var u=ye;return function(){var d=mn(),h=ye;try{return Tt(u,!0),s.apply(this,arguments)}catch(m){l&&l(m)}finally{Tt(h,!1),d&&An()}}}_(ce.prototype,{then:rr,_then:function(s,l){ls(this,new Ar(null,null,s,l,ye))},catch:function(s){if(arguments.length===1)return this.then(null,s);var l=s,u=arguments[1];return typeof l=="function"?this.then(null,function(d){return(d instanceof l?u:yi)(d)}):this.then(null,function(d){return(d&&d.name===l?u:yi)(d)})},finally:function(s){return this.then(function(l){return ce.resolve(s()).then(function(){return l})},function(l){return ce.resolve(s()).then(function(){return yi(l)})})},timeout:function(s,l){var u=this;return s<1/0?new ce(function(d,h){var m=setTimeout(function(){return h(new U.Timeout(l))},s);u.then(d,h).finally(clearTimeout.bind(null,m))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&z(ce.prototype,Symbol.toStringTag,"Dexie.Promise"),dt.env=$r(),_(ce,{all:function(){var s=re.apply(null,arguments).map(yt);return new ce(function(l,u){s.length===0&&l([]);var d=s.length;s.forEach(function(h,m){return ce.resolve(h).then(function(y){s[m]=y,--d||l(s)},u)})})},resolve:function(s){return s instanceof ce?s:s&&typeof s.then=="function"?new ce(function(l,u){s.then(l,u)}):new ce(Nn,!0,s)},reject:yi,race:function(){var s=re.apply(null,arguments).map(yt);return new ce(function(l,u){s.map(function(d){return ce.resolve(d).then(l,u)})})},PSD:{get:function(){return ye},set:function(s){return ye=s}},totalEchoes:{get:function(){return gi}},newPSD:yn,usePSD:vn,scheduler:{get:function(){return er},set:function(s){er=s}},rejectionMapper:{get:function(){return Wt},set:function(s){Wt=s}},follow:function(s,l){return new ce(function(u,d){return yn(function(h,m){var y=ye;y.unhandleds=[],y.onunhandled=m,y.finalize=tt(function(){var w,E=this;w=function(){E.unhandleds.length===0?h():m(E.unhandleds[0])},Ir.push(function P(){w(),Ir.splice(Ir.indexOf(P),1)}),++_n,er(function(){--_n==0&&as()},[])},y.finalize),s()},l,u,d)})}}),En&&(En.allSettled&&z(ce,"allSettled",function(){var s=re.apply(null,arguments).map(yt);return new ce(function(l){s.length===0&&l([]);var u=s.length,d=new Array(u);s.forEach(function(h,m){return ce.resolve(h).then(function(y){return d[m]={status:"fulfilled",value:y}},function(y){return d[m]={status:"rejected",reason:y}}).then(function(){return--u||l(d)})})})}),En.any&&typeof AggregateError<"u"&&z(ce,"any",function(){var s=re.apply(null,arguments).map(yt);return new ce(function(l,u){s.length===0&&u(new AggregateError([]));var d=s.length,h=new Array(d);s.forEach(function(m,y){return ce.resolve(m).then(function(w){return l(w)},function(w){h[y]=w,--d||u(new AggregateError(h))})})})}),En.withResolvers&&(ce.withResolvers=En.withResolvers));var ot={awaits:0,echoes:0,id:0},Ur=0,ir=[],vi=0,gi=0,mo=0;function yn(s,l,u,d){var h=ye,m=Object.create(h);return m.parent=h,m.ref=0,m.global=!1,m.id=++mo,dt.env,m.env=mi?{Promise:ce,PromiseProp:{value:ce,configurable:!0,writable:!0},all:ce.all,race:ce.race,allSettled:ce.allSettled,any:ce.any,resolve:ce.resolve,reject:ce.reject}:{},l&&p(m,l),++h.ref,m.finalize=function(){--this.parent.ref||this.parent.finalize()},d=vn(m,s,u,d),m.ref===0&&m.finalize(),d}function zn(){return ot.id||(ot.id=++Ur),++ot.awaits,ot.echoes+=pi,ot.id}function sn(){return!!ot.awaits&&(--ot.awaits==0&&(ot.id=0),ot.echoes=ot.awaits*pi,!0)}function yt(s){return ot.echoes&&s&&s.constructor===En?(zn(),s.then(function(l){return sn(),l},function(l){return sn(),Qe(l)})):s}function sr(){var s=ir[ir.length-1];ir.pop(),Tt(s,!1)}function Tt(s,l){var u,d=ye;(l?!ot.echoes||vi++&&s===ye:!vi||--vi&&s===ye)||queueMicrotask(l?(function(h){++gi,ot.echoes&&--ot.echoes!=0||(ot.echoes=ot.awaits=ot.id=0),ir.push(ye),Tt(h,!0)}).bind(null,s):sr),s!==ye&&(ye=s,d===dt&&(dt.env=$r()),mi&&(u=dt.env.Promise,l=s.env,(d.global||s.global)&&(Object.defineProperty(o,"Promise",l.PromiseProp),u.all=l.all,u.race=l.race,u.resolve=l.resolve,u.reject=l.reject,l.allSettled&&(u.allSettled=l.allSettled),l.any&&(u.any=l.any))))}function $r(){var s=o.Promise;return mi?{Promise:s,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:s.all,race:s.race,allSettled:s.allSettled,any:s.any,resolve:s.resolve,reject:s.reject}:{}}function vn(s,l,u,d,h){var m=ye;try{return Tt(s,!0),l(u,d,h)}finally{Tt(m,!1)}}function Br(s,l,u,d){return typeof s!="function"?s:function(){var h=ye;u&&zn(),Tt(l,!0);try{return s.apply(this,arguments)}finally{Tt(h,!1),d&&queueMicrotask(sn)}}}function xi(s){Promise===En&&ot.echoes===0?vi===0?s():enqueueNativeMicroTask(s):setTimeout(s,0)}(""+on).indexOf("[native code]")===-1&&(zn=sn=ve);var Qe=ce.reject,Ht="",Vt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",j="String expected.",ie=[],W="__dbnames",ke="readonly",Le="readwrite";function xe(s,l){return s?l?function(){return s.apply(this,arguments)&&l.apply(this,arguments)}:s:l}var ze={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Kr(s){return typeof s!="string"||/\./.test(s)?function(l){return l}:function(l){return l[s]===void 0&&s in l&&delete(l=oe(l))[s],l}}function bd(){throw U.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Fe(s,l){try{var u=Sd(s),d=Sd(l);if(u!==d)return u==="Array"?1:d==="Array"?-1:u==="binary"?1:d==="binary"?-1:u==="string"?1:d==="string"?-1:u==="Date"?1:d!=="Date"?NaN:-1;switch(u){case"number":case"Date":case"string":return l<s?1:s<l?-1:0;case"binary":return function(h,m){for(var y=h.length,w=m.length,E=y<w?y:w,P=0;P<E;++P)if(h[P]!==m[P])return h[P]<m[P]?-1:1;return y===w?0:y<w?-1:1}(kd(s),kd(l));case"Array":return function(h,m){for(var y=h.length,w=m.length,E=y<w?y:w,P=0;P<E;++P){var L=Fe(h[P],m[P]);if(L!==0)return L}return y===w?0:y<w?-1:1}(s,l)}}catch{}return NaN}function Sd(s){var l=typeof s;return l!="object"?l:ArrayBuffer.isView(s)?"binary":(s=se(s),s==="ArrayBuffer"?"binary":s)}function kd(s){return s instanceof Uint8Array?s:ArrayBuffer.isView(s)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s)}function yo(s,l,u){var d=s.schema.yProps;return d?(l&&0<u.numFailures&&(l=l.filter(function(h,m){return!u.failures[m]})),Promise.all(d.map(function(h){return h=h.updatesTable,l?s.db.table(h).where("k").anyOf(l).delete():s.db.table(h).clear()})).then(function(){return u})):u}var us=(jd.prototype.execute=function(s){var l=this["@@propmod"];if(l.add!==void 0){var u=l.add;if(f(u))return i(i([],f(s)?s:[],!0),u).sort();if(typeof u=="number")return(Number(s)||0)+u;if(typeof u=="bigint")try{return BigInt(s)+u}catch{return BigInt(0)+u}throw new TypeError("Invalid term ".concat(u))}if(l.remove!==void 0){var d=l.remove;if(f(d))return f(s)?s.filter(function(h){return!d.includes(h)}).sort():[];if(typeof d=="number")return Number(s)-d;if(typeof d=="bigint")try{return BigInt(s)-d}catch{return BigInt(0)-d}throw new TypeError("Invalid subtrahend ".concat(d))}return u=(u=l.replacePrefix)===null||u===void 0?void 0:u[0],u&&typeof s=="string"&&s.startsWith(u)?l.replacePrefix[1]+s.substring(u.length):s},jd);function jd(s){this["@@propmod"]=s}function Nd(s,l){for(var u=a(l),d=u.length,h=!1,m=0;m<d;++m){var y=u[m],w=l[y],E=G(s,y);w instanceof us?(Q(s,y,w.execute(E)),h=!0):E!==w&&(Q(s,y,w),h=!0)}return h}var Cd=(Ke.prototype._trans=function(s,l,u){var d=this._tx||ye.trans,h=this.name,m=It&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(s==="readonly"?"read":"write"," ").concat(this.name));function y(P,L,k){if(!k.schema[h])throw new U.NotFound("Table "+h+" not part of transaction");return l(k.idbtrans,k)}var w=mn();try{var E=d&&d.db._novip===this.db._novip?d===ye.trans?d._promise(s,y,u):yn(function(){return d._promise(s,y,u)},{trans:d,transless:ye.transless||ye}):function P(L,k,M,T){if(L.idbdb&&(L._state.openComplete||ye.letThrough||L._vip)){var R=L._createTransaction(k,M,L._dbSchema);try{R.create(),L._state.PR1398_maxLoop=3}catch(O){return O.name===Kt.InvalidState&&L.isOpen()&&0<--L._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),L.close({disableAutoOpen:!1}),L.open().then(function(){return P(L,k,M,T)})):Qe(O)}return R._promise(k,function(O,F){return yn(function(){return ye.trans=R,T(O,F,R)})}).then(function(O){if(k==="readwrite")try{R.idbtrans.commit()}catch{}return k==="readonly"?O:R._completion.then(function(){return O})})}if(L._state.openComplete)return Qe(new U.DatabaseClosed(L._state.dbOpenError));if(!L._state.isBeingOpened){if(!L._state.autoOpen)return Qe(new U.DatabaseClosed);L.open().catch(ve)}return L._state.dbReadyPromise.then(function(){return P(L,k,M,T)})}(this.db,s,[this.name],y);return m&&(E._consoleTask=m,E=E.catch(function(P){return console.trace(P),Qe(P)})),E}finally{w&&An()}},Ke.prototype.get=function(s,l){var u=this;return s&&s.constructor===Object?this.where(s).first(l):s==null?Qe(new U.Type("Invalid argument to Table.get()")):this._trans("readonly",function(d){return u.core.get({trans:d,key:s}).then(function(h){return u.hook.reading.fire(h)})}).then(l)},Ke.prototype.where=function(s){if(typeof s=="string")return new this.db.WhereClause(this,s);if(f(s))return new this.db.WhereClause(this,"[".concat(s.join("+"),"]"));var l=a(s);if(l.length===1)return this.where(l[0]).equals(s[l[0]]);var u=this.schema.indexes.concat(this.schema.primKey).filter(function(w){if(w.compound&&l.every(function(P){return 0<=w.keyPath.indexOf(P)})){for(var E=0;E<l.length;++E)if(l.indexOf(w.keyPath[E])===-1)return!1;return!0}return!1}).sort(function(w,E){return w.keyPath.length-E.keyPath.length})[0];if(u&&this.db._maxKey!==Ht){var m=u.keyPath.slice(0,l.length);return this.where(m).equals(m.map(function(E){return s[E]}))}!u&&It&&console.warn("The query ".concat(JSON.stringify(s)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(l.join("+"),"]"));var d=this.schema.idxByName;function h(w,E){return Fe(w,E)===0}var y=l.reduce(function(k,E){var P=k[0],L=k[1],k=d[E],M=s[E];return[P||k,P||!k?xe(L,k&&k.multi?function(T){return T=G(T,E),f(T)&&T.some(function(R){return h(M,R)})}:function(T){return h(M,G(T,E))}):L]},[null,null]),m=y[0],y=y[1];return m?this.where(m.name).equals(s[m.keyPath]).filter(y):u?this.filter(y):this.where(l).equals("")},Ke.prototype.filter=function(s){return this.toCollection().and(s)},Ke.prototype.count=function(s){return this.toCollection().count(s)},Ke.prototype.offset=function(s){return this.toCollection().offset(s)},Ke.prototype.limit=function(s){return this.toCollection().limit(s)},Ke.prototype.each=function(s){return this.toCollection().each(s)},Ke.prototype.toArray=function(s){return this.toCollection().toArray(s)},Ke.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Ke.prototype.orderBy=function(s){return new this.db.Collection(new this.db.WhereClause(this,f(s)?"[".concat(s.join("+"),"]"):s))},Ke.prototype.reverse=function(){return this.toCollection().reverse()},Ke.prototype.mapToClass=function(s){var l,u=this.db,d=this.name;function h(){return l!==null&&l.apply(this,arguments)||this}(this.schema.mappedClass=s).prototype instanceof bd&&(function(E,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function L(){this.constructor=E}n(E,P),E.prototype=P===null?Object.create(P):(L.prototype=P.prototype,new L)}(h,l=s),Object.defineProperty(h.prototype,"db",{get:function(){return u},enumerable:!1,configurable:!0}),h.prototype.table=function(){return d},s=h);for(var m=new Set,y=s.prototype;y;y=v(y))Object.getOwnPropertyNames(y).forEach(function(E){return m.add(E)});function w(E){if(!E)return E;var P,L=Object.create(s.prototype);for(P in E)if(!m.has(P))try{L[P]=E[P]}catch{}return L}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=w,this.hook("reading",w),s},Ke.prototype.defineClass=function(){return this.mapToClass(function(s){p(this,s)})},Ke.prototype.add=function(s,l){var u=this,d=this.schema.primKey,h=d.auto,m=d.keyPath,y=s;return m&&h&&(y=Kr(m)(s)),this._trans("readwrite",function(w){return u.core.mutate({trans:w,type:"add",keys:l!=null?[l]:null,values:[y]})}).then(function(w){return w.numFailures?ce.reject(w.failures[0]):w.lastResult}).then(function(w){if(m)try{Q(s,m,w)}catch{}return w})},Ke.prototype.upsert=function(s,l){var u=this,d=this.schema.primKey.keyPath;return this._trans("readwrite",function(h){return u.core.get({trans:h,key:s}).then(function(m){var y=m??{};return Nd(y,l),d&&Q(y,d,s),u.core.mutate({trans:h,type:"put",values:[y],keys:[s],upsert:!0,updates:{keys:[s],changeSpecs:[l]}}).then(function(w){return w.numFailures?ce.reject(w.failures[0]):!!m})})})},Ke.prototype.update=function(s,l){return typeof s!="object"||f(s)?this.where(":id").equals(s).modify(l):(s=G(s,this.schema.primKey.keyPath),s===void 0?Qe(new U.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(s).modify(l))},Ke.prototype.put=function(s,l){var u=this,d=this.schema.primKey,h=d.auto,m=d.keyPath,y=s;return m&&h&&(y=Kr(m)(s)),this._trans("readwrite",function(w){return u.core.mutate({trans:w,type:"put",values:[y],keys:l!=null?[l]:null})}).then(function(w){return w.numFailures?ce.reject(w.failures[0]):w.lastResult}).then(function(w){if(m)try{Q(s,m,w)}catch{}return w})},Ke.prototype.delete=function(s){var l=this;return this._trans("readwrite",function(u){return l.core.mutate({trans:u,type:"delete",keys:[s]}).then(function(d){return yo(l,[s],d)}).then(function(d){return d.numFailures?ce.reject(d.failures[0]):void 0})})},Ke.prototype.clear=function(){var s=this;return this._trans("readwrite",function(l){return s.core.mutate({trans:l,type:"deleteRange",range:ze}).then(function(u){return yo(s,null,u)})}).then(function(l){return l.numFailures?ce.reject(l.failures[0]):void 0})},Ke.prototype.bulkGet=function(s){var l=this;return this._trans("readonly",function(u){return l.core.getMany({keys:s,trans:u}).then(function(d){return d.map(function(h){return l.hook.reading.fire(h)})})})},Ke.prototype.bulkAdd=function(s,l,u){var d=this,h=Array.isArray(l)?l:void 0,m=(u=u||(h?void 0:l))?u.allKeys:void 0;return this._trans("readwrite",function(y){var P=d.schema.primKey,w=P.auto,P=P.keyPath;if(P&&h)throw new U.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(h&&h.length!==s.length)throw new U.InvalidArgument("Arguments objects and keys must have the same length");var E=s.length,P=P&&w?s.map(Kr(P)):s;return d.core.mutate({trans:y,type:"add",keys:h,values:P,wantResults:m}).then(function(R){var k=R.numFailures,M=R.results,T=R.lastResult,R=R.failures;if(k===0)return m?M:T;throw new it("".concat(d.name,".bulkAdd(): ").concat(k," of ").concat(E," operations failed"),R)})})},Ke.prototype.bulkPut=function(s,l,u){var d=this,h=Array.isArray(l)?l:void 0,m=(u=u||(h?void 0:l))?u.allKeys:void 0;return this._trans("readwrite",function(y){var P=d.schema.primKey,w=P.auto,P=P.keyPath;if(P&&h)throw new U.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(h&&h.length!==s.length)throw new U.InvalidArgument("Arguments objects and keys must have the same length");var E=s.length,P=P&&w?s.map(Kr(P)):s;return d.core.mutate({trans:y,type:"put",keys:h,values:P,wantResults:m}).then(function(R){var k=R.numFailures,M=R.results,T=R.lastResult,R=R.failures;if(k===0)return m?M:T;throw new it("".concat(d.name,".bulkPut(): ").concat(k," of ").concat(E," operations failed"),R)})})},Ke.prototype.bulkUpdate=function(s){var l=this,u=this.core,d=s.map(function(y){return y.key}),h=s.map(function(y){return y.changes}),m=[];return this._trans("readwrite",function(y){return u.getMany({trans:y,keys:d,cache:"clone"}).then(function(w){var E=[],P=[];s.forEach(function(k,M){var T=k.key,R=k.changes,O=w[M];if(O){for(var F=0,I=Object.keys(R);F<I.length;F++){var D=I[F],B=R[D];if(D===l.schema.primKey.keyPath){if(Fe(B,T)!==0)throw new U.Constraint("Cannot update primary key in bulkUpdate()")}else Q(O,D,B)}m.push(M),E.push(T),P.push(O)}});var L=E.length;return u.mutate({trans:y,type:"put",keys:E,values:P,updates:{keys:d,changeSpecs:h}}).then(function(k){var M=k.numFailures,T=k.failures;if(M===0)return L;for(var R=0,O=Object.keys(T);R<O.length;R++){var F,I=O[R],D=m[Number(I)];D!=null&&(F=T[I],delete T[I],T[D]=F)}throw new it("".concat(l.name,".bulkUpdate(): ").concat(M," of ").concat(L," operations failed"),T)})})})},Ke.prototype.bulkDelete=function(s){var l=this,u=s.length;return this._trans("readwrite",function(d){return l.core.mutate({trans:d,type:"delete",keys:s}).then(function(h){return yo(l,s,h)})}).then(function(y){var h=y.numFailures,m=y.lastResult,y=y.failures;if(h===0)return m;throw new it("".concat(l.name,".bulkDelete(): ").concat(h," of ").concat(u," operations failed"),y)})},Ke);function Ke(){}function cs(s){function l(y,w){if(w){for(var E=arguments.length,P=new Array(E-1);--E;)P[E-1]=arguments[E];return u[y].subscribe.apply(null,P),s}if(typeof y=="string")return u[y]}var u={};l.addEventType=m;for(var d=1,h=arguments.length;d<h;++d)m(arguments[d]);return l;function m(y,w,E){if(typeof y!="object"){var P;w=w||In;var L={subscribers:[],fire:E=E||ve,subscribe:function(k){L.subscribers.indexOf(k)===-1&&(L.subscribers.push(k),L.fire=w(L.fire,k))},unsubscribe:function(k){L.subscribers=L.subscribers.filter(function(M){return M!==k}),L.fire=L.subscribers.reduce(w,E)}};return u[y]=l[y]=L}a(P=y).forEach(function(k){var M=P[k];if(f(M))m(k,P[k][0],P[k][1]);else{if(M!=="asap")throw new U.InvalidArgument("Invalid event config");var T=m(k,De,function(){for(var R=arguments.length,O=new Array(R);R--;)O[R]=arguments[R];T.subscribers.forEach(function(F){X(function(){F.apply(null,O)})})})}})}}function ds(s,l){return K(l).from({prototype:s}),l}function wi(s,l){return!(s.filter||s.algorithm||s.or)&&(l?s.justLimit:!s.replayFilter)}function ca(s,l){s.filter=xe(s.filter,l)}function da(s,l,u){var d=s.replayFilter;s.replayFilter=d?function(){return xe(d(),l())}:l,s.justLimit=u&&!d}function vo(s,l){if(s.isPrimKey)return l.primaryKey;var u=l.getIndexByKeyPath(s.index);if(!u)throw new U.Schema("KeyPath "+s.index+" on object store "+l.name+" is not indexed");return u}function Ed(s,l,u){var d=vo(s,l.schema);return l.openCursor({trans:u,values:!s.keysOnly,reverse:s.dir==="prev",unique:!!s.unique,query:{index:d,range:s.range}})}function go(s,l,u,d){var h=s.replayFilter?xe(s.filter,s.replayFilter()):s.filter;if(s.or){var m={},y=function(w,E,P){var L,k;h&&!h(E,P,function(M){return E.stop(M)},function(M){return E.fail(M)})||((k=""+(L=E.primaryKey))=="[object ArrayBuffer]"&&(k=""+new Uint8Array(L)),b(m,k)||(m[k]=!0,l(w,E,P)))};return Promise.all([s.or._iterate(y,u),_d(Ed(s,d,u),s.algorithm,y,!s.keysOnly&&s.valueMapper)])}return _d(Ed(s,d,u),xe(s.algorithm,h),l,!s.keysOnly&&s.valueMapper)}function _d(s,l,u,d){var h=Be(d?function(m,y,w){return u(d(m),y,w)}:u);return s.then(function(m){if(m)return m.start(function(){var y=function(){return m.continue()};l&&!l(m,function(w){return y=w},function(w){m.stop(w),y=ve},function(w){m.fail(w),y=ve})||h(m.value,m,function(w){return y=w}),y()})})}var by=(Ie.prototype._read=function(s,l){var u=this._ctx;return u.error?u.table._trans(null,Qe.bind(null,u.error)):u.table._trans("readonly",s).then(l)},Ie.prototype._write=function(s){var l=this._ctx;return l.error?l.table._trans(null,Qe.bind(null,l.error)):l.table._trans("readwrite",s,"locked")},Ie.prototype._addAlgorithm=function(s){var l=this._ctx;l.algorithm=xe(l.algorithm,s)},Ie.prototype._iterate=function(s,l){return go(this._ctx,s,l,this._ctx.table.core)},Ie.prototype.clone=function(s){var l=Object.create(this.constructor.prototype),u=Object.create(this._ctx);return s&&p(u,s),l._ctx=u,l},Ie.prototype.raw=function(){return this._ctx.valueMapper=null,this},Ie.prototype.each=function(s){var l=this._ctx;return this._read(function(u){return go(l,s,u,l.table.core)})},Ie.prototype.count=function(s){var l=this;return this._read(function(u){var d=l._ctx,h=d.table.core;if(wi(d,!0))return h.count({trans:u,query:{index:vo(d,h.schema),range:d.range}}).then(function(y){return Math.min(y,d.limit)});var m=0;return go(d,function(){return++m,!1},u,h).then(function(){return m})}).then(s)},Ie.prototype.sortBy=function(s,l){var u=s.split(".").reverse(),d=u[0],h=u.length-1;function m(E,P){return P?m(E[u[P]],P-1):E[d]}var y=this._ctx.dir==="next"?1:-1;function w(E,P){return Fe(m(E,h),m(P,h))*y}return this.toArray(function(E){return E.sort(w)}).then(l)},Ie.prototype.toArray=function(s){var l=this;return this._read(function(u){var d=l._ctx;if(d.dir==="next"&&wi(d,!0)&&0<d.limit){var h=d.valueMapper,m=vo(d,d.table.core.schema);return d.table.core.query({trans:u,limit:d.limit,values:!0,query:{index:m,range:d.range}}).then(function(w){return w=w.result,h?w.map(h):w})}var y=[];return go(d,function(w){return y.push(w)},u,d.table.core).then(function(){return y})},s)},Ie.prototype.offset=function(s){var l=this._ctx;return s<=0||(l.offset+=s,wi(l)?da(l,function(){var u=s;return function(d,h){return u===0||(u===1?--u:h(function(){d.advance(u),u=0}),!1)}}):da(l,function(){var u=s;return function(){return--u<0}})),this},Ie.prototype.limit=function(s){return this._ctx.limit=Math.min(this._ctx.limit,s),da(this._ctx,function(){var l=s;return function(u,d,h){return--l<=0&&d(h),0<=l}},!0),this},Ie.prototype.until=function(s,l){return ca(this._ctx,function(u,d,h){return!s(u.value)||(d(h),l)}),this},Ie.prototype.first=function(s){return this.limit(1).toArray(function(l){return l[0]}).then(s)},Ie.prototype.last=function(s){return this.reverse().first(s)},Ie.prototype.filter=function(s){var l;return ca(this._ctx,function(u){return s(u.value)}),(l=this._ctx).isMatch=xe(l.isMatch,s),this},Ie.prototype.and=function(s){return this.filter(s)},Ie.prototype.or=function(s){return new this.db.WhereClause(this._ctx.table,s,this)},Ie.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Ie.prototype.desc=function(){return this.reverse()},Ie.prototype.eachKey=function(s){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(u,d){s(d.key,d)})},Ie.prototype.eachUniqueKey=function(s){return this._ctx.unique="unique",this.eachKey(s)},Ie.prototype.eachPrimaryKey=function(s){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(u,d){s(d.primaryKey,d)})},Ie.prototype.keys=function(s){var l=this._ctx;l.keysOnly=!l.isMatch;var u=[];return this.each(function(d,h){u.push(h.key)}).then(function(){return u}).then(s)},Ie.prototype.primaryKeys=function(s){var l=this._ctx;if(l.dir==="next"&&wi(l,!0)&&0<l.limit)return this._read(function(d){var h=vo(l,l.table.core.schema);return l.table.core.query({trans:d,values:!1,limit:l.limit,query:{index:h,range:l.range}})}).then(function(d){return d.result}).then(s);l.keysOnly=!l.isMatch;var u=[];return this.each(function(d,h){u.push(h.primaryKey)}).then(function(){return u}).then(s)},Ie.prototype.uniqueKeys=function(s){return this._ctx.unique="unique",this.keys(s)},Ie.prototype.firstKey=function(s){return this.limit(1).keys(function(l){return l[0]}).then(s)},Ie.prototype.lastKey=function(s){return this.reverse().firstKey(s)},Ie.prototype.distinct=function(){var s=this._ctx,s=s.index&&s.table.schema.idxByName[s.index];if(!s||!s.multi)return this;var l={};return ca(this._ctx,function(h){var d=h.primaryKey.toString(),h=b(l,d);return l[d]=!0,!h}),this},Ie.prototype.modify=function(s){var l=this,u=this._ctx;return this._write(function(d){var h=typeof s=="function"?s:function(O){return Nd(O,s)},m=u.table.core,P=m.schema.primaryKey,y=P.outbound,w=P.extractKey,E=200,P=l.db._options.modifyChunkSize;P&&(E=typeof P=="object"?P[m.name]||P["*"]||200:P);function L(O,D){var I=D.failures,D=D.numFailures;M+=O-D;for(var B=0,V=a(I);B<V.length;B++){var le=V[B];k.push(I[le])}}var k=[],M=0,T=[],R=s===Pd;return l.clone().primaryKeys().then(function(O){function F(D){var B=Math.min(E,O.length-D),V=O.slice(D,D+B);return(R?Promise.resolve([]):m.getMany({trans:d,keys:V,cache:"immutable"})).then(function(le){var de=[],te=[],ae=y?[]:null,fe=R?V:[];if(!R)for(var ue=0;ue<B;++ue){var pe=le[ue],_e={value:oe(pe),primKey:O[D+ue]};h.call(_e,_e.value,_e)!==!1&&(_e.value==null?fe.push(O[D+ue]):y||Fe(w(pe),w(_e.value))===0?(te.push(_e.value),y&&ae.push(O[D+ue])):(fe.push(O[D+ue]),de.push(_e.value)))}return Promise.resolve(0<de.length&&m.mutate({trans:d,type:"add",values:de}).then(function(Pe){for(var Te in Pe.failures)fe.splice(parseInt(Te),1);L(de.length,Pe)})).then(function(){return(0<te.length||I&&typeof s=="object")&&m.mutate({trans:d,type:"put",keys:ae,values:te,criteria:I,changeSpec:typeof s!="function"&&s,isAdditionalChunk:0<D}).then(function(Pe){return L(te.length,Pe)})}).then(function(){return(0<fe.length||I&&R)&&m.mutate({trans:d,type:"delete",keys:fe,criteria:I,isAdditionalChunk:0<D}).then(function(Pe){return yo(u.table,fe,Pe)}).then(function(Pe){return L(fe.length,Pe)})}).then(function(){return O.length>D+B&&F(D+E)})})}var I=wi(u)&&u.limit===1/0&&(typeof s!="function"||R)&&{index:u.index,range:u.range};return F(0).then(function(){if(0<k.length)throw new St("Error modifying one or more objects",k,M,T);return O.length})})})},Ie.prototype.delete=function(){var s=this._ctx,l=s.range;return!wi(s)||s.table.schema.yProps||!s.isPrimKey&&l.type!==3?this.modify(Pd):this._write(function(u){var d=s.table.core.schema.primaryKey,h=l;return s.table.core.count({trans:u,query:{index:d,range:h}}).then(function(m){return s.table.core.mutate({trans:u,type:"deleteRange",range:h}).then(function(E){var w=E.failures,E=E.numFailures;if(E)throw new St("Could not delete some values",Object.keys(w).map(function(P){return w[P]}),m-E);return m-E})})})},Ie);function Ie(){}var Pd=function(s,l){return l.value=null};function Sy(s,l){return s<l?-1:s===l?0:1}function ky(s,l){return l<s?-1:s===l?0:1}function qt(s,l,u){return s=s instanceof Rd?new s.Collection(s):s,s._ctx.error=new(u||TypeError)(l),s}function bi(s){return new s.Collection(s,function(){return Td("")}).limit(0)}function xo(s,l,u,d){var h,m,y,w,E,P,L,k=u.length;if(!u.every(function(R){return typeof R=="string"}))return qt(s,j);function M(R){h=R==="next"?function(F){return F.toUpperCase()}:function(F){return F.toLowerCase()},m=R==="next"?function(F){return F.toLowerCase()}:function(F){return F.toUpperCase()},y=R==="next"?Sy:ky;var O=u.map(function(F){return{lower:m(F),upper:h(F)}}).sort(function(F,I){return y(F.lower,I.lower)});w=O.map(function(F){return F.upper}),E=O.map(function(F){return F.lower}),L=(P=R)==="next"?"":d}M("next"),s=new s.Collection(s,function(){return or(w[0],E[k-1]+d)}),s._ondirectionchange=function(R){M(R)};var T=0;return s._addAlgorithm(function(R,O,F){var I=R.key;if(typeof I!="string")return!1;var D=m(I);if(l(D,E,T))return!0;for(var B=null,V=T;V<k;++V){var le=function(de,te,ae,fe,ue,pe){for(var _e=Math.min(de.length,fe.length),Pe=-1,Te=0;Te<_e;++Te){var Qt=te[Te];if(Qt!==fe[Te])return ue(de[Te],ae[Te])<0?de.substr(0,Te)+ae[Te]+ae.substr(Te+1):ue(de[Te],fe[Te])<0?de.substr(0,Te)+fe[Te]+ae.substr(Te+1):0<=Pe?de.substr(0,Pe)+te[Pe]+ae.substr(Pe+1):null;ue(de[Te],Qt)<0&&(Pe=Te)}return _e<fe.length&&pe==="next"?de+ae.substr(de.length):_e<de.length&&pe==="prev"?de.substr(0,ae.length):Pe<0?null:de.substr(0,Pe)+fe[Pe]+ae.substr(Pe+1)}(I,D,w[V],E[V],y,P);le===null&&B===null?T=V+1:(B===null||0<y(B,le))&&(B=le)}return O(B!==null?function(){R.continue(B+L)}:F),!1}),s}function or(s,l,u,d){return{type:2,lower:s,upper:l,lowerOpen:u,upperOpen:d}}function Td(s){return{type:1,lower:s,upper:s}}var Rd=(Object.defineProperty(ft.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),ft.prototype.between=function(s,l,u,d){u=u!==!1,d=d===!0;try{return 0<this._cmp(s,l)||this._cmp(s,l)===0&&(u||d)&&(!u||!d)?bi(this):new this.Collection(this,function(){return or(s,l,!u,!d)})}catch{return qt(this,Vt)}},ft.prototype.equals=function(s){return s==null?qt(this,Vt):new this.Collection(this,function(){return Td(s)})},ft.prototype.above=function(s){return s==null?qt(this,Vt):new this.Collection(this,function(){return or(s,void 0,!0)})},ft.prototype.aboveOrEqual=function(s){return s==null?qt(this,Vt):new this.Collection(this,function(){return or(s,void 0,!1)})},ft.prototype.below=function(s){return s==null?qt(this,Vt):new this.Collection(this,function(){return or(void 0,s,!1,!0)})},ft.prototype.belowOrEqual=function(s){return s==null?qt(this,Vt):new this.Collection(this,function(){return or(void 0,s)})},ft.prototype.startsWith=function(s){return typeof s!="string"?qt(this,j):this.between(s,s+Ht,!0,!0)},ft.prototype.startsWithIgnoreCase=function(s){return s===""?this.startsWith(s):xo(this,function(l,u){return l.indexOf(u[0])===0},[s],Ht)},ft.prototype.equalsIgnoreCase=function(s){return xo(this,function(l,u){return l===u[0]},[s],"")},ft.prototype.anyOfIgnoreCase=function(){var s=re.apply(J,arguments);return s.length===0?bi(this):xo(this,function(l,u){return u.indexOf(l)!==-1},s,"")},ft.prototype.startsWithAnyOfIgnoreCase=function(){var s=re.apply(J,arguments);return s.length===0?bi(this):xo(this,function(l,u){return u.some(function(d){return l.indexOf(d)===0})},s,Ht)},ft.prototype.anyOf=function(){var s=this,l=re.apply(J,arguments),u=this._cmp;try{l.sort(u)}catch{return qt(this,Vt)}if(l.length===0)return bi(this);var d=new this.Collection(this,function(){return or(l[0],l[l.length-1])});d._ondirectionchange=function(m){u=m==="next"?s._ascending:s._descending,l.sort(u)};var h=0;return d._addAlgorithm(function(m,y,w){for(var E=m.key;0<u(E,l[h]);)if(++h===l.length)return y(w),!1;return u(E,l[h])===0||(y(function(){m.continue(l[h])}),!1)}),d},ft.prototype.notEqual=function(s){return this.inAnyRange([[-1/0,s],[s,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},ft.prototype.noneOf=function(){var s=re.apply(J,arguments);if(s.length===0)return new this.Collection(this);try{s.sort(this._ascending)}catch{return qt(this,Vt)}var l=s.reduce(function(u,d){return u?u.concat([[u[u.length-1][1],d]]):[[-1/0,d]]},null);return l.push([s[s.length-1],this.db._maxKey]),this.inAnyRange(l,{includeLowers:!1,includeUppers:!1})},ft.prototype.inAnyRange=function(I,l){var u=this,d=this._cmp,h=this._ascending,m=this._descending,y=this._min,w=this._max;if(I.length===0)return bi(this);if(!I.every(function(D){return D[0]!==void 0&&D[1]!==void 0&&h(D[0],D[1])<=0}))return qt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",U.InvalidArgument);var E=!l||l.includeLowers!==!1,P=l&&l.includeUppers===!0,L,k=h;function M(D,B){return k(D[0],B[0])}try{(L=I.reduce(function(D,B){for(var V=0,le=D.length;V<le;++V){var de=D[V];if(d(B[0],de[1])<0&&0<d(B[1],de[0])){de[0]=y(de[0],B[0]),de[1]=w(de[1],B[1]);break}}return V===le&&D.push(B),D},[])).sort(M)}catch{return qt(this,Vt)}var T=0,R=P?function(D){return 0<h(D,L[T][1])}:function(D){return 0<=h(D,L[T][1])},O=E?function(D){return 0<m(D,L[T][0])}:function(D){return 0<=m(D,L[T][0])},F=R,I=new this.Collection(this,function(){return or(L[0][0],L[L.length-1][1],!E,!P)});return I._ondirectionchange=function(D){k=D==="next"?(F=R,h):(F=O,m),L.sort(M)},I._addAlgorithm(function(D,B,V){for(var le,de=D.key;F(de);)if(++T===L.length)return B(V),!1;return!R(le=de)&&!O(le)||(u._cmp(de,L[T][1])===0||u._cmp(de,L[T][0])===0||B(function(){k===h?D.continue(L[T][0]):D.continue(L[T][1])}),!1)}),I},ft.prototype.startsWithAnyOf=function(){var s=re.apply(J,arguments);return s.every(function(l){return typeof l=="string"})?s.length===0?bi(this):this.inAnyRange(s.map(function(l){return[l,l+Ht]})):qt(this,"startsWithAnyOf() only works with strings")},ft);function ft(){}function Pn(s){return Be(function(l){return fs(l),s(l.target.error),!1})}function fs(s){s.stopPropagation&&s.stopPropagation(),s.preventDefault&&s.preventDefault()}var hs="storagemutated",fa="x-storagemutated-1",lr=cs(null,hs),jy=(Tn.prototype._lock=function(){return A(!ye.global),++this._reculock,this._reculock!==1||ye.global||(ye.lockOwnerFor=this),this},Tn.prototype._unlock=function(){if(A(!ye.global),--this._reculock==0)for(ye.global||(ye.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var s=this._blockedFuncs.shift();try{vn(s[1],s[0])}catch{}}return this},Tn.prototype._locked=function(){return this._reculock&&ye.lockOwnerFor!==this},Tn.prototype.create=function(s){var l=this;if(!this.mode)return this;var u=this.db.idbdb,d=this.db._state.dbOpenError;if(A(!this.idbtrans),!s&&!u)switch(d&&d.name){case"DatabaseClosedError":throw new U.DatabaseClosed(d);case"MissingAPIError":throw new U.MissingAPI(d.message,d);default:throw new U.OpenFailed(d)}if(!this.active)throw new U.TransactionInactive;return A(this._completion._state===null),(s=this.idbtrans=s||(this.db.core||u).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Be(function(h){fs(h),l._reject(s.error)}),s.onabort=Be(function(h){fs(h),l.active&&l._reject(new U.Abort(s.error)),l.active=!1,l.on("abort").fire(h)}),s.oncomplete=Be(function(){l.active=!1,l._resolve(),"mutatedParts"in s&&lr.storagemutated.fire(s.mutatedParts)}),this},Tn.prototype._promise=function(s,l,u){var d=this;if(s==="readwrite"&&this.mode!=="readwrite")return Qe(new U.ReadOnly("Transaction is readonly"));if(!this.active)return Qe(new U.TransactionInactive);if(this._locked())return new ce(function(m,y){d._blockedFuncs.push([function(){d._promise(s,l,u).then(m,y)},ye])});if(u)return yn(function(){var m=new ce(function(y,w){d._lock();var E=l(y,w,d);E&&E.then&&E.then(y,w)});return m.finally(function(){return d._unlock()}),m._lib=!0,m});var h=new ce(function(m,y){var w=l(m,y,d);w&&w.then&&w.then(m,y)});return h._lib=!0,h},Tn.prototype._root=function(){return this.parent?this.parent._root():this},Tn.prototype.waitFor=function(s){var l,u=this._root(),d=ce.resolve(s);u._waitingFor?u._waitingFor=u._waitingFor.then(function(){return d}):(u._waitingFor=d,u._waitingQueue=[],l=u.idbtrans.objectStore(u.storeNames[0]),function m(){for(++u._spinCount;u._waitingQueue.length;)u._waitingQueue.shift()();u._waitingFor&&(l.get(-1/0).onsuccess=m)}());var h=u._waitingFor;return new ce(function(m,y){d.then(function(w){return u._waitingQueue.push(Be(m.bind(null,w)))},function(w){return u._waitingQueue.push(Be(y.bind(null,w)))}).finally(function(){u._waitingFor===h&&(u._waitingFor=null)})})},Tn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new U.Abort))},Tn.prototype.table=function(s){var l=this._memoizedTables||(this._memoizedTables={});if(b(l,s))return l[s];var u=this.schema[s];if(!u)throw new U.NotFound("Table "+s+" not part of transaction");return u=new this.db.Table(s,u,this),u.core=this.db.core.table(s),l[s]=u},Tn);function Tn(){}function ha(s,l,u,d,h,m,y,w){return{name:s,keyPath:l,unique:u,multi:d,auto:h,compound:m,src:(u&&!y?"&":"")+(d?"*":"")+(h?"++":"")+Od(l),type:w}}function Od(s){return typeof s=="string"?s:s?"["+[].join.call(s,"+")+"]":""}function pa(s,l,u){return{name:s,primKey:l,indexes:u,mappedClass:null,idxByName:(d=function(h){return[h.name,h]},u.reduce(function(h,m,y){return y=d(m,y),y&&(h[y[0]]=y[1]),h},{}))};var d}var ps=function(s){try{return s.only([[]]),ps=function(){return[[]]},[[]]}catch{return ps=function(){return Ht},Ht}};function ma(s){return s==null?function(){}:typeof s=="string"?(l=s).split(".").length===1?function(u){return u[l]}:function(u){return G(u,l)}:function(u){return G(u,s)};var l}function Ld(s){return[].slice.call(s)}var Ny=0;function ms(s){return s==null?":id":typeof s=="string"?s:"[".concat(s.join("+"),"]")}function Cy(s,l,E){function d(F){if(F.type===3)return null;if(F.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var T=F.lower,R=F.upper,O=F.lowerOpen,F=F.upperOpen;return T===void 0?R===void 0?null:l.upperBound(R,!!F):R===void 0?l.lowerBound(T,!!O):l.bound(T,R,!!O,!!F)}function h(M){var T,R=M.name;return{name:R,schema:M,mutate:function(O){var F=O.trans,I=O.type,D=O.keys,B=O.values,V=O.range;return new Promise(function(le,de){le=Be(le);var te=F.objectStore(R),ae=te.keyPath==null,fe=I==="put"||I==="add";if(!fe&&I!=="delete"&&I!=="deleteRange")throw new Error("Invalid operation type: "+I);var ue,pe=(D||B||{length:1}).length;if(D&&B&&D.length!==B.length)throw new Error("Given keys array must have same length as given values array.");if(pe===0)return le({numFailures:0,failures:{},results:[],lastResult:void 0});function _e(Rt){++Qt,fs(Rt)}var Pe=[],Te=[],Qt=0;if(I==="deleteRange"){if(V.type===4)return le({numFailures:Qt,failures:Te,results:[],lastResult:void 0});V.type===3?Pe.push(ue=te.clear()):Pe.push(ue=te.delete(d(V)))}else{var ae=fe?ae?[B,D]:[B,null]:[D,null],Ee=ae[0],jt=ae[1];if(fe)for(var Nt=0;Nt<pe;++Nt)Pe.push(ue=jt&&jt[Nt]!==void 0?te[I](Ee[Nt],jt[Nt]):te[I](Ee[Nt])),ue.onerror=_e;else for(Nt=0;Nt<pe;++Nt)Pe.push(ue=te[I](Ee[Nt])),ue.onerror=_e}function Ro(Rt){Rt=Rt.target.result,Pe.forEach(function(Vr,La){return Vr.error!=null&&(Te[La]=Vr.error)}),le({numFailures:Qt,failures:Te,results:I==="delete"?D:Pe.map(function(Vr){return Vr.result}),lastResult:Rt})}ue.onerror=function(Rt){_e(Rt),Ro(Rt)},ue.onsuccess=Ro})},getMany:function(O){var F=O.trans,I=O.keys;return new Promise(function(D,B){D=Be(D);for(var V,le=F.objectStore(R),de=I.length,te=new Array(de),ae=0,fe=0,ue=function(Pe){Pe=Pe.target,te[Pe._pos]=Pe.result,++fe===ae&&D(te)},pe=Pn(B),_e=0;_e<de;++_e)I[_e]!=null&&((V=le.get(I[_e]))._pos=_e,V.onsuccess=ue,V.onerror=pe,++ae);ae===0&&D(te)})},get:function(O){var F=O.trans,I=O.key;return new Promise(function(D,B){D=Be(D);var V=F.objectStore(R).get(I);V.onsuccess=function(le){return D(le.target.result)},V.onerror=Pn(B)})},query:(T=P,function(O){return new Promise(function(F,I){F=Be(F);var D,B,V,ae=O.trans,le=O.values,de=O.limit,ue=O.query,te=de===1/0?void 0:de,fe=ue.index,ue=ue.range,ae=ae.objectStore(R),fe=fe.isPrimaryKey?ae:ae.index(fe.name),ue=d(ue);if(de===0)return F({result:[]});T?((te=le?fe.getAll(ue,te):fe.getAllKeys(ue,te)).onsuccess=function(pe){return F({result:pe.target.result})},te.onerror=Pn(I)):(D=0,B=!le&&"openKeyCursor"in fe?fe.openKeyCursor(ue):fe.openCursor(ue),V=[],B.onsuccess=function(pe){var _e=B.result;return _e?(V.push(le?_e.value:_e.primaryKey),++D===de?F({result:V}):void _e.continue()):F({result:V})},B.onerror=Pn(I))})}),openCursor:function(O){var F=O.trans,I=O.values,D=O.query,B=O.reverse,V=O.unique;return new Promise(function(le,de){le=Be(le);var fe=D.index,te=D.range,ae=F.objectStore(R),ae=fe.isPrimaryKey?ae:ae.index(fe.name),fe=B?V?"prevunique":"prev":V?"nextunique":"next",ue=!I&&"openKeyCursor"in ae?ae.openKeyCursor(d(te),fe):ae.openCursor(d(te),fe);ue.onerror=Pn(de),ue.onsuccess=Be(function(pe){var _e,Pe,Te,Qt,Ee=ue.result;Ee?(Ee.___id=++Ny,Ee.done=!1,_e=Ee.continue.bind(Ee),Pe=(Pe=Ee.continuePrimaryKey)&&Pe.bind(Ee),Te=Ee.advance.bind(Ee),Qt=function(){throw new Error("Cursor not stopped")},Ee.trans=F,Ee.stop=Ee.continue=Ee.continuePrimaryKey=Ee.advance=function(){throw new Error("Cursor not started")},Ee.fail=Be(de),Ee.next=function(){var jt=this,Nt=1;return this.start(function(){return Nt--?jt.continue():jt.stop()}).then(function(){return jt})},Ee.start=function(jt){function Nt(){if(ue.result)try{jt()}catch(Rt){Ee.fail(Rt)}else Ee.done=!0,Ee.start=function(){throw new Error("Cursor behind last entry")},Ee.stop()}var Ro=new Promise(function(Rt,Vr){Rt=Be(Rt),ue.onerror=Pn(Vr),Ee.fail=Vr,Ee.stop=function(La){Ee.stop=Ee.continue=Ee.continuePrimaryKey=Ee.advance=Qt,Rt(La)}});return ue.onsuccess=Be(function(Rt){ue.onsuccess=Nt,Nt()}),Ee.continue=_e,Ee.continuePrimaryKey=Pe,Ee.advance=Te,Nt(),Ro},le(Ee)):le(null)},de)})},count:function(O){var F=O.query,I=O.trans,D=F.index,B=F.range;return new Promise(function(V,le){var de=I.objectStore(R),te=D.isPrimaryKey?de:de.index(D.name),de=d(B),te=de?te.count(de):te.count();te.onsuccess=Be(function(ae){return V(ae.target.result)}),te.onerror=Pn(le)})}}}var m,y,w,L=(y=E,w=Ld((m=s).objectStoreNames),{schema:{name:m.name,tables:w.map(function(M){return y.objectStore(M)}).map(function(M){var T=M.keyPath,F=M.autoIncrement,R=f(T),O={},F={name:M.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:T==null,compound:R,keyPath:T,autoIncrement:F,unique:!0,extractKey:ma(T)},indexes:Ld(M.indexNames).map(function(I){return M.index(I)}).map(function(V){var D=V.name,B=V.unique,le=V.multiEntry,V=V.keyPath,le={name:D,compound:f(V),keyPath:V,unique:B,multiEntry:le,extractKey:ma(V)};return O[ms(V)]=le}),getIndexByKeyPath:function(I){return O[ms(I)]}};return O[":id"]=F.primaryKey,T!=null&&(O[ms(T)]=F.primaryKey),F})},hasGetAll:0<w.length&&"getAll"in y.objectStore(w[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),E=L.schema,P=L.hasGetAll,L=E.tables.map(h),k={};return L.forEach(function(M){return k[M.name]=M}),{stack:"dbcore",transaction:s.transaction.bind(s),table:function(M){if(!k[M])throw new Error("Table '".concat(M,"' not found"));return k[M]},MIN_KEY:-1/0,MAX_KEY:ps(l),schema:E}}function Ey(s,l,u,d){var h=u.IDBKeyRange;return u.indexedDB,{dbcore:(d=Cy(l,h,d),s.dbcore.reduce(function(m,y){return y=y.create,r(r({},m),y(m))},d))}}function wo(s,d){var u=d.db,d=Ey(s._middlewares,u,s._deps,d);s.core=d.dbcore,s.tables.forEach(function(h){var m=h.name;s.core.schema.tables.some(function(y){return y.name===m})&&(h.core=s.core.table(m),s[m]instanceof s.Table&&(s[m].core=h.core))})}function bo(s,l,u,d){u.forEach(function(h){var m=d[h];l.forEach(function(y){var w=function E(P,L){return q(P,L)||(P=v(P))&&E(P,L)}(y,h);(!w||"value"in w&&w.value===void 0)&&(y===s.Transaction.prototype||y instanceof s.Transaction?z(y,h,{get:function(){return this.table(h)},set:function(E){$(this,h,{value:E,writable:!0,configurable:!0,enumerable:!0})}}):y[h]=new s.Table(h,m))})})}function ya(s,l){l.forEach(function(u){for(var d in u)u[d]instanceof s.Table&&delete u[d]})}function _y(s,l){return s._cfg.version-l._cfg.version}function Py(s,l,u,d){var h=s._dbSchema;u.objectStoreNames.contains("$meta")&&!h.$meta&&(h.$meta=pa("$meta",Md("")[0],[]),s._storeNames.push("$meta"));var m=s._createTransaction("readwrite",s._storeNames,h);m.create(u),m._completion.catch(d);var y=m._reject.bind(m),w=ye.transless||ye;yn(function(){return ye.trans=m,ye.transless=w,l!==0?(wo(s,u),P=l,((E=m).storeNames.includes("$meta")?E.table("$meta").get("version").then(function(L){return L??P}):ce.resolve(P)).then(function(L){return M=L,T=m,R=u,O=[],L=(k=s)._versions,F=k._dbSchema=ko(0,k.idbdb,R),(L=L.filter(function(I){return I._cfg.version>=M})).length!==0?(L.forEach(function(I){O.push(function(){var D=F,B=I._cfg.dbschema;jo(k,D,R),jo(k,B,R),F=k._dbSchema=B;var V=va(D,B);V.add.forEach(function(fe){ga(R,fe[0],fe[1].primKey,fe[1].indexes)}),V.change.forEach(function(fe){if(fe.recreate)throw new U.Upgrade("Not yet support for changing primary key");var ue=R.objectStore(fe.name);fe.add.forEach(function(pe){return So(ue,pe)}),fe.change.forEach(function(pe){ue.deleteIndex(pe.name),So(ue,pe)}),fe.del.forEach(function(pe){return ue.deleteIndex(pe)})});var le=I._cfg.contentUpgrade;if(le&&I._cfg.version>M){wo(k,R),T._memoizedTables={};var de=Z(B);V.del.forEach(function(fe){de[fe]=D[fe]}),ya(k,[k.Transaction.prototype]),bo(k,[k.Transaction.prototype],a(de),de),T.schema=de;var te,ae=ge(le);return ae&&zn(),V=ce.follow(function(){var fe;(te=le(T))&&ae&&(fe=sn.bind(null,null),te.then(fe,fe))}),te&&typeof te.then=="function"?ce.resolve(te):V.then(function(){return te})}}),O.push(function(D){var B,V,le=I._cfg.dbschema;B=le,V=D,[].slice.call(V.db.objectStoreNames).forEach(function(de){return B[de]==null&&V.db.deleteObjectStore(de)}),ya(k,[k.Transaction.prototype]),bo(k,[k.Transaction.prototype],k._storeNames,k._dbSchema),T.schema=k._dbSchema}),O.push(function(D){k.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(k.idbdb.version/10)===I._cfg.version?(k.idbdb.deleteObjectStore("$meta"),delete k._dbSchema.$meta,k._storeNames=k._storeNames.filter(function(B){return B!=="$meta"})):D.objectStore("$meta").put(I._cfg.version,"version"))})}),function I(){return O.length?ce.resolve(O.shift()(T.idbtrans)).then(I):ce.resolve()}().then(function(){Fd(F,R)})):ce.resolve();var k,M,T,R,O,F}).catch(y)):(a(h).forEach(function(L){ga(u,L,h[L].primKey,h[L].indexes)}),wo(s,u),void ce.follow(function(){return s.on.populate.fire(m)}).catch(y));var E,P})}function Ty(s,l){Fd(s._dbSchema,l),l.db.version%10!=0||l.objectStoreNames.contains("$meta")||l.db.createObjectStore("$meta").add(Math.ceil(l.db.version/10-1),"version");var u=ko(0,s.idbdb,l);jo(s,s._dbSchema,l);for(var d=0,h=va(u,s._dbSchema).change;d<h.length;d++){var m=function(y){if(y.change.length||y.recreate)return console.warn("Unable to patch indexes of table ".concat(y.name," because it has changes on the type of index or primary key.")),{value:void 0};var w=l.objectStore(y.name);y.add.forEach(function(E){It&&console.debug("Dexie upgrade patch: Creating missing index ".concat(y.name,".").concat(E.src)),So(w,E)})}(h[d]);if(typeof m=="object")return m.value}}function va(s,l){var u,d={del:[],add:[],change:[]};for(u in s)l[u]||d.del.push(u);for(u in l){var h=s[u],m=l[u];if(h){var y={name:u,def:m,recreate:!1,del:[],add:[],change:[]};if(""+(h.primKey.keyPath||"")!=""+(m.primKey.keyPath||"")||h.primKey.auto!==m.primKey.auto)y.recreate=!0,d.change.push(y);else{var w=h.idxByName,E=m.idxByName,P=void 0;for(P in w)E[P]||y.del.push(P);for(P in E){var L=w[P],k=E[P];L?L.src!==k.src&&y.change.push(k):y.add.push(k)}(0<y.del.length||0<y.add.length||0<y.change.length)&&d.change.push(y)}}else d.add.push([u,m])}return d}function ga(s,l,u,d){var h=s.db.createObjectStore(l,u.keyPath?{keyPath:u.keyPath,autoIncrement:u.auto}:{autoIncrement:u.auto});return d.forEach(function(m){return So(h,m)}),h}function Fd(s,l){a(s).forEach(function(u){l.db.objectStoreNames.contains(u)||(It&&console.debug("Dexie: Creating missing table",u),ga(l,u,s[u].primKey,s[u].indexes))})}function So(s,l){s.createIndex(l.name,l.keyPath,{unique:l.unique,multiEntry:l.multi})}function ko(s,l,u){var d={};return g(l.objectStoreNames,0).forEach(function(h){for(var m=u.objectStore(h),y=ha(Od(P=m.keyPath),P||"",!0,!1,!!m.autoIncrement,P&&typeof P!="string",!0),w=[],E=0;E<m.indexNames.length;++E){var L=m.index(m.indexNames[E]),P=L.keyPath,L=ha(L.name,P,!!L.unique,!!L.multiEntry,!1,P&&typeof P!="string",!1);w.push(L)}d[h]=pa(h,y,w)}),d}function jo(s,l,u){for(var d=u.db.objectStoreNames,h=0;h<d.length;++h){var m=d[h],y=u.objectStore(m);s._hasGetAll="getAll"in y;for(var w=0;w<y.indexNames.length;++w){var E=y.indexNames[w],P=y.index(E).keyPath,L=typeof P=="string"?P:"["+g(P).join("+")+"]";!l[m]||(P=l[m].idxByName[L])&&(P.name=E,delete l[m].idxByName[L],l[m].idxByName[E]=P)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(s._hasGetAll=!1)}function Md(s){return s.split(",").map(function(l,u){var m=l.split(":"),d=(h=m[1])===null||h===void 0?void 0:h.trim(),h=(l=m[0].trim()).replace(/([&*]|\+\+)/g,""),m=/^\[/.test(h)?h.match(/^\[(.*)\]$/)[1].split("+"):h;return ha(h,m||null,/\&/.test(l),/\*/.test(l),/\+\+/.test(l),f(m),u===0,d)})}var Ry=(Si.prototype._createTableSchema=pa,Si.prototype._parseIndexSyntax=Md,Si.prototype._parseStoresSpec=function(s,l){var u=this;a(s).forEach(function(d){if(s[d]!==null){var h=u._parseIndexSyntax(s[d]),m=h.shift();if(!m)throw new U.Schema("Invalid schema for table "+d+": "+s[d]);if(m.unique=!0,m.multi)throw new U.Schema("Primary key cannot be multiEntry*");h.forEach(function(y){if(y.auto)throw new U.Schema("Only primary key can be marked as autoIncrement (++)");if(!y.keyPath)throw new U.Schema("Index must have a name and cannot be an empty string")}),h=u._createTableSchema(d,m,h),l[d]=h}})},Si.prototype.stores=function(u){var l=this.db;this._cfg.storesSource=this._cfg.storesSource?p(this._cfg.storesSource,u):u;var u=l._versions,d={},h={};return u.forEach(function(m){p(d,m._cfg.storesSource),h=m._cfg.dbschema={},m._parseStoresSpec(d,h)}),l._dbSchema=h,ya(l,[l._allTables,l,l.Transaction.prototype]),bo(l,[l._allTables,l,l.Transaction.prototype,this._cfg.tables],a(h),h),l._storeNames=a(h),this},Si.prototype.upgrade=function(s){return this._cfg.contentUpgrade=os(this._cfg.contentUpgrade||ve,s),this},Si);function Si(){}function xa(s,l){var u=s._dbNamesDB;return u||(u=s._dbNamesDB=new Dn(W,{addons:[],indexedDB:s,IDBKeyRange:l})).version(1).stores({dbnames:"name"}),u.table("dbnames")}function wa(s){return s&&typeof s.databases=="function"}function ba(s){return yn(function(){return ye.letThrough=!0,s()})}function Sa(s){return!("from"in s)}var kt=function(s,l){if(!this){var u=new kt;return s&&"d"in s&&p(u,s),u}p(this,arguments.length?{d:1,from:s,to:1<arguments.length?l:s}:{d:0})};function ys(s,l,u){var d=Fe(l,u);if(!isNaN(d)){if(0<d)throw RangeError();if(Sa(s))return p(s,{from:l,to:u,d:1});var h=s.l,d=s.r;if(Fe(u,s.from)<0)return h?ys(h,l,u):s.l={from:l,to:u,d:1,l:null,r:null},Ad(s);if(0<Fe(l,s.to))return d?ys(d,l,u):s.r={from:l,to:u,d:1,l:null,r:null},Ad(s);Fe(l,s.from)<0&&(s.from=l,s.l=null,s.d=d?d.d+1:1),0<Fe(u,s.to)&&(s.to=u,s.r=null,s.d=s.l?s.l.d+1:1),u=!s.r,h&&!s.l&&vs(s,h),d&&u&&vs(s,d)}}function vs(s,l){Sa(l)||function u(d,E){var m=E.from,y=E.to,w=E.l,E=E.r;ys(d,m,y),w&&u(d,w),E&&u(d,E)}(s,l)}function Id(s,l){var u=No(l),d=u.next();if(d.done)return!1;for(var h=d.value,m=No(s),y=m.next(h.from),w=y.value;!d.done&&!y.done;){if(Fe(w.from,h.to)<=0&&0<=Fe(w.to,h.from))return!0;Fe(h.from,w.from)<0?h=(d=u.next(w.from)).value:w=(y=m.next(h.from)).value}return!1}function No(s){var l=Sa(s)?null:{s:0,n:s};return{next:function(u){for(var d=0<arguments.length;l;)switch(l.s){case 0:if(l.s=1,d)for(;l.n.l&&Fe(u,l.n.from)<0;)l={up:l,n:l.n.l,s:1};else for(;l.n.l;)l={up:l,n:l.n.l,s:1};case 1:if(l.s=2,!d||Fe(u,l.n.to)<=0)return{value:l.n,done:!1};case 2:if(l.n.r){l.s=3,l={up:l,n:l.n.r,s:0};continue}case 3:l=l.up}return{done:!0}}}}function Ad(s){var l,u,d=(((l=s.r)===null||l===void 0?void 0:l.d)||0)-(((u=s.l)===null||u===void 0?void 0:u.d)||0),h=1<d?"r":d<-1?"l":"";h&&(l=h=="r"?"l":"r",u=r({},s),d=s[h],s.from=d.from,s.to=d.to,s[h]=d[h],u[h]=d[l],(s[l]=u).d=zd(u)),s.d=zd(s)}function zd(u){var l=u.r,u=u.l;return(l?u?Math.max(l.d,u.d):l.d:u?u.d:0)+1}function Co(s,l){return a(l).forEach(function(u){s[u]?vs(s[u],l[u]):s[u]=function d(h){var m,y,w={};for(m in h)b(h,m)&&(y=h[m],w[m]=!y||typeof y!="object"||Re.has(y.constructor)?y:d(y));return w}(l[u])}),s}function ka(s,l){return s.all||l.all||Object.keys(s).some(function(u){return l[u]&&Id(l[u],s[u])})}_(kt.prototype,((on={add:function(s){return vs(this,s),this},addKey:function(s){return ys(this,s,s),this},addKeys:function(s){var l=this;return s.forEach(function(u){return ys(l,u,u)}),this},hasKey:function(s){var l=No(this).next(s).value;return l&&Fe(l.from,s)<=0&&0<=Fe(l.to,s)}})[Y]=function(){return No(this)},on));var Wr={},ja={},Na=!1;function Eo(s){Co(ja,s),Na||(Na=!0,setTimeout(function(){Na=!1,Ca(ja,!(ja={}))},0))}function Ca(s,l){l===void 0&&(l=!1);var u=new Set;if(s.all)for(var d=0,h=Object.values(Wr);d<h.length;d++)Dd(y=h[d],s,u,l);else for(var m in s){var y,w=/^idb\:\/\/(.*)\/(.*)\//.exec(m);w&&(m=w[1],w=w[2],(y=Wr["idb://".concat(m,"/").concat(w)])&&Dd(y,s,u,l))}u.forEach(function(E){return E()})}function Dd(s,l,u,d){for(var h=[],m=0,y=Object.entries(s.queries.query);m<y.length;m++){for(var w=y[m],E=w[0],P=[],L=0,k=w[1];L<k.length;L++){var M=k[L];ka(l,M.obsSet)?M.subscribers.forEach(function(F){return u.add(F)}):d&&P.push(M)}d&&h.push([E,P])}if(d)for(var T=0,R=h;T<R.length;T++){var O=R[T],E=O[0],P=O[1];s.queries.query[E]=P}}function Oy(s){var l=s._state,u=s._deps.indexedDB;if(l.isBeingOpened||s.idbdb)return l.dbReadyPromise.then(function(){return l.dbOpenError?Qe(l.dbOpenError):s});l.isBeingOpened=!0,l.dbOpenError=null,l.openComplete=!1;var d=l.openCanceller,h=Math.round(10*s.verno),m=!1;function y(){if(l.openCanceller!==d)throw new U.DatabaseClosed("db.open() was cancelled")}function w(){return new ce(function(M,T){if(y(),!u)throw new U.MissingAPI;var R=s.name,O=l.autoSchema||!h?u.open(R):u.open(R,h);if(!O)throw new U.MissingAPI;O.onerror=Pn(T),O.onblocked=Be(s._fireOnBlocked),O.onupgradeneeded=Be(function(F){var I;L=O.transaction,l.autoSchema&&!s._options.allowEmptyDB?(O.onerror=fs,L.abort(),O.result.close(),(I=u.deleteDatabase(R)).onsuccess=I.onerror=Be(function(){T(new U.NoSuchDatabase("Database ".concat(R," doesnt exist")))})):(L.onerror=Pn(T),F=F.oldVersion>Math.pow(2,62)?0:F.oldVersion,k=F<1,s.idbdb=O.result,m&&Ty(s,L),Py(s,F/10,L,T))},T),O.onsuccess=Be(function(){L=null;var F,I,D,B,V,le=s.idbdb=O.result,de=g(le.objectStoreNames);if(0<de.length)try{var te=le.transaction((B=de).length===1?B[0]:B,"readonly");if(l.autoSchema)I=le,D=te,(F=s).verno=I.version/10,D=F._dbSchema=ko(0,I,D),F._storeNames=g(I.objectStoreNames,0),bo(F,[F._allTables],a(D),D);else if(jo(s,s._dbSchema,te),((V=va(ko(0,(V=s).idbdb,te),V._dbSchema)).add.length||V.change.some(function(ae){return ae.add.length||ae.change.length}))&&!m)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),le.close(),h=le.version+1,m=!0,M(w());wo(s,te)}catch{}ie.push(s),le.onversionchange=Be(function(ae){l.vcFired=!0,s.on("versionchange").fire(ae)}),le.onclose=Be(function(){s.close({disableAutoOpen:!1})}),k&&(V=s._deps,te=R,le=V.indexedDB,V=V.IDBKeyRange,wa(le)||te===W||xa(le,V).put({name:te}).catch(ve)),M()},T)}).catch(function(M){switch(M==null?void 0:M.name){case"UnknownError":if(0<l.PR1398_maxLoop)return l.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),w();break;case"VersionError":if(0<h)return h=0,w()}return ce.reject(M)})}var E,P=l.dbReadyResolve,L=null,k=!1;return ce.race([d,(typeof navigator>"u"?ce.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(M){function T(){return indexedDB.databases().finally(M)}E=setInterval(T,100),T()}).finally(function(){return clearInterval(E)}):Promise.resolve()).then(w)]).then(function(){return y(),l.onReadyBeingFired=[],ce.resolve(ba(function(){return s.on.ready.fire(s.vip)})).then(function M(){if(0<l.onReadyBeingFired.length){var T=l.onReadyBeingFired.reduce(os,ve);return l.onReadyBeingFired=[],ce.resolve(ba(function(){return T(s.vip)})).then(M)}})}).finally(function(){l.openCanceller===d&&(l.onReadyBeingFired=null,l.isBeingOpened=!1)}).catch(function(M){l.dbOpenError=M;try{L&&L.abort()}catch{}return d===l.openCanceller&&s._close(),Qe(M)}).finally(function(){l.openComplete=!0,P()}).then(function(){var M;return k&&(M={},s.tables.forEach(function(T){T.schema.indexes.forEach(function(R){R.name&&(M["idb://".concat(s.name,"/").concat(T.name,"/").concat(R.name)]=new kt(-1/0,[[[]]]))}),M["idb://".concat(s.name,"/").concat(T.name,"/")]=M["idb://".concat(s.name,"/").concat(T.name,"/:dels")]=new kt(-1/0,[[[]]])}),lr(hs).fire(M),Ca(M,!0)),s})}function Ea(s){function l(m){return s.next(m)}var u=h(l),d=h(function(m){return s.throw(m)});function h(m){return function(E){var w=m(E),E=w.value;return w.done?E:E&&typeof E.then=="function"?E.then(u,d):f(E)?Promise.all(E).then(u,d):u(E)}}return h(l)()}function _o(s,l,u){for(var d=f(s)?s.slice():[s],h=0;h<u;++h)d.push(l);return d}var Ly={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(s){return r(r({},s),{table:function(l){var u=s.table(l),d=u.schema,h={},m=[];function y(k,M,T){var R=ms(k),O=h[R]=h[R]||[],F=k==null?0:typeof k=="string"?1:k.length,I=0<M,I=r(r({},T),{name:I?"".concat(R,"(virtual-from:").concat(T.name,")"):T.name,lowLevelIndex:T,isVirtual:I,keyTail:M,keyLength:F,extractKey:ma(k),unique:!I&&T.unique});return O.push(I),I.isPrimaryKey||m.push(I),1<F&&y(F===2?k[0]:k.slice(0,F-1),M+1,T),O.sort(function(D,B){return D.keyTail-B.keyTail}),I}l=y(d.primaryKey.keyPath,0,d.primaryKey),h[":id"]=[l];for(var w=0,E=d.indexes;w<E.length;w++){var P=E[w];y(P.keyPath,0,P)}function L(k){var M,T=k.query.index;return T.isVirtual?r(r({},k),{query:{index:T.lowLevelIndex,range:(M=k.query.range,T=T.keyTail,{type:M.type===1?2:M.type,lower:_o(M.lower,M.lowerOpen?s.MAX_KEY:s.MIN_KEY,T),lowerOpen:!0,upper:_o(M.upper,M.upperOpen?s.MIN_KEY:s.MAX_KEY,T),upperOpen:!0})}}):k}return r(r({},u),{schema:r(r({},d),{primaryKey:l,indexes:m,getIndexByKeyPath:function(k){return(k=h[ms(k)])&&k[0]}}),count:function(k){return u.count(L(k))},query:function(k){return u.query(L(k))},openCursor:function(k){var M=k.query.index,T=M.keyTail,R=M.isVirtual,O=M.keyLength;return R?u.openCursor(L(k)).then(function(I){return I&&F(I)}):u.openCursor(k);function F(I){return Object.create(I,{continue:{value:function(D){D!=null?I.continue(_o(D,k.reverse?s.MAX_KEY:s.MIN_KEY,T)):k.unique?I.continue(I.key.slice(0,O).concat(k.reverse?s.MIN_KEY:s.MAX_KEY,T)):I.continue()}},continuePrimaryKey:{value:function(D,B){I.continuePrimaryKey(_o(D,s.MAX_KEY,T),B)}},primaryKey:{get:function(){return I.primaryKey}},key:{get:function(){var D=I.key;return O===1?D[0]:D.slice(0,O)}},value:{get:function(){return I.value}}})}}})}})}};function _a(s,l,u,d){return u=u||{},d=d||"",a(s).forEach(function(h){var m,y,w;b(l,h)?(m=s[h],y=l[h],typeof m=="object"&&typeof y=="object"&&m&&y?(w=se(m))!==se(y)?u[d+h]=l[h]:w==="Object"?_a(m,y,u,d+h+"."):m!==y&&(u[d+h]=l[h]):m!==y&&(u[d+h]=l[h])):u[d+h]=void 0}),a(l).forEach(function(h){b(s,h)||(u[d+h]=l[h])}),u}function Pa(s,l){return l.type==="delete"?l.keys:l.keys||l.values.map(s.extractKey)}var Fy={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(s){return r(r({},s),{table:function(l){var u=s.table(l),d=u.schema.primaryKey;return r(r({},u),{mutate:function(h){var m=ye.trans,y=m.table(l).hook,w=y.deleting,E=y.creating,P=y.updating;switch(h.type){case"add":if(E.fire===ve)break;return m._promise("readwrite",function(){return L(h)},!0);case"put":if(E.fire===ve&&P.fire===ve)break;return m._promise("readwrite",function(){return L(h)},!0);case"delete":if(w.fire===ve)break;return m._promise("readwrite",function(){return L(h)},!0);case"deleteRange":if(w.fire===ve)break;return m._promise("readwrite",function(){return function k(M,T,R){return u.query({trans:M,values:!1,query:{index:d,range:T},limit:R}).then(function(O){var F=O.result;return L({type:"delete",keys:F,trans:M}).then(function(I){return 0<I.numFailures?Promise.reject(I.failures[0]):F.length<R?{failures:[],numFailures:0,lastResult:void 0}:k(M,r(r({},T),{lower:F[F.length-1],lowerOpen:!0}),R)})})}(h.trans,h.range,1e4)},!0)}return u.mutate(h);function L(k){var M,T,R,O=ye.trans,F=k.keys||Pa(d,k);if(!F)throw new Error("Keys missing");return(k=k.type==="add"||k.type==="put"?r(r({},k),{keys:F}):r({},k)).type!=="delete"&&(k.values=i([],k.values)),k.keys&&(k.keys=i([],k.keys)),M=u,R=F,((T=k).type==="add"?Promise.resolve([]):M.getMany({trans:T.trans,keys:R,cache:"immutable"})).then(function(I){var D=F.map(function(B,V){var le,de,te,ae=I[V],fe={onerror:null,onsuccess:null};return k.type==="delete"?w.fire.call(fe,B,ae,O):k.type==="add"||ae===void 0?(le=E.fire.call(fe,B,k.values[V],O),B==null&&le!=null&&(k.keys[V]=B=le,d.outbound||Q(k.values[V],d.keyPath,B))):(le=_a(ae,k.values[V]),(de=P.fire.call(fe,le,B,ae,O))&&(te=k.values[V],Object.keys(de).forEach(function(ue){b(te,ue)?te[ue]=de[ue]:Q(te,ue,de[ue])}))),fe});return u.mutate(k).then(function(B){for(var V=B.failures,le=B.results,de=B.numFailures,B=B.lastResult,te=0;te<F.length;++te){var ae=(le||F)[te],fe=D[te];ae==null?fe.onerror&&fe.onerror(V[te]):fe.onsuccess&&fe.onsuccess(k.type==="put"&&I[te]?k.values[te]:ae)}return{failures:V,results:le,numFailures:de,lastResult:B}}).catch(function(B){return D.forEach(function(V){return V.onerror&&V.onerror(B)}),Promise.reject(B)})})}}})}})}};function Ud(s,l,u){try{if(!l||l.keys.length<s.length)return null;for(var d=[],h=0,m=0;h<l.keys.length&&m<s.length;++h)Fe(l.keys[h],s[m])===0&&(d.push(u?oe(l.values[h]):l.values[h]),++m);return d.length===s.length?d:null}catch{return null}}var My={stack:"dbcore",level:-1,create:function(s){return{table:function(l){var u=s.table(l);return r(r({},u),{getMany:function(d){if(!d.cache)return u.getMany(d);var h=Ud(d.keys,d.trans._cache,d.cache==="clone");return h?ce.resolve(h):u.getMany(d).then(function(m){return d.trans._cache={keys:d.keys,values:d.cache==="clone"?oe(m):m},m})},mutate:function(d){return d.type!=="add"&&(d.trans._cache=null),u.mutate(d)}})}}}};function $d(s,l){return s.trans.mode==="readonly"&&!!s.subscr&&!s.trans.explicit&&s.trans.db._options.cache!=="disabled"&&!l.schema.primaryKey.outbound}function Bd(s,l){switch(s){case"query":return l.values&&!l.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Iy={stack:"dbcore",level:0,name:"Observability",create:function(s){var l=s.schema.name,u=new kt(s.MIN_KEY,s.MAX_KEY);return r(r({},s),{transaction:function(d,h,m){if(ye.subscr&&h!=="readonly")throw new U.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ye.querier));return s.transaction(d,h,m)},table:function(d){var h=s.table(d),m=h.schema,y=m.primaryKey,k=m.indexes,w=y.extractKey,E=y.outbound,P=y.autoIncrement&&k.filter(function(T){return T.compound&&T.keyPath.includes(y.keyPath)}),L=r(r({},h),{mutate:function(T){function R(ue){return ue="idb://".concat(l,"/").concat(d,"/").concat(ue),B[ue]||(B[ue]=new kt)}var O,F,I,D=T.trans,B=T.mutatedParts||(T.mutatedParts={}),V=R(""),le=R(":dels"),de=T.type,fe=T.type==="deleteRange"?[T.range]:T.type==="delete"?[T.keys]:T.values.length<50?[Pa(y,T).filter(function(ue){return ue}),T.values]:[],te=fe[0],ae=fe[1],fe=T.trans._cache;return f(te)?(V.addKeys(te),(fe=de==="delete"||te.length===ae.length?Ud(te,fe):null)||le.addKeys(te),(fe||ae)&&(O=R,F=fe,I=ae,m.indexes.forEach(function(ue){var pe=O(ue.name||"");function _e(Te){return Te!=null?ue.extractKey(Te):null}function Pe(Te){return ue.multiEntry&&f(Te)?Te.forEach(function(Qt){return pe.addKey(Qt)}):pe.addKey(Te)}(F||I).forEach(function(Te,jt){var Ee=F&&_e(F[jt]),jt=I&&_e(I[jt]);Fe(Ee,jt)!==0&&(Ee!=null&&Pe(Ee),jt!=null&&Pe(jt))})}))):te?(ae={from:(ae=te.lower)!==null&&ae!==void 0?ae:s.MIN_KEY,to:(ae=te.upper)!==null&&ae!==void 0?ae:s.MAX_KEY},le.add(ae),V.add(ae)):(V.add(u),le.add(u),m.indexes.forEach(function(ue){return R(ue.name).add(u)})),h.mutate(T).then(function(ue){return!te||T.type!=="add"&&T.type!=="put"||(V.addKeys(ue.results),P&&P.forEach(function(pe){for(var _e=T.values.map(function(Ee){return pe.extractKey(Ee)}),Pe=pe.keyPath.findIndex(function(Ee){return Ee===y.keyPath}),Te=0,Qt=ue.results.length;Te<Qt;++Te)_e[Te][Pe]=ue.results[Te];R(pe.name).addKeys(_e)})),D.mutatedParts=Co(D.mutatedParts||{},B),ue})}}),k=function(R){var O=R.query,R=O.index,O=O.range;return[R,new kt((R=O.lower)!==null&&R!==void 0?R:s.MIN_KEY,(O=O.upper)!==null&&O!==void 0?O:s.MAX_KEY)]},M={get:function(T){return[y,new kt(T.key)]},getMany:function(T){return[y,new kt().addKeys(T.keys)]},count:k,query:k,openCursor:k};return a(M).forEach(function(T){L[T]=function(R){var O=ye.subscr,F=!!O,I=$d(ye,h)&&Bd(T,R)?R.obsSet={}:O;if(F){var D=function(ae){return ae="idb://".concat(l,"/").concat(d,"/").concat(ae),I[ae]||(I[ae]=new kt)},B=D(""),V=D(":dels"),O=M[T](R),F=O[0],O=O[1];if((T==="query"&&F.isPrimaryKey&&!R.values?V:D(F.name||"")).add(O),!F.isPrimaryKey){if(T!=="count"){var le=T==="query"&&E&&R.values&&h.query(r(r({},R),{values:!1}));return h[T].apply(this,arguments).then(function(ae){if(T==="query"){if(E&&R.values)return le.then(function(_e){return _e=_e.result,B.addKeys(_e),ae});var fe=R.values?ae.result.map(w):ae.result;(R.values?B:V).addKeys(fe)}else if(T==="openCursor"){var ue=ae,pe=R.values;return ue&&Object.create(ue,{key:{get:function(){return V.addKey(ue.primaryKey),ue.key}},primaryKey:{get:function(){var _e=ue.primaryKey;return V.addKey(_e),_e}},value:{get:function(){return pe&&B.addKey(ue.primaryKey),ue.value}}})}return ae})}V.add(u)}}return h[T].apply(this,arguments)}}),L}})}};function Kd(s,l,u){if(u.numFailures===0)return l;if(l.type==="deleteRange")return null;var d=l.keys?l.keys.length:"values"in l&&l.values?l.values.length:1;return u.numFailures===d?null:(l=r({},l),f(l.keys)&&(l.keys=l.keys.filter(function(h,m){return!(m in u.failures)})),"values"in l&&f(l.values)&&(l.values=l.values.filter(function(h,m){return!(m in u.failures)})),l)}function Ta(s,l){return u=s,((d=l).lower===void 0||(d.lowerOpen?0<Fe(u,d.lower):0<=Fe(u,d.lower)))&&(s=s,(l=l).upper===void 0||(l.upperOpen?Fe(s,l.upper)<0:Fe(s,l.upper)<=0));var u,d}function Wd(s,l,M,d,h,m){if(!M||M.length===0)return s;var y=l.query.index,w=y.multiEntry,E=l.query.range,P=d.schema.primaryKey.extractKey,L=y.extractKey,k=(y.lowLevelIndex||y).extractKey,M=M.reduce(function(T,R){var O=T,F=[];if(R.type==="add"||R.type==="put")for(var I=new kt,D=R.values.length-1;0<=D;--D){var B,V=R.values[D],le=P(V);I.hasKey(le)||(B=L(V),(w&&f(B)?B.some(function(ue){return Ta(ue,E)}):Ta(B,E))&&(I.addKey(le),F.push(V)))}switch(R.type){case"add":var de=new kt().addKeys(l.values?T.map(function(pe){return P(pe)}):T),O=T.concat(l.values?F.filter(function(pe){return pe=P(pe),!de.hasKey(pe)&&(de.addKey(pe),!0)}):F.map(function(pe){return P(pe)}).filter(function(pe){return!de.hasKey(pe)&&(de.addKey(pe),!0)}));break;case"put":var te=new kt().addKeys(R.values.map(function(pe){return P(pe)}));O=T.filter(function(pe){return!te.hasKey(l.values?P(pe):pe)}).concat(l.values?F:F.map(function(pe){return P(pe)}));break;case"delete":var ae=new kt().addKeys(R.keys);O=T.filter(function(pe){return!ae.hasKey(l.values?P(pe):pe)});break;case"deleteRange":var fe=R.range;O=T.filter(function(pe){return!Ta(P(pe),fe)})}return O},s);return M===s?s:(M.sort(function(T,R){return Fe(k(T),k(R))||Fe(P(T),P(R))}),l.limit&&l.limit<1/0&&(M.length>l.limit?M.length=l.limit:s.length===l.limit&&M.length<l.limit&&(h.dirty=!0)),m?Object.freeze(M):M)}function Hd(s,l){return Fe(s.lower,l.lower)===0&&Fe(s.upper,l.upper)===0&&!!s.lowerOpen==!!l.lowerOpen&&!!s.upperOpen==!!l.upperOpen}function Ay(s,l){return function(u,d,h,m){if(u===void 0)return d!==void 0?-1:0;if(d===void 0)return 1;if((d=Fe(u,d))===0){if(h&&m)return 0;if(h)return 1;if(m)return-1}return d}(s.lower,l.lower,s.lowerOpen,l.lowerOpen)<=0&&0<=function(u,d,h,m){if(u===void 0)return d!==void 0?1:0;if(d===void 0)return-1;if((d=Fe(u,d))===0){if(h&&m)return 0;if(h)return-1;if(m)return 1}return d}(s.upper,l.upper,s.upperOpen,l.upperOpen)}function zy(s,l,u,d){s.subscribers.add(u),d.addEventListener("abort",function(){var h,m;s.subscribers.delete(u),s.subscribers.size===0&&(h=s,m=l,setTimeout(function(){h.subscribers.size===0&&H(m,h)},3e3))})}var Dy={stack:"dbcore",level:0,name:"Cache",create:function(s){var l=s.schema.name;return r(r({},s),{transaction:function(u,d,h){var m,y,w=s.transaction(u,d,h);return d==="readwrite"&&(y=(m=new AbortController).signal,h=function(E){return function(){if(m.abort(),d==="readwrite"){for(var P=new Set,L=0,k=u;L<k.length;L++){var M=k[L],T=Wr["idb://".concat(l,"/").concat(M)];if(T){var R=s.table(M),O=T.optimisticOps.filter(function(pe){return pe.trans===w});if(w._explicit&&E&&w.mutatedParts)for(var F=0,I=Object.values(T.queries.query);F<I.length;F++)for(var D=0,B=(de=I[F]).slice();D<B.length;D++)ka((te=B[D]).obsSet,w.mutatedParts)&&(H(de,te),te.subscribers.forEach(function(pe){return P.add(pe)}));else if(0<O.length){T.optimisticOps=T.optimisticOps.filter(function(pe){return pe.trans!==w});for(var V=0,le=Object.values(T.queries.query);V<le.length;V++)for(var de,te,ae,fe=0,ue=(de=le[V]).slice();fe<ue.length;fe++)(te=ue[fe]).res!=null&&w.mutatedParts&&(E&&!te.dirty?(ae=Object.isFrozen(te.res),ae=Wd(te.res,te.req,O,R,te,ae),te.dirty?(H(de,te),te.subscribers.forEach(function(pe){return P.add(pe)})):ae!==te.res&&(te.res=ae,te.promise=ce.resolve({result:ae}))):(te.dirty&&H(de,te),te.subscribers.forEach(function(pe){return P.add(pe)})))}}}P.forEach(function(pe){return pe()})}}},w.addEventListener("abort",h(!1),{signal:y}),w.addEventListener("error",h(!1),{signal:y}),w.addEventListener("complete",h(!0),{signal:y})),w},table:function(u){var d=s.table(u),h=d.schema.primaryKey;return r(r({},d),{mutate:function(m){var y=ye.trans;if(h.outbound||y.db._options.cache==="disabled"||y.explicit||y.idbtrans.mode!=="readwrite")return d.mutate(m);var w=Wr["idb://".concat(l,"/").concat(u)];return w?(y=d.mutate(m),m.type!=="add"&&m.type!=="put"||!(50<=m.values.length||Pa(h,m).some(function(E){return E==null}))?(w.optimisticOps.push(m),m.mutatedParts&&Eo(m.mutatedParts),y.then(function(E){0<E.numFailures&&(H(w.optimisticOps,m),(E=Kd(0,m,E))&&w.optimisticOps.push(E),m.mutatedParts&&Eo(m.mutatedParts))}),y.catch(function(){H(w.optimisticOps,m),m.mutatedParts&&Eo(m.mutatedParts)})):y.then(function(E){var P=Kd(0,r(r({},m),{values:m.values.map(function(L,k){var M;return E.failures[k]?L:(L=(M=h.keyPath)!==null&&M!==void 0&&M.includes(".")?oe(L):r({},L),Q(L,h.keyPath,E.results[k]),L)})}),E);w.optimisticOps.push(P),queueMicrotask(function(){return m.mutatedParts&&Eo(m.mutatedParts)})}),y):d.mutate(m)},query:function(m){if(!$d(ye,d)||!Bd("query",m))return d.query(m);var y=((P=ye.trans)===null||P===void 0?void 0:P.db._options.cache)==="immutable",k=ye,w=k.requery,E=k.signal,P=function(R,O,F,I){var D=Wr["idb://".concat(R,"/").concat(O)];if(!D)return[];if(!(O=D.queries[F]))return[null,!1,D,null];var B=O[(I.query?I.query.index.name:null)||""];if(!B)return[null,!1,D,null];switch(F){case"query":var V=B.find(function(le){return le.req.limit===I.limit&&le.req.values===I.values&&Hd(le.req.query.range,I.query.range)});return V?[V,!0,D,B]:[B.find(function(le){return("limit"in le.req?le.req.limit:1/0)>=I.limit&&(!I.values||le.req.values)&&Ay(le.req.query.range,I.query.range)}),!1,D,B];case"count":return V=B.find(function(le){return Hd(le.req.query.range,I.query.range)}),[V,!!V,D,B]}}(l,u,"query",m),L=P[0],k=P[1],M=P[2],T=P[3];return L&&k?L.obsSet=m.obsSet:(k=d.query(m).then(function(R){var O=R.result;if(L&&(L.res=O),y){for(var F=0,I=O.length;F<I;++F)Object.freeze(O[F]);Object.freeze(O)}else R.result=oe(O);return R}).catch(function(R){return T&&L&&H(T,L),Promise.reject(R)}),L={obsSet:m.obsSet,promise:k,subscribers:new Set,type:"query",req:m,dirty:!1},T?T.push(L):(T=[L],(M=M||(Wr["idb://".concat(l,"/").concat(u)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[m.query.index.name||""]=T)),zy(L,T,w,E),L.promise.then(function(R){return{result:Wd(R.result,m,M==null?void 0:M.optimisticOps,d,L,y)}})}})}})}};function Po(s,l){return new Proxy(s,{get:function(u,d,h){return d==="db"?l:Reflect.get(u,d,h)}})}var Dn=(nt.prototype.version=function(s){if(isNaN(s)||s<.1)throw new U.Type("Given version is not a positive number");if(s=Math.round(10*s)/10,this.idbdb||this._state.isBeingOpened)throw new U.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,s);var l=this._versions,u=l.filter(function(d){return d._cfg.version===s})[0];return u||(u=new this.Version(s),l.push(u),l.sort(_y),u.stores({}),this._state.autoSchema=!1,u)},nt.prototype._whenReady=function(s){var l=this;return this.idbdb&&(this._state.openComplete||ye.letThrough||this._vip)?s():new ce(function(u,d){if(l._state.openComplete)return d(new U.DatabaseClosed(l._state.dbOpenError));if(!l._state.isBeingOpened){if(!l._state.autoOpen)return void d(new U.DatabaseClosed);l.open().catch(ve)}l._state.dbReadyPromise.then(u,d)}).then(s)},nt.prototype.use=function(s){var l=s.stack,u=s.create,d=s.level,h=s.name;return h&&this.unuse({stack:l,name:h}),s=this._middlewares[l]||(this._middlewares[l]=[]),s.push({stack:l,create:u,level:d??10,name:h}),s.sort(function(m,y){return m.level-y.level}),this},nt.prototype.unuse=function(s){var l=s.stack,u=s.name,d=s.create;return l&&this._middlewares[l]&&(this._middlewares[l]=this._middlewares[l].filter(function(h){return d?h.create!==d:!!u&&h.name!==u})),this},nt.prototype.open=function(){var s=this;return vn(dt,function(){return Oy(s)})},nt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var s=this._state,l=ie.indexOf(this);if(0<=l&&ie.splice(l,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}s.isBeingOpened||(s.dbReadyPromise=new ce(function(u){s.dbReadyResolve=u}),s.openCanceller=new ce(function(u,d){s.cancelOpen=d}))},nt.prototype.close=function(u){var l=(u===void 0?{disableAutoOpen:!0}:u).disableAutoOpen,u=this._state;l?(u.isBeingOpened&&u.cancelOpen(new U.DatabaseClosed),this._close(),u.autoOpen=!1,u.dbOpenError=new U.DatabaseClosed):(this._close(),u.autoOpen=this._options.autoOpen||u.isBeingOpened,u.openComplete=!1,u.dbOpenError=null)},nt.prototype.delete=function(s){var l=this;s===void 0&&(s={disableAutoOpen:!0});var u=0<arguments.length&&typeof arguments[0]!="object",d=this._state;return new ce(function(h,m){function y(){l.close(s);var w=l._deps.indexedDB.deleteDatabase(l.name);w.onsuccess=Be(function(){var E,P,L;E=l._deps,P=l.name,L=E.indexedDB,E=E.IDBKeyRange,wa(L)||P===W||xa(L,E).delete(P).catch(ve),h()}),w.onerror=Pn(m),w.onblocked=l._fireOnBlocked}if(u)throw new U.InvalidArgument("Invalid closeOptions argument to db.delete()");d.isBeingOpened?d.dbReadyPromise.then(y):y()})},nt.prototype.backendDB=function(){return this.idbdb},nt.prototype.isOpen=function(){return this.idbdb!==null},nt.prototype.hasBeenClosed=function(){var s=this._state.dbOpenError;return s&&s.name==="DatabaseClosed"},nt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},nt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(nt.prototype,"tables",{get:function(){var s=this;return a(this._allTables).map(function(l){return s._allTables[l]})},enumerable:!1,configurable:!0}),nt.prototype.transaction=function(){var s=(function(l,u,d){var h=arguments.length;if(h<2)throw new U.InvalidArgument("Too few arguments");for(var m=new Array(h-1);--h;)m[h-1]=arguments[h];return d=m.pop(),[l,he(m),d]}).apply(this,arguments);return this._transaction.apply(this,s)},nt.prototype._transaction=function(s,l,u){var d=this,h=ye.trans;h&&h.db===this&&s.indexOf("!")===-1||(h=null);var m,y,w=s.indexOf("?")!==-1;s=s.replace("!","").replace("?","");try{if(y=l.map(function(P){if(P=P instanceof d.Table?P.name:P,typeof P!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return P}),s=="r"||s===ke)m=ke;else{if(s!="rw"&&s!=Le)throw new U.InvalidArgument("Invalid transaction mode: "+s);m=Le}if(h){if(h.mode===ke&&m===Le){if(!w)throw new U.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");h=null}h&&y.forEach(function(P){if(h&&h.storeNames.indexOf(P)===-1){if(!w)throw new U.SubTransaction("Table "+P+" not included in parent transaction.");h=null}}),w&&h&&!h.active&&(h=null)}}catch(P){return h?h._promise(null,function(L,k){k(P)}):Qe(P)}var E=(function P(L,k,M,T,R){return ce.resolve().then(function(){var O=ye.transless||ye,F=L._createTransaction(k,M,L._dbSchema,T);if(F.explicit=!0,O={trans:F,transless:O},T)F.idbtrans=T.idbtrans;else try{F.create(),F.idbtrans._explicit=!0,L._state.PR1398_maxLoop=3}catch(B){return B.name===Kt.InvalidState&&L.isOpen()&&0<--L._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),L.close({disableAutoOpen:!1}),L.open().then(function(){return P(L,k,M,null,R)})):Qe(B)}var I,D=ge(R);return D&&zn(),O=ce.follow(function(){var B;(I=R.call(F,F))&&(D?(B=sn.bind(null,null),I.then(B,B)):typeof I.next=="function"&&typeof I.throw=="function"&&(I=Ea(I)))},O),(I&&typeof I.then=="function"?ce.resolve(I).then(function(B){return F.active?B:Qe(new U.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):O.then(function(){return I})).then(function(B){return T&&F._resolve(),F._completion.then(function(){return B})}).catch(function(B){return F._reject(B),Qe(B)})})}).bind(null,this,m,y,h,u);return h?h._promise(m,E,"lock"):ye.trans?vn(ye.transless,function(){return d._whenReady(E)}):this._whenReady(E)},nt.prototype.table=function(s){if(!b(this._allTables,s))throw new U.InvalidTable("Table ".concat(s," does not exist"));return this._allTables[s]},nt);function nt(s,l){var u=this;this._middlewares={},this.verno=0;var d=nt.dependencies;this._options=l=r({addons:nt.addons,autoOpen:!0,indexedDB:d.indexedDB,IDBKeyRange:d.IDBKeyRange,cache:"cloned"},l),this._deps={indexedDB:l.indexedDB,IDBKeyRange:l.IDBKeyRange},d=l.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var h,m,y,w,E,P={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ve,dbReadyPromise:null,cancelOpen:ve,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:l.autoOpen};P.dbReadyPromise=new ce(function(k){P.dbReadyResolve=k}),P.openCanceller=new ce(function(k,M){P.cancelOpen=M}),this._state=P,this.name=s,this.on=cs(this,"populate","blocked","versionchange","close",{ready:[os,ve]}),this.once=function(k,M){var T=function(){for(var R=[],O=0;O<arguments.length;O++)R[O]=arguments[O];u.on(k).unsubscribe(T),M.apply(u,R)};return u.on(k,T)},this.on.ready.subscribe=N(this.on.ready.subscribe,function(k){return function(M,T){nt.vip(function(){var R,O=u._state;O.openComplete?(O.dbOpenError||ce.resolve().then(M),T&&k(M)):O.onReadyBeingFired?(O.onReadyBeingFired.push(M),T&&k(M)):(k(M),R=u,T||k(function F(){R.on.ready.unsubscribe(M),R.on.ready.unsubscribe(F)}))})}}),this.Collection=(h=this,ds(by.prototype,function(I,F){this.db=h;var T=ze,R=null;if(F)try{T=F()}catch(D){R=D}var O=I._ctx,F=O.table,I=F.hook.reading.fire;this._ctx={table:F,index:O.index,isPrimKey:!O.index||F.schema.primKey.keyPath&&O.index===F.schema.primKey.name,range:T,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:R,or:O.or,valueMapper:I!==De?I:null}})),this.Table=(m=this,ds(Cd.prototype,function(k,M,T){this.db=m,this._tx=T,this.name=k,this.schema=M,this.hook=m._allTables[k]?m._allTables[k].hook:cs(null,{creating:[st,ve],reading:[mt,De],updating:[hi,ve],deleting:[nn,ve]})})),this.Transaction=(y=this,ds(jy.prototype,function(k,M,T,R,O){var F=this;k!=="readonly"&&M.forEach(function(I){I=(I=T[I])===null||I===void 0?void 0:I.yProps,I&&(M=M.concat(I.map(function(D){return D.updatesTable})))}),this.db=y,this.mode=k,this.storeNames=M,this.schema=T,this.chromeTransactionDurability=R,this.idbtrans=null,this.on=cs(this,"complete","error","abort"),this.parent=O||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ce(function(I,D){F._resolve=I,F._reject=D}),this._completion.then(function(){F.active=!1,F.on.complete.fire()},function(I){var D=F.active;return F.active=!1,F.on.error.fire(I),F.parent?F.parent._reject(I):D&&F.idbtrans&&F.idbtrans.abort(),Qe(I)})})),this.Version=(w=this,ds(Ry.prototype,function(k){this.db=w,this._cfg={version:k,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(E=this,ds(Rd.prototype,function(k,M,T){if(this.db=E,this._ctx={table:k,index:M===":id"?null:M,or:T},this._cmp=this._ascending=Fe,this._descending=function(R,O){return Fe(O,R)},this._max=function(R,O){return 0<Fe(R,O)?R:O},this._min=function(R,O){return Fe(R,O)<0?R:O},this._IDBKeyRange=E._deps.IDBKeyRange,!this._IDBKeyRange)throw new U.MissingAPI})),this.on("versionchange",function(k){0<k.newVersion?console.warn("Another connection wants to upgrade database '".concat(u.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(u.name,"'. Closing db now to resume the delete request.")),u.close({disableAutoOpen:!1})}),this.on("blocked",function(k){!k.newVersion||k.newVersion<k.oldVersion?console.warn("Dexie.delete('".concat(u.name,"') was blocked")):console.warn("Upgrade '".concat(u.name,"' blocked by other connection holding version ").concat(k.oldVersion/10))}),this._maxKey=ps(l.IDBKeyRange),this._createTransaction=function(k,M,T,R){return new u.Transaction(k,M,T,u._options.chromeTransactionDurability,R)},this._fireOnBlocked=function(k){u.on("blocked").fire(k),ie.filter(function(M){return M.name===u.name&&M!==u&&!M._state.vcFired}).map(function(M){return M.on("versionchange").fire(k)})},this.use(My),this.use(Dy),this.use(Iy),this.use(Ly),this.use(Fy);var L=new Proxy(this,{get:function(k,M,T){if(M==="_vip")return!0;if(M==="table")return function(O){return Po(u.table(O),L)};var R=Reflect.get(k,M,T);return R instanceof Cd?Po(R,L):M==="tables"?R.map(function(O){return Po(O,L)}):M==="_createTransaction"?function(){return Po(R.apply(this,arguments),L)}:R}});this.vip=L,d.forEach(function(k){return k(u)})}var To,on=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Uy=(Ra.prototype.subscribe=function(s,l,u){return this._subscribe(s&&typeof s!="function"?s:{next:s,error:l,complete:u})},Ra.prototype[on]=function(){return this},Ra);function Ra(s){this._subscribe=s}try{To={indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch{To={indexedDB:null,IDBKeyRange:null}}function Vd(s){var l,u=!1,d=new Uy(function(h){var m=ge(s),y,w=!1,E={},P={},L={get closed(){return w},unsubscribe:function(){w||(w=!0,y&&y.abort(),k&&lr.storagemutated.unsubscribe(T))}};h.start&&h.start(L);var k=!1,M=function(){return xi(R)},T=function(O){Co(E,O),ka(P,E)&&M()},R=function(){var O,F,I;!w&&To.indexedDB&&(E={},O={},y&&y.abort(),y=new AbortController,I=function(D){var B=mn();try{m&&zn();var V=yn(s,D);return V=m?V.finally(sn):V}finally{B&&An()}}(F={subscr:O,signal:y.signal,requery:M,querier:s,trans:null}),Promise.resolve(I).then(function(D){u=!0,l=D,w||F.signal.aborted||(E={},function(B){for(var V in B)if(b(B,V))return;return 1}(P=O)||k||(lr(hs,T),k=!0),xi(function(){return!w&&h.next&&h.next(D)}))},function(D){u=!1,["DatabaseClosedError","AbortError"].includes(D==null?void 0:D.name)||w||xi(function(){w||h.error&&h.error(D)})}))};return setTimeout(M,0),L});return d.hasValue=function(){return u},d.getValue=function(){return l},d}var Hr=Dn;function Oa(s){var l=ar;try{ar=!0,lr.storagemutated.fire(s),Ca(s,!0)}finally{ar=l}}_(Hr,r(r({},be),{delete:function(s){return new Hr(s,{addons:[]}).delete()},exists:function(s){return new Hr(s,{addons:[]}).open().then(function(l){return l.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(s){try{return l=Hr.dependencies,u=l.indexedDB,l=l.IDBKeyRange,(wa(u)?Promise.resolve(u.databases()).then(function(d){return d.map(function(h){return h.name}).filter(function(h){return h!==W})}):xa(u,l).toCollection().primaryKeys()).then(s)}catch{return Qe(new U.MissingAPI)}var l,u},defineClass:function(){return function(s){p(this,s)}},ignoreTransaction:function(s){return ye.trans?vn(ye.transless,s):s()},vip:ba,async:function(s){return function(){try{var l=Ea(s.apply(this,arguments));return l&&typeof l.then=="function"?l:ce.resolve(l)}catch(u){return Qe(u)}}},spawn:function(s,l,u){try{var d=Ea(s.apply(u,l||[]));return d&&typeof d.then=="function"?d:ce.resolve(d)}catch(h){return Qe(h)}},currentTransaction:{get:function(){return ye.trans||null}},waitFor:function(s,l){return l=ce.resolve(typeof s=="function"?Hr.ignoreTransaction(s):s).timeout(l||6e4),ye.trans?ye.trans.waitFor(l):l},Promise:ce,debug:{get:function(){return It},set:function(s){Fr(s)}},derive:K,extend:p,props:_,override:N,Events:cs,on:lr,liveQuery:Vd,extendObservabilitySet:Co,getByKeyPath:G,setByKeyPath:Q,delByKeyPath:function(s,l){typeof l=="string"?Q(s,l,void 0):"length"in l&&[].map.call(l,function(u){Q(s,u,void 0)})},shallowClone:Z,deepClone:oe,getObjectDiff:_a,cmp:Fe,asap:X,minKey:-1/0,addons:[],connections:ie,errnames:Kt,dependencies:To,cache:Wr,semVer:"4.2.1",version:"4.2.1".split(".").map(function(s){return parseInt(s)}).reduce(function(s,l,u){return s+l/Math.pow(10,2*u)})})),Hr.maxKey=ps(Hr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(lr(hs,function(s){ar||(s=new CustomEvent(fa,{detail:s}),ar=!0,dispatchEvent(s),ar=!1)}),addEventListener(fa,function(s){s=s.detail,ar||Oa(s)}));var ki,ar=!1,qd=function(){};return typeof BroadcastChannel<"u"&&((qd=function(){(ki=new BroadcastChannel(fa)).onmessage=function(s){return s.data&&Oa(s.data)}})(),typeof ki.unref=="function"&&ki.unref(),lr(hs,function(s){ar||ki.postMessage(s)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(s){if(!Dn.disableBfCache&&s.persisted){It&&console.debug("Dexie: handling persisted pagehide"),ki!=null&&ki.close();for(var l=0,u=ie;l<u.length;l++)u[l].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(s){!Dn.disableBfCache&&s.persisted&&(It&&console.debug("Dexie: handling persisted pageshow"),qd(),Oa({all:new kt(-1/0,[[]])}))})),ce.rejectionMapper=function(s,l){return!s||s instanceof Ue||s instanceof TypeError||s instanceof SyntaxError||!s.name||!Se[s.name]?s:(l=new Se[s.name](l||s.message,s),"stack"in s&&z(l,"stack",{get:function(){return this.inner.stack}}),l)},Fr(It),r(Dn,Object.freeze({__proto__:null,Dexie:Dn,liveQuery:Vd,Entity:bd,cmp:Fe,PropModification:us,replacePrefix:function(s,l){return new us({replacePrefix:[s,l]})},add:function(s){return new us({add:s})},remove:function(s){return new us({remove:s})},default:Dn,RangeSet:kt,mergeRanges:vs,rangesOverlap:Id}),{default:Dn}),Dn})})(fy);var rw=fy.exports;const pc=Sc(rw),vh=Symbol.for("Dexie"),Ul=globalThis[vh]||(globalThis[vh]=pc);if(pc.semVer!==Ul.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${pc.semVer} and ${Ul.semVer}`);const{liveQuery:sb,mergeRanges:ob,rangesOverlap:lb,RangeSet:ab,cmp:ub,Entity:cb,PropModification:db,replacePrefix:fb,add:hb,remove:pb,DexieYProvider:mb}=Ul;class iw extends Ul{constructor(){super("subtitle-learner");ji(this,"words");ji(this,"subtitleFiles");ji(this,"subtitleCues");ji(this,"prefs");ji(this,"sessions");this.version(1).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt"}),this.version(2).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt",subtitleCues:"&id, fileHash, index",sessions:"&id, updatedAt"}),this.version(3).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt",subtitleCues:"&id, fileHash, index",sessions:"&id, updatedAt"}),this.version(3).upgrade(n=>n.table("words").toArray().then(r=>{const i=r.map(o=>({id:o.id,original:o.original,originalSentence:o.originalSentence,normalized:o.normalized,stem:o.stem,createdAt:o.createdAt,updatedAt:o.updatedAt}));return n.table("words").clear().then(()=>n.table("words").bulkPut(i))})),this.version(4).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt",subtitleCues:"&id, fileHash, index",sessions:"&id, updatedAt"}),this.version(4).upgrade(n=>n.table("words").toArray().then(r=>{const i=r.map(o=>({id:o.id,original:o.original,originalSentence:o.originalSentence,normalized:o.normalized,stem:o.stem,createdAt:o.createdAt,updatedAt:o.updatedAt}));return n.table("words").clear().then(()=>n.table("words").bulkPut(i))}))}}const je=new iw;let au=null,gh=!1,xh=!1;async function wd(){return gh?!0:xh?!1:(au||(au=je.open().then(()=>(gh=!0,!0)).catch(()=>(xh=!0,!1))),au)}async function Je(e,t){if(!await wd())return e;try{return await t()}catch{return e}}async function zt(e){if(await wd())try{await e()}catch{}}async function sw(){return Je([],()=>je.words.toArray())}async function uu(e){await zt(()=>je.words.put(e))}async function ow(e){await zt(()=>je.words.delete(e))}async function cu(e){await zt(()=>je.transaction("rw",je.words,async()=>{await je.words.clear(),e.length>0&&await je.words.bulkPut(e)}))}function Ci(e){return[...e].sort((t,n)=>n.updatedAt-t.updatedAt)}function lw(e){if(typeof e=="string"){const[t]=qn(e);return t}return e}function wh(e){let t=!1;return{next:e.map(r=>{const i=xd(r.normalized);return i===r.stem?r:(t=!0,{...r,stem:i})}),changed:t}}const gt=gd((e,t)=>({words:[],initialized:!1,initialize:async()=>{if(t().initialized)return;const n=await sw(),{next:r,changed:i}=wh(n),o=Ci(r);e({words:o,initialized:!0}),i&&await cu(o)},addUnknownWordFromToken:async(n,r)=>{const i=lw(n);if(!i||!i.isWord)return;const o=t().words.find(p=>p.normalized===i.normalized||p.stem===i.stem),a=Date.now();if(o){const p={...o,updatedAt:a,original:o.original||i.text,originalSentence:r??o.originalSentence};e(v=>({words:Ci(v.words.map(S=>S.id===o.id?p:S))})),await uu(p);return}const f={id:hc(),original:i.text,originalSentence:r,normalized:i.normalized,stem:i.stem,createdAt:a,updatedAt:a};e(p=>({words:Ci([...p.words,f])})),await uu(f)},updateWord:async(n,r)=>{const i=t().words.find(a=>a.id===n);if(!i)return;const o={...i,...r,updatedAt:Date.now()};e(a=>({words:Ci(a.words.map(f=>f.id===n?o:f))})),await uu(o)},removeWord:async n=>{e(r=>({words:r.words.filter(i=>i.id!==n)})),await ow(n)},importWords:async n=>{const r=Date.now(),i=f=>`${f.normalized}::${f.stem}`,o=new Map;for(const f of t().words)o.set(i(f),f);for(const f of n){if(!f.normalized)continue;const p=f.normalized,v=f.stem??xd(p),S=`${p}::${v}`,b=o.get(S);o.set(S,{id:f.id??(b==null?void 0:b.id)??hc(),original:f.original??(b==null?void 0:b.original)??p,originalSentence:f.originalSentence??(b==null?void 0:b.originalSentence),normalized:p,stem:v,createdAt:f.createdAt??(b==null?void 0:b.createdAt)??r,updatedAt:f.updatedAt??r})}const a=Ci(Array.from(o.values()));e({words:a,initialized:!0}),await cu(a)},reanalyzeStems:async()=>{const{next:n,changed:r}=wh(t().words);if(!r)return;const i=Ci(n);e({words:i}),await cu(i)},classForToken:n=>{const r=new Set(t().words.map(o=>o.normalized)),i=new Set(t().words.map(o=>o.stem));return r.has(n.normalized)?"hl-exact text-white":i.has(n.stem)?"hl-variant text-white":"bg-transparent"}})),hy="prefs";async function aw(){return Je(void 0,async()=>{const e=await je.prefs.get(hy);return e==null?void 0:e.value})}async function Yo(e){await zt(()=>je.prefs.put({id:hy,value:e,updatedAt:Date.now()}))}const bh={subtitleStyle:{fontFamily:"Inter",fontSizePx:42,secondaryFontSizePx:36,useMainForSecondaryFontSize:!0,fontWeight:600,color:"#ffffff",outline:!0,shadow:!0,bgColor:"rgba(0, 0, 0, 0.35)",lineHeight:1.35},highlightColors:{exact:"#10b981",variant:"#f97316"},mediaLibrary:void 0},lt=gd((e,t)=>({prefs:bh,initialized:!1,initialize:async()=>{if(t().initialized)return;const n=await aw();e({prefs:n??bh,initialized:!0})},updateSubtitleStyle:async n=>{const r={...t().prefs,subtitleStyle:{...t().prefs.subtitleStyle,...n}};e({prefs:r}),await Yo(r)},updateHighlightColors:async n=>{const r={...t().prefs,highlightColors:{...t().prefs.highlightColors,...n}};e({prefs:r}),await Yo(r)},setLastOpened:async n=>{const r={...t().prefs,lastOpened:n};e({prefs:r}),await Yo(r)},setMediaLibrary:async n=>{const r={...t().prefs,mediaLibrary:n};e({prefs:r}),await Yo(r)}})),cr=gd((e,t)=>({videoName:"",videoUrl:null,videoBlob:null,videoDurationMs:null,setVideoFromFile:n=>{const r=t().videoUrl;r&&URL.revokeObjectURL(r),e({videoName:n.name,videoUrl:URL.createObjectURL(n),videoBlob:n,videoDurationMs:null})},setVideoFromBlob:(n,r)=>{const i=t().videoUrl;i&&URL.revokeObjectURL(i),e({videoName:n,videoUrl:URL.createObjectURL(r),videoBlob:r,videoDurationMs:null})},setVideoNameOnly:n=>{const r=t().videoUrl;r&&URL.revokeObjectURL(r),e({videoName:n,videoUrl:null,videoBlob:null,videoDurationMs:null})},clearVideo:()=>{const n=t().videoUrl;n&&URL.revokeObjectURL(n),e({videoName:"",videoUrl:null,videoBlob:null,videoDurationMs:null})},setVideoDurationMs:n=>{e({videoDurationMs:n})}})),uw=/(\d{2}:\d{2}:\d{2},\d{3}) --> (\d{2}:\d{2}:\d{2},\d{3})/,mc="",yc="";function Sh(e){const[t,n,r]=e.split(":"),[i,o]=r.split(",");return Number(t)*3600*1e3+Number(n)*60*1e3+Number(i)*1e3+Number(o)}function cw(e){return e.replace(/<i>/gi,mc).replace(/<\/i>/gi,yc).replace(/<[^>]+>/g,"").replace(/\s+/g," ").trim()}function Ts(e){return e.split(/\r?\n\r?\n/).filter(Boolean).map((t,n)=>{const[r,i,...o]=t.split(/\r?\n/),a=i==null?void 0:i.match(uw),f=(a==null?void 0:a[1])??"00:00:00,000",p=(a==null?void 0:a[2])??"00:00:00,000",v=cw(o.join(`
`));return{index:Number.parseInt(r??String(n),10),startMs:Sh(f),endMs:Sh(p),rawText:v}}).filter(t=>t.rawText.length>0)}const dw=/^[\)\]\}.,!?;:%]+$/u,fw=/^[\(\[\{]+$/u,hw=/^[.]+$/u;function oo(e){return e.isWord||/^\d+$/.test(e.text)}function py(e){return!e.isWord&&dw.test(e.text)}function my(e){return!e.isWord&&fw.test(e.text)}function yy(e,t){if(!e||py(t)||my(e))return!1;const n=oo(e),r=oo(t);return!!(n&&r||n&&!r||!n&&r)}function pw(e){const t=new RegExp(`(${mc}|${yc})`,"g"),n=e.split(t).filter(o=>o.length>0);let r=!1;const i=[];for(const o of n){if(o===mc){r=!0;continue}if(o===yc){r=!1;continue}const a=qn(o);i.push(...a.map(f=>({token:f,italic:r})))}return i}function mw(e,t={}){const{isRtl:n=!1}=t,r=[];let i="",o=!1;if(e.forEach((a,f)=>{const p=e[f+1];if(n&&!a.token.isWord&&hw.test(a.token.text)&&p&&oo(p.token)){i+=a.token.text,o=o||a.italic;return}if(!a.token.isWord&&my(a.token)&&p&&oo(p.token)){i+=a.token.text,o=o||a.italic;return}if(!a.token.isWord&&py(a.token)&&r.length>0){const b=r[r.length-1];b.text+=a.token.text,b.italic=b.italic||a.italic;return}const v=`${i}${a.token.text}`,S=o||a.italic;i="",o=!1,v.trim().length!==0&&r.push({token:a.token,text:v,italic:S})}),i.trim().length>0){const a=i.trim();r.push({token:{text:a,normalized:a,stem:a,isWord:!1},text:a,italic:o})}return r}const yw=["INPUT","TEXTAREA","SELECT"];function vw(e){return typeof HTMLElement>"u"||!(e instanceof HTMLElement)?!1:e.isContentEditable?!0:yw.includes(e.tagName)}function Un(e){e.preventDefault(),e.stopPropagation(),typeof e.stopImmediatePropagation=="function"&&e.stopImmediatePropagation()}function $n(e,t,n){return t.includes(e.code)||n.includes(e.key)}function gw(e,t){const{video:n,seekBy:r,toggleFullscreen:i,toggleMute:o,togglePlayback:a,toggleSecondarySubtitle:f}=t,{stepVolume:p}=t;return!n||vw(e.target)||e.altKey||e.ctrlKey||e.metaKey?!1:$n(e,["Space"],[" ","Spacebar"])||$n(e,["KeyK"],["k","K"])?(Un(e),a(),!0):$n(e,["ArrowLeft"],["ArrowLeft"])?(Un(e),r(-5),!0):$n(e,["ArrowRight"],["ArrowRight"])?(Un(e),r(5),!0):$n(e,["ArrowUp"],["ArrowUp"])?(Un(e),p("up"),!0):$n(e,["ArrowDown"],["ArrowDown"])?(Un(e),p("down"),!0):$n(e,["KeyF"],["f","F"])?(Un(e),i(),!0):$n(e,["KeyM"],["m","M"])?(Un(e),o(),!0):$n(e,["KeyH"],["h","H"])?(Un(e),f(),!0):!1}function Xo(e){const t=Math.max(0,Math.floor(e/1e3)),n=Math.floor(t/60).toString().padStart(2,"0"),r=(t%60).toString().padStart(2,"0");return`${n}:${r}`}async function vc(e,t="SHA-256"){const n=await e.arrayBuffer(),r=await crypto.subtle.digest(t,n);return Array.from(new Uint8Array(r)).map(o=>o.toString(16).padStart(2,"0")).join("")}async function gc(e){const t=await e.arrayBuffer();if(t.byteLength>=2){const r=new Uint8Array(t);if(r[0]===255&&r[1]===254)return new TextDecoder("utf-16le").decode(t);if(r[0]===254&&r[1]===255)return new TextDecoder("utf-16be").decode(t);if(t.byteLength>=3&&r[0]===239&&r[1]===187&&r[2]===191)return new TextDecoder("utf-8").decode(t)}const n=new TextDecoder("utf-8",{fatal:!0});try{return n.decode(t)}catch{return new TextDecoder("windows-1255").decode(t)}}function xw(e){const{index:t,startMs:n,endMs:r,rawText:i,tokens:o}=e;return{index:t,startMs:n,endMs:r,rawText:i,tokens:o}}function ww(e,t){return{id:`${e}:${t.index}`,fileHash:e,index:t.index,startMs:t.startMs,endMs:t.endMs,rawText:t.rawText,tokens:t.tokens??[]}}async function ni(e){return Je(void 0,async()=>{const t=await je.subtitleCues.where("fileHash").equals(e).sortBy("index");if(t.length!==0)return t.map(xw)})}async function xc(e,t){await zt(()=>je.transaction("rw",je.subtitleCues,async()=>{await je.subtitleCues.where("fileHash").equals(e).delete(),t.length>0&&await je.subtitleCues.bulkPut(t.map(n=>ww(e,n)))}))}async function bw(e){await zt(()=>je.subtitleCues.where("fileHash").equals(e).delete())}async function Jr(e){const t=await Je(void 0,()=>je.subtitleFiles.where("bytesHash").equals(e.bytesHash).first()),n=t?{...t,...e,addedAt:e.addedAt??Date.now()}:{id:hc(),name:e.name,bytesHash:e.bytesHash,totalCues:e.totalCues,language:e.language,addedAt:e.addedAt??Date.now()};return await zt(()=>je.subtitleFiles.put(n)),n}async function vy(){return Je([],()=>je.subtitleFiles.orderBy("addedAt").reverse().toArray())}async function Sw(e){await zt(()=>je.transaction("rw",je.subtitleFiles,je.subtitleCues,async()=>{const t=await je.subtitleFiles.get(e);t&&(await je.subtitleFiles.delete(e),await bw(t.bytesHash))}))}const wc="last-session";async function kw(){return Je(void 0,()=>je.sessions.get(wc))}async function Ei(e){const t=Date.now();if(await Je(0,()=>je.sessions.update(wc,{...e,updatedAt:t}))>0)return;const r={id:wc,updatedAt:t,videoName:e.videoName,videoBlob:e.videoBlob,subtitleName:e.subtitleName,subtitleText:e.subtitleText,subtitleHash:e.subtitleHash,videoTimeSeconds:e.videoTimeSeconds,secondarySubtitleName:e.secondarySubtitleName,secondarySubtitleText:e.secondarySubtitleText,secondarySubtitleHash:e.secondarySubtitleHash,secondarySubtitleEnabled:e.secondarySubtitleEnabled,secondarySubtitleOffsetMs:e.secondarySubtitleOffsetMs};await zt(()=>je.sessions.put(r))}const jw=/[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/,Nw=/^[.!?]+$/u,Qr=[1,2,3,4,5,10,15,20,25,30,40,50,60,70,80,90,100];function kh(e){return e.some(t=>jw.test(t.rawText))}function Cw(e){return!e.isWord&&Nw.test(e.text)}function Ew(e){const t=e.trim();if(!t)return;const n=encodeURIComponent(`${t} definition`);window.open(`https://www.google.com/search?q=${n}`,"_blank","noopener,noreferrer")}function gy(e,t){const n=x.useMemo(()=>pw(e.rawText),[e.rawText]),r=x.useMemo(()=>{if(!t)return n;const i=n.findIndex(a=>oo(a.token));if(i<=0)return n;const o=n.slice(0,i);return o.length===0?n:o.every(a=>Cw(a.token))?[...n.slice(i),...o]:n},[t,n]);return x.useMemo(()=>mw(r,{isRtl:t}),[r,t])}function du({cue:e,onTokenClick:t,onTokenContextMenu:n,classForToken:r,isRtl:i=!1,className:o}){const a=gy(e,i);return c.jsx("div",{className:`pointer-events-none flex flex-wrap ${o??""}`,dir:i?"rtl":"ltr",children:a.map((f,p)=>{const v=p>0?a[p-1].token:void 0,S=f.token,b=yy(v,S)?"ms-1":"";return c.jsx("button",{type:"button",className:`pointer-events-auto relative z-50 rounded px-0.5 text-left ${b} ${S.isWord?"focus:outline-none focus-visible:outline-none":"cursor-default"}`,onClick:_=>{S.isWord&&(t(S,e),_.currentTarget instanceof HTMLElement&&_.currentTarget.blur())},onContextMenu:_=>{S.isWord&&(_.preventDefault(),n(S,e))},disabled:!S.isWord,children:c.jsx("span",{className:`rounded px-1 py-0.5 transition-colors ${f.italic?"italic":""} ${r(S)}`,children:f.text})},`${f.text}-${p}`)})})}function jh({cue:e,isRtl:t=!1,className:n}){const r=gy(e,t);return c.jsx("div",{className:`flex flex-wrap ${n??""}`,dir:t?"rtl":"ltr",children:r.map((i,o)=>{const a=o>0?r[o-1].token:void 0,f=i.token,p=yy(a,f)?"ms-1":"";return c.jsx("span",{className:`rounded px-1 py-0.5 ${p}`,children:i.text},`${i.text}-${o}`)})})}function Nh({isActive:e=!0}){const t=x.useRef(null),n=x.useRef(null),r=x.useRef(null),i=x.useRef(new Map),o=x.useRef({}),a=cr(j=>j.videoName),f=cr(j=>j.videoUrl),p=cr(j=>j.videoDurationMs),v=cr(j=>j.videoBlob),S=cr(j=>j.setVideoFromFile),b=cr(j=>j.setVideoFromBlob),_=cr(j=>j.setVideoNameOnly),$=cr(j=>j.setVideoDurationMs),[z,K]=x.useState(null),[q,C]=x.useState(""),[g,N]=x.useState([]),[A,X]=x.useState(0),[G,Q]=x.useState(!1),[Z,Ne]=x.useState(0),[he,Re]=x.useState(null),[Ae,oe]=x.useState(!1),[ne,se]=x.useState(""),[Y,we]=x.useState([]),[H,J]=x.useState(!1),[re,ge]=x.useState(0),[Ce,Ue]=x.useState(null),[bt,St]=x.useState(!1),[it,Kt]=x.useState(!1),[tn,U]=x.useState(!1),[Se,be]=x.useState(!1),[ve,De]=x.useState(!1),[mt,tt]=x.useState(1),[st,nn]=x.useState(null),[hi,In]=x.useState(!0),[os,It]=x.useState(!0),Fr=x.useRef(null),Nn=x.useRef(null),pi=x.useRef(0),Cn=gt(j=>j.addUnknownWordFromToken),hn=gt(j=>j.classForToken),En=gt(j=>j.initialize),mi=gt(j=>j.initialized),er=lt(j=>j.initialize),tr=lt(j=>j.initialized),Mr=lt(j=>j.setLastOpened),pn=x.useCallback((j,ie)=>{Cn(j,ie.rawText)},[Cn]),nr=x.useCallback((j,ie)=>{Ew(j.text),Cn(j,ie.rawText)},[Cn]),Wt=x.useCallback(j=>{N(j),oe(j.length>0&&kh(j))},[]),dt=x.useCallback(j=>{we(j),Kt(j.length>0&&kh(j))},[]),ye=x.useCallback(async(j,ie,W)=>{Wt(W),await Promise.all([xc(j,W),Jr({name:ie,bytesHash:j,totalCues:W.length})])},[Wt]),rn=x.useCallback(async(j,ie,W)=>{dt(W),await Promise.all([xc(j,W),Jr({name:ie,bytesHash:j,totalCues:W.length})])},[dt]);x.useEffect(()=>{mi||En()},[mi,En]),x.useEffect(()=>{tr||er()},[tr,er]),x.useEffect(()=>{const j=()=>{const ie=t.current;U(document.fullscreenElement===ie)};return document.addEventListener("fullscreenchange",j),()=>{document.removeEventListener("fullscreenchange",j)}},[]),x.useEffect(()=>{const j=n.current;if(!j)return;const ie=()=>be(!j.paused),W=()=>De(j.muted),ke=()=>tt(j.volume),Le=()=>{const xe=Number.isFinite(j.duration)?j.duration*1e3:null;nn(xe),xe&&$(xe)};return ie(),W(),ke(),Le(),j.addEventListener("play",ie),j.addEventListener("pause",ie),j.addEventListener("volumechange",W),j.addEventListener("volumechange",ke),j.addEventListener("loadedmetadata",Le),j.addEventListener("durationchange",Le),()=>{j.removeEventListener("play",ie),j.removeEventListener("pause",ie),j.removeEventListener("volumechange",W),j.removeEventListener("volumechange",ke),j.removeEventListener("loadedmetadata",Le),j.removeEventListener("durationchange",Le)}},[]);const _n=x.useCallback(async()=>{const j=t.current;if(j&&document.fullscreenElement!==j)try{await j.requestFullscreen()}catch(ie){console.error("Failed to enter fullscreen",ie)}},[]),Ir=x.useCallback(async()=>{if(document.fullscreenElement)try{await document.exitFullscreen()}catch(j){console.error("Failed to exit fullscreen",j)}},[]),ce=x.useCallback(()=>{if(tn){Ir();return}_n()},[_n,Ir,tn]);x.useEffect(()=>{const j=new Worker(new URL(""+new URL("srtWorker-CQIlcpsu.js",import.meta.url).href,import.meta.url),{type:"module"});return r.current=j,()=>{j.terminate(),r.current=null}},[]),x.useEffect(()=>{const j=r.current;if(!j)return;const ie=async W=>{const ke=i.current.get(W.data.id);if(ke){if(o.current[ke.target]!==W.data.id){i.current.delete(W.data.id);return}if(i.current.delete(W.data.id),W.data.error){ke.target==="secondary"?(Ue(W.data.error),J(!1)):(Re(W.data.error),Q(!1));return}try{ke.target==="secondary"?(Ue(null),await rn(ke.hash,ke.fileName,W.data.cues)):(Re(null),await ye(ke.hash,ke.fileName,W.data.cues))}catch(Le){console.error(Le),ke.target==="secondary"?Ue("Failed to store parsed secondary subtitles."):Re("Failed to store parsed subtitles.")}finally{ke.target==="secondary"?J(!1):Q(!1)}}};return j.addEventListener("message",ie),()=>{j.removeEventListener("message",ie)}},[ye,rn,Wt,dt]),x.useEffect(()=>{let j=!1;return(async()=>{const W=await kw();if(!(j||!W)&&(W.videoBlob&&!f?b(W.videoName??"",W.videoBlob):W.videoName&&!f&&_(W.videoName),W.subtitleName&&C(W.subtitleName),typeof W.videoTimeSeconds=="number"&&K(W.videoTimeSeconds),W.secondarySubtitleName&&se(W.secondarySubtitleName),typeof W.secondarySubtitleEnabled=="boolean"?St(W.secondarySubtitleEnabled):W.secondarySubtitleHash&&St(!0),typeof W.secondarySubtitleOffsetMs=="number"&&ge(W.secondarySubtitleOffsetMs),!(!W.subtitleHash&&!W.secondarySubtitleHash))){if(W.secondarySubtitleHash){J(!0),Ue(null);const ke=await ni(W.secondarySubtitleHash);if(j)return;if(ke)dt(ke),J(!1),await Jr({name:W.secondarySubtitleName??W.secondarySubtitleHash,bytesHash:W.secondarySubtitleHash,totalCues:ke.length});else if(W.secondarySubtitleText){const Le=r.current;if(Le){const xe=crypto.randomUUID();i.current.set(xe,{hash:W.secondarySubtitleHash,fileName:W.secondarySubtitleName??W.secondarySubtitleHash,target:"secondary"}),o.current.secondary=xe,Le.postMessage({id:xe,text:W.secondarySubtitleText})}else try{const xe=Ts(W.secondarySubtitleText).map(ze=>({...ze,tokens:ze.tokens??qn(ze.rawText)}));await rn(W.secondarySubtitleHash,W.secondarySubtitleName??W.secondarySubtitleHash,xe)}catch(xe){j||(Ue(xe instanceof Error?xe.message:"Failed to parse secondary subtitles"),dt([]))}finally{j||J(!1)}}else J(!1)}if(W.subtitleHash){Q(!0),Re(null);const ke=await ni(W.subtitleHash);if(j)return;if(ke){Wt(ke),Q(!1),await Jr({name:W.subtitleName??W.subtitleHash,bytesHash:W.subtitleHash,totalCues:ke.length});return}if(!W.subtitleText){Q(!1);return}const Le=r.current;if(Le){const xe=crypto.randomUUID();i.current.set(xe,{hash:W.subtitleHash,fileName:W.subtitleName??W.subtitleHash,target:"primary"}),o.current.primary=xe,Le.postMessage({id:xe,text:W.subtitleText});return}try{const xe=Ts(W.subtitleText).map(ze=>({...ze,tokens:ze.tokens??qn(ze.rawText)}));await ye(W.subtitleHash,W.subtitleName??W.subtitleHash,xe)}catch(xe){j||(Re(xe instanceof Error?xe.message:"Failed to parse subtitles"),Wt([]))}finally{j||Q(!1)}}}})(),()=>{j=!0}},[ye,rn,b,_,f]),x.useEffect(()=>{const j=n.current;if(j){if(j.currentTime=0,f){j.src!==f&&(j.src=f),j.load();return}j.removeAttribute("src"),j.load()}},[f]),x.useEffect(()=>{st!==null||!p||nn(p)},[st,p]),x.useEffect(()=>{if(!v||!f||!a)return;let j=!1;const ie=window.setTimeout(()=>{if(j)return;const W=n.current;W&&W.readyState===0&&b(a,v)},800);return()=>{j=!0,window.clearTimeout(ie)}},[b,v,a,f]),x.useEffect(()=>{if(!f)return;const j=n.current;if(!j)return;let ie=!1,W=0;const ke=()=>{if(ie)return;const Le=j.duration;if(Number.isFinite(Le)&&Le>0){nn(Le*1e3);return}W+=1,W<20&&window.setTimeout(ke,250)};return ke(),()=>{ie=!0}},[f]),x.useEffect(()=>{const j=n.current;if(!j||z===null)return;const ie=()=>{j.currentTime=z};if(j.readyState>=1){ie();return}return j.addEventListener("loadedmetadata",ie),()=>{j.removeEventListener("loadedmetadata",ie)}},[z,f]),x.useEffect(()=>{if(!tr)return;Mr(a||q?{videoName:a||void 0,srtName:q||void 0}:void 0)},[tr,Mr,q,a]);const rr=x.useCallback(()=>{const j=n.current;j&&(j.pause(),j.currentTime=0)},[]),Ar=x.useCallback(()=>{const j=n.current;j&&(j.paused?j.play().catch(ie=>{console.error("Failed to play video",ie)}):j.pause())},[]),zr=x.useCallback(()=>{const j=n.current;j&&(j.muted=!j.muted)},[]),Dr=x.useCallback(j=>{const ie=n.current;if(!ie||ie.readyState===0)return;const W=Math.min(Math.max(ie.currentTime+j,0),Number.isFinite(ie.duration)?ie.duration:Number.POSITIVE_INFINITY);ie.currentTime=W},[]),ls=x.useCallback(j=>{const ie=n.current;if(!ie||ie.readyState===0)return;const W=Number(j.target.value);Number.isFinite(W)&&(ie.currentTime=W,X(W*1e3))},[]),ua=x.useCallback(j=>{const ie=n.current;if(!ie)return;const W=Number(j.target.value);Number.isFinite(W)&&(ie.volume=W,W>0&&(ie.muted=!1),tt(W))},[]),po=x.useCallback(j=>{const ie=n.current;if(!ie)return;const W=Math.round(ie.volume*100),ke=Math.min(Math.max(W,0),100);let Le=Qr[0];if(j==="up"){Le=Qr[Qr.length-1];for(const ze of Qr)if(ze>ke){Le=ze;break}}else{Le=Qr[0];for(let ze=Qr.length-1;ze>=0;ze-=1){const Kr=Qr[ze];if(Kr<ke){Le=Kr;break}}}const xe=Le/100;ie.volume=xe,xe>0&&(ie.muted=!1),tt(xe)},[]),mn=x.useCallback(async j=>{rr(),Re(null),Q(!0),X(0);const ie=await gc(j),W=await vc(j);C(j.name),Wt([]),Ei({subtitleName:j.name,subtitleText:ie,subtitleHash:W});const ke=await ni(W);if(ke){Wt(ke),Q(!1),await Jr({name:j.name,bytesHash:W,totalCues:ke.length});return}const Le=r.current;if(Le){const xe=crypto.randomUUID();i.current.set(xe,{hash:W,fileName:j.name,target:"primary"}),o.current.primary=xe,Le.postMessage({id:xe,text:ie});return}try{const xe=Ts(ie).map(ze=>({...ze,tokens:ze.tokens??qn(ze.rawText)}));await ye(W,j.name,xe)}catch(xe){Re(xe instanceof Error?xe.message:"Failed to parse subtitles"),Wt([])}finally{Q(!1)}},[ye,Wt,rr]),An=x.useCallback(async j=>{Ue(null),J(!0);const ie=await gc(j),W=await vc(j);se(j.name),dt([]),Ei({secondarySubtitleName:j.name,secondarySubtitleText:ie,secondarySubtitleHash:W,secondarySubtitleEnabled:!0});const ke=await ni(W);if(ke){dt(ke),J(!1),St(!0),await Jr({name:j.name,bytesHash:W,totalCues:ke.length});return}const Le=r.current;if(Le){const xe=crypto.randomUUID();i.current.set(xe,{hash:W,fileName:j.name,target:"secondary"}),o.current.secondary=xe,Le.postMessage({id:xe,text:ie});return}try{const xe=Ts(ie).map(ze=>({...ze,tokens:ze.tokens??qn(ze.rawText)}));await rn(W,j.name,xe),St(!0)}catch(xe){Ue(xe instanceof Error?xe.message:"Failed to parse secondary subtitles"),dt([])}finally{J(!1)}},[rn,dt]),as=x.useCallback(async j=>{const ie=j.target.files;if(!ie||ie.length===0)return;const W=Array.from(ie),ke=W.find(ze=>ze.type.startsWith("video/")||ze.name.toLowerCase().endsWith(".mkv"));if(!ke){j.target.value="";return}rr(),K(0),pi.current=0,X(0),S(ke),Ei({videoName:ke.name,videoBlob:ke,videoTimeSeconds:0});const Le=ke.name.replace(/\.[^.]+$/,"").toLowerCase(),xe=W.find(ze=>ze.name.toLowerCase()===`${Le}.srt`&&ze!==ke);xe&&await mn(xe),j.target.value=""},[mn,rr]),yi=x.useCallback(async j=>{var W;const ie=(W=j.target.files)==null?void 0:W[0];ie&&(await mn(ie),j.target.value="")},[mn]),Be=x.useCallback(async j=>{var W;const ie=(W=j.target.files)==null?void 0:W[0];ie&&(await An(ie),j.target.value="")},[An]),ot=()=>{const j=n.current;j&&(X(j.currentTime*1e3),j.currentTime-pi.current>=2&&(pi.current=j.currentTime,Ei({videoTimeSeconds:j.currentTime})))},Ur=x.useMemo(()=>g.filter(j=>{const ie=j.startMs+Z,W=j.endMs+Z;return ie<=A&&W>=A}),[g,A,Z]),ir=x.useMemo(()=>Y.filter(j=>{const ie=j.startMs+re,W=j.endMs+re;return ie<=A&&W>=A}),[Y,A,re]),vi=x.useMemo(()=>Xo(A),[A]),gi=x.useMemo(()=>st?Xo(st):"--:--",[st]),mo=x.useMemo(()=>st?Math.min(100,Math.max(0,A/st*100)):0,[A,st]),yn=x.useCallback(j=>{Ne(ie=>ie+j)},[]),zn=x.useCallback(j=>{ge(ie=>{const W=ie+j;return Ei({secondarySubtitleOffsetMs:W}),W})},[]),sn=x.useCallback(()=>{Y.length!==0&&St(j=>{const ie=!j;return Ei({secondarySubtitleEnabled:ie}),ie})},[Y.length]),yt=x.useCallback(()=>{var j;(j=t.current)==null||j.focus()},[]),sr=x.useCallback(()=>{Fr.current!==null&&(window.clearTimeout(Fr.current),Fr.current=null)},[]),Tt=x.useCallback(()=>{Nn.current!==null&&(window.clearTimeout(Nn.current),Nn.current=null)},[]),$r=x.useCallback(()=>{sr(),Se&&(Fr.current=window.setTimeout(()=>{In(!1)},2500))},[sr,Se]),vn=x.useCallback(()=>{In(!0),$r()},[$r]),Br=x.useCallback(()=>{Tt(),tn&&(Nn.current=window.setTimeout(()=>{It(!1)},1e3))},[Tt,tn]),xi=x.useCallback(()=>{It(!0),Br()},[Br]),Qe=x.useCallback(()=>{vn(),xi()},[vn,xi]),Ht=x.useCallback(j=>gw(j,{video:n.current,seekBy:Dr,toggleFullscreen:ce,toggleMute:zr,togglePlayback:Ar,toggleSecondarySubtitle:sn,stepVolume:po}),[Dr,po,ce,zr,Ar,sn]),Vt=x.useCallback(j=>{Ht(j.nativeEvent)&&(j.preventDefault(),j.stopPropagation())},[Ht]);return x.useEffect(()=>{if(e)return document.addEventListener("keydown",Ht,!0),()=>{document.removeEventListener("keydown",Ht,!0)}},[Ht,e]),x.useEffect(()=>{if(!Se){sr(),In(!0);return}$r()},[sr,Se,$r]),x.useEffect(()=>{if(!tn){Tt(),It(!0);return}Br()},[Tt,tn,Br]),x.useEffect(()=>()=>{sr(),Tt()},[sr,Tt]),c.jsxs("div",{className:"grid gap-6 lg:grid-cols-[2fr,1fr]",onKeyDown:Vt,children:[c.jsxs("section",{className:"space-y-4",children:[c.jsxs("div",{ref:t,className:`relative aspect-video overflow-hidden rounded-lg bg-black shadow-xl focus:outline-none focus-visible:none ${tn&&!os?"cursor-none":""}`,onDoubleClick:ce,onMouseMove:Qe,onMouseLeave:()=>{Se&&In(!1)},onFocusCapture:vn,tabIndex:-1,children:[c.jsx("video",{ref:n,className:"h-full w-full focus:outline-none focus-visible:outline-none",onClick:()=>{Ar(),yt()},onTimeUpdate:ot,src:f??void 0,preload:"metadata",tabIndex:-1,children:c.jsx("track",{kind:"subtitles",srcLang:"en",label:q||"Subtitles"})}),c.jsx("div",{className:`absolute inset-x-0 bottom-0 z-20 flex flex-col gap-3 bg-gradient-to-t from-black/80 via-black/40 to-transparent px-4 pb-4 pt-6 text-white transition-opacity duration-300 ${hi?"opacity-100":"pointer-events-none opacity-0"}`,onDoubleClick:j=>j.stopPropagation(),children:c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("input",{type:"range",min:0,max:st?Math.max(st/1e3,0):0,step:.1,value:st?Math.min(A/1e3,st/1e3):0,onChange:ls,onKeyDown:Vt,onFocus:j=>{j.currentTarget.blur(),yt()},className:"player-timeline w-full cursor-pointer","aria-label":"Seek position",disabled:!st,tabIndex:-1,style:{"--timeline-gradient":`linear-gradient(90deg, rgba(56, 189, 248, 0.6) 0%, rgba(56, 189, 248, 0.6) ${mo}%, rgba(148, 163, 184, 0.35) ${mo}%, rgba(148, 163, 184, 0.35) 100%)`}}),c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-sm",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[c.jsxs("button",{type:"button",className:`group play-variant variant-24 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-200 ${Se?"is-paused":""}`,onClick:()=>{Ar(),yt()},"aria-label":Se?"Pause video":"Play video",children:[c.jsx("span",{className:"play-variant-icon","aria-hidden":!0}),c.jsx("span",{className:"player-tooltip",children:"Space"})]}),c.jsxs("div",{className:"group relative flex items-center gap-2",children:[c.jsxs("button",{type:"button",className:"player-icon-button text-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-200",onClick:()=>{zr(),yt()},"aria-label":ve?"Unmute video":"Mute video",children:[c.jsx("span",{"aria-hidden":!0,children:ve?"":""}),c.jsx("span",{className:"player-tooltip",children:"M"})]}),c.jsx("div",{className:"max-w-0 overflow-hidden transition-all duration-300 group-hover:max-w-[120px]",children:c.jsx("input",{id:"player-volume",type:"range",min:0,max:1,step:.05,value:ve?0:mt,onChange:ua,onKeyDown:Vt,className:"player-volume w-24 cursor-pointer","aria-label":"Volume"})})]})]}),c.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/70",style:{fontFamily:'"Comic Sans MS", "Comic Sans", cursive'},children:[vi," / ",gi]}),c.jsx("div",{className:"flex flex-wrap items-center gap-2",children:c.jsxs("div",{className:"flex flex-row-reverse items-center gap-2",children:[c.jsxs("button",{type:"button",className:"group player-icon-button text-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-200",onClick:()=>{ce(),yt()},"aria-label":tn?"Exit fullscreen":"Enter fullscreen",children:[c.jsx("span",{"aria-hidden":!0,children:""}),c.jsx("span",{className:"player-tooltip",children:"F"})]}),c.jsxs("button",{type:"button",className:"group player-icon-button text-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-200",onClick:()=>{Dr(-5),yt()},"aria-label":"Seek backward 5 seconds",children:["-5s ",c.jsx("span",{className:"player-tooltip",children:""})]}),c.jsxs("button",{type:"button",className:"group player-icon-button text-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-200",onClick:()=>{Dr(5),yt()},"aria-label":"Seek forward 5 seconds",children:["+5s ",c.jsx("span",{className:"player-tooltip",children:""})]})]})})]})]})}),bt&&ir.length>0&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"pointer-events-none absolute inset-0 z-30 flex flex-col justify-start p-6",children:c.jsx("div",{className:"pointer-events-none flex flex-col items-center gap-3",children:ir.map(j=>c.jsx("div",{className:"subtitle-overlay subtitle-overlay-secondary subtitle-overlay-bg max-w-3xl text-center",children:c.jsx(jh,{cue:j,isRtl:it,className:"justify-center text-center"})},`${j.startMs}-${j.endMs}-bg`))})}),c.jsx("div",{className:"pointer-events-none absolute inset-0 z-40 flex flex-col justify-start p-6",children:c.jsx("div",{className:"pointer-events-none flex flex-col items-center gap-3",children:ir.map(j=>c.jsx("div",{className:"subtitle-overlay subtitle-overlay-secondary max-w-3xl text-center",children:c.jsx(du,{cue:j,classForToken:hn,onTokenClick:pn,onTokenContextMenu:nr,isRtl:it,className:"justify-center text-center"})},`${j.startMs}-${j.endMs}`))})})]}),Ur.length>0&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"pointer-events-none absolute inset-0 z-30 flex flex-col justify-end p-6",children:c.jsx("div",{className:"pointer-events-none flex flex-col items-center gap-3",children:Ur.map(j=>c.jsx("div",{className:"subtitle-overlay subtitle-overlay-bg max-w-3xl text-center",children:c.jsx(jh,{cue:j,isRtl:Ae,className:"justify-center text-center"})},`${j.startMs}-${j.endMs}-bg`))})}),c.jsx("div",{className:"pointer-events-none absolute inset-0 z-40 flex flex-col justify-end p-6",children:c.jsx("div",{className:"pointer-events-none flex flex-col items-center gap-3",children:Ur.map(j=>c.jsx("div",{className:"subtitle-overlay max-w-3xl text-center",children:c.jsx(du,{cue:j,classForToken:hn,onTokenClick:pn,onTokenContextMenu:nr,isRtl:Ae,className:"justify-center text-center"})},`${j.startMs}-${j.endMs}`))})})]})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-3 rounded-lg bg-white/5 p-3 text-sm text-white/80",children:[c.jsx("span",{className:"font-medium text-white",children:"Subtitle timing"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",onClick:()=>{yn(-500),yt()},children:"0.5s"}),c.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",onClick:()=>{yn(500),yt()},children:"+0.5s"})]}),c.jsxs("span",{className:"text-xs text-white/60",children:["Offset: ",Z>=0?"+":"",(Z/1e3).toFixed(1),"s"]})]}),c.jsxs("label",{className:"flex w-full cursor-pointer flex-col gap-2 rounded-lg border border-dashed border-white/20 bg-white/5 p-4 text-sm hover:border-white/40",children:[c.jsx("span",{className:"font-medium",children:"Load video"}),c.jsx("input",{type:"file",accept:"video/*,video/x-matroska,.mkv,.MKV",multiple:!0,className:"hidden",onChange:as}),c.jsx("span",{className:"text-xs text-white/60",children:"Automatically pairs a matching .srt when selected together."}),c.jsxs("span",{className:"text-xs text-white/60",children:["Current: ",a||"None"]})]}),c.jsxs("label",{className:"flex w-full cursor-pointer flex-col gap-2 rounded-lg border border-dashed border-white/20 bg-white/5 p-4 text-sm hover:border-white/40",children:[c.jsx("span",{className:"font-medium",children:"Load subtitles (SRT)"}),c.jsx("input",{type:"file",accept:".srt",className:"hidden",onChange:yi}),c.jsxs("span",{className:"text-xs text-white/60",children:["Current: ",q||"None"]}),G&&c.jsx("span",{className:"text-xs text-amber-300",children:"Processing subtitles"}),he&&c.jsx("span",{className:"text-xs text-red-400",children:he})]}),c.jsxs("label",{className:"flex items-center gap-2 text-xs text-white/70",children:[c.jsx("input",{type:"checkbox",checked:Ae,onChange:j=>oe(j.target.checked),className:"h-3 w-3 rounded border-white/30 bg-slate-900"}),"Right-to-left order"]}),c.jsxs("details",{className:"rounded-lg border border-white/10 bg-white/5 p-4 text-sm",children:[c.jsx("summary",{className:"cursor-pointer list-none font-medium text-white/90",children:"Second subtitles (optional)"}),c.jsxs("div",{className:"mt-3 space-y-3",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 text-xs font-medium text-white transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",onClick:()=>{sn(),yt()},disabled:Y.length===0,children:bt?"On":"Off"}),c.jsx("span",{className:"text-xs text-white/60",children:"Shows a second line at the top. Shortcut: H/"})]}),c.jsxs("label",{className:"flex w-full cursor-pointer flex-col gap-2 rounded-lg border border-dashed border-white/20 bg-white/5 p-3 text-xs hover:border-white/40",children:[c.jsx("span",{className:"font-medium text-sm",children:"Load second subtitles (SRT)"}),c.jsx("input",{type:"file",accept:".srt",className:"hidden",onChange:Be}),c.jsxs("span",{className:"text-xs text-white/60",children:["Current: ",ne||"None"]}),H&&c.jsx("span",{className:"text-xs text-amber-300",children:"Processing second subtitles"}),Ce&&c.jsx("span",{className:"text-xs text-red-400",children:Ce})]}),c.jsxs("label",{className:"flex items-center gap-2 text-xs text-white/70",children:[c.jsx("input",{type:"checkbox",checked:it,onChange:j=>Kt(j.target.checked),className:"h-3 w-3 rounded border-white/30 bg-slate-900"}),"Right-to-left order"]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-3 rounded-lg bg-white/5 p-2 text-xs text-white/80",children:[c.jsx("span",{className:"font-medium text-white",children:"Second subtitle timing"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",onClick:()=>{zn(-500),yt()},children:"0.5s"}),c.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",onClick:()=>{zn(500),yt()},children:"+0.5s"})]}),c.jsxs("span",{className:"text-xs text-white/60",children:["Offset: ",re>=0?"+":"",(re/1e3).toFixed(1),"s"]})]})]})]})]}),c.jsx("aside",{className:"space-y-4",children:c.jsxs("div",{className:"rounded-lg bg-black/40 p-4",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Active Cue"}),G?c.jsx("p",{className:"mt-3 text-sm text-white/60",children:"Processing subtitles"}):Ur.length>0?c.jsx("div",{className:"mt-3 space-y-2 text-sm",children:Ur.map(j=>c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"text-white/60",children:[Xo(Math.max(0,j.startMs+Z)),"  ",Xo(Math.max(0,j.endMs+Z))]}),c.jsx(du,{cue:j,classForToken:hn,onTokenClick:pn,onTokenContextMenu:nr,isRtl:Ae})]},`${j.startMs}-${j.endMs}`))}):c.jsx("p",{className:"text-sm text-white/50",children:"Load a subtitle file to see cues."})]})})]})}const _w="./word-frequency.csv";function Pw(e){const t=e.split(/\r?\n/),n=new Map;for(let r=1;r<t.length;r+=1){const i=t[r];if(!i)continue;const o=i.indexOf(","),a=(o===-1?i:i.slice(0,o)).trim().toLowerCase();!a||n.has(a)||n.set(a,r)}return n}async function Tw(){const e=await fetch(_w);if(!e.ok)throw new Error("Failed to load frequency list.");const t=await e.text();return Pw(t)}let fu=null;function Rw(){return fu||(fu=Tw()),fu}function Ow(e,t){if(!t)return null;const n=t.get(e.stem.toLowerCase());if(typeof n=="number")return n;const r=t.get(e.normalized.toLowerCase());return typeof r=="number"?r:null}function Lw({word:e,frequencyRank:t,onDelete:n,visibleColumns:r}){return c.jsxs("tr",{className:"hover:bg-white/5",children:[r.word&&c.jsx("td",{className:"px-4 py-2 font-medium",children:e.original}),r.originalSentence&&c.jsx("td",{className:"px-4 py-2 text-white/70",children:e.originalSentence?c.jsx("span",{className:"block max-w-xl break-words",children:e.originalSentence}):""}),r.normalized&&c.jsx("td",{className:"px-4 py-2 text-white/70",children:e.normalized}),r.stem&&c.jsx("td",{className:"px-4 py-2 text-white/70",children:e.stem}),r.frequencyRank&&c.jsx("td",{className:"px-4 py-2 text-right text-white/70",children:typeof t=="number"?`#${t.toLocaleString()}`:"-"}),r.updatedAt&&c.jsx("td",{className:"px-4 py-2 text-right text-white/60",children:new Date(e.updatedAt).toLocaleString()}),r.actions&&c.jsx("td",{className:"px-4 py-2 text-right",children:c.jsx("button",{type:"button",className:"rounded border border-red-500/40 px-2 py-1 text-xs font-medium text-red-300 hover:bg-red-500/10",onClick:()=>{n(e.id)},children:"Delete"})})]})}function Fw(){const[e,t]=x.useState(null),[n,r]=x.useState(null),[i,o]=x.useState(!1),[a,f]=x.useState(null),[p,v]=x.useState("updatedAt"),[S,b]=x.useState("desc"),[_,$]=x.useState(!1),[z,K]=x.useState({word:!0,originalSentence:!0,normalized:!0,stem:!0,frequencyRank:!0,updatedAt:!0,actions:!0}),[q,C]=x.useState(null),g=gt(ne=>ne.words),N=gt(ne=>ne.initialized),A=gt(ne=>ne.initialize),X=gt(ne=>ne.removeWord),G=gt(ne=>ne.reanalyzeStems);x.useEffect(()=>{N||A()},[N,A]),x.useEffect(()=>{let ne=!1;return o(!0),f(null),Rw().then(se=>{ne||C(se)}).catch(se=>{ne||f(se instanceof Error?se.message:"Unable to load frequency list.")}).finally(()=>{ne||o(!1)}),()=>{ne=!0}},[]);const Q=x.useMemo(()=>{const ne=new Map;for(const se of g)ne.set(se.id,Ow(se,q));return ne},[q,g]),Z=x.useMemo(()=>{const ne=[...g],se=S==="asc"?1:-1;return ne.sort((Y,we)=>{if(p==="alphabetical")return Y.normalized.localeCompare(we.normalized,void 0,{sensitivity:"base"})*se;if(p==="frequencyRank"){const H=Q.get(Y.id),J=Q.get(we.id),re=typeof H=="number"?H:Number.POSITIVE_INFINITY,ge=typeof J=="number"?J:Number.POSITIVE_INFINITY;return re!==ge?S==="asc"?re-ge:ge-re:Y.normalized.localeCompare(we.normalized,void 0,{sensitivity:"base"})}return(Y.updatedAt-we.updatedAt)*se}),ne},[Q,S,p,g]),Ne=x.useCallback(async()=>{var se;const ne=Z.map(Y=>Y.original).join(`
`);if(ne.trim()===""){t(null),r("No words available to copy.");return}try{if((se=navigator.clipboard)!=null&&se.writeText)await navigator.clipboard.writeText(ne);else{const Y=document.createElement("textarea");Y.value=ne,Y.setAttribute("readonly","true"),Y.style.position="absolute",Y.style.left="-9999px",document.body.appendChild(Y),Y.select(),document.execCommand("copy"),document.body.removeChild(Y)}t(null),r(`Copied ${Z.length} word${Z.length===1?"":"s"} to the clipboard.`)}catch(Y){r(null),t(Y instanceof Error?Y.message:"Failed to copy words.")}},[Z]),he=x.useCallback(async()=>{var se;const ne=Z.map(Y=>{const we=(Y.originalSentence??"").trim();return`${Y.original}, as in "${we}"`}).join(`
`);if(ne.trim()===""){t(null),r("No words available to copy.");return}try{if((se=navigator.clipboard)!=null&&se.writeText)await navigator.clipboard.writeText(ne);else{const Y=document.createElement("textarea");Y.value=ne,Y.setAttribute("readonly","true"),Y.style.position="absolute",Y.style.left="-9999px",document.body.appendChild(Y),Y.select(),document.execCommand("copy"),document.body.removeChild(Y)}t(null),r(`Copied ${Z.length} word${Z.length===1?"":"s"} with sentences.`)}catch(Y){r(null),t(Y instanceof Error?Y.message:"Failed to copy words.")}},[Z]),Re=x.useCallback(ne=>{v(ne),b(ne==="updatedAt"?"desc":"asc")},[]),Ae=x.useCallback(ne=>{b(se=>p===ne?se==="asc"?"desc":"asc":ne==="updatedAt"?"desc":"asc"),v(ne)},[p]),oe=x.useCallback(async()=>{$(!0),t(null),r(null);try{await G(),r("Re-analyzed stems.")}catch(ne){t(ne instanceof Error?ne.message:"Failed to re-analyze stems.")}finally{$(!1)}},[G]);return N?Z.length===0?c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Unknown Words"}),c.jsx("p",{className:"text-sm text-white/60",children:"Click a word in the player to add it to your learning list."}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{Ne()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20",children:"Copy Words"}),c.jsx("button",{type:"button",onClick:()=>{he()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20",children:"Copy Words + Sentences"}),c.jsx("a",{href:"https://chatgpt.com/share/69795a95-8b4c-8013-977d-dc008df46bce",target:"_blank",rel:"noreferrer",className:"rounded bg-emerald-500/20 px-3 py-1 text-xs font-medium text-emerald-200 hover:bg-emerald-500/30",children:"Play with ChatGPT"}),c.jsx("button",{type:"button",onClick:()=>{oe()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20 disabled:opacity-50",disabled:_,children:_?"Re-analyzing":"Re-analyze"})]}),e&&c.jsx("p",{className:"text-xs text-red-400",children:e}),n&&c.jsx("p",{className:"text-xs text-emerald-400",children:n})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Unknown Words"}),c.jsx("p",{className:"text-xs text-white/50",children:"Review your list or prune items you no longer need."})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{Ne()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20",children:"Copy Words"}),c.jsx("button",{type:"button",onClick:()=>{he()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20",children:"Copy Words + Sentences"}),c.jsx("a",{href:"https://chatgpt.com/share/69112ad9-3858-8013-a13d-061dd7661a56",target:"_blank",rel:"noreferrer",className:"rounded bg-emerald-500/20 px-3 py-1 text-xs font-medium text-emerald-200 hover:bg-emerald-500/30",children:"Play with ChatGPT"}),c.jsx("button",{type:"button",onClick:()=>{oe()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20 disabled:opacity-50",disabled:_,children:_?"Re-analyzing...":"Re-analyze"})]})]}),c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-xs text-white/60",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsxs("span",{children:[Z.length," items"]}),c.jsxs("label",{className:"flex items-center gap-1",children:[c.jsx("span",{children:"Sort"}),c.jsxs("select",{value:p,onChange:ne=>{Re(ne.target.value)},className:"rounded border border-white/10 bg-slate-900/80 px-2 py-1 text-white hover:bg-slate-800 focus:outline-none focus-visible:outline-none",children:[c.jsx("option",{value:"updatedAt",className:"bg-slate-900 text-white",children:"Updated"}),c.jsx("option",{value:"alphabetical",className:"bg-slate-900 text-white",children:"A-Z"}),c.jsx("option",{value:"frequencyRank",className:"bg-slate-900 text-white",children:"Frequency Rank"})]})]}),c.jsx("button",{type:"button",className:"rounded border border-white/10 bg-white/5 px-2 py-1 text-white",onClick:()=>b(ne=>ne==="asc"?"desc":"asc"),children:S==="asc"?"Ascending":"Descending"}),c.jsxs("details",{className:"relative",children:[c.jsxs("summary",{className:"inline-flex cursor-pointer list-none items-center gap-1 rounded border border-white/10 bg-slate-900/80 px-2 py-1 text-white hover:bg-slate-800 focus:outline-none focus-visible:outline-none",children:["View",c.jsx("span",{className:"text-[10px] text-white/70",children:""})]}),c.jsx("div",{className:"absolute left-0 z-10 mt-2 w-56 rounded border border-white/10 bg-slate-900/95 p-3 text-xs text-white shadow-lg",children:[["word","Word"],["originalSentence","Original sentence"],["normalized","Normalized"],["stem","Stem"],["frequencyRank","Frequency Rank"],["updatedAt","Updated"],["actions","Actions"]].map(([ne,se])=>c.jsxs("label",{className:"flex items-center gap-2 py-1",children:[c.jsx("input",{type:"checkbox",className:"h-3 w-3 rounded border-white/30 bg-slate-900",checked:z[ne],onChange:()=>K(Y=>({...Y,[ne]:!Y[ne]}))}),c.jsx("span",{children:se})]},ne))})]})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i&&c.jsx("span",{children:"Loading frequency ranks..."}),a&&c.jsx("span",{className:"text-amber-300",children:a}),e?c.jsx("span",{className:"text-red-400",children:e}):n?c.jsx("span",{className:"text-emerald-400",children:n}):null]})]}),c.jsx("div",{className:"overflow-hidden rounded-lg border border-white/10",children:c.jsxs("table",{className:"min-w-full divide-y divide-white/10",children:[c.jsx("thead",{className:"bg-white/5 text-left text-xs uppercase tracking-wide text-white/60",children:c.jsxs("tr",{children:[z.word&&c.jsx("th",{className:"px-4 py-2",children:c.jsxs("button",{type:"button",onClick:()=>Ae("alphabetical"),className:"inline-flex items-center gap-1 hover:text-white",children:["Word",p==="alphabetical"&&c.jsx("span",{className:"text-[10px] text-white/70",children:S==="asc"?"":""})]})}),z.originalSentence&&c.jsx("th",{className:"px-4 py-2",children:"Original sentence"}),z.normalized&&c.jsx("th",{className:"px-4 py-2",children:"Normalized"}),z.stem&&c.jsx("th",{className:"px-4 py-2",children:"Stem"}),z.frequencyRank&&c.jsx("th",{className:"px-4 py-2 text-right",children:c.jsxs("button",{type:"button",onClick:()=>Ae("frequencyRank"),className:"flex w-full items-center justify-end gap-1 hover:text-white",children:["Frequency Rank",p==="frequencyRank"&&c.jsx("span",{className:"text-[10px] text-white/70",children:S==="asc"?"":""})]})}),z.updatedAt&&c.jsx("th",{className:"px-4 py-2 text-right",children:c.jsxs("button",{type:"button",onClick:()=>Ae("updatedAt"),className:"flex w-full items-center justify-end gap-1 hover:text-white",children:["Updated",p==="updatedAt"&&c.jsx("span",{className:"text-[10px] text-white/70",children:S==="asc"?"":""})]})}),z.actions&&c.jsx("th",{className:"px-4 py-2 text-right",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-white/10 text-sm",children:Z.map(ne=>c.jsx(Lw,{word:ne,frequencyRank:Q.get(ne.id)??null,onDelete:X,visibleColumns:z},ne.id))})]})})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Unknown Words"}),c.jsx("p",{className:"text-sm text-white/60",children:"Loading your saved vocabulary..."})]})}const Mw=[0,1,2,3],Iw=[".mp4",".mkv",".mov",".avi",".m4v",".webm"],Ch={minHeight:"60vh",maxHeight:"calc(100vh - 10rem)"};function Go(e){const t=Math.max(0,Math.floor(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60).toString().padStart(2,"0"),i=(t%60).toString().padStart(2,"0");return n>0?`${n}:${r}:${i}`:`${r}:${i}`}function Aw(e,t){return e.some(n=>n.isWord&&(n.normalized===t.normalized||n.stem===t.stem))}function zw(e){return Ts(e).map(t=>({...t,tokens:t.tokens??qn(t.rawText)}))}function Dw(){const[e,t]=x.useState(null),[n,r]=x.useState(1),[i,o]=x.useState([]),[a,f]=x.useState(!1),[p,v]=x.useState(!1),[S,b]=x.useState(null),[_,$]=x.useState({}),[z,K]=x.useState(!0),[q,C]=x.useState(null),[g,N]=x.useState(null),[A,X]=x.useState(null),[G,Q]=x.useState(null),Z=x.useRef(null),Ne=x.useRef(new Map),he=x.useRef(null),Re=gt(U=>U.initialized),Ae=gt(U=>U.initialize),oe=gt(U=>U.words),ne=lt(U=>U.initialized),se=lt(U=>U.initialize),Y=lt(U=>U.prefs.mediaLibrary);x.useEffect(()=>{Re||Ae()},[Re,Ae]),x.useEffect(()=>{ne||se()},[se,ne]),x.useEffect(()=>{const U=new Worker(new URL(""+new URL("srtWorker-CQIlcpsu.js",import.meta.url).href,import.meta.url),{type:"module"}),Se=be=>{const ve=Ne.current.get(be.data.id);if(ve){if(Ne.current.delete(be.data.id),be.data.error){ve.reject(new Error(be.data.error));return}ve.resolve(be.data.cues)}};return U.addEventListener("message",Se),Z.current=U,()=>{U.removeEventListener("message",Se),U.terminate(),Z.current=null;for(const[,be]of Ne.current)be.reject(new Error("Parsing cancelled"));Ne.current.clear()}},[]);const we=x.useCallback(async U=>{const Se=Z.current;if(!Se)return zw(U);const be=typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2);return new Promise((ve,De)=>{Ne.current.set(be,{resolve:ve,reject:De}),Se.postMessage({id:be,text:U})})},[]),H=x.useCallback(async()=>{if(!(Y!=null&&Y.handle))return N("Select a media library folder in Settings to enable playback."),null;try{const U=Y.handle.queryPermission,Se=Y.handle.requestPermission;if(!U||!Se)return Y.handle;const be=await U.call(Y.handle,{mode:"read"});return be==="granted"?Y.handle:be==="denied"?(N("Folder access denied. Re-select the library and allow access."),null):await Se.call(Y.handle,{mode:"read"})==="granted"?Y.handle:(N("Folder access denied. Re-select the library and allow access."),null)}catch(U){return N(U instanceof Error?U.message:"Unable to use media library."),null}},[Y]),J=x.useCallback(async U=>{const Se=await H();if(!Se)return null;const be=U.toLowerCase(),ve=[Se];for(;ve.length>0;){const De=ve.shift();if(!De)continue;const mt=De.values;if(mt)for await(const tt of mt.call(De))if(tt.kind==="file"){const st=tt.name.toLowerCase();if(Iw.some(nn=>st===`${be}${nn}`))return tt}else tt.kind==="directory"&&ve.push(tt)}return null},[H]),re=x.useCallback(async U=>{N(null),X("Searching for matching video");const Se=U.file.name.replace(/\.[^.]+$/,"");try{const be=await J(Se);if(!be){X(null),N("No matching video found under the selected media library.");return}const ve=await be.getFile(),De=URL.createObjectURL(ve);C(mt=>(mt&&URL.revokeObjectURL(mt),De)),Q({startMs:U.contextStartMs,endMs:U.contextEndMs}),X(`Playing ${be.name}`),queueMicrotask(()=>{const mt=he.current;mt&&(mt.currentTime=U.contextStartMs/1e3,mt.play())})}catch(be){X(null),N(be instanceof Error?be.message:"Unable to play quote.")}},[J]),ge=x.useCallback(async()=>{f(!0);try{const U=await vy();o(U)}finally{f(!1)}},[]);x.useEffect(()=>{ge()},[ge]),x.useEffect(()=>{let U=!1;if(i.length===0){$({});return}return(async()=>{const Se=await Promise.all(i.map(async ve=>{const De=await ni(ve.bytesHash);return[ve.bytesHash,De??[]]}));if(U)return;const be={};for(const[ve,De]of Se)be[ve]=De;$(be)})(),()=>{U=!0}},[i]),x.useEffect(()=>()=>{C(Se=>(Se&&URL.revokeObjectURL(Se),null));const U=he.current;U&&(U.pause(),U.removeAttribute("src"),U.load())},[]),x.useEffect(()=>{const U=he.current;if(!U||!G)return;const Se=()=>{G&&U.currentTime*1e3>=G.endMs&&U.pause()};return U.addEventListener("timeupdate",Se),()=>{U.removeEventListener("timeupdate",Se)}},[G,q]);const Ce=x.useMemo(()=>oe,[oe]);x.useEffect(()=>{if(Ce.length===0){t(null);return}(!e||!Ce.some(U=>U.id===e))&&t(Ce[0].id)},[Ce,e]);const Ue=x.useMemo(()=>Ce.find(U=>U.id===e)??null,[Ce,e]),bt=x.useMemo(()=>{if(!Ue)return[];const U=[];for(const Se of i){const be=_[Se.bytesHash]??[];be.forEach((ve,De)=>{var hi,In;const mt=ve.tokens??qn(ve.rawText);if(!Aw(mt,Ue))return;const tt=Math.max(0,De-n),st=Math.min(be.length-1,De+n),nn=be.slice(tt,st+1);U.push({id:`${Se.id}:${ve.index}:${tt}:${st}`,file:Se,focusIndex:De-tt,cues:nn,contextStartMs:((hi=nn[0])==null?void 0:hi.startMs)??ve.startMs,contextEndMs:((In=nn[nn.length-1])==null?void 0:In.endMs)??ve.endMs})})}return U.sort((Se,be)=>Se.file.name===be.file.name?Se.contextStartMs-be.contextStartMs:Se.file.name.localeCompare(be.file.name))},[Ue,i,_,n]),St=x.useCallback(U=>{t(U)},[]),it=x.useCallback(U=>{r(Number(U.target.value))},[]),Kt=x.useCallback(async U=>{const Se=U.target.files;if(!(!Se||Se.length===0)){v(!0),b(null);try{for(const be of Array.from(Se))try{const ve=await vc(be);let De=await ni(ve);if(!De){const mt=await gc(be);De=await we(mt),await xc(ve,De)}await Jr({name:be.name,bytesHash:ve,totalCues:De.length})}catch(ve){const De=ve instanceof Error?ve.message:"Failed to add subtitle file.";b(`Failed to process ${be.name}: ${De}`)}await ge()}finally{v(!1),U.target.value=""}}},[we,ge]),tn=x.useCallback(async U=>{await Sw(U.id),$(Se=>{const be={...Se};return delete be[U.bytesHash],be}),await ge()},[ge]);return c.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr,2fr]",children:[c.jsx("section",{className:"space-y-4",children:c.jsxs("div",{className:"rounded-lg bg-black/40 p-4",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Unknown words"}),Ce.length===0?c.jsx("p",{className:"mt-3 text-sm text-white/60",children:"Add words from the player to explore their quotes."}):c.jsx("div",{className:"mt-3 space-y-2 overflow-y-auto pr-1",style:{minHeight:Ch.minHeight,maxHeight:Ch.maxHeight},children:Ce.map(U=>c.jsx("div",{children:c.jsxs("button",{type:"button",onClick:()=>St(U.id),className:`flex w-full flex-col gap-1 rounded-lg border px-3 py-2 text-left transition focus:outline-none focus-visible:outline-none ${U.id===e?"border-emerald-500 bg-emerald-500/10 text-white":"border-white/10 bg-white/5 text-white/80 hover:border-white/20 hover:text-white"}`,children:[c.jsx("span",{className:"text-sm font-medium text-white",children:U.original}),c.jsx("div",{className:"text-xs text-white/60",children:"Tap to see contexts"})]})},U.id))})]})}),c.jsxs("section",{className:"space-y-6",children:[c.jsxs("div",{className:"rounded-lg bg-black/40 p-4",children:[c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Subtitle sources"}),c.jsx("p",{className:"text-sm text-white/60",children:"Quotes are gathered from the files listed below."})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>K(U=>!U),disabled:i.length===0,className:`rounded-md border px-3 py-2 text-xs font-medium text-white transition focus:outline-none focus-visible:outline-none ${i.length===0?"cursor-not-allowed border-white/10 bg-white/5 text-white/40":"border-white/20 bg-white/10 hover:border-white/30 hover:bg-white/20"}`,children:i.length===0?"No files yet":z?"Collapse list":`Expand list (${i.length})`}),c.jsxs("label",{className:"inline-flex cursor-pointer items-center gap-2 rounded-md border border-dashed border-white/20 bg-white/5 px-3 py-2 text-sm text-white/80 transition hover:border-white/40",children:[c.jsx("input",{type:"file",accept:".srt",multiple:!0,className:"hidden",onChange:Kt}),c.jsx("span",{className:"font-medium",children:"Add subtitles"})]})]})]}),p&&c.jsx("p",{className:"mt-3 text-xs text-white/50",children:"Processing subtitle files"}),S&&c.jsx("p",{className:"mt-2 text-xs text-red-400",children:S}),z?c.jsx("ul",{className:"mt-4 max-h-64 space-y-2 overflow-y-auto pr-1",children:a?c.jsx("li",{className:"text-sm text-white/60",children:"Loading files"}):i.length===0?c.jsx("li",{className:"text-sm text-white/60",children:"No subtitle files stored yet."}):i.map(U=>c.jsxs("li",{className:"flex items-center justify-between rounded-md border border-white/10 bg-white/5 px-3 py-2 text-sm text-white/80",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-white",children:U.name}),c.jsxs("div",{className:"text-xs text-white/50",children:[U.totalCues," cues  Added ",new Date(U.addedAt).toLocaleString()]})]}),c.jsx("button",{type:"button",onClick:()=>tn(U),className:"rounded bg-white/10 px-2 py-1 text-xs text-white transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",children:"Remove"})]},U.id))}):c.jsx("p",{className:"mt-4 text-sm text-white/70",children:a?"Loading files":i.length===0?"No subtitle files stored yet.":`${i.length} subtitle file${i.length===1?"":"s"} stored. Expand to manage them.`})]}),c.jsxs("div",{className:"rounded-lg bg-black/40 p-4",children:[c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Quote contexts"}),c.jsxs("label",{className:"flex items-center gap-2 text-sm text-white/70",children:[c.jsx("span",{children:"Context lines"}),c.jsx("select",{value:n,onChange:it,className:"rounded-md border border-white/20 bg-white/5 px-2 py-1 focus:outline-none focus-visible:outline-none",children:Mw.map(U=>c.jsx("option",{value:U,children:U},U))})]})]}),c.jsxs("div",{className:"mt-3 space-y-2 rounded-md border border-white/10 bg-black/40 p-3 text-sm text-white/80",children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[c.jsx("span",{className:"font-medium text-white",children:"Quote playback"}),A&&c.jsx("span",{className:"text-xs text-white/60",children:A})]}),q?c.jsx("video",{ref:he,controls:!0,className:"w-full rounded border border-white/10",src:q,onLoadedMetadata:()=>{G&&he.current&&(he.current.currentTime=G.startMs/1e3)}}):c.jsx("p",{className:"text-xs text-white/60",children:"Select a media library folder in Settings to enable quote playback. Matching videos will be looked up by subtitle filename."}),G&&c.jsxs("p",{className:"text-xs text-white/60",children:["Segment: ",Go(G.startMs),"  ",Go(G.endMs)]}),g&&c.jsx("p",{className:"text-xs text-red-400",children:g})]}),Ue?bt.length===0?c.jsx("p",{className:"mt-3 text-sm text-white/60",children:"No quotes found for this word in the stored subtitle files."}):c.jsx("ul",{className:"mt-4 space-y-4",children:bt.map(U=>c.jsxs("li",{className:"space-y-2 rounded-md border border-white/10 bg-white/5 p-3 text-sm text-white/80",children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-xs text-white/60",children:[c.jsx("span",{className:"font-medium text-white",children:U.file.name}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsxs("span",{children:[Go(U.contextStartMs),"  ",Go(U.contextEndMs)]}),c.jsx("button",{type:"button",onClick:()=>void re(U),disabled:!(Y!=null&&Y.handle),className:"rounded border border-white/20 bg-white/10 px-2 py-1 text-[11px] font-medium text-white transition hover:border-white/30 hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/10 disabled:text-white/40",children:"Play quote"})]})]}),c.jsx("div",{className:"space-y-1 rounded bg-black/40 p-2",children:U.cues.map((Se,be)=>c.jsx("p",{className:`whitespace-pre-line ${be===U.focusIndex?"font-semibold text-white":"text-white/80"}`,children:Se.rawText},`${Se.index}-${be}`))})]},U.id))}):c.jsx("p",{className:"mt-3 text-sm text-white/60",children:"Select a word to see how it appears across your subtitles."})]})]})]})}const fl="prefs";function aa(e){return{...e,mediaLibrary:void 0}}function $l(e){const{videoBlob:t,...n}=e;return n}function gr(e){return Array.isArray(e)?e:[]}function Eh(e){if(typeof e!="string")return e;const t=e.trim();if(!t)return e;try{return JSON.parse(t)}catch{return e}}function _h(e){if(!e||typeof e!="object")return!1;const t=e;return Array.isArray(t.words)||Array.isArray(t.subtitleFiles)||Array.isArray(t.subtitleCues)||Array.isArray(t.sessions)||!!(t.prefs&&typeof t.prefs=="object")}function xy(e){if(!e||typeof e!="object")throw new Error("Invalid backup file.");const t=[e,e.data,e.payload,e.backup];for(const n of t){const r=Eh(n);if(_h(r))return r;if(r&&typeof r=="object"&&"data"in r){const i=Eh(r.data);if(_h(i))return i}}throw new Error("Invalid backup file: missing data.")}function wy(e,t,n,r,i){return{words:e.length,subtitleFiles:t.length,subtitleCues:n.length,sessions:r.length,hasPrefs:!!i}}function Uw(e){const t=xy(e),n=gr(t.words),r=gr(t.subtitleFiles),i=gr(t.subtitleCues),o=t.prefs&&typeof t.prefs=="object"?aa(t.prefs):void 0,a=gr(t.sessions).map($l);return wy(n,r,i,a,o)}function bc(e,t){return e&&e.trim()?e:t??""}function $w(e,t){const n=new Map,r=i=>`${i.normalized}::${i.stem}`;for(const i of e)n.set(r(i),i);for(const i of t){const o=r(i),a=n.get(o);if(!a){n.set(o,i);continue}const f=(i.updatedAt??0)>=(a.updatedAt??0),p=f?i:a,v=f?a:i,S=Math.min(a.createdAt??p.createdAt??Date.now(),i.createdAt??p.createdAt??Date.now());n.set(o,{id:a.id,original:bc(p.original,v.original),originalSentence:bc(p.originalSentence,v.originalSentence)||void 0,normalized:a.normalized||i.normalized,stem:a.stem||i.stem,createdAt:S,updatedAt:Math.max(a.updatedAt??0,i.updatedAt??0)})}return Array.from(n.values())}function Bw(e,t){const n=new Map;for(const r of e)n.set(r.bytesHash,r);for(const r of t){const i=n.get(r.bytesHash);if(!i){n.set(r.bytesHash,r);continue}const o=(r.addedAt??0)>=(i.addedAt??0),a=o?r:i,f=o?i:r;n.set(r.bytesHash,{id:i.id,name:bc(a.name,f.name),bytesHash:i.bytesHash,totalCues:Math.max(i.totalCues??0,r.totalCues??0),language:a.language??f.language,addedAt:Math.max(i.addedAt??0,r.addedAt??0)})}return Array.from(n.values())}function Kw(e,t){const n=new Map;for(const r of e)n.set(r.id,r);for(const r of t)n.set(r.id,r);return Array.from(n.values())}function Ww(e,t){if(!t)return e;const n=e??t;return aa({...n,...t,subtitleStyle:{...n.subtitleStyle,...t.subtitleStyle},highlightColors:{...n.highlightColors,...t.highlightColors}})}function Hw(e,t){const n=new Map;for(const r of e)n.set(r.id,r);for(const r of t){const i=n.get(r.id);(!i||(r.updatedAt??0)>=(i.updatedAt??0))&&n.set(r.id,r)}return Array.from(n.values())}async function Jo(e,t,n,r){if(t.length!==0)for(let i=0;i<t.length;i+=n){const o=t.slice(i,i+n);await e.bulkPut(o),r(o.length)}}async function Vw(){const[e,t,n,r,i]=await Promise.all([Je([],()=>je.words.toArray()),Je([],()=>je.subtitleFiles.toArray()),Je([],()=>je.subtitleCues.toArray()),Je(void 0,()=>je.prefs.get(fl)),Je([],()=>je.sessions.toArray())]),o=r!=null&&r.value?aa(r.value):void 0,a=i.map($l);return{payload:{version:1,exportedAt:new Date().toISOString(),data:{words:e,subtitleFiles:t,subtitleCues:n,prefs:o,sessions:a}},counts:{words:e.length,addedWords:0,subtitleFiles:t.length,addedSubtitleFiles:0,subtitleCues:n.length,sessions:a.length,hasPrefs:!!o}}}async function qw(e,t){const n=(H,J)=>{var re;(re=t==null?void 0:t.onProgress)==null||re.call(t,{percent:H,stage:J})},r=xy(e);if(n(2,"Opening database"),!await wd())return{words:0,addedWords:0,subtitleFiles:0,addedSubtitleFiles:0,subtitleCues:0,sessions:0,hasPrefs:!1};const o=gr(r.words),a=gr(r.subtitleFiles),f=gr(r.subtitleCues),p=r.prefs&&typeof r.prefs=="object"?aa(r.prefs):void 0,v=gr(r.sessions).map($l),S=wy(o,a,f,v,p);n(5,"Loading existing data");const[b,_,$,z,K]=await Promise.all([Je([],()=>je.words.toArray()),Je([],()=>je.subtitleFiles.toArray()),Je([],()=>je.subtitleCues.toArray()),Je(void 0,()=>je.prefs.get(fl)),Je([],()=>je.sessions.toArray())]),q=K.map($l);n(25,"Merging data");const C=$w(b,o),g=Bw(_,a),N=Kw($,f),A=Ww(z==null?void 0:z.value,p),X=Hw(q,v);Math.max(0,C.length-b.length),Math.max(0,g.length-_.length);const G=C.length+g.length+N.length+(A?1:0)+X.length;let Q=0;const Z=35,Ne=95,he=(H,J=0)=>{if(G===0){n(Ne,H);return}J>0&&(Q+=J);const re=Z+Q/G*(Ne-Z);n(Math.min(Ne,Math.max(Z,re)),H)};C.length>0&&(he("Saving words"),await zt(()=>Jo(je.words,C,500,H=>he("Saving words",H)))),g.length>0&&(he("Saving subtitle files"),await zt(()=>Jo(je.subtitleFiles,g,200,H=>he("Saving subtitle files",H)))),N.length>0&&(he("Saving subtitle cues"),await zt(()=>Jo(je.subtitleCues,N,1e3,H=>he("Saving subtitle cues",H)))),A&&(he("Saving preferences"),await zt(()=>je.prefs.put({id:fl,value:A,updatedAt:Date.now()})),he("Saving preferences",1)),X.length>0&&(he("Saving sessions"),await zt(()=>Jo(je.sessions,X,200,H=>he("Saving sessions",H)))),n(100,"Finalizing");const[Re,Ae,oe,ne,se]=await Promise.all([Je(0,()=>je.words.count()),Je(0,()=>je.subtitleFiles.count()),Je(0,()=>je.subtitleCues.count()),Je(0,()=>je.sessions.count()),Je(void 0,()=>je.prefs.get(fl))]),Y=S.words>0||S.subtitleFiles>0||S.subtitleCues>0||S.sessions>0||S.hasPrefs,we=!!(se!=null&&se.value);if(Y&&Re===0&&Ae===0&&oe===0&&ne===0&&!we)throw new Error("Import did not write any data. Check browser storage permissions and retry.");return{words:Re,addedWords:Math.max(0,Re-b.length),subtitleFiles:Ae,addedSubtitleFiles:Math.max(0,Ae-_.length),subtitleCues:oe,sessions:ne,hasPrefs:we}}function Qw(){const e=lt(oe=>oe.prefs.subtitleStyle),t=lt(oe=>oe.prefs.highlightColors),n=lt(oe=>oe.prefs.mediaLibrary),r=lt(oe=>oe.updateSubtitleStyle),i=lt(oe=>oe.updateHighlightColors),o=lt(oe=>oe.setMediaLibrary),a=lt(oe=>oe.initialized),f=lt(oe=>oe.initialize),[p,v]=x.useState(null),[S,b]=x.useState(null),[_,$]=x.useState(null),[z,K]=x.useState(!1),[q,C]=x.useState(!1),[g,N]=x.useState(null),[A,X]=x.useState(0),G=x.useRef(null);x.useEffect(()=>{a||f()},[a,f]),x.useEffect(()=>{if(!q){X(0);return}const oe=Date.now();X(0);const ne=window.setInterval(()=>{X(Math.floor((Date.now()-oe)/1e3))},1e3);return()=>{window.clearInterval(ne)}},[q]);const Q=(oe,ne)=>{const se=Number(oe.target.value);Number.isFinite(se)&&r({[ne]:ne==="lineHeight"?Number(se.toFixed(2)):se})},Z=typeof window<"u"&&"showDirectoryPicker"in window,Ne=async()=>{var oe;if(v(null),!Z){v("Your browser does not support choosing a folder");return}try{const ne=await((oe=window.showDirectoryPicker)==null?void 0:oe.call(window));if(!ne)return;const se=ne.requestPermission;if(se&&await se.call(ne,{mode:"read"})==="denied"){v("Folder access was denied. Please allow access to play quotes.");return}await o({handle:ne,label:ne.name,lastPromptedAt:Date.now()})}catch(ne){v(ne instanceof Error?ne.message:"Unable to pick folder.")}},he=async()=>{v(null),await o(void 0)},Re=async()=>{b(null),$(null),K(!0);try{const{payload:oe,counts:ne}=await Vw(),se=new Blob([JSON.stringify(oe,null,2)],{type:"application/json"}),Y=URL.createObjectURL(se),we=document.createElement("a");we.href=Y,we.download=`subtitle-word-tracker-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(we),we.click(),document.body.removeChild(we),URL.revokeObjectURL(Y),$(`Exported ${ne.words} word${ne.words===1?"":"s"} and ${ne.subtitleFiles} subtitle file${ne.subtitleFiles===1?"":"s"}.`)}catch(oe){$(null),b(oe instanceof Error?oe.message:"Unable to export data.")}finally{K(!1)}},Ae=async oe=>{var se;const ne=(se=oe.target.files)==null?void 0:se[0];if(ne){b(null),$(null),C(!0),N({percent:5,stage:"Reading file"});try{const Y=await ne.text();N({percent:15,stage:"Parsing backup"});const we=JSON.parse(Y),H=Uw(we);N({percent:15,stage:`Parsed backup (${H.words} words, ${H.subtitleFiles} files)`});const J=await qw(we,{onProgress:re=>{const ge=Math.min(100,Math.max(15,15+re.percent*.85));N({percent:ge,stage:re.stage})}});lt.setState({initialized:!1}),lt.getState().initialize(),gt.setState({initialized:!1}),gt.getState().initialize(),$(`Merged data. Now storing ${J.words} word${J.words===1?"":"s"} (${J.addedWords} added) and ${J.subtitleFiles} subtitle file${J.subtitleFiles===1?"":"s"} (${J.addedSubtitleFiles} added).`)}catch(Y){$(null),b(Y instanceof Error?Y.message:"Unable to import data.")}finally{C(!1),N(null),oe.target.value=""}}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("section",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Subtitle Appearance"}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[c.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[c.jsx("span",{className:"text-white/70",children:"Font family"}),c.jsx("input",{type:"text",value:e.fontFamily,onChange:oe=>void r({fontFamily:oe.target.value}),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none"})]}),c.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[c.jsx("span",{className:"text-white/70",children:"Font size (px)"}),c.jsx("input",{type:"number",min:16,max:96,value:e.fontSizePx,onChange:oe=>Q(oe,"fontSizePx"),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none"})]}),c.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[c.jsx("span",{className:"text-white/70",children:"Second subtitle font size (px)"}),c.jsx("input",{type:"number",min:16,max:96,value:e.useMainForSecondaryFontSize?e.fontSizePx:e.secondaryFontSizePx,onChange:oe=>Q(oe,"secondaryFontSizePx"),disabled:e.useMainForSecondaryFontSize,className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none disabled:text-white/40"})]}),c.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[c.jsx("input",{type:"checkbox",checked:e.useMainForSecondaryFontSize,onChange:oe=>void r({useMainForSecondaryFontSize:oe.target.checked}),className:"h-4 w-4 rounded border-white/20 bg-black/60"}),c.jsx("span",{className:"text-white/70",children:"Same as main"})]}),c.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[c.jsx("span",{className:"text-white/70",children:"Font weight"}),c.jsx("input",{type:"number",min:300,max:900,step:100,value:e.fontWeight,onChange:oe=>Q(oe,"fontWeight"),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none"})]}),c.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[c.jsx("span",{className:"text-white/70",children:"Line height"}),c.jsx("input",{type:"number",min:1,max:2,step:.05,value:e.lineHeight,onChange:oe=>Q(oe,"lineHeight"),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none"})]}),c.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[c.jsx("span",{className:"text-white/70",children:"Text color"}),c.jsx("input",{type:"color",value:e.color,onChange:oe=>void r({color:oe.target.value}),className:"h-10 w-full cursor-pointer rounded-md border border-white/10 bg-black/40"})]}),c.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[c.jsx("span",{className:"text-white/70",children:"Background"}),c.jsx("input",{type:"text",value:e.bgColor,onChange:oe=>void r({bgColor:oe.target.value}),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none",placeholder:"rgba(0,0,0,0.35)"})]}),c.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[c.jsx("input",{type:"checkbox",checked:e.outline,onChange:oe=>void r({outline:oe.target.checked}),className:"h-4 w-4 rounded border-white/20 bg-black/60"}),c.jsx("span",{className:"text-white/70",children:"Outline text"})]}),c.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[c.jsx("input",{type:"checkbox",checked:e.shadow,onChange:oe=>void r({shadow:oe.target.checked}),className:"h-4 w-4 rounded border-white/20 bg-black/60"}),c.jsx("span",{className:"text-white/70",children:"Drop shadow"})]})]})]}),c.jsxs("section",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Highlight Colors"}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[c.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[c.jsx("span",{className:"text-white/70",children:"Exact match"}),c.jsx("input",{type:"color",value:t.exact,onChange:oe=>void i({exact:oe.target.value}),className:"h-10 w-full cursor-pointer rounded-md border border-white/10 bg-black/40"})]}),c.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[c.jsx("span",{className:"text-white/70",children:"Variant match"}),c.jsx("input",{type:"color",value:t.variant,onChange:oe=>void i({variant:oe.target.value}),className:"h-10 w-full cursor-pointer rounded-md border border-white/10 bg-black/40"})]})]})]}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Media Library"}),c.jsx("p",{className:"text-sm text-white/70",children:"Pick the root folder that contains your shows/movies. This enables future quote-level playback by searching for matching video files alongside your subtitles."}),c.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[c.jsx("button",{type:"button",onClick:Ne,className:"rounded-md border border-white/20 bg-white/10 px-3 py-2 text-sm font-medium text-white transition hover:border-white/30 hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/10 disabled:text-white/40",children:"Choose folder"}),c.jsx("button",{type:"button",onClick:he,disabled:!n,className:"rounded-md border border-white/10 px-3 py-2 text-sm text-white/70 transition hover:border-white/30 hover:bg-white/10 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/5 disabled:text-white/40",children:"Clear selection"}),!Z&&c.jsx("span",{className:"text-xs text-amber-300",children:"Folder selection requires a Chromium-based browser."})]}),n?c.jsxs("p",{className:"text-sm text-white/70",children:["Selected: ",c.jsx("span",{className:"font-semibold text-white",children:n.label??"Folder"})]}):c.jsx("p",{className:"text-sm text-white/60",children:"No folder selected yet."}),p&&c.jsx("p",{className:"text-sm text-red-400",children:p})]}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Data Transfer"}),c.jsx("p",{className:"text-sm text-white/70",children:"Export a full backup of your words, subtitles database, preferences, and last session. Import merges with existing data; newer timestamps win for words and subtitle files, and prefs from the backup override local settings. Media library folder access cannot be exported; reselect it after import."}),c.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[c.jsx("button",{type:"button",onClick:Re,disabled:z,className:"rounded-md border border-white/20 bg-white/10 px-3 py-2 text-sm font-medium text-white transition hover:border-white/30 hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/10 disabled:text-white/40",children:z?"Exporting...":"Export everything"}),c.jsx("button",{type:"button",onClick:()=>{var oe;return(oe=G.current)==null?void 0:oe.click()},disabled:q,className:"rounded-md border border-white/20 bg-white/10 px-3 py-2 text-sm font-medium text-white transition hover:border-white/30 hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/10 disabled:text-white/40",children:q?"Importing...":"Import everything"}),c.jsx("input",{ref:G,type:"file",accept:".json",className:"hidden",onChange:Ae})]}),q&&g?c.jsxs("div",{className:"mt-2 w-full",children:[c.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded bg-white/10",children:c.jsx("div",{className:"h-full bg-emerald-400 transition-all duration-300",style:{width:`${g.percent}%`}})}),c.jsxs("p",{className:"mt-1 text-xs text-white/60",children:["Importing: ",g.stage," (",Math.round(g.percent),"%, ",A,"s)"]})]}):null,S&&c.jsx("p",{className:"text-sm text-red-400",children:S}),_&&c.jsx("p",{className:"text-sm text-emerald-400",children:_})]}),c.jsxs("section",{className:"space-y-2",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Preview"}),c.jsxs("div",{className:"rounded-lg border border-white/10 bg-black/60 p-4 text-center text-lg",style:{fontFamily:e.fontFamily,fontSize:e.fontSizePx,fontWeight:e.fontWeight,lineHeight:e.lineHeight,color:e.color,textShadow:e.shadow?"0 2px 8px rgba(0,0,0,0.8)":"none",WebkitTextStroke:e.outline?"1px rgba(0,0,0,0.9)":"0",background:e.bgColor},children:["Subtitle preview with ",c.jsx("span",{style:{background:t.exact},children:"exact"})," and",c.jsx("span",{style:{background:t.variant,marginLeft:8},children:"variant"})," highlights."]})]})]})}function Yw(e,t){return t===0?0:Math.round(e/t*1e3)/10}function Xw(){const e=gt(S=>S.words),t=gt(S=>S.initialize),n=gt(S=>S.initialized),[r,i]=x.useState([]),[o,a]=x.useState(!1),[f,p]=x.useState({totalTokens:0,unknownTokens:0});x.useEffect(()=>{n||t()},[t,n]),x.useEffect(()=>{let S=!1;return(async()=>{a(!0);const _=await vy();S||(i(_),a(!1))})(),()=>{S=!0}},[]),x.useEffect(()=>{let S=!1;if(r.length===0){p({totalTokens:0,unknownTokens:0});return}return(async()=>{const _=new Map,$=new Map;for(const q of e)_.set(q.normalized.toLowerCase(),q),$.set(q.stem,q);let z=0,K=0;for(const q of r){const C=await ni(q.bytesHash);if(C)for(const g of C){const N=g.tokens??qn(g.rawText);for(const A of N){if(!A.isWord)continue;z+=1,(_.get(A.normalized)??$.get(A.stem))&&(K+=1)}}}S||p({totalTokens:z,unknownTokens:K})})(),()=>{S=!0}},[r,e]);const v=x.useMemo(()=>f.unknownTokens===0?null:Math.max(1,Math.round(f.totalTokens/f.unknownTokens)),[f.totalTokens,f.unknownTokens]);return c.jsx("div",{className:"space-y-6",children:c.jsxs("section",{className:"grid gap-4 md:grid-cols-3",children:[c.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-4",children:[c.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Unknown words saved"}),c.jsx("p",{className:"mt-2 text-2xl font-semibold text-white",children:e.length}),c.jsx("p",{className:"text-xs text-white/60",children:e.length===0?"Add words from the player to start tracking.":`Covers ${f.totalTokens.toLocaleString()} word tokens in your library.`})]}),c.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-4",children:[c.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Encounter rate"}),c.jsx("p",{className:"mt-2 text-2xl font-semibold text-white",children:v?`1 in ${v}`:""}),c.jsx("p",{className:"text-xs text-white/60",children:f.totalTokens===0?"Add subtitles to measure coverage.":`${Yw(f.unknownTokens,f.totalTokens)}% of words you see are on your unknown list.`})]}),c.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-4",children:[c.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Library coverage"}),c.jsx("p",{className:"mt-2 text-2xl font-semibold text-white",children:r.length}),c.jsxs("p",{className:"text-xs text-white/60",children:["Subtitle files stored  ",o?"Loading":`${f.totalTokens.toLocaleString()} word tokens scanned`]})]})]})})}const hu=64*1024,Ph="https://api.opensubtitles.com/api/v1",pu="oq1XXcuCnNOnaFDKbknI2pxaQO8TiiU5",Th="Er4Y8GbS7JoCcLf9oJmjc2noj2wIsrNu",Rh="UVUt5ZRVmROJD7ot9JVJY63n8RTIhxYW",Gw="ofir gaash v1.0",Oh=async(e,t,n)=>{const i=await e.slice(t,t+n).arrayBuffer();return new DataView(i)},Lh=e=>{let t=0n;const n=e.byteLength-e.byteLength%8;for(let r=0;r<n;r+=8)t+=e.getBigUint64(r,!0);return t},Jw=async e=>{const t=e.size,n=await Oh(e,0,hu),r=Math.max(0,t-hu),i=await Oh(e,r,hu);let o=BigInt(t);return o+=Lh(n),o+=Lh(i),o.toString(16).padStart(16,"0")},Fh=e=>({"Api-Key":e.trim(),"Content-Type":"application/json","X-User-Agent":Gw}),mu=async e=>{let t="";try{t=await e.text()}catch(a){t=`Unable to read response body: ${a.message}`}const n=e.headers.get("x-kong-request-id")||e.headers.get("x-request-id")||e.headers.get("x-amzn-requestid"),r=e.headers.get("retry-after"),i=e.headers.get("content-type");return[`Status: ${e.status} ${e.statusText}`.trim(),n?`Request ID: ${n}`:null,r?`Retry-After: ${r}`:null,i?`Content-Type: ${i}`:null,t?`Body: ${t.slice(0,800)}`:null].filter(Boolean).join(`
`)},Zw={neutral:"border-white/10 bg-white/5 text-white/70",loading:"border-sky-400/40 bg-sky-400/10 text-sky-100",success:"border-emerald-400/40 bg-emerald-400/10 text-emerald-100",error:"border-rose-400/40 bg-rose-400/10 text-rose-100"};function eb(){const[e,t]=x.useState(pu),[n,r]=x.useState(null),[i,o]=x.useState("en"),[a,f]=x.useState({summary:"",tone:"neutral"}),[p,v]=x.useState(null),[S,b]=x.useState(!1),[_,$]=x.useState(null),[z,K]=x.useState("downloads"),[q,C]=x.useState("desc"),g=x.useCallback((se,Y="neutral",we)=>{f({summary:se,tone:Y,details:we})},[]),N=x.useCallback(()=>e.trim()?n?!0:(g("Please choose a video file.","error"),!1):(g("Please enter your OpenSubtitles API key.","error"),!1),[e,n,g]),A=x.useCallback(()=>{v([])},[]),X=x.useCallback(async se=>{var Y;A(),g("Searching OpenSubtitles...","loading"),b(!0);try{const we=new URL(`${Ph}/subtitles`);Object.entries(se).forEach(([re,ge])=>{ge&&we.searchParams.set(re,ge)});const H=await fetch(we,{headers:Fh(e)});if(!H.ok){const re=await mu(H);throw new Error(`Search failed.
${re}`)}const J=await H.json();v(J.data??[]),g(`Found ${J.total_count??((Y=J.data)==null?void 0:Y.length)??0} subtitle(s).`,"success")}catch(we){const H=we.message||"Search failed.",[J,...re]=H.split(`
`);g(J,"error",re.join(`
`)),A()}finally{b(!1)}},[e,A,g]),G=async()=>{if(!(!N()||!n)){g("Calculating video hash...","loading");try{const se=await Jw(n);await X({moviehash:se,moviehash_match:"1",languages:i})}catch(se){g(`Hash failed: ${se.message}`,"error")}}},Q=async()=>{!N()||!n||await X({query:n.name,languages:i})},Z=async se=>{var we;const Y=(we=se.attributes.files)==null?void 0:we[0];if(!(Y!=null&&Y.file_id)){g("This subtitle entry does not include a file id.","error");return}g("Preparing download...","loading");try{const H=await fetch(`${Ph}/download`,{method:"POST",headers:Fh(e),body:JSON.stringify({file_id:Y.file_id})});if(!H.ok){const re=await mu(H);throw new Error(`Download request failed.
${re}`)}const J=await H.json();v(re=>(re==null?void 0:re.map(ge=>ge.id===se.id?{...ge,downloadLink:J.link}:ge))??[]),g("Download link ready.","success")}catch(H){const J=H.message||"Download request failed.",[re,...ge]=J.split(`
`);g(re,"error",ge.join(`
`))}},Ne=x.useCallback(async se=>{var we,H;if(!se.downloadLink){g("Download link not ready yet.","error");return}const Y=((H=(we=se.attributes.files)==null?void 0:we[0])==null?void 0:H.file_name)??`subtitle-${se.id}.srt`;$(se.id),g(`Downloading ${Y}...`,"loading");try{const J=await fetch(se.downloadLink);if(!J.ok){const Ue=await mu(J);throw new Error(`Subtitle download failed.
${Ue}`)}const re=await J.blob(),ge=URL.createObjectURL(re),Ce=document.createElement("a");Ce.href=ge,Ce.download=Y,document.body.appendChild(Ce),Ce.click(),document.body.removeChild(Ce),URL.revokeObjectURL(ge),g(`Downloaded ${Y}.`,"success")}catch(J){const re=J.message||"Subtitle download failed.",[ge,...Ce]=re.split(`
`);g(ge,"error",Ce.join(`
`))}finally{$(null)}},[g]),he=Zw[a.tone],Re=a.summary||"",Ae=x.useMemo(()=>p!==null&&p.length===0,[p]),oe=x.useMemo(()=>{if(!p)return null;const se=q==="asc"?1:-1;return[...p].sort((Y,we)=>{var re,ge,Ce,Ue;const H=((ge=(re=Y.attributes.files)==null?void 0:re[0])==null?void 0:ge.file_name)??"Untitled release",J=((Ue=(Ce=we.attributes.files)==null?void 0:Ce[0])==null?void 0:Ue.file_name)??"Untitled release";switch(z){case"title":return H.localeCompare(J,void 0,{sensitivity:"base"})*se;case"downloads":return((Y.attributes.download_count??0)-(we.attributes.download_count??0))*se;case"hearingImpaired":return(Number(Y.attributes.hearing_impaired)-Number(we.attributes.hearing_impaired))*se;default:return 0}})},[p,q,z]),ne=x.useCallback(se=>{if(z===se){C(Y=>Y==="asc"?"desc":"asc");return}K(se),C("desc")},[z]);return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("header",{className:"rounded-2xl border border-white/10 bg-gradient-to-br from-white/10 via-white/5 to-transparent p-6 shadow-lg",children:[c.jsx("p",{className:"text-sm uppercase tracking-[0.2em] text-white/60",children:"VLSub Web"}),c.jsx("h2",{className:"mt-3 text-3xl font-semibold text-white",children:"Find subtitles for your video, straight from your browser."}),c.jsx("p",{className:"mt-3 max-w-2xl text-sm text-white/70",children:"Select a local video file, look up subtitles by hash or filename, and download the match you want. Powered by the OpenSubtitles API."})]}),c.jsxs("section",{className:"grid gap-6 lg:grid-cols-2",children:[c.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 shadow-md",children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:"1. Connect to OpenSubtitles"}),c.jsxs("p",{className:"mt-2 text-sm text-white/60",children:["Enter your OpenSubtitles API key to search and download subtitles. You can create one at"," ",c.jsx("a",{href:"https://www.opensubtitles.com/",target:"_blank",rel:"noreferrer",className:"text-white underline decoration-white/40 underline-offset-4",children:"opensubtitles.com"}),"."]}),c.jsxs("label",{className:"mt-4 flex flex-col gap-2 text-sm text-white/70",children:[c.jsx("span",{children:"API Key"}),c.jsx("input",{id:"apiKey",type:"text",placeholder:"Paste your API key",value:e,onChange:se=>t(se.target.value),className:"rounded-lg border border-white/10 bg-white/10 px-3 py-2 text-sm text-white placeholder:text-white/40 focus:border-white/40 focus:outline-none"}),c.jsxs("div",{className:"text-xs text-white/50",children:[c.jsx("div",{className:"mt-1",children:"If running locally, use:"}),c.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-white/70",children:[c.jsx("span",{className:"rounded bg-white/10 px-2 py-1 text-xs",children:Th}),c.jsx("button",{type:"button",onClick:()=>t(Th),className:"rounded border border-white/10 px-2 py-1 text-[11px] text-white/70 transition hover:border-white/30 hover:bg-white/10",children:"Use this"})]}),c.jsx("div",{className:"mt-2",children:"If running from GitHub, use:"}),c.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-white/70",children:[c.jsx("span",{className:"rounded bg-white/10 px-2 py-1 text-xs",children:pu}),c.jsx("button",{type:"button",onClick:()=>t(pu),className:"rounded border border-white/10 px-2 py-1 text-[11px] text-white/70 transition hover:border-white/30 hover:bg-white/10",children:"Use this"})]}),c.jsx("div",{className:"mt-2",children:"Or"}),c.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-white/70",children:[c.jsx("span",{className:"rounded bg-white/10 px-2 py-1 text-xs",children:Rh}),c.jsx("button",{type:"button",onClick:()=>t(Rh),className:"rounded border border-white/10 px-2 py-1 text-[11px] text-white/70 transition hover:border-white/30 hover:bg-white/10",children:"Use this"})]})]})]})]}),c.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 shadow-md",children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:"2. Choose your video"}),c.jsx("p",{className:"mt-2 text-sm text-white/60",children:"We never upload your video. The hash is computed locally in your browser."}),c.jsxs("div",{className:"mt-4 flex flex-col gap-2 text-sm text-white/70",children:[c.jsx("span",{children:"Video file"}),c.jsx("input",{id:"videoFile",type:"file",accept:"video/*,.mkv,.mp4,.mov,.avi,.wmv,.flv,.webm,.m4v,.mpg,.mpeg",onChange:se=>{var we;const Y=((we=se.target.files)==null?void 0:we[0])??null;r(Y),g(Y?`Selected ${Y.name}`:"","neutral")},className:"rounded-lg border border-white/10 bg-white/10 px-3 py-2 text-sm text-white file:mr-4 file:rounded-md file:border-0 file:bg-white/20 file:px-3 file:py-2 file:text-sm file:text-white hover:file:bg-white/30"})]}),c.jsxs("div",{className:"mt-4 flex flex-col gap-2 text-sm text-white/70",children:[c.jsx("span",{children:"Preferred language"}),c.jsxs("select",{id:"language",value:i,onChange:se=>o(se.target.value),className:"rounded-lg border border-white/20 bg-white px-3 py-2 text-sm text-slate-900 focus:border-white/40 focus:outline-none",children:[c.jsx("option",{value:"en",children:"English"}),c.jsx("option",{value:"he",children:"Hebrew"}),c.jsx("option",{value:"ar",children:"Arabic"}),c.jsx("option",{value:"hi",children:"Hindi"}),c.jsx("option",{value:"es",children:"Spanish"}),c.jsx("option",{value:"fr",children:"French"}),c.jsx("option",{value:"de",children:"German"}),c.jsx("option",{value:"it",children:"Italian"}),c.jsx("option",{value:"pt",children:"Portuguese"}),c.jsx("option",{value:"nl",children:"Dutch"}),c.jsx("option",{value:"pl",children:"Polish"}),c.jsx("option",{value:"sv",children:"Swedish"}),c.jsx("option",{value:"tr",children:"Turkish"}),c.jsx("option",{value:"ja",children:"Japanese"}),c.jsx("option",{value:"ko",children:"Korean"}),c.jsx("option",{value:"zh",children:"Chinese"})]})]}),c.jsxs("div",{className:"mt-5 flex flex-wrap gap-3",children:[c.jsx("button",{id:"searchHash",type:"button",onClick:G,disabled:S,className:"rounded-full border border-white/20 bg-white/10 px-4 py-2 text-sm font-medium text-white transition hover:bg-white/20 disabled:cursor-not-allowed disabled:opacity-60",children:"Search by hash"}),c.jsx("button",{id:"searchName",type:"button",onClick:Q,disabled:S,className:"rounded-full border border-white/10 px-4 py-2 text-sm font-medium text-white/70 transition hover:border-white/20 hover:bg-white/10 disabled:cursor-not-allowed disabled:opacity-60",children:"Search by filename"})]}),c.jsxs("div",{id:"status",role:"status","aria-live":"polite",className:`mt-4 rounded-xl border px-4 py-3 text-sm ${he}`,children:[Re,a.details?c.jsxs("details",{className:"mt-3 text-xs text-white/70",open:!0,children:[c.jsx("summary",{className:"cursor-pointer text-white/80",children:"Show details"}),c.jsx("pre",{className:"mt-2 whitespace-pre-wrap text-xs text-white/60",children:a.details})]}):null]})]})]}),c.jsxs("section",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 shadow-md",children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:"3. Download your subtitle"}),c.jsxs("div",{id:"results",className:"mt-4 space-y-4",children:[p===null?c.jsx("p",{className:"text-sm text-white/60",children:"Search results will appear here."}):null,Ae?c.jsx("p",{className:"text-sm text-white/60",children:"No subtitles found. Try another search."}):null,oe&&oe.length>0?c.jsx("div",{className:"overflow-hidden rounded-xl border border-white/10",children:c.jsxs("table",{className:"w-full text-left text-sm text-white/80",children:[c.jsx("thead",{className:"bg-white/10 text-xs uppercase tracking-wide text-white/60",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3",children:c.jsxs("button",{type:"button",onClick:()=>ne("title"),className:"flex items-center gap-2 hover:text-white",children:["Title",z==="title"?q==="asc"?"":"":null]})}),c.jsx("th",{className:"px-4 py-3",children:c.jsxs("button",{type:"button",onClick:()=>ne("downloads"),className:"flex items-center gap-2 hover:text-white",children:["Downloads",z==="downloads"?q==="asc"?"":"":null]})}),c.jsx("th",{className:"px-4 py-3",children:c.jsxs("button",{type:"button",onClick:()=>ne("hearingImpaired"),className:"flex items-center gap-2 hover:text-white",children:["Hearing impaired",z==="hearingImpaired"?q==="asc"?"":"":null]})}),c.jsx("th",{className:"px-4 py-3 text-right",children:"Action"})]})}),c.jsx("tbody",{className:"divide-y divide-white/5",children:oe.map(se=>{var H;const Y=(H=se.attributes.files)==null?void 0:H[0],we=(Y==null?void 0:Y.file_name)??"Untitled release";return c.jsxs("tr",{className:"bg-white/5",children:[c.jsx("td",{className:"px-4 py-3",children:c.jsx("div",{className:"font-semibold text-white",children:we})}),c.jsx("td",{className:"px-4 py-3 text-xs",children:se.attributes.download_count??"-"}),c.jsx("td",{className:"px-4 py-3 text-xs",children:se.attributes.hearing_impaired?"Yes":"No"}),c.jsx("td",{className:"px-4 py-3 text-right text-xs",children:se.downloadLink?c.jsx("button",{type:"button",onClick:()=>void Ne(se),disabled:_===se.id,className:"inline-flex min-w-[9.5rem] items-center justify-center rounded-full border border-white/20 px-3 py-1 text-xs text-white/80 transition hover:bg-white/10 disabled:cursor-not-allowed disabled:opacity-60",children:_===se.id?"Downloading...":"Download subtitle"}):c.jsx("button",{type:"button",onClick:()=>Z(se),disabled:S,className:"inline-flex min-w-[9.5rem] items-center justify-center whitespace-nowrap rounded-full border border-white/20 bg-white/10 px-3 py-1 text-xs text-white transition hover:bg-white/20 disabled:cursor-not-allowed disabled:opacity-60",children:"Get download link"})})]},se.id)})})]})}):null]})]}),c.jsx("footer",{className:"text-xs text-white/50",children:"Built from the original VLSub workflow. This demo uses the OpenSubtitles API and requires your own API key."})]})}function tb(){const e=x.useRef(null);return x.useEffect(()=>()=>{e.current&&(e.current.src="about:blank")},[]),c.jsxs("div",{className:"space-y-6 text-right text-sm text-white/80",dir:"rtl",children:[c.jsx("section",{className:"space-y-3",children:c.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-start",children:[c.jsxs("div",{className:"space-y-3 lg:flex-1",children:[c.jsx("p",{children:"   ."}),c.jsxs("p",{children:["  ",c.jsx("strong",{children:"  "}),"    ."]})]}),c.jsx("div",{className:"w-full overflow-hidden rounded-lg border border-white/10 bg-black/40 lg:w-[22rem]",children:c.jsx("div",{className:"aspect-video w-full",children:c.jsx("iframe",{ref:e,className:"h-full w-full",src:"https://www.youtube.com/embed/0n2JBXuHEoc",title:"Tutorial",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})})]})}),c.jsx("hr",{className:"border-white/10"}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold text-white",children:" 1    / "}),c.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[c.jsx("li",{children:"    "}),c.jsxs("li",{children:["    ",c.jsx("strong",{children:""}),"  Dolby Digital",c.jsx("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:c.jsxs("li",{children:[" ",c.jsx("strong",{children:"AAC"}),"  "]})})]}),c.jsxs("li",{children:["    :",c.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[c.jsx("li",{children:c.jsx("a",{href:"http://rargb.to/",target:"_blank",rel:"noreferrer",className:"text-white underline decoration-white/40 underline-offset-4",children:"http://rargb.to/"})}),c.jsx("li",{children:c.jsx("a",{href:"https://1337x.to/",target:"_blank",rel:"noreferrer",className:"text-white underline decoration-white/40 underline-offset-4",children:"https://1337x.to/"})})]})]}),c.jsx("li",{children:"         (  )"})]})]}),c.jsx("hr",{className:"border-white/10"}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold text-white",children:" 2    "}),c.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[c.jsxs("li",{children:["   ",c.jsx("strong",{children:" "})]}),c.jsxs("li",{children:["     ",c.jsx("code",{className:"rounded bg-white/10 px-1",children:"srt"})]}),c.jsx("li",{children:"         "}),c.jsxs("li",{children:[" :",c.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[c.jsxs("li",{children:[" ",c.jsx("a",{href:"https://opensubtitles.org",target:"_blank",rel:"noreferrer",className:"mr-1 text-white underline decoration-white/40 underline-offset-4",children:"opensubtitles.org"})]}),c.jsxs("li",{children:["  ",c.jsx("strong",{children:"Find Subs"})," ",c.jsx("blockquote",{className:"mt-2 rounded border-l-2 border-white/20 bg-white/5 px-3 py-2 text-xs text-white/60",children:" :           "})]})]})]})]})]}),c.jsx("hr",{className:"border-white/10"}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold text-white",children:" 3    ( )"}),c.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[c.jsx("li",{children:"  "}),c.jsx("li",{children:"     2"})]})]}),c.jsx("hr",{className:"border-white/10"}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold text-white",children:" 4   "}),c.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[c.jsxs("li",{children:["  ",c.jsx("strong",{children:" "})]}),c.jsxs("li",{children:["  ",c.jsx("strong",{children:" "})]}),c.jsxs("li",{children:["   ",c.jsx("strong",{children:"Player"})]})]})]}),c.jsx("hr",{className:"border-white/10"}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold text-white",children:" 5    "}),c.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[c.jsx("li",{children:"  Play"}),c.jsxs("li",{children:["   :",c.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[c.jsx("li",{children:"     "}),c.jsx("li",{children:"      "})]})]}),c.jsxs("li",{children:["  :",c.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[c.jsxs("li",{children:["    ",c.jsx("strong",{children:"Second Subtitles"})]}),c.jsxs("li",{children:["  /      ",c.jsx("strong",{children:"H"})]})]})]})]})]}),c.jsx("hr",{className:"border-white/10"}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold text-white",children:" 6   Words"}),c.jsx("ul",{className:"list-disc space-y-2 pr-5",children:c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Words"})," :",c.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[c.jsx("li",{children:"    "}),c.jsx("li",{children:"       "}),c.jsx("li",{children:"      "})]})]})})]}),c.jsx("hr",{className:"border-white/10"}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold text-white",children:" 7    ChatGPT"}),c.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[c.jsxs("li",{children:["    :",c.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[c.jsx("li",{children:"      "}),c.jsx("li",{children:"   ChatGPT"})]})]}),c.jsx("li",{children:"        "}),c.jsxs("li",{children:[": ",c.jsx("strong",{children:"   ChatGPT"}),"  "]})]})]}),c.jsx("hr",{className:"border-white/10"}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold text-white",children:" 8   "}),c.jsx("ul",{className:"list-disc space-y-2 pr-5",children:c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Quotes ()"}),":",c.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[c.jsx("li",{children:"  "}),c.jsx("li",{children:"      "}),c.jsx("li",{children:"      "})]})]})})]}),c.jsx("hr",{className:"border-white/10"}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold text-white",children:" 9    '"}),c.jsx("p",{children:"   '     ."}),c.jsx("h3",{className:"text-base font-semibold text-white",children:" "}),c.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[c.jsxs("li",{children:["     (",c.jsx("strong",{children:"H"}),")"]}),c.jsx("li",{children:"     "}),c.jsxs("li",{children:["   (",c.jsx("strong",{children:"H"}),")"]}),c.jsxs("li",{children:[":",c.jsx("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:c.jsxs("li",{children:["",c.jsx("strong",{children:"Settings"}),"       (    )"]})})]})]}),c.jsx("h3",{className:"text-base font-semibold text-white",children:"  "}),c.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"F"}),"   "]}),c.jsx("li",{children:"   5   / "}),c.jsxs("li",{children:[c.jsx("strong",{children:""}),"   / "]})]})]}),c.jsx("hr",{className:"border-white/10"}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold text-white",children:"  (Settings)"}),c.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[c.jsx("li",{children:"  "}),c.jsxs("li",{children:["   :",c.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[c.jsxs("li",{children:["  ( ",c.jsx("code",{className:"rounded bg-white/10 px-1",children:"actor"}),") :"]}),c.jsx("li",{children:"      "}),c.jsxs("li",{children:["      (",c.jsx("code",{className:"rounded bg-white/10 px-1",children:"act"}),","," ",c.jsx("code",{className:"rounded bg-white/10 px-1",children:"acting"}),","," ",c.jsx("code",{className:"rounded bg-white/10 px-1",children:"actress"})," )"]})]})]}),c.jsxs("li",{children:[" :",c.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[c.jsx("li",{children:"   / "}),c.jsxs("li",{children:["  ",c.jsx("strong",{children:"Offset"})]}),c.jsx("li",{children:" Offset    "})]})]})]})]}),c.jsx("hr",{className:"border-white/10"}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold text-white",children:"   Words"}),c.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[c.jsxs("li",{children:["  ",c.jsx("strong",{children:"  "}),":",c.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[c.jsx("li",{children:"    "}),c.jsxs("li",{children:["   ",c.jsx("em",{children:"nice to have"})]})]})]}),c.jsxs("li",{children:["  ",c.jsx("strong",{children:"  "}),":",c.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[c.jsx("li",{children:"   "}),c.jsxs("li",{children:[":",c.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[c.jsxs("li",{children:[c.jsx("code",{className:"rounded bg-white/10 px-1",children:"wind"})," =  "]}),c.jsxs("li",{children:[c.jsx("code",{className:"rounded bg-white/10 px-1",children:"to wind up"})," =  "]}),c.jsxs("li",{children:[c.jsx("code",{className:"rounded bg-white/10 px-1",children:"corporate"}),"   "]}),c.jsxs("li",{children:[c.jsx("code",{className:"rounded bg-white/10 px-1",children:"corporate"}),"      "]})]})]})]})]})]})]}),c.jsx("hr",{className:"border-white/10"}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold text-white",children:"  "}),c.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[c.jsxs("li",{children:["  ?",c.jsxs("ol",{className:"mt-2 list-decimal space-y-1 pr-5",children:[c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Words"}),"   ",c.jsx("strong",{children:"Export JSON"})]}),c.jsxs("li",{children:["    ",c.jsx("strong",{children:"Import"})]})]})]}),c.jsxs("li",{children:["   ?",c.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Quotes"}),"      "]}),c.jsx("li",{children:"    "})]})]})]})]}),c.jsx("hr",{className:"border-white/10"}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold text-white",children:"  Find Subtitles"}),c.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[c.jsx("li",{children:"    API"}),c.jsxs("li",{children:["   ",c.jsx("strong",{children:"5  "}),"  "]}),c.jsx("li",{children:"      "}),c.jsxs("li",{children:[":",c.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[c.jsxs("li",{children:["  ",c.jsx("strong",{children:" "}),"  "]}),c.jsxs("li",{children:["  ",c.jsx("strong",{children:"Hash"})," "]})]})]})]})]})]})}const Yr=({isActive:e})=>`px-3 py-2 rounded-md text-sm font-medium transition-colors ${e?"bg-white/10 text-white":"text-white/70 hover:text-white hover:bg-white/5"}`;function nb(){const e=ss(),t=e.pathname==="/"||e.pathname==="",n=lt(a=>a.prefs.subtitleStyle),r=lt(a=>a.prefs.highlightColors),i=lt(a=>a.initialize),o=lt(a=>a.initialized);return x.useEffect(()=>{o||i()},[o,i]),x.useEffect(()=>{const a=document.documentElement.style;a.setProperty("--subtitle-font-family",n.fontFamily),a.setProperty("--subtitle-font-size",`${n.fontSizePx}px`);const f=n.useMainForSecondaryFontSize?n.fontSizePx:n.secondaryFontSizePx;a.setProperty("--subtitle-secondary-font-size",`${f}px`),a.setProperty("--subtitle-font-weight",`${n.fontWeight}`),a.setProperty("--subtitle-color",n.color),a.setProperty("--subtitle-bg",n.bgColor),a.setProperty("--subtitle-line-height",`${n.lineHeight}`),a.setProperty("--subtitle-outline",n.outline?"1":"0"),a.setProperty("--subtitle-shadow",n.shadow?"1":"0"),a.setProperty("--highlight-exact",r.exact),a.setProperty("--highlight-variant",r.variant)},[n,r]),c.jsx("div",{className:"min-h-screen bg-background text-foreground",children:c.jsxs("div",{className:"mx-auto flex max-w-6xl flex-col gap-6 px-4 py-6",children:[c.jsxs("header",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[c.jsx("h1",{className:"text-2xl font-semibold",children:"Subtitle Word Tracker"}),c.jsxs("nav",{className:"flex gap-2",children:[c.jsx(qr,{to:"/",className:Yr,end:!0,children:"Player"}),c.jsx(qr,{to:"/words",className:Yr,children:"Words"}),c.jsx(qr,{to:"/quotes",className:Yr,children:"Quotes"}),c.jsx(qr,{to:"/stats",className:Yr,children:"Stats"}),c.jsx(qr,{to:"/settings",className:Yr,children:"Settings"}),c.jsx(qr,{to:"/vlsub",className:Yr,children:"Find Subs"}),c.jsx(qr,{to:"/help",className:Yr,children:"?"})]})]}),c.jsxs("main",{className:"flex-1 rounded-lg border border-white/10 bg-white/5 p-6 shadow-xl backdrop-blur",children:[c.jsx("div",{className:t?"":"hidden","aria-hidden":!t,children:c.jsx(Nh,{isActive:t})}),c.jsxs(o0,{children:[c.jsx(Bn,{path:"/",element:c.jsx("div",{})}),c.jsx(Bn,{path:"/words",element:c.jsx(Fw,{})}),c.jsx(Bn,{path:"/quotes",element:c.jsx(Dw,{})}),c.jsx(Bn,{path:"/stats",element:c.jsx(Xw,{})}),c.jsx(Bn,{path:"/settings",element:c.jsx(Qw,{})}),c.jsx(Bn,{path:"/vlsub",element:c.jsx(eb,{})}),c.jsx(Bn,{path:"/help",element:c.jsx(tb,{})}),c.jsx(Bn,{path:"*",element:c.jsx(Nh,{})})]})]}),c.jsx("footer",{className:"text-xs text-white/40",children:"Local-first learning tool for movie subtitles."})]})})}const rb="./",Zo=new URL(rb,window.location.href).pathname,hl=Zo.length>1&&Zo.endsWith("/")?Zo.slice(0,-1):Zo,Mh=new URLSearchParams(window.location.search).get("path");if(Mh){const e=decodeURIComponent(Mh),t=hl==="/"?"":hl,n=e.startsWith(t)?e.slice(t.length)||"/":e;window.history.replaceState(null,"",`${hl}${n}`)}yu.createRoot(document.getElementById("root")).render(c.jsx(Ec.StrictMode,{children:c.jsx(p0,{basename:hl,future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:c.jsx(nb,{})})}));
