var By=Object.defineProperty;var Ky=(e,t,n)=>t in e?By(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ui=(e,t,n)=>Ky(e,typeof t!="symbol"?t+"":t,n);function Wy(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Uh={exports:{}},ta={},$h={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var No=Symbol.for("react.element"),Hy=Symbol.for("react.portal"),Vy=Symbol.for("react.fragment"),qy=Symbol.for("react.strict_mode"),Qy=Symbol.for("react.profiler"),Yy=Symbol.for("react.provider"),Gy=Symbol.for("react.context"),Xy=Symbol.for("react.forward_ref"),Jy=Symbol.for("react.suspense"),Zy=Symbol.for("react.memo"),eg=Symbol.for("react.lazy"),Xd=Symbol.iterator;function tg(e){return e===null||typeof e!="object"?null:(e=Xd&&e[Xd]||e["@@iterator"],typeof e=="function"?e:null)}var Bh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kh=Object.assign,Wh={};function gs(e,t,n){this.props=e,this.context=t,this.refs=Wh,this.updater=n||Bh}gs.prototype.isReactComponent={};gs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hh(){}Hh.prototype=gs.prototype;function Lc(e,t,n){this.props=e,this.context=t,this.refs=Wh,this.updater=n||Bh}var Fc=Lc.prototype=new Hh;Fc.constructor=Lc;Kh(Fc,gs.prototype);Fc.isPureReactComponent=!0;var Jd=Array.isArray,Vh=Object.prototype.hasOwnProperty,Ic={current:null},qh={key:!0,ref:!0,__self:!0,__source:!0};function Qh(e,t,n){var r,i={},o=null,u=null;if(t!=null)for(r in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(o=""+t.key),t)Vh.call(t,r)&&!qh.hasOwnProperty(r)&&(i[r]=t[r]);var f=arguments.length-2;if(f===1)i.children=n;else if(1<f){for(var p=Array(f),g=0;g<f;g++)p[g]=arguments[g+2];i.children=p}if(e&&e.defaultProps)for(r in f=e.defaultProps,f)i[r]===void 0&&(i[r]=f[r]);return{$$typeof:No,type:e,key:o,ref:u,props:i,_owner:Ic.current}}function ng(e,t){return{$$typeof:No,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ac(e){return typeof e=="object"&&e!==null&&e.$$typeof===No}function rg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Zd=/\/+/g;function Va(e,t){return typeof e=="object"&&e!==null&&e.key!=null?rg(""+e.key):t.toString(36)}function hl(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(o){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case No:case Hy:u=!0}}if(u)return u=e,i=i(u),e=r===""?"."+Va(u,0):r,Jd(i)?(n="",e!=null&&(n=e.replace(Zd,"$&/")+"/"),hl(i,t,n,"",function(g){return g})):i!=null&&(Ac(i)&&(i=ng(i,n+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(Zd,"$&/")+"/")+e)),t.push(i)),1;if(u=0,r=r===""?".":r+":",Jd(e))for(var f=0;f<e.length;f++){o=e[f];var p=r+Va(o,f);u+=hl(o,t,n,p,i)}else if(p=tg(e),typeof p=="function")for(e=p.call(e),f=0;!(o=e.next()).done;)o=o.value,p=r+Va(o,f++),u+=hl(o,t,n,p,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function qo(e,t,n){if(e==null)return e;var r=[],i=0;return hl(e,r,"","",function(o){return t.call(n,o,i++)}),r}function ig(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ft={current:null},pl={transition:null},sg={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:pl,ReactCurrentOwner:Ic};function Yh(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:qo,forEach:function(e,t,n){qo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return qo(e,function(){t++}),t},toArray:function(e){return qo(e,function(t){return t})||[]},only:function(e){if(!Ac(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Me.Component=gs;Me.Fragment=Vy;Me.Profiler=Qy;Me.PureComponent=Lc;Me.StrictMode=qy;Me.Suspense=Jy;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sg;Me.act=Yh;Me.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Kh({},e.props),i=e.key,o=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,u=Ic.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(p in t)Vh.call(t,p)&&!qh.hasOwnProperty(p)&&(r[p]=t[p]===void 0&&f!==void 0?f[p]:t[p])}var p=arguments.length-2;if(p===1)r.children=n;else if(1<p){f=Array(p);for(var g=0;g<p;g++)f[g]=arguments[g+2];r.children=f}return{$$typeof:No,type:e.type,key:i,ref:o,props:r,_owner:u}};Me.createContext=function(e){return e={$$typeof:Gy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Yy,_context:e},e.Consumer=e};Me.createElement=Qh;Me.createFactory=function(e){var t=Qh.bind(null,e);return t.type=e,t};Me.createRef=function(){return{current:null}};Me.forwardRef=function(e){return{$$typeof:Xy,render:e}};Me.isValidElement=Ac;Me.lazy=function(e){return{$$typeof:eg,_payload:{_status:-1,_result:e},_init:ig}};Me.memo=function(e,t){return{$$typeof:Zy,type:e,compare:t===void 0?null:t}};Me.startTransition=function(e){var t=pl.transition;pl.transition={};try{e()}finally{pl.transition=t}};Me.unstable_act=Yh;Me.useCallback=function(e,t){return Ft.current.useCallback(e,t)};Me.useContext=function(e){return Ft.current.useContext(e)};Me.useDebugValue=function(){};Me.useDeferredValue=function(e){return Ft.current.useDeferredValue(e)};Me.useEffect=function(e,t){return Ft.current.useEffect(e,t)};Me.useId=function(){return Ft.current.useId()};Me.useImperativeHandle=function(e,t,n){return Ft.current.useImperativeHandle(e,t,n)};Me.useInsertionEffect=function(e,t){return Ft.current.useInsertionEffect(e,t)};Me.useLayoutEffect=function(e,t){return Ft.current.useLayoutEffect(e,t)};Me.useMemo=function(e,t){return Ft.current.useMemo(e,t)};Me.useReducer=function(e,t,n){return Ft.current.useReducer(e,t,n)};Me.useRef=function(e){return Ft.current.useRef(e)};Me.useState=function(e){return Ft.current.useState(e)};Me.useSyncExternalStore=function(e,t,n){return Ft.current.useSyncExternalStore(e,t,n)};Me.useTransition=function(){return Ft.current.useTransition()};Me.version="18.3.1";$h.exports=Me;var x=$h.exports;const zc=Mc(x),og=Wy({__proto__:null,default:zc},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lg=x,ag=Symbol.for("react.element"),ug=Symbol.for("react.fragment"),cg=Object.prototype.hasOwnProperty,dg=lg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fg={key:!0,ref:!0,__self:!0,__source:!0};function Gh(e,t,n){var r,i={},o=null,u=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(u=t.ref);for(r in t)cg.call(t,r)&&!fg.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:ag,type:e,key:o,ref:u,props:i,_owner:dg.current}}ta.Fragment=ug;ta.jsx=Gh;ta.jsxs=Gh;Uh.exports=ta;var a=Uh.exports,Eu={},Xh={exports:{}},Jt={},Jh={exports:{}},Zh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,re){var le=V.length;V.push(re);e:for(;0<le;){var we=le-1>>>1,je=V[we];if(0<i(je,re))V[we]=re,V[le]=je,le=we;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var re=V[0],le=V.pop();if(le!==re){V[0]=le;e:for(var we=0,je=V.length,Ve=je>>>1;we<Ve;){var ut=2*(we+1)-1,At=V[ut],ot=ut+1,ct=V[ot];if(0>i(At,le))ot<je&&0>i(ct,At)?(V[we]=ct,V[ot]=le,we=ot):(V[we]=At,V[ut]=le,we=ut);else if(ot<je&&0>i(ct,le))V[we]=ct,V[ot]=le,we=ot;else break e}}return re}function i(V,re){var le=V.sortIndex-re.sortIndex;return le!==0?le:V.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var p=[],g=[],j=1,S=null,_=3,B=!1,z=!1,H=!1,Y=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(V){for(var re=n(g);re!==null;){if(re.callback===null)r(g);else if(re.startTime<=V)r(g),re.sortIndex=re.expirationTime,t(p,re);else break;re=n(g)}}function $(V){if(H=!1,k(V),!z)if(n(p)!==null)z=!0,X(J);else{var re=n(g);re!==null&&ke($,re.startTime-V)}}function J(V,re){z=!1,H&&(H=!1,C(ie),ie=-1),B=!0;var le=_;try{for(k(re),S=n(p);S!==null&&(!(S.expirationTime>re)||V&&!Ie());){var we=S.callback;if(typeof we=="function"){S.callback=null,_=S.priorityLevel;var je=we(S.expirationTime<=re);re=e.unstable_now(),typeof je=="function"?S.callback=je:S===n(p)&&r(p),k(re)}else r(p);S=n(p)}if(S!==null)var Ve=!0;else{var ut=n(g);ut!==null&&ke($,ut.startTime-re),Ve=!1}return Ve}finally{S=null,_=le,B=!1}}var G=!1,Q=null,ie=-1,Ce=5,pe=-1;function Ie(){return!(e.unstable_now()-pe<Ce)}function De(){if(Q!==null){var V=e.unstable_now();pe=V;var re=!0;try{re=Q(!0,V)}finally{re?oe():(G=!1,Q=null)}}else G=!1}var oe;if(typeof w=="function")oe=function(){w(De)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,Z=te.port2;te.port1.onmessage=De,oe=function(){Z.postMessage(null)}}else oe=function(){Y(De,0)};function X(V){Q=V,G||(G=!0,oe())}function ke(V,re){ie=Y(function(){V(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){z||B||(z=!0,X(J))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ce=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return n(p)},e.unstable_next=function(V){switch(_){case 1:case 2:case 3:var re=3;break;default:re=_}var le=_;_=re;try{return V()}finally{_=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,re){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var le=_;_=V;try{return re()}finally{_=le}},e.unstable_scheduleCallback=function(V,re,le){var we=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?we+le:we):le=we,V){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=le+je,V={id:j++,callback:re,priorityLevel:V,startTime:le,expirationTime:je,sortIndex:-1},le>we?(V.sortIndex=le,t(g,V),n(p)===null&&V===n(g)&&(H?(C(ie),ie=-1):H=!0,ke($,le-we))):(V.sortIndex=je,t(p,V),z||B||(z=!0,X(J))),V},e.unstable_shouldYield=Ie,e.unstable_wrapCallback=function(V){var re=_;return function(){var le=_;_=re;try{return V.apply(this,arguments)}finally{_=le}}}})(Zh);Jh.exports=Zh;var hg=Jh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg=x,Xt=hg;function ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ep=new Set,ro={};function ki(e,t){as(e,t),as(e+"Capture",t)}function as(e,t){for(ro[e]=t,e=0;e<t.length;e++)ep.add(t[e])}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_u=Object.prototype.hasOwnProperty,mg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ef={},tf={};function yg(e){return _u.call(tf,e)?!0:_u.call(ef,e)?!1:mg.test(e)?tf[e]=!0:(ef[e]=!0,!1)}function gg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vg(e,t,n,r){if(t===null||typeof t>"u"||gg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function It(e,t,n,r,i,o,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=u}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){bt[e]=new It(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];bt[t]=new It(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){bt[e]=new It(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){bt[e]=new It(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){bt[e]=new It(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){bt[e]=new It(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){bt[e]=new It(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){bt[e]=new It(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){bt[e]=new It(e,5,!1,e.toLowerCase(),null,!1,!1)});var Dc=/[\-:]([a-z])/g;function Uc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Dc,Uc);bt[t]=new It(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Dc,Uc);bt[t]=new It(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Dc,Uc);bt[t]=new It(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){bt[e]=new It(e,1,!1,e.toLowerCase(),null,!1,!1)});bt.xlinkHref=new It("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){bt[e]=new It(e,1,!1,e.toLowerCase(),null,!0,!0)});function $c(e,t,n,r){var i=bt.hasOwnProperty(t)?bt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vg(t,n,i,r)&&(n=null),r||i===null?yg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ur=pg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qo=Symbol.for("react.element"),Wi=Symbol.for("react.portal"),Hi=Symbol.for("react.fragment"),Bc=Symbol.for("react.strict_mode"),Pu=Symbol.for("react.profiler"),tp=Symbol.for("react.provider"),np=Symbol.for("react.context"),Kc=Symbol.for("react.forward_ref"),Tu=Symbol.for("react.suspense"),Ru=Symbol.for("react.suspense_list"),Wc=Symbol.for("react.memo"),Cr=Symbol.for("react.lazy"),rp=Symbol.for("react.offscreen"),nf=Symbol.iterator;function Ls(e){return e===null||typeof e!="object"?null:(e=nf&&e[nf]||e["@@iterator"],typeof e=="function"?e:null)}var Ze=Object.assign,qa;function Ks(e){if(qa===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);qa=t&&t[1]||""}return`
`+qa+e}var Qa=!1;function Ya(e,t){if(!e||Qa)return"";Qa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var r=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){r=g}e.call(t.prototype)}else{try{throw Error()}catch(g){r=g}e()}}catch(g){if(g&&r&&typeof g.stack=="string"){for(var i=g.stack.split(`
`),o=r.stack.split(`
`),u=i.length-1,f=o.length-1;1<=u&&0<=f&&i[u]!==o[f];)f--;for(;1<=u&&0<=f;u--,f--)if(i[u]!==o[f]){if(u!==1||f!==1)do if(u--,f--,0>f||i[u]!==o[f]){var p=`
`+i[u].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=u&&0<=f);break}}}finally{Qa=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ks(e):""}function xg(e){switch(e.tag){case 5:return Ks(e.type);case 16:return Ks("Lazy");case 13:return Ks("Suspense");case 19:return Ks("SuspenseList");case 0:case 2:case 15:return e=Ya(e.type,!1),e;case 11:return e=Ya(e.type.render,!1),e;case 1:return e=Ya(e.type,!0),e;default:return""}}function Ou(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hi:return"Fragment";case Wi:return"Portal";case Pu:return"Profiler";case Bc:return"StrictMode";case Tu:return"Suspense";case Ru:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case np:return(e.displayName||"Context")+".Consumer";case tp:return(e._context.displayName||"Context")+".Provider";case Kc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wc:return t=e.displayName||null,t!==null?t:Ou(e.type)||"Memo";case Cr:t=e._payload,e=e._init;try{return Ou(e(t))}catch{}}return null}function wg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ou(t);case 8:return t===Bc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Kr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ip(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bg(e){var t=ip(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(u){r=""+u,o.call(this,u)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yo(e){e._valueTracker||(e._valueTracker=bg(e))}function sp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ip(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function El(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mu(e,t){var n=t.checked;return Ze({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function rf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Kr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function op(e,t){t=t.checked,t!=null&&$c(e,"checked",t,!1)}function Lu(e,t){op(e,t);var n=Kr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Fu(e,t.type,Kr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Fu(e,t,n){(t!=="number"||El(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ws=Array.isArray;function ns(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Kr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Iu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ee(91));return Ze({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function of(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ee(92));if(Ws(n)){if(1<n.length)throw Error(ee(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Kr(n)}}function lp(e,t){var n=Kr(t.value),r=Kr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function lf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ap(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Au(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ap(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Go,up=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Go=Go||document.createElement("div"),Go.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Go.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function io(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Qs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sg=["Webkit","ms","Moz","O"];Object.keys(Qs).forEach(function(e){Sg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qs[t]=Qs[e]})});function cp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Qs.hasOwnProperty(e)&&Qs[e]?(""+t).trim():t+"px"}function dp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=cp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var kg=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zu(e,t){if(t){if(kg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ee(62))}}function Du(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uu=null;function Hc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $u=null,rs=null,is=null;function af(e){if(e=_o(e)){if(typeof $u!="function")throw Error(ee(280));var t=e.stateNode;t&&(t=oa(t),$u(e.stateNode,e.type,t))}}function fp(e){rs?is?is.push(e):is=[e]:rs=e}function hp(){if(rs){var e=rs,t=is;if(is=rs=null,af(e),t)for(e=0;e<t.length;e++)af(t[e])}}function pp(e,t){return e(t)}function mp(){}var Ga=!1;function yp(e,t,n){if(Ga)return e(t,n);Ga=!0;try{return pp(e,t,n)}finally{Ga=!1,(rs!==null||is!==null)&&(mp(),hp())}}function so(e,t){var n=e.stateNode;if(n===null)return null;var r=oa(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ee(231,t,typeof n));return n}var Bu=!1;if(sr)try{var Fs={};Object.defineProperty(Fs,"passive",{get:function(){Bu=!0}}),window.addEventListener("test",Fs,Fs),window.removeEventListener("test",Fs,Fs)}catch{Bu=!1}function jg(e,t,n,r,i,o,u,f,p){var g=Array.prototype.slice.call(arguments,3);try{t.apply(n,g)}catch(j){this.onError(j)}}var Ys=!1,_l=null,Pl=!1,Ku=null,Ng={onError:function(e){Ys=!0,_l=e}};function Cg(e,t,n,r,i,o,u,f,p){Ys=!1,_l=null,jg.apply(Ng,arguments)}function Eg(e,t,n,r,i,o,u,f,p){if(Cg.apply(this,arguments),Ys){if(Ys){var g=_l;Ys=!1,_l=null}else throw Error(ee(198));Pl||(Pl=!0,Ku=g)}}function ji(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function gp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function uf(e){if(ji(e)!==e)throw Error(ee(188))}function _g(e){var t=e.alternate;if(!t){if(t=ji(e),t===null)throw Error(ee(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return uf(i),e;if(o===r)return uf(i),t;o=o.sibling}throw Error(ee(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,f=i.child;f;){if(f===n){u=!0,n=i,r=o;break}if(f===r){u=!0,r=i,n=o;break}f=f.sibling}if(!u){for(f=o.child;f;){if(f===n){u=!0,n=o,r=i;break}if(f===r){u=!0,r=o,n=i;break}f=f.sibling}if(!u)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?e:t}function vp(e){return e=_g(e),e!==null?xp(e):null}function xp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xp(e);if(t!==null)return t;e=e.sibling}return null}var wp=Xt.unstable_scheduleCallback,cf=Xt.unstable_cancelCallback,Pg=Xt.unstable_shouldYield,Tg=Xt.unstable_requestPaint,st=Xt.unstable_now,Rg=Xt.unstable_getCurrentPriorityLevel,Vc=Xt.unstable_ImmediatePriority,bp=Xt.unstable_UserBlockingPriority,Tl=Xt.unstable_NormalPriority,Og=Xt.unstable_LowPriority,Sp=Xt.unstable_IdlePriority,na=null,Dn=null;function Mg(e){if(Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(na,e,void 0,(e.current.flags&128)===128)}catch{}}var Nn=Math.clz32?Math.clz32:Ig,Lg=Math.log,Fg=Math.LN2;function Ig(e){return e>>>=0,e===0?32:31-(Lg(e)/Fg|0)|0}var Xo=64,Jo=4194304;function Hs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Rl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,u=n&268435455;if(u!==0){var f=u&~i;f!==0?r=Hs(f):(o&=u,o!==0&&(r=Hs(o)))}else u=n&~i,u!==0?r=Hs(u):o!==0&&(r=Hs(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Nn(t),i=1<<n,r|=e[n],t&=~i;return r}function Ag(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zg(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var u=31-Nn(o),f=1<<u,p=i[u];p===-1?(!(f&n)||f&r)&&(i[u]=Ag(f,t)):p<=t&&(e.expiredLanes|=f),o&=~f}}function Wu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kp(){var e=Xo;return Xo<<=1,!(Xo&4194240)&&(Xo=64),e}function Xa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Co(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nn(t),e[t]=n}function Dg(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Nn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function qc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Nn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ue=0;function jp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Np,Qc,Cp,Ep,_p,Hu=!1,Zo=[],Lr=null,Fr=null,Ir=null,oo=new Map,lo=new Map,_r=[],Ug="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function df(e,t){switch(e){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":oo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lo.delete(t.pointerId)}}function Is(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=_o(t),t!==null&&Qc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function $g(e,t,n,r,i){switch(t){case"focusin":return Lr=Is(Lr,e,t,n,r,i),!0;case"dragenter":return Fr=Is(Fr,e,t,n,r,i),!0;case"mouseover":return Ir=Is(Ir,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return oo.set(o,Is(oo.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,lo.set(o,Is(lo.get(o)||null,e,t,n,r,i)),!0}return!1}function Pp(e){var t=fi(e.target);if(t!==null){var n=ji(t);if(n!==null){if(t=n.tag,t===13){if(t=gp(n),t!==null){e.blockedOn=t,_p(e.priority,function(){Cp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ml(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Uu=r,n.target.dispatchEvent(r),Uu=null}else return t=_o(n),t!==null&&Qc(t),e.blockedOn=n,!1;t.shift()}return!0}function ff(e,t,n){ml(e)&&n.delete(t)}function Bg(){Hu=!1,Lr!==null&&ml(Lr)&&(Lr=null),Fr!==null&&ml(Fr)&&(Fr=null),Ir!==null&&ml(Ir)&&(Ir=null),oo.forEach(ff),lo.forEach(ff)}function As(e,t){e.blockedOn===t&&(e.blockedOn=null,Hu||(Hu=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,Bg)))}function ao(e){function t(i){return As(i,e)}if(0<Zo.length){As(Zo[0],e);for(var n=1;n<Zo.length;n++){var r=Zo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Lr!==null&&As(Lr,e),Fr!==null&&As(Fr,e),Ir!==null&&As(Ir,e),oo.forEach(t),lo.forEach(t),n=0;n<_r.length;n++)r=_r[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<_r.length&&(n=_r[0],n.blockedOn===null);)Pp(n),n.blockedOn===null&&_r.shift()}var ss=ur.ReactCurrentBatchConfig,Ol=!0;function Kg(e,t,n,r){var i=Ue,o=ss.transition;ss.transition=null;try{Ue=1,Yc(e,t,n,r)}finally{Ue=i,ss.transition=o}}function Wg(e,t,n,r){var i=Ue,o=ss.transition;ss.transition=null;try{Ue=4,Yc(e,t,n,r)}finally{Ue=i,ss.transition=o}}function Yc(e,t,n,r){if(Ol){var i=Vu(e,t,n,r);if(i===null)lu(e,t,r,Ml,n),df(e,r);else if($g(i,e,t,n,r))r.stopPropagation();else if(df(e,r),t&4&&-1<Ug.indexOf(e)){for(;i!==null;){var o=_o(i);if(o!==null&&Np(o),o=Vu(e,t,n,r),o===null&&lu(e,t,r,Ml,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else lu(e,t,r,null,n)}}var Ml=null;function Vu(e,t,n,r){if(Ml=null,e=Hc(r),e=fi(e),e!==null)if(t=ji(e),t===null)e=null;else if(n=t.tag,n===13){if(e=gp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ml=e,null}function Tp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rg()){case Vc:return 1;case bp:return 4;case Tl:case Og:return 16;case Sp:return 536870912;default:return 16}default:return 16}}var Tr=null,Gc=null,yl=null;function Rp(){if(yl)return yl;var e,t=Gc,n=t.length,r,i="value"in Tr?Tr.value:Tr.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var u=n-e;for(r=1;r<=u&&t[n-r]===i[o-r];r++);return yl=i.slice(e,1<r?1-r:void 0)}function gl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function el(){return!0}function hf(){return!1}function Zt(e){function t(n,r,i,o,u){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=u,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(n=e[f],this[f]=n?n(o):o[f]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?el:hf,this.isPropagationStopped=hf,this}return Ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=el)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=el)},persist:function(){},isPersistent:el}),t}var vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xc=Zt(vs),Eo=Ze({},vs,{view:0,detail:0}),Hg=Zt(Eo),Ja,Za,zs,ra=Ze({},Eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zs&&(zs&&e.type==="mousemove"?(Ja=e.screenX-zs.screenX,Za=e.screenY-zs.screenY):Za=Ja=0,zs=e),Ja)},movementY:function(e){return"movementY"in e?e.movementY:Za}}),pf=Zt(ra),Vg=Ze({},ra,{dataTransfer:0}),qg=Zt(Vg),Qg=Ze({},Eo,{relatedTarget:0}),eu=Zt(Qg),Yg=Ze({},vs,{animationName:0,elapsedTime:0,pseudoElement:0}),Gg=Zt(Yg),Xg=Ze({},vs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jg=Zt(Xg),Zg=Ze({},vs,{data:0}),mf=Zt(Zg),ev={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nv[e])?!!t[e]:!1}function Jc(){return rv}var iv=Ze({},Eo,{key:function(e){if(e.key){var t=ev[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jc,charCode:function(e){return e.type==="keypress"?gl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sv=Zt(iv),ov=Ze({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yf=Zt(ov),lv=Ze({},Eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jc}),av=Zt(lv),uv=Ze({},vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),cv=Zt(uv),dv=Ze({},ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fv=Zt(dv),hv=[9,13,27,32],Zc=sr&&"CompositionEvent"in window,Gs=null;sr&&"documentMode"in document&&(Gs=document.documentMode);var pv=sr&&"TextEvent"in window&&!Gs,Op=sr&&(!Zc||Gs&&8<Gs&&11>=Gs),gf=" ",vf=!1;function Mp(e,t){switch(e){case"keyup":return hv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vi=!1;function mv(e,t){switch(e){case"compositionend":return Lp(t);case"keypress":return t.which!==32?null:(vf=!0,gf);case"textInput":return e=t.data,e===gf&&vf?null:e;default:return null}}function yv(e,t){if(Vi)return e==="compositionend"||!Zc&&Mp(e,t)?(e=Rp(),yl=Gc=Tr=null,Vi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Op&&t.locale!=="ko"?null:t.data;default:return null}}var gv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gv[e.type]:t==="textarea"}function Fp(e,t,n,r){fp(r),t=Ll(t,"onChange"),0<t.length&&(n=new Xc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xs=null,uo=null;function vv(e){Vp(e,0)}function ia(e){var t=Yi(e);if(sp(t))return e}function xv(e,t){if(e==="change")return t}var Ip=!1;if(sr){var tu;if(sr){var nu="oninput"in document;if(!nu){var wf=document.createElement("div");wf.setAttribute("oninput","return;"),nu=typeof wf.oninput=="function"}tu=nu}else tu=!1;Ip=tu&&(!document.documentMode||9<document.documentMode)}function bf(){Xs&&(Xs.detachEvent("onpropertychange",Ap),uo=Xs=null)}function Ap(e){if(e.propertyName==="value"&&ia(uo)){var t=[];Fp(t,uo,e,Hc(e)),yp(vv,t)}}function wv(e,t,n){e==="focusin"?(bf(),Xs=t,uo=n,Xs.attachEvent("onpropertychange",Ap)):e==="focusout"&&bf()}function bv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ia(uo)}function Sv(e,t){if(e==="click")return ia(t)}function kv(e,t){if(e==="input"||e==="change")return ia(t)}function jv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var En=typeof Object.is=="function"?Object.is:jv;function co(e,t){if(En(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_u.call(t,i)||!En(e[i],t[i]))return!1}return!0}function Sf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kf(e,t){var n=Sf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sf(n)}}function zp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Dp(){for(var e=window,t=El();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=El(e.document)}return t}function ed(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Nv(e){var t=Dp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&zp(n.ownerDocument.documentElement,n)){if(r!==null&&ed(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=kf(n,o);var u=kf(n,r);i&&u&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Cv=sr&&"documentMode"in document&&11>=document.documentMode,qi=null,qu=null,Js=null,Qu=!1;function jf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qu||qi==null||qi!==El(r)||(r=qi,"selectionStart"in r&&ed(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Js&&co(Js,r)||(Js=r,r=Ll(qu,"onSelect"),0<r.length&&(t=new Xc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=qi)))}function tl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qi={animationend:tl("Animation","AnimationEnd"),animationiteration:tl("Animation","AnimationIteration"),animationstart:tl("Animation","AnimationStart"),transitionend:tl("Transition","TransitionEnd")},ru={},Up={};sr&&(Up=document.createElement("div").style,"AnimationEvent"in window||(delete Qi.animationend.animation,delete Qi.animationiteration.animation,delete Qi.animationstart.animation),"TransitionEvent"in window||delete Qi.transitionend.transition);function sa(e){if(ru[e])return ru[e];if(!Qi[e])return e;var t=Qi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Up)return ru[e]=t[n];return e}var $p=sa("animationend"),Bp=sa("animationiteration"),Kp=sa("animationstart"),Wp=sa("transitionend"),Hp=new Map,Nf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hr(e,t){Hp.set(e,t),ki(t,[e])}for(var iu=0;iu<Nf.length;iu++){var su=Nf[iu],Ev=su.toLowerCase(),_v=su[0].toUpperCase()+su.slice(1);Hr(Ev,"on"+_v)}Hr($p,"onAnimationEnd");Hr(Bp,"onAnimationIteration");Hr(Kp,"onAnimationStart");Hr("dblclick","onDoubleClick");Hr("focusin","onFocus");Hr("focusout","onBlur");Hr(Wp,"onTransitionEnd");as("onMouseEnter",["mouseout","mouseover"]);as("onMouseLeave",["mouseout","mouseover"]);as("onPointerEnter",["pointerout","pointerover"]);as("onPointerLeave",["pointerout","pointerover"]);ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ki("onBeforeInput",["compositionend","keypress","textInput","paste"]);ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vs));function Cf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Eg(r,t,void 0,e),e.currentTarget=null}function Vp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var u=r.length-1;0<=u;u--){var f=r[u],p=f.instance,g=f.currentTarget;if(f=f.listener,p!==o&&i.isPropagationStopped())break e;Cf(i,f,g),o=p}else for(u=0;u<r.length;u++){if(f=r[u],p=f.instance,g=f.currentTarget,f=f.listener,p!==o&&i.isPropagationStopped())break e;Cf(i,f,g),o=p}}}if(Pl)throw e=Ku,Pl=!1,Ku=null,e}function We(e,t){var n=t[Zu];n===void 0&&(n=t[Zu]=new Set);var r=e+"__bubble";n.has(r)||(qp(t,e,2,!1),n.add(r))}function ou(e,t,n){var r=0;t&&(r|=4),qp(n,e,r,t)}var nl="_reactListening"+Math.random().toString(36).slice(2);function fo(e){if(!e[nl]){e[nl]=!0,ep.forEach(function(n){n!=="selectionchange"&&(Pv.has(n)||ou(n,!1,e),ou(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[nl]||(t[nl]=!0,ou("selectionchange",!1,t))}}function qp(e,t,n,r){switch(Tp(t)){case 1:var i=Kg;break;case 4:i=Wg;break;default:i=Yc}n=i.bind(null,t,n,e),i=void 0,!Bu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function lu(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var f=r.stateNode.containerInfo;if(f===i||f.nodeType===8&&f.parentNode===i)break;if(u===4)for(u=r.return;u!==null;){var p=u.tag;if((p===3||p===4)&&(p=u.stateNode.containerInfo,p===i||p.nodeType===8&&p.parentNode===i))return;u=u.return}for(;f!==null;){if(u=fi(f),u===null)return;if(p=u.tag,p===5||p===6){r=o=u;continue e}f=f.parentNode}}r=r.return}yp(function(){var g=o,j=Hc(n),S=[];e:{var _=Hp.get(e);if(_!==void 0){var B=Xc,z=e;switch(e){case"keypress":if(gl(n)===0)break e;case"keydown":case"keyup":B=sv;break;case"focusin":z="focus",B=eu;break;case"focusout":z="blur",B=eu;break;case"beforeblur":case"afterblur":B=eu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=pf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=qg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=av;break;case $p:case Bp:case Kp:B=Gg;break;case Wp:B=cv;break;case"scroll":B=Hg;break;case"wheel":B=fv;break;case"copy":case"cut":case"paste":B=Jg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=yf}var H=(t&4)!==0,Y=!H&&e==="scroll",C=H?_!==null?_+"Capture":null:_;H=[];for(var w=g,k;w!==null;){k=w;var $=k.stateNode;if(k.tag===5&&$!==null&&(k=$,C!==null&&($=so(w,C),$!=null&&H.push(ho(w,$,k)))),Y)break;w=w.return}0<H.length&&(_=new B(_,z,null,n,j),S.push({event:_,listeners:H}))}}if(!(t&7)){e:{if(_=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",_&&n!==Uu&&(z=n.relatedTarget||n.fromElement)&&(fi(z)||z[or]))break e;if((B||_)&&(_=j.window===j?j:(_=j.ownerDocument)?_.defaultView||_.parentWindow:window,B?(z=n.relatedTarget||n.toElement,B=g,z=z?fi(z):null,z!==null&&(Y=ji(z),z!==Y||z.tag!==5&&z.tag!==6)&&(z=null)):(B=null,z=g),B!==z)){if(H=pf,$="onMouseLeave",C="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(H=yf,$="onPointerLeave",C="onPointerEnter",w="pointer"),Y=B==null?_:Yi(B),k=z==null?_:Yi(z),_=new H($,w+"leave",B,n,j),_.target=Y,_.relatedTarget=k,$=null,fi(j)===g&&(H=new H(C,w+"enter",z,n,j),H.target=k,H.relatedTarget=Y,$=H),Y=$,B&&z)t:{for(H=B,C=z,w=0,k=H;k;k=$i(k))w++;for(k=0,$=C;$;$=$i($))k++;for(;0<w-k;)H=$i(H),w--;for(;0<k-w;)C=$i(C),k--;for(;w--;){if(H===C||C!==null&&H===C.alternate)break t;H=$i(H),C=$i(C)}H=null}else H=null;B!==null&&Ef(S,_,B,H,!1),z!==null&&Y!==null&&Ef(S,Y,z,H,!0)}}e:{if(_=g?Yi(g):window,B=_.nodeName&&_.nodeName.toLowerCase(),B==="select"||B==="input"&&_.type==="file")var J=xv;else if(xf(_))if(Ip)J=kv;else{J=bv;var G=wv}else(B=_.nodeName)&&B.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(J=Sv);if(J&&(J=J(e,g))){Fp(S,J,n,j);break e}G&&G(e,_,g),e==="focusout"&&(G=_._wrapperState)&&G.controlled&&_.type==="number"&&Fu(_,"number",_.value)}switch(G=g?Yi(g):window,e){case"focusin":(xf(G)||G.contentEditable==="true")&&(qi=G,qu=g,Js=null);break;case"focusout":Js=qu=qi=null;break;case"mousedown":Qu=!0;break;case"contextmenu":case"mouseup":case"dragend":Qu=!1,jf(S,n,j);break;case"selectionchange":if(Cv)break;case"keydown":case"keyup":jf(S,n,j)}var Q;if(Zc)e:{switch(e){case"compositionstart":var ie="onCompositionStart";break e;case"compositionend":ie="onCompositionEnd";break e;case"compositionupdate":ie="onCompositionUpdate";break e}ie=void 0}else Vi?Mp(e,n)&&(ie="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ie="onCompositionStart");ie&&(Op&&n.locale!=="ko"&&(Vi||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&Vi&&(Q=Rp()):(Tr=j,Gc="value"in Tr?Tr.value:Tr.textContent,Vi=!0)),G=Ll(g,ie),0<G.length&&(ie=new mf(ie,e,null,n,j),S.push({event:ie,listeners:G}),Q?ie.data=Q:(Q=Lp(n),Q!==null&&(ie.data=Q)))),(Q=pv?mv(e,n):yv(e,n))&&(g=Ll(g,"onBeforeInput"),0<g.length&&(j=new mf("onBeforeInput","beforeinput",null,n,j),S.push({event:j,listeners:g}),j.data=Q))}Vp(S,t)})}function ho(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ll(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=so(e,n),o!=null&&r.unshift(ho(e,o,i)),o=so(e,t),o!=null&&r.push(ho(e,o,i))),e=e.return}return r}function $i(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ef(e,t,n,r,i){for(var o=t._reactName,u=[];n!==null&&n!==r;){var f=n,p=f.alternate,g=f.stateNode;if(p!==null&&p===r)break;f.tag===5&&g!==null&&(f=g,i?(p=so(n,o),p!=null&&u.unshift(ho(n,p,f))):i||(p=so(n,o),p!=null&&u.push(ho(n,p,f)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}var Tv=/\r\n?/g,Rv=/\u0000|\uFFFD/g;function _f(e){return(typeof e=="string"?e:""+e).replace(Tv,`
`).replace(Rv,"")}function rl(e,t,n){if(t=_f(t),_f(e)!==t&&n)throw Error(ee(425))}function Fl(){}var Yu=null,Gu=null;function Xu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ju=typeof setTimeout=="function"?setTimeout:void 0,Ov=typeof clearTimeout=="function"?clearTimeout:void 0,Pf=typeof Promise=="function"?Promise:void 0,Mv=typeof queueMicrotask=="function"?queueMicrotask:typeof Pf<"u"?function(e){return Pf.resolve(null).then(e).catch(Lv)}:Ju;function Lv(e){setTimeout(function(){throw e})}function au(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ao(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ao(t)}function Ar(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Tf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var xs=Math.random().toString(36).slice(2),zn="__reactFiber$"+xs,po="__reactProps$"+xs,or="__reactContainer$"+xs,Zu="__reactEvents$"+xs,Fv="__reactListeners$"+xs,Iv="__reactHandles$"+xs;function fi(e){var t=e[zn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[or]||n[zn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Tf(e);e!==null;){if(n=e[zn])return n;e=Tf(e)}return t}e=n,n=e.parentNode}return null}function _o(e){return e=e[zn]||e[or],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ee(33))}function oa(e){return e[po]||null}var ec=[],Gi=-1;function Vr(e){return{current:e}}function He(e){0>Gi||(e.current=ec[Gi],ec[Gi]=null,Gi--)}function Ke(e,t){Gi++,ec[Gi]=e.current,e.current=t}var Wr={},Tt=Vr(Wr),$t=Vr(!1),vi=Wr;function us(e,t){var n=e.type.contextTypes;if(!n)return Wr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Bt(e){return e=e.childContextTypes,e!=null}function Il(){He($t),He(Tt)}function Rf(e,t,n){if(Tt.current!==Wr)throw Error(ee(168));Ke(Tt,t),Ke($t,n)}function Qp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ee(108,wg(e)||"Unknown",i));return Ze({},n,r)}function Al(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wr,vi=Tt.current,Ke(Tt,e),Ke($t,$t.current),!0}function Of(e,t,n){var r=e.stateNode;if(!r)throw Error(ee(169));n?(e=Qp(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,He($t),He(Tt),Ke(Tt,e)):He($t),Ke($t,n)}var er=null,la=!1,uu=!1;function Yp(e){er===null?er=[e]:er.push(e)}function Av(e){la=!0,Yp(e)}function qr(){if(!uu&&er!==null){uu=!0;var e=0,t=Ue;try{var n=er;for(Ue=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}er=null,la=!1}catch(i){throw er!==null&&(er=er.slice(e+1)),wp(Vc,qr),i}finally{Ue=t,uu=!1}}return null}var Xi=[],Ji=0,zl=null,Dl=0,ln=[],an=0,xi=null,tr=1,nr="";function ui(e,t){Xi[Ji++]=Dl,Xi[Ji++]=zl,zl=e,Dl=t}function Gp(e,t,n){ln[an++]=tr,ln[an++]=nr,ln[an++]=xi,xi=e;var r=tr;e=nr;var i=32-Nn(r)-1;r&=~(1<<i),n+=1;var o=32-Nn(t)+i;if(30<o){var u=i-i%5;o=(r&(1<<u)-1).toString(32),r>>=u,i-=u,tr=1<<32-Nn(t)+i|n<<i|r,nr=o+e}else tr=1<<o|n<<i|r,nr=e}function td(e){e.return!==null&&(ui(e,1),Gp(e,1,0))}function nd(e){for(;e===zl;)zl=Xi[--Ji],Xi[Ji]=null,Dl=Xi[--Ji],Xi[Ji]=null;for(;e===xi;)xi=ln[--an],ln[an]=null,nr=ln[--an],ln[an]=null,tr=ln[--an],ln[an]=null}var Gt=null,Yt=null,qe=!1,jn=null;function Xp(e,t){var n=un(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Mf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Gt=e,Yt=Ar(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Gt=e,Yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=xi!==null?{id:tr,overflow:nr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=un(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Gt=e,Yt=null,!0):!1;default:return!1}}function tc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function nc(e){if(qe){var t=Yt;if(t){var n=t;if(!Mf(e,t)){if(tc(e))throw Error(ee(418));t=Ar(n.nextSibling);var r=Gt;t&&Mf(e,t)?Xp(r,n):(e.flags=e.flags&-4097|2,qe=!1,Gt=e)}}else{if(tc(e))throw Error(ee(418));e.flags=e.flags&-4097|2,qe=!1,Gt=e}}}function Lf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Gt=e}function il(e){if(e!==Gt)return!1;if(!qe)return Lf(e),qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xu(e.type,e.memoizedProps)),t&&(t=Yt)){if(tc(e))throw Jp(),Error(ee(418));for(;t;)Xp(e,t),t=Ar(t.nextSibling)}if(Lf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Yt=Ar(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Yt=null}}else Yt=Gt?Ar(e.stateNode.nextSibling):null;return!0}function Jp(){for(var e=Yt;e;)e=Ar(e.nextSibling)}function cs(){Yt=Gt=null,qe=!1}function rd(e){jn===null?jn=[e]:jn.push(e)}var zv=ur.ReactCurrentBatchConfig;function Ds(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(u){var f=i.refs;u===null?delete f[o]:f[o]=u},t._stringRef=o,t)}if(typeof e!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,e))}return e}function sl(e,t){throw e=Object.prototype.toString.call(t),Error(ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ff(e){var t=e._init;return t(e._payload)}function Zp(e){function t(C,w){if(e){var k=C.deletions;k===null?(C.deletions=[w],C.flags|=16):k.push(w)}}function n(C,w){if(!e)return null;for(;w!==null;)t(C,w),w=w.sibling;return null}function r(C,w){for(C=new Map;w!==null;)w.key!==null?C.set(w.key,w):C.set(w.index,w),w=w.sibling;return C}function i(C,w){return C=$r(C,w),C.index=0,C.sibling=null,C}function o(C,w,k){return C.index=k,e?(k=C.alternate,k!==null?(k=k.index,k<w?(C.flags|=2,w):k):(C.flags|=2,w)):(C.flags|=1048576,w)}function u(C){return e&&C.alternate===null&&(C.flags|=2),C}function f(C,w,k,$){return w===null||w.tag!==6?(w=yu(k,C.mode,$),w.return=C,w):(w=i(w,k),w.return=C,w)}function p(C,w,k,$){var J=k.type;return J===Hi?j(C,w,k.props.children,$,k.key):w!==null&&(w.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Cr&&Ff(J)===w.type)?($=i(w,k.props),$.ref=Ds(C,w,k),$.return=C,$):($=jl(k.type,k.key,k.props,null,C.mode,$),$.ref=Ds(C,w,k),$.return=C,$)}function g(C,w,k,$){return w===null||w.tag!==4||w.stateNode.containerInfo!==k.containerInfo||w.stateNode.implementation!==k.implementation?(w=gu(k,C.mode,$),w.return=C,w):(w=i(w,k.children||[]),w.return=C,w)}function j(C,w,k,$,J){return w===null||w.tag!==7?(w=gi(k,C.mode,$,J),w.return=C,w):(w=i(w,k),w.return=C,w)}function S(C,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return w=yu(""+w,C.mode,k),w.return=C,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Qo:return k=jl(w.type,w.key,w.props,null,C.mode,k),k.ref=Ds(C,null,w),k.return=C,k;case Wi:return w=gu(w,C.mode,k),w.return=C,w;case Cr:var $=w._init;return S(C,$(w._payload),k)}if(Ws(w)||Ls(w))return w=gi(w,C.mode,k,null),w.return=C,w;sl(C,w)}return null}function _(C,w,k,$){var J=w!==null?w.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return J!==null?null:f(C,w,""+k,$);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Qo:return k.key===J?p(C,w,k,$):null;case Wi:return k.key===J?g(C,w,k,$):null;case Cr:return J=k._init,_(C,w,J(k._payload),$)}if(Ws(k)||Ls(k))return J!==null?null:j(C,w,k,$,null);sl(C,k)}return null}function B(C,w,k,$,J){if(typeof $=="string"&&$!==""||typeof $=="number")return C=C.get(k)||null,f(w,C,""+$,J);if(typeof $=="object"&&$!==null){switch($.$$typeof){case Qo:return C=C.get($.key===null?k:$.key)||null,p(w,C,$,J);case Wi:return C=C.get($.key===null?k:$.key)||null,g(w,C,$,J);case Cr:var G=$._init;return B(C,w,k,G($._payload),J)}if(Ws($)||Ls($))return C=C.get(k)||null,j(w,C,$,J,null);sl(w,$)}return null}function z(C,w,k,$){for(var J=null,G=null,Q=w,ie=w=0,Ce=null;Q!==null&&ie<k.length;ie++){Q.index>ie?(Ce=Q,Q=null):Ce=Q.sibling;var pe=_(C,Q,k[ie],$);if(pe===null){Q===null&&(Q=Ce);break}e&&Q&&pe.alternate===null&&t(C,Q),w=o(pe,w,ie),G===null?J=pe:G.sibling=pe,G=pe,Q=Ce}if(ie===k.length)return n(C,Q),qe&&ui(C,ie),J;if(Q===null){for(;ie<k.length;ie++)Q=S(C,k[ie],$),Q!==null&&(w=o(Q,w,ie),G===null?J=Q:G.sibling=Q,G=Q);return qe&&ui(C,ie),J}for(Q=r(C,Q);ie<k.length;ie++)Ce=B(Q,C,ie,k[ie],$),Ce!==null&&(e&&Ce.alternate!==null&&Q.delete(Ce.key===null?ie:Ce.key),w=o(Ce,w,ie),G===null?J=Ce:G.sibling=Ce,G=Ce);return e&&Q.forEach(function(Ie){return t(C,Ie)}),qe&&ui(C,ie),J}function H(C,w,k,$){var J=Ls(k);if(typeof J!="function")throw Error(ee(150));if(k=J.call(k),k==null)throw Error(ee(151));for(var G=J=null,Q=w,ie=w=0,Ce=null,pe=k.next();Q!==null&&!pe.done;ie++,pe=k.next()){Q.index>ie?(Ce=Q,Q=null):Ce=Q.sibling;var Ie=_(C,Q,pe.value,$);if(Ie===null){Q===null&&(Q=Ce);break}e&&Q&&Ie.alternate===null&&t(C,Q),w=o(Ie,w,ie),G===null?J=Ie:G.sibling=Ie,G=Ie,Q=Ce}if(pe.done)return n(C,Q),qe&&ui(C,ie),J;if(Q===null){for(;!pe.done;ie++,pe=k.next())pe=S(C,pe.value,$),pe!==null&&(w=o(pe,w,ie),G===null?J=pe:G.sibling=pe,G=pe);return qe&&ui(C,ie),J}for(Q=r(C,Q);!pe.done;ie++,pe=k.next())pe=B(Q,C,ie,pe.value,$),pe!==null&&(e&&pe.alternate!==null&&Q.delete(pe.key===null?ie:pe.key),w=o(pe,w,ie),G===null?J=pe:G.sibling=pe,G=pe);return e&&Q.forEach(function(De){return t(C,De)}),qe&&ui(C,ie),J}function Y(C,w,k,$){if(typeof k=="object"&&k!==null&&k.type===Hi&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Qo:e:{for(var J=k.key,G=w;G!==null;){if(G.key===J){if(J=k.type,J===Hi){if(G.tag===7){n(C,G.sibling),w=i(G,k.props.children),w.return=C,C=w;break e}}else if(G.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Cr&&Ff(J)===G.type){n(C,G.sibling),w=i(G,k.props),w.ref=Ds(C,G,k),w.return=C,C=w;break e}n(C,G);break}else t(C,G);G=G.sibling}k.type===Hi?(w=gi(k.props.children,C.mode,$,k.key),w.return=C,C=w):($=jl(k.type,k.key,k.props,null,C.mode,$),$.ref=Ds(C,w,k),$.return=C,C=$)}return u(C);case Wi:e:{for(G=k.key;w!==null;){if(w.key===G)if(w.tag===4&&w.stateNode.containerInfo===k.containerInfo&&w.stateNode.implementation===k.implementation){n(C,w.sibling),w=i(w,k.children||[]),w.return=C,C=w;break e}else{n(C,w);break}else t(C,w);w=w.sibling}w=gu(k,C.mode,$),w.return=C,C=w}return u(C);case Cr:return G=k._init,Y(C,w,G(k._payload),$)}if(Ws(k))return z(C,w,k,$);if(Ls(k))return H(C,w,k,$);sl(C,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,w!==null&&w.tag===6?(n(C,w.sibling),w=i(w,k),w.return=C,C=w):(n(C,w),w=yu(k,C.mode,$),w.return=C,C=w),u(C)):n(C,w)}return Y}var ds=Zp(!0),em=Zp(!1),Ul=Vr(null),$l=null,Zi=null,id=null;function sd(){id=Zi=$l=null}function od(e){var t=Ul.current;He(Ul),e._currentValue=t}function rc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function os(e,t){$l=e,id=Zi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ut=!0),e.firstContext=null)}function dn(e){var t=e._currentValue;if(id!==e)if(e={context:e,memoizedValue:t,next:null},Zi===null){if($l===null)throw Error(ee(308));Zi=e,$l.dependencies={lanes:0,firstContext:e}}else Zi=Zi.next=e;return t}var hi=null;function ld(e){hi===null?hi=[e]:hi.push(e)}function tm(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,ld(t)):(n.next=i.next,i.next=n),t.interleaved=n,lr(e,r)}function lr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Er=!1;function ad(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ir(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,lr(e,n)}return i=r.interleaved,i===null?(t.next=t,ld(r)):(t.next=i.next,i.next=t),r.interleaved=t,lr(e,n)}function vl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qc(e,n)}}function If(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=u:o=o.next=u,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bl(e,t,n,r){var i=e.updateQueue;Er=!1;var o=i.firstBaseUpdate,u=i.lastBaseUpdate,f=i.shared.pending;if(f!==null){i.shared.pending=null;var p=f,g=p.next;p.next=null,u===null?o=g:u.next=g,u=p;var j=e.alternate;j!==null&&(j=j.updateQueue,f=j.lastBaseUpdate,f!==u&&(f===null?j.firstBaseUpdate=g:f.next=g,j.lastBaseUpdate=p))}if(o!==null){var S=i.baseState;u=0,j=g=p=null,f=o;do{var _=f.lane,B=f.eventTime;if((r&_)===_){j!==null&&(j=j.next={eventTime:B,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var z=e,H=f;switch(_=t,B=n,H.tag){case 1:if(z=H.payload,typeof z=="function"){S=z.call(B,S,_);break e}S=z;break e;case 3:z.flags=z.flags&-65537|128;case 0:if(z=H.payload,_=typeof z=="function"?z.call(B,S,_):z,_==null)break e;S=Ze({},S,_);break e;case 2:Er=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,_=i.effects,_===null?i.effects=[f]:_.push(f))}else B={eventTime:B,lane:_,tag:f.tag,payload:f.payload,callback:f.callback,next:null},j===null?(g=j=B,p=S):j=j.next=B,u|=_;if(f=f.next,f===null){if(f=i.shared.pending,f===null)break;_=f,f=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(!0);if(j===null&&(p=S),i.baseState=p,i.firstBaseUpdate=g,i.lastBaseUpdate=j,t=i.shared.interleaved,t!==null){i=t;do u|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);bi|=u,e.lanes=u,e.memoizedState=S}}function Af(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ee(191,i));i.call(r)}}}var Po={},Un=Vr(Po),mo=Vr(Po),yo=Vr(Po);function pi(e){if(e===Po)throw Error(ee(174));return e}function ud(e,t){switch(Ke(yo,t),Ke(mo,e),Ke(Un,Po),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Au(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Au(t,e)}He(Un),Ke(Un,t)}function fs(){He(Un),He(mo),He(yo)}function rm(e){pi(yo.current);var t=pi(Un.current),n=Au(t,e.type);t!==n&&(Ke(mo,e),Ke(Un,n))}function cd(e){mo.current===e&&(He(Un),He(mo))}var Xe=Vr(0);function Kl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cu=[];function dd(){for(var e=0;e<cu.length;e++)cu[e]._workInProgressVersionPrimary=null;cu.length=0}var xl=ur.ReactCurrentDispatcher,du=ur.ReactCurrentBatchConfig,wi=0,Je=null,ft=null,mt=null,Wl=!1,Zs=!1,go=0,Dv=0;function Et(){throw Error(ee(321))}function fd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!En(e[n],t[n]))return!1;return!0}function hd(e,t,n,r,i,o){if(wi=o,Je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xl.current=e===null||e.memoizedState===null?Kv:Wv,e=n(r,i),Zs){o=0;do{if(Zs=!1,go=0,25<=o)throw Error(ee(301));o+=1,mt=ft=null,t.updateQueue=null,xl.current=Hv,e=n(r,i)}while(Zs)}if(xl.current=Hl,t=ft!==null&&ft.next!==null,wi=0,mt=ft=Je=null,Wl=!1,t)throw Error(ee(300));return e}function pd(){var e=go!==0;return go=0,e}function An(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Je.memoizedState=mt=e:mt=mt.next=e,mt}function fn(){if(ft===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=ft.next;var t=mt===null?Je.memoizedState:mt.next;if(t!==null)mt=t,ft=e;else{if(e===null)throw Error(ee(310));ft=e,e={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},mt===null?Je.memoizedState=mt=e:mt=mt.next=e}return mt}function vo(e,t){return typeof t=="function"?t(e):t}function fu(e){var t=fn(),n=t.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=e;var r=ft,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var f=u=null,p=null,g=o;do{var j=g.lane;if((wi&j)===j)p!==null&&(p=p.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),r=g.hasEagerState?g.eagerState:e(r,g.action);else{var S={lane:j,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};p===null?(f=p=S,u=r):p=p.next=S,Je.lanes|=j,bi|=j}g=g.next}while(g!==null&&g!==o);p===null?u=r:p.next=f,En(r,t.memoizedState)||(Ut=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=p,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Je.lanes|=o,bi|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function hu(e){var t=fn(),n=t.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var u=i=i.next;do o=e(o,u.action),u=u.next;while(u!==i);En(o,t.memoizedState)||(Ut=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function im(){}function sm(e,t){var n=Je,r=fn(),i=t(),o=!En(r.memoizedState,i);if(o&&(r.memoizedState=i,Ut=!0),r=r.queue,md(am.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||mt!==null&&mt.memoizedState.tag&1){if(n.flags|=2048,xo(9,lm.bind(null,n,r,i,t),void 0,null),yt===null)throw Error(ee(349));wi&30||om(n,t,i)}return i}function om(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function lm(e,t,n,r){t.value=n,t.getSnapshot=r,um(t)&&cm(e)}function am(e,t,n){return n(function(){um(t)&&cm(e)})}function um(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!En(e,n)}catch{return!0}}function cm(e){var t=lr(e,1);t!==null&&Cn(t,e,1,-1)}function zf(e){var t=An();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:e},t.queue=e,e=e.dispatch=Bv.bind(null,Je,e),[t.memoizedState,e]}function xo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function dm(){return fn().memoizedState}function wl(e,t,n,r){var i=An();Je.flags|=e,i.memoizedState=xo(1|t,n,void 0,r===void 0?null:r)}function aa(e,t,n,r){var i=fn();r=r===void 0?null:r;var o=void 0;if(ft!==null){var u=ft.memoizedState;if(o=u.destroy,r!==null&&fd(r,u.deps)){i.memoizedState=xo(t,n,o,r);return}}Je.flags|=e,i.memoizedState=xo(1|t,n,o,r)}function Df(e,t){return wl(8390656,8,e,t)}function md(e,t){return aa(2048,8,e,t)}function fm(e,t){return aa(4,2,e,t)}function hm(e,t){return aa(4,4,e,t)}function pm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mm(e,t,n){return n=n!=null?n.concat([e]):null,aa(4,4,pm.bind(null,t,e),n)}function yd(){}function ym(e,t){var n=fn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&fd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function gm(e,t){var n=fn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&fd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function vm(e,t,n){return wi&21?(En(n,t)||(n=kp(),Je.lanes|=n,bi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ut=!0),e.memoizedState=n)}function Uv(e,t){var n=Ue;Ue=n!==0&&4>n?n:4,e(!0);var r=du.transition;du.transition={};try{e(!1),t()}finally{Ue=n,du.transition=r}}function xm(){return fn().memoizedState}function $v(e,t,n){var r=Ur(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wm(e))bm(t,n);else if(n=tm(e,t,n,r),n!==null){var i=Lt();Cn(n,e,r,i),Sm(n,t,r)}}function Bv(e,t,n){var r=Ur(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wm(e))bm(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var u=t.lastRenderedState,f=o(u,n);if(i.hasEagerState=!0,i.eagerState=f,En(f,u)){var p=t.interleaved;p===null?(i.next=i,ld(t)):(i.next=p.next,p.next=i),t.interleaved=i;return}}catch{}finally{}n=tm(e,t,i,r),n!==null&&(i=Lt(),Cn(n,e,r,i),Sm(n,t,r))}}function wm(e){var t=e.alternate;return e===Je||t!==null&&t===Je}function bm(e,t){Zs=Wl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Sm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qc(e,n)}}var Hl={readContext:dn,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},Kv={readContext:dn,useCallback:function(e,t){return An().memoizedState=[e,t===void 0?null:t],e},useContext:dn,useEffect:Df,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,wl(4194308,4,pm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wl(4194308,4,e,t)},useInsertionEffect:function(e,t){return wl(4,2,e,t)},useMemo:function(e,t){var n=An();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=An();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$v.bind(null,Je,e),[r.memoizedState,e]},useRef:function(e){var t=An();return e={current:e},t.memoizedState=e},useState:zf,useDebugValue:yd,useDeferredValue:function(e){return An().memoizedState=e},useTransition:function(){var e=zf(!1),t=e[0];return e=Uv.bind(null,e[1]),An().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Je,i=An();if(qe){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=t(),yt===null)throw Error(ee(349));wi&30||om(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Df(am.bind(null,r,o,e),[e]),r.flags|=2048,xo(9,lm.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=An(),t=yt.identifierPrefix;if(qe){var n=nr,r=tr;n=(r&~(1<<32-Nn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=go++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Dv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Wv={readContext:dn,useCallback:ym,useContext:dn,useEffect:md,useImperativeHandle:mm,useInsertionEffect:fm,useLayoutEffect:hm,useMemo:gm,useReducer:fu,useRef:dm,useState:function(){return fu(vo)},useDebugValue:yd,useDeferredValue:function(e){var t=fn();return vm(t,ft.memoizedState,e)},useTransition:function(){var e=fu(vo)[0],t=fn().memoizedState;return[e,t]},useMutableSource:im,useSyncExternalStore:sm,useId:xm,unstable_isNewReconciler:!1},Hv={readContext:dn,useCallback:ym,useContext:dn,useEffect:md,useImperativeHandle:mm,useInsertionEffect:fm,useLayoutEffect:hm,useMemo:gm,useReducer:hu,useRef:dm,useState:function(){return hu(vo)},useDebugValue:yd,useDeferredValue:function(e){var t=fn();return ft===null?t.memoizedState=e:vm(t,ft.memoizedState,e)},useTransition:function(){var e=hu(vo)[0],t=fn().memoizedState;return[e,t]},useMutableSource:im,useSyncExternalStore:sm,useId:xm,unstable_isNewReconciler:!1};function Sn(e,t){if(e&&e.defaultProps){t=Ze({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ic(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ze({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ua={isMounted:function(e){return(e=e._reactInternals)?ji(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Lt(),i=Ur(e),o=ir(r,i);o.payload=t,n!=null&&(o.callback=n),t=zr(e,o,i),t!==null&&(Cn(t,e,i,r),vl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Lt(),i=Ur(e),o=ir(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=zr(e,o,i),t!==null&&(Cn(t,e,i,r),vl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Lt(),r=Ur(e),i=ir(n,r);i.tag=2,t!=null&&(i.callback=t),t=zr(e,i,r),t!==null&&(Cn(t,e,r,n),vl(t,e,r))}};function Uf(e,t,n,r,i,o,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,u):t.prototype&&t.prototype.isPureReactComponent?!co(n,r)||!co(i,o):!0}function km(e,t,n){var r=!1,i=Wr,o=t.contextType;return typeof o=="object"&&o!==null?o=dn(o):(i=Bt(t)?vi:Tt.current,r=t.contextTypes,o=(r=r!=null)?us(e,i):Wr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ua,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function $f(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ua.enqueueReplaceState(t,t.state,null)}function sc(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},ad(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=dn(o):(o=Bt(t)?vi:Tt.current,i.context=us(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(ic(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ua.enqueueReplaceState(i,i.state,null),Bl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function hs(e,t){try{var n="",r=t;do n+=xg(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function pu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function oc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Vv=typeof WeakMap=="function"?WeakMap:Map;function jm(e,t,n){n=ir(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,yc=r),oc(e,t)},n}function Nm(e,t,n){n=ir(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){oc(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){oc(e,t),typeof r!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),n}function Bf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Vv;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ox.bind(null,e,t,n),t.then(e,e))}function Kf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wf(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ir(-1,1),t.tag=2,zr(n,t,1))),n.lanes|=1),e)}var qv=ur.ReactCurrentOwner,Ut=!1;function Mt(e,t,n,r){t.child=e===null?em(t,null,n,r):ds(t,e.child,n,r)}function Hf(e,t,n,r,i){n=n.render;var o=t.ref;return os(t,i),r=hd(e,t,n,r,o,i),n=pd(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ar(e,t,i)):(qe&&n&&td(t),t.flags|=1,Mt(e,t,r,i),t.child)}function Vf(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!jd(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Cm(e,t,o,r,i)):(e=jl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var u=o.memoizedProps;if(n=n.compare,n=n!==null?n:co,n(u,r)&&e.ref===t.ref)return ar(e,t,i)}return t.flags|=1,e=$r(o,r),e.ref=t.ref,e.return=t,t.child=e}function Cm(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(co(o,r)&&e.ref===t.ref)if(Ut=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Ut=!0);else return t.lanes=e.lanes,ar(e,t,i)}return lc(e,t,n,r,i)}function Em(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(ts,Qt),Qt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ke(ts,Qt),Qt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ke(ts,Qt),Qt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ke(ts,Qt),Qt|=r;return Mt(e,t,i,n),t.child}function _m(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function lc(e,t,n,r,i){var o=Bt(n)?vi:Tt.current;return o=us(t,o),os(t,i),n=hd(e,t,n,r,o,i),r=pd(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ar(e,t,i)):(qe&&r&&td(t),t.flags|=1,Mt(e,t,n,i),t.child)}function qf(e,t,n,r,i){if(Bt(n)){var o=!0;Al(t)}else o=!1;if(os(t,i),t.stateNode===null)bl(e,t),km(t,n,r),sc(t,n,r,i),r=!0;else if(e===null){var u=t.stateNode,f=t.memoizedProps;u.props=f;var p=u.context,g=n.contextType;typeof g=="object"&&g!==null?g=dn(g):(g=Bt(n)?vi:Tt.current,g=us(t,g));var j=n.getDerivedStateFromProps,S=typeof j=="function"||typeof u.getSnapshotBeforeUpdate=="function";S||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==r||p!==g)&&$f(t,u,r,g),Er=!1;var _=t.memoizedState;u.state=_,Bl(t,r,u,i),p=t.memoizedState,f!==r||_!==p||$t.current||Er?(typeof j=="function"&&(ic(t,n,j,r),p=t.memoizedState),(f=Er||Uf(t,n,f,r,_,p,g))?(S||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=p),u.props=r,u.state=p,u.context=g,r=f):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,nm(e,t),f=t.memoizedProps,g=t.type===t.elementType?f:Sn(t.type,f),u.props=g,S=t.pendingProps,_=u.context,p=n.contextType,typeof p=="object"&&p!==null?p=dn(p):(p=Bt(n)?vi:Tt.current,p=us(t,p));var B=n.getDerivedStateFromProps;(j=typeof B=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==S||_!==p)&&$f(t,u,r,p),Er=!1,_=t.memoizedState,u.state=_,Bl(t,r,u,i);var z=t.memoizedState;f!==S||_!==z||$t.current||Er?(typeof B=="function"&&(ic(t,n,B,r),z=t.memoizedState),(g=Er||Uf(t,n,g,r,_,z,p)||!1)?(j||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,z,p),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,z,p)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=z),u.props=r,u.state=z,u.context=p,r=g):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),r=!1)}return ac(e,t,n,r,o,i)}function ac(e,t,n,r,i,o){_m(e,t);var u=(t.flags&128)!==0;if(!r&&!u)return i&&Of(t,n,!1),ar(e,t,o);r=t.stateNode,qv.current=t;var f=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&u?(t.child=ds(t,e.child,null,o),t.child=ds(t,null,f,o)):Mt(e,t,f,o),t.memoizedState=r.state,i&&Of(t,n,!0),t.child}function Pm(e){var t=e.stateNode;t.pendingContext?Rf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Rf(e,t.context,!1),ud(e,t.containerInfo)}function Qf(e,t,n,r,i){return cs(),rd(i),t.flags|=256,Mt(e,t,n,r),t.child}var uc={dehydrated:null,treeContext:null,retryLane:0};function cc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Tm(e,t,n){var r=t.pendingProps,i=Xe.current,o=!1,u=(t.flags&128)!==0,f;if((f=u)||(f=e!==null&&e.memoizedState===null?!1:(i&2)!==0),f?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ke(Xe,i&1),e===null)return nc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=r.children,e=r.fallback,o?(r=t.mode,o=t.child,u={mode:"hidden",children:u},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=u):o=fa(u,r,0,null),e=gi(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=cc(n),t.memoizedState=uc,e):gd(t,u));if(i=e.memoizedState,i!==null&&(f=i.dehydrated,f!==null))return Qv(e,t,u,r,f,i,n);if(o){o=r.fallback,u=t.mode,i=e.child,f=i.sibling;var p={mode:"hidden",children:r.children};return!(u&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=p,t.deletions=null):(r=$r(i,p),r.subtreeFlags=i.subtreeFlags&14680064),f!==null?o=$r(f,o):(o=gi(o,u,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,u=e.child.memoizedState,u=u===null?cc(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},o.memoizedState=u,o.childLanes=e.childLanes&~n,t.memoizedState=uc,r}return o=e.child,e=o.sibling,r=$r(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function gd(e,t){return t=fa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ol(e,t,n,r){return r!==null&&rd(r),ds(t,e.child,null,n),e=gd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qv(e,t,n,r,i,o,u){if(n)return t.flags&256?(t.flags&=-257,r=pu(Error(ee(422))),ol(e,t,u,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=fa({mode:"visible",children:r.children},i,0,null),o=gi(o,i,u,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ds(t,e.child,null,u),t.child.memoizedState=cc(u),t.memoizedState=uc,o);if(!(t.mode&1))return ol(e,t,u,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var f=r.dgst;return r=f,o=Error(ee(419)),r=pu(o,r,void 0),ol(e,t,u,r)}if(f=(u&e.childLanes)!==0,Ut||f){if(r=yt,r!==null){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|u)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,lr(e,i),Cn(r,e,i,-1))}return kd(),r=pu(Error(ee(421))),ol(e,t,u,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=lx.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Yt=Ar(i.nextSibling),Gt=t,qe=!0,jn=null,e!==null&&(ln[an++]=tr,ln[an++]=nr,ln[an++]=xi,tr=e.id,nr=e.overflow,xi=t),t=gd(t,r.children),t.flags|=4096,t)}function Yf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),rc(e.return,t,n)}function mu(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Rm(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Mt(e,t,r.children,n),r=Xe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yf(e,n,t);else if(e.tag===19)Yf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ke(Xe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Kl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),mu(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Kl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}mu(t,!0,n,null,o);break;case"together":mu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ar(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),bi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ee(153));if(t.child!==null){for(e=t.child,n=$r(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=$r(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Yv(e,t,n){switch(t.tag){case 3:Pm(t),cs();break;case 5:rm(t);break;case 1:Bt(t.type)&&Al(t);break;case 4:ud(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ke(Ul,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ke(Xe,Xe.current&1),t.flags|=128,null):n&t.child.childLanes?Tm(e,t,n):(Ke(Xe,Xe.current&1),e=ar(e,t,n),e!==null?e.sibling:null);Ke(Xe,Xe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Rm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ke(Xe,Xe.current),r)break;return null;case 22:case 23:return t.lanes=0,Em(e,t,n)}return ar(e,t,n)}var Om,dc,Mm,Lm;Om=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dc=function(){};Mm=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,pi(Un.current);var o=null;switch(n){case"input":i=Mu(e,i),r=Mu(e,r),o=[];break;case"select":i=Ze({},i,{value:void 0}),r=Ze({},r,{value:void 0}),o=[];break;case"textarea":i=Iu(e,i),r=Iu(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Fl)}zu(n,r);var u;n=null;for(g in i)if(!r.hasOwnProperty(g)&&i.hasOwnProperty(g)&&i[g]!=null)if(g==="style"){var f=i[g];for(u in f)f.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(ro.hasOwnProperty(g)?o||(o=[]):(o=o||[]).push(g,null));for(g in r){var p=r[g];if(f=i!=null?i[g]:void 0,r.hasOwnProperty(g)&&p!==f&&(p!=null||f!=null))if(g==="style")if(f){for(u in f)!f.hasOwnProperty(u)||p&&p.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in p)p.hasOwnProperty(u)&&f[u]!==p[u]&&(n||(n={}),n[u]=p[u])}else n||(o||(o=[]),o.push(g,n)),n=p;else g==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,f=f?f.__html:void 0,p!=null&&f!==p&&(o=o||[]).push(g,p)):g==="children"?typeof p!="string"&&typeof p!="number"||(o=o||[]).push(g,""+p):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(ro.hasOwnProperty(g)?(p!=null&&g==="onScroll"&&We("scroll",e),o||f===p||(o=[])):(o=o||[]).push(g,p))}n&&(o=o||[]).push("style",n);var g=o;(t.updateQueue=g)&&(t.flags|=4)}};Lm=function(e,t,n,r){n!==r&&(t.flags|=4)};function Us(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function _t(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gv(e,t,n){var r=t.pendingProps;switch(nd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(t),null;case 1:return Bt(t.type)&&Il(),_t(t),null;case 3:return r=t.stateNode,fs(),He($t),He(Tt),dd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(il(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jn!==null&&(xc(jn),jn=null))),dc(e,t),_t(t),null;case 5:cd(t);var i=pi(yo.current);if(n=t.type,e!==null&&t.stateNode!=null)Mm(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ee(166));return _t(t),null}if(e=pi(Un.current),il(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[zn]=t,r[po]=o,e=(t.mode&1)!==0,n){case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":case"embed":We("load",r);break;case"video":case"audio":for(i=0;i<Vs.length;i++)We(Vs[i],r);break;case"source":We("error",r);break;case"img":case"image":case"link":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"input":rf(r,o),We("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},We("invalid",r);break;case"textarea":of(r,o),We("invalid",r)}zu(n,o),i=null;for(var u in o)if(o.hasOwnProperty(u)){var f=o[u];u==="children"?typeof f=="string"?r.textContent!==f&&(o.suppressHydrationWarning!==!0&&rl(r.textContent,f,e),i=["children",f]):typeof f=="number"&&r.textContent!==""+f&&(o.suppressHydrationWarning!==!0&&rl(r.textContent,f,e),i=["children",""+f]):ro.hasOwnProperty(u)&&f!=null&&u==="onScroll"&&We("scroll",r)}switch(n){case"input":Yo(r),sf(r,o,!0);break;case"textarea":Yo(r),lf(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Fl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{u=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ap(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),n==="select"&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[zn]=t,e[po]=r,Om(e,t,!1,!1),t.stateNode=e;e:{switch(u=Du(n,r),n){case"dialog":We("cancel",e),We("close",e),i=r;break;case"iframe":case"object":case"embed":We("load",e),i=r;break;case"video":case"audio":for(i=0;i<Vs.length;i++)We(Vs[i],e);i=r;break;case"source":We("error",e),i=r;break;case"img":case"image":case"link":We("error",e),We("load",e),i=r;break;case"details":We("toggle",e),i=r;break;case"input":rf(e,r),i=Mu(e,r),We("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ze({},r,{value:void 0}),We("invalid",e);break;case"textarea":of(e,r),i=Iu(e,r),We("invalid",e);break;default:i=r}zu(n,i),f=i;for(o in f)if(f.hasOwnProperty(o)){var p=f[o];o==="style"?dp(e,p):o==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&up(e,p)):o==="children"?typeof p=="string"?(n!=="textarea"||p!=="")&&io(e,p):typeof p=="number"&&io(e,""+p):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ro.hasOwnProperty(o)?p!=null&&o==="onScroll"&&We("scroll",e):p!=null&&$c(e,o,p,u))}switch(n){case"input":Yo(e),sf(e,r,!1);break;case"textarea":Yo(e),lf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Kr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ns(e,!!r.multiple,o,!1):r.defaultValue!=null&&ns(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Fl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _t(t),null;case 6:if(e&&t.stateNode!=null)Lm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ee(166));if(n=pi(yo.current),pi(Un.current),il(t)){if(r=t.stateNode,n=t.memoizedProps,r[zn]=t,(o=r.nodeValue!==n)&&(e=Gt,e!==null))switch(e.tag){case 3:rl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&rl(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zn]=t,t.stateNode=r}return _t(t),null;case 13:if(He(Xe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qe&&Yt!==null&&t.mode&1&&!(t.flags&128))Jp(),cs(),t.flags|=98560,o=!1;else if(o=il(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(ee(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ee(317));o[zn]=t}else cs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_t(t),o=!1}else jn!==null&&(xc(jn),jn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Xe.current&1?ht===0&&(ht=3):kd())),t.updateQueue!==null&&(t.flags|=4),_t(t),null);case 4:return fs(),dc(e,t),e===null&&fo(t.stateNode.containerInfo),_t(t),null;case 10:return od(t.type._context),_t(t),null;case 17:return Bt(t.type)&&Il(),_t(t),null;case 19:if(He(Xe),o=t.memoizedState,o===null)return _t(t),null;if(r=(t.flags&128)!==0,u=o.rendering,u===null)if(r)Us(o,!1);else{if(ht!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=Kl(e),u!==null){for(t.flags|=128,Us(o,!1),r=u.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,u=o.alternate,u===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ke(Xe,Xe.current&1|2),t.child}e=e.sibling}o.tail!==null&&st()>ps&&(t.flags|=128,r=!0,Us(o,!1),t.lanes=4194304)}else{if(!r)if(e=Kl(u),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Us(o,!0),o.tail===null&&o.tailMode==="hidden"&&!u.alternate&&!qe)return _t(t),null}else 2*st()-o.renderingStartTime>ps&&n!==1073741824&&(t.flags|=128,r=!0,Us(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(n=o.last,n!==null?n.sibling=u:t.child=u,o.last=u)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=st(),t.sibling=null,n=Xe.current,Ke(Xe,r?n&1|2:n&1),t):(_t(t),null);case 22:case 23:return Sd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Qt&1073741824&&(_t(t),t.subtreeFlags&6&&(t.flags|=8192)):_t(t),null;case 24:return null;case 25:return null}throw Error(ee(156,t.tag))}function Xv(e,t){switch(nd(t),t.tag){case 1:return Bt(t.type)&&Il(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fs(),He($t),He(Tt),dd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return cd(t),null;case 13:if(He(Xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ee(340));cs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return He(Xe),null;case 4:return fs(),null;case 10:return od(t.type._context),null;case 22:case 23:return Sd(),null;case 24:return null;default:return null}}var ll=!1,Pt=!1,Jv=typeof WeakSet=="function"?WeakSet:Set,ge=null;function es(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nt(e,t,r)}else n.current=null}function fc(e,t,n){try{n()}catch(r){nt(e,t,r)}}var Gf=!1;function Zv(e,t){if(Yu=Ol,e=Dp(),ed(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var u=0,f=-1,p=-1,g=0,j=0,S=e,_=null;t:for(;;){for(var B;S!==n||i!==0&&S.nodeType!==3||(f=u+i),S!==o||r!==0&&S.nodeType!==3||(p=u+r),S.nodeType===3&&(u+=S.nodeValue.length),(B=S.firstChild)!==null;)_=S,S=B;for(;;){if(S===e)break t;if(_===n&&++g===i&&(f=u),_===o&&++j===r&&(p=u),(B=S.nextSibling)!==null)break;S=_,_=S.parentNode}S=B}n=f===-1||p===-1?null:{start:f,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gu={focusedElem:e,selectionRange:n},Ol=!1,ge=t;ge!==null;)if(t=ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ge=e;else for(;ge!==null;){t=ge;try{var z=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(z!==null){var H=z.memoizedProps,Y=z.memoizedState,C=t.stateNode,w=C.getSnapshotBeforeUpdate(t.elementType===t.type?H:Sn(t.type,H),Y);C.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch($){nt(t,t.return,$)}if(e=t.sibling,e!==null){e.return=t.return,ge=e;break}ge=t.return}return z=Gf,Gf=!1,z}function eo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&fc(t,n,o)}i=i.next}while(i!==r)}}function ca(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Fm(e){var t=e.alternate;t!==null&&(e.alternate=null,Fm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zn],delete t[po],delete t[Zu],delete t[Fv],delete t[Iv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Im(e){return e.tag===5||e.tag===3||e.tag===4}function Xf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Im(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Fl));else if(r!==4&&(e=e.child,e!==null))for(pc(e,t,n),e=e.sibling;e!==null;)pc(e,t,n),e=e.sibling}function mc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(mc(e,t,n),e=e.sibling;e!==null;)mc(e,t,n),e=e.sibling}var vt=null,kn=!1;function Nr(e,t,n){for(n=n.child;n!==null;)Am(e,t,n),n=n.sibling}function Am(e,t,n){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(na,n)}catch{}switch(n.tag){case 5:Pt||es(n,t);case 6:var r=vt,i=kn;vt=null,Nr(e,t,n),vt=r,kn=i,vt!==null&&(kn?(e=vt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):vt.removeChild(n.stateNode));break;case 18:vt!==null&&(kn?(e=vt,n=n.stateNode,e.nodeType===8?au(e.parentNode,n):e.nodeType===1&&au(e,n),ao(e)):au(vt,n.stateNode));break;case 4:r=vt,i=kn,vt=n.stateNode.containerInfo,kn=!0,Nr(e,t,n),vt=r,kn=i;break;case 0:case 11:case 14:case 15:if(!Pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,u=o.destroy;o=o.tag,u!==void 0&&(o&2||o&4)&&fc(n,t,u),i=i.next}while(i!==r)}Nr(e,t,n);break;case 1:if(!Pt&&(es(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(f){nt(n,t,f)}Nr(e,t,n);break;case 21:Nr(e,t,n);break;case 22:n.mode&1?(Pt=(r=Pt)||n.memoizedState!==null,Nr(e,t,n),Pt=r):Nr(e,t,n);break;default:Nr(e,t,n)}}function Jf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Jv),t.forEach(function(r){var i=ax.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function bn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,f=u;e:for(;f!==null;){switch(f.tag){case 5:vt=f.stateNode,kn=!1;break e;case 3:vt=f.stateNode.containerInfo,kn=!0;break e;case 4:vt=f.stateNode.containerInfo,kn=!0;break e}f=f.return}if(vt===null)throw Error(ee(160));Am(o,u,i),vt=null,kn=!1;var p=i.alternate;p!==null&&(p.return=null),i.return=null}catch(g){nt(i,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zm(t,e),t=t.sibling}function zm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bn(t,e),In(e),r&4){try{eo(3,e,e.return),ca(3,e)}catch(H){nt(e,e.return,H)}try{eo(5,e,e.return)}catch(H){nt(e,e.return,H)}}break;case 1:bn(t,e),In(e),r&512&&n!==null&&es(n,n.return);break;case 5:if(bn(t,e),In(e),r&512&&n!==null&&es(n,n.return),e.flags&32){var i=e.stateNode;try{io(i,"")}catch(H){nt(e,e.return,H)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,u=n!==null?n.memoizedProps:o,f=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{f==="input"&&o.type==="radio"&&o.name!=null&&op(i,o),Du(f,u);var g=Du(f,o);for(u=0;u<p.length;u+=2){var j=p[u],S=p[u+1];j==="style"?dp(i,S):j==="dangerouslySetInnerHTML"?up(i,S):j==="children"?io(i,S):$c(i,j,S,g)}switch(f){case"input":Lu(i,o);break;case"textarea":lp(i,o);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var B=o.value;B!=null?ns(i,!!o.multiple,B,!1):_!==!!o.multiple&&(o.defaultValue!=null?ns(i,!!o.multiple,o.defaultValue,!0):ns(i,!!o.multiple,o.multiple?[]:"",!1))}i[po]=o}catch(H){nt(e,e.return,H)}}break;case 6:if(bn(t,e),In(e),r&4){if(e.stateNode===null)throw Error(ee(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(H){nt(e,e.return,H)}}break;case 3:if(bn(t,e),In(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ao(t.containerInfo)}catch(H){nt(e,e.return,H)}break;case 4:bn(t,e),In(e);break;case 13:bn(t,e),In(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(wd=st())),r&4&&Jf(e);break;case 22:if(j=n!==null&&n.memoizedState!==null,e.mode&1?(Pt=(g=Pt)||j,bn(t,e),Pt=g):bn(t,e),In(e),r&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!j&&e.mode&1)for(ge=e,j=e.child;j!==null;){for(S=ge=j;ge!==null;){switch(_=ge,B=_.child,_.tag){case 0:case 11:case 14:case 15:eo(4,_,_.return);break;case 1:es(_,_.return);var z=_.stateNode;if(typeof z.componentWillUnmount=="function"){r=_,n=_.return;try{t=r,z.props=t.memoizedProps,z.state=t.memoizedState,z.componentWillUnmount()}catch(H){nt(r,n,H)}}break;case 5:es(_,_.return);break;case 22:if(_.memoizedState!==null){eh(S);continue}}B!==null?(B.return=_,ge=B):eh(S)}j=j.sibling}e:for(j=null,S=e;;){if(S.tag===5){if(j===null){j=S;try{i=S.stateNode,g?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(f=S.stateNode,p=S.memoizedProps.style,u=p!=null&&p.hasOwnProperty("display")?p.display:null,f.style.display=cp("display",u))}catch(H){nt(e,e.return,H)}}}else if(S.tag===6){if(j===null)try{S.stateNode.nodeValue=g?"":S.memoizedProps}catch(H){nt(e,e.return,H)}}else if((S.tag!==22&&S.tag!==23||S.memoizedState===null||S===e)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===e)break e;for(;S.sibling===null;){if(S.return===null||S.return===e)break e;j===S&&(j=null),S=S.return}j===S&&(j=null),S.sibling.return=S.return,S=S.sibling}}break;case 19:bn(t,e),In(e),r&4&&Jf(e);break;case 21:break;default:bn(t,e),In(e)}}function In(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Im(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(io(i,""),r.flags&=-33);var o=Xf(e);mc(e,o,i);break;case 3:case 4:var u=r.stateNode.containerInfo,f=Xf(e);pc(e,f,u);break;default:throw Error(ee(161))}}catch(p){nt(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ex(e,t,n){ge=e,Dm(e)}function Dm(e,t,n){for(var r=(e.mode&1)!==0;ge!==null;){var i=ge,o=i.child;if(i.tag===22&&r){var u=i.memoizedState!==null||ll;if(!u){var f=i.alternate,p=f!==null&&f.memoizedState!==null||Pt;f=ll;var g=Pt;if(ll=u,(Pt=p)&&!g)for(ge=i;ge!==null;)u=ge,p=u.child,u.tag===22&&u.memoizedState!==null?th(i):p!==null?(p.return=u,ge=p):th(i);for(;o!==null;)ge=o,Dm(o),o=o.sibling;ge=i,ll=f,Pt=g}Zf(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ge=o):Zf(e)}}function Zf(e){for(;ge!==null;){var t=ge;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pt||ca(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Pt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Sn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Af(t,o,r);break;case 3:var u=t.updateQueue;if(u!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Af(t,u,n)}break;case 5:var f=t.stateNode;if(n===null&&t.flags&4){n=f;var p=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&n.focus();break;case"img":p.src&&(n.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var j=g.memoizedState;if(j!==null){var S=j.dehydrated;S!==null&&ao(S)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}Pt||t.flags&512&&hc(t)}catch(_){nt(t,t.return,_)}}if(t===e){ge=null;break}if(n=t.sibling,n!==null){n.return=t.return,ge=n;break}ge=t.return}}function eh(e){for(;ge!==null;){var t=ge;if(t===e){ge=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ge=n;break}ge=t.return}}function th(e){for(;ge!==null;){var t=ge;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ca(4,t)}catch(p){nt(t,n,p)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(p){nt(t,i,p)}}var o=t.return;try{hc(t)}catch(p){nt(t,o,p)}break;case 5:var u=t.return;try{hc(t)}catch(p){nt(t,u,p)}}}catch(p){nt(t,t.return,p)}if(t===e){ge=null;break}var f=t.sibling;if(f!==null){f.return=t.return,ge=f;break}ge=t.return}}var tx=Math.ceil,Vl=ur.ReactCurrentDispatcher,vd=ur.ReactCurrentOwner,cn=ur.ReactCurrentBatchConfig,Ae=0,yt=null,at=null,wt=0,Qt=0,ts=Vr(0),ht=0,wo=null,bi=0,da=0,xd=0,to=null,zt=null,wd=0,ps=1/0,Zn=null,ql=!1,yc=null,Dr=null,al=!1,Rr=null,Ql=0,no=0,gc=null,Sl=-1,kl=0;function Lt(){return Ae&6?st():Sl!==-1?Sl:Sl=st()}function Ur(e){return e.mode&1?Ae&2&&wt!==0?wt&-wt:zv.transition!==null?(kl===0&&(kl=kp()),kl):(e=Ue,e!==0||(e=window.event,e=e===void 0?16:Tp(e.type)),e):1}function Cn(e,t,n,r){if(50<no)throw no=0,gc=null,Error(ee(185));Co(e,n,r),(!(Ae&2)||e!==yt)&&(e===yt&&(!(Ae&2)&&(da|=n),ht===4&&Pr(e,wt)),Kt(e,r),n===1&&Ae===0&&!(t.mode&1)&&(ps=st()+500,la&&qr()))}function Kt(e,t){var n=e.callbackNode;zg(e,t);var r=Rl(e,e===yt?wt:0);if(r===0)n!==null&&cf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&cf(n),t===1)e.tag===0?Av(nh.bind(null,e)):Yp(nh.bind(null,e)),Mv(function(){!(Ae&6)&&qr()}),n=null;else{switch(jp(r)){case 1:n=Vc;break;case 4:n=bp;break;case 16:n=Tl;break;case 536870912:n=Sp;break;default:n=Tl}n=qm(n,Um.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Um(e,t){if(Sl=-1,kl=0,Ae&6)throw Error(ee(327));var n=e.callbackNode;if(ls()&&e.callbackNode!==n)return null;var r=Rl(e,e===yt?wt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Yl(e,r);else{t=r;var i=Ae;Ae|=2;var o=Bm();(yt!==e||wt!==t)&&(Zn=null,ps=st()+500,yi(e,t));do try{ix();break}catch(f){$m(e,f)}while(!0);sd(),Vl.current=o,Ae=i,at!==null?t=0:(yt=null,wt=0,t=ht)}if(t!==0){if(t===2&&(i=Wu(e),i!==0&&(r=i,t=vc(e,i))),t===1)throw n=wo,yi(e,0),Pr(e,r),Kt(e,st()),n;if(t===6)Pr(e,r);else{if(i=e.current.alternate,!(r&30)&&!nx(i)&&(t=Yl(e,r),t===2&&(o=Wu(e),o!==0&&(r=o,t=vc(e,o))),t===1))throw n=wo,yi(e,0),Pr(e,r),Kt(e,st()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ee(345));case 2:ci(e,zt,Zn);break;case 3:if(Pr(e,r),(r&130023424)===r&&(t=wd+500-st(),10<t)){if(Rl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Lt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ju(ci.bind(null,e,zt,Zn),t);break}ci(e,zt,Zn);break;case 4:if(Pr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-Nn(r);o=1<<u,u=t[u],u>i&&(i=u),r&=~o}if(r=i,r=st()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tx(r/1960))-r,10<r){e.timeoutHandle=Ju(ci.bind(null,e,zt,Zn),r);break}ci(e,zt,Zn);break;case 5:ci(e,zt,Zn);break;default:throw Error(ee(329))}}}return Kt(e,st()),e.callbackNode===n?Um.bind(null,e):null}function vc(e,t){var n=to;return e.current.memoizedState.isDehydrated&&(yi(e,t).flags|=256),e=Yl(e,t),e!==2&&(t=zt,zt=n,t!==null&&xc(t)),e}function xc(e){zt===null?zt=e:zt.push.apply(zt,e)}function nx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!En(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pr(e,t){for(t&=~xd,t&=~da,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Nn(t),r=1<<n;e[n]=-1,t&=~r}}function nh(e){if(Ae&6)throw Error(ee(327));ls();var t=Rl(e,0);if(!(t&1))return Kt(e,st()),null;var n=Yl(e,t);if(e.tag!==0&&n===2){var r=Wu(e);r!==0&&(t=r,n=vc(e,r))}if(n===1)throw n=wo,yi(e,0),Pr(e,t),Kt(e,st()),n;if(n===6)throw Error(ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ci(e,zt,Zn),Kt(e,st()),null}function bd(e,t){var n=Ae;Ae|=1;try{return e(t)}finally{Ae=n,Ae===0&&(ps=st()+500,la&&qr())}}function Si(e){Rr!==null&&Rr.tag===0&&!(Ae&6)&&ls();var t=Ae;Ae|=1;var n=cn.transition,r=Ue;try{if(cn.transition=null,Ue=1,e)return e()}finally{Ue=r,cn.transition=n,Ae=t,!(Ae&6)&&qr()}}function Sd(){Qt=ts.current,He(ts)}function yi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ov(n)),at!==null)for(n=at.return;n!==null;){var r=n;switch(nd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Il();break;case 3:fs(),He($t),He(Tt),dd();break;case 5:cd(r);break;case 4:fs();break;case 13:He(Xe);break;case 19:He(Xe);break;case 10:od(r.type._context);break;case 22:case 23:Sd()}n=n.return}if(yt=e,at=e=$r(e.current,null),wt=Qt=t,ht=0,wo=null,xd=da=bi=0,zt=to=null,hi!==null){for(t=0;t<hi.length;t++)if(n=hi[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var u=o.next;o.next=i,r.next=u}n.pending=r}hi=null}return e}function $m(e,t){do{var n=at;try{if(sd(),xl.current=Hl,Wl){for(var r=Je.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Wl=!1}if(wi=0,mt=ft=Je=null,Zs=!1,go=0,vd.current=null,n===null||n.return===null){ht=1,wo=t,at=null;break}e:{var o=e,u=n.return,f=n,p=t;if(t=wt,f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var g=p,j=f,S=j.tag;if(!(j.mode&1)&&(S===0||S===11||S===15)){var _=j.alternate;_?(j.updateQueue=_.updateQueue,j.memoizedState=_.memoizedState,j.lanes=_.lanes):(j.updateQueue=null,j.memoizedState=null)}var B=Kf(u);if(B!==null){B.flags&=-257,Wf(B,u,f,o,t),B.mode&1&&Bf(o,g,t),t=B,p=g;var z=t.updateQueue;if(z===null){var H=new Set;H.add(p),t.updateQueue=H}else z.add(p);break e}else{if(!(t&1)){Bf(o,g,t),kd();break e}p=Error(ee(426))}}else if(qe&&f.mode&1){var Y=Kf(u);if(Y!==null){!(Y.flags&65536)&&(Y.flags|=256),Wf(Y,u,f,o,t),rd(hs(p,f));break e}}o=p=hs(p,f),ht!==4&&(ht=2),to===null?to=[o]:to.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var C=jm(o,p,t);If(o,C);break e;case 1:f=p;var w=o.type,k=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Dr===null||!Dr.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t;var $=Nm(o,f,t);If(o,$);break e}}o=o.return}while(o!==null)}Wm(n)}catch(J){t=J,at===n&&n!==null&&(at=n=n.return);continue}break}while(!0)}function Bm(){var e=Vl.current;return Vl.current=Hl,e===null?Hl:e}function kd(){(ht===0||ht===3||ht===2)&&(ht=4),yt===null||!(bi&268435455)&&!(da&268435455)||Pr(yt,wt)}function Yl(e,t){var n=Ae;Ae|=2;var r=Bm();(yt!==e||wt!==t)&&(Zn=null,yi(e,t));do try{rx();break}catch(i){$m(e,i)}while(!0);if(sd(),Ae=n,Vl.current=r,at!==null)throw Error(ee(261));return yt=null,wt=0,ht}function rx(){for(;at!==null;)Km(at)}function ix(){for(;at!==null&&!Pg();)Km(at)}function Km(e){var t=Vm(e.alternate,e,Qt);e.memoizedProps=e.pendingProps,t===null?Wm(e):at=t,vd.current=null}function Wm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Xv(n,t),n!==null){n.flags&=32767,at=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ht=6,at=null;return}}else if(n=Gv(n,t,Qt),n!==null){at=n;return}if(t=t.sibling,t!==null){at=t;return}at=t=e}while(t!==null);ht===0&&(ht=5)}function ci(e,t,n){var r=Ue,i=cn.transition;try{cn.transition=null,Ue=1,sx(e,t,n,r)}finally{cn.transition=i,Ue=r}return null}function sx(e,t,n,r){do ls();while(Rr!==null);if(Ae&6)throw Error(ee(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ee(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Dg(e,o),e===yt&&(at=yt=null,wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||al||(al=!0,qm(Tl,function(){return ls(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=cn.transition,cn.transition=null;var u=Ue;Ue=1;var f=Ae;Ae|=4,vd.current=null,Zv(e,n),zm(n,e),Nv(Gu),Ol=!!Yu,Gu=Yu=null,e.current=n,ex(n),Tg(),Ae=f,Ue=u,cn.transition=o}else e.current=n;if(al&&(al=!1,Rr=e,Ql=i),o=e.pendingLanes,o===0&&(Dr=null),Mg(n.stateNode),Kt(e,st()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=yc,yc=null,e;return Ql&1&&e.tag!==0&&ls(),o=e.pendingLanes,o&1?e===gc?no++:(no=0,gc=e):no=0,qr(),null}function ls(){if(Rr!==null){var e=jp(Ql),t=cn.transition,n=Ue;try{if(cn.transition=null,Ue=16>e?16:e,Rr===null)var r=!1;else{if(e=Rr,Rr=null,Ql=0,Ae&6)throw Error(ee(331));var i=Ae;for(Ae|=4,ge=e.current;ge!==null;){var o=ge,u=o.child;if(ge.flags&16){var f=o.deletions;if(f!==null){for(var p=0;p<f.length;p++){var g=f[p];for(ge=g;ge!==null;){var j=ge;switch(j.tag){case 0:case 11:case 15:eo(8,j,o)}var S=j.child;if(S!==null)S.return=j,ge=S;else for(;ge!==null;){j=ge;var _=j.sibling,B=j.return;if(Fm(j),j===g){ge=null;break}if(_!==null){_.return=B,ge=_;break}ge=B}}}var z=o.alternate;if(z!==null){var H=z.child;if(H!==null){z.child=null;do{var Y=H.sibling;H.sibling=null,H=Y}while(H!==null)}}ge=o}}if(o.subtreeFlags&2064&&u!==null)u.return=o,ge=u;else e:for(;ge!==null;){if(o=ge,o.flags&2048)switch(o.tag){case 0:case 11:case 15:eo(9,o,o.return)}var C=o.sibling;if(C!==null){C.return=o.return,ge=C;break e}ge=o.return}}var w=e.current;for(ge=w;ge!==null;){u=ge;var k=u.child;if(u.subtreeFlags&2064&&k!==null)k.return=u,ge=k;else e:for(u=w;ge!==null;){if(f=ge,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:ca(9,f)}}catch(J){nt(f,f.return,J)}if(f===u){ge=null;break e}var $=f.sibling;if($!==null){$.return=f.return,ge=$;break e}ge=f.return}}if(Ae=i,qr(),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(na,e)}catch{}r=!0}return r}finally{Ue=n,cn.transition=t}}return!1}function rh(e,t,n){t=hs(n,t),t=jm(e,t,1),e=zr(e,t,1),t=Lt(),e!==null&&(Co(e,1,t),Kt(e,t))}function nt(e,t,n){if(e.tag===3)rh(e,e,n);else for(;t!==null;){if(t.tag===3){rh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Dr===null||!Dr.has(r))){e=hs(n,e),e=Nm(t,e,1),t=zr(t,e,1),e=Lt(),t!==null&&(Co(t,1,e),Kt(t,e));break}}t=t.return}}function ox(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Lt(),e.pingedLanes|=e.suspendedLanes&n,yt===e&&(wt&n)===n&&(ht===4||ht===3&&(wt&130023424)===wt&&500>st()-wd?yi(e,0):xd|=n),Kt(e,t)}function Hm(e,t){t===0&&(e.mode&1?(t=Jo,Jo<<=1,!(Jo&130023424)&&(Jo=4194304)):t=1);var n=Lt();e=lr(e,t),e!==null&&(Co(e,t,n),Kt(e,n))}function lx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Hm(e,n)}function ax(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(t),Hm(e,n)}var Vm;Vm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||$t.current)Ut=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ut=!1,Yv(e,t,n);Ut=!!(e.flags&131072)}else Ut=!1,qe&&t.flags&1048576&&Gp(t,Dl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;bl(e,t),e=t.pendingProps;var i=us(t,Tt.current);os(t,n),i=hd(null,t,r,e,i,n);var o=pd();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bt(r)?(o=!0,Al(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ad(t),i.updater=ua,t.stateNode=i,i._reactInternals=t,sc(t,r,e,n),t=ac(null,t,r,!0,o,n)):(t.tag=0,qe&&o&&td(t),Mt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(bl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=cx(r),e=Sn(r,e),i){case 0:t=lc(null,t,r,e,n);break e;case 1:t=qf(null,t,r,e,n);break e;case 11:t=Hf(null,t,r,e,n);break e;case 14:t=Vf(null,t,r,Sn(r.type,e),n);break e}throw Error(ee(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Sn(r,i),lc(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Sn(r,i),qf(e,t,r,i,n);case 3:e:{if(Pm(t),e===null)throw Error(ee(387));r=t.pendingProps,o=t.memoizedState,i=o.element,nm(e,t),Bl(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=hs(Error(ee(423)),t),t=Qf(e,t,r,n,i);break e}else if(r!==i){i=hs(Error(ee(424)),t),t=Qf(e,t,r,n,i);break e}else for(Yt=Ar(t.stateNode.containerInfo.firstChild),Gt=t,qe=!0,jn=null,n=em(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(cs(),r===i){t=ar(e,t,n);break e}Mt(e,t,r,n)}t=t.child}return t;case 5:return rm(t),e===null&&nc(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,u=i.children,Xu(r,i)?u=null:o!==null&&Xu(r,o)&&(t.flags|=32),_m(e,t),Mt(e,t,u,n),t.child;case 6:return e===null&&nc(t),null;case 13:return Tm(e,t,n);case 4:return ud(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ds(t,null,r,n):Mt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Sn(r,i),Hf(e,t,r,i,n);case 7:return Mt(e,t,t.pendingProps,n),t.child;case 8:return Mt(e,t,t.pendingProps.children,n),t.child;case 12:return Mt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ke(Ul,r._currentValue),r._currentValue=u,o!==null)if(En(o.value,u)){if(o.children===i.children&&!$t.current){t=ar(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var f=o.dependencies;if(f!==null){u=o.child;for(var p=f.firstContext;p!==null;){if(p.context===r){if(o.tag===1){p=ir(-1,n&-n),p.tag=2;var g=o.updateQueue;if(g!==null){g=g.shared;var j=g.pending;j===null?p.next=p:(p.next=j.next,j.next=p),g.pending=p}}o.lanes|=n,p=o.alternate,p!==null&&(p.lanes|=n),rc(o.return,n,t),f.lanes|=n;break}p=p.next}}else if(o.tag===10)u=o.type===t.type?null:o.child;else if(o.tag===18){if(u=o.return,u===null)throw Error(ee(341));u.lanes|=n,f=u.alternate,f!==null&&(f.lanes|=n),rc(u,n,t),u=o.sibling}else u=o.child;if(u!==null)u.return=o;else for(u=o;u!==null;){if(u===t){u=null;break}if(o=u.sibling,o!==null){o.return=u.return,u=o;break}u=u.return}o=u}Mt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,os(t,n),i=dn(i),r=r(i),t.flags|=1,Mt(e,t,r,n),t.child;case 14:return r=t.type,i=Sn(r,t.pendingProps),i=Sn(r.type,i),Vf(e,t,r,i,n);case 15:return Cm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Sn(r,i),bl(e,t),t.tag=1,Bt(r)?(e=!0,Al(t)):e=!1,os(t,n),km(t,r,i),sc(t,r,i,n),ac(null,t,r,!0,e,n);case 19:return Rm(e,t,n);case 22:return Em(e,t,n)}throw Error(ee(156,t.tag))};function qm(e,t){return wp(e,t)}function ux(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,t,n,r){return new ux(e,t,n,r)}function jd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cx(e){if(typeof e=="function")return jd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Kc)return 11;if(e===Wc)return 14}return 2}function $r(e,t){var n=e.alternate;return n===null?(n=un(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jl(e,t,n,r,i,o){var u=2;if(r=e,typeof e=="function")jd(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case Hi:return gi(n.children,i,o,t);case Bc:u=8,i|=8;break;case Pu:return e=un(12,n,t,i|2),e.elementType=Pu,e.lanes=o,e;case Tu:return e=un(13,n,t,i),e.elementType=Tu,e.lanes=o,e;case Ru:return e=un(19,n,t,i),e.elementType=Ru,e.lanes=o,e;case rp:return fa(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tp:u=10;break e;case np:u=9;break e;case Kc:u=11;break e;case Wc:u=14;break e;case Cr:u=16,r=null;break e}throw Error(ee(130,e==null?e:typeof e,""))}return t=un(u,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function gi(e,t,n,r){return e=un(7,e,r,t),e.lanes=n,e}function fa(e,t,n,r){return e=un(22,e,r,t),e.elementType=rp,e.lanes=n,e.stateNode={isHidden:!1},e}function yu(e,t,n){return e=un(6,e,null,t),e.lanes=n,e}function gu(e,t,n){return t=un(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dx(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xa(0),this.expirationTimes=Xa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xa(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Nd(e,t,n,r,i,o,u,f,p){return e=new dx(e,t,n,f,p),t===1?(t=1,o===!0&&(t|=8)):t=0,o=un(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ad(o),e}function fx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Qm(e){if(!e)return Wr;e=e._reactInternals;e:{if(ji(e)!==e||e.tag!==1)throw Error(ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ee(171))}if(e.tag===1){var n=e.type;if(Bt(n))return Qp(e,n,t)}return t}function Ym(e,t,n,r,i,o,u,f,p){return e=Nd(n,r,!0,e,i,o,u,f,p),e.context=Qm(null),n=e.current,r=Lt(),i=Ur(n),o=ir(r,i),o.callback=t??null,zr(n,o,i),e.current.lanes=i,Co(e,i,r),Kt(e,r),e}function ha(e,t,n,r){var i=t.current,o=Lt(),u=Ur(i);return n=Qm(n),t.context===null?t.context=n:t.pendingContext=n,t=ir(o,u),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=zr(i,t,u),e!==null&&(Cn(e,i,u,o),vl(e,i,u)),u}function Gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ih(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Cd(e,t){ih(e,t),(e=e.alternate)&&ih(e,t)}function hx(){return null}var Gm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ed(e){this._internalRoot=e}pa.prototype.render=Ed.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ee(409));ha(e,t,null,null)};pa.prototype.unmount=Ed.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Si(function(){ha(null,e,null,null)}),t[or]=null}};function pa(e){this._internalRoot=e}pa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ep();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_r.length&&t!==0&&t<_r[n].priority;n++);_r.splice(n,0,e),n===0&&Pp(e)}};function _d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ma(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sh(){}function px(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var g=Gl(u);o.call(g)}}var u=Ym(t,r,e,0,null,!1,!1,"",sh);return e._reactRootContainer=u,e[or]=u.current,fo(e.nodeType===8?e.parentNode:e),Si(),u}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var f=r;r=function(){var g=Gl(p);f.call(g)}}var p=Nd(e,0,!1,null,null,!1,!1,"",sh);return e._reactRootContainer=p,e[or]=p.current,fo(e.nodeType===8?e.parentNode:e),Si(function(){ha(t,p,n,r)}),p}function ya(e,t,n,r,i){var o=n._reactRootContainer;if(o){var u=o;if(typeof i=="function"){var f=i;i=function(){var p=Gl(u);f.call(p)}}ha(t,u,e,i)}else u=px(n,t,e,i,r);return Gl(u)}Np=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Hs(t.pendingLanes);n!==0&&(qc(t,n|1),Kt(t,st()),!(Ae&6)&&(ps=st()+500,qr()))}break;case 13:Si(function(){var r=lr(e,1);if(r!==null){var i=Lt();Cn(r,e,1,i)}}),Cd(e,1)}};Qc=function(e){if(e.tag===13){var t=lr(e,134217728);if(t!==null){var n=Lt();Cn(t,e,134217728,n)}Cd(e,134217728)}};Cp=function(e){if(e.tag===13){var t=Ur(e),n=lr(e,t);if(n!==null){var r=Lt();Cn(n,e,t,r)}Cd(e,t)}};Ep=function(){return Ue};_p=function(e,t){var n=Ue;try{return Ue=e,t()}finally{Ue=n}};$u=function(e,t,n){switch(t){case"input":if(Lu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oa(r);if(!i)throw Error(ee(90));sp(r),Lu(r,i)}}}break;case"textarea":lp(e,n);break;case"select":t=n.value,t!=null&&ns(e,!!n.multiple,t,!1)}};pp=bd;mp=Si;var mx={usingClientEntryPoint:!1,Events:[_o,Yi,oa,fp,hp,bd]},$s={findFiberByHostInstance:fi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yx={bundleType:$s.bundleType,version:$s.version,rendererPackageName:$s.rendererPackageName,rendererConfig:$s.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=vp(e),e===null?null:e.stateNode},findFiberByHostInstance:$s.findFiberByHostInstance||hx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{na=ul.inject(yx),Dn=ul}catch{}}Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mx;Jt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_d(t))throw Error(ee(200));return fx(e,t,null,n)};Jt.createRoot=function(e,t){if(!_d(e))throw Error(ee(299));var n=!1,r="",i=Gm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Nd(e,1,!1,null,null,n,!1,r,i),e[or]=t.current,fo(e.nodeType===8?e.parentNode:e),new Ed(t)};Jt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ee(188)):(e=Object.keys(e).join(","),Error(ee(268,e)));return e=vp(t),e=e===null?null:e.stateNode,e};Jt.flushSync=function(e){return Si(e)};Jt.hydrate=function(e,t,n){if(!ma(t))throw Error(ee(200));return ya(null,e,t,!0,n)};Jt.hydrateRoot=function(e,t,n){if(!_d(e))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",u=Gm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),t=Ym(t,null,e,1,n??null,i,!1,o,u),e[or]=t.current,fo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new pa(t)};Jt.render=function(e,t,n){if(!ma(t))throw Error(ee(200));return ya(null,e,t,!1,n)};Jt.unmountComponentAtNode=function(e){if(!ma(e))throw Error(ee(40));return e._reactRootContainer?(Si(function(){ya(null,null,e,!1,function(){e._reactRootContainer=null,e[or]=null})}),!0):!1};Jt.unstable_batchedUpdates=bd;Jt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ma(n))throw Error(ee(200));if(e==null||e._reactInternals===void 0)throw Error(ee(38));return ya(e,t,n,!1,r)};Jt.version="18.3.1-next-f1338f8080-20240426";function Xm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xm)}catch(e){console.error(e)}}Xm(),Xh.exports=Jt;var gx=Xh.exports,oh=gx;Eu.createRoot=oh.createRoot,Eu.hydrateRoot=oh.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bo(){return bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bo.apply(this,arguments)}var Or;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Or||(Or={}));const lh="popstate";function vx(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:u,hash:f}=r.location;return wc("",{pathname:o,search:u,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Xl(i)}return wx(t,n,null,e)}function rt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Jm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xx(){return Math.random().toString(36).substr(2,8)}function ah(e,t){return{usr:e.state,key:e.key,idx:t}}function wc(e,t,n,r){return n===void 0&&(n=null),bo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ws(t):t,{state:n,key:t&&t.key||r||xx()})}function Xl(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ws(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function wx(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,u=i.history,f=Or.Pop,p=null,g=j();g==null&&(g=0,u.replaceState(bo({},u.state,{idx:g}),""));function j(){return(u.state||{idx:null}).idx}function S(){f=Or.Pop;let Y=j(),C=Y==null?null:Y-g;g=Y,p&&p({action:f,location:H.location,delta:C})}function _(Y,C){f=Or.Push;let w=wc(H.location,Y,C);g=j()+1;let k=ah(w,g),$=H.createHref(w);try{u.pushState(k,"",$)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;i.location.assign($)}o&&p&&p({action:f,location:H.location,delta:1})}function B(Y,C){f=Or.Replace;let w=wc(H.location,Y,C);g=j();let k=ah(w,g),$=H.createHref(w);u.replaceState(k,"",$),o&&p&&p({action:f,location:H.location,delta:0})}function z(Y){let C=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof Y=="string"?Y:Xl(Y);return w=w.replace(/ $/,"%20"),rt(C,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,C)}let H={get action(){return f},get location(){return e(i,u)},listen(Y){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(lh,S),p=Y,()=>{i.removeEventListener(lh,S),p=null}},createHref(Y){return t(i,Y)},createURL:z,encodeLocation(Y){let C=z(Y);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:_,replace:B,go(Y){return u.go(Y)}};return H}var uh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(uh||(uh={}));function bx(e,t,n){return n===void 0&&(n="/"),Sx(e,t,n)}function Sx(e,t,n,r){let i=typeof t=="string"?ws(t):t,o=ms(i.pathname||"/",n);if(o==null)return null;let u=Zm(e);kx(u);let f=null;for(let p=0;f==null&&p<u.length;++p){let g=Lx(o);f=Ox(u[p],g)}return f}function Zm(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,u,f)=>{let p={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};p.relativePath.startsWith("/")&&(rt(p.relativePath.startsWith(r),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(r.length));let g=Br([r,p.relativePath]),j=n.concat(p);o.children&&o.children.length>0&&(rt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),Zm(o.children,t,j,g)),!(o.path==null&&!o.index)&&t.push({path:g,score:Tx(g,o.index),routesMeta:j})};return e.forEach((o,u)=>{var f;if(o.path===""||!((f=o.path)!=null&&f.includes("?")))i(o,u);else for(let p of ey(o.path))i(o,u,p)}),t}function ey(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let u=ey(r.join("/")),f=[];return f.push(...u.map(p=>p===""?o:[o,p].join("/"))),i&&f.push(...u),f.map(p=>e.startsWith("/")&&p===""?"/":p)}function kx(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Rx(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const jx=/^:[\w-]+$/,Nx=3,Cx=2,Ex=1,_x=10,Px=-2,ch=e=>e==="*";function Tx(e,t){let n=e.split("/"),r=n.length;return n.some(ch)&&(r+=Px),t&&(r+=Cx),n.filter(i=>!ch(i)).reduce((i,o)=>i+(jx.test(o)?Nx:o===""?Ex:_x),r)}function Rx(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Ox(e,t,n){let{routesMeta:r}=e,i={},o="/",u=[];for(let f=0;f<r.length;++f){let p=r[f],g=f===r.length-1,j=o==="/"?t:t.slice(o.length)||"/",S=bc({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},j),_=p.route;if(!S)return null;Object.assign(i,S.params),u.push({params:i,pathname:Br([o,S.pathname]),pathnameBase:zx(Br([o,S.pathnameBase])),route:_}),S.pathnameBase!=="/"&&(o=Br([o,S.pathnameBase]))}return u}function bc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Mx(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],u=o.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:r.reduce((g,j,S)=>{let{paramName:_,isOptional:B}=j;if(_==="*"){let H=f[S]||"";u=o.slice(0,o.length-H.length).replace(/(.)\/+$/,"$1")}const z=f[S];return B&&!z?g[_]=void 0:g[_]=(z||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:u,pattern:e}}function Mx(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Jm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,p)=>(r.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Lx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Jm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ms(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Fx(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ws(e):e;return{pathname:n?n.startsWith("/")?n:Ix(n,t):t,search:Dx(r),hash:Ux(i)}}function Ix(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function vu(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ax(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ty(e,t){let n=Ax(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ny(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=ws(e):(i=bo({},e),rt(!i.pathname||!i.pathname.includes("?"),vu("?","pathname","search",i)),rt(!i.pathname||!i.pathname.includes("#"),vu("#","pathname","hash",i)),rt(!i.search||!i.search.includes("#"),vu("#","search","hash",i)));let o=e===""||i.pathname==="",u=o?"/":i.pathname,f;if(u==null)f=n;else{let S=t.length-1;if(!r&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),S-=1;i.pathname=_.join("/")}f=S>=0?t[S]:"/"}let p=Fx(i,f),g=u&&u!=="/"&&u.endsWith("/"),j=(o||u===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||j)&&(p.pathname+="/"),p}const Br=e=>e.join("/").replace(/\/\/+/g,"/"),zx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Dx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ux=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $x(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ry=["post","put","patch","delete"];new Set(ry);const Bx=["get",...ry];new Set(Bx);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function So(){return So=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},So.apply(this,arguments)}const ga=x.createContext(null),iy=x.createContext(null),Qr=x.createContext(null),va=x.createContext(null),Ni=x.createContext({outlet:null,matches:[],isDataRoute:!1}),sy=x.createContext(null);function Kx(e,t){let{relative:n}=t===void 0?{}:t;To()||rt(!1);let{basename:r,navigator:i}=x.useContext(Qr),{hash:o,pathname:u,search:f}=xa(e,{relative:n}),p=u;return r!=="/"&&(p=u==="/"?r:Br([r,u])),i.createHref({pathname:p,search:f,hash:o})}function To(){return x.useContext(va)!=null}function bs(){return To()||rt(!1),x.useContext(va).location}function oy(e){x.useContext(Qr).static||x.useLayoutEffect(e)}function Wx(){let{isDataRoute:e}=x.useContext(Ni);return e?r0():Hx()}function Hx(){To()||rt(!1);let e=x.useContext(ga),{basename:t,future:n,navigator:r}=x.useContext(Qr),{matches:i}=x.useContext(Ni),{pathname:o}=bs(),u=JSON.stringify(ty(i,n.v7_relativeSplatPath)),f=x.useRef(!1);return oy(()=>{f.current=!0}),x.useCallback(function(g,j){if(j===void 0&&(j={}),!f.current)return;if(typeof g=="number"){r.go(g);return}let S=ny(g,JSON.parse(u),o,j.relative==="path");e==null&&t!=="/"&&(S.pathname=S.pathname==="/"?t:Br([t,S.pathname])),(j.replace?r.replace:r.push)(S,j.state,j)},[t,r,u,o,e])}function xa(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=x.useContext(Qr),{matches:i}=x.useContext(Ni),{pathname:o}=bs(),u=JSON.stringify(ty(i,r.v7_relativeSplatPath));return x.useMemo(()=>ny(e,JSON.parse(u),o,n==="path"),[e,u,o,n])}function Vx(e,t){return qx(e,t)}function qx(e,t,n,r){To()||rt(!1);let{navigator:i}=x.useContext(Qr),{matches:o}=x.useContext(Ni),u=o[o.length-1],f=u?u.params:{};u&&u.pathname;let p=u?u.pathnameBase:"/";u&&u.route;let g=bs(),j;if(t){var S;let Y=typeof t=="string"?ws(t):t;p==="/"||(S=Y.pathname)!=null&&S.startsWith(p)||rt(!1),j=Y}else j=g;let _=j.pathname||"/",B=_;if(p!=="/"){let Y=p.replace(/^\//,"").split("/");B="/"+_.replace(/^\//,"").split("/").slice(Y.length).join("/")}let z=bx(e,{pathname:B}),H=Jx(z&&z.map(Y=>Object.assign({},Y,{params:Object.assign({},f,Y.params),pathname:Br([p,i.encodeLocation?i.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?p:Br([p,i.encodeLocation?i.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),o,n,r);return t&&H?x.createElement(va.Provider,{value:{location:So({pathname:"/",search:"",hash:"",state:null,key:"default"},j),navigationType:Or.Pop}},H):H}function Qx(){let e=n0(),t=$x(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:i},n):null,null)}const Yx=x.createElement(Qx,null);class Gx extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(Ni.Provider,{value:this.props.routeContext},x.createElement(sy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Xx(e){let{routeContext:t,match:n,children:r}=e,i=x.useContext(ga);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(Ni.Provider,{value:t},r)}function Jx(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let u=e,f=(i=n)==null?void 0:i.errors;if(f!=null){let j=u.findIndex(S=>S.route.id&&(f==null?void 0:f[S.route.id])!==void 0);j>=0||rt(!1),u=u.slice(0,Math.min(u.length,j+1))}let p=!1,g=-1;if(n&&r&&r.v7_partialHydration)for(let j=0;j<u.length;j++){let S=u[j];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(g=j),S.route.id){let{loaderData:_,errors:B}=n,z=S.route.loader&&_[S.route.id]===void 0&&(!B||B[S.route.id]===void 0);if(S.route.lazy||z){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((j,S,_)=>{let B,z=!1,H=null,Y=null;n&&(B=f&&S.route.id?f[S.route.id]:void 0,H=S.route.errorElement||Yx,p&&(g<0&&_===0?(i0("route-fallback"),z=!0,Y=null):g===_&&(z=!0,Y=S.route.hydrateFallbackElement||null)));let C=t.concat(u.slice(0,_+1)),w=()=>{let k;return B?k=H:z?k=Y:S.route.Component?k=x.createElement(S.route.Component,null):S.route.element?k=S.route.element:k=j,x.createElement(Xx,{match:S,routeContext:{outlet:j,matches:C,isDataRoute:n!=null},children:k})};return n&&(S.route.ErrorBoundary||S.route.errorElement||_===0)?x.createElement(Gx,{location:n.location,revalidation:n.revalidation,component:H,error:B,children:w(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):w()},null)}var ly=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ly||{}),ay=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ay||{});function Zx(e){let t=x.useContext(ga);return t||rt(!1),t}function e0(e){let t=x.useContext(iy);return t||rt(!1),t}function t0(e){let t=x.useContext(Ni);return t||rt(!1),t}function uy(e){let t=t0(),n=t.matches[t.matches.length-1];return n.route.id||rt(!1),n.route.id}function n0(){var e;let t=x.useContext(sy),n=e0(),r=uy();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function r0(){let{router:e}=Zx(ly.UseNavigateStable),t=uy(ay.UseNavigateStable),n=x.useRef(!1);return oy(()=>{n.current=!0}),x.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,So({fromRouteId:t},o)))},[e,t])}const dh={};function i0(e,t,n){dh[e]||(dh[e]=!0)}function s0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Jn(e){rt(!1)}function o0(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Or.Pop,navigator:o,static:u=!1,future:f}=e;To()&&rt(!1);let p=t.replace(/^\/*/,"/"),g=x.useMemo(()=>({basename:p,navigator:o,static:u,future:So({v7_relativeSplatPath:!1},f)}),[p,f,o,u]);typeof r=="string"&&(r=ws(r));let{pathname:j="/",search:S="",hash:_="",state:B=null,key:z="default"}=r,H=x.useMemo(()=>{let Y=ms(j,p);return Y==null?null:{location:{pathname:Y,search:S,hash:_,state:B,key:z},navigationType:i}},[p,j,S,_,B,z,i]);return H==null?null:x.createElement(Qr.Provider,{value:g},x.createElement(va.Provider,{children:n,value:H}))}function l0(e){let{children:t,location:n}=e;return Vx(Sc(t),n)}new Promise(()=>{});function Sc(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(r,i)=>{if(!x.isValidElement(r))return;let o=[...t,i];if(r.type===x.Fragment){n.push.apply(n,Sc(r.props.children,o));return}r.type!==Jn&&rt(!1),!r.props.index||!r.props.children||rt(!1);let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Sc(r.props.children,o)),n.push(u)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jl(){return Jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jl.apply(this,arguments)}function cy(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function a0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function u0(e,t){return e.button===0&&(!t||t==="_self")&&!a0(e)}const c0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],d0=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],f0="6";try{window.__reactRouterVersion=f0}catch{}const h0=x.createContext({isTransitioning:!1}),p0="startTransition",fh=og[p0];function m0(e){let{basename:t,children:n,future:r,window:i}=e,o=x.useRef();o.current==null&&(o.current=vx({window:i,v5Compat:!0}));let u=o.current,[f,p]=x.useState({action:u.action,location:u.location}),{v7_startTransition:g}=r||{},j=x.useCallback(S=>{g&&fh?fh(()=>p(S)):p(S)},[p,g]);return x.useLayoutEffect(()=>u.listen(j),[u,j]),x.useEffect(()=>s0(r),[r]),x.createElement(o0,{basename:t,children:n,location:f.location,navigationType:f.action,navigator:u,future:r})}const y0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",g0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,v0=x.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:u,state:f,target:p,to:g,preventScrollReset:j,viewTransition:S}=t,_=cy(t,c0),{basename:B}=x.useContext(Qr),z,H=!1;if(typeof g=="string"&&g0.test(g)&&(z=g,y0))try{let k=new URL(window.location.href),$=g.startsWith("//")?new URL(k.protocol+g):new URL(g),J=ms($.pathname,B);$.origin===k.origin&&J!=null?g=J+$.search+$.hash:H=!0}catch{}let Y=Kx(g,{relative:i}),C=w0(g,{replace:u,state:f,target:p,preventScrollReset:j,relative:i,viewTransition:S});function w(k){r&&r(k),k.defaultPrevented||C(k)}return x.createElement("a",Jl({},_,{href:z||Y,onClick:H||o?r:w,ref:n,target:p}))}),ii=x.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:u=!1,style:f,to:p,viewTransition:g,children:j}=t,S=cy(t,d0),_=xa(p,{relative:S.relative}),B=bs(),z=x.useContext(iy),{navigator:H,basename:Y}=x.useContext(Qr),C=z!=null&&b0(_)&&g===!0,w=H.encodeLocation?H.encodeLocation(_).pathname:_.pathname,k=B.pathname,$=z&&z.navigation&&z.navigation.location?z.navigation.location.pathname:null;i||(k=k.toLowerCase(),$=$?$.toLowerCase():null,w=w.toLowerCase()),$&&Y&&($=ms($,Y)||$);const J=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let G=k===w||!u&&k.startsWith(w)&&k.charAt(J)==="/",Q=$!=null&&($===w||!u&&$.startsWith(w)&&$.charAt(w.length)==="/"),ie={isActive:G,isPending:Q,isTransitioning:C},Ce=G?r:void 0,pe;typeof o=="function"?pe=o(ie):pe=[o,G?"active":null,Q?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let Ie=typeof f=="function"?f(ie):f;return x.createElement(v0,Jl({},S,{"aria-current":Ce,className:pe,ref:n,style:Ie,to:p,viewTransition:g}),typeof j=="function"?j(ie):j)});var kc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(kc||(kc={}));var hh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(hh||(hh={}));function x0(e){let t=x.useContext(ga);return t||rt(!1),t}function w0(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:u,viewTransition:f}=t===void 0?{}:t,p=Wx(),g=bs(),j=xa(e,{relative:u});return x.useCallback(S=>{if(u0(S,n)){S.preventDefault();let _=r!==void 0?r:Xl(g)===Xl(j);p(e,{replace:_,state:i,preventScrollReset:o,relative:u,viewTransition:f})}},[g,p,j,r,i,n,e,o,u,f])}function b0(e,t){t===void 0&&(t={});let n=x.useContext(h0);n==null&&rt(!1);let{basename:r}=x0(kc.useViewTransitionState),i=xa(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=ms(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=ms(n.nextLocation.pathname,r)||n.nextLocation.pathname;return bc(i.pathname,u)!=null||bc(i.pathname,o)!=null}let jc=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");const S0={},ph=e=>{let t;const n=new Set,r=(j,S)=>{const _=typeof j=="function"?j(t):j;if(!Object.is(_,t)){const B=t;t=S??(typeof _!="object"||_===null)?_:Object.assign({},t,_),n.forEach(z=>z(t,B))}},i=()=>t,p={setState:r,getState:i,getInitialState:()=>g,subscribe:j=>(n.add(j),()=>n.delete(j)),destroy:()=>{(S0?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},g=t=e(r,i,p);return p},k0=e=>e?ph(e):ph;var dy={exports:{}},fy={},hy={exports:{}},py={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ys=x;function j0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var N0=typeof Object.is=="function"?Object.is:j0,C0=ys.useState,E0=ys.useEffect,_0=ys.useLayoutEffect,P0=ys.useDebugValue;function T0(e,t){var n=t(),r=C0({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return _0(function(){i.value=n,i.getSnapshot=t,xu(i)&&o({inst:i})},[e,n,t]),E0(function(){return xu(i)&&o({inst:i}),e(function(){xu(i)&&o({inst:i})})},[e]),P0(n),n}function xu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!N0(e,n)}catch{return!0}}function R0(e,t){return t()}var O0=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?R0:T0;py.useSyncExternalStore=ys.useSyncExternalStore!==void 0?ys.useSyncExternalStore:O0;hy.exports=py;var M0=hy.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wa=x,L0=M0;function F0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var I0=typeof Object.is=="function"?Object.is:F0,A0=L0.useSyncExternalStore,z0=wa.useRef,D0=wa.useEffect,U0=wa.useMemo,$0=wa.useDebugValue;fy.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=z0(null);if(o.current===null){var u={hasValue:!1,value:null};o.current=u}else u=o.current;o=U0(function(){function p(B){if(!g){if(g=!0,j=B,B=r(B),i!==void 0&&u.hasValue){var z=u.value;if(i(z,B))return S=z}return S=B}if(z=S,I0(j,B))return z;var H=r(B);return i!==void 0&&i(z,H)?(j=B,z):(j=B,S=H)}var g=!1,j,S,_=n===void 0?null:n;return[function(){return p(t())},_===null?void 0:function(){return p(_())}]},[t,n,r,i]);var f=A0(e,o[0],o[1]);return D0(function(){u.hasValue=!0,u.value=f},[f]),$0(f),f};dy.exports=fy;var B0=dy.exports;const K0=Mc(B0),my={},{useDebugValue:W0}=zc,{useSyncExternalStoreWithSelector:H0}=K0;let mh=!1;const V0=e=>e;function q0(e,t=V0,n){(my?"production":void 0)!=="production"&&n&&!mh&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),mh=!0);const r=H0(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return W0(r),r}const yh=e=>{(my?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?k0(e):e,n=(r,i)=>q0(t,r,i);return Object.assign(n,t),n},Pd=e=>e?yh(e):yh,Q0=/['\u2019\u02BC](s|d)$/u,Y0=/['\u2019\u02BC]$/u,G0=new Set(["a","e","i","o","u"]),X0=["ness","ss","ous","us","is"],J0=new Map([["boonies","boonie"]]);function gh(e){return/[aeiouy]/u.test(e)}function ko(e){return G0.has(e)}function Z0(e){if(e.length<2)return!1;const t=e[e.length-1],n=e[e.length-2];return t===n&&!ko(t)}function ew(e){if(e.length<3||!e.endsWith("l"))return!1;const t=e[e.length-2],n=e[e.length-3];return t===n&&!ko(t)}function tw(e,t){return t||!e.endsWith("g")?!1:!e.endsWith("ng")}function nw(e){if(e.length<2||!e.endsWith("k"))return!1;const t=e[e.length-2];return ko(t)}function vh(e){if(e.endsWith("at")||e.endsWith("bl")||e.endsWith("iz"))return`${e}e`;let t=e,n=!1;return Z0(t)&&!["l","s","z"].includes(t[t.length-1])&&(t=t.slice(0,-1),n=!0),ew(t)?`${t}e`:tw(t,n)?`${t}e`:nw(t)?`${t}e`:t.endsWith("is")&&t.length>3?`${t}e`:t}function Td(e){let t=e.toLowerCase().normalize("NFC");if(t=t.replace(Q0,""),t=t.replace(Y0,""),t.length<=3)return t;if(t.endsWith("ier")&&t.length>5){const n=t.slice(0,-3),r=n[n.length-1],i=n[n.length-2];if(r&&i&&r===i&&!ko(r))return`${n}y`}if(t.endsWith("ied")&&t.length>3){const n=t.slice(0,-3);return t.length<=4?`${n}ie`:`${n}y`}if(t.endsWith("ies")&&t.length>3){const n=J0.get(t);if(n)return n;const r=t.slice(0,-3);return t.length<=4?`${r}ie`:`${r}y`}if(t.endsWith("ing")){const n=t.slice(0,-3);if(n.length>=3&&gh(n))return vh(n)}if(t.endsWith("ed")){const n=t.slice(0,-2);if(n.length>=2&&gh(n))return vh(n)}if(t.endsWith("ly")&&t.length>4){const n=t[t.length-3];if(n&&!ko(n))return t.slice(0,-2)}return t.endsWith("es")&&t.length>4?t.endsWith("ches")||t.endsWith("shes")||t.endsWith("xes")||t.endsWith("zes")?t.slice(0,-2):t.slice(0,-1):t.endsWith("s")&&t.length>4&&!X0.some(n=>t.endsWith(n))?t.slice(0,-1):t}const rw=new RegExp("(\\p{L}+(?:['\\u2019\\u02BC-]\\p{L}+)*)|(\\d+)|([^\\s\\p{L}\\d]+)","gu");function rr(e){const t=e.replace(/[\u0001\u0002]/g,""),n=[];let r;for(;r=rw.exec(t);){const[i,o,u,f]=r;if(o){const p=o.toLowerCase().normalize("NFC");n.push({text:i,normalized:p,stem:Td(p),isWord:!0})}else u?n.push({text:i,normalized:u,stem:u,isWord:!1}):f&&n.push({text:i,normalized:f,stem:f,isWord:!1})}return n.length>0?n:[{text:e,normalized:e,stem:e,isWord:new RegExp("\\p{L}","u").test(e)}]}var yy={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Gd,function(){var n=function(s,l){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(c[h]=d[h])})(s,l)},r=function(){return(r=Object.assign||function(s){for(var l,c=1,d=arguments.length;c<d;c++)for(var h in l=arguments[c])Object.prototype.hasOwnProperty.call(l,h)&&(s[h]=l[h]);return s}).apply(this,arguments)};function i(s,l,c){for(var d,h=0,m=l.length;h<m;h++)!d&&h in l||((d=d||Array.prototype.slice.call(l,0,h))[h]=l[h]);return s.concat(d||Array.prototype.slice.call(l))}var o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Gd,u=Object.keys,f=Array.isArray;function p(s,l){return typeof l!="object"||u(l).forEach(function(c){s[c]=l[c]}),s}typeof Promise>"u"||o.Promise||(o.Promise=Promise);var g=Object.getPrototypeOf,j={}.hasOwnProperty;function S(s,l){return j.call(s,l)}function _(s,l){typeof l=="function"&&(l=l(g(s))),(typeof Reflect>"u"?u:Reflect.ownKeys)(l).forEach(function(c){z(s,c,l[c])})}var B=Object.defineProperty;function z(s,l,c,d){B(s,l,p(c&&S(c,"get")&&typeof c.get=="function"?{get:c.get,set:c.set,configurable:!0}:{value:c,configurable:!0,writable:!0},d))}function H(s){return{from:function(l){return s.prototype=Object.create(l.prototype),z(s.prototype,"constructor",s),{extend:_.bind(null,s.prototype)}}}}var Y=Object.getOwnPropertyDescriptor,C=[].slice;function w(s,l,c){return C.call(s,l,c)}function k(s,l){return l(s)}function $(s){if(!s)throw new Error("Assertion Failed")}function J(s){o.setImmediate?setImmediate(s):setTimeout(s,0)}function G(s,l){if(typeof l=="string"&&S(s,l))return s[l];if(!l)return s;if(typeof l!="string"){for(var c=[],d=0,h=l.length;d<h;++d){var m=G(s,l[d]);c.push(m)}return c}var y=l.indexOf(".");if(y!==-1){var b=s[l.substr(0,y)];return b==null?void 0:G(b,l.substr(y+1))}}function Q(s,l,c){if(s&&l!==void 0&&!("isFrozen"in Object&&Object.isFrozen(s)))if(typeof l!="string"&&"length"in l){$(typeof c!="string"&&"length"in c);for(var d=0,h=l.length;d<h;++d)Q(s,l[d],c[d])}else{var m,y,b=l.indexOf(".");b!==-1?(m=l.substr(0,b),(y=l.substr(b+1))===""?c===void 0?f(s)&&!isNaN(parseInt(m))?s.splice(m,1):delete s[m]:s[m]=c:Q(b=!(b=s[m])||!S(s,m)?s[m]={}:b,y,c)):c===void 0?f(s)&&!isNaN(parseInt(l))?s.splice(l,1):delete s[l]:s[l]=c}}function ie(s){var l,c={};for(l in s)S(s,l)&&(c[l]=s[l]);return c}var Ce=[].concat;function pe(s){return Ce.apply([],s)}var tn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(pe([8,16,32,64].map(function(s){return["Int","Uint","Float"].map(function(l){return l+s+"Array"})}))).filter(function(s){return o[s]}),Ie=new Set(tn.map(function(s){return o[s]})),De=null;function oe(s){return De=new WeakMap,s=function l(c){if(!c||typeof c!="object")return c;var d=De.get(c);if(d)return d;if(f(c)){d=[],De.set(c,d);for(var h=0,m=c.length;h<m;++h)d.push(l(c[h]))}else if(Ie.has(c.constructor))d=c;else{var y,b=g(c);for(y in d=b===Object.prototype?{}:Object.create(b),De.set(c,d),c)S(c,y)&&(d[y]=l(c[y]))}return d}(s),De=null,s}var te={}.toString;function Z(s){return te.call(s).slice(8,-1)}var X=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ke=typeof X=="symbol"?function(s){var l;return s!=null&&(l=s[X])&&l.apply(s)}:function(){return null};function V(s,l){return l=s.indexOf(l),0<=l&&s.splice(l,1),0<=l}var re={};function le(s){var l,c,d,h;if(arguments.length===1){if(f(s))return s.slice();if(this===re&&typeof s=="string")return[s];if(h=ke(s)){for(c=[];!(d=h.next()).done;)c.push(d.value);return c}if(s==null)return[s];if(typeof(l=s.length)!="number")return[s];for(c=new Array(l);l--;)c[l]=s[l];return c}for(l=arguments.length,c=new Array(l);l--;)c[l]=arguments[l];return c}var we=typeof Symbol<"u"?function(s){return s[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Fe=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],on=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Fe),je={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ve(s,l){this.name=s,this.message=l}function ut(s,l){return s+". Errors: "+Object.keys(l).map(function(c){return l[c].toString()}).filter(function(c,d,h){return h.indexOf(c)===d}).join(`
`)}function At(s,l,c,d){this.failures=l,this.failedKeys=d,this.successCount=c,this.message=ut(s,l)}function ot(s,l){this.name="BulkError",this.failures=Object.keys(l).map(function(c){return l[c]}),this.failuresByPos=l,this.message=ut(s,this.failures)}H(Ve).from(Error).extend({toString:function(){return this.name+": "+this.message}}),H(At).from(Ve),H(ot).from(Ve);var ct=on.reduce(function(s,l){return s[l]=l+"Error",s},{}),Ss=Ve,A=on.reduce(function(s,l){var c=l+"Error";function d(h,m){this.name=c,h?typeof h=="string"?(this.message="".concat(h).concat(m?`
 `+m:""),this.inner=m||null):typeof h=="object"&&(this.message="".concat(h.name," ").concat(h.message),this.inner=h):(this.message=je[l]||c,this.inner=null)}return H(d).from(Ss),s[l]=d,s},{});A.Syntax=SyntaxError,A.Type=TypeError,A.Range=RangeError;var Ee=Fe.reduce(function(s,l){return s[l+"Error"]=A[l],s},{}),be=on.reduce(function(s,l){return["Syntax","Type","Range"].indexOf(l)===-1&&(s[l+"Error"]=A[l]),s},{});function xe(){}function ze(s){return s}function dt(s,l){return s==null||s===ze?l:function(c){return l(s(c))}}function lt(s,l){return function(){s.apply(this,arguments),l.apply(this,arguments)}}function $n(s,l){return s===xe?l:function(){var c=s.apply(this,arguments);c!==void 0&&(arguments[0]=c);var d=this.onsuccess,h=this.onerror;this.onsuccess=null,this.onerror=null;var m=l.apply(this,arguments);return d&&(this.onsuccess=this.onsuccess?lt(d,this.onsuccess):d),h&&(this.onerror=this.onerror?lt(h,this.onerror):h),m!==void 0?m:c}}function et(s,l){return s===xe?l:function(){s.apply(this,arguments);var c=this.onsuccess,d=this.onerror;this.onsuccess=this.onerror=null,l.apply(this,arguments),c&&(this.onsuccess=this.onsuccess?lt(c,this.onsuccess):c),d&&(this.onerror=this.onerror?lt(d,this.onerror):d)}}function cr(s,l){return s===xe?l:function(c){var d=s.apply(this,arguments);p(c,d);var h=this.onsuccess,m=this.onerror;return this.onsuccess=null,this.onerror=null,c=l.apply(this,arguments),h&&(this.onsuccess=this.onsuccess?lt(h,this.onsuccess):h),m&&(this.onerror=this.onerror?lt(m,this.onerror):m),d===void 0?c===void 0?void 0:c:p(d,c)}}function Ci(s,l){return s===xe?l:function(){return l.apply(this,arguments)!==!1&&s.apply(this,arguments)}}function dr(s,l){return s===xe?l:function(){var c=s.apply(this,arguments);if(c&&typeof c.then=="function"){for(var d=this,h=arguments.length,m=new Array(h);h--;)m[h]=arguments[h];return c.then(function(){return l.apply(d,m)})}return l.apply(this,arguments)}}be.ModifyError=At,be.DexieError=Ve,be.BulkError=ot;var en=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ei(s){en=s}var fr={},ks=100,tn=typeof Promise>"u"?[]:function(){var s=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[s,g(s),s];var l=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[l,g(l),s]}(),Fe=tn[0],on=tn[1],tn=tn[2],on=on&&on.then,nn=Fe&&Fe.constructor,hr=!!tn,hn=function(s,l){pr.push([s,l]),Bn&&(queueMicrotask(yr),Bn=!1)},Yr=!0,Bn=!0,_n=[],Gr=[],_i=ze,pn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:xe,pgp:!1,env:{},finalize:xe},ve=pn,pr=[],Pn=0,St=[];function de(s){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var l=this._PSD=ve;if(typeof s!="function"){if(s!==fr)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Ti(this,this._value))}this._state=null,this._value=null,++l.ref,function c(d,h){try{h(function(m){if(d._state===null){if(m===d)throw new TypeError("A promise cannot be resolved with itself.");var y=d._lib&&Kn();m&&typeof m.then=="function"?c(d,function(b,E){m instanceof de?m._then(b,E):m.then(b,E)}):(d._state=!0,d._value=m,rn(d)),y&&Wn()}},Ti.bind(null,d))}catch(m){Ti(d,m)}}(this,s)}var Pi={get:function(){var s=ve,l=Oi;function c(d,h){var m=this,y=!s.global&&(s!==ve||l!==Oi),b=y&&!gn(),E=new de(function(P,M){Wt(m,new js(Li(d,s,y,b),Li(h,s,y,b),P,M,s))});return this._consoleTask&&(E._consoleTask=this._consoleTask),E}return c.prototype=fr,c},set:function(s){z(this,"then",s&&s.prototype===fr?Pi:{get:function(){return s},set:Pi.set})}};function js(s,l,c,d,h){this.onFulfilled=typeof s=="function"?s:null,this.onRejected=typeof l=="function"?l:null,this.resolve=c,this.reject=d,this.psd=h}function Ti(s,l){var c,d;Gr.push(l),s._state===null&&(c=s._lib&&Kn(),l=_i(l),s._state=!1,s._value=l,d=s,_n.some(function(h){return h._value===d._value})||_n.push(d),rn(s),c&&Wn())}function rn(s){var l=s._listeners;s._listeners=[];for(var c=0,d=l.length;c<d;++c)Wt(s,l[c]);var h=s._PSD;--h.ref||h.finalize(),Pn===0&&(++Pn,hn(function(){--Pn==0&&gr()},[]))}function Wt(s,l){if(s._state!==null){var c=s._state?l.onFulfilled:l.onRejected;if(c===null)return(s._state?l.resolve:l.reject)(s._value);++l.psd.ref,++Pn,hn(mr,[c,s,l])}else s._listeners.push(l)}function mr(s,l,c){try{var d,h=l._value;!l._state&&Gr.length&&(Gr=[]),d=en&&l._consoleTask?l._consoleTask.run(function(){return s(h)}):s(h),l._state||Gr.indexOf(h)!==-1||function(m){for(var y=_n.length;y;)if(_n[--y]._value===m._value)return _n.splice(y,1)}(l),c.resolve(d)}catch(m){c.reject(m)}finally{--Pn==0&&gr(),--c.psd.ref||c.psd.finalize()}}function yr(){vn(pn,function(){Kn()&&Wn()})}function Kn(){var s=Yr;return Bn=Yr=!1,s}function Wn(){var s,l,c;do for(;0<pr.length;)for(s=pr,pr=[],c=s.length,l=0;l<c;++l){var d=s[l];d[0].apply(null,d[1])}while(0<pr.length);Bn=Yr=!0}function gr(){var s=_n;_n=[],s.forEach(function(d){d._PSD.onunhandled.call(null,d._value,d)});for(var l=St.slice(0),c=l.length;c;)l[--c]()}function Xr(s){return new de(fr,!1,s)}function Be(s,l){var c=ve;return function(){var d=Kn(),h=ve;try{return Tn(c,!0),s.apply(this,arguments)}catch(m){l&&l(m)}finally{Tn(h,!1),d&&Wn()}}}_(de.prototype,{then:Pi,_then:function(s,l){Wt(this,new js(null,null,s,l,ve))},catch:function(s){if(arguments.length===1)return this.then(null,s);var l=s,c=arguments[1];return typeof l=="function"?this.then(null,function(d){return(d instanceof l?c:Xr)(d)}):this.then(null,function(d){return(d&&d.name===l?c:Xr)(d)})},finally:function(s){return this.then(function(l){return de.resolve(s()).then(function(){return l})},function(l){return de.resolve(s()).then(function(){return Xr(l)})})},timeout:function(s,l){var c=this;return s<1/0?new de(function(d,h){var m=setTimeout(function(){return h(new A.Timeout(l))},s);c.then(d,h).finally(clearTimeout.bind(null,m))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&z(de.prototype,Symbol.toStringTag,"Dexie.Promise"),pn.env=Ro(),_(de,{all:function(){var s=le.apply(null,arguments).map(Mi);return new de(function(l,c){s.length===0&&l([]);var d=s.length;s.forEach(function(h,m){return de.resolve(h).then(function(y){s[m]=y,--d||l(s)},c)})})},resolve:function(s){return s instanceof de?s:s&&typeof s.then=="function"?new de(function(l,c){s.then(l,c)}):new de(fr,!0,s)},reject:Xr,race:function(){var s=le.apply(null,arguments).map(Mi);return new de(function(l,c){s.map(function(d){return de.resolve(d).then(l,c)})})},PSD:{get:function(){return ve},set:function(s){return ve=s}},totalEchoes:{get:function(){return Oi}},newPSD:mn,usePSD:vn,scheduler:{get:function(){return hn},set:function(s){hn=s}},rejectionMapper:{get:function(){return _i},set:function(s){_i=s}},follow:function(s,l){return new de(function(c,d){return mn(function(h,m){var y=ve;y.unhandleds=[],y.onunhandled=m,y.finalize=lt(function(){var b,E=this;b=function(){E.unhandleds.length===0?h():m(E.unhandleds[0])},St.push(function P(){b(),St.splice(St.indexOf(P),1)}),++Pn,hn(function(){--Pn==0&&gr()},[])},y.finalize),s()},l,c,d)})}}),nn&&(nn.allSettled&&z(de,"allSettled",function(){var s=le.apply(null,arguments).map(Mi);return new de(function(l){s.length===0&&l([]);var c=s.length,d=new Array(c);s.forEach(function(h,m){return de.resolve(h).then(function(y){return d[m]={status:"fulfilled",value:y}},function(y){return d[m]={status:"rejected",reason:y}}).then(function(){return--c||l(d)})})})}),nn.any&&typeof AggregateError<"u"&&z(de,"any",function(){var s=le.apply(null,arguments).map(Mi);return new de(function(l,c){s.length===0&&c(new AggregateError([]));var d=s.length,h=new Array(d);s.forEach(function(m,y){return de.resolve(m).then(function(b){return l(b)},function(b){h[y]=b,--d||c(new AggregateError(h))})})})}),nn.withResolvers&&(de.withResolvers=nn.withResolvers));var Qe={awaits:0,echoes:0,id:0},Ri=0,vr=[],Jr=0,Oi=0,Sa=0;function mn(s,l,c,d){var h=ve,m=Object.create(h);return m.parent=h,m.ref=0,m.global=!1,m.id=++Sa,pn.env,m.env=hr?{Promise:de,PromiseProp:{value:de,configurable:!0,writable:!0},all:de.all,race:de.race,allSettled:de.allSettled,any:de.any,resolve:de.resolve,reject:de.reject}:{},l&&p(m,l),++h.ref,m.finalize=function(){--this.parent.ref||this.parent.finalize()},d=vn(m,s,c,d),m.ref===0&&m.finalize(),d}function yn(){return Qe.id||(Qe.id=++Ri),++Qe.awaits,Qe.echoes+=ks,Qe.id}function gn(){return!!Qe.awaits&&(--Qe.awaits==0&&(Qe.id=0),Qe.echoes=Qe.awaits*ks,!0)}function Mi(s){return Qe.echoes&&s&&s.constructor===nn?(yn(),s.then(function(l){return gn(),l},function(l){return gn(),Ye(l)})):s}function ka(){var s=vr[vr.length-1];vr.pop(),Tn(s,!1)}function Tn(s,l){var c,d=ve;(l?!Qe.echoes||Jr++&&s===ve:!Jr||--Jr&&s===ve)||queueMicrotask(l?(function(h){++Oi,Qe.echoes&&--Qe.echoes!=0||(Qe.echoes=Qe.awaits=Qe.id=0),vr.push(ve),Tn(h,!0)}).bind(null,s):ka),s!==ve&&(ve=s,d===pn&&(pn.env=Ro()),hr&&(c=pn.env.Promise,l=s.env,(d.global||s.global)&&(Object.defineProperty(o,"Promise",l.PromiseProp),c.all=l.all,c.race=l.race,c.resolve=l.resolve,c.reject=l.reject,l.allSettled&&(c.allSettled=l.allSettled),l.any&&(c.any=l.any))))}function Ro(){var s=o.Promise;return hr?{Promise:s,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:s.all,race:s.race,allSettled:s.allSettled,any:s.any,resolve:s.resolve,reject:s.reject}:{}}function vn(s,l,c,d,h){var m=ve;try{return Tn(s,!0),l(c,d,h)}finally{Tn(m,!1)}}function Li(s,l,c,d){return typeof s!="function"?s:function(){var h=ve;c&&yn(),Tn(l,!0);try{return s.apply(this,arguments)}finally{Tn(h,!1),d&&queueMicrotask(gn)}}}function Ns(s){Promise===nn&&Qe.echoes===0?Jr===0?s():enqueueNativeMicroTask(s):setTimeout(s,0)}(""+on).indexOf("[native code]")===-1&&(yn=gn=xe);var Ye=de.reject,Rn="",Rt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",xr="String expected.",wr=[],xn="__dbnames",Hn="readonly",Vn="readwrite";function Ht(s,l){return s?l?function(){return s.apply(this,arguments)&&l.apply(this,arguments)}:s:l}var Cs={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Zr(s){return typeof s!="string"||/\./.test(s)?function(l){return l}:function(l){return l[s]===void 0&&s in l&&delete(l=oe(l))[s],l}}function Oo(){throw A.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Oe(s,l){try{var c=On(s),d=On(l);if(c!==d)return c==="Array"?1:d==="Array"?-1:c==="binary"?1:d==="binary"?-1:c==="string"?1:d==="string"?-1:c==="Date"?1:d!=="Date"?NaN:-1;switch(c){case"number":case"Date":case"string":return l<s?1:s<l?-1:0;case"binary":return function(h,m){for(var y=h.length,b=m.length,E=y<b?y:b,P=0;P<E;++P)if(h[P]!==m[P])return h[P]<m[P]?-1:1;return y===b?0:y<b?-1:1}(qn(s),qn(l));case"Array":return function(h,m){for(var y=h.length,b=m.length,E=y<b?y:b,P=0;P<E;++P){var M=Oe(h[P],m[P]);if(M!==0)return M}return y===b?0:y<b?-1:1}(s,l)}}catch{}return NaN}function On(s){var l=typeof s;return l!="object"?l:ArrayBuffer.isView(s)?"binary":(s=Z(s),s==="ArrayBuffer"?"binary":s)}function qn(s){return s instanceof Uint8Array?s:ArrayBuffer.isView(s)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s)}function wn(s,l,c){var d=s.schema.yProps;return d?(l&&0<c.numFailures&&(l=l.filter(function(h,m){return!c.failures[m]})),Promise.all(d.map(function(h){return h=h.updatesTable,l?s.db.table(h).where("k").anyOf(l).delete():s.db.table(h).clear()})).then(function(){return c})):c}var Mn=(Fi.prototype.execute=function(s){var l=this["@@propmod"];if(l.add!==void 0){var c=l.add;if(f(c))return i(i([],f(s)?s:[],!0),c).sort();if(typeof c=="number")return(Number(s)||0)+c;if(typeof c=="bigint")try{return BigInt(s)+c}catch{return BigInt(0)+c}throw new TypeError("Invalid term ".concat(c))}if(l.remove!==void 0){var d=l.remove;if(f(d))return f(s)?s.filter(function(h){return!d.includes(h)}).sort():[];if(typeof d=="number")return Number(s)-d;if(typeof d=="bigint")try{return BigInt(s)-d}catch{return BigInt(0)-d}throw new TypeError("Invalid subtrahend ".concat(d))}return c=(c=l.replacePrefix)===null||c===void 0?void 0:c[0],c&&typeof s=="string"&&s.startsWith(c)?l.replacePrefix[1]+s.substring(c.length):s},Fi);function Fi(s){this["@@propmod"]=s}function ei(s,l){for(var c=u(l),d=c.length,h=!1,m=0;m<d;++m){var y=c[m],b=l[y],E=G(s,y);b instanceof Mn?(Q(s,y,b.execute(E)),h=!0):E!==b&&(Q(s,y,b),h=!0)}return h}var Es=($e.prototype._trans=function(s,l,c){var d=this._tx||ve.trans,h=this.name,m=en&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(s==="readonly"?"read":"write"," ").concat(this.name));function y(P,M,N){if(!N.schema[h])throw new A.NotFound("Table "+h+" not part of transaction");return l(N.idbtrans,N)}var b=Kn();try{var E=d&&d.db._novip===this.db._novip?d===ve.trans?d._promise(s,y,c):mn(function(){return d._promise(s,y,c)},{trans:d,transless:ve.transless||ve}):function P(M,N,F,T){if(M.idbdb&&(M._state.openComplete||ve.letThrough||M._vip)){var R=M._createTransaction(N,F,M._dbSchema);try{R.create(),M._state.PR1398_maxLoop=3}catch(O){return O.name===ct.InvalidState&&M.isOpen()&&0<--M._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),M.close({disableAutoOpen:!1}),M.open().then(function(){return P(M,N,F,T)})):Ye(O)}return R._promise(N,function(O,L){return mn(function(){return ve.trans=R,T(O,L,R)})}).then(function(O){if(N==="readwrite")try{R.idbtrans.commit()}catch{}return N==="readonly"?O:R._completion.then(function(){return O})})}if(M._state.openComplete)return Ye(new A.DatabaseClosed(M._state.dbOpenError));if(!M._state.isBeingOpened){if(!M._state.autoOpen)return Ye(new A.DatabaseClosed);M.open().catch(xe)}return M._state.dbReadyPromise.then(function(){return P(M,N,F,T)})}(this.db,s,[this.name],y);return m&&(E._consoleTask=m,E=E.catch(function(P){return console.trace(P),Ye(P)})),E}finally{b&&Wn()}},$e.prototype.get=function(s,l){var c=this;return s&&s.constructor===Object?this.where(s).first(l):s==null?Ye(new A.Type("Invalid argument to Table.get()")):this._trans("readonly",function(d){return c.core.get({trans:d,key:s}).then(function(h){return c.hook.reading.fire(h)})}).then(l)},$e.prototype.where=function(s){if(typeof s=="string")return new this.db.WhereClause(this,s);if(f(s))return new this.db.WhereClause(this,"[".concat(s.join("+"),"]"));var l=u(s);if(l.length===1)return this.where(l[0]).equals(s[l[0]]);var c=this.schema.indexes.concat(this.schema.primKey).filter(function(b){if(b.compound&&l.every(function(P){return 0<=b.keyPath.indexOf(P)})){for(var E=0;E<l.length;++E)if(l.indexOf(b.keyPath[E])===-1)return!1;return!0}return!1}).sort(function(b,E){return b.keyPath.length-E.keyPath.length})[0];if(c&&this.db._maxKey!==Rn){var m=c.keyPath.slice(0,l.length);return this.where(m).equals(m.map(function(E){return s[E]}))}!c&&en&&console.warn("The query ".concat(JSON.stringify(s)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(l.join("+"),"]"));var d=this.schema.idxByName;function h(b,E){return Oe(b,E)===0}var y=l.reduce(function(N,E){var P=N[0],M=N[1],N=d[E],F=s[E];return[P||N,P||!N?Ht(M,N&&N.multi?function(T){return T=G(T,E),f(T)&&T.some(function(R){return h(F,R)})}:function(T){return h(F,G(T,E))}):M]},[null,null]),m=y[0],y=y[1];return m?this.where(m.name).equals(s[m.keyPath]).filter(y):c?this.filter(y):this.where(l).equals("")},$e.prototype.filter=function(s){return this.toCollection().and(s)},$e.prototype.count=function(s){return this.toCollection().count(s)},$e.prototype.offset=function(s){return this.toCollection().offset(s)},$e.prototype.limit=function(s){return this.toCollection().limit(s)},$e.prototype.each=function(s){return this.toCollection().each(s)},$e.prototype.toArray=function(s){return this.toCollection().toArray(s)},$e.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},$e.prototype.orderBy=function(s){return new this.db.Collection(new this.db.WhereClause(this,f(s)?"[".concat(s.join("+"),"]"):s))},$e.prototype.reverse=function(){return this.toCollection().reverse()},$e.prototype.mapToClass=function(s){var l,c=this.db,d=this.name;function h(){return l!==null&&l.apply(this,arguments)||this}(this.schema.mappedClass=s).prototype instanceof Oo&&(function(E,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function M(){this.constructor=E}n(E,P),E.prototype=P===null?Object.create(P):(M.prototype=P.prototype,new M)}(h,l=s),Object.defineProperty(h.prototype,"db",{get:function(){return c},enumerable:!1,configurable:!0}),h.prototype.table=function(){return d},s=h);for(var m=new Set,y=s.prototype;y;y=g(y))Object.getOwnPropertyNames(y).forEach(function(E){return m.add(E)});function b(E){if(!E)return E;var P,M=Object.create(s.prototype);for(P in E)if(!m.has(P))try{M[P]=E[P]}catch{}return M}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=b,this.hook("reading",b),s},$e.prototype.defineClass=function(){return this.mapToClass(function(s){p(this,s)})},$e.prototype.add=function(s,l){var c=this,d=this.schema.primKey,h=d.auto,m=d.keyPath,y=s;return m&&h&&(y=Zr(m)(s)),this._trans("readwrite",function(b){return c.core.mutate({trans:b,type:"add",keys:l!=null?[l]:null,values:[y]})}).then(function(b){return b.numFailures?de.reject(b.failures[0]):b.lastResult}).then(function(b){if(m)try{Q(s,m,b)}catch{}return b})},$e.prototype.upsert=function(s,l){var c=this,d=this.schema.primKey.keyPath;return this._trans("readwrite",function(h){return c.core.get({trans:h,key:s}).then(function(m){var y=m??{};return ei(y,l),d&&Q(y,d,s),c.core.mutate({trans:h,type:"put",values:[y],keys:[s],upsert:!0,updates:{keys:[s],changeSpecs:[l]}}).then(function(b){return b.numFailures?de.reject(b.failures[0]):!!m})})})},$e.prototype.update=function(s,l){return typeof s!="object"||f(s)?this.where(":id").equals(s).modify(l):(s=G(s,this.schema.primKey.keyPath),s===void 0?Ye(new A.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(s).modify(l))},$e.prototype.put=function(s,l){var c=this,d=this.schema.primKey,h=d.auto,m=d.keyPath,y=s;return m&&h&&(y=Zr(m)(s)),this._trans("readwrite",function(b){return c.core.mutate({trans:b,type:"put",values:[y],keys:l!=null?[l]:null})}).then(function(b){return b.numFailures?de.reject(b.failures[0]):b.lastResult}).then(function(b){if(m)try{Q(s,m,b)}catch{}return b})},$e.prototype.delete=function(s){var l=this;return this._trans("readwrite",function(c){return l.core.mutate({trans:c,type:"delete",keys:[s]}).then(function(d){return wn(l,[s],d)}).then(function(d){return d.numFailures?de.reject(d.failures[0]):void 0})})},$e.prototype.clear=function(){var s=this;return this._trans("readwrite",function(l){return s.core.mutate({trans:l,type:"deleteRange",range:Cs}).then(function(c){return wn(s,null,c)})}).then(function(l){return l.numFailures?de.reject(l.failures[0]):void 0})},$e.prototype.bulkGet=function(s){var l=this;return this._trans("readonly",function(c){return l.core.getMany({keys:s,trans:c}).then(function(d){return d.map(function(h){return l.hook.reading.fire(h)})})})},$e.prototype.bulkAdd=function(s,l,c){var d=this,h=Array.isArray(l)?l:void 0,m=(c=c||(h?void 0:l))?c.allKeys:void 0;return this._trans("readwrite",function(y){var P=d.schema.primKey,b=P.auto,P=P.keyPath;if(P&&h)throw new A.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(h&&h.length!==s.length)throw new A.InvalidArgument("Arguments objects and keys must have the same length");var E=s.length,P=P&&b?s.map(Zr(P)):s;return d.core.mutate({trans:y,type:"add",keys:h,values:P,wantResults:m}).then(function(R){var N=R.numFailures,F=R.results,T=R.lastResult,R=R.failures;if(N===0)return m?F:T;throw new ot("".concat(d.name,".bulkAdd(): ").concat(N," of ").concat(E," operations failed"),R)})})},$e.prototype.bulkPut=function(s,l,c){var d=this,h=Array.isArray(l)?l:void 0,m=(c=c||(h?void 0:l))?c.allKeys:void 0;return this._trans("readwrite",function(y){var P=d.schema.primKey,b=P.auto,P=P.keyPath;if(P&&h)throw new A.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(h&&h.length!==s.length)throw new A.InvalidArgument("Arguments objects and keys must have the same length");var E=s.length,P=P&&b?s.map(Zr(P)):s;return d.core.mutate({trans:y,type:"put",keys:h,values:P,wantResults:m}).then(function(R){var N=R.numFailures,F=R.results,T=R.lastResult,R=R.failures;if(N===0)return m?F:T;throw new ot("".concat(d.name,".bulkPut(): ").concat(N," of ").concat(E," operations failed"),R)})})},$e.prototype.bulkUpdate=function(s){var l=this,c=this.core,d=s.map(function(y){return y.key}),h=s.map(function(y){return y.changes}),m=[];return this._trans("readwrite",function(y){return c.getMany({trans:y,keys:d,cache:"clone"}).then(function(b){var E=[],P=[];s.forEach(function(N,F){var T=N.key,R=N.changes,O=b[F];if(O){for(var L=0,I=Object.keys(R);L<I.length;L++){var U=I[L],W=R[U];if(U===l.schema.primKey.keyPath){if(Oe(W,T)!==0)throw new A.Constraint("Cannot update primary key in bulkUpdate()")}else Q(O,U,W)}m.push(F),E.push(T),P.push(O)}});var M=E.length;return c.mutate({trans:y,type:"put",keys:E,values:P,updates:{keys:d,changeSpecs:h}}).then(function(N){var F=N.numFailures,T=N.failures;if(F===0)return M;for(var R=0,O=Object.keys(T);R<O.length;R++){var L,I=O[R],U=m[Number(I)];U!=null&&(L=T[I],delete T[I],T[U]=L)}throw new ot("".concat(l.name,".bulkUpdate(): ").concat(F," of ").concat(M," operations failed"),T)})})})},$e.prototype.bulkDelete=function(s){var l=this,c=s.length;return this._trans("readwrite",function(d){return l.core.mutate({trans:d,type:"delete",keys:s}).then(function(h){return wn(l,s,h)})}).then(function(y){var h=y.numFailures,m=y.lastResult,y=y.failures;if(h===0)return m;throw new ot("".concat(l.name,".bulkDelete(): ").concat(h," of ").concat(c," operations failed"),y)})},$e);function $e(){}function sn(s){function l(y,b){if(b){for(var E=arguments.length,P=new Array(E-1);--E;)P[E-1]=arguments[E];return c[y].subscribe.apply(null,P),s}if(typeof y=="string")return c[y]}var c={};l.addEventType=m;for(var d=1,h=arguments.length;d<h;++d)m(arguments[d]);return l;function m(y,b,E){if(typeof y!="object"){var P;b=b||Ci;var M={subscribers:[],fire:E=E||xe,subscribe:function(N){M.subscribers.indexOf(N)===-1&&(M.subscribers.push(N),M.fire=b(M.fire,N))},unsubscribe:function(N){M.subscribers=M.subscribers.filter(function(F){return F!==N}),M.fire=M.subscribers.reduce(b,E)}};return c[y]=l[y]=M}u(P=y).forEach(function(N){var F=P[N];if(f(F))m(N,P[N][0],P[N][1]);else{if(F!=="asap")throw new A.InvalidArgument("Invalid event config");var T=m(N,ze,function(){for(var R=arguments.length,O=new Array(R);R--;)O[R]=arguments[R];T.subscribers.forEach(function(L){J(function(){L.apply(null,O)})})})}})}}function kt(s,l){return H(l).from({prototype:s}),l}function gt(s,l){return!(s.filter||s.algorithm||s.or)&&(l?s.justLimit:!s.replayFilter)}function Ii(s,l){s.filter=Ht(s.filter,l)}function Qn(s,l,c){var d=s.replayFilter;s.replayFilter=d?function(){return Ht(d(),l())}:l,s.justLimit=c&&!d}function br(s,l){if(s.isPrimKey)return l.primaryKey;var c=l.getIndexByKeyPath(s.index);if(!c)throw new A.Schema("KeyPath "+s.index+" on object store "+l.name+" is not indexed");return c}function v(s,l,c){var d=br(s,l.schema);return l.openCursor({trans:c,values:!s.keysOnly,reverse:s.dir==="prev",unique:!!s.unique,query:{index:d,range:s.range}})}function K(s,l,c,d){var h=s.replayFilter?Ht(s.filter,s.replayFilter()):s.filter;if(s.or){var m={},y=function(b,E,P){var M,N;h&&!h(E,P,function(F){return E.stop(F)},function(F){return E.fail(F)})||((N=""+(M=E.primaryKey))=="[object ArrayBuffer]"&&(N=""+new Uint8Array(M)),S(m,N)||(m[N]=!0,l(b,E,P)))};return Promise.all([s.or._iterate(y,c),D(v(s,d,c),s.algorithm,y,!s.keysOnly&&s.valueMapper)])}return D(v(s,d,c),Ht(s.algorithm,h),l,!s.keysOnly&&s.valueMapper)}function D(s,l,c,d){var h=Be(d?function(m,y,b){return c(d(m),y,b)}:c);return s.then(function(m){if(m)return m.start(function(){var y=function(){return m.continue()};l&&!l(m,function(b){return y=b},function(b){m.stop(b),y=xe},function(b){m.fail(b),y=xe})||h(m.value,m,function(b){return y=b}),y()})})}var me=(he.prototype._read=function(s,l){var c=this._ctx;return c.error?c.table._trans(null,Ye.bind(null,c.error)):c.table._trans("readonly",s).then(l)},he.prototype._write=function(s){var l=this._ctx;return l.error?l.table._trans(null,Ye.bind(null,l.error)):l.table._trans("readwrite",s,"locked")},he.prototype._addAlgorithm=function(s){var l=this._ctx;l.algorithm=Ht(l.algorithm,s)},he.prototype._iterate=function(s,l){return K(this._ctx,s,l,this._ctx.table.core)},he.prototype.clone=function(s){var l=Object.create(this.constructor.prototype),c=Object.create(this._ctx);return s&&p(c,s),l._ctx=c,l},he.prototype.raw=function(){return this._ctx.valueMapper=null,this},he.prototype.each=function(s){var l=this._ctx;return this._read(function(c){return K(l,s,c,l.table.core)})},he.prototype.count=function(s){var l=this;return this._read(function(c){var d=l._ctx,h=d.table.core;if(gt(d,!0))return h.count({trans:c,query:{index:br(d,h.schema),range:d.range}}).then(function(y){return Math.min(y,d.limit)});var m=0;return K(d,function(){return++m,!1},c,h).then(function(){return m})}).then(s)},he.prototype.sortBy=function(s,l){var c=s.split(".").reverse(),d=c[0],h=c.length-1;function m(E,P){return P?m(E[c[P]],P-1):E[d]}var y=this._ctx.dir==="next"?1:-1;function b(E,P){return Oe(m(E,h),m(P,h))*y}return this.toArray(function(E){return E.sort(b)}).then(l)},he.prototype.toArray=function(s){var l=this;return this._read(function(c){var d=l._ctx;if(d.dir==="next"&&gt(d,!0)&&0<d.limit){var h=d.valueMapper,m=br(d,d.table.core.schema);return d.table.core.query({trans:c,limit:d.limit,values:!0,query:{index:m,range:d.range}}).then(function(b){return b=b.result,h?b.map(h):b})}var y=[];return K(d,function(b){return y.push(b)},c,d.table.core).then(function(){return y})},s)},he.prototype.offset=function(s){var l=this._ctx;return s<=0||(l.offset+=s,gt(l)?Qn(l,function(){var c=s;return function(d,h){return c===0||(c===1?--c:h(function(){d.advance(c),c=0}),!1)}}):Qn(l,function(){var c=s;return function(){return--c<0}})),this},he.prototype.limit=function(s){return this._ctx.limit=Math.min(this._ctx.limit,s),Qn(this._ctx,function(){var l=s;return function(c,d,h){return--l<=0&&d(h),0<=l}},!0),this},he.prototype.until=function(s,l){return Ii(this._ctx,function(c,d,h){return!s(c.value)||(d(h),l)}),this},he.prototype.first=function(s){return this.limit(1).toArray(function(l){return l[0]}).then(s)},he.prototype.last=function(s){return this.reverse().first(s)},he.prototype.filter=function(s){var l;return Ii(this._ctx,function(c){return s(c.value)}),(l=this._ctx).isMatch=Ht(l.isMatch,s),this},he.prototype.and=function(s){return this.filter(s)},he.prototype.or=function(s){return new this.db.WhereClause(this._ctx.table,s,this)},he.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},he.prototype.desc=function(){return this.reverse()},he.prototype.eachKey=function(s){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(c,d){s(d.key,d)})},he.prototype.eachUniqueKey=function(s){return this._ctx.unique="unique",this.eachKey(s)},he.prototype.eachPrimaryKey=function(s){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(c,d){s(d.primaryKey,d)})},he.prototype.keys=function(s){var l=this._ctx;l.keysOnly=!l.isMatch;var c=[];return this.each(function(d,h){c.push(h.key)}).then(function(){return c}).then(s)},he.prototype.primaryKeys=function(s){var l=this._ctx;if(l.dir==="next"&&gt(l,!0)&&0<l.limit)return this._read(function(d){var h=br(l,l.table.core.schema);return l.table.core.query({trans:d,values:!1,limit:l.limit,query:{index:h,range:l.range}})}).then(function(d){return d.result}).then(s);l.keysOnly=!l.isMatch;var c=[];return this.each(function(d,h){c.push(h.primaryKey)}).then(function(){return c}).then(s)},he.prototype.uniqueKeys=function(s){return this._ctx.unique="unique",this.keys(s)},he.prototype.firstKey=function(s){return this.limit(1).keys(function(l){return l[0]}).then(s)},he.prototype.lastKey=function(s){return this.reverse().firstKey(s)},he.prototype.distinct=function(){var s=this._ctx,s=s.index&&s.table.schema.idxByName[s.index];if(!s||!s.multi)return this;var l={};return Ii(this._ctx,function(h){var d=h.primaryKey.toString(),h=S(l,d);return l[d]=!0,!h}),this},he.prototype.modify=function(s){var l=this,c=this._ctx;return this._write(function(d){var h=typeof s=="function"?s:function(O){return ei(O,s)},m=c.table.core,P=m.schema.primaryKey,y=P.outbound,b=P.extractKey,E=200,P=l.db._options.modifyChunkSize;P&&(E=typeof P=="object"?P[m.name]||P["*"]||200:P);function M(O,U){var I=U.failures,U=U.numFailures;F+=O-U;for(var W=0,q=u(I);W<q.length;W++){var se=q[W];N.push(I[se])}}var N=[],F=0,T=[],R=s===Se;return l.clone().primaryKeys().then(function(O){function L(U){var W=Math.min(E,O.length-U),q=O.slice(U,U+W);return(R?Promise.resolve([]):m.getMany({trans:d,keys:q,cache:"immutable"})).then(function(se){var ce=[],ne=[],ae=y?[]:null,fe=R?q:[];if(!R)for(var ue=0;ue<W;++ue){var ye=se[ue],Pe={value:oe(ye),primKey:O[U+ue]};h.call(Pe,Pe.value,Pe)!==!1&&(Pe.value==null?fe.push(O[U+ue]):y||Oe(b(ye),b(Pe.value))===0?(ne.push(Pe.value),y&&ae.push(O[U+ue])):(fe.push(O[U+ue]),ce.push(Pe.value)))}return Promise.resolve(0<ce.length&&m.mutate({trans:d,type:"add",values:ce}).then(function(Te){for(var Re in Te.failures)fe.splice(parseInt(Re),1);M(ce.length,Te)})).then(function(){return(0<ne.length||I&&typeof s=="object")&&m.mutate({trans:d,type:"put",keys:ae,values:ne,criteria:I,changeSpec:typeof s!="function"&&s,isAdditionalChunk:0<U}).then(function(Te){return M(ne.length,Te)})}).then(function(){return(0<fe.length||I&&R)&&m.mutate({trans:d,type:"delete",keys:fe,criteria:I,isAdditionalChunk:0<U}).then(function(Te){return wn(c.table,fe,Te)}).then(function(Te){return M(fe.length,Te)})}).then(function(){return O.length>U+W&&L(U+E)})})}var I=gt(c)&&c.limit===1/0&&(typeof s!="function"||R)&&{index:c.index,range:c.range};return L(0).then(function(){if(0<N.length)throw new At("Error modifying one or more objects",N,F,T);return O.length})})})},he.prototype.delete=function(){var s=this._ctx,l=s.range;return!gt(s)||s.table.schema.yProps||!s.isPrimKey&&l.type!==3?this.modify(Se):this._write(function(c){var d=s.table.core.schema.primaryKey,h=l;return s.table.core.count({trans:c,query:{index:d,range:h}}).then(function(m){return s.table.core.mutate({trans:c,type:"deleteRange",range:h}).then(function(E){var b=E.failures,E=E.numFailures;if(E)throw new At("Could not delete some values",Object.keys(b).map(function(P){return b[P]}),m-E);return m-E})})})},he);function he(){}var Se=function(s,l){return l.value=null};function Le(s,l){return s<l?-1:s===l?0:1}function Mo(s,l){return l<s?-1:s===l?0:1}function Vt(s,l,c){return s=s instanceof Md?new s.Collection(s):s,s._ctx.error=new(c||TypeError)(l),s}function Ai(s){return new s.Collection(s,function(){return Od("")}).limit(0)}function Lo(s,l,c,d){var h,m,y,b,E,P,M,N=c.length;if(!c.every(function(R){return typeof R=="string"}))return Vt(s,xr);function F(R){h=R==="next"?function(L){return L.toUpperCase()}:function(L){return L.toLowerCase()},m=R==="next"?function(L){return L.toLowerCase()}:function(L){return L.toUpperCase()},y=R==="next"?Le:Mo;var O=c.map(function(L){return{lower:m(L),upper:h(L)}}).sort(function(L,I){return y(L.lower,I.lower)});b=O.map(function(L){return L.upper}),E=O.map(function(L){return L.lower}),M=(P=R)==="next"?"":d}F("next"),s=new s.Collection(s,function(){return Sr(b[0],E[N-1]+d)}),s._ondirectionchange=function(R){F(R)};var T=0;return s._addAlgorithm(function(R,O,L){var I=R.key;if(typeof I!="string")return!1;var U=m(I);if(l(U,E,T))return!0;for(var W=null,q=T;q<N;++q){var se=function(ce,ne,ae,fe,ue,ye){for(var Pe=Math.min(ce.length,fe.length),Te=-1,Re=0;Re<Pe;++Re){var qt=ne[Re];if(qt!==fe[Re])return ue(ce[Re],ae[Re])<0?ce.substr(0,Re)+ae[Re]+ae.substr(Re+1):ue(ce[Re],fe[Re])<0?ce.substr(0,Re)+fe[Re]+ae.substr(Re+1):0<=Te?ce.substr(0,Te)+ne[Te]+ae.substr(Te+1):null;ue(ce[Re],qt)<0&&(Te=Re)}return Pe<fe.length&&ye==="next"?ce+ae.substr(ce.length):Pe<ce.length&&ye==="prev"?ce.substr(0,ae.length):Te<0?null:ce.substr(0,Te)+fe[Te]+ae.substr(Te+1)}(I,U,b[q],E[q],y,P);se===null&&W===null?T=q+1:(W===null||0<y(W,se))&&(W=se)}return O(W!==null?function(){R.continue(W+M)}:L),!1}),s}function Sr(s,l,c,d){return{type:2,lower:s,upper:l,lowerOpen:c,upperOpen:d}}function Od(s){return{type:1,lower:s,upper:s}}var Md=(Object.defineProperty(pt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),pt.prototype.between=function(s,l,c,d){c=c!==!1,d=d===!0;try{return 0<this._cmp(s,l)||this._cmp(s,l)===0&&(c||d)&&(!c||!d)?Ai(this):new this.Collection(this,function(){return Sr(s,l,!c,!d)})}catch{return Vt(this,Rt)}},pt.prototype.equals=function(s){return s==null?Vt(this,Rt):new this.Collection(this,function(){return Od(s)})},pt.prototype.above=function(s){return s==null?Vt(this,Rt):new this.Collection(this,function(){return Sr(s,void 0,!0)})},pt.prototype.aboveOrEqual=function(s){return s==null?Vt(this,Rt):new this.Collection(this,function(){return Sr(s,void 0,!1)})},pt.prototype.below=function(s){return s==null?Vt(this,Rt):new this.Collection(this,function(){return Sr(void 0,s,!1,!0)})},pt.prototype.belowOrEqual=function(s){return s==null?Vt(this,Rt):new this.Collection(this,function(){return Sr(void 0,s)})},pt.prototype.startsWith=function(s){return typeof s!="string"?Vt(this,xr):this.between(s,s+Rn,!0,!0)},pt.prototype.startsWithIgnoreCase=function(s){return s===""?this.startsWith(s):Lo(this,function(l,c){return l.indexOf(c[0])===0},[s],Rn)},pt.prototype.equalsIgnoreCase=function(s){return Lo(this,function(l,c){return l===c[0]},[s],"")},pt.prototype.anyOfIgnoreCase=function(){var s=le.apply(re,arguments);return s.length===0?Ai(this):Lo(this,function(l,c){return c.indexOf(l)!==-1},s,"")},pt.prototype.startsWithAnyOfIgnoreCase=function(){var s=le.apply(re,arguments);return s.length===0?Ai(this):Lo(this,function(l,c){return c.some(function(d){return l.indexOf(d)===0})},s,Rn)},pt.prototype.anyOf=function(){var s=this,l=le.apply(re,arguments),c=this._cmp;try{l.sort(c)}catch{return Vt(this,Rt)}if(l.length===0)return Ai(this);var d=new this.Collection(this,function(){return Sr(l[0],l[l.length-1])});d._ondirectionchange=function(m){c=m==="next"?s._ascending:s._descending,l.sort(c)};var h=0;return d._addAlgorithm(function(m,y,b){for(var E=m.key;0<c(E,l[h]);)if(++h===l.length)return y(b),!1;return c(E,l[h])===0||(y(function(){m.continue(l[h])}),!1)}),d},pt.prototype.notEqual=function(s){return this.inAnyRange([[-1/0,s],[s,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},pt.prototype.noneOf=function(){var s=le.apply(re,arguments);if(s.length===0)return new this.Collection(this);try{s.sort(this._ascending)}catch{return Vt(this,Rt)}var l=s.reduce(function(c,d){return c?c.concat([[c[c.length-1][1],d]]):[[-1/0,d]]},null);return l.push([s[s.length-1],this.db._maxKey]),this.inAnyRange(l,{includeLowers:!1,includeUppers:!1})},pt.prototype.inAnyRange=function(I,l){var c=this,d=this._cmp,h=this._ascending,m=this._descending,y=this._min,b=this._max;if(I.length===0)return Ai(this);if(!I.every(function(U){return U[0]!==void 0&&U[1]!==void 0&&h(U[0],U[1])<=0}))return Vt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",A.InvalidArgument);var E=!l||l.includeLowers!==!1,P=l&&l.includeUppers===!0,M,N=h;function F(U,W){return N(U[0],W[0])}try{(M=I.reduce(function(U,W){for(var q=0,se=U.length;q<se;++q){var ce=U[q];if(d(W[0],ce[1])<0&&0<d(W[1],ce[0])){ce[0]=y(ce[0],W[0]),ce[1]=b(ce[1],W[1]);break}}return q===se&&U.push(W),U},[])).sort(F)}catch{return Vt(this,Rt)}var T=0,R=P?function(U){return 0<h(U,M[T][1])}:function(U){return 0<=h(U,M[T][1])},O=E?function(U){return 0<m(U,M[T][0])}:function(U){return 0<=m(U,M[T][0])},L=R,I=new this.Collection(this,function(){return Sr(M[0][0],M[M.length-1][1],!E,!P)});return I._ondirectionchange=function(U){N=U==="next"?(L=R,h):(L=O,m),M.sort(F)},I._addAlgorithm(function(U,W,q){for(var se,ce=U.key;L(ce);)if(++T===M.length)return W(q),!1;return!R(se=ce)&&!O(se)||(c._cmp(ce,M[T][1])===0||c._cmp(ce,M[T][0])===0||W(function(){N===h?U.continue(M[T][0]):U.continue(M[T][1])}),!1)}),I},pt.prototype.startsWithAnyOf=function(){var s=le.apply(re,arguments);return s.every(function(l){return typeof l=="string"})?s.length===0?Ai(this):this.inAnyRange(s.map(function(l){return[l,l+Rn]})):Vt(this,"startsWithAnyOf() only works with strings")},pt);function pt(){}function Ln(s){return Be(function(l){return _s(l),s(l.target.error),!1})}function _s(s){s.stopPropagation&&s.stopPropagation(),s.preventDefault&&s.preventDefault()}var Ps="storagemutated",ja="x-storagemutated-1",kr=sn(null,Ps),Ny=(Fn.prototype._lock=function(){return $(!ve.global),++this._reculock,this._reculock!==1||ve.global||(ve.lockOwnerFor=this),this},Fn.prototype._unlock=function(){if($(!ve.global),--this._reculock==0)for(ve.global||(ve.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var s=this._blockedFuncs.shift();try{vn(s[1],s[0])}catch{}}return this},Fn.prototype._locked=function(){return this._reculock&&ve.lockOwnerFor!==this},Fn.prototype.create=function(s){var l=this;if(!this.mode)return this;var c=this.db.idbdb,d=this.db._state.dbOpenError;if($(!this.idbtrans),!s&&!c)switch(d&&d.name){case"DatabaseClosedError":throw new A.DatabaseClosed(d);case"MissingAPIError":throw new A.MissingAPI(d.message,d);default:throw new A.OpenFailed(d)}if(!this.active)throw new A.TransactionInactive;return $(this._completion._state===null),(s=this.idbtrans=s||(this.db.core||c).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Be(function(h){_s(h),l._reject(s.error)}),s.onabort=Be(function(h){_s(h),l.active&&l._reject(new A.Abort(s.error)),l.active=!1,l.on("abort").fire(h)}),s.oncomplete=Be(function(){l.active=!1,l._resolve(),"mutatedParts"in s&&kr.storagemutated.fire(s.mutatedParts)}),this},Fn.prototype._promise=function(s,l,c){var d=this;if(s==="readwrite"&&this.mode!=="readwrite")return Ye(new A.ReadOnly("Transaction is readonly"));if(!this.active)return Ye(new A.TransactionInactive);if(this._locked())return new de(function(m,y){d._blockedFuncs.push([function(){d._promise(s,l,c).then(m,y)},ve])});if(c)return mn(function(){var m=new de(function(y,b){d._lock();var E=l(y,b,d);E&&E.then&&E.then(y,b)});return m.finally(function(){return d._unlock()}),m._lib=!0,m});var h=new de(function(m,y){var b=l(m,y,d);b&&b.then&&b.then(m,y)});return h._lib=!0,h},Fn.prototype._root=function(){return this.parent?this.parent._root():this},Fn.prototype.waitFor=function(s){var l,c=this._root(),d=de.resolve(s);c._waitingFor?c._waitingFor=c._waitingFor.then(function(){return d}):(c._waitingFor=d,c._waitingQueue=[],l=c.idbtrans.objectStore(c.storeNames[0]),function m(){for(++c._spinCount;c._waitingQueue.length;)c._waitingQueue.shift()();c._waitingFor&&(l.get(-1/0).onsuccess=m)}());var h=c._waitingFor;return new de(function(m,y){d.then(function(b){return c._waitingQueue.push(Be(m.bind(null,b)))},function(b){return c._waitingQueue.push(Be(y.bind(null,b)))}).finally(function(){c._waitingFor===h&&(c._waitingFor=null)})})},Fn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new A.Abort))},Fn.prototype.table=function(s){var l=this._memoizedTables||(this._memoizedTables={});if(S(l,s))return l[s];var c=this.schema[s];if(!c)throw new A.NotFound("Table "+s+" not part of transaction");return c=new this.db.Table(s,c,this),c.core=this.db.core.table(s),l[s]=c},Fn);function Fn(){}function Na(s,l,c,d,h,m,y,b){return{name:s,keyPath:l,unique:c,multi:d,auto:h,compound:m,src:(c&&!y?"&":"")+(d?"*":"")+(h?"++":"")+Ld(l),type:b}}function Ld(s){return typeof s=="string"?s:s?"["+[].join.call(s,"+")+"]":""}function Ca(s,l,c){return{name:s,primKey:l,indexes:c,mappedClass:null,idxByName:(d=function(h){return[h.name,h]},c.reduce(function(h,m,y){return y=d(m,y),y&&(h[y[0]]=y[1]),h},{}))};var d}var Ts=function(s){try{return s.only([[]]),Ts=function(){return[[]]},[[]]}catch{return Ts=function(){return Rn},Rn}};function Ea(s){return s==null?function(){}:typeof s=="string"?(l=s).split(".").length===1?function(c){return c[l]}:function(c){return G(c,l)}:function(c){return G(c,s)};var l}function Fd(s){return[].slice.call(s)}var Cy=0;function Rs(s){return s==null?":id":typeof s=="string"?s:"[".concat(s.join("+"),"]")}function Ey(s,l,E){function d(L){if(L.type===3)return null;if(L.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var T=L.lower,R=L.upper,O=L.lowerOpen,L=L.upperOpen;return T===void 0?R===void 0?null:l.upperBound(R,!!L):R===void 0?l.lowerBound(T,!!O):l.bound(T,R,!!O,!!L)}function h(F){var T,R=F.name;return{name:R,schema:F,mutate:function(O){var L=O.trans,I=O.type,U=O.keys,W=O.values,q=O.range;return new Promise(function(se,ce){se=Be(se);var ne=L.objectStore(R),ae=ne.keyPath==null,fe=I==="put"||I==="add";if(!fe&&I!=="delete"&&I!=="deleteRange")throw new Error("Invalid operation type: "+I);var ue,ye=(U||W||{length:1}).length;if(U&&W&&U.length!==W.length)throw new Error("Given keys array must have same length as given values array.");if(ye===0)return se({numFailures:0,failures:{},results:[],lastResult:void 0});function Pe(Ot){++qt,_s(Ot)}var Te=[],Re=[],qt=0;if(I==="deleteRange"){if(q.type===4)return se({numFailures:qt,failures:Re,results:[],lastResult:void 0});q.type===3?Te.push(ue=ne.clear()):Te.push(ue=ne.delete(d(q)))}else{var ae=fe?ae?[W,U]:[W,null]:[U,null],_e=ae[0],Nt=ae[1];if(fe)for(var Ct=0;Ct<ye;++Ct)Te.push(ue=Nt&&Nt[Ct]!==void 0?ne[I](_e[Ct],Nt[Ct]):ne[I](_e[Ct])),ue.onerror=Pe;else for(Ct=0;Ct<ye;++Ct)Te.push(ue=ne[I](_e[Ct])),ue.onerror=Pe}function Vo(Ot){Ot=Ot.target.result,Te.forEach(function(ri,Ha){return ri.error!=null&&(Re[Ha]=ri.error)}),se({numFailures:qt,failures:Re,results:I==="delete"?U:Te.map(function(ri){return ri.result}),lastResult:Ot})}ue.onerror=function(Ot){Pe(Ot),Vo(Ot)},ue.onsuccess=Vo})},getMany:function(O){var L=O.trans,I=O.keys;return new Promise(function(U,W){U=Be(U);for(var q,se=L.objectStore(R),ce=I.length,ne=new Array(ce),ae=0,fe=0,ue=function(Te){Te=Te.target,ne[Te._pos]=Te.result,++fe===ae&&U(ne)},ye=Ln(W),Pe=0;Pe<ce;++Pe)I[Pe]!=null&&((q=se.get(I[Pe]))._pos=Pe,q.onsuccess=ue,q.onerror=ye,++ae);ae===0&&U(ne)})},get:function(O){var L=O.trans,I=O.key;return new Promise(function(U,W){U=Be(U);var q=L.objectStore(R).get(I);q.onsuccess=function(se){return U(se.target.result)},q.onerror=Ln(W)})},query:(T=P,function(O){return new Promise(function(L,I){L=Be(L);var U,W,q,ae=O.trans,se=O.values,ce=O.limit,ue=O.query,ne=ce===1/0?void 0:ce,fe=ue.index,ue=ue.range,ae=ae.objectStore(R),fe=fe.isPrimaryKey?ae:ae.index(fe.name),ue=d(ue);if(ce===0)return L({result:[]});T?((ne=se?fe.getAll(ue,ne):fe.getAllKeys(ue,ne)).onsuccess=function(ye){return L({result:ye.target.result})},ne.onerror=Ln(I)):(U=0,W=!se&&"openKeyCursor"in fe?fe.openKeyCursor(ue):fe.openCursor(ue),q=[],W.onsuccess=function(ye){var Pe=W.result;return Pe?(q.push(se?Pe.value:Pe.primaryKey),++U===ce?L({result:q}):void Pe.continue()):L({result:q})},W.onerror=Ln(I))})}),openCursor:function(O){var L=O.trans,I=O.values,U=O.query,W=O.reverse,q=O.unique;return new Promise(function(se,ce){se=Be(se);var fe=U.index,ne=U.range,ae=L.objectStore(R),ae=fe.isPrimaryKey?ae:ae.index(fe.name),fe=W?q?"prevunique":"prev":q?"nextunique":"next",ue=!I&&"openKeyCursor"in ae?ae.openKeyCursor(d(ne),fe):ae.openCursor(d(ne),fe);ue.onerror=Ln(ce),ue.onsuccess=Be(function(ye){var Pe,Te,Re,qt,_e=ue.result;_e?(_e.___id=++Cy,_e.done=!1,Pe=_e.continue.bind(_e),Te=(Te=_e.continuePrimaryKey)&&Te.bind(_e),Re=_e.advance.bind(_e),qt=function(){throw new Error("Cursor not stopped")},_e.trans=L,_e.stop=_e.continue=_e.continuePrimaryKey=_e.advance=function(){throw new Error("Cursor not started")},_e.fail=Be(ce),_e.next=function(){var Nt=this,Ct=1;return this.start(function(){return Ct--?Nt.continue():Nt.stop()}).then(function(){return Nt})},_e.start=function(Nt){function Ct(){if(ue.result)try{Nt()}catch(Ot){_e.fail(Ot)}else _e.done=!0,_e.start=function(){throw new Error("Cursor behind last entry")},_e.stop()}var Vo=new Promise(function(Ot,ri){Ot=Be(Ot),ue.onerror=Ln(ri),_e.fail=ri,_e.stop=function(Ha){_e.stop=_e.continue=_e.continuePrimaryKey=_e.advance=qt,Ot(Ha)}});return ue.onsuccess=Be(function(Ot){ue.onsuccess=Ct,Ct()}),_e.continue=Pe,_e.continuePrimaryKey=Te,_e.advance=Re,Ct(),Vo},se(_e)):se(null)},ce)})},count:function(O){var L=O.query,I=O.trans,U=L.index,W=L.range;return new Promise(function(q,se){var ce=I.objectStore(R),ne=U.isPrimaryKey?ce:ce.index(U.name),ce=d(W),ne=ce?ne.count(ce):ne.count();ne.onsuccess=Be(function(ae){return q(ae.target.result)}),ne.onerror=Ln(se)})}}}var m,y,b,M=(y=E,b=Fd((m=s).objectStoreNames),{schema:{name:m.name,tables:b.map(function(F){return y.objectStore(F)}).map(function(F){var T=F.keyPath,L=F.autoIncrement,R=f(T),O={},L={name:F.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:T==null,compound:R,keyPath:T,autoIncrement:L,unique:!0,extractKey:Ea(T)},indexes:Fd(F.indexNames).map(function(I){return F.index(I)}).map(function(q){var U=q.name,W=q.unique,se=q.multiEntry,q=q.keyPath,se={name:U,compound:f(q),keyPath:q,unique:W,multiEntry:se,extractKey:Ea(q)};return O[Rs(q)]=se}),getIndexByKeyPath:function(I){return O[Rs(I)]}};return O[":id"]=L.primaryKey,T!=null&&(O[Rs(T)]=L.primaryKey),L})},hasGetAll:0<b.length&&"getAll"in y.objectStore(b[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),E=M.schema,P=M.hasGetAll,M=E.tables.map(h),N={};return M.forEach(function(F){return N[F.name]=F}),{stack:"dbcore",transaction:s.transaction.bind(s),table:function(F){if(!N[F])throw new Error("Table '".concat(F,"' not found"));return N[F]},MIN_KEY:-1/0,MAX_KEY:Ts(l),schema:E}}function _y(s,l,c,d){var h=c.IDBKeyRange;return c.indexedDB,{dbcore:(d=Ey(l,h,d),s.dbcore.reduce(function(m,y){return y=y.create,r(r({},m),y(m))},d))}}function Fo(s,d){var c=d.db,d=_y(s._middlewares,c,s._deps,d);s.core=d.dbcore,s.tables.forEach(function(h){var m=h.name;s.core.schema.tables.some(function(y){return y.name===m})&&(h.core=s.core.table(m),s[m]instanceof s.Table&&(s[m].core=h.core))})}function Io(s,l,c,d){c.forEach(function(h){var m=d[h];l.forEach(function(y){var b=function E(P,M){return Y(P,M)||(P=g(P))&&E(P,M)}(y,h);(!b||"value"in b&&b.value===void 0)&&(y===s.Transaction.prototype||y instanceof s.Transaction?z(y,h,{get:function(){return this.table(h)},set:function(E){B(this,h,{value:E,writable:!0,configurable:!0,enumerable:!0})}}):y[h]=new s.Table(h,m))})})}function _a(s,l){l.forEach(function(c){for(var d in c)c[d]instanceof s.Table&&delete c[d]})}function Py(s,l){return s._cfg.version-l._cfg.version}function Ty(s,l,c,d){var h=s._dbSchema;c.objectStoreNames.contains("$meta")&&!h.$meta&&(h.$meta=Ca("$meta",Ad("")[0],[]),s._storeNames.push("$meta"));var m=s._createTransaction("readwrite",s._storeNames,h);m.create(c),m._completion.catch(d);var y=m._reject.bind(m),b=ve.transless||ve;mn(function(){return ve.trans=m,ve.transless=b,l!==0?(Fo(s,c),P=l,((E=m).storeNames.includes("$meta")?E.table("$meta").get("version").then(function(M){return M??P}):de.resolve(P)).then(function(M){return F=M,T=m,R=c,O=[],M=(N=s)._versions,L=N._dbSchema=zo(0,N.idbdb,R),(M=M.filter(function(I){return I._cfg.version>=F})).length!==0?(M.forEach(function(I){O.push(function(){var U=L,W=I._cfg.dbschema;Do(N,U,R),Do(N,W,R),L=N._dbSchema=W;var q=Pa(U,W);q.add.forEach(function(fe){Ta(R,fe[0],fe[1].primKey,fe[1].indexes)}),q.change.forEach(function(fe){if(fe.recreate)throw new A.Upgrade("Not yet support for changing primary key");var ue=R.objectStore(fe.name);fe.add.forEach(function(ye){return Ao(ue,ye)}),fe.change.forEach(function(ye){ue.deleteIndex(ye.name),Ao(ue,ye)}),fe.del.forEach(function(ye){return ue.deleteIndex(ye)})});var se=I._cfg.contentUpgrade;if(se&&I._cfg.version>F){Fo(N,R),T._memoizedTables={};var ce=ie(W);q.del.forEach(function(fe){ce[fe]=U[fe]}),_a(N,[N.Transaction.prototype]),Io(N,[N.Transaction.prototype],u(ce),ce),T.schema=ce;var ne,ae=we(se);return ae&&yn(),q=de.follow(function(){var fe;(ne=se(T))&&ae&&(fe=gn.bind(null,null),ne.then(fe,fe))}),ne&&typeof ne.then=="function"?de.resolve(ne):q.then(function(){return ne})}}),O.push(function(U){var W,q,se=I._cfg.dbschema;W=se,q=U,[].slice.call(q.db.objectStoreNames).forEach(function(ce){return W[ce]==null&&q.db.deleteObjectStore(ce)}),_a(N,[N.Transaction.prototype]),Io(N,[N.Transaction.prototype],N._storeNames,N._dbSchema),T.schema=N._dbSchema}),O.push(function(U){N.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(N.idbdb.version/10)===I._cfg.version?(N.idbdb.deleteObjectStore("$meta"),delete N._dbSchema.$meta,N._storeNames=N._storeNames.filter(function(W){return W!=="$meta"})):U.objectStore("$meta").put(I._cfg.version,"version"))})}),function I(){return O.length?de.resolve(O.shift()(T.idbtrans)).then(I):de.resolve()}().then(function(){Id(L,R)})):de.resolve();var N,F,T,R,O,L}).catch(y)):(u(h).forEach(function(M){Ta(c,M,h[M].primKey,h[M].indexes)}),Fo(s,c),void de.follow(function(){return s.on.populate.fire(m)}).catch(y));var E,P})}function Ry(s,l){Id(s._dbSchema,l),l.db.version%10!=0||l.objectStoreNames.contains("$meta")||l.db.createObjectStore("$meta").add(Math.ceil(l.db.version/10-1),"version");var c=zo(0,s.idbdb,l);Do(s,s._dbSchema,l);for(var d=0,h=Pa(c,s._dbSchema).change;d<h.length;d++){var m=function(y){if(y.change.length||y.recreate)return console.warn("Unable to patch indexes of table ".concat(y.name," because it has changes on the type of index or primary key.")),{value:void 0};var b=l.objectStore(y.name);y.add.forEach(function(E){en&&console.debug("Dexie upgrade patch: Creating missing index ".concat(y.name,".").concat(E.src)),Ao(b,E)})}(h[d]);if(typeof m=="object")return m.value}}function Pa(s,l){var c,d={del:[],add:[],change:[]};for(c in s)l[c]||d.del.push(c);for(c in l){var h=s[c],m=l[c];if(h){var y={name:c,def:m,recreate:!1,del:[],add:[],change:[]};if(""+(h.primKey.keyPath||"")!=""+(m.primKey.keyPath||"")||h.primKey.auto!==m.primKey.auto)y.recreate=!0,d.change.push(y);else{var b=h.idxByName,E=m.idxByName,P=void 0;for(P in b)E[P]||y.del.push(P);for(P in E){var M=b[P],N=E[P];M?M.src!==N.src&&y.change.push(N):y.add.push(N)}(0<y.del.length||0<y.add.length||0<y.change.length)&&d.change.push(y)}}else d.add.push([c,m])}return d}function Ta(s,l,c,d){var h=s.db.createObjectStore(l,c.keyPath?{keyPath:c.keyPath,autoIncrement:c.auto}:{autoIncrement:c.auto});return d.forEach(function(m){return Ao(h,m)}),h}function Id(s,l){u(s).forEach(function(c){l.db.objectStoreNames.contains(c)||(en&&console.debug("Dexie: Creating missing table",c),Ta(l,c,s[c].primKey,s[c].indexes))})}function Ao(s,l){s.createIndex(l.name,l.keyPath,{unique:l.unique,multiEntry:l.multi})}function zo(s,l,c){var d={};return w(l.objectStoreNames,0).forEach(function(h){for(var m=c.objectStore(h),y=Na(Ld(P=m.keyPath),P||"",!0,!1,!!m.autoIncrement,P&&typeof P!="string",!0),b=[],E=0;E<m.indexNames.length;++E){var M=m.index(m.indexNames[E]),P=M.keyPath,M=Na(M.name,P,!!M.unique,!!M.multiEntry,!1,P&&typeof P!="string",!1);b.push(M)}d[h]=Ca(h,y,b)}),d}function Do(s,l,c){for(var d=c.db.objectStoreNames,h=0;h<d.length;++h){var m=d[h],y=c.objectStore(m);s._hasGetAll="getAll"in y;for(var b=0;b<y.indexNames.length;++b){var E=y.indexNames[b],P=y.index(E).keyPath,M=typeof P=="string"?P:"["+w(P).join("+")+"]";!l[m]||(P=l[m].idxByName[M])&&(P.name=E,delete l[m].idxByName[M],l[m].idxByName[E]=P)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(s._hasGetAll=!1)}function Ad(s){return s.split(",").map(function(l,c){var m=l.split(":"),d=(h=m[1])===null||h===void 0?void 0:h.trim(),h=(l=m[0].trim()).replace(/([&*]|\+\+)/g,""),m=/^\[/.test(h)?h.match(/^\[(.*)\]$/)[1].split("+"):h;return Na(h,m||null,/\&/.test(l),/\*/.test(l),/\+\+/.test(l),f(m),c===0,d)})}var Oy=(zi.prototype._createTableSchema=Ca,zi.prototype._parseIndexSyntax=Ad,zi.prototype._parseStoresSpec=function(s,l){var c=this;u(s).forEach(function(d){if(s[d]!==null){var h=c._parseIndexSyntax(s[d]),m=h.shift();if(!m)throw new A.Schema("Invalid schema for table "+d+": "+s[d]);if(m.unique=!0,m.multi)throw new A.Schema("Primary key cannot be multiEntry*");h.forEach(function(y){if(y.auto)throw new A.Schema("Only primary key can be marked as autoIncrement (++)");if(!y.keyPath)throw new A.Schema("Index must have a name and cannot be an empty string")}),h=c._createTableSchema(d,m,h),l[d]=h}})},zi.prototype.stores=function(c){var l=this.db;this._cfg.storesSource=this._cfg.storesSource?p(this._cfg.storesSource,c):c;var c=l._versions,d={},h={};return c.forEach(function(m){p(d,m._cfg.storesSource),h=m._cfg.dbschema={},m._parseStoresSpec(d,h)}),l._dbSchema=h,_a(l,[l._allTables,l,l.Transaction.prototype]),Io(l,[l._allTables,l,l.Transaction.prototype,this._cfg.tables],u(h),h),l._storeNames=u(h),this},zi.prototype.upgrade=function(s){return this._cfg.contentUpgrade=dr(this._cfg.contentUpgrade||xe,s),this},zi);function zi(){}function Ra(s,l){var c=s._dbNamesDB;return c||(c=s._dbNamesDB=new Yn(xn,{addons:[],indexedDB:s,IDBKeyRange:l})).version(1).stores({dbnames:"name"}),c.table("dbnames")}function Oa(s){return s&&typeof s.databases=="function"}function Ma(s){return mn(function(){return ve.letThrough=!0,s()})}function La(s){return!("from"in s)}var jt=function(s,l){if(!this){var c=new jt;return s&&"d"in s&&p(c,s),c}p(this,arguments.length?{d:1,from:s,to:1<arguments.length?l:s}:{d:0})};function Os(s,l,c){var d=Oe(l,c);if(!isNaN(d)){if(0<d)throw RangeError();if(La(s))return p(s,{from:l,to:c,d:1});var h=s.l,d=s.r;if(Oe(c,s.from)<0)return h?Os(h,l,c):s.l={from:l,to:c,d:1,l:null,r:null},Dd(s);if(0<Oe(l,s.to))return d?Os(d,l,c):s.r={from:l,to:c,d:1,l:null,r:null},Dd(s);Oe(l,s.from)<0&&(s.from=l,s.l=null,s.d=d?d.d+1:1),0<Oe(c,s.to)&&(s.to=c,s.r=null,s.d=s.l?s.l.d+1:1),c=!s.r,h&&!s.l&&Ms(s,h),d&&c&&Ms(s,d)}}function Ms(s,l){La(l)||function c(d,E){var m=E.from,y=E.to,b=E.l,E=E.r;Os(d,m,y),b&&c(d,b),E&&c(d,E)}(s,l)}function zd(s,l){var c=Uo(l),d=c.next();if(d.done)return!1;for(var h=d.value,m=Uo(s),y=m.next(h.from),b=y.value;!d.done&&!y.done;){if(Oe(b.from,h.to)<=0&&0<=Oe(b.to,h.from))return!0;Oe(h.from,b.from)<0?h=(d=c.next(b.from)).value:b=(y=m.next(h.from)).value}return!1}function Uo(s){var l=La(s)?null:{s:0,n:s};return{next:function(c){for(var d=0<arguments.length;l;)switch(l.s){case 0:if(l.s=1,d)for(;l.n.l&&Oe(c,l.n.from)<0;)l={up:l,n:l.n.l,s:1};else for(;l.n.l;)l={up:l,n:l.n.l,s:1};case 1:if(l.s=2,!d||Oe(c,l.n.to)<=0)return{value:l.n,done:!1};case 2:if(l.n.r){l.s=3,l={up:l,n:l.n.r,s:0};continue}case 3:l=l.up}return{done:!0}}}}function Dd(s){var l,c,d=(((l=s.r)===null||l===void 0?void 0:l.d)||0)-(((c=s.l)===null||c===void 0?void 0:c.d)||0),h=1<d?"r":d<-1?"l":"";h&&(l=h=="r"?"l":"r",c=r({},s),d=s[h],s.from=d.from,s.to=d.to,s[h]=d[h],c[h]=d[l],(s[l]=c).d=Ud(c)),s.d=Ud(s)}function Ud(c){var l=c.r,c=c.l;return(l?c?Math.max(l.d,c.d):l.d:c?c.d:0)+1}function $o(s,l){return u(l).forEach(function(c){s[c]?Ms(s[c],l[c]):s[c]=function d(h){var m,y,b={};for(m in h)S(h,m)&&(y=h[m],b[m]=!y||typeof y!="object"||Ie.has(y.constructor)?y:d(y));return b}(l[c])}),s}function Fa(s,l){return s.all||l.all||Object.keys(s).some(function(c){return l[c]&&zd(l[c],s[c])})}_(jt.prototype,((on={add:function(s){return Ms(this,s),this},addKey:function(s){return Os(this,s,s),this},addKeys:function(s){var l=this;return s.forEach(function(c){return Os(l,c,c)}),this},hasKey:function(s){var l=Uo(this).next(s).value;return l&&Oe(l.from,s)<=0&&0<=Oe(l.to,s)}})[X]=function(){return Uo(this)},on));var ti={},Ia={},Aa=!1;function Bo(s){$o(Ia,s),Aa||(Aa=!0,setTimeout(function(){Aa=!1,za(Ia,!(Ia={}))},0))}function za(s,l){l===void 0&&(l=!1);var c=new Set;if(s.all)for(var d=0,h=Object.values(ti);d<h.length;d++)$d(y=h[d],s,c,l);else for(var m in s){var y,b=/^idb\:\/\/(.*)\/(.*)\//.exec(m);b&&(m=b[1],b=b[2],(y=ti["idb://".concat(m,"/").concat(b)])&&$d(y,s,c,l))}c.forEach(function(E){return E()})}function $d(s,l,c,d){for(var h=[],m=0,y=Object.entries(s.queries.query);m<y.length;m++){for(var b=y[m],E=b[0],P=[],M=0,N=b[1];M<N.length;M++){var F=N[M];Fa(l,F.obsSet)?F.subscribers.forEach(function(L){return c.add(L)}):d&&P.push(F)}d&&h.push([E,P])}if(d)for(var T=0,R=h;T<R.length;T++){var O=R[T],E=O[0],P=O[1];s.queries.query[E]=P}}function My(s){var l=s._state,c=s._deps.indexedDB;if(l.isBeingOpened||s.idbdb)return l.dbReadyPromise.then(function(){return l.dbOpenError?Ye(l.dbOpenError):s});l.isBeingOpened=!0,l.dbOpenError=null,l.openComplete=!1;var d=l.openCanceller,h=Math.round(10*s.verno),m=!1;function y(){if(l.openCanceller!==d)throw new A.DatabaseClosed("db.open() was cancelled")}function b(){return new de(function(F,T){if(y(),!c)throw new A.MissingAPI;var R=s.name,O=l.autoSchema||!h?c.open(R):c.open(R,h);if(!O)throw new A.MissingAPI;O.onerror=Ln(T),O.onblocked=Be(s._fireOnBlocked),O.onupgradeneeded=Be(function(L){var I;M=O.transaction,l.autoSchema&&!s._options.allowEmptyDB?(O.onerror=_s,M.abort(),O.result.close(),(I=c.deleteDatabase(R)).onsuccess=I.onerror=Be(function(){T(new A.NoSuchDatabase("Database ".concat(R," doesnt exist")))})):(M.onerror=Ln(T),L=L.oldVersion>Math.pow(2,62)?0:L.oldVersion,N=L<1,s.idbdb=O.result,m&&Ry(s,M),Ty(s,L/10,M,T))},T),O.onsuccess=Be(function(){M=null;var L,I,U,W,q,se=s.idbdb=O.result,ce=w(se.objectStoreNames);if(0<ce.length)try{var ne=se.transaction((W=ce).length===1?W[0]:W,"readonly");if(l.autoSchema)I=se,U=ne,(L=s).verno=I.version/10,U=L._dbSchema=zo(0,I,U),L._storeNames=w(I.objectStoreNames,0),Io(L,[L._allTables],u(U),U);else if(Do(s,s._dbSchema,ne),((q=Pa(zo(0,(q=s).idbdb,ne),q._dbSchema)).add.length||q.change.some(function(ae){return ae.add.length||ae.change.length}))&&!m)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),se.close(),h=se.version+1,m=!0,F(b());Fo(s,ne)}catch{}wr.push(s),se.onversionchange=Be(function(ae){l.vcFired=!0,s.on("versionchange").fire(ae)}),se.onclose=Be(function(){s.close({disableAutoOpen:!1})}),N&&(q=s._deps,ne=R,se=q.indexedDB,q=q.IDBKeyRange,Oa(se)||ne===xn||Ra(se,q).put({name:ne}).catch(xe)),F()},T)}).catch(function(F){switch(F==null?void 0:F.name){case"UnknownError":if(0<l.PR1398_maxLoop)return l.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),b();break;case"VersionError":if(0<h)return h=0,b()}return de.reject(F)})}var E,P=l.dbReadyResolve,M=null,N=!1;return de.race([d,(typeof navigator>"u"?de.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(F){function T(){return indexedDB.databases().finally(F)}E=setInterval(T,100),T()}).finally(function(){return clearInterval(E)}):Promise.resolve()).then(b)]).then(function(){return y(),l.onReadyBeingFired=[],de.resolve(Ma(function(){return s.on.ready.fire(s.vip)})).then(function F(){if(0<l.onReadyBeingFired.length){var T=l.onReadyBeingFired.reduce(dr,xe);return l.onReadyBeingFired=[],de.resolve(Ma(function(){return T(s.vip)})).then(F)}})}).finally(function(){l.openCanceller===d&&(l.onReadyBeingFired=null,l.isBeingOpened=!1)}).catch(function(F){l.dbOpenError=F;try{M&&M.abort()}catch{}return d===l.openCanceller&&s._close(),Ye(F)}).finally(function(){l.openComplete=!0,P()}).then(function(){var F;return N&&(F={},s.tables.forEach(function(T){T.schema.indexes.forEach(function(R){R.name&&(F["idb://".concat(s.name,"/").concat(T.name,"/").concat(R.name)]=new jt(-1/0,[[[]]]))}),F["idb://".concat(s.name,"/").concat(T.name,"/")]=F["idb://".concat(s.name,"/").concat(T.name,"/:dels")]=new jt(-1/0,[[[]]])}),kr(Ps).fire(F),za(F,!0)),s})}function Da(s){function l(m){return s.next(m)}var c=h(l),d=h(function(m){return s.throw(m)});function h(m){return function(E){var b=m(E),E=b.value;return b.done?E:E&&typeof E.then=="function"?E.then(c,d):f(E)?Promise.all(E).then(c,d):c(E)}}return h(l)()}function Ko(s,l,c){for(var d=f(s)?s.slice():[s],h=0;h<c;++h)d.push(l);return d}var Ly={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(s){return r(r({},s),{table:function(l){var c=s.table(l),d=c.schema,h={},m=[];function y(N,F,T){var R=Rs(N),O=h[R]=h[R]||[],L=N==null?0:typeof N=="string"?1:N.length,I=0<F,I=r(r({},T),{name:I?"".concat(R,"(virtual-from:").concat(T.name,")"):T.name,lowLevelIndex:T,isVirtual:I,keyTail:F,keyLength:L,extractKey:Ea(N),unique:!I&&T.unique});return O.push(I),I.isPrimaryKey||m.push(I),1<L&&y(L===2?N[0]:N.slice(0,L-1),F+1,T),O.sort(function(U,W){return U.keyTail-W.keyTail}),I}l=y(d.primaryKey.keyPath,0,d.primaryKey),h[":id"]=[l];for(var b=0,E=d.indexes;b<E.length;b++){var P=E[b];y(P.keyPath,0,P)}function M(N){var F,T=N.query.index;return T.isVirtual?r(r({},N),{query:{index:T.lowLevelIndex,range:(F=N.query.range,T=T.keyTail,{type:F.type===1?2:F.type,lower:Ko(F.lower,F.lowerOpen?s.MAX_KEY:s.MIN_KEY,T),lowerOpen:!0,upper:Ko(F.upper,F.upperOpen?s.MIN_KEY:s.MAX_KEY,T),upperOpen:!0})}}):N}return r(r({},c),{schema:r(r({},d),{primaryKey:l,indexes:m,getIndexByKeyPath:function(N){return(N=h[Rs(N)])&&N[0]}}),count:function(N){return c.count(M(N))},query:function(N){return c.query(M(N))},openCursor:function(N){var F=N.query.index,T=F.keyTail,R=F.isVirtual,O=F.keyLength;return R?c.openCursor(M(N)).then(function(I){return I&&L(I)}):c.openCursor(N);function L(I){return Object.create(I,{continue:{value:function(U){U!=null?I.continue(Ko(U,N.reverse?s.MAX_KEY:s.MIN_KEY,T)):N.unique?I.continue(I.key.slice(0,O).concat(N.reverse?s.MIN_KEY:s.MAX_KEY,T)):I.continue()}},continuePrimaryKey:{value:function(U,W){I.continuePrimaryKey(Ko(U,s.MAX_KEY,T),W)}},primaryKey:{get:function(){return I.primaryKey}},key:{get:function(){var U=I.key;return O===1?U[0]:U.slice(0,O)}},value:{get:function(){return I.value}}})}}})}})}};function Ua(s,l,c,d){return c=c||{},d=d||"",u(s).forEach(function(h){var m,y,b;S(l,h)?(m=s[h],y=l[h],typeof m=="object"&&typeof y=="object"&&m&&y?(b=Z(m))!==Z(y)?c[d+h]=l[h]:b==="Object"?Ua(m,y,c,d+h+"."):m!==y&&(c[d+h]=l[h]):m!==y&&(c[d+h]=l[h])):c[d+h]=void 0}),u(l).forEach(function(h){S(s,h)||(c[d+h]=l[h])}),c}function $a(s,l){return l.type==="delete"?l.keys:l.keys||l.values.map(s.extractKey)}var Fy={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(s){return r(r({},s),{table:function(l){var c=s.table(l),d=c.schema.primaryKey;return r(r({},c),{mutate:function(h){var m=ve.trans,y=m.table(l).hook,b=y.deleting,E=y.creating,P=y.updating;switch(h.type){case"add":if(E.fire===xe)break;return m._promise("readwrite",function(){return M(h)},!0);case"put":if(E.fire===xe&&P.fire===xe)break;return m._promise("readwrite",function(){return M(h)},!0);case"delete":if(b.fire===xe)break;return m._promise("readwrite",function(){return M(h)},!0);case"deleteRange":if(b.fire===xe)break;return m._promise("readwrite",function(){return function N(F,T,R){return c.query({trans:F,values:!1,query:{index:d,range:T},limit:R}).then(function(O){var L=O.result;return M({type:"delete",keys:L,trans:F}).then(function(I){return 0<I.numFailures?Promise.reject(I.failures[0]):L.length<R?{failures:[],numFailures:0,lastResult:void 0}:N(F,r(r({},T),{lower:L[L.length-1],lowerOpen:!0}),R)})})}(h.trans,h.range,1e4)},!0)}return c.mutate(h);function M(N){var F,T,R,O=ve.trans,L=N.keys||$a(d,N);if(!L)throw new Error("Keys missing");return(N=N.type==="add"||N.type==="put"?r(r({},N),{keys:L}):r({},N)).type!=="delete"&&(N.values=i([],N.values)),N.keys&&(N.keys=i([],N.keys)),F=c,R=L,((T=N).type==="add"?Promise.resolve([]):F.getMany({trans:T.trans,keys:R,cache:"immutable"})).then(function(I){var U=L.map(function(W,q){var se,ce,ne,ae=I[q],fe={onerror:null,onsuccess:null};return N.type==="delete"?b.fire.call(fe,W,ae,O):N.type==="add"||ae===void 0?(se=E.fire.call(fe,W,N.values[q],O),W==null&&se!=null&&(N.keys[q]=W=se,d.outbound||Q(N.values[q],d.keyPath,W))):(se=Ua(ae,N.values[q]),(ce=P.fire.call(fe,se,W,ae,O))&&(ne=N.values[q],Object.keys(ce).forEach(function(ue){S(ne,ue)?ne[ue]=ce[ue]:Q(ne,ue,ce[ue])}))),fe});return c.mutate(N).then(function(W){for(var q=W.failures,se=W.results,ce=W.numFailures,W=W.lastResult,ne=0;ne<L.length;++ne){var ae=(se||L)[ne],fe=U[ne];ae==null?fe.onerror&&fe.onerror(q[ne]):fe.onsuccess&&fe.onsuccess(N.type==="put"&&I[ne]?N.values[ne]:ae)}return{failures:q,results:se,numFailures:ce,lastResult:W}}).catch(function(W){return U.forEach(function(q){return q.onerror&&q.onerror(W)}),Promise.reject(W)})})}}})}})}};function Bd(s,l,c){try{if(!l||l.keys.length<s.length)return null;for(var d=[],h=0,m=0;h<l.keys.length&&m<s.length;++h)Oe(l.keys[h],s[m])===0&&(d.push(c?oe(l.values[h]):l.values[h]),++m);return d.length===s.length?d:null}catch{return null}}var Iy={stack:"dbcore",level:-1,create:function(s){return{table:function(l){var c=s.table(l);return r(r({},c),{getMany:function(d){if(!d.cache)return c.getMany(d);var h=Bd(d.keys,d.trans._cache,d.cache==="clone");return h?de.resolve(h):c.getMany(d).then(function(m){return d.trans._cache={keys:d.keys,values:d.cache==="clone"?oe(m):m},m})},mutate:function(d){return d.type!=="add"&&(d.trans._cache=null),c.mutate(d)}})}}}};function Kd(s,l){return s.trans.mode==="readonly"&&!!s.subscr&&!s.trans.explicit&&s.trans.db._options.cache!=="disabled"&&!l.schema.primaryKey.outbound}function Wd(s,l){switch(s){case"query":return l.values&&!l.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Ay={stack:"dbcore",level:0,name:"Observability",create:function(s){var l=s.schema.name,c=new jt(s.MIN_KEY,s.MAX_KEY);return r(r({},s),{transaction:function(d,h,m){if(ve.subscr&&h!=="readonly")throw new A.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ve.querier));return s.transaction(d,h,m)},table:function(d){var h=s.table(d),m=h.schema,y=m.primaryKey,N=m.indexes,b=y.extractKey,E=y.outbound,P=y.autoIncrement&&N.filter(function(T){return T.compound&&T.keyPath.includes(y.keyPath)}),M=r(r({},h),{mutate:function(T){function R(ue){return ue="idb://".concat(l,"/").concat(d,"/").concat(ue),W[ue]||(W[ue]=new jt)}var O,L,I,U=T.trans,W=T.mutatedParts||(T.mutatedParts={}),q=R(""),se=R(":dels"),ce=T.type,fe=T.type==="deleteRange"?[T.range]:T.type==="delete"?[T.keys]:T.values.length<50?[$a(y,T).filter(function(ue){return ue}),T.values]:[],ne=fe[0],ae=fe[1],fe=T.trans._cache;return f(ne)?(q.addKeys(ne),(fe=ce==="delete"||ne.length===ae.length?Bd(ne,fe):null)||se.addKeys(ne),(fe||ae)&&(O=R,L=fe,I=ae,m.indexes.forEach(function(ue){var ye=O(ue.name||"");function Pe(Re){return Re!=null?ue.extractKey(Re):null}function Te(Re){return ue.multiEntry&&f(Re)?Re.forEach(function(qt){return ye.addKey(qt)}):ye.addKey(Re)}(L||I).forEach(function(Re,Nt){var _e=L&&Pe(L[Nt]),Nt=I&&Pe(I[Nt]);Oe(_e,Nt)!==0&&(_e!=null&&Te(_e),Nt!=null&&Te(Nt))})}))):ne?(ae={from:(ae=ne.lower)!==null&&ae!==void 0?ae:s.MIN_KEY,to:(ae=ne.upper)!==null&&ae!==void 0?ae:s.MAX_KEY},se.add(ae),q.add(ae)):(q.add(c),se.add(c),m.indexes.forEach(function(ue){return R(ue.name).add(c)})),h.mutate(T).then(function(ue){return!ne||T.type!=="add"&&T.type!=="put"||(q.addKeys(ue.results),P&&P.forEach(function(ye){for(var Pe=T.values.map(function(_e){return ye.extractKey(_e)}),Te=ye.keyPath.findIndex(function(_e){return _e===y.keyPath}),Re=0,qt=ue.results.length;Re<qt;++Re)Pe[Re][Te]=ue.results[Re];R(ye.name).addKeys(Pe)})),U.mutatedParts=$o(U.mutatedParts||{},W),ue})}}),N=function(R){var O=R.query,R=O.index,O=O.range;return[R,new jt((R=O.lower)!==null&&R!==void 0?R:s.MIN_KEY,(O=O.upper)!==null&&O!==void 0?O:s.MAX_KEY)]},F={get:function(T){return[y,new jt(T.key)]},getMany:function(T){return[y,new jt().addKeys(T.keys)]},count:N,query:N,openCursor:N};return u(F).forEach(function(T){M[T]=function(R){var O=ve.subscr,L=!!O,I=Kd(ve,h)&&Wd(T,R)?R.obsSet={}:O;if(L){var U=function(ae){return ae="idb://".concat(l,"/").concat(d,"/").concat(ae),I[ae]||(I[ae]=new jt)},W=U(""),q=U(":dels"),O=F[T](R),L=O[0],O=O[1];if((T==="query"&&L.isPrimaryKey&&!R.values?q:U(L.name||"")).add(O),!L.isPrimaryKey){if(T!=="count"){var se=T==="query"&&E&&R.values&&h.query(r(r({},R),{values:!1}));return h[T].apply(this,arguments).then(function(ae){if(T==="query"){if(E&&R.values)return se.then(function(Pe){return Pe=Pe.result,W.addKeys(Pe),ae});var fe=R.values?ae.result.map(b):ae.result;(R.values?W:q).addKeys(fe)}else if(T==="openCursor"){var ue=ae,ye=R.values;return ue&&Object.create(ue,{key:{get:function(){return q.addKey(ue.primaryKey),ue.key}},primaryKey:{get:function(){var Pe=ue.primaryKey;return q.addKey(Pe),Pe}},value:{get:function(){return ye&&W.addKey(ue.primaryKey),ue.value}}})}return ae})}q.add(c)}}return h[T].apply(this,arguments)}}),M}})}};function Hd(s,l,c){if(c.numFailures===0)return l;if(l.type==="deleteRange")return null;var d=l.keys?l.keys.length:"values"in l&&l.values?l.values.length:1;return c.numFailures===d?null:(l=r({},l),f(l.keys)&&(l.keys=l.keys.filter(function(h,m){return!(m in c.failures)})),"values"in l&&f(l.values)&&(l.values=l.values.filter(function(h,m){return!(m in c.failures)})),l)}function Ba(s,l){return c=s,((d=l).lower===void 0||(d.lowerOpen?0<Oe(c,d.lower):0<=Oe(c,d.lower)))&&(s=s,(l=l).upper===void 0||(l.upperOpen?Oe(s,l.upper)<0:Oe(s,l.upper)<=0));var c,d}function Vd(s,l,F,d,h,m){if(!F||F.length===0)return s;var y=l.query.index,b=y.multiEntry,E=l.query.range,P=d.schema.primaryKey.extractKey,M=y.extractKey,N=(y.lowLevelIndex||y).extractKey,F=F.reduce(function(T,R){var O=T,L=[];if(R.type==="add"||R.type==="put")for(var I=new jt,U=R.values.length-1;0<=U;--U){var W,q=R.values[U],se=P(q);I.hasKey(se)||(W=M(q),(b&&f(W)?W.some(function(ue){return Ba(ue,E)}):Ba(W,E))&&(I.addKey(se),L.push(q)))}switch(R.type){case"add":var ce=new jt().addKeys(l.values?T.map(function(ye){return P(ye)}):T),O=T.concat(l.values?L.filter(function(ye){return ye=P(ye),!ce.hasKey(ye)&&(ce.addKey(ye),!0)}):L.map(function(ye){return P(ye)}).filter(function(ye){return!ce.hasKey(ye)&&(ce.addKey(ye),!0)}));break;case"put":var ne=new jt().addKeys(R.values.map(function(ye){return P(ye)}));O=T.filter(function(ye){return!ne.hasKey(l.values?P(ye):ye)}).concat(l.values?L:L.map(function(ye){return P(ye)}));break;case"delete":var ae=new jt().addKeys(R.keys);O=T.filter(function(ye){return!ae.hasKey(l.values?P(ye):ye)});break;case"deleteRange":var fe=R.range;O=T.filter(function(ye){return!Ba(P(ye),fe)})}return O},s);return F===s?s:(F.sort(function(T,R){return Oe(N(T),N(R))||Oe(P(T),P(R))}),l.limit&&l.limit<1/0&&(F.length>l.limit?F.length=l.limit:s.length===l.limit&&F.length<l.limit&&(h.dirty=!0)),m?Object.freeze(F):F)}function qd(s,l){return Oe(s.lower,l.lower)===0&&Oe(s.upper,l.upper)===0&&!!s.lowerOpen==!!l.lowerOpen&&!!s.upperOpen==!!l.upperOpen}function zy(s,l){return function(c,d,h,m){if(c===void 0)return d!==void 0?-1:0;if(d===void 0)return 1;if((d=Oe(c,d))===0){if(h&&m)return 0;if(h)return 1;if(m)return-1}return d}(s.lower,l.lower,s.lowerOpen,l.lowerOpen)<=0&&0<=function(c,d,h,m){if(c===void 0)return d!==void 0?1:0;if(d===void 0)return-1;if((d=Oe(c,d))===0){if(h&&m)return 0;if(h)return-1;if(m)return 1}return d}(s.upper,l.upper,s.upperOpen,l.upperOpen)}function Dy(s,l,c,d){s.subscribers.add(c),d.addEventListener("abort",function(){var h,m;s.subscribers.delete(c),s.subscribers.size===0&&(h=s,m=l,setTimeout(function(){h.subscribers.size===0&&V(m,h)},3e3))})}var Uy={stack:"dbcore",level:0,name:"Cache",create:function(s){var l=s.schema.name;return r(r({},s),{transaction:function(c,d,h){var m,y,b=s.transaction(c,d,h);return d==="readwrite"&&(y=(m=new AbortController).signal,h=function(E){return function(){if(m.abort(),d==="readwrite"){for(var P=new Set,M=0,N=c;M<N.length;M++){var F=N[M],T=ti["idb://".concat(l,"/").concat(F)];if(T){var R=s.table(F),O=T.optimisticOps.filter(function(ye){return ye.trans===b});if(b._explicit&&E&&b.mutatedParts)for(var L=0,I=Object.values(T.queries.query);L<I.length;L++)for(var U=0,W=(ce=I[L]).slice();U<W.length;U++)Fa((ne=W[U]).obsSet,b.mutatedParts)&&(V(ce,ne),ne.subscribers.forEach(function(ye){return P.add(ye)}));else if(0<O.length){T.optimisticOps=T.optimisticOps.filter(function(ye){return ye.trans!==b});for(var q=0,se=Object.values(T.queries.query);q<se.length;q++)for(var ce,ne,ae,fe=0,ue=(ce=se[q]).slice();fe<ue.length;fe++)(ne=ue[fe]).res!=null&&b.mutatedParts&&(E&&!ne.dirty?(ae=Object.isFrozen(ne.res),ae=Vd(ne.res,ne.req,O,R,ne,ae),ne.dirty?(V(ce,ne),ne.subscribers.forEach(function(ye){return P.add(ye)})):ae!==ne.res&&(ne.res=ae,ne.promise=de.resolve({result:ae}))):(ne.dirty&&V(ce,ne),ne.subscribers.forEach(function(ye){return P.add(ye)})))}}}P.forEach(function(ye){return ye()})}}},b.addEventListener("abort",h(!1),{signal:y}),b.addEventListener("error",h(!1),{signal:y}),b.addEventListener("complete",h(!0),{signal:y})),b},table:function(c){var d=s.table(c),h=d.schema.primaryKey;return r(r({},d),{mutate:function(m){var y=ve.trans;if(h.outbound||y.db._options.cache==="disabled"||y.explicit||y.idbtrans.mode!=="readwrite")return d.mutate(m);var b=ti["idb://".concat(l,"/").concat(c)];return b?(y=d.mutate(m),m.type!=="add"&&m.type!=="put"||!(50<=m.values.length||$a(h,m).some(function(E){return E==null}))?(b.optimisticOps.push(m),m.mutatedParts&&Bo(m.mutatedParts),y.then(function(E){0<E.numFailures&&(V(b.optimisticOps,m),(E=Hd(0,m,E))&&b.optimisticOps.push(E),m.mutatedParts&&Bo(m.mutatedParts))}),y.catch(function(){V(b.optimisticOps,m),m.mutatedParts&&Bo(m.mutatedParts)})):y.then(function(E){var P=Hd(0,r(r({},m),{values:m.values.map(function(M,N){var F;return E.failures[N]?M:(M=(F=h.keyPath)!==null&&F!==void 0&&F.includes(".")?oe(M):r({},M),Q(M,h.keyPath,E.results[N]),M)})}),E);b.optimisticOps.push(P),queueMicrotask(function(){return m.mutatedParts&&Bo(m.mutatedParts)})}),y):d.mutate(m)},query:function(m){if(!Kd(ve,d)||!Wd("query",m))return d.query(m);var y=((P=ve.trans)===null||P===void 0?void 0:P.db._options.cache)==="immutable",N=ve,b=N.requery,E=N.signal,P=function(R,O,L,I){var U=ti["idb://".concat(R,"/").concat(O)];if(!U)return[];if(!(O=U.queries[L]))return[null,!1,U,null];var W=O[(I.query?I.query.index.name:null)||""];if(!W)return[null,!1,U,null];switch(L){case"query":var q=W.find(function(se){return se.req.limit===I.limit&&se.req.values===I.values&&qd(se.req.query.range,I.query.range)});return q?[q,!0,U,W]:[W.find(function(se){return("limit"in se.req?se.req.limit:1/0)>=I.limit&&(!I.values||se.req.values)&&zy(se.req.query.range,I.query.range)}),!1,U,W];case"count":return q=W.find(function(se){return qd(se.req.query.range,I.query.range)}),[q,!!q,U,W]}}(l,c,"query",m),M=P[0],N=P[1],F=P[2],T=P[3];return M&&N?M.obsSet=m.obsSet:(N=d.query(m).then(function(R){var O=R.result;if(M&&(M.res=O),y){for(var L=0,I=O.length;L<I;++L)Object.freeze(O[L]);Object.freeze(O)}else R.result=oe(O);return R}).catch(function(R){return T&&M&&V(T,M),Promise.reject(R)}),M={obsSet:m.obsSet,promise:N,subscribers:new Set,type:"query",req:m,dirty:!1},T?T.push(M):(T=[M],(F=F||(ti["idb://".concat(l,"/").concat(c)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[m.query.index.name||""]=T)),Dy(M,T,b,E),M.promise.then(function(R){return{result:Vd(R.result,m,F==null?void 0:F.optimisticOps,d,M,y)}})}})}})}};function Wo(s,l){return new Proxy(s,{get:function(c,d,h){return d==="db"?l:Reflect.get(c,d,h)}})}var Yn=(it.prototype.version=function(s){if(isNaN(s)||s<.1)throw new A.Type("Given version is not a positive number");if(s=Math.round(10*s)/10,this.idbdb||this._state.isBeingOpened)throw new A.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,s);var l=this._versions,c=l.filter(function(d){return d._cfg.version===s})[0];return c||(c=new this.Version(s),l.push(c),l.sort(Py),c.stores({}),this._state.autoSchema=!1,c)},it.prototype._whenReady=function(s){var l=this;return this.idbdb&&(this._state.openComplete||ve.letThrough||this._vip)?s():new de(function(c,d){if(l._state.openComplete)return d(new A.DatabaseClosed(l._state.dbOpenError));if(!l._state.isBeingOpened){if(!l._state.autoOpen)return void d(new A.DatabaseClosed);l.open().catch(xe)}l._state.dbReadyPromise.then(c,d)}).then(s)},it.prototype.use=function(s){var l=s.stack,c=s.create,d=s.level,h=s.name;return h&&this.unuse({stack:l,name:h}),s=this._middlewares[l]||(this._middlewares[l]=[]),s.push({stack:l,create:c,level:d??10,name:h}),s.sort(function(m,y){return m.level-y.level}),this},it.prototype.unuse=function(s){var l=s.stack,c=s.name,d=s.create;return l&&this._middlewares[l]&&(this._middlewares[l]=this._middlewares[l].filter(function(h){return d?h.create!==d:!!c&&h.name!==c})),this},it.prototype.open=function(){var s=this;return vn(pn,function(){return My(s)})},it.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var s=this._state,l=wr.indexOf(this);if(0<=l&&wr.splice(l,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}s.isBeingOpened||(s.dbReadyPromise=new de(function(c){s.dbReadyResolve=c}),s.openCanceller=new de(function(c,d){s.cancelOpen=d}))},it.prototype.close=function(c){var l=(c===void 0?{disableAutoOpen:!0}:c).disableAutoOpen,c=this._state;l?(c.isBeingOpened&&c.cancelOpen(new A.DatabaseClosed),this._close(),c.autoOpen=!1,c.dbOpenError=new A.DatabaseClosed):(this._close(),c.autoOpen=this._options.autoOpen||c.isBeingOpened,c.openComplete=!1,c.dbOpenError=null)},it.prototype.delete=function(s){var l=this;s===void 0&&(s={disableAutoOpen:!0});var c=0<arguments.length&&typeof arguments[0]!="object",d=this._state;return new de(function(h,m){function y(){l.close(s);var b=l._deps.indexedDB.deleteDatabase(l.name);b.onsuccess=Be(function(){var E,P,M;E=l._deps,P=l.name,M=E.indexedDB,E=E.IDBKeyRange,Oa(M)||P===xn||Ra(M,E).delete(P).catch(xe),h()}),b.onerror=Ln(m),b.onblocked=l._fireOnBlocked}if(c)throw new A.InvalidArgument("Invalid closeOptions argument to db.delete()");d.isBeingOpened?d.dbReadyPromise.then(y):y()})},it.prototype.backendDB=function(){return this.idbdb},it.prototype.isOpen=function(){return this.idbdb!==null},it.prototype.hasBeenClosed=function(){var s=this._state.dbOpenError;return s&&s.name==="DatabaseClosed"},it.prototype.hasFailed=function(){return this._state.dbOpenError!==null},it.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(it.prototype,"tables",{get:function(){var s=this;return u(this._allTables).map(function(l){return s._allTables[l]})},enumerable:!1,configurable:!0}),it.prototype.transaction=function(){var s=(function(l,c,d){var h=arguments.length;if(h<2)throw new A.InvalidArgument("Too few arguments");for(var m=new Array(h-1);--h;)m[h-1]=arguments[h];return d=m.pop(),[l,pe(m),d]}).apply(this,arguments);return this._transaction.apply(this,s)},it.prototype._transaction=function(s,l,c){var d=this,h=ve.trans;h&&h.db===this&&s.indexOf("!")===-1||(h=null);var m,y,b=s.indexOf("?")!==-1;s=s.replace("!","").replace("?","");try{if(y=l.map(function(P){if(P=P instanceof d.Table?P.name:P,typeof P!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return P}),s=="r"||s===Hn)m=Hn;else{if(s!="rw"&&s!=Vn)throw new A.InvalidArgument("Invalid transaction mode: "+s);m=Vn}if(h){if(h.mode===Hn&&m===Vn){if(!b)throw new A.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");h=null}h&&y.forEach(function(P){if(h&&h.storeNames.indexOf(P)===-1){if(!b)throw new A.SubTransaction("Table "+P+" not included in parent transaction.");h=null}}),b&&h&&!h.active&&(h=null)}}catch(P){return h?h._promise(null,function(M,N){N(P)}):Ye(P)}var E=(function P(M,N,F,T,R){return de.resolve().then(function(){var O=ve.transless||ve,L=M._createTransaction(N,F,M._dbSchema,T);if(L.explicit=!0,O={trans:L,transless:O},T)L.idbtrans=T.idbtrans;else try{L.create(),L.idbtrans._explicit=!0,M._state.PR1398_maxLoop=3}catch(W){return W.name===ct.InvalidState&&M.isOpen()&&0<--M._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),M.close({disableAutoOpen:!1}),M.open().then(function(){return P(M,N,F,null,R)})):Ye(W)}var I,U=we(R);return U&&yn(),O=de.follow(function(){var W;(I=R.call(L,L))&&(U?(W=gn.bind(null,null),I.then(W,W)):typeof I.next=="function"&&typeof I.throw=="function"&&(I=Da(I)))},O),(I&&typeof I.then=="function"?de.resolve(I).then(function(W){return L.active?W:Ye(new A.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):O.then(function(){return I})).then(function(W){return T&&L._resolve(),L._completion.then(function(){return W})}).catch(function(W){return L._reject(W),Ye(W)})})}).bind(null,this,m,y,h,c);return h?h._promise(m,E,"lock"):ve.trans?vn(ve.transless,function(){return d._whenReady(E)}):this._whenReady(E)},it.prototype.table=function(s){if(!S(this._allTables,s))throw new A.InvalidTable("Table ".concat(s," does not exist"));return this._allTables[s]},it);function it(s,l){var c=this;this._middlewares={},this.verno=0;var d=it.dependencies;this._options=l=r({addons:it.addons,autoOpen:!0,indexedDB:d.indexedDB,IDBKeyRange:d.IDBKeyRange,cache:"cloned"},l),this._deps={indexedDB:l.indexedDB,IDBKeyRange:l.IDBKeyRange},d=l.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var h,m,y,b,E,P={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:xe,dbReadyPromise:null,cancelOpen:xe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:l.autoOpen};P.dbReadyPromise=new de(function(N){P.dbReadyResolve=N}),P.openCanceller=new de(function(N,F){P.cancelOpen=F}),this._state=P,this.name=s,this.on=sn(this,"populate","blocked","versionchange","close",{ready:[dr,xe]}),this.once=function(N,F){var T=function(){for(var R=[],O=0;O<arguments.length;O++)R[O]=arguments[O];c.on(N).unsubscribe(T),F.apply(c,R)};return c.on(N,T)},this.on.ready.subscribe=k(this.on.ready.subscribe,function(N){return function(F,T){it.vip(function(){var R,O=c._state;O.openComplete?(O.dbOpenError||de.resolve().then(F),T&&N(F)):O.onReadyBeingFired?(O.onReadyBeingFired.push(F),T&&N(F)):(N(F),R=c,T||N(function L(){R.on.ready.unsubscribe(F),R.on.ready.unsubscribe(L)}))})}}),this.Collection=(h=this,kt(me.prototype,function(I,L){this.db=h;var T=Cs,R=null;if(L)try{T=L()}catch(U){R=U}var O=I._ctx,L=O.table,I=L.hook.reading.fire;this._ctx={table:L,index:O.index,isPrimKey:!O.index||L.schema.primKey.keyPath&&O.index===L.schema.primKey.name,range:T,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:R,or:O.or,valueMapper:I!==ze?I:null}})),this.Table=(m=this,kt(Es.prototype,function(N,F,T){this.db=m,this._tx=T,this.name=N,this.schema=F,this.hook=m._allTables[N]?m._allTables[N].hook:sn(null,{creating:[$n,xe],reading:[dt,ze],updating:[cr,xe],deleting:[et,xe]})})),this.Transaction=(y=this,kt(Ny.prototype,function(N,F,T,R,O){var L=this;N!=="readonly"&&F.forEach(function(I){I=(I=T[I])===null||I===void 0?void 0:I.yProps,I&&(F=F.concat(I.map(function(U){return U.updatesTable})))}),this.db=y,this.mode=N,this.storeNames=F,this.schema=T,this.chromeTransactionDurability=R,this.idbtrans=null,this.on=sn(this,"complete","error","abort"),this.parent=O||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new de(function(I,U){L._resolve=I,L._reject=U}),this._completion.then(function(){L.active=!1,L.on.complete.fire()},function(I){var U=L.active;return L.active=!1,L.on.error.fire(I),L.parent?L.parent._reject(I):U&&L.idbtrans&&L.idbtrans.abort(),Ye(I)})})),this.Version=(b=this,kt(Oy.prototype,function(N){this.db=b,this._cfg={version:N,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(E=this,kt(Md.prototype,function(N,F,T){if(this.db=E,this._ctx={table:N,index:F===":id"?null:F,or:T},this._cmp=this._ascending=Oe,this._descending=function(R,O){return Oe(O,R)},this._max=function(R,O){return 0<Oe(R,O)?R:O},this._min=function(R,O){return Oe(R,O)<0?R:O},this._IDBKeyRange=E._deps.IDBKeyRange,!this._IDBKeyRange)throw new A.MissingAPI})),this.on("versionchange",function(N){0<N.newVersion?console.warn("Another connection wants to upgrade database '".concat(c.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(c.name,"'. Closing db now to resume the delete request.")),c.close({disableAutoOpen:!1})}),this.on("blocked",function(N){!N.newVersion||N.newVersion<N.oldVersion?console.warn("Dexie.delete('".concat(c.name,"') was blocked")):console.warn("Upgrade '".concat(c.name,"' blocked by other connection holding version ").concat(N.oldVersion/10))}),this._maxKey=Ts(l.IDBKeyRange),this._createTransaction=function(N,F,T,R){return new c.Transaction(N,F,T,c._options.chromeTransactionDurability,R)},this._fireOnBlocked=function(N){c.on("blocked").fire(N),wr.filter(function(F){return F.name===c.name&&F!==c&&!F._state.vcFired}).map(function(F){return F.on("versionchange").fire(N)})},this.use(Iy),this.use(Uy),this.use(Ay),this.use(Ly),this.use(Fy);var M=new Proxy(this,{get:function(N,F,T){if(F==="_vip")return!0;if(F==="table")return function(O){return Wo(c.table(O),M)};var R=Reflect.get(N,F,T);return R instanceof Es?Wo(R,M):F==="tables"?R.map(function(O){return Wo(O,M)}):F==="_createTransaction"?function(){return Wo(R.apply(this,arguments),M)}:R}});this.vip=M,d.forEach(function(N){return N(c)})}var Ho,on=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",$y=(Ka.prototype.subscribe=function(s,l,c){return this._subscribe(s&&typeof s!="function"?s:{next:s,error:l,complete:c})},Ka.prototype[on]=function(){return this},Ka);function Ka(s){this._subscribe=s}try{Ho={indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch{Ho={indexedDB:null,IDBKeyRange:null}}function Qd(s){var l,c=!1,d=new $y(function(h){var m=we(s),y,b=!1,E={},P={},M={get closed(){return b},unsubscribe:function(){b||(b=!0,y&&y.abort(),N&&kr.storagemutated.unsubscribe(T))}};h.start&&h.start(M);var N=!1,F=function(){return Ns(R)},T=function(O){$o(E,O),Fa(P,E)&&F()},R=function(){var O,L,I;!b&&Ho.indexedDB&&(E={},O={},y&&y.abort(),y=new AbortController,I=function(U){var W=Kn();try{m&&yn();var q=mn(s,U);return q=m?q.finally(gn):q}finally{W&&Wn()}}(L={subscr:O,signal:y.signal,requery:F,querier:s,trans:null}),Promise.resolve(I).then(function(U){c=!0,l=U,b||L.signal.aborted||(E={},function(W){for(var q in W)if(S(W,q))return;return 1}(P=O)||N||(kr(Ps,T),N=!0),Ns(function(){return!b&&h.next&&h.next(U)}))},function(U){c=!1,["DatabaseClosedError","AbortError"].includes(U==null?void 0:U.name)||b||Ns(function(){b||h.error&&h.error(U)})}))};return setTimeout(F,0),M});return d.hasValue=function(){return c},d.getValue=function(){return l},d}var ni=Yn;function Wa(s){var l=jr;try{jr=!0,kr.storagemutated.fire(s),za(s,!0)}finally{jr=l}}_(ni,r(r({},be),{delete:function(s){return new ni(s,{addons:[]}).delete()},exists:function(s){return new ni(s,{addons:[]}).open().then(function(l){return l.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(s){try{return l=ni.dependencies,c=l.indexedDB,l=l.IDBKeyRange,(Oa(c)?Promise.resolve(c.databases()).then(function(d){return d.map(function(h){return h.name}).filter(function(h){return h!==xn})}):Ra(c,l).toCollection().primaryKeys()).then(s)}catch{return Ye(new A.MissingAPI)}var l,c},defineClass:function(){return function(s){p(this,s)}},ignoreTransaction:function(s){return ve.trans?vn(ve.transless,s):s()},vip:Ma,async:function(s){return function(){try{var l=Da(s.apply(this,arguments));return l&&typeof l.then=="function"?l:de.resolve(l)}catch(c){return Ye(c)}}},spawn:function(s,l,c){try{var d=Da(s.apply(c,l||[]));return d&&typeof d.then=="function"?d:de.resolve(d)}catch(h){return Ye(h)}},currentTransaction:{get:function(){return ve.trans||null}},waitFor:function(s,l){return l=de.resolve(typeof s=="function"?ni.ignoreTransaction(s):s).timeout(l||6e4),ve.trans?ve.trans.waitFor(l):l},Promise:de,debug:{get:function(){return en},set:function(s){Ei(s)}},derive:H,extend:p,props:_,override:k,Events:sn,on:kr,liveQuery:Qd,extendObservabilitySet:$o,getByKeyPath:G,setByKeyPath:Q,delByKeyPath:function(s,l){typeof l=="string"?Q(s,l,void 0):"length"in l&&[].map.call(l,function(c){Q(s,c,void 0)})},shallowClone:ie,deepClone:oe,getObjectDiff:Ua,cmp:Oe,asap:J,minKey:-1/0,addons:[],connections:wr,errnames:ct,dependencies:Ho,cache:ti,semVer:"4.2.1",version:"4.2.1".split(".").map(function(s){return parseInt(s)}).reduce(function(s,l,c){return s+l/Math.pow(10,2*c)})})),ni.maxKey=Ts(ni.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(kr(Ps,function(s){jr||(s=new CustomEvent(ja,{detail:s}),jr=!0,dispatchEvent(s),jr=!1)}),addEventListener(ja,function(s){s=s.detail,jr||Wa(s)}));var Di,jr=!1,Yd=function(){};return typeof BroadcastChannel<"u"&&((Yd=function(){(Di=new BroadcastChannel(ja)).onmessage=function(s){return s.data&&Wa(s.data)}})(),typeof Di.unref=="function"&&Di.unref(),kr(Ps,function(s){jr||Di.postMessage(s)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(s){if(!Yn.disableBfCache&&s.persisted){en&&console.debug("Dexie: handling persisted pagehide"),Di!=null&&Di.close();for(var l=0,c=wr;l<c.length;l++)c[l].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(s){!Yn.disableBfCache&&s.persisted&&(en&&console.debug("Dexie: handling persisted pageshow"),Yd(),Wa({all:new jt(-1/0,[[]])}))})),de.rejectionMapper=function(s,l){return!s||s instanceof Ve||s instanceof TypeError||s instanceof SyntaxError||!s.name||!Ee[s.name]?s:(l=new Ee[s.name](l||s.message,s),"stack"in s&&z(l,"stack",{get:function(){return this.inner.stack}}),l)},Ei(en),r(Yn,Object.freeze({__proto__:null,Dexie:Yn,liveQuery:Qd,Entity:Oo,cmp:Oe,PropModification:Mn,replacePrefix:function(s,l){return new Mn({replacePrefix:[s,l]})},add:function(s){return new Mn({add:s})},remove:function(s){return new Mn({remove:s})},default:Yn,RangeSet:jt,mergeRanges:Ms,rangesOverlap:zd}),{default:Yn}),Yn})})(yy);var iw=yy.exports;const Nc=Mc(iw),xh=Symbol.for("Dexie"),Zl=globalThis[xh]||(globalThis[xh]=Nc);if(Nc.semVer!==Zl.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Nc.semVer} and ${Zl.semVer}`);const{liveQuery:ub,mergeRanges:cb,rangesOverlap:db,RangeSet:fb,cmp:hb,Entity:pb,PropModification:mb,replacePrefix:yb,add:gb,remove:vb,DexieYProvider:xb}=Zl;class sw extends Zl{constructor(){super("subtitle-learner");Ui(this,"words");Ui(this,"subtitleFiles");Ui(this,"subtitleCues");Ui(this,"prefs");Ui(this,"sessions");this.version(1).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt"}),this.version(2).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt",subtitleCues:"&id, fileHash, index",sessions:"&id, updatedAt"}),this.version(3).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt",subtitleCues:"&id, fileHash, index",sessions:"&id, updatedAt"}),this.version(3).upgrade(n=>n.table("words").toArray().then(r=>{const i=r.map(o=>({id:o.id,original:o.original,originalSentence:o.originalSentence,normalized:o.normalized,stem:o.stem,createdAt:o.createdAt,updatedAt:o.updatedAt}));return n.table("words").clear().then(()=>n.table("words").bulkPut(i))})),this.version(4).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt",subtitleCues:"&id, fileHash, index",sessions:"&id, updatedAt"}),this.version(4).upgrade(n=>n.table("words").toArray().then(r=>{const i=r.map(o=>({id:o.id,original:o.original,originalSentence:o.originalSentence,normalized:o.normalized,stem:o.stem,createdAt:o.createdAt,updatedAt:o.updatedAt}));return n.table("words").clear().then(()=>n.table("words").bulkPut(i))})),this.version(5).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt",subtitleCues:"&id, fileHash, index",sessions:"&id, updatedAt"}),this.version(5).upgrade(n=>n.table("sessions").toArray().then(r=>{const i=r.map(o=>{if(!o||typeof o!="object")return o;const{videoBlob:u,...f}=o;return f});return n.table("sessions").clear().then(()=>n.table("sessions").bulkPut(i))}))}}const Ne=new sw;let wu=null,wh=!1,bh=!1;async function Rd(){return wh?!0:bh?!1:(wu||(wu=Ne.open().then(()=>(wh=!0,!0)).catch(()=>(bh=!0,!1))),wu)}async function tt(e,t){if(!await Rd())return e;try{return await t()}catch{return e}}async function Dt(e){if(await Rd())try{await e()}catch{}}async function ow(){return tt([],()=>Ne.words.toArray())}async function bu(e){await Dt(()=>Ne.words.put(e))}async function lw(e){await Dt(()=>Ne.words.delete(e))}async function Su(e){await Dt(()=>Ne.transaction("rw",Ne.words,async()=>{await Ne.words.clear(),e.length>0&&await Ne.words.bulkPut(e)}))}function Bi(e){return[...e].sort((t,n)=>n.updatedAt-t.updatedAt)}function aw(e){if(typeof e=="string"){const[t]=rr(e);return t}return e}function Sh(e){let t=!1;return{next:e.map(r=>{const i=Td(r.normalized);return i===r.stem?r:(t=!0,{...r,stem:i})}),changed:t}}const xt=Pd((e,t)=>({words:[],initialized:!1,initialize:async()=>{if(t().initialized)return;const n=await ow(),{next:r,changed:i}=Sh(n),o=Bi(r);e({words:o,initialized:!0}),i&&await Su(o)},addUnknownWordFromToken:async(n,r)=>{const i=aw(n);if(!i||!i.isWord)return;const o=t().words.find(p=>p.normalized===i.normalized||p.stem===i.stem),u=Date.now();if(o){const p={...o,updatedAt:u,original:o.original||i.text,originalSentence:r??o.originalSentence};e(g=>({words:Bi(g.words.map(j=>j.id===o.id?p:j))})),await bu(p);return}const f={id:jc(),original:i.text,originalSentence:r,normalized:i.normalized,stem:i.stem,createdAt:u,updatedAt:u};e(p=>({words:Bi([...p.words,f])})),await bu(f)},updateWord:async(n,r)=>{const i=t().words.find(u=>u.id===n);if(!i)return;const o={...i,...r,updatedAt:Date.now()};e(u=>({words:Bi(u.words.map(f=>f.id===n?o:f))})),await bu(o)},removeWord:async n=>{e(r=>({words:r.words.filter(i=>i.id!==n)})),await lw(n)},importWords:async n=>{const r=Date.now(),i=f=>`${f.normalized}::${f.stem}`,o=new Map;for(const f of t().words)o.set(i(f),f);for(const f of n){if(!f.normalized)continue;const p=f.normalized,g=f.stem??Td(p),j=`${p}::${g}`,S=o.get(j);o.set(j,{id:f.id??(S==null?void 0:S.id)??jc(),original:f.original??(S==null?void 0:S.original)??p,originalSentence:f.originalSentence??(S==null?void 0:S.originalSentence),normalized:p,stem:g,createdAt:f.createdAt??(S==null?void 0:S.createdAt)??r,updatedAt:f.updatedAt??r})}const u=Bi(Array.from(o.values()));e({words:u,initialized:!0}),await Su(u)},reanalyzeStems:async()=>{const{next:n,changed:r}=Sh(t().words);if(!r)return;const i=Bi(n);e({words:i}),await Su(i)},classForToken:n=>{const r=new Set(t().words.map(o=>o.normalized)),i=new Set(t().words.map(o=>o.stem));return r.has(n.normalized)?"hl-exact text-white":i.has(n.stem)?"hl-variant text-white":"bg-transparent"}})),gy="prefs";async function uw(){return tt(void 0,async()=>{const e=await Ne.prefs.get(gy);return e==null?void 0:e.value})}async function Bs(e){await Dt(()=>Ne.prefs.put({id:gy,value:e,updatedAt:Date.now()}))}const Ki={subtitleStyle:{fontFamily:"Inter",fontSizePx:42,secondaryFontSizePx:36,useMainForSecondaryFontSize:!0,fontWeight:600,color:"#ffffff",outline:!0,shadow:!0,bgColor:"rgba(0, 0, 0, 0.35)",lineHeight:1.35},highlightColors:{exact:"#10b981",variant:"#f97316"},playerShortcuts:{toggleSecondarySubtitle:{code:"KeyH",label:"H"},mainSubtitleOffsetBack:{code:"BracketLeft",label:"["},mainSubtitleOffsetForward:{code:"BracketRight",label:"]"}},mediaLibrary:void 0},Ge=Pd((e,t)=>({prefs:Ki,initialized:!1,initialize:async()=>{if(t().initialized)return;const n=await uw();if(!n){e({prefs:Ki,initialized:!0});return}const r={...Ki,...n,subtitleStyle:{...Ki.subtitleStyle,...n.subtitleStyle},highlightColors:{...Ki.highlightColors,...n.highlightColors},playerShortcuts:{...Ki.playerShortcuts,...n.playerShortcuts}};e({prefs:r,initialized:!0})},updateSubtitleStyle:async n=>{const r={...t().prefs,subtitleStyle:{...t().prefs.subtitleStyle,...n}};e({prefs:r}),await Bs(r)},updateHighlightColors:async n=>{const r={...t().prefs,highlightColors:{...t().prefs.highlightColors,...n}};e({prefs:r}),await Bs(r)},updatePlayerShortcuts:async n=>{const r={...t().prefs,playerShortcuts:{...t().prefs.playerShortcuts,...n}};e({prefs:r}),await Bs(r)},setLastOpened:async n=>{const r={...t().prefs,lastOpened:n};e({prefs:r}),await Bs(r)},setMediaLibrary:async n=>{const r={...t().prefs,mediaLibrary:n};e({prefs:r}),await Bs(r)}})),si=Pd((e,t)=>({videoName:"",videoUrl:null,videoBlob:null,videoDurationMs:null,setVideoFromFile:n=>{const r=t().videoUrl;r&&URL.revokeObjectURL(r),e({videoName:n.name,videoUrl:URL.createObjectURL(n),videoBlob:n,videoDurationMs:null})},setVideoFromBlob:(n,r)=>{const i=t().videoUrl;i&&URL.revokeObjectURL(i),e({videoName:n,videoUrl:URL.createObjectURL(r),videoBlob:r,videoDurationMs:null})},setVideoNameOnly:n=>{const r=t().videoUrl;r&&URL.revokeObjectURL(r),e({videoName:n,videoUrl:null,videoBlob:null,videoDurationMs:null})},clearVideo:()=>{const n=t().videoUrl;n&&URL.revokeObjectURL(n),e({videoName:"",videoUrl:null,videoBlob:null,videoDurationMs:null})},setVideoDurationMs:n=>{e({videoDurationMs:n})}})),cw=/(\d{2}:\d{2}:\d{2},\d{3}) --> (\d{2}:\d{2}:\d{2},\d{3})/,Cc="",Ec="";function kh(e){const[t,n,r]=e.split(":"),[i,o]=r.split(",");return Number(t)*3600*1e3+Number(n)*60*1e3+Number(i)*1e3+Number(o)}function dw(e){return e.replace(/<i>/gi,Cc).replace(/<\/i>/gi,Ec).replace(/<[^>]+>/g,"").replace(/\s+/g," ").trim()}function qs(e){return e.split(/\r?\n\r?\n/).filter(Boolean).map((t,n)=>{const[r,i,...o]=t.split(/\r?\n/),u=i==null?void 0:i.match(cw),f=(u==null?void 0:u[1])??"00:00:00,000",p=(u==null?void 0:u[2])??"00:00:00,000",g=dw(o.join(`
`));return{index:Number.parseInt(r??String(n),10),startMs:kh(f),endMs:kh(p),rawText:g}}).filter(t=>t.rawText.length>0)}const fw=/^[\)\]\}.,!?;:%]+$/u,hw=/^[\(\[\{]+$/u,pw=/^[.]+$/u;function jo(e){return e.isWord||/^\d+$/.test(e.text)}function vy(e){return!e.isWord&&fw.test(e.text)}function xy(e){return!e.isWord&&hw.test(e.text)}function wy(e,t){if(!e||vy(t)||xy(e))return!1;const n=jo(e),r=jo(t);return!!(n&&r||n&&!r||!n&&r)}function mw(e){const t=new RegExp(`(${Cc}|${Ec})`,"g"),n=e.split(t).filter(o=>o.length>0);let r=!1;const i=[];for(const o of n){if(o===Cc){r=!0;continue}if(o===Ec){r=!1;continue}const u=rr(o);i.push(...u.map(f=>({token:f,italic:r})))}return i}function yw(e,t={}){const{isRtl:n=!1}=t,r=[];let i="",o=!1;if(e.forEach((u,f)=>{const p=e[f+1];if(n&&!u.token.isWord&&pw.test(u.token.text)&&p&&jo(p.token)){i+=u.token.text,o=o||u.italic;return}if(!u.token.isWord&&xy(u.token)&&p&&jo(p.token)){i+=u.token.text,o=o||u.italic;return}if(!u.token.isWord&&vy(u.token)&&r.length>0){const S=r[r.length-1];S.text+=u.token.text,S.italic=S.italic||u.italic;return}const g=`${i}${u.token.text}`,j=o||u.italic;i="",o=!1,g.trim().length!==0&&r.push({token:u.token,text:g,italic:j})}),i.trim().length>0){const u=i.trim();r.push({token:{text:u,normalized:u,stem:u,isWord:!1},text:u,italic:o})}return r}const gw=["INPUT","TEXTAREA","SELECT"];function vw(e){return typeof HTMLElement>"u"||!(e instanceof HTMLElement)?!1:e.isContentEditable?!0:gw.includes(e.tagName)}function Gn(e){e.preventDefault(),e.stopPropagation(),typeof e.stopImmediatePropagation=="function"&&e.stopImmediatePropagation()}function Xn(e,t,n){return t.includes(e.code)||n.includes(e.key)}function xw(e,t){const{video:n,seekBy:r,toggleFullscreen:i,toggleMute:o,togglePlayback:u,toggleSecondarySubtitle:f}=t,{stepVolume:p}=t;return!n||vw(e.target)||e.altKey||e.ctrlKey||e.metaKey?!1:Xn(e,["Space"],[" ","Spacebar"])||Xn(e,["KeyK"],["k","K"])?(Gn(e),u(),!0):Xn(e,["ArrowLeft"],["ArrowLeft"])?(Gn(e),r(-5),!0):Xn(e,["ArrowRight"],["ArrowRight"])?(Gn(e),r(5),!0):Xn(e,["ArrowUp"],["ArrowUp"])?(Gn(e),p("up"),!0):Xn(e,["ArrowDown"],["ArrowDown"])?(Gn(e),p("down"),!0):Xn(e,["KeyF"],["f","F"])?(Gn(e),i(),!0):Xn(e,["KeyM"],["m","M"])?(Gn(e),o(),!0):!t.ignoreSecondarySubtitleShortcut&&Xn(e,["KeyH"],["h","H"])?(Gn(e),f(),!0):!1}function jh(e){const t=Math.max(0,Math.floor(e/1e3)),n=Math.floor(t/60).toString().padStart(2,"0"),r=(t%60).toString().padStart(2,"0");return`${n}:${r}`}async function _c(e,t="SHA-256"){const n=await e.arrayBuffer(),r=await crypto.subtle.digest(t,n);return Array.from(new Uint8Array(r)).map(o=>o.toString(16).padStart(2,"0")).join("")}async function Pc(e){const t=await e.arrayBuffer();if(t.byteLength>=2){const r=new Uint8Array(t);if(r[0]===255&&r[1]===254)return new TextDecoder("utf-16le").decode(t);if(r[0]===254&&r[1]===255)return new TextDecoder("utf-16be").decode(t);if(t.byteLength>=3&&r[0]===239&&r[1]===187&&r[2]===191)return new TextDecoder("utf-8").decode(t)}const n=new TextDecoder("utf-8",{fatal:!0});try{return n.decode(t)}catch{return new TextDecoder("windows-1255").decode(t)}}function ww(e){const{index:t,startMs:n,endMs:r,rawText:i,tokens:o}=e;return{index:t,startMs:n,endMs:r,rawText:i,tokens:o}}function bw(e,t){return{id:`${e}:${t.index}`,fileHash:e,index:t.index,startMs:t.startMs,endMs:t.endMs,rawText:t.rawText,tokens:t.tokens??[]}}async function mi(e){return tt(void 0,async()=>{const t=await Ne.subtitleCues.where("fileHash").equals(e).sortBy("index");if(t.length!==0)return t.map(ww)})}async function Tc(e,t){await Dt(()=>Ne.transaction("rw",Ne.subtitleCues,async()=>{await Ne.subtitleCues.where("fileHash").equals(e).delete(),t.length>0&&await Ne.subtitleCues.bulkPut(t.map(n=>bw(e,n)))}))}async function Sw(e){await Dt(()=>Ne.subtitleCues.where("fileHash").equals(e).delete())}async function di(e){const t=await tt(void 0,()=>Ne.subtitleFiles.where("bytesHash").equals(e.bytesHash).first()),n=t?{...t,...e,addedAt:e.addedAt??Date.now()}:{id:jc(),name:e.name,bytesHash:e.bytesHash,totalCues:e.totalCues,language:e.language,addedAt:e.addedAt??Date.now()};return await Dt(()=>Ne.subtitleFiles.put(n)),n}async function by(){return tt([],()=>Ne.subtitleFiles.orderBy("addedAt").reverse().toArray())}async function kw(e){await Dt(()=>Ne.transaction("rw",Ne.subtitleFiles,Ne.subtitleCues,async()=>{const t=await Ne.subtitleFiles.get(e);t&&(await Ne.subtitleFiles.delete(e),await Sw(t.bytesHash))}))}const Rc="last-session";async function jw(){return tt(void 0,()=>Ne.sessions.get(Rc))}async function oi(e){const t=Date.now();if(await tt(0,()=>Ne.sessions.update(Rc,{...e,updatedAt:t}))>0)return;const r={id:Rc,updatedAt:t,videoName:e.videoName,subtitleName:e.subtitleName,subtitleText:e.subtitleText,subtitleHash:e.subtitleHash,subtitleOffsetMs:e.subtitleOffsetMs,videoTimeSeconds:e.videoTimeSeconds,secondarySubtitleName:e.secondarySubtitleName,secondarySubtitleText:e.secondarySubtitleText,secondarySubtitleHash:e.secondarySubtitleHash,secondarySubtitleEnabled:e.secondarySubtitleEnabled,secondarySubtitleOffsetMs:e.secondarySubtitleOffsetMs};await Dt(()=>Ne.sessions.put(r))}const Nw=/[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/,Cw=/^[.!?]+$/u,li=[1,2,3,4,5,10,15,20,25,30,40,50,60,70,80,90,100];function Nh(e){return e.some(t=>Nw.test(t.rawText))}function Ew(e){return!e.isWord&&Cw.test(e.text)}function _w(e){const t=e.trim();if(!t)return;const n=encodeURIComponent(`${t} definition`);window.open(`https://www.google.com/search?q=${n}`,"_blank","noopener,noreferrer")}const Pw=["INPUT","TEXTAREA","SELECT","BUTTON","SUMMARY"];function Tw(e){return typeof HTMLElement>"u"||!(e instanceof HTMLElement)?!1:e.isContentEditable?!0:Pw.includes(e.tagName)}function Rw(e){return e.key===" "?"Space":e.key==="Escape"?"Esc":e.key.startsWith("Arrow")?e.key.replace("Arrow","Arrow "):e.key.length===1?e.key.toUpperCase():e.key}function Ch(e){e.preventDefault(),e.stopPropagation(),typeof e.stopImmediatePropagation=="function"&&e.stopImmediatePropagation()}function Sy(e,t){const n=x.useMemo(()=>mw(e.rawText),[e.rawText]),r=x.useMemo(()=>{if(!t)return n;const i=n.findIndex(u=>jo(u.token));if(i<=0)return n;const o=n.slice(0,i);return o.length===0?n:o.every(u=>Ew(u.token))?[...n.slice(i),...o]:n},[t,n]);return x.useMemo(()=>yw(r,{isRtl:t}),[r,t])}function Eh({cue:e,onTokenClick:t,onTokenContextMenu:n,classForToken:r,isRtl:i=!1,className:o}){const u=Sy(e,i);return a.jsx("div",{className:`pointer-events-none flex flex-wrap ${o??""}`,dir:i?"rtl":"ltr",children:u.map((f,p)=>{const g=p>0?u[p-1].token:void 0,j=f.token,S=wy(g,j)?"ms-1":"";return a.jsx("button",{type:"button",className:`pointer-events-auto relative z-50 rounded px-0.5 text-left ${S} ${j.isWord?"focus:outline-none focus-visible:outline-none":"cursor-default"}`,onClick:_=>{j.isWord&&(t(j,e),_.currentTarget instanceof HTMLElement&&_.currentTarget.blur())},onContextMenu:_=>{j.isWord&&(_.preventDefault(),n(j,e))},disabled:!j.isWord,children:a.jsx("span",{className:`rounded px-1 py-0.5 transition-colors ${f.italic?"italic":""} ${r(j)}`,children:f.text})},`${f.text}-${p}`)})})}function _h({cue:e,isRtl:t=!1,className:n}){const r=Sy(e,t);return a.jsx("div",{className:`flex flex-wrap ${n??""}`,dir:t?"rtl":"ltr",children:r.map((i,o)=>{const u=o>0?r[o-1].token:void 0,f=i.token,p=wy(u,f)?"ms-1":"";return a.jsx("span",{className:`rounded px-1 py-0.5 ${p}`,children:i.text},`${i.text}-${o}`)})})}function Ph({isActive:e=!0}){const t=x.useRef(null),n=x.useRef(null),r=x.useRef(null),i=x.useRef(new Map),o=x.useRef({}),u=si(v=>v.videoName),f=si(v=>v.videoUrl),p=si(v=>v.videoDurationMs),g=si(v=>v.videoBlob),j=si(v=>v.setVideoFromFile),S=si(v=>v.setVideoFromBlob),_=si(v=>v.setVideoDurationMs),[B,z]=x.useState(null),[H,Y]=x.useState(""),[C,w]=x.useState([]),[k,$]=x.useState(0),[J,G]=x.useState(!1),[Q,ie]=x.useState(0),[Ce,pe]=x.useState(null),[Ie,De]=x.useState(!1),[oe,te]=x.useState(""),[Z,X]=x.useState([]),[ke,V]=x.useState(!1),[re,le]=x.useState(0),[we,je]=x.useState(null),[Ve,ut]=x.useState(!1),[At,ot]=x.useState(!1),[ct,Ss]=x.useState(!1),[A,Ee]=x.useState(!1),[be,xe]=x.useState(!1),[ze,dt]=x.useState(1),[lt,$n]=x.useState(null),[et,cr]=x.useState(null),[Ci,dr]=x.useState(!0),[en,Ei]=x.useState(!0),[fr,ks]=x.useState(!1),[Fe,tn]=x.useState(null),nn=x.useRef(null),hr=x.useRef(null),hn=x.useRef(null),Yr=x.useRef(0),Bn=xt(v=>v.addUnknownWordFromToken),_n=xt(v=>v.classForToken),Gr=xt(v=>v.initialize),_i=xt(v=>v.initialized),pn=Ge(v=>v.initialize),ve=Ge(v=>v.initialized),pr=Ge(v=>v.setLastOpened),Pn=Ge(v=>v.prefs.playerShortcuts),St=Ge(v=>v.prefs.mediaLibrary),de=Ge(v=>v.updatePlayerShortcuts),Pi=x.useCallback((v,K)=>{Bn(v,K.rawText)},[Bn]),js=x.useCallback((v,K)=>{_w(v.text),Bn(v,K.rawText)},[Bn]),Ti=x.useCallback(v=>{$n(v),hn.current!==null&&window.clearTimeout(hn.current),hn.current=window.setTimeout(()=>{$n(null)},500)},[]),rn=x.useCallback(v=>{w(v),De(v.length>0&&Nh(v))},[]),Wt=x.useCallback(v=>{X(v),ot(v.length>0&&Nh(v))},[]),mr=x.useCallback(async(v,K,D)=>{rn(D),await Promise.all([Tc(v,D),di({name:K,bytesHash:v,totalCues:D.length})])},[rn]),yr=x.useCallback(async(v,K,D)=>{Wt(D),await Promise.all([Tc(v,D),di({name:K,bytesHash:v,totalCues:D.length})])},[Wt]);x.useEffect(()=>{_i||Gr()},[_i,Gr]),x.useEffect(()=>{ve||pn()},[ve,pn]),x.useEffect(()=>{const v=()=>{const K=t.current;Ss(document.fullscreenElement===K)};return document.addEventListener("fullscreenchange",v),()=>{document.removeEventListener("fullscreenchange",v)}},[]),x.useEffect(()=>{const v=n.current;if(!v)return;const K=()=>Ee(!v.paused),D=()=>xe(v.muted),me=()=>dt(v.volume),he=()=>{const Se=Number.isFinite(v.duration)?v.duration*1e3:null;cr(Se),Se&&_(Se)};return K(),D(),me(),he(),v.addEventListener("play",K),v.addEventListener("pause",K),v.addEventListener("volumechange",D),v.addEventListener("volumechange",me),v.addEventListener("loadedmetadata",he),v.addEventListener("durationchange",he),()=>{v.removeEventListener("play",K),v.removeEventListener("pause",K),v.removeEventListener("volumechange",D),v.removeEventListener("volumechange",me),v.removeEventListener("loadedmetadata",he),v.removeEventListener("durationchange",he)}},[]);const Kn=x.useCallback(async()=>{const v=t.current;if(v&&document.fullscreenElement!==v)try{await v.requestFullscreen()}catch(K){console.error("Failed to enter fullscreen",K)}},[]),Wn=x.useCallback(async()=>{if(document.fullscreenElement)try{await document.exitFullscreen()}catch(v){console.error("Failed to exit fullscreen",v)}},[]),gr=x.useCallback(()=>{if(ct){Wn();return}Kn()},[Kn,Wn,ct]);x.useEffect(()=>{const v=new Worker(new URL(""+new URL("srtWorker-CQIlcpsu.js",import.meta.url).href,import.meta.url),{type:"module"});return r.current=v,()=>{v.terminate(),r.current=null}},[]),x.useEffect(()=>{const v=r.current;if(!v)return;const K=async D=>{const me=i.current.get(D.data.id);if(me){if(o.current[me.target]!==D.data.id){i.current.delete(D.data.id);return}if(i.current.delete(D.data.id),D.data.error){me.target==="secondary"?(je(D.data.error),V(!1)):(pe(D.data.error),G(!1));return}try{me.target==="secondary"?(je(null),await yr(me.hash,me.fileName,D.data.cues)):(pe(null),await mr(me.hash,me.fileName,D.data.cues))}catch(he){console.error(he),me.target==="secondary"?je("Failed to store parsed secondary subtitles."):pe("Failed to store parsed subtitles.")}finally{me.target==="secondary"?V(!1):G(!1)}}};return v.addEventListener("message",K),()=>{v.removeEventListener("message",K)}},[mr,yr,rn,Wt]);const Xr=x.useCallback(async()=>{if(!(St!=null&&St.handle))return null;try{const v=St.handle.queryPermission,K=St.handle.requestPermission;if(!v||!K)return St.handle;const D=await v.call(St.handle,{mode:"read"});return D==="granted"?St.handle:D==="denied"?null:await K.call(St.handle,{mode:"read"})==="granted"?St.handle:null}catch{return null}},[St]),Be=x.useCallback(async v=>{const K=await Xr();if(!K)return null;const D=v.toLowerCase(),me=[K];for(;me.length>0;){const he=me.shift();if(!he)continue;const Se=he.values;if(Se)for await(const Le of Se.call(he))if(Le.kind==="file"){if(Le.name.toLowerCase()===D)return Le}else Le.kind==="directory"&&me.push(Le)}return null},[Xr]);x.useEffect(()=>{let v=!1;return(async()=>{const D=await jw();if(!(v||!D)){if(D.videoName&&!f)try{const me=await Be(D.videoName);if(v)return;if(me){const he=await me.getFile();v||j(he)}}catch{}if(D.subtitleName&&Y(D.subtitleName),typeof D.subtitleOffsetMs=="number"&&ie(D.subtitleOffsetMs),typeof D.videoTimeSeconds=="number"&&z(D.videoTimeSeconds),D.secondarySubtitleName&&te(D.secondarySubtitleName),typeof D.secondarySubtitleEnabled=="boolean"?ut(D.secondarySubtitleEnabled):D.secondarySubtitleHash&&ut(!0),typeof D.secondarySubtitleOffsetMs=="number"&&le(D.secondarySubtitleOffsetMs),!(!D.subtitleHash&&!D.secondarySubtitleHash)){if(D.secondarySubtitleHash){V(!0),je(null);const me=await mi(D.secondarySubtitleHash);if(v)return;if(me)Wt(me),V(!1),await di({name:D.secondarySubtitleName??D.secondarySubtitleHash,bytesHash:D.secondarySubtitleHash,totalCues:me.length});else if(D.secondarySubtitleText){const he=r.current;if(he){const Se=crypto.randomUUID();i.current.set(Se,{hash:D.secondarySubtitleHash,fileName:D.secondarySubtitleName??D.secondarySubtitleHash,target:"secondary"}),o.current.secondary=Se,he.postMessage({id:Se,text:D.secondarySubtitleText})}else try{const Se=qs(D.secondarySubtitleText).map(Le=>({...Le,tokens:Le.tokens??rr(Le.rawText)}));await yr(D.secondarySubtitleHash,D.secondarySubtitleName??D.secondarySubtitleHash,Se)}catch(Se){v||(je(Se instanceof Error?Se.message:"Failed to parse secondary subtitles"),Wt([]))}finally{v||V(!1)}}else V(!1)}if(D.subtitleHash){G(!0),pe(null);const me=await mi(D.subtitleHash);if(v)return;if(me){rn(me),G(!1),await di({name:D.subtitleName??D.subtitleHash,bytesHash:D.subtitleHash,totalCues:me.length});return}if(!D.subtitleText){G(!1);return}const he=r.current;if(he){const Se=crypto.randomUUID();i.current.set(Se,{hash:D.subtitleHash,fileName:D.subtitleName??D.subtitleHash,target:"primary"}),o.current.primary=Se,he.postMessage({id:Se,text:D.subtitleText});return}try{const Se=qs(D.subtitleText).map(Le=>({...Le,tokens:Le.tokens??rr(Le.rawText)}));await mr(D.subtitleHash,D.subtitleName??D.subtitleHash,Se)}catch(Se){v||(pe(Se instanceof Error?Se.message:"Failed to parse subtitles"),rn([]))}finally{v||G(!1)}}}}})(),()=>{v=!0}},[mr,yr,Be,j,f]),x.useEffect(()=>{const v=n.current;if(v){if(v.currentTime=0,f){v.src!==f&&(v.src=f),v.load();return}v.removeAttribute("src"),v.load()}},[f]),x.useEffect(()=>{et!==null||!p||cr(p)},[et,p]),x.useEffect(()=>{if(!g||!f||!u)return;let v=!1;const K=window.setTimeout(()=>{if(v)return;const D=n.current;D&&D.readyState===0&&S(u,g)},800);return()=>{v=!0,window.clearTimeout(K)}},[S,g,u,f]),x.useEffect(()=>{if(!f)return;const v=n.current;if(!v)return;let K=!1,D=0;const me=()=>{if(K)return;const he=v.duration;if(Number.isFinite(he)&&he>0){cr(he*1e3);return}D+=1,D<20&&window.setTimeout(me,250)};return me(),()=>{K=!0}},[f]),x.useEffect(()=>{const v=n.current;if(!v||B===null)return;const K=()=>{v.currentTime=B};if(v.readyState>=1){K();return}return v.addEventListener("loadedmetadata",K),()=>{v.removeEventListener("loadedmetadata",K)}},[B,f]),x.useEffect(()=>{if(!ve)return;pr(u||H?{videoName:u||void 0,srtName:H||void 0}:void 0)},[ve,pr,H,u]);const Qe=x.useCallback(()=>{const v=n.current;v&&(v.pause(),v.currentTime=0)},[]),Ri=x.useCallback(()=>{const v=n.current;v&&(v.paused?v.play().catch(K=>{console.error("Failed to play video",K)}):v.pause())},[]),vr=x.useCallback(()=>{const v=n.current;v&&(v.muted=!v.muted)},[]),Jr=x.useCallback(v=>{const K=n.current;if(!K||K.readyState===0)return;const D=Math.min(Math.max(K.currentTime+v,0),Number.isFinite(K.duration)?K.duration:Number.POSITIVE_INFINITY);K.currentTime=D},[]),Oi=x.useCallback(v=>{const K=n.current;if(!K||K.readyState===0)return;const D=Number(v.target.value);Number.isFinite(D)&&(K.currentTime=D,$(D*1e3))},[]),Sa=x.useCallback(v=>{const K=n.current;if(!K)return;const D=Number(v.target.value);Number.isFinite(D)&&(K.volume=D,D>0&&(K.muted=!1),dt(D))},[]),mn=x.useCallback(v=>{const K=n.current;if(!K)return;const D=Math.round(K.volume*100),me=Math.min(Math.max(D,0),100);let he=li[0];if(v==="up"){he=li[li.length-1];for(const Le of li)if(Le>me){he=Le;break}}else{he=li[0];for(let Le=li.length-1;Le>=0;Le-=1){const Mo=li[Le];if(Mo<me){he=Mo;break}}}const Se=he/100;K.volume=Se,Se>0&&(K.muted=!1),dt(Se),Ti(he)},[Ti]),yn=x.useCallback(async v=>{Qe(),pe(null),G(!0),$(0);const K=await Pc(v),D=await _c(v);Y(v.name),rn([]),oi({subtitleName:v.name,subtitleText:K,subtitleHash:D});const me=await mi(D);if(me){rn(me),G(!1),await di({name:v.name,bytesHash:D,totalCues:me.length});return}const he=r.current;if(he){const Se=crypto.randomUUID();i.current.set(Se,{hash:D,fileName:v.name,target:"primary"}),o.current.primary=Se,he.postMessage({id:Se,text:K});return}try{const Se=qs(K).map(Le=>({...Le,tokens:Le.tokens??rr(Le.rawText)}));await mr(D,v.name,Se)}catch(Se){pe(Se instanceof Error?Se.message:"Failed to parse subtitles"),rn([])}finally{G(!1)}},[mr,rn,Qe]),gn=x.useCallback(async v=>{je(null),V(!0);const K=await Pc(v),D=await _c(v);te(v.name),Wt([]),oi({secondarySubtitleName:v.name,secondarySubtitleText:K,secondarySubtitleHash:D,secondarySubtitleEnabled:!0});const me=await mi(D);if(me){Wt(me),V(!1),ut(!0),await di({name:v.name,bytesHash:D,totalCues:me.length});return}const he=r.current;if(he){const Se=crypto.randomUUID();i.current.set(Se,{hash:D,fileName:v.name,target:"secondary"}),o.current.secondary=Se,he.postMessage({id:Se,text:K});return}try{const Se=qs(K).map(Le=>({...Le,tokens:Le.tokens??rr(Le.rawText)}));await yr(D,v.name,Se),ut(!0)}catch(Se){je(Se instanceof Error?Se.message:"Failed to parse secondary subtitles"),Wt([])}finally{V(!1)}},[yr,Wt]),Mi=x.useCallback(async v=>{const K=v.target.files;if(!K||K.length===0)return;const D=Array.from(K),me=D.find(Le=>Le.type.startsWith("video/")||Le.name.toLowerCase().endsWith(".mkv"));if(!me){v.target.value="";return}Qe(),z(0),Yr.current=0,$(0),j(me),oi({videoName:me.name,videoTimeSeconds:0});const he=me.name.replace(/\.[^.]+$/,"").toLowerCase(),Se=D.find(Le=>Le.name.toLowerCase()===`${he}.srt`&&Le!==me);Se&&await yn(Se),v.target.value=""},[yn,Qe]),ka=x.useCallback(async v=>{var D;const K=(D=v.target.files)==null?void 0:D[0];K&&(await yn(K),v.target.value="")},[yn]),Tn=x.useCallback(async v=>{var D;const K=(D=v.target.files)==null?void 0:D[0];K&&(await gn(K),v.target.value="")},[gn]),Ro=()=>{const v=n.current;if(!v)return;const K=v.currentTime*1e3;if(fr&&!v.paused){const D=wr(K);if(D!==null){v.currentTime=D/1e3,$(D);return}}$(K),v.currentTime-Yr.current>=2&&(Yr.current=v.currentTime,oi({videoTimeSeconds:v.currentTime}))},vn=x.useMemo(()=>C.filter(v=>{const K=v.startMs+Q,D=v.endMs+Q;return K<=k&&D>=k}),[C,k,Q]),Li=x.useMemo(()=>Z.filter(v=>{const K=v.startMs+re,D=v.endMs+re;return K<=k&&D>=k}),[Z,k,re]),Ns=x.useMemo(()=>jh(k),[k]),Ye=x.useMemo(()=>et?jh(et):"--:--",[et]),Rn=x.useMemo(()=>et?Math.min(100,Math.max(0,k/et*100)):0,[k,et]),Rt=x.useCallback(v=>{for(const K of C){const D=K.startMs+Q;if(D>v+50)return Math.max(0,D)}return null},[C,Q]),xr=x.useCallback(v=>{for(let K=C.length-1;K>=0;K-=1){const me=C[K].startMs+Q;if(me<v-50)return Math.max(0,me)}return null},[C,Q]),wr=x.useCallback(v=>{let K=null;for(const D of C){const me=D.startMs+Q,he=D.endMs+Q;if(v>=me&&v<=he)return null;if(me>v)return K===null?me-v>150?Math.max(0,me):null:v-K>150?Math.max(0,me):null;K=he}return null},[C,Q]),xn=x.useCallback((v,K={})=>{var me;const D=n.current;D&&(D.currentTime=v/1e3,$(v),K.focus!==!1&&((me=t.current)==null||me.focus()))},[]),Hn=x.useCallback(v=>{ie(K=>{const D=K+v;return oi({subtitleOffsetMs:D}),D})},[]),Vn=x.useCallback(v=>{le(K=>{const D=K+v;return oi({secondarySubtitleOffsetMs:D}),D})},[]),Ht=x.useCallback(()=>{Z.length!==0&&ut(v=>{const K=!v;return oi({secondarySubtitleEnabled:K}),K})},[Z.length]),Cs=x.useCallback(()=>{const v=Rt(k);v!==null&&xn(v)},[k,Rt,xn]),Zr=x.useCallback(()=>{const v=xr(k);v!==null&&xn(v)},[k,xr,xn]),Oo=x.useMemo(()=>Rt(k),[k,Rt]),Oe=x.useMemo(()=>xr(k),[k,xr]),On=x.useCallback(()=>{var v;(v=t.current)==null||v.focus()},[]),qn=x.useCallback(()=>{nn.current!==null&&(window.clearTimeout(nn.current),nn.current=null)},[]),wn=x.useCallback(()=>{hr.current!==null&&(window.clearTimeout(hr.current),hr.current=null)},[]),Mn=x.useCallback(()=>{qn(),A&&(nn.current=window.setTimeout(()=>{dr(!1)},2500))},[qn,A]),Fi=x.useCallback(()=>{dr(!0),Mn()},[Mn]),ei=x.useCallback(()=>{wn(),ct&&(hr.current=window.setTimeout(()=>{Ei(!1)},1e3))},[wn,ct]),Es=x.useCallback(()=>{Ei(!0),ei()},[ei]),$e=x.useCallback(()=>{Fi(),Es()},[Fi,Es]),sn=x.useMemo(()=>Pn??{},[Pn]),kt=x.useCallback(v=>{tn(K=>K===v?null:v)},[]),gt=x.useCallback(v=>{var K;return Fe===v?"Press a key":((K=sn[v])==null?void 0:K.label)??"None"},[Fe,sn]);x.useEffect(()=>{if(!Fe)return;const v=K=>{if(K.altKey||K.ctrlKey||K.metaKey)return;if(Ch(K),K.key==="Escape"){tn(null);return}if(K.key==="Backspace"||K.key==="Delete"){const me={[Fe]:void 0};de(me),tn(null);return}if(K.key==="Shift"||K.key==="Alt"||K.key==="Control"||K.key==="Meta")return;const D={[Fe]:{code:K.code,label:Rw(K)}};de(D),tn(null)};return document.addEventListener("keydown",v,!0),()=>{document.removeEventListener("keydown",v,!0)}},[Fe,de]);const Ii=x.useCallback(v=>{if(Fe||Tw(v.target)||v.altKey||v.ctrlKey||v.metaKey)return!1;const K={mainSubtitleOffsetBack:()=>{Hn(-500)},mainSubtitleOffsetForward:()=>{Hn(500)},secondarySubtitleOffsetBack:()=>{Vn(-500)},secondarySubtitleOffsetForward:()=>{Vn(500)},toggleSecondarySubtitle:()=>{Ht()},jumpNextSentence:()=>{Cs()},jumpPrevSentence:()=>{Zr()},toggleMainSubtitleRtl:()=>{De(D=>!D)},toggleSecondarySubtitleRtl:()=>{ot(D=>!D)},toggleSkipSubtitleGaps:()=>{ks(D=>!D)}};for(const[D,me]of Object.entries(K)){const he=sn[D];if(he&&he.code===v.code)return Ch(v),me(),On(),!0}return!1},[Vn,Hn,On,Cs,Zr,Fe,sn,Ht]),Qn=x.useCallback(v=>Ii(v)?!0:xw(v,{video:n.current,seekBy:Jr,toggleFullscreen:gr,toggleMute:vr,togglePlayback:Ri,toggleSecondarySubtitle:Ht,stepVolume:mn,ignoreSecondarySubtitleShortcut:!!sn.toggleSecondarySubtitle}),[Ii,Jr,sn,mn,gr,vr,Ri,Ht]),br=x.useCallback(v=>{Qn(v.nativeEvent)&&(v.preventDefault(),v.stopPropagation())},[Qn]);return x.useEffect(()=>{if(e)return document.addEventListener("keydown",Qn,!0),()=>{document.removeEventListener("keydown",Qn,!0)}},[Qn,e]),x.useEffect(()=>{if(e)return;const v=n.current;v&&!v.paused&&v.pause()},[e]),x.useEffect(()=>{if(!A){qn(),dr(!0);return}Mn()},[qn,A,Mn]),x.useEffect(()=>{if(!ct){wn(),Ei(!0);return}ei()},[wn,ct,ei]),x.useEffect(()=>()=>{qn(),wn()},[qn,wn]),x.useEffect(()=>()=>{hn.current!==null&&window.clearTimeout(hn.current)},[]),a.jsx("div",{className:"space-y-6",onKeyDown:br,children:a.jsxs("section",{className:"space-y-4",children:[a.jsxs("div",{ref:t,className:`relative aspect-video overflow-hidden rounded-lg bg-black shadow-xl focus:outline-none focus-visible:none ${ct&&!en?"cursor-none":""}`,onDoubleClick:gr,onMouseMove:$e,onMouseLeave:()=>{A&&dr(!1)},onFocusCapture:Fi,tabIndex:-1,children:[a.jsx("video",{ref:n,className:"h-full w-full focus:outline-none focus-visible:outline-none",onClick:()=>{Ri(),On()},onTimeUpdate:Ro,src:f??void 0,preload:"metadata",tabIndex:-1,children:a.jsx("track",{kind:"subtitles",srcLang:"en",label:H||"Subtitles"})}),a.jsx("div",{className:`pointer-events-none absolute inset-0 z-40 flex items-center justify-center transition-opacity duration-300 ${lt===null?"opacity-0":"opacity-100"}`,"aria-hidden":!0,children:a.jsxs("div",{className:"rounded-full bg-black/50 px-4 py-2 text-lg font-semibold text-white/90 shadow-lg backdrop-blur-sm",children:[lt??Math.round(ze*100),"%"]})}),a.jsx("div",{className:`absolute inset-x-0 bottom-0 z-20 flex flex-col gap-3 bg-gradient-to-t from-black/80 via-black/40 to-transparent px-4 pb-4 pt-6 text-white transition-opacity duration-300 ${Ci?"opacity-100":"pointer-events-none opacity-0"}`,onDoubleClick:v=>v.stopPropagation(),children:a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("input",{type:"range",min:0,max:et?Math.max(et/1e3,0):0,step:.1,value:et?Math.min(k/1e3,et/1e3):0,onChange:Oi,onKeyDown:br,onFocus:v=>{v.currentTarget.blur(),On()},className:"player-timeline w-full cursor-pointer","aria-label":"Seek position",disabled:!et,tabIndex:-1,style:{"--timeline-gradient":`linear-gradient(90deg, rgba(56, 189, 248, 0.6) 0%, rgba(56, 189, 248, 0.6) ${Rn}%, rgba(148, 163, 184, 0.35) ${Rn}%, rgba(148, 163, 184, 0.35) 100%)`}}),a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-sm",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxs("button",{type:"button",className:`group play-variant variant-24 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-200 ${A?"is-paused":""}`,onClick:()=>{Ri(),On()},"aria-label":A?"Pause video":"Play video",children:[a.jsx("span",{className:"play-variant-icon","aria-hidden":!0}),a.jsx("span",{className:"player-tooltip",children:"Space"})]}),a.jsxs("div",{className:"group relative flex items-center gap-2",children:[a.jsxs("button",{type:"button",className:"player-icon-button text-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-200",onClick:()=>{vr(),On()},"aria-label":be?"Unmute video":"Mute video",children:[a.jsx("span",{"aria-hidden":!0,children:be?"":""}),a.jsx("span",{className:"player-tooltip",children:"M"})]}),a.jsx("div",{className:"max-w-0 overflow-hidden transition-all duration-300 group-hover:max-w-[120px]",children:a.jsx("input",{id:"player-volume",type:"range",min:0,max:1,step:.05,value:be?0:ze,onChange:Sa,onKeyDown:br,className:"player-volume w-24 cursor-pointer","aria-label":"Volume"})})]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/70",style:{fontFamily:'"Comic Sans MS", "Comic Sans", cursive'},children:[Ns," / ",Ye]}),a.jsx("div",{className:"flex flex-wrap items-center gap-2",children:a.jsx("div",{className:"flex flex-row-reverse items-center gap-2",children:a.jsxs("button",{type:"button",className:"group player-icon-button text-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-200",onClick:()=>{gr(),On()},"aria-label":ct?"Exit fullscreen":"Enter fullscreen",children:[a.jsx("span",{"aria-hidden":!0,children:""}),a.jsx("span",{className:"player-tooltip",children:"F"})]})})})]})]})}),Ve&&Li.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"pointer-events-none absolute inset-0 z-30 flex flex-col justify-start p-6",children:a.jsx("div",{className:"pointer-events-none flex flex-col items-center gap-3",children:Li.map(v=>a.jsx("div",{className:"subtitle-overlay subtitle-overlay-secondary subtitle-overlay-bg max-w-3xl text-center",children:a.jsx(_h,{cue:v,isRtl:At,className:"justify-center text-center"})},`${v.startMs}-${v.endMs}-bg`))})}),a.jsx("div",{className:"pointer-events-none absolute inset-0 z-40 flex flex-col justify-start p-6",children:a.jsx("div",{className:"pointer-events-none flex flex-col items-center gap-3",children:Li.map(v=>a.jsx("div",{className:"subtitle-overlay subtitle-overlay-secondary max-w-3xl text-center",children:a.jsx(Eh,{cue:v,classForToken:_n,onTokenClick:Pi,onTokenContextMenu:js,isRtl:At,className:"justify-center text-center"})},`${v.startMs}-${v.endMs}`))})})]}),vn.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"pointer-events-none absolute inset-0 z-30 flex flex-col justify-end p-6",children:a.jsx("div",{className:"pointer-events-none flex flex-col items-center gap-3",children:vn.map(v=>a.jsx("div",{className:"subtitle-overlay subtitle-overlay-bg max-w-3xl text-center",children:a.jsx(_h,{cue:v,isRtl:Ie,className:"justify-center text-center"})},`${v.startMs}-${v.endMs}-bg`))})}),a.jsx("div",{className:"pointer-events-none absolute inset-0 z-40 flex flex-col justify-end p-6",children:a.jsx("div",{className:"pointer-events-none flex flex-col items-center gap-3",children:vn.map(v=>a.jsx("div",{className:"subtitle-overlay max-w-3xl text-center",children:a.jsx(Eh,{cue:v,classForToken:_n,onTokenClick:Pi,onTokenContextMenu:js,isRtl:Ie,className:"justify-center text-center"})},`${v.startMs}-${v.endMs}`))})})]})]}),a.jsxs("div",{className:"space-y-4 rounded-lg border border-white/10 bg-white/5 p-4 text-sm text-white/80",children:[a.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[a.jsxs("label",{className:"flex w-full cursor-pointer flex-col gap-2 rounded-lg border border-dashed border-white/20 bg-white/5 p-4 text-sm hover:border-white/40",children:[a.jsx("span",{className:"font-medium",children:"Load video"}),a.jsx("input",{type:"file",accept:"video/*,video/x-matroska,.mkv,.MKV",multiple:!0,className:"hidden",onChange:Mi}),a.jsx("span",{className:"text-xs text-white/60",children:"Automatically pairs a matching .srt when selected together."}),a.jsxs("span",{className:"text-xs text-white/60",children:["Current: ",u||"None"]})]}),a.jsxs("label",{className:"flex w-full cursor-pointer flex-col gap-2 rounded-lg border border-dashed border-white/20 bg-white/5 p-4 text-sm hover:border-white/40",children:[a.jsx("span",{className:"font-medium",children:"Load subtitles (SRT)"}),a.jsx("input",{type:"file",accept:".srt",className:"hidden",onChange:ka}),a.jsxs("span",{className:"text-xs text-white/60",children:["Current: ",H||"None"]}),J&&a.jsx("span",{className:"text-xs text-amber-300",children:"Processing subtitles"}),Ce&&a.jsx("span",{className:"text-xs text-red-400",children:Ce})]}),a.jsxs("label",{className:"flex w-full cursor-pointer flex-col gap-2 rounded-lg border border-dashed border-white/20 bg-white/5 p-4 text-sm hover:border-white/40",children:[a.jsx("span",{className:"font-medium",children:"Load second subtitles (SRT, optional)"}),a.jsx("input",{type:"file",accept:".srt",className:"hidden",onChange:Tn}),a.jsxs("span",{className:"text-xs text-white/60",children:["Current: ",oe||"None"]}),ke&&a.jsx("span",{className:"text-xs text-amber-300",children:"Processing second subtitles"}),we&&a.jsx("span",{className:"text-xs text-red-400",children:we})]})]}),a.jsxs("details",{className:"rounded-lg border border-white/10 bg-white/5 p-4 text-sm",children:[a.jsx("summary",{className:"cursor-pointer list-none font-medium text-white/90",children:"More controls & keyboard shortcuts"}),a.jsxs("div",{className:"mt-4 space-y-3 text-xs text-white/70",children:[a.jsx("p",{className:"text-xs text-white/60",children:"Click a shortcut badge, then press a key. Press Backspace/Delete to clear."}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-xs text-white/80",children:[a.jsx("thead",{className:"text-[11px] uppercase tracking-wide text-white/50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2 pr-4",children:"Function"}),a.jsx("th",{className:"py-2 text-right sm:text-left",children:"Shortcut (click to change)"})]})}),a.jsxs("tbody",{className:"divide-y divide-white/10",children:[a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 pr-4",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Main subtitles timing"}),a.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",onClick:()=>{Hn(-500)},children:"0.5s"}),a.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",onClick:()=>{Hn(500)},children:"+0.5s"}),a.jsxs("span",{className:"text-xs text-white/60",children:["Offset: ",Q>=0?"+":"",(Q/1e3).toFixed(1),"s"]})]})}),a.jsx("td",{className:"py-3",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:justify-start",children:[a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Fe==="mainSubtitleOffsetBack"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>kt("mainSubtitleOffsetBack"),"aria-pressed":Fe==="mainSubtitleOffsetBack",children:gt("mainSubtitleOffsetBack")}),a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Fe==="mainSubtitleOffsetForward"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>kt("mainSubtitleOffsetForward"),"aria-pressed":Fe==="mainSubtitleOffsetForward",children:gt("mainSubtitleOffsetForward")})]})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 pr-4",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Second subtitles timing"}),a.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>{Vn(-500)},disabled:Z.length===0,children:"0.5s"}),a.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>{Vn(500)},disabled:Z.length===0,children:"+0.5s"}),a.jsxs("span",{className:"text-xs text-white/60",children:["Offset: ",re>=0?"+":"",(re/1e3).toFixed(1),"s"]})]})}),a.jsx("td",{className:"py-3",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:justify-start",children:[a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Fe==="secondarySubtitleOffsetBack"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>kt("secondarySubtitleOffsetBack"),"aria-pressed":Fe==="secondarySubtitleOffsetBack",children:gt("secondarySubtitleOffsetBack")}),a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Fe==="secondarySubtitleOffsetForward"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>kt("secondarySubtitleOffsetForward"),"aria-pressed":Fe==="secondarySubtitleOffsetForward",children:gt("secondarySubtitleOffsetForward")})]})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 pr-4",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Second subtitles visible"}),a.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 text-xs font-medium text-white transition hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>{Ht()},disabled:Z.length===0,children:Ve?"On":"Off"})]})}),a.jsx("td",{className:"py-3",children:a.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:justify-start",children:a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Fe==="toggleSecondarySubtitle"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>kt("toggleSecondarySubtitle"),"aria-pressed":Fe==="toggleSecondarySubtitle",children:gt("toggleSecondarySubtitle")})})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 pr-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Main subtitles right-to-left order"}),a.jsx("input",{type:"checkbox",checked:Ie,onChange:v=>De(v.target.checked),className:"h-3 w-3 rounded border-white/30 bg-slate-900"})]})}),a.jsx("td",{className:"py-3",children:a.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:justify-start",children:a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Fe==="toggleMainSubtitleRtl"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>kt("toggleMainSubtitleRtl"),"aria-pressed":Fe==="toggleMainSubtitleRtl",children:gt("toggleMainSubtitleRtl")})})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 pr-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Second subtitles right-to-left order"}),a.jsx("input",{type:"checkbox",checked:At,onChange:v=>ot(v.target.checked),className:"h-3 w-3 rounded border-white/30 bg-slate-900"})]})}),a.jsx("td",{className:"py-3",children:a.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:justify-start",children:a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Fe==="toggleSecondarySubtitleRtl"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>kt("toggleSecondarySubtitleRtl"),"aria-pressed":Fe==="toggleSecondarySubtitleRtl",children:gt("toggleSecondarySubtitleRtl")})})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 pr-4",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Jump to next sentence"}),a.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>{const v=Rt(k);v!==null&&xn(v,{focus:!1})},disabled:Oo===null,children:"Next"})]})}),a.jsx("td",{className:"py-3",children:a.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:justify-start",children:a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Fe==="jumpNextSentence"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>kt("jumpNextSentence"),"aria-pressed":Fe==="jumpNextSentence",children:gt("jumpNextSentence")})})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 pr-4",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Jump to previous sentence"}),a.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>{const v=xr(k);v!==null&&xn(v,{focus:!1})},disabled:Oe===null,children:"Back"})]})}),a.jsx("td",{className:"py-3",children:a.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:justify-start",children:a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Fe==="jumpPrevSentence"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>kt("jumpPrevSentence"),"aria-pressed":Fe==="jumpPrevSentence",children:gt("jumpPrevSentence")})})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 pr-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Skip all gaps between sentences"}),a.jsx("input",{type:"checkbox",checked:fr,onChange:v=>ks(v.target.checked),className:"h-3 w-3 rounded border-white/30 bg-slate-900"})]})}),a.jsx("td",{className:"py-3",children:a.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:justify-start",children:a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Fe==="toggleSkipSubtitleGaps"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>kt("toggleSkipSubtitleGaps"),"aria-pressed":Fe==="toggleSkipSubtitleGaps",children:gt("toggleSkipSubtitleGaps")})})})]})]})]})})]})]})]})]})})}const Ow="./word-frequency.csv";function Mw(e){const t=e.split(/\r?\n/),n=new Map;for(let r=1;r<t.length;r+=1){const i=t[r];if(!i)continue;const o=i.indexOf(","),u=(o===-1?i:i.slice(0,o)).trim().toLowerCase();!u||n.has(u)||n.set(u,r)}return n}async function Lw(){const e=await fetch(Ow);if(!e.ok)throw new Error("Failed to load frequency list.");const t=await e.text();return Mw(t)}let ku=null;function Fw(){return ku||(ku=Lw()),ku}function Iw(e,t){if(!t)return null;const n=t.get(e.stem.toLowerCase());if(typeof n=="number")return n;const r=t.get(e.normalized.toLowerCase());return typeof r=="number"?r:null}function Aw({word:e,frequencyRank:t,onDelete:n,visibleColumns:r}){return a.jsxs("tr",{className:"hover:bg-white/5",children:[r.word&&a.jsx("td",{className:"px-4 py-2 font-medium",children:e.original}),r.originalSentence&&a.jsx("td",{className:"px-4 py-2 text-white/70",children:e.originalSentence?a.jsx("span",{className:"block max-w-xl break-words",children:e.originalSentence}):""}),r.normalized&&a.jsx("td",{className:"px-4 py-2 text-white/70",children:e.normalized}),r.stem&&a.jsx("td",{className:"px-4 py-2 text-white/70",children:e.stem}),r.frequencyRank&&a.jsx("td",{className:"px-4 py-2 text-right text-white/70",children:typeof t=="number"?`#${t.toLocaleString()}`:"-"}),r.updatedAt&&a.jsx("td",{className:"px-4 py-2 text-right text-white/60",children:new Date(e.updatedAt).toLocaleString()}),r.actions&&a.jsx("td",{className:"px-4 py-2 text-right",children:a.jsx("button",{type:"button",className:"rounded border border-red-500/40 px-2 py-1 text-xs font-medium text-red-300 hover:bg-red-500/10",onClick:()=>{n(e.id)},children:"Delete"})})]})}function zw(){const[e,t]=x.useState(null),[n,r]=x.useState(null),[i,o]=x.useState(!1),[u,f]=x.useState(null),[p,g]=x.useState("updatedAt"),[j,S]=x.useState("desc"),[_,B]=x.useState(!1),[z,H]=x.useState({word:!0,originalSentence:!0,normalized:!0,stem:!0,frequencyRank:!0,updatedAt:!0,actions:!0}),[Y,C]=x.useState(null),w=xt(te=>te.words),k=xt(te=>te.initialized),$=xt(te=>te.initialize),J=xt(te=>te.removeWord),G=xt(te=>te.reanalyzeStems);x.useEffect(()=>{k||$()},[k,$]),x.useEffect(()=>{let te=!1;return o(!0),f(null),Fw().then(Z=>{te||C(Z)}).catch(Z=>{te||f(Z instanceof Error?Z.message:"Unable to load frequency list.")}).finally(()=>{te||o(!1)}),()=>{te=!0}},[]);const Q=x.useMemo(()=>{const te=new Map;for(const Z of w)te.set(Z.id,Iw(Z,Y));return te},[Y,w]),ie=x.useMemo(()=>{const te=[...w],Z=j==="asc"?1:-1;return te.sort((X,ke)=>{if(p==="alphabetical")return X.normalized.localeCompare(ke.normalized,void 0,{sensitivity:"base"})*Z;if(p==="frequencyRank"){const V=Q.get(X.id),re=Q.get(ke.id),le=typeof V=="number"?V:Number.POSITIVE_INFINITY,we=typeof re=="number"?re:Number.POSITIVE_INFINITY;return le!==we?j==="asc"?le-we:we-le:X.normalized.localeCompare(ke.normalized,void 0,{sensitivity:"base"})}return(X.updatedAt-ke.updatedAt)*Z}),te},[Q,j,p,w]),Ce=x.useCallback(async()=>{var Z;const te=ie.map(X=>X.original).join(`
`);if(te.trim()===""){t(null),r("No words available to copy.");return}try{if((Z=navigator.clipboard)!=null&&Z.writeText)await navigator.clipboard.writeText(te);else{const X=document.createElement("textarea");X.value=te,X.setAttribute("readonly","true"),X.style.position="absolute",X.style.left="-9999px",document.body.appendChild(X),X.select(),document.execCommand("copy"),document.body.removeChild(X)}t(null),r(`Copied ${ie.length} word${ie.length===1?"":"s"} to the clipboard.`)}catch(X){r(null),t(X instanceof Error?X.message:"Failed to copy words.")}},[ie]),pe=x.useCallback(async()=>{var Z;const te=ie.map(X=>{const ke=(X.originalSentence??"").trim();return`${X.original}, as in "${ke}"`}).join(`
`);if(te.trim()===""){t(null),r("No words available to copy.");return}try{if((Z=navigator.clipboard)!=null&&Z.writeText)await navigator.clipboard.writeText(te);else{const X=document.createElement("textarea");X.value=te,X.setAttribute("readonly","true"),X.style.position="absolute",X.style.left="-9999px",document.body.appendChild(X),X.select(),document.execCommand("copy"),document.body.removeChild(X)}t(null),r(`Copied ${ie.length} word${ie.length===1?"":"s"} with sentences.`)}catch(X){r(null),t(X instanceof Error?X.message:"Failed to copy words.")}},[ie]),Ie=x.useCallback(te=>{g(te),S(te==="updatedAt"?"desc":"asc")},[]),De=x.useCallback(te=>{S(Z=>p===te?Z==="asc"?"desc":"asc":te==="updatedAt"?"desc":"asc"),g(te)},[p]),oe=x.useCallback(async()=>{B(!0),t(null),r(null);try{await G(),r("Re-analyzed stems.")}catch(te){t(te instanceof Error?te.message:"Failed to re-analyze stems.")}finally{B(!1)}},[G]);return k?ie.length===0?a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Unknown Words"}),a.jsx("p",{className:"text-sm text-white/60",children:"Click a word in the player to add it to your learning list."}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>{Ce()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20",children:"Copy Words"}),a.jsx("button",{type:"button",onClick:()=>{pe()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20",children:"Copy Words + Sentences"}),a.jsx("a",{href:"https://chatgpt.com/share/69795a95-8b4c-8013-977d-dc008df46bce",target:"_blank",rel:"noreferrer",className:"rounded bg-emerald-500/20 px-3 py-1 text-xs font-medium text-emerald-200 hover:bg-emerald-500/30",children:"Play with ChatGPT"}),a.jsx("button",{type:"button",onClick:()=>{oe()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20 disabled:opacity-50",disabled:_,children:_?"Re-analyzing":"Re-analyze"})]}),e&&a.jsx("p",{className:"text-xs text-red-400",children:e}),n&&a.jsx("p",{className:"text-xs text-emerald-400",children:n})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Unknown Words"}),a.jsx("p",{className:"text-xs text-white/50",children:"Review your list or prune items you no longer need."})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>{Ce()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20",children:"Copy Words"}),a.jsx("button",{type:"button",onClick:()=>{pe()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20",children:"Copy Words + Sentences"}),a.jsx("a",{href:"https://chatgpt.com/share/69112ad9-3858-8013-a13d-061dd7661a56",target:"_blank",rel:"noreferrer",className:"rounded bg-emerald-500/20 px-3 py-1 text-xs font-medium text-emerald-200 hover:bg-emerald-500/30",children:"Play with ChatGPT"}),a.jsx("button",{type:"button",onClick:()=>{oe()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20 disabled:opacity-50",disabled:_,children:_?"Re-analyzing...":"Re-analyze"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-xs text-white/60",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("span",{children:[ie.length," items"]}),a.jsxs("label",{className:"flex items-center gap-1",children:[a.jsx("span",{children:"Sort"}),a.jsxs("select",{value:p,onChange:te=>{Ie(te.target.value)},className:"rounded border border-white/10 bg-slate-900/80 px-2 py-1 text-white hover:bg-slate-800 focus:outline-none focus-visible:outline-none",children:[a.jsx("option",{value:"updatedAt",className:"bg-slate-900 text-white",children:"Updated"}),a.jsx("option",{value:"alphabetical",className:"bg-slate-900 text-white",children:"A-Z"}),a.jsx("option",{value:"frequencyRank",className:"bg-slate-900 text-white",children:"Frequency Rank"})]})]}),a.jsx("button",{type:"button",className:"rounded border border-white/10 bg-white/5 px-2 py-1 text-white",onClick:()=>S(te=>te==="asc"?"desc":"asc"),children:j==="asc"?"Ascending":"Descending"}),a.jsxs("details",{className:"relative",children:[a.jsxs("summary",{className:"inline-flex cursor-pointer list-none items-center gap-1 rounded border border-white/10 bg-slate-900/80 px-2 py-1 text-white hover:bg-slate-800 focus:outline-none focus-visible:outline-none",children:["View",a.jsx("span",{className:"text-[10px] text-white/70",children:""})]}),a.jsx("div",{className:"absolute left-0 z-10 mt-2 w-56 rounded border border-white/10 bg-slate-900/95 p-3 text-xs text-white shadow-lg",children:[["word","Word"],["originalSentence","Original sentence"],["normalized","Normalized"],["stem","Stem"],["frequencyRank","Frequency Rank"],["updatedAt","Updated"],["actions","Actions"]].map(([te,Z])=>a.jsxs("label",{className:"flex items-center gap-2 py-1",children:[a.jsx("input",{type:"checkbox",className:"h-3 w-3 rounded border-white/30 bg-slate-900",checked:z[te],onChange:()=>H(X=>({...X,[te]:!X[te]}))}),a.jsx("span",{children:Z})]},te))})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i&&a.jsx("span",{children:"Loading frequency ranks..."}),u&&a.jsx("span",{className:"text-amber-300",children:u}),e?a.jsx("span",{className:"text-red-400",children:e}):n?a.jsx("span",{className:"text-emerald-400",children:n}):null]})]}),a.jsx("div",{className:"overflow-hidden rounded-lg border border-white/10",children:a.jsxs("table",{className:"min-w-full divide-y divide-white/10",children:[a.jsx("thead",{className:"bg-white/5 text-left text-xs uppercase tracking-wide text-white/60",children:a.jsxs("tr",{children:[z.word&&a.jsx("th",{className:"px-4 py-2",children:a.jsxs("button",{type:"button",onClick:()=>De("alphabetical"),className:"inline-flex items-center gap-1 hover:text-white",children:["Word",p==="alphabetical"&&a.jsx("span",{className:"text-[10px] text-white/70",children:j==="asc"?"":""})]})}),z.originalSentence&&a.jsx("th",{className:"px-4 py-2",children:"Original sentence"}),z.normalized&&a.jsx("th",{className:"px-4 py-2",children:"Normalized"}),z.stem&&a.jsx("th",{className:"px-4 py-2",children:"Stem"}),z.frequencyRank&&a.jsx("th",{className:"px-4 py-2 text-right",children:a.jsxs("button",{type:"button",onClick:()=>De("frequencyRank"),className:"flex w-full items-center justify-end gap-1 hover:text-white",children:["Frequency Rank",p==="frequencyRank"&&a.jsx("span",{className:"text-[10px] text-white/70",children:j==="asc"?"":""})]})}),z.updatedAt&&a.jsx("th",{className:"px-4 py-2 text-right",children:a.jsxs("button",{type:"button",onClick:()=>De("updatedAt"),className:"flex w-full items-center justify-end gap-1 hover:text-white",children:["Updated",p==="updatedAt"&&a.jsx("span",{className:"text-[10px] text-white/70",children:j==="asc"?"":""})]})}),z.actions&&a.jsx("th",{className:"px-4 py-2 text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-white/10 text-sm",children:ie.map(te=>a.jsx(Aw,{word:te,frequencyRank:Q.get(te.id)??null,onDelete:J,visibleColumns:z},te.id))})]})})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Unknown Words"}),a.jsx("p",{className:"text-sm text-white/60",children:"Loading your saved vocabulary..."})]})}const Dw=[0,1,2,3],Uw=[".mp4",".mkv",".mov",".avi",".m4v",".webm"],Th={minHeight:"60vh",maxHeight:"calc(100vh - 10rem)"};function cl(e){const t=Math.max(0,Math.floor(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60).toString().padStart(2,"0"),i=(t%60).toString().padStart(2,"0");return n>0?`${n}:${r}:${i}`:`${r}:${i}`}function $w(e,t){return e.some(n=>n.isWord&&(n.normalized===t.normalized||n.stem===t.stem))}function Bw(e){return qs(e).map(t=>({...t,tokens:t.tokens??rr(t.rawText)}))}function Kw(){const[e,t]=x.useState(null),[n,r]=x.useState(1),[i,o]=x.useState([]),[u,f]=x.useState(!1),[p,g]=x.useState(!1),[j,S]=x.useState(null),[_,B]=x.useState({}),[z,H]=x.useState(!0),[Y,C]=x.useState(null),[w,k]=x.useState(null),[$,J]=x.useState(null),[G,Q]=x.useState(null),ie=x.useRef(null),Ce=x.useRef(new Map),pe=x.useRef(null),Ie=xt(A=>A.initialized),De=xt(A=>A.initialize),oe=xt(A=>A.words),te=Ge(A=>A.initialized),Z=Ge(A=>A.initialize),X=Ge(A=>A.prefs.mediaLibrary);x.useEffect(()=>{Ie||De()},[Ie,De]),x.useEffect(()=>{te||Z()},[Z,te]),x.useEffect(()=>{const A=new Worker(new URL(""+new URL("srtWorker-CQIlcpsu.js",import.meta.url).href,import.meta.url),{type:"module"}),Ee=be=>{const xe=Ce.current.get(be.data.id);if(xe){if(Ce.current.delete(be.data.id),be.data.error){xe.reject(new Error(be.data.error));return}xe.resolve(be.data.cues)}};return A.addEventListener("message",Ee),ie.current=A,()=>{A.removeEventListener("message",Ee),A.terminate(),ie.current=null;for(const[,be]of Ce.current)be.reject(new Error("Parsing cancelled"));Ce.current.clear()}},[]);const ke=x.useCallback(async A=>{const Ee=ie.current;if(!Ee)return Bw(A);const be=typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2);return new Promise((xe,ze)=>{Ce.current.set(be,{resolve:xe,reject:ze}),Ee.postMessage({id:be,text:A})})},[]),V=x.useCallback(async()=>{if(!(X!=null&&X.handle))return k("Select a media library folder in Settings to enable playback."),null;try{const A=X.handle.queryPermission,Ee=X.handle.requestPermission;if(!A||!Ee)return X.handle;const be=await A.call(X.handle,{mode:"read"});return be==="granted"?X.handle:be==="denied"?(k("Folder access denied. Re-select the library and allow access."),null):await Ee.call(X.handle,{mode:"read"})==="granted"?X.handle:(k("Folder access denied. Re-select the library and allow access."),null)}catch(A){return k(A instanceof Error?A.message:"Unable to use media library."),null}},[X]),re=x.useCallback(async A=>{const Ee=await V();if(!Ee)return null;const be=A.toLowerCase(),xe=[Ee];for(;xe.length>0;){const ze=xe.shift();if(!ze)continue;const dt=ze.values;if(dt)for await(const lt of dt.call(ze))if(lt.kind==="file"){const $n=lt.name.toLowerCase();if(Uw.some(et=>$n===`${be}${et}`))return lt}else lt.kind==="directory"&&xe.push(lt)}return null},[V]),le=x.useCallback(async A=>{k(null),J("Searching for matching video");const Ee=A.file.name.replace(/\.[^.]+$/,"");try{const be=await re(Ee);if(!be){J(null),k("No matching video found under the selected media library.");return}const xe=await be.getFile(),ze=URL.createObjectURL(xe);C(dt=>(dt&&URL.revokeObjectURL(dt),ze)),Q({startMs:A.contextStartMs,endMs:A.contextEndMs}),J(`Playing ${be.name}`),queueMicrotask(()=>{const dt=pe.current;dt&&(dt.currentTime=A.contextStartMs/1e3,dt.play())})}catch(be){J(null),k(be instanceof Error?be.message:"Unable to play quote.")}},[re]),we=x.useCallback(async()=>{f(!0);try{const A=await by();o(A)}finally{f(!1)}},[]);x.useEffect(()=>{we()},[we]),x.useEffect(()=>{let A=!1;if(i.length===0){B({});return}return(async()=>{const Ee=await Promise.all(i.map(async xe=>{const ze=await mi(xe.bytesHash);return[xe.bytesHash,ze??[]]}));if(A)return;const be={};for(const[xe,ze]of Ee)be[xe]=ze;B(be)})(),()=>{A=!0}},[i]),x.useEffect(()=>()=>{C(Ee=>(Ee&&URL.revokeObjectURL(Ee),null));const A=pe.current;A&&(A.pause(),A.removeAttribute("src"),A.load())},[]),x.useEffect(()=>{const A=pe.current;if(!A||!G)return;const Ee=()=>{G&&A.currentTime*1e3>=G.endMs&&A.pause()};return A.addEventListener("timeupdate",Ee),()=>{A.removeEventListener("timeupdate",Ee)}},[G,Y]);const je=x.useMemo(()=>oe,[oe]);x.useEffect(()=>{if(je.length===0){t(null);return}(!e||!je.some(A=>A.id===e))&&t(je[0].id)},[je,e]);const Ve=x.useMemo(()=>je.find(A=>A.id===e)??null,[je,e]),ut=x.useMemo(()=>{if(!Ve)return[];const A=[];for(const Ee of i){const be=_[Ee.bytesHash]??[];be.forEach((xe,ze)=>{var cr,Ci;const dt=xe.tokens??rr(xe.rawText);if(!$w(dt,Ve))return;const lt=Math.max(0,ze-n),$n=Math.min(be.length-1,ze+n),et=be.slice(lt,$n+1);A.push({id:`${Ee.id}:${xe.index}:${lt}:${$n}`,file:Ee,focusIndex:ze-lt,cues:et,contextStartMs:((cr=et[0])==null?void 0:cr.startMs)??xe.startMs,contextEndMs:((Ci=et[et.length-1])==null?void 0:Ci.endMs)??xe.endMs})})}return A.sort((Ee,be)=>Ee.file.name===be.file.name?Ee.contextStartMs-be.contextStartMs:Ee.file.name.localeCompare(be.file.name))},[Ve,i,_,n]),At=x.useCallback(A=>{t(A)},[]),ot=x.useCallback(A=>{r(Number(A.target.value))},[]),ct=x.useCallback(async A=>{const Ee=A.target.files;if(!(!Ee||Ee.length===0)){g(!0),S(null);try{for(const be of Array.from(Ee))try{const xe=await _c(be);let ze=await mi(xe);if(!ze){const dt=await Pc(be);ze=await ke(dt),await Tc(xe,ze)}await di({name:be.name,bytesHash:xe,totalCues:ze.length})}catch(xe){const ze=xe instanceof Error?xe.message:"Failed to add subtitle file.";S(`Failed to process ${be.name}: ${ze}`)}await we()}finally{g(!1),A.target.value=""}}},[ke,we]),Ss=x.useCallback(async A=>{await kw(A.id),B(Ee=>{const be={...Ee};return delete be[A.bytesHash],be}),await we()},[we]);return a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr,2fr]",children:[a.jsx("section",{className:"space-y-4",children:a.jsxs("div",{className:"rounded-lg bg-black/40 p-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Unknown words"}),je.length===0?a.jsx("p",{className:"mt-3 text-sm text-white/60",children:"Add words from the player to explore their quotes."}):a.jsx("div",{className:"mt-3 space-y-2 overflow-y-auto pr-1",style:{minHeight:Th.minHeight,maxHeight:Th.maxHeight},children:je.map(A=>a.jsx("div",{children:a.jsxs("button",{type:"button",onClick:()=>At(A.id),className:`flex w-full flex-col gap-1 rounded-lg border px-3 py-2 text-left transition focus:outline-none focus-visible:outline-none ${A.id===e?"border-emerald-500 bg-emerald-500/10 text-white":"border-white/10 bg-white/5 text-white/80 hover:border-white/20 hover:text-white"}`,children:[a.jsx("span",{className:"text-sm font-medium text-white",children:A.original}),a.jsx("div",{className:"text-xs text-white/60",children:"Tap to see contexts"})]})},A.id))})]})}),a.jsxs("section",{className:"space-y-6",children:[a.jsxs("div",{className:"rounded-lg bg-black/40 p-4",children:[a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Subtitle sources"}),a.jsx("p",{className:"text-sm text-white/60",children:"Quotes are gathered from the files listed below."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>H(A=>!A),disabled:i.length===0,className:`rounded-md border px-3 py-2 text-xs font-medium text-white transition focus:outline-none focus-visible:outline-none ${i.length===0?"cursor-not-allowed border-white/10 bg-white/5 text-white/40":"border-white/20 bg-white/10 hover:border-white/30 hover:bg-white/20"}`,children:i.length===0?"No files yet":z?"Collapse list":`Expand list (${i.length})`}),a.jsxs("label",{className:"inline-flex cursor-pointer items-center gap-2 rounded-md border border-dashed border-white/20 bg-white/5 px-3 py-2 text-sm text-white/80 transition hover:border-white/40",children:[a.jsx("input",{type:"file",accept:".srt",multiple:!0,className:"hidden",onChange:ct}),a.jsx("span",{className:"font-medium",children:"Add subtitles"})]})]})]}),p&&a.jsx("p",{className:"mt-3 text-xs text-white/50",children:"Processing subtitle files"}),j&&a.jsx("p",{className:"mt-2 text-xs text-red-400",children:j}),z?a.jsx("ul",{className:"mt-4 max-h-64 space-y-2 overflow-y-auto pr-1",children:u?a.jsx("li",{className:"text-sm text-white/60",children:"Loading files"}):i.length===0?a.jsx("li",{className:"text-sm text-white/60",children:"No subtitle files stored yet."}):i.map(A=>a.jsxs("li",{className:"flex items-center justify-between rounded-md border border-white/10 bg-white/5 px-3 py-2 text-sm text-white/80",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-white",children:A.name}),a.jsxs("div",{className:"text-xs text-white/50",children:[A.totalCues," cues  Added ",new Date(A.addedAt).toLocaleString()]})]}),a.jsx("button",{type:"button",onClick:()=>Ss(A),className:"rounded bg-white/10 px-2 py-1 text-xs text-white transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",children:"Remove"})]},A.id))}):a.jsx("p",{className:"mt-4 text-sm text-white/70",children:u?"Loading files":i.length===0?"No subtitle files stored yet.":`${i.length} subtitle file${i.length===1?"":"s"} stored. Expand to manage them.`})]}),a.jsxs("div",{className:"rounded-lg bg-black/40 p-4",children:[a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Quote contexts"}),a.jsxs("label",{className:"flex items-center gap-2 text-sm text-white/70",children:[a.jsx("span",{children:"Context lines"}),a.jsx("select",{value:n,onChange:ot,className:"rounded-md border border-white/20 bg-white/5 px-2 py-1 focus:outline-none focus-visible:outline-none",children:Dw.map(A=>a.jsx("option",{value:A,children:A},A))})]})]}),a.jsxs("div",{className:"mt-3 space-y-2 rounded-md border border-white/10 bg-black/40 p-3 text-sm text-white/80",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Quote playback"}),$&&a.jsx("span",{className:"text-xs text-white/60",children:$})]}),Y?a.jsx("video",{ref:pe,controls:!0,className:"w-full rounded border border-white/10",src:Y,onLoadedMetadata:()=>{G&&pe.current&&(pe.current.currentTime=G.startMs/1e3)}}):a.jsx("p",{className:"text-xs text-white/60",children:"Select a media library folder in Settings to enable quote playback. Matching videos will be looked up by subtitle filename."}),G&&a.jsxs("p",{className:"text-xs text-white/60",children:["Segment: ",cl(G.startMs),"  ",cl(G.endMs)]}),w&&a.jsx("p",{className:"text-xs text-red-400",children:w})]}),Ve?ut.length===0?a.jsx("p",{className:"mt-3 text-sm text-white/60",children:"No quotes found for this word in the stored subtitle files."}):a.jsx("ul",{className:"mt-4 space-y-4",children:ut.map(A=>a.jsxs("li",{className:"space-y-2 rounded-md border border-white/10 bg-white/5 p-3 text-sm text-white/80",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-xs text-white/60",children:[a.jsx("span",{className:"font-medium text-white",children:A.file.name}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("span",{children:[cl(A.contextStartMs),"  ",cl(A.contextEndMs)]}),a.jsx("button",{type:"button",onClick:()=>void le(A),disabled:!(X!=null&&X.handle),className:"rounded border border-white/20 bg-white/10 px-2 py-1 text-[11px] font-medium text-white transition hover:border-white/30 hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/10 disabled:text-white/40",children:"Play quote"})]})]}),a.jsx("div",{className:"space-y-1 rounded bg-black/40 p-2",children:A.cues.map((Ee,be)=>a.jsx("p",{className:`whitespace-pre-line ${be===A.focusIndex?"font-semibold text-white":"text-white/80"}`,children:Ee.rawText},`${Ee.index}-${be}`))})]},A.id))}):a.jsx("p",{className:"mt-3 text-sm text-white/60",children:"Select a word to see how it appears across your subtitles."})]})]})]})}const Nl="prefs";function ba(e){return{...e,mediaLibrary:void 0}}function ea(e){return e}function Mr(e){return Array.isArray(e)?e:[]}function Rh(e){if(typeof e!="string")return e;const t=e.trim();if(!t)return e;try{return JSON.parse(t)}catch{return e}}function Oh(e){if(!e||typeof e!="object")return!1;const t=e;return Array.isArray(t.words)||Array.isArray(t.subtitleFiles)||Array.isArray(t.subtitleCues)||Array.isArray(t.sessions)||!!(t.prefs&&typeof t.prefs=="object")}function ky(e){if(!e||typeof e!="object")throw new Error("Invalid backup file.");const t=[e,e.data,e.payload,e.backup];for(const n of t){const r=Rh(n);if(Oh(r))return r;if(r&&typeof r=="object"&&"data"in r){const i=Rh(r.data);if(Oh(i))return i}}throw new Error("Invalid backup file: missing data.")}function jy(e,t,n,r,i){return{words:e.length,subtitleFiles:t.length,subtitleCues:n.length,sessions:r.length,hasPrefs:!!i}}function Ww(e){const t=ky(e),n=Mr(t.words),r=Mr(t.subtitleFiles),i=Mr(t.subtitleCues),o=t.prefs&&typeof t.prefs=="object"?ba(t.prefs):void 0,u=Mr(t.sessions).map(ea);return jy(n,r,i,u,o)}function Oc(e,t){return e&&e.trim()?e:t??""}function Hw(e,t){const n=new Map,r=i=>`${i.normalized}::${i.stem}`;for(const i of e)n.set(r(i),i);for(const i of t){const o=r(i),u=n.get(o);if(!u){n.set(o,i);continue}const f=(i.updatedAt??0)>=(u.updatedAt??0),p=f?i:u,g=f?u:i,j=Math.min(u.createdAt??p.createdAt??Date.now(),i.createdAt??p.createdAt??Date.now());n.set(o,{id:u.id,original:Oc(p.original,g.original),originalSentence:Oc(p.originalSentence,g.originalSentence)||void 0,normalized:u.normalized||i.normalized,stem:u.stem||i.stem,createdAt:j,updatedAt:Math.max(u.updatedAt??0,i.updatedAt??0)})}return Array.from(n.values())}function Vw(e,t){const n=new Map;for(const r of e)n.set(r.bytesHash,r);for(const r of t){const i=n.get(r.bytesHash);if(!i){n.set(r.bytesHash,r);continue}const o=(r.addedAt??0)>=(i.addedAt??0),u=o?r:i,f=o?i:r;n.set(r.bytesHash,{id:i.id,name:Oc(u.name,f.name),bytesHash:i.bytesHash,totalCues:Math.max(i.totalCues??0,r.totalCues??0),language:u.language??f.language,addedAt:Math.max(i.addedAt??0,r.addedAt??0)})}return Array.from(n.values())}function qw(e,t){const n=new Map;for(const r of e)n.set(r.id,r);for(const r of t)n.set(r.id,r);return Array.from(n.values())}function Qw(e,t){if(!t)return e;const n=e??t;return ba({...n,...t,subtitleStyle:{...n.subtitleStyle,...t.subtitleStyle},highlightColors:{...n.highlightColors,...t.highlightColors}})}function Yw(e,t){const n=new Map;for(const r of e)n.set(r.id,r);for(const r of t){const i=n.get(r.id);(!i||(r.updatedAt??0)>=(i.updatedAt??0))&&n.set(r.id,r)}return Array.from(n.values())}async function dl(e,t,n,r){if(t.length!==0)for(let i=0;i<t.length;i+=n){const o=t.slice(i,i+n);await e.bulkPut(o),r(o.length)}}async function Gw(){const[e,t,n,r,i]=await Promise.all([tt([],()=>Ne.words.toArray()),tt([],()=>Ne.subtitleFiles.toArray()),tt([],()=>Ne.subtitleCues.toArray()),tt(void 0,()=>Ne.prefs.get(Nl)),tt([],()=>Ne.sessions.toArray())]),o=r!=null&&r.value?ba(r.value):void 0,u=i.map(ea);return{payload:{version:1,exportedAt:new Date().toISOString(),data:{words:e,subtitleFiles:t,subtitleCues:n,prefs:o,sessions:u}},counts:{words:e.length,addedWords:0,subtitleFiles:t.length,addedSubtitleFiles:0,subtitleCues:n.length,sessions:u.length,hasPrefs:!!o}}}async function Xw(e,t){const n=(V,re)=>{var le;(le=t==null?void 0:t.onProgress)==null||le.call(t,{percent:V,stage:re})},r=ky(e);if(n(2,"Opening database"),!await Rd())return{words:0,addedWords:0,subtitleFiles:0,addedSubtitleFiles:0,subtitleCues:0,sessions:0,hasPrefs:!1};const o=Mr(r.words),u=Mr(r.subtitleFiles),f=Mr(r.subtitleCues),p=r.prefs&&typeof r.prefs=="object"?ba(r.prefs):void 0,g=Mr(r.sessions).map(ea),j=jy(o,u,f,g,p);n(5,"Loading existing data");const[S,_,B,z,H]=await Promise.all([tt([],()=>Ne.words.toArray()),tt([],()=>Ne.subtitleFiles.toArray()),tt([],()=>Ne.subtitleCues.toArray()),tt(void 0,()=>Ne.prefs.get(Nl)),tt([],()=>Ne.sessions.toArray())]),Y=H.map(ea);n(25,"Merging data");const C=Hw(S,o),w=Vw(_,u),k=qw(B,f),$=Qw(z==null?void 0:z.value,p),J=Yw(Y,g);Math.max(0,C.length-S.length),Math.max(0,w.length-_.length);const G=C.length+w.length+k.length+($?1:0)+J.length;let Q=0;const ie=35,Ce=95,pe=(V,re=0)=>{if(G===0){n(Ce,V);return}re>0&&(Q+=re);const le=ie+Q/G*(Ce-ie);n(Math.min(Ce,Math.max(ie,le)),V)};C.length>0&&(pe("Saving words"),await Dt(()=>dl(Ne.words,C,500,V=>pe("Saving words",V)))),w.length>0&&(pe("Saving subtitle files"),await Dt(()=>dl(Ne.subtitleFiles,w,200,V=>pe("Saving subtitle files",V)))),k.length>0&&(pe("Saving subtitle cues"),await Dt(()=>dl(Ne.subtitleCues,k,1e3,V=>pe("Saving subtitle cues",V)))),$&&(pe("Saving preferences"),await Dt(()=>Ne.prefs.put({id:Nl,value:$,updatedAt:Date.now()})),pe("Saving preferences",1)),J.length>0&&(pe("Saving sessions"),await Dt(()=>dl(Ne.sessions,J,200,V=>pe("Saving sessions",V)))),n(100,"Finalizing");const[Ie,De,oe,te,Z]=await Promise.all([tt(0,()=>Ne.words.count()),tt(0,()=>Ne.subtitleFiles.count()),tt(0,()=>Ne.subtitleCues.count()),tt(0,()=>Ne.sessions.count()),tt(void 0,()=>Ne.prefs.get(Nl))]),X=j.words>0||j.subtitleFiles>0||j.subtitleCues>0||j.sessions>0||j.hasPrefs,ke=!!(Z!=null&&Z.value);if(X&&Ie===0&&De===0&&oe===0&&te===0&&!ke)throw new Error("Import did not write any data. Check browser storage permissions and retry.");return{words:Ie,addedWords:Math.max(0,Ie-S.length),subtitleFiles:De,addedSubtitleFiles:Math.max(0,De-_.length),subtitleCues:oe,sessions:te,hasPrefs:ke}}function Jw(){const e=Ge(oe=>oe.prefs.subtitleStyle),t=Ge(oe=>oe.prefs.highlightColors),n=Ge(oe=>oe.prefs.mediaLibrary),r=Ge(oe=>oe.updateSubtitleStyle),i=Ge(oe=>oe.updateHighlightColors),o=Ge(oe=>oe.setMediaLibrary),u=Ge(oe=>oe.initialized),f=Ge(oe=>oe.initialize),[p,g]=x.useState(null),[j,S]=x.useState(null),[_,B]=x.useState(null),[z,H]=x.useState(!1),[Y,C]=x.useState(!1),[w,k]=x.useState(null),[$,J]=x.useState(0),G=x.useRef(null);x.useEffect(()=>{u||f()},[u,f]),x.useEffect(()=>{if(!Y){J(0);return}const oe=Date.now();J(0);const te=window.setInterval(()=>{J(Math.floor((Date.now()-oe)/1e3))},1e3);return()=>{window.clearInterval(te)}},[Y]);const Q=(oe,te)=>{const Z=Number(oe.target.value);Number.isFinite(Z)&&r({[te]:te==="lineHeight"?Number(Z.toFixed(2)):Z})},ie=typeof window<"u"&&"showDirectoryPicker"in window,Ce=async()=>{var oe;if(g(null),!ie){g("Your browser does not support choosing a folder");return}try{const te=await((oe=window.showDirectoryPicker)==null?void 0:oe.call(window));if(!te)return;const Z=te.requestPermission;if(Z&&await Z.call(te,{mode:"read"})==="denied"){g("Folder access was denied. Please allow access to play quotes.");return}await o({handle:te,label:te.name,lastPromptedAt:Date.now()})}catch(te){g(te instanceof Error?te.message:"Unable to pick folder.")}},pe=async()=>{g(null),await o(void 0)},Ie=async()=>{S(null),B(null),H(!0);try{const{payload:oe,counts:te}=await Gw(),Z=new Blob([JSON.stringify(oe,null,2)],{type:"application/json"}),X=URL.createObjectURL(Z),ke=document.createElement("a");ke.href=X,ke.download=`subtitle-word-tracker-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(ke),ke.click(),document.body.removeChild(ke),URL.revokeObjectURL(X),B(`Exported ${te.words} word${te.words===1?"":"s"} and ${te.subtitleFiles} subtitle file${te.subtitleFiles===1?"":"s"}.`)}catch(oe){B(null),S(oe instanceof Error?oe.message:"Unable to export data.")}finally{H(!1)}},De=async oe=>{var Z;const te=(Z=oe.target.files)==null?void 0:Z[0];if(te){S(null),B(null),C(!0),k({percent:5,stage:"Reading file"});try{const X=await te.text();k({percent:15,stage:"Parsing backup"});const ke=JSON.parse(X),V=Ww(ke);k({percent:15,stage:`Parsed backup (${V.words} words, ${V.subtitleFiles} files)`});const re=await Xw(ke,{onProgress:le=>{const we=Math.min(100,Math.max(15,15+le.percent*.85));k({percent:we,stage:le.stage})}});Ge.setState({initialized:!1}),Ge.getState().initialize(),xt.setState({initialized:!1}),xt.getState().initialize(),B(`Merged data. Now storing ${re.words} word${re.words===1?"":"s"} (${re.addedWords} added) and ${re.subtitleFiles} subtitle file${re.subtitleFiles===1?"":"s"} (${re.addedSubtitleFiles} added).`)}catch(X){B(null),S(X instanceof Error?X.message:"Unable to import data.")}finally{C(!1),k(null),oe.target.value=""}}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Subtitle Appearance"}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Font family"}),a.jsx("input",{type:"text",value:e.fontFamily,onChange:oe=>void r({fontFamily:oe.target.value}),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Font size (px)"}),a.jsx("input",{type:"number",min:16,max:96,value:e.fontSizePx,onChange:oe=>Q(oe,"fontSizePx"),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Second subtitle font size (px)"}),a.jsx("input",{type:"number",min:16,max:96,value:e.useMainForSecondaryFontSize?e.fontSizePx:e.secondaryFontSizePx,onChange:oe=>Q(oe,"secondaryFontSizePx"),disabled:e.useMainForSecondaryFontSize,className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none disabled:text-white/40"})]}),a.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[a.jsx("input",{type:"checkbox",checked:e.useMainForSecondaryFontSize,onChange:oe=>void r({useMainForSecondaryFontSize:oe.target.checked}),className:"h-4 w-4 rounded border-white/20 bg-black/60"}),a.jsx("span",{className:"text-white/70",children:"Same as main"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Font weight"}),a.jsx("input",{type:"number",min:300,max:900,step:100,value:e.fontWeight,onChange:oe=>Q(oe,"fontWeight"),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Line height"}),a.jsx("input",{type:"number",min:1,max:2,step:.05,value:e.lineHeight,onChange:oe=>Q(oe,"lineHeight"),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Text color"}),a.jsx("input",{type:"color",value:e.color,onChange:oe=>void r({color:oe.target.value}),className:"h-10 w-full cursor-pointer rounded-md border border-white/10 bg-black/40"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Background"}),a.jsx("input",{type:"text",value:e.bgColor,onChange:oe=>void r({bgColor:oe.target.value}),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none",placeholder:"rgba(0,0,0,0.35)"})]}),a.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[a.jsx("input",{type:"checkbox",checked:e.outline,onChange:oe=>void r({outline:oe.target.checked}),className:"h-4 w-4 rounded border-white/20 bg-black/60"}),a.jsx("span",{className:"text-white/70",children:"Outline text"})]}),a.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[a.jsx("input",{type:"checkbox",checked:e.shadow,onChange:oe=>void r({shadow:oe.target.checked}),className:"h-4 w-4 rounded border-white/20 bg-black/60"}),a.jsx("span",{className:"text-white/70",children:"Drop shadow"})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Highlight Colors"}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Exact match"}),a.jsx("input",{type:"color",value:t.exact,onChange:oe=>void i({exact:oe.target.value}),className:"h-10 w-full cursor-pointer rounded-md border border-white/10 bg-black/40"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Variant match"}),a.jsx("input",{type:"color",value:t.variant,onChange:oe=>void i({variant:oe.target.value}),className:"h-10 w-full cursor-pointer rounded-md border border-white/10 bg-black/40"})]})]})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Media Library"}),a.jsx("p",{className:"text-sm text-white/70",children:"Pick the root folder that contains your shows/movies. This enables future quote-level playback by searching for matching video files alongside your subtitles."}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsx("button",{type:"button",onClick:Ce,className:"rounded-md border border-white/20 bg-white/10 px-3 py-2 text-sm font-medium text-white transition hover:border-white/30 hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/10 disabled:text-white/40",children:"Choose folder"}),a.jsx("button",{type:"button",onClick:pe,disabled:!n,className:"rounded-md border border-white/10 px-3 py-2 text-sm text-white/70 transition hover:border-white/30 hover:bg-white/10 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/5 disabled:text-white/40",children:"Clear selection"}),!ie&&a.jsx("span",{className:"text-xs text-amber-300",children:"Folder selection requires a Chromium-based browser."})]}),n?a.jsxs("p",{className:"text-sm text-white/70",children:["Selected: ",a.jsx("span",{className:"font-semibold text-white",children:n.label??"Folder"})]}):a.jsx("p",{className:"text-sm text-white/60",children:"No folder selected yet."}),p&&a.jsx("p",{className:"text-sm text-red-400",children:p})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Data Transfer"}),a.jsx("p",{className:"text-sm text-white/70",children:"Export a full backup of your words, subtitles database, preferences, and last session. Import merges with existing data; newer timestamps win for words and subtitle files, and prefs from the backup override local settings. Media library folder access cannot be exported; reselect it after import."}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsx("button",{type:"button",onClick:Ie,disabled:z,className:"rounded-md border border-white/20 bg-white/10 px-3 py-2 text-sm font-medium text-white transition hover:border-white/30 hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/10 disabled:text-white/40",children:z?"Exporting...":"Export everything"}),a.jsx("button",{type:"button",onClick:()=>{var oe;return(oe=G.current)==null?void 0:oe.click()},disabled:Y,className:"rounded-md border border-white/20 bg-white/10 px-3 py-2 text-sm font-medium text-white transition hover:border-white/30 hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/10 disabled:text-white/40",children:Y?"Importing...":"Import everything"}),a.jsx("input",{ref:G,type:"file",accept:".json",className:"hidden",onChange:De})]}),Y&&w?a.jsxs("div",{className:"mt-2 w-full",children:[a.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded bg-white/10",children:a.jsx("div",{className:"h-full bg-emerald-400 transition-all duration-300",style:{width:`${w.percent}%`}})}),a.jsxs("p",{className:"mt-1 text-xs text-white/60",children:["Importing: ",w.stage," (",Math.round(w.percent),"%, ",$,"s)"]})]}):null,j&&a.jsx("p",{className:"text-sm text-red-400",children:j}),_&&a.jsx("p",{className:"text-sm text-emerald-400",children:_})]}),a.jsxs("section",{className:"space-y-2",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Preview"}),a.jsxs("div",{className:"rounded-lg border border-white/10 bg-black/60 p-4 text-center text-lg",style:{fontFamily:e.fontFamily,fontSize:e.fontSizePx,fontWeight:e.fontWeight,lineHeight:e.lineHeight,color:e.color,textShadow:e.shadow?"0 2px 8px rgba(0,0,0,0.8)":"none",WebkitTextStroke:e.outline?"1px rgba(0,0,0,0.9)":"0",background:e.bgColor},children:["Subtitle preview with ",a.jsx("span",{style:{background:t.exact},children:"exact"})," and",a.jsx("span",{style:{background:t.variant,marginLeft:8},children:"variant"})," highlights."]})]})]})}function Zw(e,t){return t===0?0:Math.round(e/t*1e3)/10}function eb(){const e=xt(j=>j.words),t=xt(j=>j.initialize),n=xt(j=>j.initialized),[r,i]=x.useState([]),[o,u]=x.useState(!1),[f,p]=x.useState({totalTokens:0,unknownTokens:0});x.useEffect(()=>{n||t()},[t,n]),x.useEffect(()=>{let j=!1;return(async()=>{u(!0);const _=await by();j||(i(_),u(!1))})(),()=>{j=!0}},[]),x.useEffect(()=>{let j=!1;if(r.length===0){p({totalTokens:0,unknownTokens:0});return}return(async()=>{const _=new Map,B=new Map;for(const Y of e)_.set(Y.normalized.toLowerCase(),Y),B.set(Y.stem,Y);let z=0,H=0;for(const Y of r){const C=await mi(Y.bytesHash);if(C)for(const w of C){const k=w.tokens??rr(w.rawText);for(const $ of k){if(!$.isWord)continue;z+=1,(_.get($.normalized)??B.get($.stem))&&(H+=1)}}}j||p({totalTokens:z,unknownTokens:H})})(),()=>{j=!0}},[r,e]);const g=x.useMemo(()=>f.unknownTokens===0?null:Math.max(1,Math.round(f.totalTokens/f.unknownTokens)),[f.totalTokens,f.unknownTokens]);return a.jsx("div",{className:"space-y-6",children:a.jsxs("section",{className:"grid gap-4 md:grid-cols-3",children:[a.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-4",children:[a.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Unknown words saved"}),a.jsx("p",{className:"mt-2 text-2xl font-semibold text-white",children:e.length}),a.jsx("p",{className:"text-xs text-white/60",children:e.length===0?"Add words from the player to start tracking.":`Covers ${f.totalTokens.toLocaleString()} word tokens in your library.`})]}),a.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-4",children:[a.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Encounter rate"}),a.jsx("p",{className:"mt-2 text-2xl font-semibold text-white",children:g?`1 in ${g}`:""}),a.jsx("p",{className:"text-xs text-white/60",children:f.totalTokens===0?"Add subtitles to measure coverage.":`${Zw(f.unknownTokens,f.totalTokens)}% of words you see are on your unknown list.`})]}),a.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-4",children:[a.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Library coverage"}),a.jsx("p",{className:"mt-2 text-2xl font-semibold text-white",children:r.length}),a.jsxs("p",{className:"text-xs text-white/60",children:["Subtitle files stored  ",o?"Loading":`${f.totalTokens.toLocaleString()} word tokens scanned`]})]})]})})}const ju=64*1024,Mh="https://api.opensubtitles.com/api/v1",Nu="oq1XXcuCnNOnaFDKbknI2pxaQO8TiiU5",Lh="Er4Y8GbS7JoCcLf9oJmjc2noj2wIsrNu",Fh="UVUt5ZRVmROJD7ot9JVJY63n8RTIhxYW",tb="ofir gaash v1.0",Ih=async(e,t,n)=>{const i=await e.slice(t,t+n).arrayBuffer();return new DataView(i)},Ah=e=>{let t=0n;const n=e.byteLength-e.byteLength%8;for(let r=0;r<n;r+=8)t+=e.getBigUint64(r,!0);return t},nb=async e=>{const t=e.size,n=await Ih(e,0,ju),r=Math.max(0,t-ju),i=await Ih(e,r,ju);let o=BigInt(t);return o+=Ah(n),o+=Ah(i),o.toString(16).padStart(16,"0")},zh=e=>({"Api-Key":e.trim(),"Content-Type":"application/json","X-User-Agent":tb}),Cu=async e=>{let t="";try{t=await e.text()}catch(u){t=`Unable to read response body: ${u.message}`}const n=e.headers.get("x-kong-request-id")||e.headers.get("x-request-id")||e.headers.get("x-amzn-requestid"),r=e.headers.get("retry-after"),i=e.headers.get("content-type");return[`Status: ${e.status} ${e.statusText}`.trim(),n?`Request ID: ${n}`:null,r?`Retry-After: ${r}`:null,i?`Content-Type: ${i}`:null,t?`Body: ${t.slice(0,800)}`:null].filter(Boolean).join(`
`)},rb={neutral:"border-white/10 bg-white/5 text-white/70",loading:"border-sky-400/40 bg-sky-400/10 text-sky-100",success:"border-emerald-400/40 bg-emerald-400/10 text-emerald-100",error:"border-rose-400/40 bg-rose-400/10 text-rose-100"};function ib(){const[e,t]=x.useState(Nu),[n,r]=x.useState(null),[i,o]=x.useState("en"),[u,f]=x.useState({summary:"",tone:"neutral"}),[p,g]=x.useState(null),[j,S]=x.useState(!1),[_,B]=x.useState(null),[z,H]=x.useState("downloads"),[Y,C]=x.useState("desc"),w=x.useCallback((Z,X="neutral",ke)=>{f({summary:Z,tone:X,details:ke})},[]),k=x.useCallback(()=>e.trim()?n?!0:(w("Please choose a video file.","error"),!1):(w("Please enter your OpenSubtitles API key.","error"),!1),[e,n,w]),$=x.useCallback(()=>{g([])},[]),J=x.useCallback(async Z=>{var X;$(),w("Searching OpenSubtitles...","loading"),S(!0);try{const ke=new URL(`${Mh}/subtitles`);Object.entries(Z).forEach(([le,we])=>{we&&ke.searchParams.set(le,we)});const V=await fetch(ke,{headers:zh(e)});if(!V.ok){const le=await Cu(V);throw new Error(`Search failed.
${le}`)}const re=await V.json();g(re.data??[]),w(`Found ${re.total_count??((X=re.data)==null?void 0:X.length)??0} subtitle(s).`,"success")}catch(ke){const V=ke.message||"Search failed.",[re,...le]=V.split(`
`);w(re,"error",le.join(`
`)),$()}finally{S(!1)}},[e,$,w]),G=async()=>{if(!(!k()||!n)){w("Calculating video hash...","loading");try{const Z=await nb(n);await J({moviehash:Z,moviehash_match:"1",languages:i})}catch(Z){w(`Hash failed: ${Z.message}`,"error")}}},Q=async()=>{!k()||!n||await J({query:n.name,languages:i})},ie=async Z=>{var ke;const X=(ke=Z.attributes.files)==null?void 0:ke[0];if(!(X!=null&&X.file_id)){w("This subtitle entry does not include a file id.","error");return}w("Preparing download...","loading");try{const V=await fetch(`${Mh}/download`,{method:"POST",headers:zh(e),body:JSON.stringify({file_id:X.file_id})});if(!V.ok){const le=await Cu(V);throw new Error(`Download request failed.
${le}`)}const re=await V.json();g(le=>(le==null?void 0:le.map(we=>we.id===Z.id?{...we,downloadLink:re.link}:we))??[]),w("Download link ready.","success")}catch(V){const re=V.message||"Download request failed.",[le,...we]=re.split(`
`);w(le,"error",we.join(`
`))}},Ce=x.useCallback(async Z=>{var ke,V;if(!Z.downloadLink){w("Download link not ready yet.","error");return}const X=((V=(ke=Z.attributes.files)==null?void 0:ke[0])==null?void 0:V.file_name)??`subtitle-${Z.id}.srt`;B(Z.id),w(`Downloading ${X}...`,"loading");try{const re=await fetch(Z.downloadLink);if(!re.ok){const Ve=await Cu(re);throw new Error(`Subtitle download failed.
${Ve}`)}const le=await re.blob(),we=URL.createObjectURL(le),je=document.createElement("a");je.href=we,je.download=X,document.body.appendChild(je),je.click(),document.body.removeChild(je),URL.revokeObjectURL(we),w(`Downloaded ${X}.`,"success")}catch(re){const le=re.message||"Subtitle download failed.",[we,...je]=le.split(`
`);w(we,"error",je.join(`
`))}finally{B(null)}},[w]),pe=rb[u.tone],Ie=u.summary||"",De=x.useMemo(()=>p!==null&&p.length===0,[p]),oe=x.useMemo(()=>{if(!p)return null;const Z=Y==="asc"?1:-1;return[...p].sort((X,ke)=>{var le,we,je,Ve;const V=((we=(le=X.attributes.files)==null?void 0:le[0])==null?void 0:we.file_name)??"Untitled release",re=((Ve=(je=ke.attributes.files)==null?void 0:je[0])==null?void 0:Ve.file_name)??"Untitled release";switch(z){case"title":return V.localeCompare(re,void 0,{sensitivity:"base"})*Z;case"downloads":return((X.attributes.download_count??0)-(ke.attributes.download_count??0))*Z;case"hearingImpaired":return(Number(X.attributes.hearing_impaired)-Number(ke.attributes.hearing_impaired))*Z;default:return 0}})},[p,Y,z]),te=x.useCallback(Z=>{if(z===Z){C(X=>X==="asc"?"desc":"asc");return}H(Z),C("desc")},[z]);return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("header",{className:"rounded-2xl border border-white/10 bg-gradient-to-br from-white/10 via-white/5 to-transparent p-6 shadow-lg",children:[a.jsx("p",{className:"text-sm uppercase tracking-[0.2em] text-white/60",children:"VLSub Web"}),a.jsx("h2",{className:"mt-3 text-3xl font-semibold text-white",children:"Find subtitles for your video, straight from your browser."}),a.jsx("p",{className:"mt-3 max-w-2xl text-sm text-white/70",children:"Select a local video file, look up subtitles by hash or filename, and download the match you want. Powered by the OpenSubtitles API."})]}),a.jsxs("section",{className:"grid gap-6 lg:grid-cols-2",children:[a.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 shadow-md",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"1. Connect to OpenSubtitles"}),a.jsxs("p",{className:"mt-2 text-sm text-white/60",children:["Enter your OpenSubtitles API key to search and download subtitles. You can create one at"," ",a.jsx("a",{href:"https://www.opensubtitles.com/",target:"_blank",rel:"noreferrer",className:"text-white underline decoration-white/40 underline-offset-4",children:"opensubtitles.com"}),"."]}),a.jsxs("label",{className:"mt-4 flex flex-col gap-2 text-sm text-white/70",children:[a.jsx("span",{children:"API Key"}),a.jsx("input",{id:"apiKey",type:"text",placeholder:"Paste your API key",value:e,onChange:Z=>t(Z.target.value),className:"rounded-lg border border-white/10 bg-white/10 px-3 py-2 text-sm text-white placeholder:text-white/40 focus:border-white/40 focus:outline-none"}),a.jsxs("div",{className:"text-xs text-white/50",children:[a.jsx("div",{className:"mt-1",children:"If running locally, use:"}),a.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-white/70",children:[a.jsx("span",{className:"rounded bg-white/10 px-2 py-1 text-xs",children:Lh}),a.jsx("button",{type:"button",onClick:()=>t(Lh),className:"rounded border border-white/10 px-2 py-1 text-[11px] text-white/70 transition hover:border-white/30 hover:bg-white/10",children:"Use this"})]}),a.jsx("div",{className:"mt-2",children:"If running from GitHub, use:"}),a.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-white/70",children:[a.jsx("span",{className:"rounded bg-white/10 px-2 py-1 text-xs",children:Nu}),a.jsx("button",{type:"button",onClick:()=>t(Nu),className:"rounded border border-white/10 px-2 py-1 text-[11px] text-white/70 transition hover:border-white/30 hover:bg-white/10",children:"Use this"})]}),a.jsx("div",{className:"mt-2",children:"Or"}),a.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-white/70",children:[a.jsx("span",{className:"rounded bg-white/10 px-2 py-1 text-xs",children:Fh}),a.jsx("button",{type:"button",onClick:()=>t(Fh),className:"rounded border border-white/10 px-2 py-1 text-[11px] text-white/70 transition hover:border-white/30 hover:bg-white/10",children:"Use this"})]})]})]})]}),a.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 shadow-md",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"2. Choose your video"}),a.jsx("p",{className:"mt-2 text-sm text-white/60",children:"We never upload your video. The hash is computed locally in your browser."}),a.jsxs("div",{className:"mt-4 flex flex-col gap-2 text-sm text-white/70",children:[a.jsx("span",{children:"Video file"}),a.jsx("input",{id:"videoFile",type:"file",accept:"video/*,.mkv,.mp4,.mov,.avi,.wmv,.flv,.webm,.m4v,.mpg,.mpeg",onChange:Z=>{var ke;const X=((ke=Z.target.files)==null?void 0:ke[0])??null;r(X),w(X?`Selected ${X.name}`:"","neutral")},className:"rounded-lg border border-white/10 bg-white/10 px-3 py-2 text-sm text-white file:mr-4 file:rounded-md file:border-0 file:bg-white/20 file:px-3 file:py-2 file:text-sm file:text-white hover:file:bg-white/30"})]}),a.jsxs("div",{className:"mt-4 flex flex-col gap-2 text-sm text-white/70",children:[a.jsx("span",{children:"Preferred language"}),a.jsxs("select",{id:"language",value:i,onChange:Z=>o(Z.target.value),className:"rounded-lg border border-white/20 bg-white px-3 py-2 text-sm text-slate-900 focus:border-white/40 focus:outline-none",children:[a.jsx("option",{value:"en",children:"English"}),a.jsx("option",{value:"he",children:"Hebrew"}),a.jsx("option",{value:"ar",children:"Arabic"}),a.jsx("option",{value:"hi",children:"Hindi"}),a.jsx("option",{value:"es",children:"Spanish"}),a.jsx("option",{value:"fr",children:"French"}),a.jsx("option",{value:"de",children:"German"}),a.jsx("option",{value:"it",children:"Italian"}),a.jsx("option",{value:"pt",children:"Portuguese"}),a.jsx("option",{value:"nl",children:"Dutch"}),a.jsx("option",{value:"pl",children:"Polish"}),a.jsx("option",{value:"sv",children:"Swedish"}),a.jsx("option",{value:"tr",children:"Turkish"}),a.jsx("option",{value:"ja",children:"Japanese"}),a.jsx("option",{value:"ko",children:"Korean"}),a.jsx("option",{value:"zh",children:"Chinese"})]})]}),a.jsxs("div",{className:"mt-5 flex flex-wrap gap-3",children:[a.jsx("button",{id:"searchHash",type:"button",onClick:G,disabled:j,className:"rounded-full border border-white/20 bg-white/10 px-4 py-2 text-sm font-medium text-white transition hover:bg-white/20 disabled:cursor-not-allowed disabled:opacity-60",children:"Search by hash"}),a.jsx("button",{id:"searchName",type:"button",onClick:Q,disabled:j,className:"rounded-full border border-white/10 px-4 py-2 text-sm font-medium text-white/70 transition hover:border-white/20 hover:bg-white/10 disabled:cursor-not-allowed disabled:opacity-60",children:"Search by filename"})]}),a.jsxs("div",{id:"status",role:"status","aria-live":"polite",className:`mt-4 rounded-xl border px-4 py-3 text-sm ${pe}`,children:[Ie,u.details?a.jsxs("details",{className:"mt-3 text-xs text-white/70",open:!0,children:[a.jsx("summary",{className:"cursor-pointer text-white/80",children:"Show details"}),a.jsx("pre",{className:"mt-2 whitespace-pre-wrap text-xs text-white/60",children:u.details})]}):null]})]})]}),a.jsxs("section",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 shadow-md",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"3. Download your subtitle"}),a.jsxs("div",{id:"results",className:"mt-4 space-y-4",children:[p===null?a.jsx("p",{className:"text-sm text-white/60",children:"Search results will appear here."}):null,De?a.jsx("p",{className:"text-sm text-white/60",children:"No subtitles found. Try another search."}):null,oe&&oe.length>0?a.jsx("div",{className:"overflow-hidden rounded-xl border border-white/10",children:a.jsxs("table",{className:"w-full text-left text-sm text-white/80",children:[a.jsx("thead",{className:"bg-white/10 text-xs uppercase tracking-wide text-white/60",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3",children:a.jsxs("button",{type:"button",onClick:()=>te("title"),className:"flex items-center gap-2 hover:text-white",children:["Title",z==="title"?Y==="asc"?"":"":null]})}),a.jsx("th",{className:"px-4 py-3",children:a.jsxs("button",{type:"button",onClick:()=>te("downloads"),className:"flex items-center gap-2 hover:text-white",children:["Downloads",z==="downloads"?Y==="asc"?"":"":null]})}),a.jsx("th",{className:"px-4 py-3",children:a.jsxs("button",{type:"button",onClick:()=>te("hearingImpaired"),className:"flex items-center gap-2 hover:text-white",children:["Hearing impaired",z==="hearingImpaired"?Y==="asc"?"":"":null]})}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Action"})]})}),a.jsx("tbody",{className:"divide-y divide-white/5",children:oe.map(Z=>{var V;const X=(V=Z.attributes.files)==null?void 0:V[0],ke=(X==null?void 0:X.file_name)??"Untitled release";return a.jsxs("tr",{className:"bg-white/5",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsx("div",{className:"font-semibold text-white",children:ke})}),a.jsx("td",{className:"px-4 py-3 text-xs",children:Z.attributes.download_count??"-"}),a.jsx("td",{className:"px-4 py-3 text-xs",children:Z.attributes.hearing_impaired?"Yes":"No"}),a.jsx("td",{className:"px-4 py-3 text-right text-xs",children:Z.downloadLink?a.jsx("button",{type:"button",onClick:()=>void Ce(Z),disabled:_===Z.id,className:"inline-flex min-w-[9.5rem] items-center justify-center rounded-full border border-white/20 px-3 py-1 text-xs text-white/80 transition hover:bg-white/10 disabled:cursor-not-allowed disabled:opacity-60",children:_===Z.id?"Downloading...":"Download subtitle"}):a.jsx("button",{type:"button",onClick:()=>ie(Z),disabled:j,className:"inline-flex min-w-[9.5rem] items-center justify-center whitespace-nowrap rounded-full border border-white/20 bg-white/10 px-3 py-1 text-xs text-white transition hover:bg-white/20 disabled:cursor-not-allowed disabled:opacity-60",children:"Get download link"})})]},Z.id)})})]})}):null]})]}),a.jsx("footer",{className:"text-xs text-white/50",children:"Built from the original VLSub workflow. This demo uses the OpenSubtitles API and requires your own API key."})]})}function sb(){const e=x.useRef(null);return x.useEffect(()=>()=>{e.current&&(e.current.src="about:blank")},[]),a.jsxs("div",{className:"space-y-6 text-right text-sm text-white/80",dir:"rtl",children:[a.jsx("section",{className:"space-y-3",children:a.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-start",children:[a.jsxs("div",{className:"space-y-3 lg:flex-1",children:[a.jsx("p",{children:"   ."}),a.jsxs("p",{children:["  ",a.jsx("strong",{children:"  "}),"    ."]})]}),a.jsx("div",{className:"w-full overflow-hidden rounded-lg border border-white/10 bg-black/40 lg:w-[22rem]",children:a.jsx("div",{className:"aspect-video w-full",children:a.jsx("iframe",{ref:e,className:"h-full w-full",src:"https://www.youtube.com/embed/0n2JBXuHEoc",title:"Tutorial",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})})]})}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 1    / "}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsx("li",{children:"    "}),a.jsxs("li",{children:["    ",a.jsx("strong",{children:""}),"  Dolby Digital",a.jsx("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:a.jsxs("li",{children:[" ",a.jsx("strong",{children:"AAC"}),"  "]})})]}),a.jsxs("li",{children:["    :",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsx("li",{children:a.jsx("a",{href:"http://rargb.to/",target:"_blank",rel:"noreferrer",className:"text-white underline decoration-white/40 underline-offset-4",children:"http://rargb.to/"})}),a.jsx("li",{children:a.jsx("a",{href:"https://1337x.to/",target:"_blank",rel:"noreferrer",className:"text-white underline decoration-white/40 underline-offset-4",children:"https://1337x.to/"})})]})]}),a.jsx("li",{children:"         (  )"})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 2    "}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsxs("li",{children:["   ",a.jsx("strong",{children:" "})]}),a.jsxs("li",{children:["     ",a.jsx("code",{className:"rounded bg-white/10 px-1",children:"srt"})]}),a.jsx("li",{children:"         "}),a.jsxs("li",{children:[" :",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsxs("li",{children:[" ",a.jsx("a",{href:"https://opensubtitles.org",target:"_blank",rel:"noreferrer",className:"mr-1 text-white underline decoration-white/40 underline-offset-4",children:"opensubtitles.org"})]}),a.jsxs("li",{children:["  ",a.jsx("strong",{children:"Find Subs"})," ",a.jsx("blockquote",{className:"mt-2 rounded border-l-2 border-white/20 bg-white/5 px-3 py-2 text-xs text-white/60",children:" :           "})]})]})]})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 3    ( )"}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsx("li",{children:"  "}),a.jsx("li",{children:"     2"})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 4   "}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsxs("li",{children:["  ",a.jsx("strong",{children:" "})]}),a.jsxs("li",{children:["  ",a.jsx("strong",{children:" "})]}),a.jsxs("li",{children:["   ",a.jsx("strong",{children:"Player"})]})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 5    "}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsx("li",{children:"  Play"}),a.jsxs("li",{children:["   :",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsx("li",{children:"     "}),a.jsx("li",{children:"      "})]})]}),a.jsxs("li",{children:["  :",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsxs("li",{children:["    ",a.jsx("strong",{children:"Second Subtitles"})]}),a.jsxs("li",{children:["  /      ",a.jsx("strong",{children:"H"})]})]})]})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 6   Words"}),a.jsx("ul",{className:"list-disc space-y-2 pr-5",children:a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Words"})," :",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsx("li",{children:"    "}),a.jsx("li",{children:"       "}),a.jsx("li",{children:"      "})]})]})})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 7    ChatGPT"}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsxs("li",{children:["    :",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsx("li",{children:"      "}),a.jsx("li",{children:"   ChatGPT"})]})]}),a.jsx("li",{children:"        "}),a.jsxs("li",{children:[": ",a.jsx("strong",{children:"   ChatGPT"}),"  "]})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 8   "}),a.jsx("ul",{className:"list-disc space-y-2 pr-5",children:a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Quotes ()"}),":",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsx("li",{children:"  "}),a.jsx("li",{children:"      "}),a.jsx("li",{children:"      "})]})]})})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 9    '"}),a.jsx("p",{children:"   '     ."}),a.jsx("h3",{className:"text-base font-semibold text-white",children:" "}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsxs("li",{children:["     (",a.jsx("strong",{children:"H"}),")"]}),a.jsx("li",{children:"     "}),a.jsxs("li",{children:["   (",a.jsx("strong",{children:"H"}),")"]}),a.jsxs("li",{children:[":",a.jsx("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:a.jsxs("li",{children:["",a.jsx("strong",{children:"Settings"}),"       (    )"]})})]})]}),a.jsx("h3",{className:"text-base font-semibold text-white",children:"  "}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"F"}),"   "]}),a.jsx("li",{children:"   5   / "}),a.jsxs("li",{children:[a.jsx("strong",{children:""}),"   / "]})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"  (Settings)"}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsx("li",{children:"  "}),a.jsxs("li",{children:["   :",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsxs("li",{children:["  ( ",a.jsx("code",{className:"rounded bg-white/10 px-1",children:"actor"}),") :"]}),a.jsx("li",{children:"      "}),a.jsxs("li",{children:["      (",a.jsx("code",{className:"rounded bg-white/10 px-1",children:"act"}),","," ",a.jsx("code",{className:"rounded bg-white/10 px-1",children:"acting"}),","," ",a.jsx("code",{className:"rounded bg-white/10 px-1",children:"actress"})," )"]})]})]}),a.jsxs("li",{children:[" :",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsx("li",{children:"   / "}),a.jsxs("li",{children:["  ",a.jsx("strong",{children:"Offset"})]}),a.jsx("li",{children:" Offset    "})]})]})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"   Words"}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsxs("li",{children:["  ",a.jsx("strong",{children:"  "}),":",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsx("li",{children:"    "}),a.jsxs("li",{children:["   ",a.jsx("em",{children:"nice to have"})]})]})]}),a.jsxs("li",{children:["  ",a.jsx("strong",{children:"  "}),":",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsx("li",{children:"   "}),a.jsxs("li",{children:[":",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsxs("li",{children:[a.jsx("code",{className:"rounded bg-white/10 px-1",children:"wind"})," =  "]}),a.jsxs("li",{children:[a.jsx("code",{className:"rounded bg-white/10 px-1",children:"to wind up"})," =  "]}),a.jsxs("li",{children:[a.jsx("code",{className:"rounded bg-white/10 px-1",children:"corporate"}),"   "]}),a.jsxs("li",{children:[a.jsx("code",{className:"rounded bg-white/10 px-1",children:"corporate"}),"      "]})]})]})]})]})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"  "}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsxs("li",{children:["  ?",a.jsxs("ol",{className:"mt-2 list-decimal space-y-1 pr-5",children:[a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Words"}),"   ",a.jsx("strong",{children:"Export JSON"})]}),a.jsxs("li",{children:["    ",a.jsx("strong",{children:"Import"})]})]})]}),a.jsxs("li",{children:["   ?",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Quotes"}),"      "]}),a.jsx("li",{children:"    "})]})]})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"  Find Subtitles"}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsx("li",{children:"    API"}),a.jsxs("li",{children:["   ",a.jsx("strong",{children:"5  "}),"  "]}),a.jsx("li",{children:"      "}),a.jsxs("li",{children:[":",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsxs("li",{children:["  ",a.jsx("strong",{children:" "}),"  "]}),a.jsxs("li",{children:["  ",a.jsx("strong",{children:"Hash"})," "]})]})]})]})]})]})}const ai=({isActive:e})=>`px-3 py-2 rounded-md text-sm font-medium transition-colors ${e?"bg-white/10 text-white":"text-white/70 hover:text-white hover:bg-white/5"}`;function ob(){const e=bs(),t=e.pathname==="/"||e.pathname==="",n=Ge(u=>u.prefs.subtitleStyle),r=Ge(u=>u.prefs.highlightColors),i=Ge(u=>u.initialize),o=Ge(u=>u.initialized);return x.useEffect(()=>{o||i()},[o,i]),x.useEffect(()=>{const u=document.documentElement.style;u.setProperty("--subtitle-font-family",n.fontFamily),u.setProperty("--subtitle-font-size",`${n.fontSizePx}px`);const f=n.useMainForSecondaryFontSize?n.fontSizePx:n.secondaryFontSizePx;u.setProperty("--subtitle-secondary-font-size",`${f}px`),u.setProperty("--subtitle-font-weight",`${n.fontWeight}`),u.setProperty("--subtitle-color",n.color),u.setProperty("--subtitle-bg",n.bgColor),u.setProperty("--subtitle-line-height",`${n.lineHeight}`),u.setProperty("--subtitle-outline",n.outline?"1":"0"),u.setProperty("--subtitle-shadow",n.shadow?"1":"0"),u.setProperty("--highlight-exact",r.exact),u.setProperty("--highlight-variant",r.variant)},[n,r]),a.jsx("div",{className:"min-h-screen bg-background text-foreground",children:a.jsxs("div",{className:"mx-auto flex max-w-6xl flex-col gap-6 px-4 py-6",children:[a.jsxs("header",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Subtitle Word Tracker"}),a.jsxs("nav",{className:"flex gap-2",children:[a.jsx(ii,{to:"/",className:ai,end:!0,children:"Player"}),a.jsx(ii,{to:"/words",className:ai,children:"Words"}),a.jsx(ii,{to:"/quotes",className:ai,children:"Quotes"}),a.jsx(ii,{to:"/stats",className:ai,children:"Stats"}),a.jsx(ii,{to:"/settings",className:ai,children:"Settings"}),a.jsx(ii,{to:"/vlsub",className:ai,children:"Find Subs"}),a.jsx(ii,{to:"/help",className:ai,children:"?"})]})]}),a.jsxs("main",{className:"flex-1 rounded-lg border border-white/10 bg-white/5 p-6 shadow-xl backdrop-blur",children:[a.jsx("div",{className:t?"":"hidden","aria-hidden":!t,children:a.jsx(Ph,{isActive:t})}),a.jsxs(l0,{children:[a.jsx(Jn,{path:"/",element:a.jsx("div",{})}),a.jsx(Jn,{path:"/words",element:a.jsx(zw,{})}),a.jsx(Jn,{path:"/quotes",element:a.jsx(Kw,{})}),a.jsx(Jn,{path:"/stats",element:a.jsx(eb,{})}),a.jsx(Jn,{path:"/settings",element:a.jsx(Jw,{})}),a.jsx(Jn,{path:"/vlsub",element:a.jsx(ib,{})}),a.jsx(Jn,{path:"/help",element:a.jsx(sb,{})}),a.jsx(Jn,{path:"*",element:a.jsx(Ph,{})})]})]}),a.jsx("footer",{className:"text-xs text-white/40",children:"Local-first learning tool for movie subtitles."})]})})}const lb="./",fl=new URL(lb,window.location.href).pathname,Cl=fl.length>1&&fl.endsWith("/")?fl.slice(0,-1):fl,Dh=new URLSearchParams(window.location.search).get("path");if(Dh){const e=decodeURIComponent(Dh),t=Cl==="/"?"":Cl,n=e.startsWith(t)?e.slice(t.length)||"/":e;window.history.replaceState(null,"",`${Cl}${n}`)}Eu.createRoot(document.getElementById("root")).render(a.jsx(zc.StrictMode,{children:a.jsx(m0,{basename:Cl,future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:a.jsx(ob,{})})}));
