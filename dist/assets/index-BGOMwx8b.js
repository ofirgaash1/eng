var Ly=Object.defineProperty;var Iy=(e,t,n)=>t in e?Ly(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ci=(e,t,n)=>Iy(e,typeof t!="symbol"?t+"":t,n);function Fy(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Dd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Nh={exports:{}},Rl={},Ch={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qs=Symbol.for("react.element"),My=Symbol.for("react.portal"),zy=Symbol.for("react.fragment"),Ay=Symbol.for("react.strict_mode"),Dy=Symbol.for("react.profiler"),$y=Symbol.for("react.provider"),Uy=Symbol.for("react.context"),By=Symbol.for("react.forward_ref"),Ky=Symbol.for("react.suspense"),Wy=Symbol.for("react.memo"),Hy=Symbol.for("react.lazy"),$d=Symbol.iterator;function Vy(e){return e===null||typeof e!="object"?null:(e=$d&&e[$d]||e["@@iterator"],typeof e=="function"?e:null)}var Eh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_h=Object.assign,Ph={};function Ui(e,t,n){this.props=e,this.context=t,this.refs=Ph,this.updater=n||Eh}Ui.prototype.isReactComponent={};Ui.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ui.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Th(){}Th.prototype=Ui.prototype;function hc(e,t,n){this.props=e,this.context=t,this.refs=Ph,this.updater=n||Eh}var pc=hc.prototype=new Th;pc.constructor=hc;_h(pc,Ui.prototype);pc.isPureReactComponent=!0;var Ud=Array.isArray,Oh=Object.prototype.hasOwnProperty,mc={current:null},Rh={key:!0,ref:!0,__self:!0,__source:!0};function Lh(e,t,n){var r,i={},o=null,c=null;if(t!=null)for(r in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(o=""+t.key),t)Oh.call(t,r)&&!Rh.hasOwnProperty(r)&&(i[r]=t[r]);var h=arguments.length-2;if(h===1)i.children=n;else if(1<h){for(var p=Array(h),v=0;v<h;v++)p[v]=arguments[v+2];i.children=p}if(e&&e.defaultProps)for(r in h=e.defaultProps,h)i[r]===void 0&&(i[r]=h[r]);return{$$typeof:qs,type:e,key:o,ref:c,props:i,_owner:mc.current}}function qy(e,t){return{$$typeof:qs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yc(e){return typeof e=="object"&&e!==null&&e.$$typeof===qs}function Qy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Bd=/\/+/g;function Ea(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Qy(""+e.key):t.toString(36)}function Ko(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(o){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case qs:case My:c=!0}}if(c)return c=e,i=i(c),e=r===""?"."+Ea(c,0):r,Ud(i)?(n="",e!=null&&(n=e.replace(Bd,"$&/")+"/"),Ko(i,t,n,"",function(v){return v})):i!=null&&(yc(i)&&(i=qy(i,n+(!i.key||c&&c.key===i.key?"":(""+i.key).replace(Bd,"$&/")+"/")+e)),t.push(i)),1;if(c=0,r=r===""?".":r+":",Ud(e))for(var h=0;h<e.length;h++){o=e[h];var p=r+Ea(o,h);c+=Ko(o,t,n,p,i)}else if(p=Vy(e),typeof p=="function")for(e=p.call(e),h=0;!(o=e.next()).done;)o=o.value,p=r+Ea(o,h++),c+=Ko(o,t,n,p,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function bo(e,t,n){if(e==null)return e;var r=[],i=0;return Ko(e,r,"","",function(o){return t.call(n,o,i++)}),r}function Yy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ot={current:null},Wo={transition:null},Gy={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:Wo,ReactCurrentOwner:mc};function Ih(){throw Error("act(...) is not supported in production builds of React.")}Oe.Children={map:bo,forEach:function(e,t,n){bo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return bo(e,function(){t++}),t},toArray:function(e){return bo(e,function(t){return t})||[]},only:function(e){if(!yc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Oe.Component=Ui;Oe.Fragment=zy;Oe.Profiler=Dy;Oe.PureComponent=hc;Oe.StrictMode=Ay;Oe.Suspense=Ky;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gy;Oe.act=Ih;Oe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=_h({},e.props),i=e.key,o=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,c=mc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var h=e.type.defaultProps;for(p in t)Oh.call(t,p)&&!Rh.hasOwnProperty(p)&&(r[p]=t[p]===void 0&&h!==void 0?h[p]:t[p])}var p=arguments.length-2;if(p===1)r.children=n;else if(1<p){h=Array(p);for(var v=0;v<p;v++)h[v]=arguments[v+2];r.children=h}return{$$typeof:qs,type:e.type,key:i,ref:o,props:r,_owner:c}};Oe.createContext=function(e){return e={$$typeof:Uy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$y,_context:e},e.Consumer=e};Oe.createElement=Lh;Oe.createFactory=function(e){var t=Lh.bind(null,e);return t.type=e,t};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(e){return{$$typeof:By,render:e}};Oe.isValidElement=yc;Oe.lazy=function(e){return{$$typeof:Hy,_payload:{_status:-1,_result:e},_init:Yy}};Oe.memo=function(e,t){return{$$typeof:Wy,type:e,compare:t===void 0?null:t}};Oe.startTransition=function(e){var t=Wo.transition;Wo.transition={};try{e()}finally{Wo.transition=t}};Oe.unstable_act=Ih;Oe.useCallback=function(e,t){return Ot.current.useCallback(e,t)};Oe.useContext=function(e){return Ot.current.useContext(e)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(e){return Ot.current.useDeferredValue(e)};Oe.useEffect=function(e,t){return Ot.current.useEffect(e,t)};Oe.useId=function(){return Ot.current.useId()};Oe.useImperativeHandle=function(e,t,n){return Ot.current.useImperativeHandle(e,t,n)};Oe.useInsertionEffect=function(e,t){return Ot.current.useInsertionEffect(e,t)};Oe.useLayoutEffect=function(e,t){return Ot.current.useLayoutEffect(e,t)};Oe.useMemo=function(e,t){return Ot.current.useMemo(e,t)};Oe.useReducer=function(e,t,n){return Ot.current.useReducer(e,t,n)};Oe.useRef=function(e){return Ot.current.useRef(e)};Oe.useState=function(e){return Ot.current.useState(e)};Oe.useSyncExternalStore=function(e,t,n){return Ot.current.useSyncExternalStore(e,t,n)};Oe.useTransition=function(){return Ot.current.useTransition()};Oe.version="18.3.1";Ch.exports=Oe;var x=Ch.exports;const vc=fc(x),Xy=Fy({__proto__:null,default:vc},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy=x,Zy=Symbol.for("react.element"),ev=Symbol.for("react.fragment"),tv=Object.prototype.hasOwnProperty,nv=Jy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rv={key:!0,ref:!0,__self:!0,__source:!0};function Fh(e,t,n){var r,i={},o=null,c=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(c=t.ref);for(r in t)tv.call(t,r)&&!rv.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Zy,type:e,key:o,ref:c,props:i,_owner:nv.current}}Rl.Fragment=ev;Rl.jsx=Fh;Rl.jsxs=Fh;Nh.exports=Rl;var u=Nh.exports,au={},Mh={exports:{}},qt={},zh={exports:{}},Ah={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,re){var oe=H.length;H.push(re);e:for(;0<oe;){var we=oe-1>>>1,Ne=H[we];if(0<i(Ne,re))H[we]=re,H[oe]=Ne,oe=we;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var re=H[0],oe=H.pop();if(oe!==re){H[0]=oe;e:for(var we=0,Ne=H.length,He=Ne>>>1;we<He;){var Et=2*(we+1)-1,ut=H[Et],ct=Et+1,Lt=H[ct];if(0>i(ut,oe))ct<Ne&&0>i(Lt,ut)?(H[we]=Lt,H[ct]=oe,we=ct):(H[we]=ut,H[Et]=oe,we=Et);else if(ct<Ne&&0>i(Lt,oe))H[we]=Lt,H[ct]=oe,we=ct;else break e}}return re}function i(H,re){var oe=H.sortIndex-re.sortIndex;return oe!==0?oe:H.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();e.unstable_now=function(){return c.now()-h}}var p=[],v=[],S=1,b=null,_=3,U=!1,A=!1,B=!1,q=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(H){for(var re=n(v);re!==null;){if(re.callback===null)r(v);else if(re.startTime<=H)r(v),re.sortIndex=re.expirationTime,t(p,re);else break;re=n(v)}}function $(H){if(B=!1,k(H),!A)if(n(p)!==null)A=!0,Y(J);else{var re=n(v);re!==null&&ve($,re.startTime-H)}}function J(H,re){A=!1,B&&(B=!1,N(ne),ne=-1),U=!0;var oe=_;try{for(k(re),b=n(p);b!==null&&(!(b.expirationTime>re)||H&&!Re());){var we=b.callback;if(typeof we=="function"){b.callback=null,_=b.priorityLevel;var Ne=we(b.expirationTime<=re);re=e.unstable_now(),typeof Ne=="function"?b.callback=Ne:b===n(p)&&r(p),k(re)}else r(p);b=n(p)}if(b!==null)var He=!0;else{var Et=n(v);Et!==null&&ve($,Et.startTime-re),He=!1}return He}finally{b=null,_=oe,U=!1}}var Q=!1,X=null,ne=-1,be=5,ye=-1;function Re(){return!(e.unstable_now()-ye<be)}function $e(){if(X!==null){var H=e.unstable_now();ye=H;var re=!0;try{re=X(!0,H)}finally{re?se():(Q=!1,X=null)}}else Q=!1}var se;if(typeof g=="function")se=function(){g($e)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,te=G.port2;G.port1.onmessage=$e,se=function(){te.postMessage(null)}}else se=function(){q($e,0)};function Y(H){X=H,Q||(Q=!0,se())}function ve(H,re){ne=q(function(){H(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){A||U||(A=!0,Y(J))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):be=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return n(p)},e.unstable_next=function(H){switch(_){case 1:case 2:case 3:var re=3;break;default:re=_}var oe=_;_=re;try{return H()}finally{_=oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,re){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var oe=_;_=H;try{return re()}finally{_=oe}},e.unstable_scheduleCallback=function(H,re,oe){var we=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?we+oe:we):oe=we,H){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=oe+Ne,H={id:S++,callback:re,priorityLevel:H,startTime:oe,expirationTime:Ne,sortIndex:-1},oe>we?(H.sortIndex=oe,t(v,H),n(p)===null&&H===n(v)&&(B?(N(ne),ne=-1):B=!0,ve($,oe-we))):(H.sortIndex=Ne,t(p,H),A||U||(A=!0,Y(J))),H},e.unstable_shouldYield=Re,e.unstable_wrapCallback=function(H){var re=_;return function(){var oe=_;_=re;try{return H.apply(this,arguments)}finally{_=oe}}}})(Ah);zh.exports=Ah;var iv=zh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv=x,Vt=iv;function Z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dh=new Set,Es={};function Jr(e,t){Ri(e,t),Ri(e+"Capture",t)}function Ri(e,t){for(Es[e]=t,e=0;e<t.length;e++)Dh.add(t[e])}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uu=Object.prototype.hasOwnProperty,ov=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kd={},Wd={};function lv(e){return uu.call(Wd,e)?!0:uu.call(Kd,e)?!1:ov.test(e)?Wd[e]=!0:(Kd[e]=!0,!1)}function av(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function uv(e,t,n,r){if(t===null||typeof t>"u"||av(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Rt(e,t,n,r,i,o,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=c}var xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xt[e]=new Rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xt[t]=new Rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xt[e]=new Rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xt[e]=new Rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xt[e]=new Rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xt[e]=new Rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xt[e]=new Rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xt[e]=new Rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xt[e]=new Rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var gc=/[\-:]([a-z])/g;function xc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gc,xc);xt[t]=new Rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gc,xc);xt[t]=new Rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gc,xc);xt[t]=new Rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xt[e]=new Rt(e,1,!1,e.toLowerCase(),null,!1,!1)});xt.xlinkHref=new Rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xt[e]=new Rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function wc(e,t,n,r){var i=xt.hasOwnProperty(t)?xt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(uv(t,n,i,r)&&(n=null),r||i===null?lv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Kn=sv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,So=Symbol.for("react.element"),pi=Symbol.for("react.portal"),mi=Symbol.for("react.fragment"),bc=Symbol.for("react.strict_mode"),cu=Symbol.for("react.profiler"),$h=Symbol.for("react.provider"),Uh=Symbol.for("react.context"),Sc=Symbol.for("react.forward_ref"),du=Symbol.for("react.suspense"),fu=Symbol.for("react.suspense_list"),kc=Symbol.for("react.memo"),Zn=Symbol.for("react.lazy"),Bh=Symbol.for("react.offscreen"),Hd=Symbol.iterator;function ss(e){return e===null||typeof e!="object"?null:(e=Hd&&e[Hd]||e["@@iterator"],typeof e=="function"?e:null)}var Xe=Object.assign,_a;function hs(e){if(_a===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_a=t&&t[1]||""}return`
`+_a+e}var Pa=!1;function Ta(e,t){if(!e||Pa)return"";Pa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(v){var r=v}Reflect.construct(e,[],t)}else{try{t.call()}catch(v){r=v}e.call(t.prototype)}else{try{throw Error()}catch(v){r=v}e()}}catch(v){if(v&&r&&typeof v.stack=="string"){for(var i=v.stack.split(`
`),o=r.stack.split(`
`),c=i.length-1,h=o.length-1;1<=c&&0<=h&&i[c]!==o[h];)h--;for(;1<=c&&0<=h;c--,h--)if(i[c]!==o[h]){if(c!==1||h!==1)do if(c--,h--,0>h||i[c]!==o[h]){var p=`
`+i[c].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=c&&0<=h);break}}}finally{Pa=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?hs(e):""}function cv(e){switch(e.tag){case 5:return hs(e.type);case 16:return hs("Lazy");case 13:return hs("Suspense");case 19:return hs("SuspenseList");case 0:case 2:case 15:return e=Ta(e.type,!1),e;case 11:return e=Ta(e.type.render,!1),e;case 1:return e=Ta(e.type,!0),e;default:return""}}function hu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case mi:return"Fragment";case pi:return"Portal";case cu:return"Profiler";case bc:return"StrictMode";case du:return"Suspense";case fu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Uh:return(e.displayName||"Context")+".Consumer";case $h:return(e._context.displayName||"Context")+".Provider";case Sc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case kc:return t=e.displayName||null,t!==null?t:hu(e.type)||"Memo";case Zn:t=e._payload,e=e._init;try{return hu(e(t))}catch{}}return null}function dv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hu(t);case 8:return t===bc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function yr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Kh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fv(e){var t=Kh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(c){r=""+c,o.call(this,c)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(c){r=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ko(e){e._valueTracker||(e._valueTracker=fv(e))}function Wh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Kh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function rl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function pu(e,t){var n=t.checked;return Xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Vd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=yr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Hh(e,t){t=t.checked,t!=null&&wc(e,"checked",t,!1)}function mu(e,t){Hh(e,t);var n=yr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?yu(e,t.type,n):t.hasOwnProperty("defaultValue")&&yu(e,t.type,yr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function yu(e,t,n){(t!=="number"||rl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ps=Array.isArray;function Ci(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+yr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function vu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Z(91));return Xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Qd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Z(92));if(ps(n)){if(1<n.length)throw Error(Z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:yr(n)}}function Vh(e,t){var n=yr(t.value),r=yr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Yd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var jo,Qh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(jo=jo||document.createElement("div"),jo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=jo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _s(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var gs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hv=["Webkit","ms","Moz","O"];Object.keys(gs).forEach(function(e){hv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gs[t]=gs[e]})});function Yh(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||gs.hasOwnProperty(e)&&gs[e]?(""+t).trim():t+"px"}function Gh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Yh(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var pv=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xu(e,t){if(t){if(pv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Z(62))}}function wu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bu=null;function jc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Su=null,Ei=null,_i=null;function Gd(e){if(e=Gs(e)){if(typeof Su!="function")throw Error(Z(280));var t=e.stateNode;t&&(t=zl(t),Su(e.stateNode,e.type,t))}}function Xh(e){Ei?_i?_i.push(e):_i=[e]:Ei=e}function Jh(){if(Ei){var e=Ei,t=_i;if(_i=Ei=null,Gd(e),t)for(e=0;e<t.length;e++)Gd(t[e])}}function Zh(e,t){return e(t)}function ep(){}var Oa=!1;function tp(e,t,n){if(Oa)return e(t,n);Oa=!0;try{return Zh(e,t,n)}finally{Oa=!1,(Ei!==null||_i!==null)&&(ep(),Jh())}}function Ps(e,t){var n=e.stateNode;if(n===null)return null;var r=zl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Z(231,t,typeof n));return n}var ku=!1;if(Dn)try{var os={};Object.defineProperty(os,"passive",{get:function(){ku=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{ku=!1}function mv(e,t,n,r,i,o,c,h,p){var v=Array.prototype.slice.call(arguments,3);try{t.apply(n,v)}catch(S){this.onError(S)}}var xs=!1,il=null,sl=!1,ju=null,yv={onError:function(e){xs=!0,il=e}};function vv(e,t,n,r,i,o,c,h,p){xs=!1,il=null,mv.apply(yv,arguments)}function gv(e,t,n,r,i,o,c,h,p){if(vv.apply(this,arguments),xs){if(xs){var v=il;xs=!1,il=null}else throw Error(Z(198));sl||(sl=!0,ju=v)}}function Zr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function np(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Xd(e){if(Zr(e)!==e)throw Error(Z(188))}function xv(e){var t=e.alternate;if(!t){if(t=Zr(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Xd(i),e;if(o===r)return Xd(i),t;o=o.sibling}throw Error(Z(188))}if(n.return!==r.return)n=i,r=o;else{for(var c=!1,h=i.child;h;){if(h===n){c=!0,n=i,r=o;break}if(h===r){c=!0,r=i,n=o;break}h=h.sibling}if(!c){for(h=o.child;h;){if(h===n){c=!0,n=o,r=i;break}if(h===r){c=!0,r=o,n=i;break}h=h.sibling}if(!c)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?e:t}function rp(e){return e=xv(e),e!==null?ip(e):null}function ip(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ip(e);if(t!==null)return t;e=e.sibling}return null}var sp=Vt.unstable_scheduleCallback,Jd=Vt.unstable_cancelCallback,wv=Vt.unstable_shouldYield,bv=Vt.unstable_requestPaint,rt=Vt.unstable_now,Sv=Vt.unstable_getCurrentPriorityLevel,Nc=Vt.unstable_ImmediatePriority,op=Vt.unstable_UserBlockingPriority,ol=Vt.unstable_NormalPriority,kv=Vt.unstable_LowPriority,lp=Vt.unstable_IdlePriority,Ll=null,bn=null;function jv(e){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Ll,e,void 0,(e.current.flags&128)===128)}catch{}}var cn=Math.clz32?Math.clz32:Ev,Nv=Math.log,Cv=Math.LN2;function Ev(e){return e>>>=0,e===0?32:31-(Nv(e)/Cv|0)|0}var No=64,Co=4194304;function ms(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ll(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,c=n&268435455;if(c!==0){var h=c&~i;h!==0?r=ms(h):(o&=c,o!==0&&(r=ms(o)))}else c=n&~i,c!==0?r=ms(c):o!==0&&(r=ms(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-cn(t),i=1<<n,r|=e[n],t&=~i;return r}function _v(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var c=31-cn(o),h=1<<c,p=i[c];p===-1?(!(h&n)||h&r)&&(i[c]=_v(h,t)):p<=t&&(e.expiredLanes|=h),o&=~h}}function Nu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ap(){var e=No;return No<<=1,!(No&4194240)&&(No=64),e}function Ra(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-cn(t),e[t]=n}function Tv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-cn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Cc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-cn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ae=0;function up(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cp,Ec,dp,fp,hp,Cu=!1,Eo=[],lr=null,ar=null,ur=null,Ts=new Map,Os=new Map,tr=[],Ov="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zd(e,t){switch(e){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":Ts.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Os.delete(t.pointerId)}}function ls(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Gs(t),t!==null&&Ec(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Rv(e,t,n,r,i){switch(t){case"focusin":return lr=ls(lr,e,t,n,r,i),!0;case"dragenter":return ar=ls(ar,e,t,n,r,i),!0;case"mouseover":return ur=ls(ur,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ts.set(o,ls(Ts.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Os.set(o,ls(Os.get(o)||null,e,t,n,r,i)),!0}return!1}function pp(e){var t=Ur(e.target);if(t!==null){var n=Zr(t);if(n!==null){if(t=n.tag,t===13){if(t=np(n),t!==null){e.blockedOn=t,hp(e.priority,function(){dp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ho(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Eu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);bu=r,n.target.dispatchEvent(r),bu=null}else return t=Gs(n),t!==null&&Ec(t),e.blockedOn=n,!1;t.shift()}return!0}function ef(e,t,n){Ho(e)&&n.delete(t)}function Lv(){Cu=!1,lr!==null&&Ho(lr)&&(lr=null),ar!==null&&Ho(ar)&&(ar=null),ur!==null&&Ho(ur)&&(ur=null),Ts.forEach(ef),Os.forEach(ef)}function as(e,t){e.blockedOn===t&&(e.blockedOn=null,Cu||(Cu=!0,Vt.unstable_scheduleCallback(Vt.unstable_NormalPriority,Lv)))}function Rs(e){function t(i){return as(i,e)}if(0<Eo.length){as(Eo[0],e);for(var n=1;n<Eo.length;n++){var r=Eo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(lr!==null&&as(lr,e),ar!==null&&as(ar,e),ur!==null&&as(ur,e),Ts.forEach(t),Os.forEach(t),n=0;n<tr.length;n++)r=tr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<tr.length&&(n=tr[0],n.blockedOn===null);)pp(n),n.blockedOn===null&&tr.shift()}var Pi=Kn.ReactCurrentBatchConfig,al=!0;function Iv(e,t,n,r){var i=Ae,o=Pi.transition;Pi.transition=null;try{Ae=1,_c(e,t,n,r)}finally{Ae=i,Pi.transition=o}}function Fv(e,t,n,r){var i=Ae,o=Pi.transition;Pi.transition=null;try{Ae=4,_c(e,t,n,r)}finally{Ae=i,Pi.transition=o}}function _c(e,t,n,r){if(al){var i=Eu(e,t,n,r);if(i===null)Ba(e,t,r,ul,n),Zd(e,r);else if(Rv(i,e,t,n,r))r.stopPropagation();else if(Zd(e,r),t&4&&-1<Ov.indexOf(e)){for(;i!==null;){var o=Gs(i);if(o!==null&&cp(o),o=Eu(e,t,n,r),o===null&&Ba(e,t,r,ul,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ba(e,t,r,null,n)}}var ul=null;function Eu(e,t,n,r){if(ul=null,e=jc(r),e=Ur(e),e!==null)if(t=Zr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=np(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ul=e,null}function mp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sv()){case Nc:return 1;case op:return 4;case ol:case kv:return 16;case lp:return 536870912;default:return 16}default:return 16}}var rr=null,Pc=null,Vo=null;function yp(){if(Vo)return Vo;var e,t=Pc,n=t.length,r,i="value"in rr?rr.value:rr.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var c=n-e;for(r=1;r<=c&&t[n-r]===i[o-r];r++);return Vo=i.slice(e,1<r?1-r:void 0)}function qo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _o(){return!0}function tf(){return!1}function Qt(e){function t(n,r,i,o,c){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=c,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(n=e[h],this[h]=n?n(o):o[h]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?_o:tf,this.isPropagationStopped=tf,this}return Xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_o)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_o)},persist:function(){},isPersistent:_o}),t}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tc=Qt(Bi),Ys=Xe({},Bi,{view:0,detail:0}),Mv=Qt(Ys),La,Ia,us,Il=Xe({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==us&&(us&&e.type==="mousemove"?(La=e.screenX-us.screenX,Ia=e.screenY-us.screenY):Ia=La=0,us=e),La)},movementY:function(e){return"movementY"in e?e.movementY:Ia}}),nf=Qt(Il),zv=Xe({},Il,{dataTransfer:0}),Av=Qt(zv),Dv=Xe({},Ys,{relatedTarget:0}),Fa=Qt(Dv),$v=Xe({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Uv=Qt($v),Bv=Xe({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kv=Qt(Bv),Wv=Xe({},Bi,{data:0}),rf=Qt(Wv),Hv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qv[e])?!!t[e]:!1}function Oc(){return Qv}var Yv=Xe({},Ys,{key:function(e){if(e.key){var t=Hv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oc,charCode:function(e){return e.type==="keypress"?qo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gv=Qt(Yv),Xv=Xe({},Il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sf=Qt(Xv),Jv=Xe({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oc}),Zv=Qt(Jv),eg=Xe({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),tg=Qt(eg),ng=Xe({},Il,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rg=Qt(ng),ig=[9,13,27,32],Rc=Dn&&"CompositionEvent"in window,ws=null;Dn&&"documentMode"in document&&(ws=document.documentMode);var sg=Dn&&"TextEvent"in window&&!ws,vp=Dn&&(!Rc||ws&&8<ws&&11>=ws),of=" ",lf=!1;function gp(e,t){switch(e){case"keyup":return ig.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yi=!1;function og(e,t){switch(e){case"compositionend":return xp(t);case"keypress":return t.which!==32?null:(lf=!0,of);case"textInput":return e=t.data,e===of&&lf?null:e;default:return null}}function lg(e,t){if(yi)return e==="compositionend"||!Rc&&gp(e,t)?(e=yp(),Vo=Pc=rr=null,yi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vp&&t.locale!=="ko"?null:t.data;default:return null}}var ag={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function af(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ag[e.type]:t==="textarea"}function wp(e,t,n,r){Xh(r),t=cl(t,"onChange"),0<t.length&&(n=new Tc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var bs=null,Ls=null;function ug(e){Op(e,0)}function Fl(e){var t=xi(e);if(Wh(t))return e}function cg(e,t){if(e==="change")return t}var bp=!1;if(Dn){var Ma;if(Dn){var za="oninput"in document;if(!za){var uf=document.createElement("div");uf.setAttribute("oninput","return;"),za=typeof uf.oninput=="function"}Ma=za}else Ma=!1;bp=Ma&&(!document.documentMode||9<document.documentMode)}function cf(){bs&&(bs.detachEvent("onpropertychange",Sp),Ls=bs=null)}function Sp(e){if(e.propertyName==="value"&&Fl(Ls)){var t=[];wp(t,Ls,e,jc(e)),tp(ug,t)}}function dg(e,t,n){e==="focusin"?(cf(),bs=t,Ls=n,bs.attachEvent("onpropertychange",Sp)):e==="focusout"&&cf()}function fg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fl(Ls)}function hg(e,t){if(e==="click")return Fl(t)}function pg(e,t){if(e==="input"||e==="change")return Fl(t)}function mg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fn=typeof Object.is=="function"?Object.is:mg;function Is(e,t){if(fn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!uu.call(t,i)||!fn(e[i],t[i]))return!1}return!0}function df(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ff(e,t){var n=df(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=df(n)}}function kp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jp(){for(var e=window,t=rl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=rl(e.document)}return t}function Lc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function yg(e){var t=jp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&kp(n.ownerDocument.documentElement,n)){if(r!==null&&Lc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ff(n,o);var c=ff(n,r);i&&c&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vg=Dn&&"documentMode"in document&&11>=document.documentMode,vi=null,_u=null,Ss=null,Pu=!1;function hf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pu||vi==null||vi!==rl(r)||(r=vi,"selectionStart"in r&&Lc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ss&&Is(Ss,r)||(Ss=r,r=cl(_u,"onSelect"),0<r.length&&(t=new Tc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vi)))}function Po(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gi={animationend:Po("Animation","AnimationEnd"),animationiteration:Po("Animation","AnimationIteration"),animationstart:Po("Animation","AnimationStart"),transitionend:Po("Transition","TransitionEnd")},Aa={},Np={};Dn&&(Np=document.createElement("div").style,"AnimationEvent"in window||(delete gi.animationend.animation,delete gi.animationiteration.animation,delete gi.animationstart.animation),"TransitionEvent"in window||delete gi.transitionend.transition);function Ml(e){if(Aa[e])return Aa[e];if(!gi[e])return e;var t=gi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Np)return Aa[e]=t[n];return e}var Cp=Ml("animationend"),Ep=Ml("animationiteration"),_p=Ml("animationstart"),Pp=Ml("transitionend"),Tp=new Map,pf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gr(e,t){Tp.set(e,t),Jr(t,[e])}for(var Da=0;Da<pf.length;Da++){var $a=pf[Da],gg=$a.toLowerCase(),xg=$a[0].toUpperCase()+$a.slice(1);gr(gg,"on"+xg)}gr(Cp,"onAnimationEnd");gr(Ep,"onAnimationIteration");gr(_p,"onAnimationStart");gr("dblclick","onDoubleClick");gr("focusin","onFocus");gr("focusout","onBlur");gr(Pp,"onTransitionEnd");Ri("onMouseEnter",["mouseout","mouseover"]);Ri("onMouseLeave",["mouseout","mouseover"]);Ri("onPointerEnter",["pointerout","pointerover"]);Ri("onPointerLeave",["pointerout","pointerover"]);Jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ys="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wg=new Set("cancel close invalid load scroll toggle".split(" ").concat(ys));function mf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,gv(r,t,void 0,e),e.currentTarget=null}function Op(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var c=r.length-1;0<=c;c--){var h=r[c],p=h.instance,v=h.currentTarget;if(h=h.listener,p!==o&&i.isPropagationStopped())break e;mf(i,h,v),o=p}else for(c=0;c<r.length;c++){if(h=r[c],p=h.instance,v=h.currentTarget,h=h.listener,p!==o&&i.isPropagationStopped())break e;mf(i,h,v),o=p}}}if(sl)throw e=ju,sl=!1,ju=null,e}function Ve(e,t){var n=t[Iu];n===void 0&&(n=t[Iu]=new Set);var r=e+"__bubble";n.has(r)||(Rp(t,e,2,!1),n.add(r))}function Ua(e,t,n){var r=0;t&&(r|=4),Rp(n,e,r,t)}var To="_reactListening"+Math.random().toString(36).slice(2);function Fs(e){if(!e[To]){e[To]=!0,Dh.forEach(function(n){n!=="selectionchange"&&(wg.has(n)||Ua(n,!1,e),Ua(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[To]||(t[To]=!0,Ua("selectionchange",!1,t))}}function Rp(e,t,n,r){switch(mp(t)){case 1:var i=Iv;break;case 4:i=Fv;break;default:i=_c}n=i.bind(null,t,n,e),i=void 0,!ku||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ba(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var c=r.tag;if(c===3||c===4){var h=r.stateNode.containerInfo;if(h===i||h.nodeType===8&&h.parentNode===i)break;if(c===4)for(c=r.return;c!==null;){var p=c.tag;if((p===3||p===4)&&(p=c.stateNode.containerInfo,p===i||p.nodeType===8&&p.parentNode===i))return;c=c.return}for(;h!==null;){if(c=Ur(h),c===null)return;if(p=c.tag,p===5||p===6){r=o=c;continue e}h=h.parentNode}}r=r.return}tp(function(){var v=o,S=jc(n),b=[];e:{var _=Tp.get(e);if(_!==void 0){var U=Tc,A=e;switch(e){case"keypress":if(qo(n)===0)break e;case"keydown":case"keyup":U=Gv;break;case"focusin":A="focus",U=Fa;break;case"focusout":A="blur",U=Fa;break;case"beforeblur":case"afterblur":U=Fa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=nf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=Av;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=Zv;break;case Cp:case Ep:case _p:U=Uv;break;case Pp:U=tg;break;case"scroll":U=Mv;break;case"wheel":U=rg;break;case"copy":case"cut":case"paste":U=Kv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=sf}var B=(t&4)!==0,q=!B&&e==="scroll",N=B?_!==null?_+"Capture":null:_;B=[];for(var g=v,k;g!==null;){k=g;var $=k.stateNode;if(k.tag===5&&$!==null&&(k=$,N!==null&&($=Ps(g,N),$!=null&&B.push(Ms(g,$,k)))),q)break;g=g.return}0<B.length&&(_=new U(_,A,null,n,S),b.push({event:_,listeners:B}))}}if(!(t&7)){e:{if(_=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",_&&n!==bu&&(A=n.relatedTarget||n.fromElement)&&(Ur(A)||A[$n]))break e;if((U||_)&&(_=S.window===S?S:(_=S.ownerDocument)?_.defaultView||_.parentWindow:window,U?(A=n.relatedTarget||n.toElement,U=v,A=A?Ur(A):null,A!==null&&(q=Zr(A),A!==q||A.tag!==5&&A.tag!==6)&&(A=null)):(U=null,A=v),U!==A)){if(B=nf,$="onMouseLeave",N="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(B=sf,$="onPointerLeave",N="onPointerEnter",g="pointer"),q=U==null?_:xi(U),k=A==null?_:xi(A),_=new B($,g+"leave",U,n,S),_.target=q,_.relatedTarget=k,$=null,Ur(S)===v&&(B=new B(N,g+"enter",A,n,S),B.target=k,B.relatedTarget=q,$=B),q=$,U&&A)t:{for(B=U,N=A,g=0,k=B;k;k=di(k))g++;for(k=0,$=N;$;$=di($))k++;for(;0<g-k;)B=di(B),g--;for(;0<k-g;)N=di(N),k--;for(;g--;){if(B===N||N!==null&&B===N.alternate)break t;B=di(B),N=di(N)}B=null}else B=null;U!==null&&yf(b,_,U,B,!1),A!==null&&q!==null&&yf(b,q,A,B,!0)}}e:{if(_=v?xi(v):window,U=_.nodeName&&_.nodeName.toLowerCase(),U==="select"||U==="input"&&_.type==="file")var J=cg;else if(af(_))if(bp)J=pg;else{J=fg;var Q=dg}else(U=_.nodeName)&&U.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(J=hg);if(J&&(J=J(e,v))){wp(b,J,n,S);break e}Q&&Q(e,_,v),e==="focusout"&&(Q=_._wrapperState)&&Q.controlled&&_.type==="number"&&yu(_,"number",_.value)}switch(Q=v?xi(v):window,e){case"focusin":(af(Q)||Q.contentEditable==="true")&&(vi=Q,_u=v,Ss=null);break;case"focusout":Ss=_u=vi=null;break;case"mousedown":Pu=!0;break;case"contextmenu":case"mouseup":case"dragend":Pu=!1,hf(b,n,S);break;case"selectionchange":if(vg)break;case"keydown":case"keyup":hf(b,n,S)}var X;if(Rc)e:{switch(e){case"compositionstart":var ne="onCompositionStart";break e;case"compositionend":ne="onCompositionEnd";break e;case"compositionupdate":ne="onCompositionUpdate";break e}ne=void 0}else yi?gp(e,n)&&(ne="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ne="onCompositionStart");ne&&(vp&&n.locale!=="ko"&&(yi||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&yi&&(X=yp()):(rr=S,Pc="value"in rr?rr.value:rr.textContent,yi=!0)),Q=cl(v,ne),0<Q.length&&(ne=new rf(ne,e,null,n,S),b.push({event:ne,listeners:Q}),X?ne.data=X:(X=xp(n),X!==null&&(ne.data=X)))),(X=sg?og(e,n):lg(e,n))&&(v=cl(v,"onBeforeInput"),0<v.length&&(S=new rf("onBeforeInput","beforeinput",null,n,S),b.push({event:S,listeners:v}),S.data=X))}Op(b,t)})}function Ms(e,t,n){return{instance:e,listener:t,currentTarget:n}}function cl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ps(e,n),o!=null&&r.unshift(Ms(e,o,i)),o=Ps(e,t),o!=null&&r.push(Ms(e,o,i))),e=e.return}return r}function di(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yf(e,t,n,r,i){for(var o=t._reactName,c=[];n!==null&&n!==r;){var h=n,p=h.alternate,v=h.stateNode;if(p!==null&&p===r)break;h.tag===5&&v!==null&&(h=v,i?(p=Ps(n,o),p!=null&&c.unshift(Ms(n,p,h))):i||(p=Ps(n,o),p!=null&&c.push(Ms(n,p,h)))),n=n.return}c.length!==0&&e.push({event:t,listeners:c})}var bg=/\r\n?/g,Sg=/\u0000|\uFFFD/g;function vf(e){return(typeof e=="string"?e:""+e).replace(bg,`
`).replace(Sg,"")}function Oo(e,t,n){if(t=vf(t),vf(e)!==t&&n)throw Error(Z(425))}function dl(){}var Tu=null,Ou=null;function Ru(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Lu=typeof setTimeout=="function"?setTimeout:void 0,kg=typeof clearTimeout=="function"?clearTimeout:void 0,gf=typeof Promise=="function"?Promise:void 0,jg=typeof queueMicrotask=="function"?queueMicrotask:typeof gf<"u"?function(e){return gf.resolve(null).then(e).catch(Ng)}:Lu;function Ng(e){setTimeout(function(){throw e})}function Ka(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Rs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Rs(t)}function cr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ki=Math.random().toString(36).slice(2),wn="__reactFiber$"+Ki,zs="__reactProps$"+Ki,$n="__reactContainer$"+Ki,Iu="__reactEvents$"+Ki,Cg="__reactListeners$"+Ki,Eg="__reactHandles$"+Ki;function Ur(e){var t=e[wn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$n]||n[wn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=xf(e);e!==null;){if(n=e[wn])return n;e=xf(e)}return t}e=n,n=e.parentNode}return null}function Gs(e){return e=e[wn]||e[$n],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Z(33))}function zl(e){return e[zs]||null}var Fu=[],wi=-1;function xr(e){return{current:e}}function qe(e){0>wi||(e.current=Fu[wi],Fu[wi]=null,wi--)}function We(e,t){wi++,Fu[wi]=e.current,e.current=t}var vr={},Ct=xr(vr),Mt=xr(!1),qr=vr;function Li(e,t){var n=e.type.contextTypes;if(!n)return vr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function zt(e){return e=e.childContextTypes,e!=null}function fl(){qe(Mt),qe(Ct)}function wf(e,t,n){if(Ct.current!==vr)throw Error(Z(168));We(Ct,t),We(Mt,n)}function Lp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Z(108,dv(e)||"Unknown",i));return Xe({},n,r)}function hl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vr,qr=Ct.current,We(Ct,e),We(Mt,Mt.current),!0}function bf(e,t,n){var r=e.stateNode;if(!r)throw Error(Z(169));n?(e=Lp(e,t,qr),r.__reactInternalMemoizedMergedChildContext=e,qe(Mt),qe(Ct),We(Ct,e)):qe(Mt),We(Mt,n)}var In=null,Al=!1,Wa=!1;function Ip(e){In===null?In=[e]:In.push(e)}function _g(e){Al=!0,Ip(e)}function wr(){if(!Wa&&In!==null){Wa=!0;var e=0,t=Ae;try{var n=In;for(Ae=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}In=null,Al=!1}catch(i){throw In!==null&&(In=In.slice(e+1)),sp(Nc,wr),i}finally{Ae=t,Wa=!1}}return null}var bi=[],Si=0,pl=null,ml=0,Zt=[],en=0,Qr=null,Fn=1,Mn="";function Ar(e,t){bi[Si++]=ml,bi[Si++]=pl,pl=e,ml=t}function Fp(e,t,n){Zt[en++]=Fn,Zt[en++]=Mn,Zt[en++]=Qr,Qr=e;var r=Fn;e=Mn;var i=32-cn(r)-1;r&=~(1<<i),n+=1;var o=32-cn(t)+i;if(30<o){var c=i-i%5;o=(r&(1<<c)-1).toString(32),r>>=c,i-=c,Fn=1<<32-cn(t)+i|n<<i|r,Mn=o+e}else Fn=1<<o|n<<i|r,Mn=e}function Ic(e){e.return!==null&&(Ar(e,1),Fp(e,1,0))}function Fc(e){for(;e===pl;)pl=bi[--Si],bi[Si]=null,ml=bi[--Si],bi[Si]=null;for(;e===Qr;)Qr=Zt[--en],Zt[en]=null,Mn=Zt[--en],Zt[en]=null,Fn=Zt[--en],Zt[en]=null}var Ht=null,Wt=null,Qe=!1,un=null;function Mp(e,t){var n=tn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Sf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ht=e,Wt=cr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ht=e,Wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Qr!==null?{id:Fn,overflow:Mn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=tn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ht=e,Wt=null,!0):!1;default:return!1}}function Mu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zu(e){if(Qe){var t=Wt;if(t){var n=t;if(!Sf(e,t)){if(Mu(e))throw Error(Z(418));t=cr(n.nextSibling);var r=Ht;t&&Sf(e,t)?Mp(r,n):(e.flags=e.flags&-4097|2,Qe=!1,Ht=e)}}else{if(Mu(e))throw Error(Z(418));e.flags=e.flags&-4097|2,Qe=!1,Ht=e}}}function kf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ht=e}function Ro(e){if(e!==Ht)return!1;if(!Qe)return kf(e),Qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ru(e.type,e.memoizedProps)),t&&(t=Wt)){if(Mu(e))throw zp(),Error(Z(418));for(;t;)Mp(e,t),t=cr(t.nextSibling)}if(kf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Wt=cr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Wt=null}}else Wt=Ht?cr(e.stateNode.nextSibling):null;return!0}function zp(){for(var e=Wt;e;)e=cr(e.nextSibling)}function Ii(){Wt=Ht=null,Qe=!1}function Mc(e){un===null?un=[e]:un.push(e)}var Pg=Kn.ReactCurrentBatchConfig;function cs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(c){var h=i.refs;c===null?delete h[o]:h[o]=c},t._stringRef=o,t)}if(typeof e!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,e))}return e}function Lo(e,t){throw e=Object.prototype.toString.call(t),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function jf(e){var t=e._init;return t(e._payload)}function Ap(e){function t(N,g){if(e){var k=N.deletions;k===null?(N.deletions=[g],N.flags|=16):k.push(g)}}function n(N,g){if(!e)return null;for(;g!==null;)t(N,g),g=g.sibling;return null}function r(N,g){for(N=new Map;g!==null;)g.key!==null?N.set(g.key,g):N.set(g.index,g),g=g.sibling;return N}function i(N,g){return N=pr(N,g),N.index=0,N.sibling=null,N}function o(N,g,k){return N.index=k,e?(k=N.alternate,k!==null?(k=k.index,k<g?(N.flags|=2,g):k):(N.flags|=2,g)):(N.flags|=1048576,g)}function c(N){return e&&N.alternate===null&&(N.flags|=2),N}function h(N,g,k,$){return g===null||g.tag!==6?(g=Xa(k,N.mode,$),g.return=N,g):(g=i(g,k),g.return=N,g)}function p(N,g,k,$){var J=k.type;return J===mi?S(N,g,k.props.children,$,k.key):g!==null&&(g.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Zn&&jf(J)===g.type)?($=i(g,k.props),$.ref=cs(N,g,k),$.return=N,$):($=el(k.type,k.key,k.props,null,N.mode,$),$.ref=cs(N,g,k),$.return=N,$)}function v(N,g,k,$){return g===null||g.tag!==4||g.stateNode.containerInfo!==k.containerInfo||g.stateNode.implementation!==k.implementation?(g=Ja(k,N.mode,$),g.return=N,g):(g=i(g,k.children||[]),g.return=N,g)}function S(N,g,k,$,J){return g===null||g.tag!==7?(g=Vr(k,N.mode,$,J),g.return=N,g):(g=i(g,k),g.return=N,g)}function b(N,g,k){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Xa(""+g,N.mode,k),g.return=N,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case So:return k=el(g.type,g.key,g.props,null,N.mode,k),k.ref=cs(N,null,g),k.return=N,k;case pi:return g=Ja(g,N.mode,k),g.return=N,g;case Zn:var $=g._init;return b(N,$(g._payload),k)}if(ps(g)||ss(g))return g=Vr(g,N.mode,k,null),g.return=N,g;Lo(N,g)}return null}function _(N,g,k,$){var J=g!==null?g.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return J!==null?null:h(N,g,""+k,$);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case So:return k.key===J?p(N,g,k,$):null;case pi:return k.key===J?v(N,g,k,$):null;case Zn:return J=k._init,_(N,g,J(k._payload),$)}if(ps(k)||ss(k))return J!==null?null:S(N,g,k,$,null);Lo(N,k)}return null}function U(N,g,k,$,J){if(typeof $=="string"&&$!==""||typeof $=="number")return N=N.get(k)||null,h(g,N,""+$,J);if(typeof $=="object"&&$!==null){switch($.$$typeof){case So:return N=N.get($.key===null?k:$.key)||null,p(g,N,$,J);case pi:return N=N.get($.key===null?k:$.key)||null,v(g,N,$,J);case Zn:var Q=$._init;return U(N,g,k,Q($._payload),J)}if(ps($)||ss($))return N=N.get(k)||null,S(g,N,$,J,null);Lo(g,$)}return null}function A(N,g,k,$){for(var J=null,Q=null,X=g,ne=g=0,be=null;X!==null&&ne<k.length;ne++){X.index>ne?(be=X,X=null):be=X.sibling;var ye=_(N,X,k[ne],$);if(ye===null){X===null&&(X=be);break}e&&X&&ye.alternate===null&&t(N,X),g=o(ye,g,ne),Q===null?J=ye:Q.sibling=ye,Q=ye,X=be}if(ne===k.length)return n(N,X),Qe&&Ar(N,ne),J;if(X===null){for(;ne<k.length;ne++)X=b(N,k[ne],$),X!==null&&(g=o(X,g,ne),Q===null?J=X:Q.sibling=X,Q=X);return Qe&&Ar(N,ne),J}for(X=r(N,X);ne<k.length;ne++)be=U(X,N,ne,k[ne],$),be!==null&&(e&&be.alternate!==null&&X.delete(be.key===null?ne:be.key),g=o(be,g,ne),Q===null?J=be:Q.sibling=be,Q=be);return e&&X.forEach(function(Re){return t(N,Re)}),Qe&&Ar(N,ne),J}function B(N,g,k,$){var J=ss(k);if(typeof J!="function")throw Error(Z(150));if(k=J.call(k),k==null)throw Error(Z(151));for(var Q=J=null,X=g,ne=g=0,be=null,ye=k.next();X!==null&&!ye.done;ne++,ye=k.next()){X.index>ne?(be=X,X=null):be=X.sibling;var Re=_(N,X,ye.value,$);if(Re===null){X===null&&(X=be);break}e&&X&&Re.alternate===null&&t(N,X),g=o(Re,g,ne),Q===null?J=Re:Q.sibling=Re,Q=Re,X=be}if(ye.done)return n(N,X),Qe&&Ar(N,ne),J;if(X===null){for(;!ye.done;ne++,ye=k.next())ye=b(N,ye.value,$),ye!==null&&(g=o(ye,g,ne),Q===null?J=ye:Q.sibling=ye,Q=ye);return Qe&&Ar(N,ne),J}for(X=r(N,X);!ye.done;ne++,ye=k.next())ye=U(X,N,ne,ye.value,$),ye!==null&&(e&&ye.alternate!==null&&X.delete(ye.key===null?ne:ye.key),g=o(ye,g,ne),Q===null?J=ye:Q.sibling=ye,Q=ye);return e&&X.forEach(function($e){return t(N,$e)}),Qe&&Ar(N,ne),J}function q(N,g,k,$){if(typeof k=="object"&&k!==null&&k.type===mi&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case So:e:{for(var J=k.key,Q=g;Q!==null;){if(Q.key===J){if(J=k.type,J===mi){if(Q.tag===7){n(N,Q.sibling),g=i(Q,k.props.children),g.return=N,N=g;break e}}else if(Q.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Zn&&jf(J)===Q.type){n(N,Q.sibling),g=i(Q,k.props),g.ref=cs(N,Q,k),g.return=N,N=g;break e}n(N,Q);break}else t(N,Q);Q=Q.sibling}k.type===mi?(g=Vr(k.props.children,N.mode,$,k.key),g.return=N,N=g):($=el(k.type,k.key,k.props,null,N.mode,$),$.ref=cs(N,g,k),$.return=N,N=$)}return c(N);case pi:e:{for(Q=k.key;g!==null;){if(g.key===Q)if(g.tag===4&&g.stateNode.containerInfo===k.containerInfo&&g.stateNode.implementation===k.implementation){n(N,g.sibling),g=i(g,k.children||[]),g.return=N,N=g;break e}else{n(N,g);break}else t(N,g);g=g.sibling}g=Ja(k,N.mode,$),g.return=N,N=g}return c(N);case Zn:return Q=k._init,q(N,g,Q(k._payload),$)}if(ps(k))return A(N,g,k,$);if(ss(k))return B(N,g,k,$);Lo(N,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,g!==null&&g.tag===6?(n(N,g.sibling),g=i(g,k),g.return=N,N=g):(n(N,g),g=Xa(k,N.mode,$),g.return=N,N=g),c(N)):n(N,g)}return q}var Fi=Ap(!0),Dp=Ap(!1),yl=xr(null),vl=null,ki=null,zc=null;function Ac(){zc=ki=vl=null}function Dc(e){var t=yl.current;qe(yl),e._currentValue=t}function Au(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ti(e,t){vl=e,zc=ki=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ft=!0),e.firstContext=null)}function rn(e){var t=e._currentValue;if(zc!==e)if(e={context:e,memoizedValue:t,next:null},ki===null){if(vl===null)throw Error(Z(308));ki=e,vl.dependencies={lanes:0,firstContext:e}}else ki=ki.next=e;return t}var Br=null;function $c(e){Br===null?Br=[e]:Br.push(e)}function $p(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,$c(t)):(n.next=i.next,i.next=n),t.interleaved=n,Un(e,r)}function Un(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var er=!1;function Uc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Up(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function An(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function dr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Un(e,n)}return i=r.interleaved,i===null?(t.next=t,$c(r)):(t.next=i.next,i.next=t),r.interleaved=t,Un(e,n)}function Qo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Cc(e,n)}}function Nf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var c={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=c:o=o.next=c,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function gl(e,t,n,r){var i=e.updateQueue;er=!1;var o=i.firstBaseUpdate,c=i.lastBaseUpdate,h=i.shared.pending;if(h!==null){i.shared.pending=null;var p=h,v=p.next;p.next=null,c===null?o=v:c.next=v,c=p;var S=e.alternate;S!==null&&(S=S.updateQueue,h=S.lastBaseUpdate,h!==c&&(h===null?S.firstBaseUpdate=v:h.next=v,S.lastBaseUpdate=p))}if(o!==null){var b=i.baseState;c=0,S=v=p=null,h=o;do{var _=h.lane,U=h.eventTime;if((r&_)===_){S!==null&&(S=S.next={eventTime:U,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var A=e,B=h;switch(_=t,U=n,B.tag){case 1:if(A=B.payload,typeof A=="function"){b=A.call(U,b,_);break e}b=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=B.payload,_=typeof A=="function"?A.call(U,b,_):A,_==null)break e;b=Xe({},b,_);break e;case 2:er=!0}}h.callback!==null&&h.lane!==0&&(e.flags|=64,_=i.effects,_===null?i.effects=[h]:_.push(h))}else U={eventTime:U,lane:_,tag:h.tag,payload:h.payload,callback:h.callback,next:null},S===null?(v=S=U,p=b):S=S.next=U,c|=_;if(h=h.next,h===null){if(h=i.shared.pending,h===null)break;_=h,h=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(!0);if(S===null&&(p=b),i.baseState=p,i.firstBaseUpdate=v,i.lastBaseUpdate=S,t=i.shared.interleaved,t!==null){i=t;do c|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Gr|=c,e.lanes=c,e.memoizedState=b}}function Cf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Z(191,i));i.call(r)}}}var Xs={},Sn=xr(Xs),As=xr(Xs),Ds=xr(Xs);function Kr(e){if(e===Xs)throw Error(Z(174));return e}function Bc(e,t){switch(We(Ds,t),We(As,e),We(Sn,Xs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:gu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=gu(t,e)}qe(Sn),We(Sn,t)}function Mi(){qe(Sn),qe(As),qe(Ds)}function Bp(e){Kr(Ds.current);var t=Kr(Sn.current),n=gu(t,e.type);t!==n&&(We(As,e),We(Sn,n))}function Kc(e){As.current===e&&(qe(Sn),qe(As))}var Ye=xr(0);function xl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ha=[];function Wc(){for(var e=0;e<Ha.length;e++)Ha[e]._workInProgressVersionPrimary=null;Ha.length=0}var Yo=Kn.ReactCurrentDispatcher,Va=Kn.ReactCurrentBatchConfig,Yr=0,Ge=null,lt=null,ft=null,wl=!1,ks=!1,$s=0,Tg=0;function kt(){throw Error(Z(321))}function Hc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!fn(e[n],t[n]))return!1;return!0}function Vc(e,t,n,r,i,o){if(Yr=o,Ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yo.current=e===null||e.memoizedState===null?Ig:Fg,e=n(r,i),ks){o=0;do{if(ks=!1,$s=0,25<=o)throw Error(Z(301));o+=1,ft=lt=null,t.updateQueue=null,Yo.current=Mg,e=n(r,i)}while(ks)}if(Yo.current=bl,t=lt!==null&&lt.next!==null,Yr=0,ft=lt=Ge=null,wl=!1,t)throw Error(Z(300));return e}function qc(){var e=$s!==0;return $s=0,e}function xn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Ge.memoizedState=ft=e:ft=ft.next=e,ft}function sn(){if(lt===null){var e=Ge.alternate;e=e!==null?e.memoizedState:null}else e=lt.next;var t=ft===null?Ge.memoizedState:ft.next;if(t!==null)ft=t,lt=e;else{if(e===null)throw Error(Z(310));lt=e,e={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},ft===null?Ge.memoizedState=ft=e:ft=ft.next=e}return ft}function Us(e,t){return typeof t=="function"?t(e):t}function qa(e){var t=sn(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var r=lt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var c=i.next;i.next=o.next,o.next=c}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var h=c=null,p=null,v=o;do{var S=v.lane;if((Yr&S)===S)p!==null&&(p=p.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),r=v.hasEagerState?v.eagerState:e(r,v.action);else{var b={lane:S,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};p===null?(h=p=b,c=r):p=p.next=b,Ge.lanes|=S,Gr|=S}v=v.next}while(v!==null&&v!==o);p===null?c=r:p.next=h,fn(r,t.memoizedState)||(Ft=!0),t.memoizedState=r,t.baseState=c,t.baseQueue=p,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Ge.lanes|=o,Gr|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Qa(e){var t=sn(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var c=i=i.next;do o=e(o,c.action),c=c.next;while(c!==i);fn(o,t.memoizedState)||(Ft=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Kp(){}function Wp(e,t){var n=Ge,r=sn(),i=t(),o=!fn(r.memoizedState,i);if(o&&(r.memoizedState=i,Ft=!0),r=r.queue,Qc(qp.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||ft!==null&&ft.memoizedState.tag&1){if(n.flags|=2048,Bs(9,Vp.bind(null,n,r,i,t),void 0,null),ht===null)throw Error(Z(349));Yr&30||Hp(n,t,i)}return i}function Hp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Vp(e,t,n,r){t.value=n,t.getSnapshot=r,Qp(t)&&Yp(e)}function qp(e,t,n){return n(function(){Qp(t)&&Yp(e)})}function Qp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!fn(e,n)}catch{return!0}}function Yp(e){var t=Un(e,1);t!==null&&dn(t,e,1,-1)}function Ef(e){var t=xn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:e},t.queue=e,e=e.dispatch=Lg.bind(null,Ge,e),[t.memoizedState,e]}function Bs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Gp(){return sn().memoizedState}function Go(e,t,n,r){var i=xn();Ge.flags|=e,i.memoizedState=Bs(1|t,n,void 0,r===void 0?null:r)}function Dl(e,t,n,r){var i=sn();r=r===void 0?null:r;var o=void 0;if(lt!==null){var c=lt.memoizedState;if(o=c.destroy,r!==null&&Hc(r,c.deps)){i.memoizedState=Bs(t,n,o,r);return}}Ge.flags|=e,i.memoizedState=Bs(1|t,n,o,r)}function _f(e,t){return Go(8390656,8,e,t)}function Qc(e,t){return Dl(2048,8,e,t)}function Xp(e,t){return Dl(4,2,e,t)}function Jp(e,t){return Dl(4,4,e,t)}function Zp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function em(e,t,n){return n=n!=null?n.concat([e]):null,Dl(4,4,Zp.bind(null,t,e),n)}function Yc(){}function tm(e,t){var n=sn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function nm(e,t){var n=sn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function rm(e,t,n){return Yr&21?(fn(n,t)||(n=ap(),Ge.lanes|=n,Gr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ft=!0),e.memoizedState=n)}function Og(e,t){var n=Ae;Ae=n!==0&&4>n?n:4,e(!0);var r=Va.transition;Va.transition={};try{e(!1),t()}finally{Ae=n,Va.transition=r}}function im(){return sn().memoizedState}function Rg(e,t,n){var r=hr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sm(e))om(t,n);else if(n=$p(e,t,n,r),n!==null){var i=Tt();dn(n,e,r,i),lm(n,t,r)}}function Lg(e,t,n){var r=hr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sm(e))om(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var c=t.lastRenderedState,h=o(c,n);if(i.hasEagerState=!0,i.eagerState=h,fn(h,c)){var p=t.interleaved;p===null?(i.next=i,$c(t)):(i.next=p.next,p.next=i),t.interleaved=i;return}}catch{}finally{}n=$p(e,t,i,r),n!==null&&(i=Tt(),dn(n,e,r,i),lm(n,t,r))}}function sm(e){var t=e.alternate;return e===Ge||t!==null&&t===Ge}function om(e,t){ks=wl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function lm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Cc(e,n)}}var bl={readContext:rn,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},Ig={readContext:rn,useCallback:function(e,t){return xn().memoizedState=[e,t===void 0?null:t],e},useContext:rn,useEffect:_f,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Go(4194308,4,Zp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Go(4194308,4,e,t)},useInsertionEffect:function(e,t){return Go(4,2,e,t)},useMemo:function(e,t){var n=xn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Rg.bind(null,Ge,e),[r.memoizedState,e]},useRef:function(e){var t=xn();return e={current:e},t.memoizedState=e},useState:Ef,useDebugValue:Yc,useDeferredValue:function(e){return xn().memoizedState=e},useTransition:function(){var e=Ef(!1),t=e[0];return e=Og.bind(null,e[1]),xn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ge,i=xn();if(Qe){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=t(),ht===null)throw Error(Z(349));Yr&30||Hp(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,_f(qp.bind(null,r,o,e),[e]),r.flags|=2048,Bs(9,Vp.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=xn(),t=ht.identifierPrefix;if(Qe){var n=Mn,r=Fn;n=(r&~(1<<32-cn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=$s++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Tg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Fg={readContext:rn,useCallback:tm,useContext:rn,useEffect:Qc,useImperativeHandle:em,useInsertionEffect:Xp,useLayoutEffect:Jp,useMemo:nm,useReducer:qa,useRef:Gp,useState:function(){return qa(Us)},useDebugValue:Yc,useDeferredValue:function(e){var t=sn();return rm(t,lt.memoizedState,e)},useTransition:function(){var e=qa(Us)[0],t=sn().memoizedState;return[e,t]},useMutableSource:Kp,useSyncExternalStore:Wp,useId:im,unstable_isNewReconciler:!1},Mg={readContext:rn,useCallback:tm,useContext:rn,useEffect:Qc,useImperativeHandle:em,useInsertionEffect:Xp,useLayoutEffect:Jp,useMemo:nm,useReducer:Qa,useRef:Gp,useState:function(){return Qa(Us)},useDebugValue:Yc,useDeferredValue:function(e){var t=sn();return lt===null?t.memoizedState=e:rm(t,lt.memoizedState,e)},useTransition:function(){var e=Qa(Us)[0],t=sn().memoizedState;return[e,t]},useMutableSource:Kp,useSyncExternalStore:Wp,useId:im,unstable_isNewReconciler:!1};function ln(e,t){if(e&&e.defaultProps){t=Xe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Du(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var $l={isMounted:function(e){return(e=e._reactInternals)?Zr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Tt(),i=hr(e),o=An(r,i);o.payload=t,n!=null&&(o.callback=n),t=dr(e,o,i),t!==null&&(dn(t,e,i,r),Qo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Tt(),i=hr(e),o=An(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=dr(e,o,i),t!==null&&(dn(t,e,i,r),Qo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Tt(),r=hr(e),i=An(n,r);i.tag=2,t!=null&&(i.callback=t),t=dr(e,i,r),t!==null&&(dn(t,e,r,n),Qo(t,e,r))}};function Pf(e,t,n,r,i,o,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,c):t.prototype&&t.prototype.isPureReactComponent?!Is(n,r)||!Is(i,o):!0}function am(e,t,n){var r=!1,i=vr,o=t.contextType;return typeof o=="object"&&o!==null?o=rn(o):(i=zt(t)?qr:Ct.current,r=t.contextTypes,o=(r=r!=null)?Li(e,i):vr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$l,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Tf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&$l.enqueueReplaceState(t,t.state,null)}function $u(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Uc(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=rn(o):(o=zt(t)?qr:Ct.current,i.context=Li(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Du(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&$l.enqueueReplaceState(i,i.state,null),gl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function zi(e,t){try{var n="",r=t;do n+=cv(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Ya(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Uu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var zg=typeof WeakMap=="function"?WeakMap:Map;function um(e,t,n){n=An(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){kl||(kl=!0,Xu=r),Uu(e,t)},n}function cm(e,t,n){n=An(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Uu(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Uu(e,t),typeof r!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),n}function Of(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new zg;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Xg.bind(null,e,t,n),t.then(e,e))}function Rf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Lf(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=An(-1,1),t.tag=2,dr(n,t,1))),n.lanes|=1),e)}var Ag=Kn.ReactCurrentOwner,Ft=!1;function Pt(e,t,n,r){t.child=e===null?Dp(t,null,n,r):Fi(t,e.child,n,r)}function If(e,t,n,r,i){n=n.render;var o=t.ref;return Ti(t,i),r=Vc(e,t,n,r,o,i),n=qc(),e!==null&&!Ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bn(e,t,i)):(Qe&&n&&Ic(t),t.flags|=1,Pt(e,t,r,i),t.child)}function Ff(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!rd(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,dm(e,t,o,r,i)):(e=el(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var c=o.memoizedProps;if(n=n.compare,n=n!==null?n:Is,n(c,r)&&e.ref===t.ref)return Bn(e,t,i)}return t.flags|=1,e=pr(o,r),e.ref=t.ref,e.return=t,t.child=e}function dm(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Is(o,r)&&e.ref===t.ref)if(Ft=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Ft=!0);else return t.lanes=e.lanes,Bn(e,t,i)}return Bu(e,t,n,r,i)}function fm(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Ni,Kt),Kt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,We(Ni,Kt),Kt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,We(Ni,Kt),Kt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,We(Ni,Kt),Kt|=r;return Pt(e,t,i,n),t.child}function hm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Bu(e,t,n,r,i){var o=zt(n)?qr:Ct.current;return o=Li(t,o),Ti(t,i),n=Vc(e,t,n,r,o,i),r=qc(),e!==null&&!Ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bn(e,t,i)):(Qe&&r&&Ic(t),t.flags|=1,Pt(e,t,n,i),t.child)}function Mf(e,t,n,r,i){if(zt(n)){var o=!0;hl(t)}else o=!1;if(Ti(t,i),t.stateNode===null)Xo(e,t),am(t,n,r),$u(t,n,r,i),r=!0;else if(e===null){var c=t.stateNode,h=t.memoizedProps;c.props=h;var p=c.context,v=n.contextType;typeof v=="object"&&v!==null?v=rn(v):(v=zt(n)?qr:Ct.current,v=Li(t,v));var S=n.getDerivedStateFromProps,b=typeof S=="function"||typeof c.getSnapshotBeforeUpdate=="function";b||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==r||p!==v)&&Tf(t,c,r,v),er=!1;var _=t.memoizedState;c.state=_,gl(t,r,c,i),p=t.memoizedState,h!==r||_!==p||Mt.current||er?(typeof S=="function"&&(Du(t,n,S,r),p=t.memoizedState),(h=er||Pf(t,n,h,r,_,p,v))?(b||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=p),c.props=r,c.state=p,c.context=v,r=h):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{c=t.stateNode,Up(e,t),h=t.memoizedProps,v=t.type===t.elementType?h:ln(t.type,h),c.props=v,b=t.pendingProps,_=c.context,p=n.contextType,typeof p=="object"&&p!==null?p=rn(p):(p=zt(n)?qr:Ct.current,p=Li(t,p));var U=n.getDerivedStateFromProps;(S=typeof U=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==b||_!==p)&&Tf(t,c,r,p),er=!1,_=t.memoizedState,c.state=_,gl(t,r,c,i);var A=t.memoizedState;h!==b||_!==A||Mt.current||er?(typeof U=="function"&&(Du(t,n,U,r),A=t.memoizedState),(v=er||Pf(t,n,v,r,_,A,p)||!1)?(S||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,A,p),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,A,p)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=A),c.props=r,c.state=A,c.context=p,r=v):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),r=!1)}return Ku(e,t,n,r,o,i)}function Ku(e,t,n,r,i,o){hm(e,t);var c=(t.flags&128)!==0;if(!r&&!c)return i&&bf(t,n,!1),Bn(e,t,o);r=t.stateNode,Ag.current=t;var h=c&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&c?(t.child=Fi(t,e.child,null,o),t.child=Fi(t,null,h,o)):Pt(e,t,h,o),t.memoizedState=r.state,i&&bf(t,n,!0),t.child}function pm(e){var t=e.stateNode;t.pendingContext?wf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wf(e,t.context,!1),Bc(e,t.containerInfo)}function zf(e,t,n,r,i){return Ii(),Mc(i),t.flags|=256,Pt(e,t,n,r),t.child}var Wu={dehydrated:null,treeContext:null,retryLane:0};function Hu(e){return{baseLanes:e,cachePool:null,transitions:null}}function mm(e,t,n){var r=t.pendingProps,i=Ye.current,o=!1,c=(t.flags&128)!==0,h;if((h=c)||(h=e!==null&&e.memoizedState===null?!1:(i&2)!==0),h?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),We(Ye,i&1),e===null)return zu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=r.children,e=r.fallback,o?(r=t.mode,o=t.child,c={mode:"hidden",children:c},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=c):o=Kl(c,r,0,null),e=Vr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Hu(n),t.memoizedState=Wu,e):Gc(t,c));if(i=e.memoizedState,i!==null&&(h=i.dehydrated,h!==null))return Dg(e,t,c,r,h,i,n);if(o){o=r.fallback,c=t.mode,i=e.child,h=i.sibling;var p={mode:"hidden",children:r.children};return!(c&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=p,t.deletions=null):(r=pr(i,p),r.subtreeFlags=i.subtreeFlags&14680064),h!==null?o=pr(h,o):(o=Vr(o,c,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,c=e.child.memoizedState,c=c===null?Hu(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},o.memoizedState=c,o.childLanes=e.childLanes&~n,t.memoizedState=Wu,r}return o=e.child,e=o.sibling,r=pr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Gc(e,t){return t=Kl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Io(e,t,n,r){return r!==null&&Mc(r),Fi(t,e.child,null,n),e=Gc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Dg(e,t,n,r,i,o,c){if(n)return t.flags&256?(t.flags&=-257,r=Ya(Error(Z(422))),Io(e,t,c,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Kl({mode:"visible",children:r.children},i,0,null),o=Vr(o,i,c,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Fi(t,e.child,null,c),t.child.memoizedState=Hu(c),t.memoizedState=Wu,o);if(!(t.mode&1))return Io(e,t,c,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var h=r.dgst;return r=h,o=Error(Z(419)),r=Ya(o,r,void 0),Io(e,t,c,r)}if(h=(c&e.childLanes)!==0,Ft||h){if(r=ht,r!==null){switch(c&-c){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|c)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Un(e,i),dn(r,e,i,-1))}return nd(),r=Ya(Error(Z(421))),Io(e,t,c,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Jg.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Wt=cr(i.nextSibling),Ht=t,Qe=!0,un=null,e!==null&&(Zt[en++]=Fn,Zt[en++]=Mn,Zt[en++]=Qr,Fn=e.id,Mn=e.overflow,Qr=t),t=Gc(t,r.children),t.flags|=4096,t)}function Af(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Au(e.return,t,n)}function Ga(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function ym(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Pt(e,t,r.children,n),r=Ye.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Af(e,n,t);else if(e.tag===19)Af(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(We(Ye,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&xl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ga(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&xl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ga(t,!0,n,null,o);break;case"together":Ga(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,n=pr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=pr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $g(e,t,n){switch(t.tag){case 3:pm(t),Ii();break;case 5:Bp(t);break;case 1:zt(t.type)&&hl(t);break;case 4:Bc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;We(yl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(We(Ye,Ye.current&1),t.flags|=128,null):n&t.child.childLanes?mm(e,t,n):(We(Ye,Ye.current&1),e=Bn(e,t,n),e!==null?e.sibling:null);We(Ye,Ye.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ym(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),We(Ye,Ye.current),r)break;return null;case 22:case 23:return t.lanes=0,fm(e,t,n)}return Bn(e,t,n)}var vm,Vu,gm,xm;vm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vu=function(){};gm=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Kr(Sn.current);var o=null;switch(n){case"input":i=pu(e,i),r=pu(e,r),o=[];break;case"select":i=Xe({},i,{value:void 0}),r=Xe({},r,{value:void 0}),o=[];break;case"textarea":i=vu(e,i),r=vu(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=dl)}xu(n,r);var c;n=null;for(v in i)if(!r.hasOwnProperty(v)&&i.hasOwnProperty(v)&&i[v]!=null)if(v==="style"){var h=i[v];for(c in h)h.hasOwnProperty(c)&&(n||(n={}),n[c]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(Es.hasOwnProperty(v)?o||(o=[]):(o=o||[]).push(v,null));for(v in r){var p=r[v];if(h=i!=null?i[v]:void 0,r.hasOwnProperty(v)&&p!==h&&(p!=null||h!=null))if(v==="style")if(h){for(c in h)!h.hasOwnProperty(c)||p&&p.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in p)p.hasOwnProperty(c)&&h[c]!==p[c]&&(n||(n={}),n[c]=p[c])}else n||(o||(o=[]),o.push(v,n)),n=p;else v==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,h=h?h.__html:void 0,p!=null&&h!==p&&(o=o||[]).push(v,p)):v==="children"?typeof p!="string"&&typeof p!="number"||(o=o||[]).push(v,""+p):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(Es.hasOwnProperty(v)?(p!=null&&v==="onScroll"&&Ve("scroll",e),o||h===p||(o=[])):(o=o||[]).push(v,p))}n&&(o=o||[]).push("style",n);var v=o;(t.updateQueue=v)&&(t.flags|=4)}};xm=function(e,t,n,r){n!==r&&(t.flags|=4)};function ds(e,t){if(!Qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function jt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ug(e,t,n){var r=t.pendingProps;switch(Fc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(t),null;case 1:return zt(t.type)&&fl(),jt(t),null;case 3:return r=t.stateNode,Mi(),qe(Mt),qe(Ct),Wc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ro(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,un!==null&&(ec(un),un=null))),Vu(e,t),jt(t),null;case 5:Kc(t);var i=Kr(Ds.current);if(n=t.type,e!==null&&t.stateNode!=null)gm(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Z(166));return jt(t),null}if(e=Kr(Sn.current),Ro(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[wn]=t,r[zs]=o,e=(t.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(i=0;i<ys.length;i++)Ve(ys[i],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":Vd(r,o),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ve("invalid",r);break;case"textarea":Qd(r,o),Ve("invalid",r)}xu(n,o),i=null;for(var c in o)if(o.hasOwnProperty(c)){var h=o[c];c==="children"?typeof h=="string"?r.textContent!==h&&(o.suppressHydrationWarning!==!0&&Oo(r.textContent,h,e),i=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(o.suppressHydrationWarning!==!0&&Oo(r.textContent,h,e),i=["children",""+h]):Es.hasOwnProperty(c)&&h!=null&&c==="onScroll"&&Ve("scroll",r)}switch(n){case"input":ko(r),qd(r,o,!0);break;case"textarea":ko(r),Yd(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=dl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{c=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),n==="select"&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[wn]=t,e[zs]=r,vm(e,t,!1,!1),t.stateNode=e;e:{switch(c=wu(n,r),n){case"dialog":Ve("cancel",e),Ve("close",e),i=r;break;case"iframe":case"object":case"embed":Ve("load",e),i=r;break;case"video":case"audio":for(i=0;i<ys.length;i++)Ve(ys[i],e);i=r;break;case"source":Ve("error",e),i=r;break;case"img":case"image":case"link":Ve("error",e),Ve("load",e),i=r;break;case"details":Ve("toggle",e),i=r;break;case"input":Vd(e,r),i=pu(e,r),Ve("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Xe({},r,{value:void 0}),Ve("invalid",e);break;case"textarea":Qd(e,r),i=vu(e,r),Ve("invalid",e);break;default:i=r}xu(n,i),h=i;for(o in h)if(h.hasOwnProperty(o)){var p=h[o];o==="style"?Gh(e,p):o==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&Qh(e,p)):o==="children"?typeof p=="string"?(n!=="textarea"||p!=="")&&_s(e,p):typeof p=="number"&&_s(e,""+p):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Es.hasOwnProperty(o)?p!=null&&o==="onScroll"&&Ve("scroll",e):p!=null&&wc(e,o,p,c))}switch(n){case"input":ko(e),qd(e,r,!1);break;case"textarea":ko(e),Yd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+yr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Ci(e,!!r.multiple,o,!1):r.defaultValue!=null&&Ci(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=dl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return jt(t),null;case 6:if(e&&t.stateNode!=null)xm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Z(166));if(n=Kr(Ds.current),Kr(Sn.current),Ro(t)){if(r=t.stateNode,n=t.memoizedProps,r[wn]=t,(o=r.nodeValue!==n)&&(e=Ht,e!==null))switch(e.tag){case 3:Oo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Oo(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wn]=t,t.stateNode=r}return jt(t),null;case 13:if(qe(Ye),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&Wt!==null&&t.mode&1&&!(t.flags&128))zp(),Ii(),t.flags|=98560,o=!1;else if(o=Ro(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(Z(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Z(317));o[wn]=t}else Ii(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;jt(t),o=!1}else un!==null&&(ec(un),un=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ye.current&1?at===0&&(at=3):nd())),t.updateQueue!==null&&(t.flags|=4),jt(t),null);case 4:return Mi(),Vu(e,t),e===null&&Fs(t.stateNode.containerInfo),jt(t),null;case 10:return Dc(t.type._context),jt(t),null;case 17:return zt(t.type)&&fl(),jt(t),null;case 19:if(qe(Ye),o=t.memoizedState,o===null)return jt(t),null;if(r=(t.flags&128)!==0,c=o.rendering,c===null)if(r)ds(o,!1);else{if(at!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=xl(e),c!==null){for(t.flags|=128,ds(o,!1),r=c.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,c=o.alternate,c===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,e=c.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return We(Ye,Ye.current&1|2),t.child}e=e.sibling}o.tail!==null&&rt()>Ai&&(t.flags|=128,r=!0,ds(o,!1),t.lanes=4194304)}else{if(!r)if(e=xl(c),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ds(o,!0),o.tail===null&&o.tailMode==="hidden"&&!c.alternate&&!Qe)return jt(t),null}else 2*rt()-o.renderingStartTime>Ai&&n!==1073741824&&(t.flags|=128,r=!0,ds(o,!1),t.lanes=4194304);o.isBackwards?(c.sibling=t.child,t.child=c):(n=o.last,n!==null?n.sibling=c:t.child=c,o.last=c)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=rt(),t.sibling=null,n=Ye.current,We(Ye,r?n&1|2:n&1),t):(jt(t),null);case 22:case 23:return td(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Kt&1073741824&&(jt(t),t.subtreeFlags&6&&(t.flags|=8192)):jt(t),null;case 24:return null;case 25:return null}throw Error(Z(156,t.tag))}function Bg(e,t){switch(Fc(t),t.tag){case 1:return zt(t.type)&&fl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mi(),qe(Mt),qe(Ct),Wc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Kc(t),null;case 13:if(qe(Ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Z(340));Ii()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qe(Ye),null;case 4:return Mi(),null;case 10:return Dc(t.type._context),null;case 22:case 23:return td(),null;case 24:return null;default:return null}}var Fo=!1,Nt=!1,Kg=typeof WeakSet=="function"?WeakSet:Set,pe=null;function ji(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ze(e,t,r)}else n.current=null}function qu(e,t,n){try{n()}catch(r){Ze(e,t,r)}}var Df=!1;function Wg(e,t){if(Tu=al,e=jp(),Lc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var c=0,h=-1,p=-1,v=0,S=0,b=e,_=null;t:for(;;){for(var U;b!==n||i!==0&&b.nodeType!==3||(h=c+i),b!==o||r!==0&&b.nodeType!==3||(p=c+r),b.nodeType===3&&(c+=b.nodeValue.length),(U=b.firstChild)!==null;)_=b,b=U;for(;;){if(b===e)break t;if(_===n&&++v===i&&(h=c),_===o&&++S===r&&(p=c),(U=b.nextSibling)!==null)break;b=_,_=b.parentNode}b=U}n=h===-1||p===-1?null:{start:h,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ou={focusedElem:e,selectionRange:n},al=!1,pe=t;pe!==null;)if(t=pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pe=e;else for(;pe!==null;){t=pe;try{var A=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var B=A.memoizedProps,q=A.memoizedState,N=t.stateNode,g=N.getSnapshotBeforeUpdate(t.elementType===t.type?B:ln(t.type,B),q);N.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch($){Ze(t,t.return,$)}if(e=t.sibling,e!==null){e.return=t.return,pe=e;break}pe=t.return}return A=Df,Df=!1,A}function js(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&qu(t,n,o)}i=i.next}while(i!==r)}}function Ul(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Qu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function wm(e){var t=e.alternate;t!==null&&(e.alternate=null,wm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wn],delete t[zs],delete t[Iu],delete t[Cg],delete t[Eg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bm(e){return e.tag===5||e.tag===3||e.tag===4}function $f(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=dl));else if(r!==4&&(e=e.child,e!==null))for(Yu(e,t,n),e=e.sibling;e!==null;)Yu(e,t,n),e=e.sibling}function Gu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Gu(e,t,n),e=e.sibling;e!==null;)Gu(e,t,n),e=e.sibling}var yt=null,an=!1;function Jn(e,t,n){for(n=n.child;n!==null;)Sm(e,t,n),n=n.sibling}function Sm(e,t,n){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Ll,n)}catch{}switch(n.tag){case 5:Nt||ji(n,t);case 6:var r=yt,i=an;yt=null,Jn(e,t,n),yt=r,an=i,yt!==null&&(an?(e=yt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):yt.removeChild(n.stateNode));break;case 18:yt!==null&&(an?(e=yt,n=n.stateNode,e.nodeType===8?Ka(e.parentNode,n):e.nodeType===1&&Ka(e,n),Rs(e)):Ka(yt,n.stateNode));break;case 4:r=yt,i=an,yt=n.stateNode.containerInfo,an=!0,Jn(e,t,n),yt=r,an=i;break;case 0:case 11:case 14:case 15:if(!Nt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,c=o.destroy;o=o.tag,c!==void 0&&(o&2||o&4)&&qu(n,t,c),i=i.next}while(i!==r)}Jn(e,t,n);break;case 1:if(!Nt&&(ji(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){Ze(n,t,h)}Jn(e,t,n);break;case 21:Jn(e,t,n);break;case 22:n.mode&1?(Nt=(r=Nt)||n.memoizedState!==null,Jn(e,t,n),Nt=r):Jn(e,t,n);break;default:Jn(e,t,n)}}function Uf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Kg),t.forEach(function(r){var i=Zg.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function on(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,c=t,h=c;e:for(;h!==null;){switch(h.tag){case 5:yt=h.stateNode,an=!1;break e;case 3:yt=h.stateNode.containerInfo,an=!0;break e;case 4:yt=h.stateNode.containerInfo,an=!0;break e}h=h.return}if(yt===null)throw Error(Z(160));Sm(o,c,i),yt=null,an=!1;var p=i.alternate;p!==null&&(p.return=null),i.return=null}catch(v){Ze(i,t,v)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)km(t,e),t=t.sibling}function km(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(on(t,e),gn(e),r&4){try{js(3,e,e.return),Ul(3,e)}catch(B){Ze(e,e.return,B)}try{js(5,e,e.return)}catch(B){Ze(e,e.return,B)}}break;case 1:on(t,e),gn(e),r&512&&n!==null&&ji(n,n.return);break;case 5:if(on(t,e),gn(e),r&512&&n!==null&&ji(n,n.return),e.flags&32){var i=e.stateNode;try{_s(i,"")}catch(B){Ze(e,e.return,B)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,c=n!==null?n.memoizedProps:o,h=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{h==="input"&&o.type==="radio"&&o.name!=null&&Hh(i,o),wu(h,c);var v=wu(h,o);for(c=0;c<p.length;c+=2){var S=p[c],b=p[c+1];S==="style"?Gh(i,b):S==="dangerouslySetInnerHTML"?Qh(i,b):S==="children"?_s(i,b):wc(i,S,b,v)}switch(h){case"input":mu(i,o);break;case"textarea":Vh(i,o);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var U=o.value;U!=null?Ci(i,!!o.multiple,U,!1):_!==!!o.multiple&&(o.defaultValue!=null?Ci(i,!!o.multiple,o.defaultValue,!0):Ci(i,!!o.multiple,o.multiple?[]:"",!1))}i[zs]=o}catch(B){Ze(e,e.return,B)}}break;case 6:if(on(t,e),gn(e),r&4){if(e.stateNode===null)throw Error(Z(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(B){Ze(e,e.return,B)}}break;case 3:if(on(t,e),gn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Rs(t.containerInfo)}catch(B){Ze(e,e.return,B)}break;case 4:on(t,e),gn(e);break;case 13:on(t,e),gn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Zc=rt())),r&4&&Uf(e);break;case 22:if(S=n!==null&&n.memoizedState!==null,e.mode&1?(Nt=(v=Nt)||S,on(t,e),Nt=v):on(t,e),gn(e),r&8192){if(v=e.memoizedState!==null,(e.stateNode.isHidden=v)&&!S&&e.mode&1)for(pe=e,S=e.child;S!==null;){for(b=pe=S;pe!==null;){switch(_=pe,U=_.child,_.tag){case 0:case 11:case 14:case 15:js(4,_,_.return);break;case 1:ji(_,_.return);var A=_.stateNode;if(typeof A.componentWillUnmount=="function"){r=_,n=_.return;try{t=r,A.props=t.memoizedProps,A.state=t.memoizedState,A.componentWillUnmount()}catch(B){Ze(r,n,B)}}break;case 5:ji(_,_.return);break;case 22:if(_.memoizedState!==null){Kf(b);continue}}U!==null?(U.return=_,pe=U):Kf(b)}S=S.sibling}e:for(S=null,b=e;;){if(b.tag===5){if(S===null){S=b;try{i=b.stateNode,v?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(h=b.stateNode,p=b.memoizedProps.style,c=p!=null&&p.hasOwnProperty("display")?p.display:null,h.style.display=Yh("display",c))}catch(B){Ze(e,e.return,B)}}}else if(b.tag===6){if(S===null)try{b.stateNode.nodeValue=v?"":b.memoizedProps}catch(B){Ze(e,e.return,B)}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===e)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===e)break e;for(;b.sibling===null;){if(b.return===null||b.return===e)break e;S===b&&(S=null),b=b.return}S===b&&(S=null),b.sibling.return=b.return,b=b.sibling}}break;case 19:on(t,e),gn(e),r&4&&Uf(e);break;case 21:break;default:on(t,e),gn(e)}}function gn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(bm(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_s(i,""),r.flags&=-33);var o=$f(e);Gu(e,o,i);break;case 3:case 4:var c=r.stateNode.containerInfo,h=$f(e);Yu(e,h,c);break;default:throw Error(Z(161))}}catch(p){Ze(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Hg(e,t,n){pe=e,jm(e)}function jm(e,t,n){for(var r=(e.mode&1)!==0;pe!==null;){var i=pe,o=i.child;if(i.tag===22&&r){var c=i.memoizedState!==null||Fo;if(!c){var h=i.alternate,p=h!==null&&h.memoizedState!==null||Nt;h=Fo;var v=Nt;if(Fo=c,(Nt=p)&&!v)for(pe=i;pe!==null;)c=pe,p=c.child,c.tag===22&&c.memoizedState!==null?Wf(i):p!==null?(p.return=c,pe=p):Wf(i);for(;o!==null;)pe=o,jm(o),o=o.sibling;pe=i,Fo=h,Nt=v}Bf(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,pe=o):Bf(e)}}function Bf(e){for(;pe!==null;){var t=pe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Nt||Ul(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Nt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ln(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Cf(t,o,r);break;case 3:var c=t.updateQueue;if(c!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Cf(t,c,n)}break;case 5:var h=t.stateNode;if(n===null&&t.flags&4){n=h;var p=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&n.focus();break;case"img":p.src&&(n.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var v=t.alternate;if(v!==null){var S=v.memoizedState;if(S!==null){var b=S.dehydrated;b!==null&&Rs(b)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}Nt||t.flags&512&&Qu(t)}catch(_){Ze(t,t.return,_)}}if(t===e){pe=null;break}if(n=t.sibling,n!==null){n.return=t.return,pe=n;break}pe=t.return}}function Kf(e){for(;pe!==null;){var t=pe;if(t===e){pe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,pe=n;break}pe=t.return}}function Wf(e){for(;pe!==null;){var t=pe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ul(4,t)}catch(p){Ze(t,n,p)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(p){Ze(t,i,p)}}var o=t.return;try{Qu(t)}catch(p){Ze(t,o,p)}break;case 5:var c=t.return;try{Qu(t)}catch(p){Ze(t,c,p)}}}catch(p){Ze(t,t.return,p)}if(t===e){pe=null;break}var h=t.sibling;if(h!==null){h.return=t.return,pe=h;break}pe=t.return}}var Vg=Math.ceil,Sl=Kn.ReactCurrentDispatcher,Xc=Kn.ReactCurrentOwner,nn=Kn.ReactCurrentBatchConfig,Ie=0,ht=null,ot=null,gt=0,Kt=0,Ni=xr(0),at=0,Ks=null,Gr=0,Bl=0,Jc=0,Ns=null,It=null,Zc=0,Ai=1/0,Ln=null,kl=!1,Xu=null,fr=null,Mo=!1,ir=null,jl=0,Cs=0,Ju=null,Jo=-1,Zo=0;function Tt(){return Ie&6?rt():Jo!==-1?Jo:Jo=rt()}function hr(e){return e.mode&1?Ie&2&&gt!==0?gt&-gt:Pg.transition!==null?(Zo===0&&(Zo=ap()),Zo):(e=Ae,e!==0||(e=window.event,e=e===void 0?16:mp(e.type)),e):1}function dn(e,t,n,r){if(50<Cs)throw Cs=0,Ju=null,Error(Z(185));Qs(e,n,r),(!(Ie&2)||e!==ht)&&(e===ht&&(!(Ie&2)&&(Bl|=n),at===4&&nr(e,gt)),At(e,r),n===1&&Ie===0&&!(t.mode&1)&&(Ai=rt()+500,Al&&wr()))}function At(e,t){var n=e.callbackNode;Pv(e,t);var r=ll(e,e===ht?gt:0);if(r===0)n!==null&&Jd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Jd(n),t===1)e.tag===0?_g(Hf.bind(null,e)):Ip(Hf.bind(null,e)),jg(function(){!(Ie&6)&&wr()}),n=null;else{switch(up(r)){case 1:n=Nc;break;case 4:n=op;break;case 16:n=ol;break;case 536870912:n=lp;break;default:n=ol}n=Rm(n,Nm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Nm(e,t){if(Jo=-1,Zo=0,Ie&6)throw Error(Z(327));var n=e.callbackNode;if(Oi()&&e.callbackNode!==n)return null;var r=ll(e,e===ht?gt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Nl(e,r);else{t=r;var i=Ie;Ie|=2;var o=Em();(ht!==e||gt!==t)&&(Ln=null,Ai=rt()+500,Hr(e,t));do try{Yg();break}catch(h){Cm(e,h)}while(!0);Ac(),Sl.current=o,Ie=i,ot!==null?t=0:(ht=null,gt=0,t=at)}if(t!==0){if(t===2&&(i=Nu(e),i!==0&&(r=i,t=Zu(e,i))),t===1)throw n=Ks,Hr(e,0),nr(e,r),At(e,rt()),n;if(t===6)nr(e,r);else{if(i=e.current.alternate,!(r&30)&&!qg(i)&&(t=Nl(e,r),t===2&&(o=Nu(e),o!==0&&(r=o,t=Zu(e,o))),t===1))throw n=Ks,Hr(e,0),nr(e,r),At(e,rt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Z(345));case 2:Dr(e,It,Ln);break;case 3:if(nr(e,r),(r&130023424)===r&&(t=Zc+500-rt(),10<t)){if(ll(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Tt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Lu(Dr.bind(null,e,It,Ln),t);break}Dr(e,It,Ln);break;case 4:if(nr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var c=31-cn(r);o=1<<c,c=t[c],c>i&&(i=c),r&=~o}if(r=i,r=rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Vg(r/1960))-r,10<r){e.timeoutHandle=Lu(Dr.bind(null,e,It,Ln),r);break}Dr(e,It,Ln);break;case 5:Dr(e,It,Ln);break;default:throw Error(Z(329))}}}return At(e,rt()),e.callbackNode===n?Nm.bind(null,e):null}function Zu(e,t){var n=Ns;return e.current.memoizedState.isDehydrated&&(Hr(e,t).flags|=256),e=Nl(e,t),e!==2&&(t=It,It=n,t!==null&&ec(t)),e}function ec(e){It===null?It=e:It.push.apply(It,e)}function qg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!fn(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function nr(e,t){for(t&=~Jc,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-cn(t),r=1<<n;e[n]=-1,t&=~r}}function Hf(e){if(Ie&6)throw Error(Z(327));Oi();var t=ll(e,0);if(!(t&1))return At(e,rt()),null;var n=Nl(e,t);if(e.tag!==0&&n===2){var r=Nu(e);r!==0&&(t=r,n=Zu(e,r))}if(n===1)throw n=Ks,Hr(e,0),nr(e,t),At(e,rt()),n;if(n===6)throw Error(Z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dr(e,It,Ln),At(e,rt()),null}function ed(e,t){var n=Ie;Ie|=1;try{return e(t)}finally{Ie=n,Ie===0&&(Ai=rt()+500,Al&&wr())}}function Xr(e){ir!==null&&ir.tag===0&&!(Ie&6)&&Oi();var t=Ie;Ie|=1;var n=nn.transition,r=Ae;try{if(nn.transition=null,Ae=1,e)return e()}finally{Ae=r,nn.transition=n,Ie=t,!(Ie&6)&&wr()}}function td(){Kt=Ni.current,qe(Ni)}function Hr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,kg(n)),ot!==null)for(n=ot.return;n!==null;){var r=n;switch(Fc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fl();break;case 3:Mi(),qe(Mt),qe(Ct),Wc();break;case 5:Kc(r);break;case 4:Mi();break;case 13:qe(Ye);break;case 19:qe(Ye);break;case 10:Dc(r.type._context);break;case 22:case 23:td()}n=n.return}if(ht=e,ot=e=pr(e.current,null),gt=Kt=t,at=0,Ks=null,Jc=Bl=Gr=0,It=Ns=null,Br!==null){for(t=0;t<Br.length;t++)if(n=Br[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var c=o.next;o.next=i,r.next=c}n.pending=r}Br=null}return e}function Cm(e,t){do{var n=ot;try{if(Ac(),Yo.current=bl,wl){for(var r=Ge.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}wl=!1}if(Yr=0,ft=lt=Ge=null,ks=!1,$s=0,Xc.current=null,n===null||n.return===null){at=1,Ks=t,ot=null;break}e:{var o=e,c=n.return,h=n,p=t;if(t=gt,h.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var v=p,S=h,b=S.tag;if(!(S.mode&1)&&(b===0||b===11||b===15)){var _=S.alternate;_?(S.updateQueue=_.updateQueue,S.memoizedState=_.memoizedState,S.lanes=_.lanes):(S.updateQueue=null,S.memoizedState=null)}var U=Rf(c);if(U!==null){U.flags&=-257,Lf(U,c,h,o,t),U.mode&1&&Of(o,v,t),t=U,p=v;var A=t.updateQueue;if(A===null){var B=new Set;B.add(p),t.updateQueue=B}else A.add(p);break e}else{if(!(t&1)){Of(o,v,t),nd();break e}p=Error(Z(426))}}else if(Qe&&h.mode&1){var q=Rf(c);if(q!==null){!(q.flags&65536)&&(q.flags|=256),Lf(q,c,h,o,t),Mc(zi(p,h));break e}}o=p=zi(p,h),at!==4&&(at=2),Ns===null?Ns=[o]:Ns.push(o),o=c;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var N=um(o,p,t);Nf(o,N);break e;case 1:h=p;var g=o.type,k=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(fr===null||!fr.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t;var $=cm(o,h,t);Nf(o,$);break e}}o=o.return}while(o!==null)}Pm(n)}catch(J){t=J,ot===n&&n!==null&&(ot=n=n.return);continue}break}while(!0)}function Em(){var e=Sl.current;return Sl.current=bl,e===null?bl:e}function nd(){(at===0||at===3||at===2)&&(at=4),ht===null||!(Gr&268435455)&&!(Bl&268435455)||nr(ht,gt)}function Nl(e,t){var n=Ie;Ie|=2;var r=Em();(ht!==e||gt!==t)&&(Ln=null,Hr(e,t));do try{Qg();break}catch(i){Cm(e,i)}while(!0);if(Ac(),Ie=n,Sl.current=r,ot!==null)throw Error(Z(261));return ht=null,gt=0,at}function Qg(){for(;ot!==null;)_m(ot)}function Yg(){for(;ot!==null&&!wv();)_m(ot)}function _m(e){var t=Om(e.alternate,e,Kt);e.memoizedProps=e.pendingProps,t===null?Pm(e):ot=t,Xc.current=null}function Pm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Bg(n,t),n!==null){n.flags&=32767,ot=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{at=6,ot=null;return}}else if(n=Ug(n,t,Kt),n!==null){ot=n;return}if(t=t.sibling,t!==null){ot=t;return}ot=t=e}while(t!==null);at===0&&(at=5)}function Dr(e,t,n){var r=Ae,i=nn.transition;try{nn.transition=null,Ae=1,Gg(e,t,n,r)}finally{nn.transition=i,Ae=r}return null}function Gg(e,t,n,r){do Oi();while(ir!==null);if(Ie&6)throw Error(Z(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Z(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Tv(e,o),e===ht&&(ot=ht=null,gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Mo||(Mo=!0,Rm(ol,function(){return Oi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=nn.transition,nn.transition=null;var c=Ae;Ae=1;var h=Ie;Ie|=4,Xc.current=null,Wg(e,n),km(n,e),yg(Ou),al=!!Tu,Ou=Tu=null,e.current=n,Hg(n),bv(),Ie=h,Ae=c,nn.transition=o}else e.current=n;if(Mo&&(Mo=!1,ir=e,jl=i),o=e.pendingLanes,o===0&&(fr=null),jv(n.stateNode),At(e,rt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(kl)throw kl=!1,e=Xu,Xu=null,e;return jl&1&&e.tag!==0&&Oi(),o=e.pendingLanes,o&1?e===Ju?Cs++:(Cs=0,Ju=e):Cs=0,wr(),null}function Oi(){if(ir!==null){var e=up(jl),t=nn.transition,n=Ae;try{if(nn.transition=null,Ae=16>e?16:e,ir===null)var r=!1;else{if(e=ir,ir=null,jl=0,Ie&6)throw Error(Z(331));var i=Ie;for(Ie|=4,pe=e.current;pe!==null;){var o=pe,c=o.child;if(pe.flags&16){var h=o.deletions;if(h!==null){for(var p=0;p<h.length;p++){var v=h[p];for(pe=v;pe!==null;){var S=pe;switch(S.tag){case 0:case 11:case 15:js(8,S,o)}var b=S.child;if(b!==null)b.return=S,pe=b;else for(;pe!==null;){S=pe;var _=S.sibling,U=S.return;if(wm(S),S===v){pe=null;break}if(_!==null){_.return=U,pe=_;break}pe=U}}}var A=o.alternate;if(A!==null){var B=A.child;if(B!==null){A.child=null;do{var q=B.sibling;B.sibling=null,B=q}while(B!==null)}}pe=o}}if(o.subtreeFlags&2064&&c!==null)c.return=o,pe=c;else e:for(;pe!==null;){if(o=pe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:js(9,o,o.return)}var N=o.sibling;if(N!==null){N.return=o.return,pe=N;break e}pe=o.return}}var g=e.current;for(pe=g;pe!==null;){c=pe;var k=c.child;if(c.subtreeFlags&2064&&k!==null)k.return=c,pe=k;else e:for(c=g;pe!==null;){if(h=pe,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:Ul(9,h)}}catch(J){Ze(h,h.return,J)}if(h===c){pe=null;break e}var $=h.sibling;if($!==null){$.return=h.return,pe=$;break e}pe=h.return}}if(Ie=i,wr(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Ll,e)}catch{}r=!0}return r}finally{Ae=n,nn.transition=t}}return!1}function Vf(e,t,n){t=zi(n,t),t=um(e,t,1),e=dr(e,t,1),t=Tt(),e!==null&&(Qs(e,1,t),At(e,t))}function Ze(e,t,n){if(e.tag===3)Vf(e,e,n);else for(;t!==null;){if(t.tag===3){Vf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fr===null||!fr.has(r))){e=zi(n,e),e=cm(t,e,1),t=dr(t,e,1),e=Tt(),t!==null&&(Qs(t,1,e),At(t,e));break}}t=t.return}}function Xg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Tt(),e.pingedLanes|=e.suspendedLanes&n,ht===e&&(gt&n)===n&&(at===4||at===3&&(gt&130023424)===gt&&500>rt()-Zc?Hr(e,0):Jc|=n),At(e,t)}function Tm(e,t){t===0&&(e.mode&1?(t=Co,Co<<=1,!(Co&130023424)&&(Co=4194304)):t=1);var n=Tt();e=Un(e,t),e!==null&&(Qs(e,t,n),At(e,n))}function Jg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Tm(e,n)}function Zg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(t),Tm(e,n)}var Om;Om=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Mt.current)Ft=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ft=!1,$g(e,t,n);Ft=!!(e.flags&131072)}else Ft=!1,Qe&&t.flags&1048576&&Fp(t,ml,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xo(e,t),e=t.pendingProps;var i=Li(t,Ct.current);Ti(t,n),i=Vc(null,t,r,e,i,n);var o=qc();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,zt(r)?(o=!0,hl(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Uc(t),i.updater=$l,t.stateNode=i,i._reactInternals=t,$u(t,r,e,n),t=Ku(null,t,r,!0,o,n)):(t.tag=0,Qe&&o&&Ic(t),Pt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xo(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=tx(r),e=ln(r,e),i){case 0:t=Bu(null,t,r,e,n);break e;case 1:t=Mf(null,t,r,e,n);break e;case 11:t=If(null,t,r,e,n);break e;case 14:t=Ff(null,t,r,ln(r.type,e),n);break e}throw Error(Z(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ln(r,i),Bu(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ln(r,i),Mf(e,t,r,i,n);case 3:e:{if(pm(t),e===null)throw Error(Z(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Up(e,t),gl(t,r,null,n);var c=t.memoizedState;if(r=c.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=zi(Error(Z(423)),t),t=zf(e,t,r,n,i);break e}else if(r!==i){i=zi(Error(Z(424)),t),t=zf(e,t,r,n,i);break e}else for(Wt=cr(t.stateNode.containerInfo.firstChild),Ht=t,Qe=!0,un=null,n=Dp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ii(),r===i){t=Bn(e,t,n);break e}Pt(e,t,r,n)}t=t.child}return t;case 5:return Bp(t),e===null&&zu(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,c=i.children,Ru(r,i)?c=null:o!==null&&Ru(r,o)&&(t.flags|=32),hm(e,t),Pt(e,t,c,n),t.child;case 6:return e===null&&zu(t),null;case 13:return mm(e,t,n);case 4:return Bc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Fi(t,null,r,n):Pt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ln(r,i),If(e,t,r,i,n);case 7:return Pt(e,t,t.pendingProps,n),t.child;case 8:return Pt(e,t,t.pendingProps.children,n),t.child;case 12:return Pt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,c=i.value,We(yl,r._currentValue),r._currentValue=c,o!==null)if(fn(o.value,c)){if(o.children===i.children&&!Mt.current){t=Bn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var h=o.dependencies;if(h!==null){c=o.child;for(var p=h.firstContext;p!==null;){if(p.context===r){if(o.tag===1){p=An(-1,n&-n),p.tag=2;var v=o.updateQueue;if(v!==null){v=v.shared;var S=v.pending;S===null?p.next=p:(p.next=S.next,S.next=p),v.pending=p}}o.lanes|=n,p=o.alternate,p!==null&&(p.lanes|=n),Au(o.return,n,t),h.lanes|=n;break}p=p.next}}else if(o.tag===10)c=o.type===t.type?null:o.child;else if(o.tag===18){if(c=o.return,c===null)throw Error(Z(341));c.lanes|=n,h=c.alternate,h!==null&&(h.lanes|=n),Au(c,n,t),c=o.sibling}else c=o.child;if(c!==null)c.return=o;else for(c=o;c!==null;){if(c===t){c=null;break}if(o=c.sibling,o!==null){o.return=c.return,c=o;break}c=c.return}o=c}Pt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ti(t,n),i=rn(i),r=r(i),t.flags|=1,Pt(e,t,r,n),t.child;case 14:return r=t.type,i=ln(r,t.pendingProps),i=ln(r.type,i),Ff(e,t,r,i,n);case 15:return dm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ln(r,i),Xo(e,t),t.tag=1,zt(r)?(e=!0,hl(t)):e=!1,Ti(t,n),am(t,r,i),$u(t,r,i,n),Ku(null,t,r,!0,e,n);case 19:return ym(e,t,n);case 22:return fm(e,t,n)}throw Error(Z(156,t.tag))};function Rm(e,t){return sp(e,t)}function ex(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(e,t,n,r){return new ex(e,t,n,r)}function rd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tx(e){if(typeof e=="function")return rd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Sc)return 11;if(e===kc)return 14}return 2}function pr(e,t){var n=e.alternate;return n===null?(n=tn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function el(e,t,n,r,i,o){var c=2;if(r=e,typeof e=="function")rd(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case mi:return Vr(n.children,i,o,t);case bc:c=8,i|=8;break;case cu:return e=tn(12,n,t,i|2),e.elementType=cu,e.lanes=o,e;case du:return e=tn(13,n,t,i),e.elementType=du,e.lanes=o,e;case fu:return e=tn(19,n,t,i),e.elementType=fu,e.lanes=o,e;case Bh:return Kl(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $h:c=10;break e;case Uh:c=9;break e;case Sc:c=11;break e;case kc:c=14;break e;case Zn:c=16,r=null;break e}throw Error(Z(130,e==null?e:typeof e,""))}return t=tn(c,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Vr(e,t,n,r){return e=tn(7,e,r,t),e.lanes=n,e}function Kl(e,t,n,r){return e=tn(22,e,r,t),e.elementType=Bh,e.lanes=n,e.stateNode={isHidden:!1},e}function Xa(e,t,n){return e=tn(6,e,null,t),e.lanes=n,e}function Ja(e,t,n){return t=tn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nx(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ra(0),this.expirationTimes=Ra(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ra(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function id(e,t,n,r,i,o,c,h,p){return e=new nx(e,t,n,h,p),t===1?(t=1,o===!0&&(t|=8)):t=0,o=tn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uc(o),e}function rx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Lm(e){if(!e)return vr;e=e._reactInternals;e:{if(Zr(e)!==e||e.tag!==1)throw Error(Z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(zt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Z(171))}if(e.tag===1){var n=e.type;if(zt(n))return Lp(e,n,t)}return t}function Im(e,t,n,r,i,o,c,h,p){return e=id(n,r,!0,e,i,o,c,h,p),e.context=Lm(null),n=e.current,r=Tt(),i=hr(n),o=An(r,i),o.callback=t??null,dr(n,o,i),e.current.lanes=i,Qs(e,i,r),At(e,r),e}function Wl(e,t,n,r){var i=t.current,o=Tt(),c=hr(i);return n=Lm(n),t.context===null?t.context=n:t.pendingContext=n,t=An(o,c),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=dr(i,t,c),e!==null&&(dn(e,i,c,o),Qo(e,i,c)),c}function Cl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function sd(e,t){qf(e,t),(e=e.alternate)&&qf(e,t)}function ix(){return null}var Fm=typeof reportError=="function"?reportError:function(e){console.error(e)};function od(e){this._internalRoot=e}Hl.prototype.render=od.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Z(409));Wl(e,t,null,null)};Hl.prototype.unmount=od.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xr(function(){Wl(null,e,null,null)}),t[$n]=null}};function Hl(e){this._internalRoot=e}Hl.prototype.unstable_scheduleHydration=function(e){if(e){var t=fp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<tr.length&&t!==0&&t<tr[n].priority;n++);tr.splice(n,0,e),n===0&&pp(e)}};function ld(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Qf(){}function sx(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var v=Cl(c);o.call(v)}}var c=Im(t,r,e,0,null,!1,!1,"",Qf);return e._reactRootContainer=c,e[$n]=c.current,Fs(e.nodeType===8?e.parentNode:e),Xr(),c}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var h=r;r=function(){var v=Cl(p);h.call(v)}}var p=id(e,0,!1,null,null,!1,!1,"",Qf);return e._reactRootContainer=p,e[$n]=p.current,Fs(e.nodeType===8?e.parentNode:e),Xr(function(){Wl(t,p,n,r)}),p}function ql(e,t,n,r,i){var o=n._reactRootContainer;if(o){var c=o;if(typeof i=="function"){var h=i;i=function(){var p=Cl(c);h.call(p)}}Wl(t,c,e,i)}else c=sx(n,t,e,i,r);return Cl(c)}cp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ms(t.pendingLanes);n!==0&&(Cc(t,n|1),At(t,rt()),!(Ie&6)&&(Ai=rt()+500,wr()))}break;case 13:Xr(function(){var r=Un(e,1);if(r!==null){var i=Tt();dn(r,e,1,i)}}),sd(e,1)}};Ec=function(e){if(e.tag===13){var t=Un(e,134217728);if(t!==null){var n=Tt();dn(t,e,134217728,n)}sd(e,134217728)}};dp=function(e){if(e.tag===13){var t=hr(e),n=Un(e,t);if(n!==null){var r=Tt();dn(n,e,t,r)}sd(e,t)}};fp=function(){return Ae};hp=function(e,t){var n=Ae;try{return Ae=e,t()}finally{Ae=n}};Su=function(e,t,n){switch(t){case"input":if(mu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=zl(r);if(!i)throw Error(Z(90));Wh(r),mu(r,i)}}}break;case"textarea":Vh(e,n);break;case"select":t=n.value,t!=null&&Ci(e,!!n.multiple,t,!1)}};Zh=ed;ep=Xr;var ox={usingClientEntryPoint:!1,Events:[Gs,xi,zl,Xh,Jh,ed]},fs={findFiberByHostInstance:Ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lx={bundleType:fs.bundleType,version:fs.version,rendererPackageName:fs.rendererPackageName,rendererConfig:fs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rp(e),e===null?null:e.stateNode},findFiberByHostInstance:fs.findFiberByHostInstance||ix,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zo.isDisabled&&zo.supportsFiber)try{Ll=zo.inject(lx),bn=zo}catch{}}qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ox;qt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ld(t))throw Error(Z(200));return rx(e,t,null,n)};qt.createRoot=function(e,t){if(!ld(e))throw Error(Z(299));var n=!1,r="",i=Fm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=id(e,1,!1,null,null,n,!1,r,i),e[$n]=t.current,Fs(e.nodeType===8?e.parentNode:e),new od(t)};qt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=rp(t),e=e===null?null:e.stateNode,e};qt.flushSync=function(e){return Xr(e)};qt.hydrate=function(e,t,n){if(!Vl(t))throw Error(Z(200));return ql(null,e,t,!0,n)};qt.hydrateRoot=function(e,t,n){if(!ld(e))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",c=Fm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),t=Im(t,null,e,1,n??null,i,!1,o,c),e[$n]=t.current,Fs(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Hl(t)};qt.render=function(e,t,n){if(!Vl(t))throw Error(Z(200));return ql(null,e,t,!1,n)};qt.unmountComponentAtNode=function(e){if(!Vl(e))throw Error(Z(40));return e._reactRootContainer?(Xr(function(){ql(null,null,e,!1,function(){e._reactRootContainer=null,e[$n]=null})}),!0):!1};qt.unstable_batchedUpdates=ed;qt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Vl(n))throw Error(Z(200));if(e==null||e._reactInternals===void 0)throw Error(Z(38));return ql(e,t,n,!1,r)};qt.version="18.3.1-next-f1338f8080-20240426";function Mm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mm)}catch(e){console.error(e)}}Mm(),Mh.exports=qt;var ax=Mh.exports,Yf=ax;au.createRoot=Yf.createRoot,au.hydrateRoot=Yf.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ws(){return Ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ws.apply(this,arguments)}var sr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(sr||(sr={}));const Gf="popstate";function ux(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:c,hash:h}=r.location;return tc("",{pathname:o,search:c,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:El(i)}return dx(t,n,null,e)}function et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function cx(){return Math.random().toString(36).substr(2,8)}function Xf(e,t){return{usr:e.state,key:e.key,idx:t}}function tc(e,t,n,r){return n===void 0&&(n=null),Ws({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Wi(t):t,{state:n,key:t&&t.key||r||cx()})}function El(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Wi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function dx(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,c=i.history,h=sr.Pop,p=null,v=S();v==null&&(v=0,c.replaceState(Ws({},c.state,{idx:v}),""));function S(){return(c.state||{idx:null}).idx}function b(){h=sr.Pop;let q=S(),N=q==null?null:q-v;v=q,p&&p({action:h,location:B.location,delta:N})}function _(q,N){h=sr.Push;let g=tc(B.location,q,N);v=S()+1;let k=Xf(g,v),$=B.createHref(g);try{c.pushState(k,"",$)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;i.location.assign($)}o&&p&&p({action:h,location:B.location,delta:1})}function U(q,N){h=sr.Replace;let g=tc(B.location,q,N);v=S();let k=Xf(g,v),$=B.createHref(g);c.replaceState(k,"",$),o&&p&&p({action:h,location:B.location,delta:0})}function A(q){let N=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof q=="string"?q:El(q);return g=g.replace(/ $/,"%20"),et(N,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,N)}let B={get action(){return h},get location(){return e(i,c)},listen(q){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(Gf,b),p=q,()=>{i.removeEventListener(Gf,b),p=null}},createHref(q){return t(i,q)},createURL:A,encodeLocation(q){let N=A(q);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:_,replace:U,go(q){return c.go(q)}};return B}var Jf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Jf||(Jf={}));function fx(e,t,n){return n===void 0&&(n="/"),hx(e,t,n)}function hx(e,t,n,r){let i=typeof t=="string"?Wi(t):t,o=Di(i.pathname||"/",n);if(o==null)return null;let c=Am(e);px(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let v=Nx(o);h=kx(c[p],v)}return h}function Am(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,c,h)=>{let p={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};p.relativePath.startsWith("/")&&(et(p.relativePath.startsWith(r),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(r.length));let v=mr([r,p.relativePath]),S=n.concat(p);o.children&&o.children.length>0&&(et(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),Am(o.children,t,S,v)),!(o.path==null&&!o.index)&&t.push({path:v,score:bx(v,o.index),routesMeta:S})};return e.forEach((o,c)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))i(o,c);else for(let p of Dm(o.path))i(o,c,p)}),t}function Dm(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let c=Dm(r.join("/")),h=[];return h.push(...c.map(p=>p===""?o:[o,p].join("/"))),i&&h.push(...c),h.map(p=>e.startsWith("/")&&p===""?"/":p)}function px(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Sx(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const mx=/^:[\w-]+$/,yx=3,vx=2,gx=1,xx=10,wx=-2,Zf=e=>e==="*";function bx(e,t){let n=e.split("/"),r=n.length;return n.some(Zf)&&(r+=wx),t&&(r+=vx),n.filter(i=>!Zf(i)).reduce((i,o)=>i+(mx.test(o)?yx:o===""?gx:xx),r)}function Sx(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function kx(e,t,n){let{routesMeta:r}=e,i={},o="/",c=[];for(let h=0;h<r.length;++h){let p=r[h],v=h===r.length-1,S=o==="/"?t:t.slice(o.length)||"/",b=nc({path:p.relativePath,caseSensitive:p.caseSensitive,end:v},S),_=p.route;if(!b)return null;Object.assign(i,b.params),c.push({params:i,pathname:mr([o,b.pathname]),pathnameBase:Px(mr([o,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(o=mr([o,b.pathnameBase]))}return c}function nc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=jx(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((v,S,b)=>{let{paramName:_,isOptional:U}=S;if(_==="*"){let B=h[b]||"";c=o.slice(0,o.length-B.length).replace(/(.)\/+$/,"$1")}const A=h[b];return U&&!A?v[_]=void 0:v[_]=(A||"").replace(/%2F/g,"/"),v},{}),pathname:o,pathnameBase:c,pattern:e}}function jx(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),zm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(r.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Nx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return zm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Di(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Cx(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Wi(e):e;return{pathname:n?n.startsWith("/")?n:Ex(n,t):t,search:Tx(r),hash:Ox(i)}}function Ex(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Za(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _x(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function $m(e,t){let n=_x(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Um(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Wi(e):(i=Ws({},e),et(!i.pathname||!i.pathname.includes("?"),Za("?","pathname","search",i)),et(!i.pathname||!i.pathname.includes("#"),Za("#","pathname","hash",i)),et(!i.search||!i.search.includes("#"),Za("#","search","hash",i)));let o=e===""||i.pathname==="",c=o?"/":i.pathname,h;if(c==null)h=n;else{let b=t.length-1;if(!r&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),b-=1;i.pathname=_.join("/")}h=b>=0?t[b]:"/"}let p=Cx(i,h),v=c&&c!=="/"&&c.endsWith("/"),S=(o||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(v||S)&&(p.pathname+="/"),p}const mr=e=>e.join("/").replace(/\/\/+/g,"/"),Px=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Tx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ox=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Rx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Bm=["post","put","patch","delete"];new Set(Bm);const Lx=["get",...Bm];new Set(Lx);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hs(){return Hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hs.apply(this,arguments)}const Ql=x.createContext(null),Km=x.createContext(null),br=x.createContext(null),Yl=x.createContext(null),ei=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Wm=x.createContext(null);function Ix(e,t){let{relative:n}=t===void 0?{}:t;Js()||et(!1);let{basename:r,navigator:i}=x.useContext(br),{hash:o,pathname:c,search:h}=Gl(e,{relative:n}),p=c;return r!=="/"&&(p=c==="/"?r:mr([r,c])),i.createHref({pathname:p,search:h,hash:o})}function Js(){return x.useContext(Yl)!=null}function Zs(){return Js()||et(!1),x.useContext(Yl).location}function Hm(e){x.useContext(br).static||x.useLayoutEffect(e)}function Fx(){let{isDataRoute:e}=x.useContext(ei);return e?Qx():Mx()}function Mx(){Js()||et(!1);let e=x.useContext(Ql),{basename:t,future:n,navigator:r}=x.useContext(br),{matches:i}=x.useContext(ei),{pathname:o}=Zs(),c=JSON.stringify($m(i,n.v7_relativeSplatPath)),h=x.useRef(!1);return Hm(()=>{h.current=!0}),x.useCallback(function(v,S){if(S===void 0&&(S={}),!h.current)return;if(typeof v=="number"){r.go(v);return}let b=Um(v,JSON.parse(c),o,S.relative==="path");e==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:mr([t,b.pathname])),(S.replace?r.replace:r.push)(b,S.state,S)},[t,r,c,o,e])}function Gl(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=x.useContext(br),{matches:i}=x.useContext(ei),{pathname:o}=Zs(),c=JSON.stringify($m(i,r.v7_relativeSplatPath));return x.useMemo(()=>Um(e,JSON.parse(c),o,n==="path"),[e,c,o,n])}function zx(e,t){return Ax(e,t)}function Ax(e,t,n,r){Js()||et(!1);let{navigator:i}=x.useContext(br),{matches:o}=x.useContext(ei),c=o[o.length-1],h=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let v=Zs(),S;if(t){var b;let q=typeof t=="string"?Wi(t):t;p==="/"||(b=q.pathname)!=null&&b.startsWith(p)||et(!1),S=q}else S=v;let _=S.pathname||"/",U=_;if(p!=="/"){let q=p.replace(/^\//,"").split("/");U="/"+_.replace(/^\//,"").split("/").slice(q.length).join("/")}let A=fx(e,{pathname:U}),B=Kx(A&&A.map(q=>Object.assign({},q,{params:Object.assign({},h,q.params),pathname:mr([p,i.encodeLocation?i.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?p:mr([p,i.encodeLocation?i.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),o,n,r);return t&&B?x.createElement(Yl.Provider,{value:{location:Hs({pathname:"/",search:"",hash:"",state:null,key:"default"},S),navigationType:sr.Pop}},B):B}function Dx(){let e=qx(),t=Rx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:i},n):null,null)}const $x=x.createElement(Dx,null);class Ux extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(ei.Provider,{value:this.props.routeContext},x.createElement(Wm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Bx(e){let{routeContext:t,match:n,children:r}=e,i=x.useContext(Ql);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(ei.Provider,{value:t},r)}function Kx(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let c=e,h=(i=n)==null?void 0:i.errors;if(h!=null){let S=c.findIndex(b=>b.route.id&&(h==null?void 0:h[b.route.id])!==void 0);S>=0||et(!1),c=c.slice(0,Math.min(c.length,S+1))}let p=!1,v=-1;if(n&&r&&r.v7_partialHydration)for(let S=0;S<c.length;S++){let b=c[S];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(v=S),b.route.id){let{loaderData:_,errors:U}=n,A=b.route.loader&&_[b.route.id]===void 0&&(!U||U[b.route.id]===void 0);if(b.route.lazy||A){p=!0,v>=0?c=c.slice(0,v+1):c=[c[0]];break}}}return c.reduceRight((S,b,_)=>{let U,A=!1,B=null,q=null;n&&(U=h&&b.route.id?h[b.route.id]:void 0,B=b.route.errorElement||$x,p&&(v<0&&_===0?(Yx("route-fallback"),A=!0,q=null):v===_&&(A=!0,q=b.route.hydrateFallbackElement||null)));let N=t.concat(c.slice(0,_+1)),g=()=>{let k;return U?k=B:A?k=q:b.route.Component?k=x.createElement(b.route.Component,null):b.route.element?k=b.route.element:k=S,x.createElement(Bx,{match:b,routeContext:{outlet:S,matches:N,isDataRoute:n!=null},children:k})};return n&&(b.route.ErrorBoundary||b.route.errorElement||_===0)?x.createElement(Ux,{location:n.location,revalidation:n.revalidation,component:B,error:U,children:g(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):g()},null)}var Vm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Vm||{}),qm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(qm||{});function Wx(e){let t=x.useContext(Ql);return t||et(!1),t}function Hx(e){let t=x.useContext(Km);return t||et(!1),t}function Vx(e){let t=x.useContext(ei);return t||et(!1),t}function Qm(e){let t=Vx(),n=t.matches[t.matches.length-1];return n.route.id||et(!1),n.route.id}function qx(){var e;let t=x.useContext(Wm),n=Hx(),r=Qm();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Qx(){let{router:e}=Wx(Vm.UseNavigateStable),t=Qm(qm.UseNavigateStable),n=x.useRef(!1);return Hm(()=>{n.current=!0}),x.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Hs({fromRouteId:t},o)))},[e,t])}const eh={};function Yx(e,t,n){eh[e]||(eh[e]=!0)}function Gx(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Rn(e){et(!1)}function Xx(e){let{basename:t="/",children:n=null,location:r,navigationType:i=sr.Pop,navigator:o,static:c=!1,future:h}=e;Js()&&et(!1);let p=t.replace(/^\/*/,"/"),v=x.useMemo(()=>({basename:p,navigator:o,static:c,future:Hs({v7_relativeSplatPath:!1},h)}),[p,h,o,c]);typeof r=="string"&&(r=Wi(r));let{pathname:S="/",search:b="",hash:_="",state:U=null,key:A="default"}=r,B=x.useMemo(()=>{let q=Di(S,p);return q==null?null:{location:{pathname:q,search:b,hash:_,state:U,key:A},navigationType:i}},[p,S,b,_,U,A,i]);return B==null?null:x.createElement(br.Provider,{value:v},x.createElement(Yl.Provider,{children:n,value:B}))}function Jx(e){let{children:t,location:n}=e;return zx(rc(t),n)}new Promise(()=>{});function rc(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(r,i)=>{if(!x.isValidElement(r))return;let o=[...t,i];if(r.type===x.Fragment){n.push.apply(n,rc(r.props.children,o));return}r.type!==Rn&&et(!1),!r.props.index||!r.props.children||et(!1);let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=rc(r.props.children,o)),n.push(c)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _l(){return _l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_l.apply(this,arguments)}function Ym(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Zx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function e0(e,t){return e.button===0&&(!t||t==="_self")&&!Zx(e)}const t0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],n0=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],r0="6";try{window.__reactRouterVersion=r0}catch{}const i0=x.createContext({isTransitioning:!1}),s0="startTransition",th=Xy[s0];function o0(e){let{basename:t,children:n,future:r,window:i}=e,o=x.useRef();o.current==null&&(o.current=ux({window:i,v5Compat:!0}));let c=o.current,[h,p]=x.useState({action:c.action,location:c.location}),{v7_startTransition:v}=r||{},S=x.useCallback(b=>{v&&th?th(()=>p(b)):p(b)},[p,v]);return x.useLayoutEffect(()=>c.listen(S),[c,S]),x.useEffect(()=>Gx(r),[r]),x.createElement(Xx,{basename:t,children:n,location:h.location,navigationType:h.action,navigator:c,future:r})}const l0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",a0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,u0=x.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:c,state:h,target:p,to:v,preventScrollReset:S,viewTransition:b}=t,_=Ym(t,t0),{basename:U}=x.useContext(br),A,B=!1;if(typeof v=="string"&&a0.test(v)&&(A=v,l0))try{let k=new URL(window.location.href),$=v.startsWith("//")?new URL(k.protocol+v):new URL(v),J=Di($.pathname,U);$.origin===k.origin&&J!=null?v=J+$.search+$.hash:B=!0}catch{}let q=Ix(v,{relative:i}),N=d0(v,{replace:c,state:h,target:p,preventScrollReset:S,relative:i,viewTransition:b});function g(k){r&&r(k),k.defaultPrevented||N(k)}return x.createElement("a",_l({},_,{href:A||q,onClick:B||o?r:g,ref:n,target:p}))}),Ir=x.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:c=!1,style:h,to:p,viewTransition:v,children:S}=t,b=Ym(t,n0),_=Gl(p,{relative:b.relative}),U=Zs(),A=x.useContext(Km),{navigator:B,basename:q}=x.useContext(br),N=A!=null&&f0(_)&&v===!0,g=B.encodeLocation?B.encodeLocation(_).pathname:_.pathname,k=U.pathname,$=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;i||(k=k.toLowerCase(),$=$?$.toLowerCase():null,g=g.toLowerCase()),$&&q&&($=Di($,q)||$);const J=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let Q=k===g||!c&&k.startsWith(g)&&k.charAt(J)==="/",X=$!=null&&($===g||!c&&$.startsWith(g)&&$.charAt(g.length)==="/"),ne={isActive:Q,isPending:X,isTransitioning:N},be=Q?r:void 0,ye;typeof o=="function"?ye=o(ne):ye=[o,Q?"active":null,X?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let Re=typeof h=="function"?h(ne):h;return x.createElement(u0,_l({},b,{"aria-current":be,className:ye,ref:n,style:Re,to:p,viewTransition:v}),typeof S=="function"?S(ne):S)});var ic;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ic||(ic={}));var nh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(nh||(nh={}));function c0(e){let t=x.useContext(Ql);return t||et(!1),t}function d0(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:c,viewTransition:h}=t===void 0?{}:t,p=Fx(),v=Zs(),S=Gl(e,{relative:c});return x.useCallback(b=>{if(e0(b,n)){b.preventDefault();let _=r!==void 0?r:El(v)===El(S);p(e,{replace:_,state:i,preventScrollReset:o,relative:c,viewTransition:h})}},[v,p,S,r,i,n,e,o,c,h])}function f0(e,t){t===void 0&&(t={});let n=x.useContext(i0);n==null&&et(!1);let{basename:r}=c0(ic.useViewTransitionState),i=Gl(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=Di(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Di(n.nextLocation.pathname,r)||n.nextLocation.pathname;return nc(i.pathname,c)!=null||nc(i.pathname,o)!=null}let sc=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");const h0={},rh=e=>{let t;const n=new Set,r=(S,b)=>{const _=typeof S=="function"?S(t):S;if(!Object.is(_,t)){const U=t;t=b??(typeof _!="object"||_===null)?_:Object.assign({},t,_),n.forEach(A=>A(t,U))}},i=()=>t,p={setState:r,getState:i,getInitialState:()=>v,subscribe:S=>(n.add(S),()=>n.delete(S)),destroy:()=>{(h0?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},v=t=e(r,i,p);return p},p0=e=>e?rh(e):rh;var Gm={exports:{}},Xm={},Jm={exports:{}},Zm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $i=x;function m0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var y0=typeof Object.is=="function"?Object.is:m0,v0=$i.useState,g0=$i.useEffect,x0=$i.useLayoutEffect,w0=$i.useDebugValue;function b0(e,t){var n=t(),r=v0({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return x0(function(){i.value=n,i.getSnapshot=t,eu(i)&&o({inst:i})},[e,n,t]),g0(function(){return eu(i)&&o({inst:i}),e(function(){eu(i)&&o({inst:i})})},[e]),w0(n),n}function eu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!y0(e,n)}catch{return!0}}function S0(e,t){return t()}var k0=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?S0:b0;Zm.useSyncExternalStore=$i.useSyncExternalStore!==void 0?$i.useSyncExternalStore:k0;Jm.exports=Zm;var j0=Jm.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xl=x,N0=j0;function C0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var E0=typeof Object.is=="function"?Object.is:C0,_0=N0.useSyncExternalStore,P0=Xl.useRef,T0=Xl.useEffect,O0=Xl.useMemo,R0=Xl.useDebugValue;Xm.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=P0(null);if(o.current===null){var c={hasValue:!1,value:null};o.current=c}else c=o.current;o=O0(function(){function p(U){if(!v){if(v=!0,S=U,U=r(U),i!==void 0&&c.hasValue){var A=c.value;if(i(A,U))return b=A}return b=U}if(A=b,E0(S,U))return A;var B=r(U);return i!==void 0&&i(A,B)?(S=U,A):(S=U,b=B)}var v=!1,S,b,_=n===void 0?null:n;return[function(){return p(t())},_===null?void 0:function(){return p(_())}]},[t,n,r,i]);var h=_0(e,o[0],o[1]);return T0(function(){c.hasValue=!0,c.value=h},[h]),R0(h),h};Gm.exports=Xm;var L0=Gm.exports;const I0=fc(L0),ey={},{useDebugValue:F0}=vc,{useSyncExternalStoreWithSelector:M0}=I0;let ih=!1;const z0=e=>e;function A0(e,t=z0,n){(ey?"production":void 0)!=="production"&&n&&!ih&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),ih=!0);const r=M0(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return F0(r),r}const sh=e=>{(ey?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?p0(e):e,n=(r,i)=>A0(t,r,i);return Object.assign(n,t),n},ty=e=>e?sh(e):sh,D0=/['\u2019\u02BC](s|d)$/u,$0=/['\u2019\u02BC]$/u,U0=new Set(["a","e","i","o","u"]),B0=["ness","ss","ous","us","is"],K0=new Map([["boonies","boonie"]]);function oh(e){return/[aeiouy]/u.test(e)}function Vs(e){return U0.has(e)}function W0(e){if(e.length<2)return!1;const t=e[e.length-1],n=e[e.length-2];return t===n&&!Vs(t)}function H0(e){if(e.length<3||!e.endsWith("l"))return!1;const t=e[e.length-2],n=e[e.length-3];return t===n&&!Vs(t)}function V0(e,t){return t||!e.endsWith("g")?!1:!e.endsWith("ng")}function q0(e){if(e.length<2||!e.endsWith("k"))return!1;const t=e[e.length-2];return Vs(t)}function lh(e){if(e.endsWith("at")||e.endsWith("bl")||e.endsWith("iz"))return`${e}e`;let t=e,n=!1;return W0(t)&&!["l","s","z"].includes(t[t.length-1])&&(t=t.slice(0,-1),n=!0),H0(t)?`${t}e`:V0(t,n)?`${t}e`:q0(t)?`${t}e`:t.endsWith("is")&&t.length>3?`${t}e`:t}function ad(e){let t=e.toLowerCase().normalize("NFC");if(t=t.replace(D0,""),t=t.replace($0,""),t.length<=3)return t;if(t.endsWith("ier")&&t.length>5){const n=t.slice(0,-3),r=n[n.length-1],i=n[n.length-2];if(r&&i&&r===i&&!Vs(r))return`${n}y`}if(t.endsWith("ied")&&t.length>3){const n=t.slice(0,-3);return t.length<=4?`${n}ie`:`${n}y`}if(t.endsWith("ies")&&t.length>3){const n=K0.get(t);if(n)return n;const r=t.slice(0,-3);return t.length<=4?`${r}ie`:`${r}y`}if(t.endsWith("ing")){const n=t.slice(0,-3);if(n.length>=3&&oh(n))return lh(n)}if(t.endsWith("ed")){const n=t.slice(0,-2);if(n.length>=2&&oh(n))return lh(n)}if(t.endsWith("ly")&&t.length>4){const n=t[t.length-3];if(n&&!Vs(n))return t.slice(0,-2)}return t.endsWith("es")&&t.length>4?t.endsWith("ches")||t.endsWith("shes")||t.endsWith("xes")||t.endsWith("zes")?t.slice(0,-2):t.slice(0,-1):t.endsWith("s")&&t.length>4&&!B0.some(n=>t.endsWith(n))?t.slice(0,-1):t}const Q0=new RegExp("(\\p{L}+(?:['\\u2019\\u02BC-]\\p{L}+)*)|(\\d+)|([^\\s\\p{L}\\d]+)","gu");function zn(e){const t=e.replace(/[\u0001\u0002]/g,""),n=[];let r;for(;r=Q0.exec(t);){const[i,o,c,h]=r;if(o){const p=o.toLowerCase().normalize("NFC");n.push({text:i,normalized:p,stem:ad(p),isWord:!0})}else c?n.push({text:i,normalized:c,stem:c,isWord:!1}):h&&n.push({text:i,normalized:h,stem:h,isWord:!1})}return n.length>0?n:[{text:e,normalized:e,stem:e,isWord:new RegExp("\\p{L}","u").test(e)}]}var ny={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Dd,function(){var n=function(s,l){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(a[f]=d[f])})(s,l)},r=function(){return(r=Object.assign||function(s){for(var l,a=1,d=arguments.length;a<d;a++)for(var f in l=arguments[a])Object.prototype.hasOwnProperty.call(l,f)&&(s[f]=l[f]);return s}).apply(this,arguments)};function i(s,l,a){for(var d,f=0,m=l.length;f<m;f++)!d&&f in l||((d=d||Array.prototype.slice.call(l,0,f))[f]=l[f]);return s.concat(d||Array.prototype.slice.call(l))}var o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Dd,c=Object.keys,h=Array.isArray;function p(s,l){return typeof l!="object"||c(l).forEach(function(a){s[a]=l[a]}),s}typeof Promise>"u"||o.Promise||(o.Promise=Promise);var v=Object.getPrototypeOf,S={}.hasOwnProperty;function b(s,l){return S.call(s,l)}function _(s,l){typeof l=="function"&&(l=l(v(s))),(typeof Reflect>"u"?c:Reflect.ownKeys)(l).forEach(function(a){A(s,a,l[a])})}var U=Object.defineProperty;function A(s,l,a,d){U(s,l,p(a&&b(a,"get")&&typeof a.get=="function"?{get:a.get,set:a.set,configurable:!0}:{value:a,configurable:!0,writable:!0},d))}function B(s){return{from:function(l){return s.prototype=Object.create(l.prototype),A(s.prototype,"constructor",s),{extend:_.bind(null,s.prototype)}}}}var q=Object.getOwnPropertyDescriptor,N=[].slice;function g(s,l,a){return N.call(s,l,a)}function k(s,l){return l(s)}function $(s){if(!s)throw new Error("Assertion Failed")}function J(s){o.setImmediate?setImmediate(s):setTimeout(s,0)}function Q(s,l){if(typeof l=="string"&&b(s,l))return s[l];if(!l)return s;if(typeof l!="string"){for(var a=[],d=0,f=l.length;d<f;++d){var m=Q(s,l[d]);a.push(m)}return a}var y=l.indexOf(".");if(y!==-1){var w=s[l.substr(0,y)];return w==null?void 0:Q(w,l.substr(y+1))}}function X(s,l,a){if(s&&l!==void 0&&!("isFrozen"in Object&&Object.isFrozen(s)))if(typeof l!="string"&&"length"in l){$(typeof a!="string"&&"length"in a);for(var d=0,f=l.length;d<f;++d)X(s,l[d],a[d])}else{var m,y,w=l.indexOf(".");w!==-1?(m=l.substr(0,w),(y=l.substr(w+1))===""?a===void 0?h(s)&&!isNaN(parseInt(m))?s.splice(m,1):delete s[m]:s[m]=a:X(w=!(w=s[m])||!b(s,m)?s[m]={}:w,y,a)):a===void 0?h(s)&&!isNaN(parseInt(l))?s.splice(l,1):delete s[l]:s[l]=a}}function ne(s){var l,a={};for(l in s)b(s,l)&&(a[l]=s[l]);return a}var be=[].concat;function ye(s){return be.apply([],s)}var pt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ye([8,16,32,64].map(function(s){return["Int","Uint","Float"].map(function(l){return l+s+"Array"})}))).filter(function(s){return o[s]}),Re=new Set(pt.map(function(s){return o[s]})),$e=null;function se(s){return $e=new WeakMap,s=function l(a){if(!a||typeof a!="object")return a;var d=$e.get(a);if(d)return d;if(h(a)){d=[],$e.set(a,d);for(var f=0,m=a.length;f<m;++f)d.push(l(a[f]))}else if(Re.has(a.constructor))d=a;else{var y,w=v(a);for(y in d=w===Object.prototype?{}:Object.create(w),$e.set(a,d),a)b(a,y)&&(d[y]=l(a[y]))}return d}(s),$e=null,s}var G={}.toString;function te(s){return G.call(s).slice(8,-1)}var Y=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ve=typeof Y=="symbol"?function(s){var l;return s!=null&&(l=s[Y])&&l.apply(s)}:function(){return null};function H(s,l){return l=s.indexOf(l),0<=l&&s.splice(l,1),0<=l}var re={};function oe(s){var l,a,d,f;if(arguments.length===1){if(h(s))return s.slice();if(this===re&&typeof s=="string")return[s];if(f=ve(s)){for(a=[];!(d=f.next()).done;)a.push(d.value);return a}if(s==null)return[s];if(typeof(l=s.length)!="number")return[s];for(a=new Array(l);l--;)a[l]=s[l];return a}for(l=arguments.length,a=new Array(l);l--;)a[l]=arguments[l];return a}var we=typeof Symbol<"u"?function(s){return s[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},kn=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Jt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(kn),Ne={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function He(s,l){this.name=s,this.message=l}function Et(s,l){return s+". Errors: "+Object.keys(l).map(function(a){return l[a].toString()}).filter(function(a,d,f){return f.indexOf(a)===d}).join(`
`)}function ut(s,l,a,d){this.failures=l,this.failedKeys=d,this.successCount=a,this.message=Et(s,l)}function ct(s,l){this.name="BulkError",this.failures=Object.keys(l).map(function(a){return l[a]}),this.failuresByPos=l,this.message=Et(s,this.failures)}B(He).from(Error).extend({toString:function(){return this.name+": "+this.message}}),B(ut).from(He),B(ct).from(He);var Lt=Jt.reduce(function(s,l){return s[l]=l+"Error",s},{}),Hi=He,D=Jt.reduce(function(s,l){var a=l+"Error";function d(f,m){this.name=a,f?typeof f=="string"?(this.message="".concat(f).concat(m?`
 `+m:""),this.inner=m||null):typeof f=="object"&&(this.message="".concat(f.name," ").concat(f.message),this.inner=f):(this.message=Ne[l]||a,this.inner=null)}return B(d).from(Hi),s[l]=d,s},{});D.Syntax=SyntaxError,D.Type=TypeError,D.Range=RangeError;var _e=kn.reduce(function(s,l){return s[l+"Error"]=D[l],s},{}),ge=Jt.reduce(function(s,l){return["Syntax","Type","Range"].indexOf(l)===-1&&(s[l+"Error"]=D[l]),s},{});function xe(){}function ze(s){return s}function it(s,l){return s==null||s===ze?l:function(a){return l(s(a))}}function Je(s,l){return function(){s.apply(this,arguments),l.apply(this,arguments)}}function hn(s,l){return s===xe?l:function(){var a=s.apply(this,arguments);a!==void 0&&(arguments[0]=a);var d=this.onsuccess,f=this.onerror;this.onsuccess=null,this.onerror=null;var m=l.apply(this,arguments);return d&&(this.onsuccess=this.onsuccess?Je(d,this.onsuccess):d),f&&(this.onerror=this.onerror?Je(f,this.onerror):f),m!==void 0?m:a}}function Dt(s,l){return s===xe?l:function(){s.apply(this,arguments);var a=this.onsuccess,d=this.onerror;this.onsuccess=this.onerror=null,l.apply(this,arguments),a&&(this.onsuccess=this.onsuccess?Je(a,this.onsuccess):a),d&&(this.onerror=this.onerror?Je(d,this.onerror):d)}}function Wn(s,l){return s===xe?l:function(a){var d=s.apply(this,arguments);p(a,d);var f=this.onsuccess,m=this.onerror;return this.onsuccess=null,this.onerror=null,a=l.apply(this,arguments),f&&(this.onsuccess=this.onsuccess?Je(f,this.onsuccess):f),m&&(this.onerror=this.onerror?Je(m,this.onerror):m),d===void 0?a===void 0?void 0:a:p(d,a)}}function Sr(s,l){return s===xe?l:function(){return l.apply(this,arguments)!==!1&&s.apply(this,arguments)}}function ti(s,l){return s===xe?l:function(){var a=s.apply(this,arguments);if(a&&typeof a.then=="function"){for(var d=this,f=arguments.length,m=new Array(f);f--;)m[f]=arguments[f];return a.then(function(){return l.apply(d,m)})}return l.apply(this,arguments)}}ge.ModifyError=ut,ge.DexieError=He,ge.BulkError=ct;var $t=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function kr(s){$t=s}var Hn={},ni=100,pt=typeof Promise>"u"?[]:function(){var s=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[s,v(s),s];var l=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[l,v(l),s]}(),kn=pt[0],Jt=pt[1],pt=pt[2],Jt=Jt&&Jt.then,mt=kn&&kn.constructor,pn=!!pt,Yt=function(s,l){Nr.push([s,l]),jr&&(queueMicrotask(Zl),jr=!1)},ri=!0,jr=!0,Gt=[],jn=[],Vn=ze,Xt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:xe,pgp:!1,env:{},finalize:xe},me=Xt,Nr=[],Nn=0,Cn=[];function fe(s){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var l=this._PSD=me;if(typeof s!="function"){if(s!==Hn)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&qi(this,this._value))}this._state=null,this._value=null,++l.ref,function a(d,f){try{f(function(m){if(d._state===null){if(m===d)throw new TypeError("A promise cannot be resolved with itself.");var y=d._lib&&qn();m&&typeof m.then=="function"?a(d,function(w,C){m instanceof fe?m._then(w,C):m.then(w,C)}):(d._state=!0,d._value=m,to(d)),y&&_n()}},qi.bind(null,d))}catch(m){qi(d,m)}}(this,s)}var Vi={get:function(){var s=me,l=mn;function a(d,f){var m=this,y=!s.global&&(s!==me||l!==mn),w=y&&!W(),C=new fe(function(E,L){En(m,new eo(ud(d,s,y,w),ud(f,s,y,w),E,L,s))});return this._consoleTask&&(C._consoleTask=this._consoleTask),C}return a.prototype=Hn,a},set:function(s){A(this,"then",s&&s.prototype===Hn?Vi:{get:function(){return s},set:Vi.set})}};function eo(s,l,a,d,f){this.onFulfilled=typeof s=="function"?s:null,this.onRejected=typeof l=="function"?l:null,this.resolve=a,this.reject=d,this.psd=f}function qi(s,l){var a,d;jn.push(l),s._state===null&&(a=s._lib&&qn(),l=Vn(l),s._state=!1,s._value=l,d=s,Gt.some(function(f){return f._value===d._value})||Gt.push(d),to(s),a&&_n())}function to(s){var l=s._listeners;s._listeners=[];for(var a=0,d=l.length;a<d;++a)En(s,l[a]);var f=s._PSD;--f.ref||f.finalize(),Nn===0&&(++Nn,Yt(function(){--Nn==0&&ii()},[]))}function En(s,l){if(s._state!==null){var a=s._state?l.onFulfilled:l.onRejected;if(a===null)return(s._state?l.resolve:l.reject)(s._value);++l.psd.ref,++Nn,Yt(Qi,[a,s,l])}else s._listeners.push(l)}function Qi(s,l,a){try{var d,f=l._value;!l._state&&jn.length&&(jn=[]),d=$t&&l._consoleTask?l._consoleTask.run(function(){return s(f)}):s(f),l._state||jn.indexOf(f)!==-1||function(m){for(var y=Gt.length;y;)if(Gt[--y]._value===m._value)return Gt.splice(y,1)}(l),a.resolve(d)}catch(m){a.reject(m)}finally{--Nn==0&&ii(),--a.psd.ref||a.psd.finalize()}}function Zl(){_r(Xt,function(){qn()&&_n()})}function qn(){var s=ri;return jr=ri=!1,s}function _n(){var s,l,a;do for(;0<Nr.length;)for(s=Nr,Nr=[],a=s.length,l=0;l<a;++l){var d=s[l];d[0].apply(null,d[1])}while(0<Nr.length);jr=ri=!0}function ii(){var s=Gt;Gt=[],s.forEach(function(d){d._PSD.onunhandled.call(null,d._value,d)});for(var l=Cn.slice(0),a=l.length;a;)l[--a]()}function Cr(s){return new fe(Hn,!1,s)}function De(s,l){var a=me;return function(){var d=qn(),f=me;try{return Se(a,!0),s.apply(this,arguments)}catch(m){l&&l(m)}finally{Se(f,!1),d&&_n()}}}_(fe.prototype,{then:Vi,_then:function(s,l){En(this,new eo(null,null,s,l,me))},catch:function(s){if(arguments.length===1)return this.then(null,s);var l=s,a=arguments[1];return typeof l=="function"?this.then(null,function(d){return(d instanceof l?a:Cr)(d)}):this.then(null,function(d){return(d&&d.name===l?a:Cr)(d)})},finally:function(s){return this.then(function(l){return fe.resolve(s()).then(function(){return l})},function(l){return fe.resolve(s()).then(function(){return Cr(l)})})},timeout:function(s,l){var a=this;return s<1/0?new fe(function(d,f){var m=setTimeout(function(){return f(new D.Timeout(l))},s);a.then(d,f).finally(clearTimeout.bind(null,m))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&A(fe.prototype,Symbol.toStringTag,"Dexie.Promise"),Xt.env=Ue(),_(fe,{all:function(){var s=oe.apply(null,arguments).map(je);return new fe(function(l,a){s.length===0&&l([]);var d=s.length;s.forEach(function(f,m){return fe.resolve(f).then(function(y){s[m]=y,--d||l(s)},a)})})},resolve:function(s){return s instanceof fe?s:s&&typeof s.then=="function"?new fe(function(l,a){s.then(l,a)}):new fe(Hn,!0,s)},reject:Cr,race:function(){var s=oe.apply(null,arguments).map(je);return new fe(function(l,a){s.map(function(d){return fe.resolve(d).then(l,a)})})},PSD:{get:function(){return me},set:function(s){return me=s}},totalEchoes:{get:function(){return mn}},newPSD:T,usePSD:_r,scheduler:{get:function(){return Yt},set:function(s){Yt=s}},rejectionMapper:{get:function(){return Vn},set:function(s){Vn=s}},follow:function(s,l){return new fe(function(a,d){return T(function(f,m){var y=me;y.unhandleds=[],y.onunhandled=m,y.finalize=Je(function(){var w,C=this;w=function(){C.unhandleds.length===0?f():m(C.unhandleds[0])},Cn.push(function E(){w(),Cn.splice(Cn.indexOf(E),1)}),++Nn,Yt(function(){--Nn==0&&ii()},[])},y.finalize),s()},l,a,d)})}}),mt&&(mt.allSettled&&A(fe,"allSettled",function(){var s=oe.apply(null,arguments).map(je);return new fe(function(l){s.length===0&&l([]);var a=s.length,d=new Array(a);s.forEach(function(f,m){return fe.resolve(f).then(function(y){return d[m]={status:"fulfilled",value:y}},function(y){return d[m]={status:"rejected",reason:y}}).then(function(){return--a||l(d)})})})}),mt.any&&typeof AggregateError<"u"&&A(fe,"any",function(){var s=oe.apply(null,arguments).map(je);return new fe(function(l,a){s.length===0&&a(new AggregateError([]));var d=s.length,f=new Array(d);s.forEach(function(m,y){return fe.resolve(m).then(function(w){return l(w)},function(w){f[y]=w,--d||a(new AggregateError(f))})})})}),mt.withResolvers&&(fe.withResolvers=mt.withResolvers));var Me={awaits:0,echoes:0,id:0},Qn=0,Pn=[],Er=0,mn=0,Yi=0;function T(s,l,a,d){var f=me,m=Object.create(f);return m.parent=f,m.ref=0,m.global=!1,m.id=++Yi,Xt.env,m.env=pn?{Promise:fe,PromiseProp:{value:fe,configurable:!0,writable:!0},all:fe.all,race:fe.race,allSettled:fe.allSettled,any:fe.any,resolve:fe.resolve,reject:fe.reject}:{},l&&p(m,l),++f.ref,m.finalize=function(){--this.parent.ref||this.parent.finalize()},d=_r(m,s,a,d),m.ref===0&&m.finalize(),d}function ue(){return Me.id||(Me.id=++Qn),++Me.awaits,Me.echoes+=ni,Me.id}function W(){return!!Me.awaits&&(--Me.awaits==0&&(Me.id=0),Me.echoes=Me.awaits*ni,!0)}function je(s){return Me.echoes&&s&&s.constructor===mt?(ue(),s.then(function(l){return W(),l},function(l){return W(),tt(l)})):s}function Be(){var s=Pn[Pn.length-1];Pn.pop(),Se(s,!1)}function Se(s,l){var a,d=me;(l?!Me.echoes||Er++&&s===me:!Er||--Er&&s===me)||queueMicrotask(l?(function(f){++mn,Me.echoes&&--Me.echoes!=0||(Me.echoes=Me.awaits=Me.id=0),Pn.push(me),Se(f,!0)}).bind(null,s):Be),s!==me&&(me=s,d===Xt&&(Xt.env=Ue()),pn&&(a=Xt.env.Promise,l=s.env,(d.global||s.global)&&(Object.defineProperty(o,"Promise",l.PromiseProp),a.all=l.all,a.race=l.race,a.resolve=l.resolve,a.reject=l.reject,l.allSettled&&(a.allSettled=l.allSettled),l.any&&(a.any=l.any))))}function Ue(){var s=o.Promise;return pn?{Promise:s,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:s.all,race:s.race,allSettled:s.allSettled,any:s.any,resolve:s.resolve,reject:s.reject}:{}}function _r(s,l,a,d,f){var m=me;try{return Se(s,!0),l(a,d,f)}finally{Se(m,!1)}}function ud(s,l,a,d){return typeof s!="function"?s:function(){var f=me;a&&ue(),Se(l,!0);try{return s.apply(this,arguments)}finally{Se(f,!1),d&&queueMicrotask(W)}}}function ea(s){Promise===mt&&Me.echoes===0?Er===0?s():enqueueNativeMicroTask(s):setTimeout(s,0)}(""+Jt).indexOf("[native code]")===-1&&(ue=W=xe);var tt=fe.reject,Pr="",Tn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",cd="String expected.",si=[],no="__dbnames",ta="readonly",na="readwrite";function Tr(s,l){return s?l?function(){return s.apply(this,arguments)&&l.apply(this,arguments)}:s:l}var dd={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ro(s){return typeof s!="string"||/\./.test(s)?function(l){return l}:function(l){return l[s]===void 0&&s in l&&delete(l=se(l))[s],l}}function fd(){throw D.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Le(s,l){try{var a=hd(s),d=hd(l);if(a!==d)return a==="Array"?1:d==="Array"?-1:a==="binary"?1:d==="binary"?-1:a==="string"?1:d==="string"?-1:a==="Date"?1:d!=="Date"?NaN:-1;switch(a){case"number":case"Date":case"string":return l<s?1:s<l?-1:0;case"binary":return function(f,m){for(var y=f.length,w=m.length,C=y<w?y:w,E=0;E<C;++E)if(f[E]!==m[E])return f[E]<m[E]?-1:1;return y===w?0:y<w?-1:1}(pd(s),pd(l));case"Array":return function(f,m){for(var y=f.length,w=m.length,C=y<w?y:w,E=0;E<C;++E){var L=Le(f[E],m[E]);if(L!==0)return L}return y===w?0:y<w?-1:1}(s,l)}}catch{}return NaN}function hd(s){var l=typeof s;return l!="object"?l:ArrayBuffer.isView(s)?"binary":(s=te(s),s==="ArrayBuffer"?"binary":s)}function pd(s){return s instanceof Uint8Array?s:ArrayBuffer.isView(s)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s)}function io(s,l,a){var d=s.schema.yProps;return d?(l&&0<a.numFailures&&(l=l.filter(function(f,m){return!a.failures[m]})),Promise.all(d.map(function(f){return f=f.updatesTable,l?s.db.table(f).where("k").anyOf(l).delete():s.db.table(f).clear()})).then(function(){return a})):a}var Gi=(md.prototype.execute=function(s){var l=this["@@propmod"];if(l.add!==void 0){var a=l.add;if(h(a))return i(i([],h(s)?s:[],!0),a).sort();if(typeof a=="number")return(Number(s)||0)+a;if(typeof a=="bigint")try{return BigInt(s)+a}catch{return BigInt(0)+a}throw new TypeError("Invalid term ".concat(a))}if(l.remove!==void 0){var d=l.remove;if(h(d))return h(s)?s.filter(function(f){return!d.includes(f)}).sort():[];if(typeof d=="number")return Number(s)-d;if(typeof d=="bigint")try{return BigInt(s)-d}catch{return BigInt(0)-d}throw new TypeError("Invalid subtrahend ".concat(d))}return a=(a=l.replacePrefix)===null||a===void 0?void 0:a[0],a&&typeof s=="string"&&s.startsWith(a)?l.replacePrefix[1]+s.substring(a.length):s},md);function md(s){this["@@propmod"]=s}function yd(s,l){for(var a=c(l),d=a.length,f=!1,m=0;m<d;++m){var y=a[m],w=l[y],C=Q(s,y);w instanceof Gi?(X(s,y,w.execute(C)),f=!0):C!==w&&(X(s,y,w),f=!0)}return f}var vd=(Ke.prototype._trans=function(s,l,a){var d=this._tx||me.trans,f=this.name,m=$t&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(s==="readonly"?"read":"write"," ").concat(this.name));function y(E,L,j){if(!j.schema[f])throw new D.NotFound("Table "+f+" not part of transaction");return l(j.idbtrans,j)}var w=qn();try{var C=d&&d.db._novip===this.db._novip?d===me.trans?d._promise(s,y,a):T(function(){return d._promise(s,y,a)},{trans:d,transless:me.transless||me}):function E(L,j,F,P){if(L.idbdb&&(L._state.openComplete||me.letThrough||L._vip)){var O=L._createTransaction(j,F,L._dbSchema);try{O.create(),L._state.PR1398_maxLoop=3}catch(R){return R.name===Lt.InvalidState&&L.isOpen()&&0<--L._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),L.close({disableAutoOpen:!1}),L.open().then(function(){return E(L,j,F,P)})):tt(R)}return O._promise(j,function(R,I){return T(function(){return me.trans=O,P(R,I,O)})}).then(function(R){if(j==="readwrite")try{O.idbtrans.commit()}catch{}return j==="readonly"?R:O._completion.then(function(){return R})})}if(L._state.openComplete)return tt(new D.DatabaseClosed(L._state.dbOpenError));if(!L._state.isBeingOpened){if(!L._state.autoOpen)return tt(new D.DatabaseClosed);L.open().catch(xe)}return L._state.dbReadyPromise.then(function(){return E(L,j,F,P)})}(this.db,s,[this.name],y);return m&&(C._consoleTask=m,C=C.catch(function(E){return console.trace(E),tt(E)})),C}finally{w&&_n()}},Ke.prototype.get=function(s,l){var a=this;return s&&s.constructor===Object?this.where(s).first(l):s==null?tt(new D.Type("Invalid argument to Table.get()")):this._trans("readonly",function(d){return a.core.get({trans:d,key:s}).then(function(f){return a.hook.reading.fire(f)})}).then(l)},Ke.prototype.where=function(s){if(typeof s=="string")return new this.db.WhereClause(this,s);if(h(s))return new this.db.WhereClause(this,"[".concat(s.join("+"),"]"));var l=c(s);if(l.length===1)return this.where(l[0]).equals(s[l[0]]);var a=this.schema.indexes.concat(this.schema.primKey).filter(function(w){if(w.compound&&l.every(function(E){return 0<=w.keyPath.indexOf(E)})){for(var C=0;C<l.length;++C)if(l.indexOf(w.keyPath[C])===-1)return!1;return!0}return!1}).sort(function(w,C){return w.keyPath.length-C.keyPath.length})[0];if(a&&this.db._maxKey!==Pr){var m=a.keyPath.slice(0,l.length);return this.where(m).equals(m.map(function(C){return s[C]}))}!a&&$t&&console.warn("The query ".concat(JSON.stringify(s)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(l.join("+"),"]"));var d=this.schema.idxByName;function f(w,C){return Le(w,C)===0}var y=l.reduce(function(j,C){var E=j[0],L=j[1],j=d[C],F=s[C];return[E||j,E||!j?Tr(L,j&&j.multi?function(P){return P=Q(P,C),h(P)&&P.some(function(O){return f(F,O)})}:function(P){return f(F,Q(P,C))}):L]},[null,null]),m=y[0],y=y[1];return m?this.where(m.name).equals(s[m.keyPath]).filter(y):a?this.filter(y):this.where(l).equals("")},Ke.prototype.filter=function(s){return this.toCollection().and(s)},Ke.prototype.count=function(s){return this.toCollection().count(s)},Ke.prototype.offset=function(s){return this.toCollection().offset(s)},Ke.prototype.limit=function(s){return this.toCollection().limit(s)},Ke.prototype.each=function(s){return this.toCollection().each(s)},Ke.prototype.toArray=function(s){return this.toCollection().toArray(s)},Ke.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Ke.prototype.orderBy=function(s){return new this.db.Collection(new this.db.WhereClause(this,h(s)?"[".concat(s.join("+"),"]"):s))},Ke.prototype.reverse=function(){return this.toCollection().reverse()},Ke.prototype.mapToClass=function(s){var l,a=this.db,d=this.name;function f(){return l!==null&&l.apply(this,arguments)||this}(this.schema.mappedClass=s).prototype instanceof fd&&(function(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function L(){this.constructor=C}n(C,E),C.prototype=E===null?Object.create(E):(L.prototype=E.prototype,new L)}(f,l=s),Object.defineProperty(f.prototype,"db",{get:function(){return a},enumerable:!1,configurable:!0}),f.prototype.table=function(){return d},s=f);for(var m=new Set,y=s.prototype;y;y=v(y))Object.getOwnPropertyNames(y).forEach(function(C){return m.add(C)});function w(C){if(!C)return C;var E,L=Object.create(s.prototype);for(E in C)if(!m.has(E))try{L[E]=C[E]}catch{}return L}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=w,this.hook("reading",w),s},Ke.prototype.defineClass=function(){return this.mapToClass(function(s){p(this,s)})},Ke.prototype.add=function(s,l){var a=this,d=this.schema.primKey,f=d.auto,m=d.keyPath,y=s;return m&&f&&(y=ro(m)(s)),this._trans("readwrite",function(w){return a.core.mutate({trans:w,type:"add",keys:l!=null?[l]:null,values:[y]})}).then(function(w){return w.numFailures?fe.reject(w.failures[0]):w.lastResult}).then(function(w){if(m)try{X(s,m,w)}catch{}return w})},Ke.prototype.upsert=function(s,l){var a=this,d=this.schema.primKey.keyPath;return this._trans("readwrite",function(f){return a.core.get({trans:f,key:s}).then(function(m){var y=m??{};return yd(y,l),d&&X(y,d,s),a.core.mutate({trans:f,type:"put",values:[y],keys:[s],upsert:!0,updates:{keys:[s],changeSpecs:[l]}}).then(function(w){return w.numFailures?fe.reject(w.failures[0]):!!m})})})},Ke.prototype.update=function(s,l){return typeof s!="object"||h(s)?this.where(":id").equals(s).modify(l):(s=Q(s,this.schema.primKey.keyPath),s===void 0?tt(new D.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(s).modify(l))},Ke.prototype.put=function(s,l){var a=this,d=this.schema.primKey,f=d.auto,m=d.keyPath,y=s;return m&&f&&(y=ro(m)(s)),this._trans("readwrite",function(w){return a.core.mutate({trans:w,type:"put",values:[y],keys:l!=null?[l]:null})}).then(function(w){return w.numFailures?fe.reject(w.failures[0]):w.lastResult}).then(function(w){if(m)try{X(s,m,w)}catch{}return w})},Ke.prototype.delete=function(s){var l=this;return this._trans("readwrite",function(a){return l.core.mutate({trans:a,type:"delete",keys:[s]}).then(function(d){return io(l,[s],d)}).then(function(d){return d.numFailures?fe.reject(d.failures[0]):void 0})})},Ke.prototype.clear=function(){var s=this;return this._trans("readwrite",function(l){return s.core.mutate({trans:l,type:"deleteRange",range:dd}).then(function(a){return io(s,null,a)})}).then(function(l){return l.numFailures?fe.reject(l.failures[0]):void 0})},Ke.prototype.bulkGet=function(s){var l=this;return this._trans("readonly",function(a){return l.core.getMany({keys:s,trans:a}).then(function(d){return d.map(function(f){return l.hook.reading.fire(f)})})})},Ke.prototype.bulkAdd=function(s,l,a){var d=this,f=Array.isArray(l)?l:void 0,m=(a=a||(f?void 0:l))?a.allKeys:void 0;return this._trans("readwrite",function(y){var E=d.schema.primKey,w=E.auto,E=E.keyPath;if(E&&f)throw new D.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(f&&f.length!==s.length)throw new D.InvalidArgument("Arguments objects and keys must have the same length");var C=s.length,E=E&&w?s.map(ro(E)):s;return d.core.mutate({trans:y,type:"add",keys:f,values:E,wantResults:m}).then(function(O){var j=O.numFailures,F=O.results,P=O.lastResult,O=O.failures;if(j===0)return m?F:P;throw new ct("".concat(d.name,".bulkAdd(): ").concat(j," of ").concat(C," operations failed"),O)})})},Ke.prototype.bulkPut=function(s,l,a){var d=this,f=Array.isArray(l)?l:void 0,m=(a=a||(f?void 0:l))?a.allKeys:void 0;return this._trans("readwrite",function(y){var E=d.schema.primKey,w=E.auto,E=E.keyPath;if(E&&f)throw new D.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(f&&f.length!==s.length)throw new D.InvalidArgument("Arguments objects and keys must have the same length");var C=s.length,E=E&&w?s.map(ro(E)):s;return d.core.mutate({trans:y,type:"put",keys:f,values:E,wantResults:m}).then(function(O){var j=O.numFailures,F=O.results,P=O.lastResult,O=O.failures;if(j===0)return m?F:P;throw new ct("".concat(d.name,".bulkPut(): ").concat(j," of ").concat(C," operations failed"),O)})})},Ke.prototype.bulkUpdate=function(s){var l=this,a=this.core,d=s.map(function(y){return y.key}),f=s.map(function(y){return y.changes}),m=[];return this._trans("readwrite",function(y){return a.getMany({trans:y,keys:d,cache:"clone"}).then(function(w){var C=[],E=[];s.forEach(function(j,F){var P=j.key,O=j.changes,R=w[F];if(R){for(var I=0,M=Object.keys(O);I<M.length;I++){var z=M[I],K=O[z];if(z===l.schema.primKey.keyPath){if(Le(K,P)!==0)throw new D.Constraint("Cannot update primary key in bulkUpdate()")}else X(R,z,K)}m.push(F),C.push(P),E.push(R)}});var L=C.length;return a.mutate({trans:y,type:"put",keys:C,values:E,updates:{keys:d,changeSpecs:f}}).then(function(j){var F=j.numFailures,P=j.failures;if(F===0)return L;for(var O=0,R=Object.keys(P);O<R.length;O++){var I,M=R[O],z=m[Number(M)];z!=null&&(I=P[M],delete P[M],P[z]=I)}throw new ct("".concat(l.name,".bulkUpdate(): ").concat(F," of ").concat(L," operations failed"),P)})})})},Ke.prototype.bulkDelete=function(s){var l=this,a=s.length;return this._trans("readwrite",function(d){return l.core.mutate({trans:d,type:"delete",keys:s}).then(function(f){return io(l,s,f)})}).then(function(y){var f=y.numFailures,m=y.lastResult,y=y.failures;if(f===0)return m;throw new ct("".concat(l.name,".bulkDelete(): ").concat(f," of ").concat(a," operations failed"),y)})},Ke);function Ke(){}function Xi(s){function l(y,w){if(w){for(var C=arguments.length,E=new Array(C-1);--C;)E[C-1]=arguments[C];return a[y].subscribe.apply(null,E),s}if(typeof y=="string")return a[y]}var a={};l.addEventType=m;for(var d=1,f=arguments.length;d<f;++d)m(arguments[d]);return l;function m(y,w,C){if(typeof y!="object"){var E;w=w||Sr;var L={subscribers:[],fire:C=C||xe,subscribe:function(j){L.subscribers.indexOf(j)===-1&&(L.subscribers.push(j),L.fire=w(L.fire,j))},unsubscribe:function(j){L.subscribers=L.subscribers.filter(function(F){return F!==j}),L.fire=L.subscribers.reduce(w,C)}};return a[y]=l[y]=L}c(E=y).forEach(function(j){var F=E[j];if(h(F))m(j,E[j][0],E[j][1]);else{if(F!=="asap")throw new D.InvalidArgument("Invalid event config");var P=m(j,ze,function(){for(var O=arguments.length,R=new Array(O);O--;)R[O]=arguments[O];P.subscribers.forEach(function(I){J(function(){I.apply(null,R)})})})}})}}function Ji(s,l){return B(l).from({prototype:s}),l}function oi(s,l){return!(s.filter||s.algorithm||s.or)&&(l?s.justLimit:!s.replayFilter)}function ra(s,l){s.filter=Tr(s.filter,l)}function ia(s,l,a){var d=s.replayFilter;s.replayFilter=d?function(){return Tr(d(),l())}:l,s.justLimit=a&&!d}function so(s,l){if(s.isPrimKey)return l.primaryKey;var a=l.getIndexByKeyPath(s.index);if(!a)throw new D.Schema("KeyPath "+s.index+" on object store "+l.name+" is not indexed");return a}function gd(s,l,a){var d=so(s,l.schema);return l.openCursor({trans:a,values:!s.keysOnly,reverse:s.dir==="prev",unique:!!s.unique,query:{index:d,range:s.range}})}function oo(s,l,a,d){var f=s.replayFilter?Tr(s.filter,s.replayFilter()):s.filter;if(s.or){var m={},y=function(w,C,E){var L,j;f&&!f(C,E,function(F){return C.stop(F)},function(F){return C.fail(F)})||((j=""+(L=C.primaryKey))=="[object ArrayBuffer]"&&(j=""+new Uint8Array(L)),b(m,j)||(m[j]=!0,l(w,C,E)))};return Promise.all([s.or._iterate(y,a),xd(gd(s,d,a),s.algorithm,y,!s.keysOnly&&s.valueMapper)])}return xd(gd(s,d,a),Tr(s.algorithm,f),l,!s.keysOnly&&s.valueMapper)}function xd(s,l,a,d){var f=De(d?function(m,y,w){return a(d(m),y,w)}:a);return s.then(function(m){if(m)return m.start(function(){var y=function(){return m.continue()};l&&!l(m,function(w){return y=w},function(w){m.stop(w),y=xe},function(w){m.fail(w),y=xe})||f(m.value,m,function(w){return y=w}),y()})})}var hy=(Fe.prototype._read=function(s,l){var a=this._ctx;return a.error?a.table._trans(null,tt.bind(null,a.error)):a.table._trans("readonly",s).then(l)},Fe.prototype._write=function(s){var l=this._ctx;return l.error?l.table._trans(null,tt.bind(null,l.error)):l.table._trans("readwrite",s,"locked")},Fe.prototype._addAlgorithm=function(s){var l=this._ctx;l.algorithm=Tr(l.algorithm,s)},Fe.prototype._iterate=function(s,l){return oo(this._ctx,s,l,this._ctx.table.core)},Fe.prototype.clone=function(s){var l=Object.create(this.constructor.prototype),a=Object.create(this._ctx);return s&&p(a,s),l._ctx=a,l},Fe.prototype.raw=function(){return this._ctx.valueMapper=null,this},Fe.prototype.each=function(s){var l=this._ctx;return this._read(function(a){return oo(l,s,a,l.table.core)})},Fe.prototype.count=function(s){var l=this;return this._read(function(a){var d=l._ctx,f=d.table.core;if(oi(d,!0))return f.count({trans:a,query:{index:so(d,f.schema),range:d.range}}).then(function(y){return Math.min(y,d.limit)});var m=0;return oo(d,function(){return++m,!1},a,f).then(function(){return m})}).then(s)},Fe.prototype.sortBy=function(s,l){var a=s.split(".").reverse(),d=a[0],f=a.length-1;function m(C,E){return E?m(C[a[E]],E-1):C[d]}var y=this._ctx.dir==="next"?1:-1;function w(C,E){return Le(m(C,f),m(E,f))*y}return this.toArray(function(C){return C.sort(w)}).then(l)},Fe.prototype.toArray=function(s){var l=this;return this._read(function(a){var d=l._ctx;if(d.dir==="next"&&oi(d,!0)&&0<d.limit){var f=d.valueMapper,m=so(d,d.table.core.schema);return d.table.core.query({trans:a,limit:d.limit,values:!0,query:{index:m,range:d.range}}).then(function(w){return w=w.result,f?w.map(f):w})}var y=[];return oo(d,function(w){return y.push(w)},a,d.table.core).then(function(){return y})},s)},Fe.prototype.offset=function(s){var l=this._ctx;return s<=0||(l.offset+=s,oi(l)?ia(l,function(){var a=s;return function(d,f){return a===0||(a===1?--a:f(function(){d.advance(a),a=0}),!1)}}):ia(l,function(){var a=s;return function(){return--a<0}})),this},Fe.prototype.limit=function(s){return this._ctx.limit=Math.min(this._ctx.limit,s),ia(this._ctx,function(){var l=s;return function(a,d,f){return--l<=0&&d(f),0<=l}},!0),this},Fe.prototype.until=function(s,l){return ra(this._ctx,function(a,d,f){return!s(a.value)||(d(f),l)}),this},Fe.prototype.first=function(s){return this.limit(1).toArray(function(l){return l[0]}).then(s)},Fe.prototype.last=function(s){return this.reverse().first(s)},Fe.prototype.filter=function(s){var l;return ra(this._ctx,function(a){return s(a.value)}),(l=this._ctx).isMatch=Tr(l.isMatch,s),this},Fe.prototype.and=function(s){return this.filter(s)},Fe.prototype.or=function(s){return new this.db.WhereClause(this._ctx.table,s,this)},Fe.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Fe.prototype.desc=function(){return this.reverse()},Fe.prototype.eachKey=function(s){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(a,d){s(d.key,d)})},Fe.prototype.eachUniqueKey=function(s){return this._ctx.unique="unique",this.eachKey(s)},Fe.prototype.eachPrimaryKey=function(s){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(a,d){s(d.primaryKey,d)})},Fe.prototype.keys=function(s){var l=this._ctx;l.keysOnly=!l.isMatch;var a=[];return this.each(function(d,f){a.push(f.key)}).then(function(){return a}).then(s)},Fe.prototype.primaryKeys=function(s){var l=this._ctx;if(l.dir==="next"&&oi(l,!0)&&0<l.limit)return this._read(function(d){var f=so(l,l.table.core.schema);return l.table.core.query({trans:d,values:!1,limit:l.limit,query:{index:f,range:l.range}})}).then(function(d){return d.result}).then(s);l.keysOnly=!l.isMatch;var a=[];return this.each(function(d,f){a.push(f.primaryKey)}).then(function(){return a}).then(s)},Fe.prototype.uniqueKeys=function(s){return this._ctx.unique="unique",this.keys(s)},Fe.prototype.firstKey=function(s){return this.limit(1).keys(function(l){return l[0]}).then(s)},Fe.prototype.lastKey=function(s){return this.reverse().firstKey(s)},Fe.prototype.distinct=function(){var s=this._ctx,s=s.index&&s.table.schema.idxByName[s.index];if(!s||!s.multi)return this;var l={};return ra(this._ctx,function(f){var d=f.primaryKey.toString(),f=b(l,d);return l[d]=!0,!f}),this},Fe.prototype.modify=function(s){var l=this,a=this._ctx;return this._write(function(d){var f=typeof s=="function"?s:function(R){return yd(R,s)},m=a.table.core,E=m.schema.primaryKey,y=E.outbound,w=E.extractKey,C=200,E=l.db._options.modifyChunkSize;E&&(C=typeof E=="object"?E[m.name]||E["*"]||200:E);function L(R,z){var M=z.failures,z=z.numFailures;F+=R-z;for(var K=0,V=c(M);K<V.length;K++){var ie=V[K];j.push(M[ie])}}var j=[],F=0,P=[],O=s===wd;return l.clone().primaryKeys().then(function(R){function I(z){var K=Math.min(C,R.length-z),V=R.slice(z,z+K);return(O?Promise.resolve([]):m.getMany({trans:d,keys:V,cache:"immutable"})).then(function(ie){var ce=[],ee=[],le=y?[]:null,de=O?V:[];if(!O)for(var ae=0;ae<K;++ae){var he=ie[ae],Ee={value:se(he),primKey:R[z+ae]};f.call(Ee,Ee.value,Ee)!==!1&&(Ee.value==null?de.push(R[z+ae]):y||Le(w(he),w(Ee.value))===0?(ee.push(Ee.value),y&&le.push(R[z+ae])):(de.push(R[z+ae]),ce.push(Ee.value)))}return Promise.resolve(0<ce.length&&m.mutate({trans:d,type:"add",values:ce}).then(function(Pe){for(var Te in Pe.failures)de.splice(parseInt(Te),1);L(ce.length,Pe)})).then(function(){return(0<ee.length||M&&typeof s=="object")&&m.mutate({trans:d,type:"put",keys:le,values:ee,criteria:M,changeSpec:typeof s!="function"&&s,isAdditionalChunk:0<z}).then(function(Pe){return L(ee.length,Pe)})}).then(function(){return(0<de.length||M&&O)&&m.mutate({trans:d,type:"delete",keys:de,criteria:M,isAdditionalChunk:0<z}).then(function(Pe){return io(a.table,de,Pe)}).then(function(Pe){return L(de.length,Pe)})}).then(function(){return R.length>z+K&&I(z+C)})})}var M=oi(a)&&a.limit===1/0&&(typeof s!="function"||O)&&{index:a.index,range:a.range};return I(0).then(function(){if(0<j.length)throw new ut("Error modifying one or more objects",j,F,P);return R.length})})})},Fe.prototype.delete=function(){var s=this._ctx,l=s.range;return!oi(s)||s.table.schema.yProps||!s.isPrimKey&&l.type!==3?this.modify(wd):this._write(function(a){var d=s.table.core.schema.primaryKey,f=l;return s.table.core.count({trans:a,query:{index:d,range:f}}).then(function(m){return s.table.core.mutate({trans:a,type:"deleteRange",range:f}).then(function(C){var w=C.failures,C=C.numFailures;if(C)throw new ut("Could not delete some values",Object.keys(w).map(function(E){return w[E]}),m-C);return m-C})})})},Fe);function Fe(){}var wd=function(s,l){return l.value=null};function py(s,l){return s<l?-1:s===l?0:1}function my(s,l){return l<s?-1:s===l?0:1}function Ut(s,l,a){return s=s instanceof Sd?new s.Collection(s):s,s._ctx.error=new(a||TypeError)(l),s}function li(s){return new s.Collection(s,function(){return bd("")}).limit(0)}function lo(s,l,a,d){var f,m,y,w,C,E,L,j=a.length;if(!a.every(function(O){return typeof O=="string"}))return Ut(s,cd);function F(O){f=O==="next"?function(I){return I.toUpperCase()}:function(I){return I.toLowerCase()},m=O==="next"?function(I){return I.toLowerCase()}:function(I){return I.toUpperCase()},y=O==="next"?py:my;var R=a.map(function(I){return{lower:m(I),upper:f(I)}}).sort(function(I,M){return y(I.lower,M.lower)});w=R.map(function(I){return I.upper}),C=R.map(function(I){return I.lower}),L=(E=O)==="next"?"":d}F("next"),s=new s.Collection(s,function(){return Yn(w[0],C[j-1]+d)}),s._ondirectionchange=function(O){F(O)};var P=0;return s._addAlgorithm(function(O,R,I){var M=O.key;if(typeof M!="string")return!1;var z=m(M);if(l(z,C,P))return!0;for(var K=null,V=P;V<j;++V){var ie=function(ce,ee,le,de,ae,he){for(var Ee=Math.min(ce.length,de.length),Pe=-1,Te=0;Te<Ee;++Te){var Bt=ee[Te];if(Bt!==de[Te])return ae(ce[Te],le[Te])<0?ce.substr(0,Te)+le[Te]+le.substr(Te+1):ae(ce[Te],de[Te])<0?ce.substr(0,Te)+de[Te]+le.substr(Te+1):0<=Pe?ce.substr(0,Pe)+ee[Pe]+le.substr(Pe+1):null;ae(ce[Te],Bt)<0&&(Pe=Te)}return Ee<de.length&&he==="next"?ce+le.substr(ce.length):Ee<ce.length&&he==="prev"?ce.substr(0,le.length):Pe<0?null:ce.substr(0,Pe)+de[Pe]+le.substr(Pe+1)}(M,z,w[V],C[V],y,E);ie===null&&K===null?P=V+1:(K===null||0<y(K,ie))&&(K=ie)}return R(K!==null?function(){O.continue(K+L)}:I),!1}),s}function Yn(s,l,a,d){return{type:2,lower:s,upper:l,lowerOpen:a,upperOpen:d}}function bd(s){return{type:1,lower:s,upper:s}}var Sd=(Object.defineProperty(dt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),dt.prototype.between=function(s,l,a,d){a=a!==!1,d=d===!0;try{return 0<this._cmp(s,l)||this._cmp(s,l)===0&&(a||d)&&(!a||!d)?li(this):new this.Collection(this,function(){return Yn(s,l,!a,!d)})}catch{return Ut(this,Tn)}},dt.prototype.equals=function(s){return s==null?Ut(this,Tn):new this.Collection(this,function(){return bd(s)})},dt.prototype.above=function(s){return s==null?Ut(this,Tn):new this.Collection(this,function(){return Yn(s,void 0,!0)})},dt.prototype.aboveOrEqual=function(s){return s==null?Ut(this,Tn):new this.Collection(this,function(){return Yn(s,void 0,!1)})},dt.prototype.below=function(s){return s==null?Ut(this,Tn):new this.Collection(this,function(){return Yn(void 0,s,!1,!0)})},dt.prototype.belowOrEqual=function(s){return s==null?Ut(this,Tn):new this.Collection(this,function(){return Yn(void 0,s)})},dt.prototype.startsWith=function(s){return typeof s!="string"?Ut(this,cd):this.between(s,s+Pr,!0,!0)},dt.prototype.startsWithIgnoreCase=function(s){return s===""?this.startsWith(s):lo(this,function(l,a){return l.indexOf(a[0])===0},[s],Pr)},dt.prototype.equalsIgnoreCase=function(s){return lo(this,function(l,a){return l===a[0]},[s],"")},dt.prototype.anyOfIgnoreCase=function(){var s=oe.apply(re,arguments);return s.length===0?li(this):lo(this,function(l,a){return a.indexOf(l)!==-1},s,"")},dt.prototype.startsWithAnyOfIgnoreCase=function(){var s=oe.apply(re,arguments);return s.length===0?li(this):lo(this,function(l,a){return a.some(function(d){return l.indexOf(d)===0})},s,Pr)},dt.prototype.anyOf=function(){var s=this,l=oe.apply(re,arguments),a=this._cmp;try{l.sort(a)}catch{return Ut(this,Tn)}if(l.length===0)return li(this);var d=new this.Collection(this,function(){return Yn(l[0],l[l.length-1])});d._ondirectionchange=function(m){a=m==="next"?s._ascending:s._descending,l.sort(a)};var f=0;return d._addAlgorithm(function(m,y,w){for(var C=m.key;0<a(C,l[f]);)if(++f===l.length)return y(w),!1;return a(C,l[f])===0||(y(function(){m.continue(l[f])}),!1)}),d},dt.prototype.notEqual=function(s){return this.inAnyRange([[-1/0,s],[s,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},dt.prototype.noneOf=function(){var s=oe.apply(re,arguments);if(s.length===0)return new this.Collection(this);try{s.sort(this._ascending)}catch{return Ut(this,Tn)}var l=s.reduce(function(a,d){return a?a.concat([[a[a.length-1][1],d]]):[[-1/0,d]]},null);return l.push([s[s.length-1],this.db._maxKey]),this.inAnyRange(l,{includeLowers:!1,includeUppers:!1})},dt.prototype.inAnyRange=function(M,l){var a=this,d=this._cmp,f=this._ascending,m=this._descending,y=this._min,w=this._max;if(M.length===0)return li(this);if(!M.every(function(z){return z[0]!==void 0&&z[1]!==void 0&&f(z[0],z[1])<=0}))return Ut(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",D.InvalidArgument);var C=!l||l.includeLowers!==!1,E=l&&l.includeUppers===!0,L,j=f;function F(z,K){return j(z[0],K[0])}try{(L=M.reduce(function(z,K){for(var V=0,ie=z.length;V<ie;++V){var ce=z[V];if(d(K[0],ce[1])<0&&0<d(K[1],ce[0])){ce[0]=y(ce[0],K[0]),ce[1]=w(ce[1],K[1]);break}}return V===ie&&z.push(K),z},[])).sort(F)}catch{return Ut(this,Tn)}var P=0,O=E?function(z){return 0<f(z,L[P][1])}:function(z){return 0<=f(z,L[P][1])},R=C?function(z){return 0<m(z,L[P][0])}:function(z){return 0<=m(z,L[P][0])},I=O,M=new this.Collection(this,function(){return Yn(L[0][0],L[L.length-1][1],!C,!E)});return M._ondirectionchange=function(z){j=z==="next"?(I=O,f):(I=R,m),L.sort(F)},M._addAlgorithm(function(z,K,V){for(var ie,ce=z.key;I(ce);)if(++P===L.length)return K(V),!1;return!O(ie=ce)&&!R(ie)||(a._cmp(ce,L[P][1])===0||a._cmp(ce,L[P][0])===0||K(function(){j===f?z.continue(L[P][0]):z.continue(L[P][1])}),!1)}),M},dt.prototype.startsWithAnyOf=function(){var s=oe.apply(re,arguments);return s.every(function(l){return typeof l=="string"})?s.length===0?li(this):this.inAnyRange(s.map(function(l){return[l,l+Pr]})):Ut(this,"startsWithAnyOf() only works with strings")},dt);function dt(){}function yn(s){return De(function(l){return Zi(l),s(l.target.error),!1})}function Zi(s){s.stopPropagation&&s.stopPropagation(),s.preventDefault&&s.preventDefault()}var es="storagemutated",sa="x-storagemutated-1",Gn=Xi(null,es),yy=(vn.prototype._lock=function(){return $(!me.global),++this._reculock,this._reculock!==1||me.global||(me.lockOwnerFor=this),this},vn.prototype._unlock=function(){if($(!me.global),--this._reculock==0)for(me.global||(me.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var s=this._blockedFuncs.shift();try{_r(s[1],s[0])}catch{}}return this},vn.prototype._locked=function(){return this._reculock&&me.lockOwnerFor!==this},vn.prototype.create=function(s){var l=this;if(!this.mode)return this;var a=this.db.idbdb,d=this.db._state.dbOpenError;if($(!this.idbtrans),!s&&!a)switch(d&&d.name){case"DatabaseClosedError":throw new D.DatabaseClosed(d);case"MissingAPIError":throw new D.MissingAPI(d.message,d);default:throw new D.OpenFailed(d)}if(!this.active)throw new D.TransactionInactive;return $(this._completion._state===null),(s=this.idbtrans=s||(this.db.core||a).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=De(function(f){Zi(f),l._reject(s.error)}),s.onabort=De(function(f){Zi(f),l.active&&l._reject(new D.Abort(s.error)),l.active=!1,l.on("abort").fire(f)}),s.oncomplete=De(function(){l.active=!1,l._resolve(),"mutatedParts"in s&&Gn.storagemutated.fire(s.mutatedParts)}),this},vn.prototype._promise=function(s,l,a){var d=this;if(s==="readwrite"&&this.mode!=="readwrite")return tt(new D.ReadOnly("Transaction is readonly"));if(!this.active)return tt(new D.TransactionInactive);if(this._locked())return new fe(function(m,y){d._blockedFuncs.push([function(){d._promise(s,l,a).then(m,y)},me])});if(a)return T(function(){var m=new fe(function(y,w){d._lock();var C=l(y,w,d);C&&C.then&&C.then(y,w)});return m.finally(function(){return d._unlock()}),m._lib=!0,m});var f=new fe(function(m,y){var w=l(m,y,d);w&&w.then&&w.then(m,y)});return f._lib=!0,f},vn.prototype._root=function(){return this.parent?this.parent._root():this},vn.prototype.waitFor=function(s){var l,a=this._root(),d=fe.resolve(s);a._waitingFor?a._waitingFor=a._waitingFor.then(function(){return d}):(a._waitingFor=d,a._waitingQueue=[],l=a.idbtrans.objectStore(a.storeNames[0]),function m(){for(++a._spinCount;a._waitingQueue.length;)a._waitingQueue.shift()();a._waitingFor&&(l.get(-1/0).onsuccess=m)}());var f=a._waitingFor;return new fe(function(m,y){d.then(function(w){return a._waitingQueue.push(De(m.bind(null,w)))},function(w){return a._waitingQueue.push(De(y.bind(null,w)))}).finally(function(){a._waitingFor===f&&(a._waitingFor=null)})})},vn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new D.Abort))},vn.prototype.table=function(s){var l=this._memoizedTables||(this._memoizedTables={});if(b(l,s))return l[s];var a=this.schema[s];if(!a)throw new D.NotFound("Table "+s+" not part of transaction");return a=new this.db.Table(s,a,this),a.core=this.db.core.table(s),l[s]=a},vn);function vn(){}function oa(s,l,a,d,f,m,y,w){return{name:s,keyPath:l,unique:a,multi:d,auto:f,compound:m,src:(a&&!y?"&":"")+(d?"*":"")+(f?"++":"")+kd(l),type:w}}function kd(s){return typeof s=="string"?s:s?"["+[].join.call(s,"+")+"]":""}function la(s,l,a){return{name:s,primKey:l,indexes:a,mappedClass:null,idxByName:(d=function(f){return[f.name,f]},a.reduce(function(f,m,y){return y=d(m,y),y&&(f[y[0]]=y[1]),f},{}))};var d}var ts=function(s){try{return s.only([[]]),ts=function(){return[[]]},[[]]}catch{return ts=function(){return Pr},Pr}};function aa(s){return s==null?function(){}:typeof s=="string"?(l=s).split(".").length===1?function(a){return a[l]}:function(a){return Q(a,l)}:function(a){return Q(a,s)};var l}function jd(s){return[].slice.call(s)}var vy=0;function ns(s){return s==null?":id":typeof s=="string"?s:"[".concat(s.join("+"),"]")}function gy(s,l,C){function d(I){if(I.type===3)return null;if(I.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var P=I.lower,O=I.upper,R=I.lowerOpen,I=I.upperOpen;return P===void 0?O===void 0?null:l.upperBound(O,!!I):O===void 0?l.lowerBound(P,!!R):l.bound(P,O,!!R,!!I)}function f(F){var P,O=F.name;return{name:O,schema:F,mutate:function(R){var I=R.trans,M=R.type,z=R.keys,K=R.values,V=R.range;return new Promise(function(ie,ce){ie=De(ie);var ee=I.objectStore(O),le=ee.keyPath==null,de=M==="put"||M==="add";if(!de&&M!=="delete"&&M!=="deleteRange")throw new Error("Invalid operation type: "+M);var ae,he=(z||K||{length:1}).length;if(z&&K&&z.length!==K.length)throw new Error("Given keys array must have same length as given values array.");if(he===0)return ie({numFailures:0,failures:{},results:[],lastResult:void 0});function Ee(_t){++Bt,Zi(_t)}var Pe=[],Te=[],Bt=0;if(M==="deleteRange"){if(V.type===4)return ie({numFailures:Bt,failures:Te,results:[],lastResult:void 0});V.type===3?Pe.push(ae=ee.clear()):Pe.push(ae=ee.delete(d(V)))}else{var le=de?le?[K,z]:[K,null]:[z,null],Ce=le[0],bt=le[1];if(de)for(var St=0;St<he;++St)Pe.push(ae=bt&&bt[St]!==void 0?ee[M](Ce[St],bt[St]):ee[M](Ce[St])),ae.onerror=Ee;else for(St=0;St<he;++St)Pe.push(ae=ee[M](Ce[St])),ae.onerror=Ee}function wo(_t){_t=_t.target.result,Pe.forEach(function(Lr,Ca){return Lr.error!=null&&(Te[Ca]=Lr.error)}),ie({numFailures:Bt,failures:Te,results:M==="delete"?z:Pe.map(function(Lr){return Lr.result}),lastResult:_t})}ae.onerror=function(_t){Ee(_t),wo(_t)},ae.onsuccess=wo})},getMany:function(R){var I=R.trans,M=R.keys;return new Promise(function(z,K){z=De(z);for(var V,ie=I.objectStore(O),ce=M.length,ee=new Array(ce),le=0,de=0,ae=function(Pe){Pe=Pe.target,ee[Pe._pos]=Pe.result,++de===le&&z(ee)},he=yn(K),Ee=0;Ee<ce;++Ee)M[Ee]!=null&&((V=ie.get(M[Ee]))._pos=Ee,V.onsuccess=ae,V.onerror=he,++le);le===0&&z(ee)})},get:function(R){var I=R.trans,M=R.key;return new Promise(function(z,K){z=De(z);var V=I.objectStore(O).get(M);V.onsuccess=function(ie){return z(ie.target.result)},V.onerror=yn(K)})},query:(P=E,function(R){return new Promise(function(I,M){I=De(I);var z,K,V,le=R.trans,ie=R.values,ce=R.limit,ae=R.query,ee=ce===1/0?void 0:ce,de=ae.index,ae=ae.range,le=le.objectStore(O),de=de.isPrimaryKey?le:le.index(de.name),ae=d(ae);if(ce===0)return I({result:[]});P?((ee=ie?de.getAll(ae,ee):de.getAllKeys(ae,ee)).onsuccess=function(he){return I({result:he.target.result})},ee.onerror=yn(M)):(z=0,K=!ie&&"openKeyCursor"in de?de.openKeyCursor(ae):de.openCursor(ae),V=[],K.onsuccess=function(he){var Ee=K.result;return Ee?(V.push(ie?Ee.value:Ee.primaryKey),++z===ce?I({result:V}):void Ee.continue()):I({result:V})},K.onerror=yn(M))})}),openCursor:function(R){var I=R.trans,M=R.values,z=R.query,K=R.reverse,V=R.unique;return new Promise(function(ie,ce){ie=De(ie);var de=z.index,ee=z.range,le=I.objectStore(O),le=de.isPrimaryKey?le:le.index(de.name),de=K?V?"prevunique":"prev":V?"nextunique":"next",ae=!M&&"openKeyCursor"in le?le.openKeyCursor(d(ee),de):le.openCursor(d(ee),de);ae.onerror=yn(ce),ae.onsuccess=De(function(he){var Ee,Pe,Te,Bt,Ce=ae.result;Ce?(Ce.___id=++vy,Ce.done=!1,Ee=Ce.continue.bind(Ce),Pe=(Pe=Ce.continuePrimaryKey)&&Pe.bind(Ce),Te=Ce.advance.bind(Ce),Bt=function(){throw new Error("Cursor not stopped")},Ce.trans=I,Ce.stop=Ce.continue=Ce.continuePrimaryKey=Ce.advance=function(){throw new Error("Cursor not started")},Ce.fail=De(ce),Ce.next=function(){var bt=this,St=1;return this.start(function(){return St--?bt.continue():bt.stop()}).then(function(){return bt})},Ce.start=function(bt){function St(){if(ae.result)try{bt()}catch(_t){Ce.fail(_t)}else Ce.done=!0,Ce.start=function(){throw new Error("Cursor behind last entry")},Ce.stop()}var wo=new Promise(function(_t,Lr){_t=De(_t),ae.onerror=yn(Lr),Ce.fail=Lr,Ce.stop=function(Ca){Ce.stop=Ce.continue=Ce.continuePrimaryKey=Ce.advance=Bt,_t(Ca)}});return ae.onsuccess=De(function(_t){ae.onsuccess=St,St()}),Ce.continue=Ee,Ce.continuePrimaryKey=Pe,Ce.advance=Te,St(),wo},ie(Ce)):ie(null)},ce)})},count:function(R){var I=R.query,M=R.trans,z=I.index,K=I.range;return new Promise(function(V,ie){var ce=M.objectStore(O),ee=z.isPrimaryKey?ce:ce.index(z.name),ce=d(K),ee=ce?ee.count(ce):ee.count();ee.onsuccess=De(function(le){return V(le.target.result)}),ee.onerror=yn(ie)})}}}var m,y,w,L=(y=C,w=jd((m=s).objectStoreNames),{schema:{name:m.name,tables:w.map(function(F){return y.objectStore(F)}).map(function(F){var P=F.keyPath,I=F.autoIncrement,O=h(P),R={},I={name:F.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:P==null,compound:O,keyPath:P,autoIncrement:I,unique:!0,extractKey:aa(P)},indexes:jd(F.indexNames).map(function(M){return F.index(M)}).map(function(V){var z=V.name,K=V.unique,ie=V.multiEntry,V=V.keyPath,ie={name:z,compound:h(V),keyPath:V,unique:K,multiEntry:ie,extractKey:aa(V)};return R[ns(V)]=ie}),getIndexByKeyPath:function(M){return R[ns(M)]}};return R[":id"]=I.primaryKey,P!=null&&(R[ns(P)]=I.primaryKey),I})},hasGetAll:0<w.length&&"getAll"in y.objectStore(w[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),C=L.schema,E=L.hasGetAll,L=C.tables.map(f),j={};return L.forEach(function(F){return j[F.name]=F}),{stack:"dbcore",transaction:s.transaction.bind(s),table:function(F){if(!j[F])throw new Error("Table '".concat(F,"' not found"));return j[F]},MIN_KEY:-1/0,MAX_KEY:ts(l),schema:C}}function xy(s,l,a,d){var f=a.IDBKeyRange;return a.indexedDB,{dbcore:(d=gy(l,f,d),s.dbcore.reduce(function(m,y){return y=y.create,r(r({},m),y(m))},d))}}function ao(s,d){var a=d.db,d=xy(s._middlewares,a,s._deps,d);s.core=d.dbcore,s.tables.forEach(function(f){var m=f.name;s.core.schema.tables.some(function(y){return y.name===m})&&(f.core=s.core.table(m),s[m]instanceof s.Table&&(s[m].core=f.core))})}function uo(s,l,a,d){a.forEach(function(f){var m=d[f];l.forEach(function(y){var w=function C(E,L){return q(E,L)||(E=v(E))&&C(E,L)}(y,f);(!w||"value"in w&&w.value===void 0)&&(y===s.Transaction.prototype||y instanceof s.Transaction?A(y,f,{get:function(){return this.table(f)},set:function(C){U(this,f,{value:C,writable:!0,configurable:!0,enumerable:!0})}}):y[f]=new s.Table(f,m))})})}function ua(s,l){l.forEach(function(a){for(var d in a)a[d]instanceof s.Table&&delete a[d]})}function wy(s,l){return s._cfg.version-l._cfg.version}function by(s,l,a,d){var f=s._dbSchema;a.objectStoreNames.contains("$meta")&&!f.$meta&&(f.$meta=la("$meta",Cd("")[0],[]),s._storeNames.push("$meta"));var m=s._createTransaction("readwrite",s._storeNames,f);m.create(a),m._completion.catch(d);var y=m._reject.bind(m),w=me.transless||me;T(function(){return me.trans=m,me.transless=w,l!==0?(ao(s,a),E=l,((C=m).storeNames.includes("$meta")?C.table("$meta").get("version").then(function(L){return L??E}):fe.resolve(E)).then(function(L){return F=L,P=m,O=a,R=[],L=(j=s)._versions,I=j._dbSchema=fo(0,j.idbdb,O),(L=L.filter(function(M){return M._cfg.version>=F})).length!==0?(L.forEach(function(M){R.push(function(){var z=I,K=M._cfg.dbschema;ho(j,z,O),ho(j,K,O),I=j._dbSchema=K;var V=ca(z,K);V.add.forEach(function(de){da(O,de[0],de[1].primKey,de[1].indexes)}),V.change.forEach(function(de){if(de.recreate)throw new D.Upgrade("Not yet support for changing primary key");var ae=O.objectStore(de.name);de.add.forEach(function(he){return co(ae,he)}),de.change.forEach(function(he){ae.deleteIndex(he.name),co(ae,he)}),de.del.forEach(function(he){return ae.deleteIndex(he)})});var ie=M._cfg.contentUpgrade;if(ie&&M._cfg.version>F){ao(j,O),P._memoizedTables={};var ce=ne(K);V.del.forEach(function(de){ce[de]=z[de]}),ua(j,[j.Transaction.prototype]),uo(j,[j.Transaction.prototype],c(ce),ce),P.schema=ce;var ee,le=we(ie);return le&&ue(),V=fe.follow(function(){var de;(ee=ie(P))&&le&&(de=W.bind(null,null),ee.then(de,de))}),ee&&typeof ee.then=="function"?fe.resolve(ee):V.then(function(){return ee})}}),R.push(function(z){var K,V,ie=M._cfg.dbschema;K=ie,V=z,[].slice.call(V.db.objectStoreNames).forEach(function(ce){return K[ce]==null&&V.db.deleteObjectStore(ce)}),ua(j,[j.Transaction.prototype]),uo(j,[j.Transaction.prototype],j._storeNames,j._dbSchema),P.schema=j._dbSchema}),R.push(function(z){j.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(j.idbdb.version/10)===M._cfg.version?(j.idbdb.deleteObjectStore("$meta"),delete j._dbSchema.$meta,j._storeNames=j._storeNames.filter(function(K){return K!=="$meta"})):z.objectStore("$meta").put(M._cfg.version,"version"))})}),function M(){return R.length?fe.resolve(R.shift()(P.idbtrans)).then(M):fe.resolve()}().then(function(){Nd(I,O)})):fe.resolve();var j,F,P,O,R,I}).catch(y)):(c(f).forEach(function(L){da(a,L,f[L].primKey,f[L].indexes)}),ao(s,a),void fe.follow(function(){return s.on.populate.fire(m)}).catch(y));var C,E})}function Sy(s,l){Nd(s._dbSchema,l),l.db.version%10!=0||l.objectStoreNames.contains("$meta")||l.db.createObjectStore("$meta").add(Math.ceil(l.db.version/10-1),"version");var a=fo(0,s.idbdb,l);ho(s,s._dbSchema,l);for(var d=0,f=ca(a,s._dbSchema).change;d<f.length;d++){var m=function(y){if(y.change.length||y.recreate)return console.warn("Unable to patch indexes of table ".concat(y.name," because it has changes on the type of index or primary key.")),{value:void 0};var w=l.objectStore(y.name);y.add.forEach(function(C){$t&&console.debug("Dexie upgrade patch: Creating missing index ".concat(y.name,".").concat(C.src)),co(w,C)})}(f[d]);if(typeof m=="object")return m.value}}function ca(s,l){var a,d={del:[],add:[],change:[]};for(a in s)l[a]||d.del.push(a);for(a in l){var f=s[a],m=l[a];if(f){var y={name:a,def:m,recreate:!1,del:[],add:[],change:[]};if(""+(f.primKey.keyPath||"")!=""+(m.primKey.keyPath||"")||f.primKey.auto!==m.primKey.auto)y.recreate=!0,d.change.push(y);else{var w=f.idxByName,C=m.idxByName,E=void 0;for(E in w)C[E]||y.del.push(E);for(E in C){var L=w[E],j=C[E];L?L.src!==j.src&&y.change.push(j):y.add.push(j)}(0<y.del.length||0<y.add.length||0<y.change.length)&&d.change.push(y)}}else d.add.push([a,m])}return d}function da(s,l,a,d){var f=s.db.createObjectStore(l,a.keyPath?{keyPath:a.keyPath,autoIncrement:a.auto}:{autoIncrement:a.auto});return d.forEach(function(m){return co(f,m)}),f}function Nd(s,l){c(s).forEach(function(a){l.db.objectStoreNames.contains(a)||($t&&console.debug("Dexie: Creating missing table",a),da(l,a,s[a].primKey,s[a].indexes))})}function co(s,l){s.createIndex(l.name,l.keyPath,{unique:l.unique,multiEntry:l.multi})}function fo(s,l,a){var d={};return g(l.objectStoreNames,0).forEach(function(f){for(var m=a.objectStore(f),y=oa(kd(E=m.keyPath),E||"",!0,!1,!!m.autoIncrement,E&&typeof E!="string",!0),w=[],C=0;C<m.indexNames.length;++C){var L=m.index(m.indexNames[C]),E=L.keyPath,L=oa(L.name,E,!!L.unique,!!L.multiEntry,!1,E&&typeof E!="string",!1);w.push(L)}d[f]=la(f,y,w)}),d}function ho(s,l,a){for(var d=a.db.objectStoreNames,f=0;f<d.length;++f){var m=d[f],y=a.objectStore(m);s._hasGetAll="getAll"in y;for(var w=0;w<y.indexNames.length;++w){var C=y.indexNames[w],E=y.index(C).keyPath,L=typeof E=="string"?E:"["+g(E).join("+")+"]";!l[m]||(E=l[m].idxByName[L])&&(E.name=C,delete l[m].idxByName[L],l[m].idxByName[C]=E)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(s._hasGetAll=!1)}function Cd(s){return s.split(",").map(function(l,a){var m=l.split(":"),d=(f=m[1])===null||f===void 0?void 0:f.trim(),f=(l=m[0].trim()).replace(/([&*]|\+\+)/g,""),m=/^\[/.test(f)?f.match(/^\[(.*)\]$/)[1].split("+"):f;return oa(f,m||null,/\&/.test(l),/\*/.test(l),/\+\+/.test(l),h(m),a===0,d)})}var ky=(ai.prototype._createTableSchema=la,ai.prototype._parseIndexSyntax=Cd,ai.prototype._parseStoresSpec=function(s,l){var a=this;c(s).forEach(function(d){if(s[d]!==null){var f=a._parseIndexSyntax(s[d]),m=f.shift();if(!m)throw new D.Schema("Invalid schema for table "+d+": "+s[d]);if(m.unique=!0,m.multi)throw new D.Schema("Primary key cannot be multiEntry*");f.forEach(function(y){if(y.auto)throw new D.Schema("Only primary key can be marked as autoIncrement (++)");if(!y.keyPath)throw new D.Schema("Index must have a name and cannot be an empty string")}),f=a._createTableSchema(d,m,f),l[d]=f}})},ai.prototype.stores=function(a){var l=this.db;this._cfg.storesSource=this._cfg.storesSource?p(this._cfg.storesSource,a):a;var a=l._versions,d={},f={};return a.forEach(function(m){p(d,m._cfg.storesSource),f=m._cfg.dbschema={},m._parseStoresSpec(d,f)}),l._dbSchema=f,ua(l,[l._allTables,l,l.Transaction.prototype]),uo(l,[l._allTables,l,l.Transaction.prototype,this._cfg.tables],c(f),f),l._storeNames=c(f),this},ai.prototype.upgrade=function(s){return this._cfg.contentUpgrade=ti(this._cfg.contentUpgrade||xe,s),this},ai);function ai(){}function fa(s,l){var a=s._dbNamesDB;return a||(a=s._dbNamesDB=new On(no,{addons:[],indexedDB:s,IDBKeyRange:l})).version(1).stores({dbnames:"name"}),a.table("dbnames")}function ha(s){return s&&typeof s.databases=="function"}function pa(s){return T(function(){return me.letThrough=!0,s()})}function ma(s){return!("from"in s)}var wt=function(s,l){if(!this){var a=new wt;return s&&"d"in s&&p(a,s),a}p(this,arguments.length?{d:1,from:s,to:1<arguments.length?l:s}:{d:0})};function rs(s,l,a){var d=Le(l,a);if(!isNaN(d)){if(0<d)throw RangeError();if(ma(s))return p(s,{from:l,to:a,d:1});var f=s.l,d=s.r;if(Le(a,s.from)<0)return f?rs(f,l,a):s.l={from:l,to:a,d:1,l:null,r:null},_d(s);if(0<Le(l,s.to))return d?rs(d,l,a):s.r={from:l,to:a,d:1,l:null,r:null},_d(s);Le(l,s.from)<0&&(s.from=l,s.l=null,s.d=d?d.d+1:1),0<Le(a,s.to)&&(s.to=a,s.r=null,s.d=s.l?s.l.d+1:1),a=!s.r,f&&!s.l&&is(s,f),d&&a&&is(s,d)}}function is(s,l){ma(l)||function a(d,C){var m=C.from,y=C.to,w=C.l,C=C.r;rs(d,m,y),w&&a(d,w),C&&a(d,C)}(s,l)}function Ed(s,l){var a=po(l),d=a.next();if(d.done)return!1;for(var f=d.value,m=po(s),y=m.next(f.from),w=y.value;!d.done&&!y.done;){if(Le(w.from,f.to)<=0&&0<=Le(w.to,f.from))return!0;Le(f.from,w.from)<0?f=(d=a.next(w.from)).value:w=(y=m.next(f.from)).value}return!1}function po(s){var l=ma(s)?null:{s:0,n:s};return{next:function(a){for(var d=0<arguments.length;l;)switch(l.s){case 0:if(l.s=1,d)for(;l.n.l&&Le(a,l.n.from)<0;)l={up:l,n:l.n.l,s:1};else for(;l.n.l;)l={up:l,n:l.n.l,s:1};case 1:if(l.s=2,!d||Le(a,l.n.to)<=0)return{value:l.n,done:!1};case 2:if(l.n.r){l.s=3,l={up:l,n:l.n.r,s:0};continue}case 3:l=l.up}return{done:!0}}}}function _d(s){var l,a,d=(((l=s.r)===null||l===void 0?void 0:l.d)||0)-(((a=s.l)===null||a===void 0?void 0:a.d)||0),f=1<d?"r":d<-1?"l":"";f&&(l=f=="r"?"l":"r",a=r({},s),d=s[f],s.from=d.from,s.to=d.to,s[f]=d[f],a[f]=d[l],(s[l]=a).d=Pd(a)),s.d=Pd(s)}function Pd(a){var l=a.r,a=a.l;return(l?a?Math.max(l.d,a.d):l.d:a?a.d:0)+1}function mo(s,l){return c(l).forEach(function(a){s[a]?is(s[a],l[a]):s[a]=function d(f){var m,y,w={};for(m in f)b(f,m)&&(y=f[m],w[m]=!y||typeof y!="object"||Re.has(y.constructor)?y:d(y));return w}(l[a])}),s}function ya(s,l){return s.all||l.all||Object.keys(s).some(function(a){return l[a]&&Ed(l[a],s[a])})}_(wt.prototype,((Jt={add:function(s){return is(this,s),this},addKey:function(s){return rs(this,s,s),this},addKeys:function(s){var l=this;return s.forEach(function(a){return rs(l,a,a)}),this},hasKey:function(s){var l=po(this).next(s).value;return l&&Le(l.from,s)<=0&&0<=Le(l.to,s)}})[Y]=function(){return po(this)},Jt));var Or={},va={},ga=!1;function yo(s){mo(va,s),ga||(ga=!0,setTimeout(function(){ga=!1,xa(va,!(va={}))},0))}function xa(s,l){l===void 0&&(l=!1);var a=new Set;if(s.all)for(var d=0,f=Object.values(Or);d<f.length;d++)Td(y=f[d],s,a,l);else for(var m in s){var y,w=/^idb\:\/\/(.*)\/(.*)\//.exec(m);w&&(m=w[1],w=w[2],(y=Or["idb://".concat(m,"/").concat(w)])&&Td(y,s,a,l))}a.forEach(function(C){return C()})}function Td(s,l,a,d){for(var f=[],m=0,y=Object.entries(s.queries.query);m<y.length;m++){for(var w=y[m],C=w[0],E=[],L=0,j=w[1];L<j.length;L++){var F=j[L];ya(l,F.obsSet)?F.subscribers.forEach(function(I){return a.add(I)}):d&&E.push(F)}d&&f.push([C,E])}if(d)for(var P=0,O=f;P<O.length;P++){var R=O[P],C=R[0],E=R[1];s.queries.query[C]=E}}function jy(s){var l=s._state,a=s._deps.indexedDB;if(l.isBeingOpened||s.idbdb)return l.dbReadyPromise.then(function(){return l.dbOpenError?tt(l.dbOpenError):s});l.isBeingOpened=!0,l.dbOpenError=null,l.openComplete=!1;var d=l.openCanceller,f=Math.round(10*s.verno),m=!1;function y(){if(l.openCanceller!==d)throw new D.DatabaseClosed("db.open() was cancelled")}function w(){return new fe(function(F,P){if(y(),!a)throw new D.MissingAPI;var O=s.name,R=l.autoSchema||!f?a.open(O):a.open(O,f);if(!R)throw new D.MissingAPI;R.onerror=yn(P),R.onblocked=De(s._fireOnBlocked),R.onupgradeneeded=De(function(I){var M;L=R.transaction,l.autoSchema&&!s._options.allowEmptyDB?(R.onerror=Zi,L.abort(),R.result.close(),(M=a.deleteDatabase(O)).onsuccess=M.onerror=De(function(){P(new D.NoSuchDatabase("Database ".concat(O," doesnt exist")))})):(L.onerror=yn(P),I=I.oldVersion>Math.pow(2,62)?0:I.oldVersion,j=I<1,s.idbdb=R.result,m&&Sy(s,L),by(s,I/10,L,P))},P),R.onsuccess=De(function(){L=null;var I,M,z,K,V,ie=s.idbdb=R.result,ce=g(ie.objectStoreNames);if(0<ce.length)try{var ee=ie.transaction((K=ce).length===1?K[0]:K,"readonly");if(l.autoSchema)M=ie,z=ee,(I=s).verno=M.version/10,z=I._dbSchema=fo(0,M,z),I._storeNames=g(M.objectStoreNames,0),uo(I,[I._allTables],c(z),z);else if(ho(s,s._dbSchema,ee),((V=ca(fo(0,(V=s).idbdb,ee),V._dbSchema)).add.length||V.change.some(function(le){return le.add.length||le.change.length}))&&!m)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ie.close(),f=ie.version+1,m=!0,F(w());ao(s,ee)}catch{}si.push(s),ie.onversionchange=De(function(le){l.vcFired=!0,s.on("versionchange").fire(le)}),ie.onclose=De(function(){s.close({disableAutoOpen:!1})}),j&&(V=s._deps,ee=O,ie=V.indexedDB,V=V.IDBKeyRange,ha(ie)||ee===no||fa(ie,V).put({name:ee}).catch(xe)),F()},P)}).catch(function(F){switch(F==null?void 0:F.name){case"UnknownError":if(0<l.PR1398_maxLoop)return l.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),w();break;case"VersionError":if(0<f)return f=0,w()}return fe.reject(F)})}var C,E=l.dbReadyResolve,L=null,j=!1;return fe.race([d,(typeof navigator>"u"?fe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(F){function P(){return indexedDB.databases().finally(F)}C=setInterval(P,100),P()}).finally(function(){return clearInterval(C)}):Promise.resolve()).then(w)]).then(function(){return y(),l.onReadyBeingFired=[],fe.resolve(pa(function(){return s.on.ready.fire(s.vip)})).then(function F(){if(0<l.onReadyBeingFired.length){var P=l.onReadyBeingFired.reduce(ti,xe);return l.onReadyBeingFired=[],fe.resolve(pa(function(){return P(s.vip)})).then(F)}})}).finally(function(){l.openCanceller===d&&(l.onReadyBeingFired=null,l.isBeingOpened=!1)}).catch(function(F){l.dbOpenError=F;try{L&&L.abort()}catch{}return d===l.openCanceller&&s._close(),tt(F)}).finally(function(){l.openComplete=!0,E()}).then(function(){var F;return j&&(F={},s.tables.forEach(function(P){P.schema.indexes.forEach(function(O){O.name&&(F["idb://".concat(s.name,"/").concat(P.name,"/").concat(O.name)]=new wt(-1/0,[[[]]]))}),F["idb://".concat(s.name,"/").concat(P.name,"/")]=F["idb://".concat(s.name,"/").concat(P.name,"/:dels")]=new wt(-1/0,[[[]]])}),Gn(es).fire(F),xa(F,!0)),s})}function wa(s){function l(m){return s.next(m)}var a=f(l),d=f(function(m){return s.throw(m)});function f(m){return function(C){var w=m(C),C=w.value;return w.done?C:C&&typeof C.then=="function"?C.then(a,d):h(C)?Promise.all(C).then(a,d):a(C)}}return f(l)()}function vo(s,l,a){for(var d=h(s)?s.slice():[s],f=0;f<a;++f)d.push(l);return d}var Ny={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(s){return r(r({},s),{table:function(l){var a=s.table(l),d=a.schema,f={},m=[];function y(j,F,P){var O=ns(j),R=f[O]=f[O]||[],I=j==null?0:typeof j=="string"?1:j.length,M=0<F,M=r(r({},P),{name:M?"".concat(O,"(virtual-from:").concat(P.name,")"):P.name,lowLevelIndex:P,isVirtual:M,keyTail:F,keyLength:I,extractKey:aa(j),unique:!M&&P.unique});return R.push(M),M.isPrimaryKey||m.push(M),1<I&&y(I===2?j[0]:j.slice(0,I-1),F+1,P),R.sort(function(z,K){return z.keyTail-K.keyTail}),M}l=y(d.primaryKey.keyPath,0,d.primaryKey),f[":id"]=[l];for(var w=0,C=d.indexes;w<C.length;w++){var E=C[w];y(E.keyPath,0,E)}function L(j){var F,P=j.query.index;return P.isVirtual?r(r({},j),{query:{index:P.lowLevelIndex,range:(F=j.query.range,P=P.keyTail,{type:F.type===1?2:F.type,lower:vo(F.lower,F.lowerOpen?s.MAX_KEY:s.MIN_KEY,P),lowerOpen:!0,upper:vo(F.upper,F.upperOpen?s.MIN_KEY:s.MAX_KEY,P),upperOpen:!0})}}):j}return r(r({},a),{schema:r(r({},d),{primaryKey:l,indexes:m,getIndexByKeyPath:function(j){return(j=f[ns(j)])&&j[0]}}),count:function(j){return a.count(L(j))},query:function(j){return a.query(L(j))},openCursor:function(j){var F=j.query.index,P=F.keyTail,O=F.isVirtual,R=F.keyLength;return O?a.openCursor(L(j)).then(function(M){return M&&I(M)}):a.openCursor(j);function I(M){return Object.create(M,{continue:{value:function(z){z!=null?M.continue(vo(z,j.reverse?s.MAX_KEY:s.MIN_KEY,P)):j.unique?M.continue(M.key.slice(0,R).concat(j.reverse?s.MIN_KEY:s.MAX_KEY,P)):M.continue()}},continuePrimaryKey:{value:function(z,K){M.continuePrimaryKey(vo(z,s.MAX_KEY,P),K)}},primaryKey:{get:function(){return M.primaryKey}},key:{get:function(){var z=M.key;return R===1?z[0]:z.slice(0,R)}},value:{get:function(){return M.value}}})}}})}})}};function ba(s,l,a,d){return a=a||{},d=d||"",c(s).forEach(function(f){var m,y,w;b(l,f)?(m=s[f],y=l[f],typeof m=="object"&&typeof y=="object"&&m&&y?(w=te(m))!==te(y)?a[d+f]=l[f]:w==="Object"?ba(m,y,a,d+f+"."):m!==y&&(a[d+f]=l[f]):m!==y&&(a[d+f]=l[f])):a[d+f]=void 0}),c(l).forEach(function(f){b(s,f)||(a[d+f]=l[f])}),a}function Sa(s,l){return l.type==="delete"?l.keys:l.keys||l.values.map(s.extractKey)}var Cy={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(s){return r(r({},s),{table:function(l){var a=s.table(l),d=a.schema.primaryKey;return r(r({},a),{mutate:function(f){var m=me.trans,y=m.table(l).hook,w=y.deleting,C=y.creating,E=y.updating;switch(f.type){case"add":if(C.fire===xe)break;return m._promise("readwrite",function(){return L(f)},!0);case"put":if(C.fire===xe&&E.fire===xe)break;return m._promise("readwrite",function(){return L(f)},!0);case"delete":if(w.fire===xe)break;return m._promise("readwrite",function(){return L(f)},!0);case"deleteRange":if(w.fire===xe)break;return m._promise("readwrite",function(){return function j(F,P,O){return a.query({trans:F,values:!1,query:{index:d,range:P},limit:O}).then(function(R){var I=R.result;return L({type:"delete",keys:I,trans:F}).then(function(M){return 0<M.numFailures?Promise.reject(M.failures[0]):I.length<O?{failures:[],numFailures:0,lastResult:void 0}:j(F,r(r({},P),{lower:I[I.length-1],lowerOpen:!0}),O)})})}(f.trans,f.range,1e4)},!0)}return a.mutate(f);function L(j){var F,P,O,R=me.trans,I=j.keys||Sa(d,j);if(!I)throw new Error("Keys missing");return(j=j.type==="add"||j.type==="put"?r(r({},j),{keys:I}):r({},j)).type!=="delete"&&(j.values=i([],j.values)),j.keys&&(j.keys=i([],j.keys)),F=a,O=I,((P=j).type==="add"?Promise.resolve([]):F.getMany({trans:P.trans,keys:O,cache:"immutable"})).then(function(M){var z=I.map(function(K,V){var ie,ce,ee,le=M[V],de={onerror:null,onsuccess:null};return j.type==="delete"?w.fire.call(de,K,le,R):j.type==="add"||le===void 0?(ie=C.fire.call(de,K,j.values[V],R),K==null&&ie!=null&&(j.keys[V]=K=ie,d.outbound||X(j.values[V],d.keyPath,K))):(ie=ba(le,j.values[V]),(ce=E.fire.call(de,ie,K,le,R))&&(ee=j.values[V],Object.keys(ce).forEach(function(ae){b(ee,ae)?ee[ae]=ce[ae]:X(ee,ae,ce[ae])}))),de});return a.mutate(j).then(function(K){for(var V=K.failures,ie=K.results,ce=K.numFailures,K=K.lastResult,ee=0;ee<I.length;++ee){var le=(ie||I)[ee],de=z[ee];le==null?de.onerror&&de.onerror(V[ee]):de.onsuccess&&de.onsuccess(j.type==="put"&&M[ee]?j.values[ee]:le)}return{failures:V,results:ie,numFailures:ce,lastResult:K}}).catch(function(K){return z.forEach(function(V){return V.onerror&&V.onerror(K)}),Promise.reject(K)})})}}})}})}};function Od(s,l,a){try{if(!l||l.keys.length<s.length)return null;for(var d=[],f=0,m=0;f<l.keys.length&&m<s.length;++f)Le(l.keys[f],s[m])===0&&(d.push(a?se(l.values[f]):l.values[f]),++m);return d.length===s.length?d:null}catch{return null}}var Ey={stack:"dbcore",level:-1,create:function(s){return{table:function(l){var a=s.table(l);return r(r({},a),{getMany:function(d){if(!d.cache)return a.getMany(d);var f=Od(d.keys,d.trans._cache,d.cache==="clone");return f?fe.resolve(f):a.getMany(d).then(function(m){return d.trans._cache={keys:d.keys,values:d.cache==="clone"?se(m):m},m})},mutate:function(d){return d.type!=="add"&&(d.trans._cache=null),a.mutate(d)}})}}}};function Rd(s,l){return s.trans.mode==="readonly"&&!!s.subscr&&!s.trans.explicit&&s.trans.db._options.cache!=="disabled"&&!l.schema.primaryKey.outbound}function Ld(s,l){switch(s){case"query":return l.values&&!l.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var _y={stack:"dbcore",level:0,name:"Observability",create:function(s){var l=s.schema.name,a=new wt(s.MIN_KEY,s.MAX_KEY);return r(r({},s),{transaction:function(d,f,m){if(me.subscr&&f!=="readonly")throw new D.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(me.querier));return s.transaction(d,f,m)},table:function(d){var f=s.table(d),m=f.schema,y=m.primaryKey,j=m.indexes,w=y.extractKey,C=y.outbound,E=y.autoIncrement&&j.filter(function(P){return P.compound&&P.keyPath.includes(y.keyPath)}),L=r(r({},f),{mutate:function(P){function O(ae){return ae="idb://".concat(l,"/").concat(d,"/").concat(ae),K[ae]||(K[ae]=new wt)}var R,I,M,z=P.trans,K=P.mutatedParts||(P.mutatedParts={}),V=O(""),ie=O(":dels"),ce=P.type,de=P.type==="deleteRange"?[P.range]:P.type==="delete"?[P.keys]:P.values.length<50?[Sa(y,P).filter(function(ae){return ae}),P.values]:[],ee=de[0],le=de[1],de=P.trans._cache;return h(ee)?(V.addKeys(ee),(de=ce==="delete"||ee.length===le.length?Od(ee,de):null)||ie.addKeys(ee),(de||le)&&(R=O,I=de,M=le,m.indexes.forEach(function(ae){var he=R(ae.name||"");function Ee(Te){return Te!=null?ae.extractKey(Te):null}function Pe(Te){return ae.multiEntry&&h(Te)?Te.forEach(function(Bt){return he.addKey(Bt)}):he.addKey(Te)}(I||M).forEach(function(Te,bt){var Ce=I&&Ee(I[bt]),bt=M&&Ee(M[bt]);Le(Ce,bt)!==0&&(Ce!=null&&Pe(Ce),bt!=null&&Pe(bt))})}))):ee?(le={from:(le=ee.lower)!==null&&le!==void 0?le:s.MIN_KEY,to:(le=ee.upper)!==null&&le!==void 0?le:s.MAX_KEY},ie.add(le),V.add(le)):(V.add(a),ie.add(a),m.indexes.forEach(function(ae){return O(ae.name).add(a)})),f.mutate(P).then(function(ae){return!ee||P.type!=="add"&&P.type!=="put"||(V.addKeys(ae.results),E&&E.forEach(function(he){for(var Ee=P.values.map(function(Ce){return he.extractKey(Ce)}),Pe=he.keyPath.findIndex(function(Ce){return Ce===y.keyPath}),Te=0,Bt=ae.results.length;Te<Bt;++Te)Ee[Te][Pe]=ae.results[Te];O(he.name).addKeys(Ee)})),z.mutatedParts=mo(z.mutatedParts||{},K),ae})}}),j=function(O){var R=O.query,O=R.index,R=R.range;return[O,new wt((O=R.lower)!==null&&O!==void 0?O:s.MIN_KEY,(R=R.upper)!==null&&R!==void 0?R:s.MAX_KEY)]},F={get:function(P){return[y,new wt(P.key)]},getMany:function(P){return[y,new wt().addKeys(P.keys)]},count:j,query:j,openCursor:j};return c(F).forEach(function(P){L[P]=function(O){var R=me.subscr,I=!!R,M=Rd(me,f)&&Ld(P,O)?O.obsSet={}:R;if(I){var z=function(le){return le="idb://".concat(l,"/").concat(d,"/").concat(le),M[le]||(M[le]=new wt)},K=z(""),V=z(":dels"),R=F[P](O),I=R[0],R=R[1];if((P==="query"&&I.isPrimaryKey&&!O.values?V:z(I.name||"")).add(R),!I.isPrimaryKey){if(P!=="count"){var ie=P==="query"&&C&&O.values&&f.query(r(r({},O),{values:!1}));return f[P].apply(this,arguments).then(function(le){if(P==="query"){if(C&&O.values)return ie.then(function(Ee){return Ee=Ee.result,K.addKeys(Ee),le});var de=O.values?le.result.map(w):le.result;(O.values?K:V).addKeys(de)}else if(P==="openCursor"){var ae=le,he=O.values;return ae&&Object.create(ae,{key:{get:function(){return V.addKey(ae.primaryKey),ae.key}},primaryKey:{get:function(){var Ee=ae.primaryKey;return V.addKey(Ee),Ee}},value:{get:function(){return he&&K.addKey(ae.primaryKey),ae.value}}})}return le})}V.add(a)}}return f[P].apply(this,arguments)}}),L}})}};function Id(s,l,a){if(a.numFailures===0)return l;if(l.type==="deleteRange")return null;var d=l.keys?l.keys.length:"values"in l&&l.values?l.values.length:1;return a.numFailures===d?null:(l=r({},l),h(l.keys)&&(l.keys=l.keys.filter(function(f,m){return!(m in a.failures)})),"values"in l&&h(l.values)&&(l.values=l.values.filter(function(f,m){return!(m in a.failures)})),l)}function ka(s,l){return a=s,((d=l).lower===void 0||(d.lowerOpen?0<Le(a,d.lower):0<=Le(a,d.lower)))&&(s=s,(l=l).upper===void 0||(l.upperOpen?Le(s,l.upper)<0:Le(s,l.upper)<=0));var a,d}function Fd(s,l,F,d,f,m){if(!F||F.length===0)return s;var y=l.query.index,w=y.multiEntry,C=l.query.range,E=d.schema.primaryKey.extractKey,L=y.extractKey,j=(y.lowLevelIndex||y).extractKey,F=F.reduce(function(P,O){var R=P,I=[];if(O.type==="add"||O.type==="put")for(var M=new wt,z=O.values.length-1;0<=z;--z){var K,V=O.values[z],ie=E(V);M.hasKey(ie)||(K=L(V),(w&&h(K)?K.some(function(ae){return ka(ae,C)}):ka(K,C))&&(M.addKey(ie),I.push(V)))}switch(O.type){case"add":var ce=new wt().addKeys(l.values?P.map(function(he){return E(he)}):P),R=P.concat(l.values?I.filter(function(he){return he=E(he),!ce.hasKey(he)&&(ce.addKey(he),!0)}):I.map(function(he){return E(he)}).filter(function(he){return!ce.hasKey(he)&&(ce.addKey(he),!0)}));break;case"put":var ee=new wt().addKeys(O.values.map(function(he){return E(he)}));R=P.filter(function(he){return!ee.hasKey(l.values?E(he):he)}).concat(l.values?I:I.map(function(he){return E(he)}));break;case"delete":var le=new wt().addKeys(O.keys);R=P.filter(function(he){return!le.hasKey(l.values?E(he):he)});break;case"deleteRange":var de=O.range;R=P.filter(function(he){return!ka(E(he),de)})}return R},s);return F===s?s:(F.sort(function(P,O){return Le(j(P),j(O))||Le(E(P),E(O))}),l.limit&&l.limit<1/0&&(F.length>l.limit?F.length=l.limit:s.length===l.limit&&F.length<l.limit&&(f.dirty=!0)),m?Object.freeze(F):F)}function Md(s,l){return Le(s.lower,l.lower)===0&&Le(s.upper,l.upper)===0&&!!s.lowerOpen==!!l.lowerOpen&&!!s.upperOpen==!!l.upperOpen}function Py(s,l){return function(a,d,f,m){if(a===void 0)return d!==void 0?-1:0;if(d===void 0)return 1;if((d=Le(a,d))===0){if(f&&m)return 0;if(f)return 1;if(m)return-1}return d}(s.lower,l.lower,s.lowerOpen,l.lowerOpen)<=0&&0<=function(a,d,f,m){if(a===void 0)return d!==void 0?1:0;if(d===void 0)return-1;if((d=Le(a,d))===0){if(f&&m)return 0;if(f)return-1;if(m)return 1}return d}(s.upper,l.upper,s.upperOpen,l.upperOpen)}function Ty(s,l,a,d){s.subscribers.add(a),d.addEventListener("abort",function(){var f,m;s.subscribers.delete(a),s.subscribers.size===0&&(f=s,m=l,setTimeout(function(){f.subscribers.size===0&&H(m,f)},3e3))})}var Oy={stack:"dbcore",level:0,name:"Cache",create:function(s){var l=s.schema.name;return r(r({},s),{transaction:function(a,d,f){var m,y,w=s.transaction(a,d,f);return d==="readwrite"&&(y=(m=new AbortController).signal,f=function(C){return function(){if(m.abort(),d==="readwrite"){for(var E=new Set,L=0,j=a;L<j.length;L++){var F=j[L],P=Or["idb://".concat(l,"/").concat(F)];if(P){var O=s.table(F),R=P.optimisticOps.filter(function(he){return he.trans===w});if(w._explicit&&C&&w.mutatedParts)for(var I=0,M=Object.values(P.queries.query);I<M.length;I++)for(var z=0,K=(ce=M[I]).slice();z<K.length;z++)ya((ee=K[z]).obsSet,w.mutatedParts)&&(H(ce,ee),ee.subscribers.forEach(function(he){return E.add(he)}));else if(0<R.length){P.optimisticOps=P.optimisticOps.filter(function(he){return he.trans!==w});for(var V=0,ie=Object.values(P.queries.query);V<ie.length;V++)for(var ce,ee,le,de=0,ae=(ce=ie[V]).slice();de<ae.length;de++)(ee=ae[de]).res!=null&&w.mutatedParts&&(C&&!ee.dirty?(le=Object.isFrozen(ee.res),le=Fd(ee.res,ee.req,R,O,ee,le),ee.dirty?(H(ce,ee),ee.subscribers.forEach(function(he){return E.add(he)})):le!==ee.res&&(ee.res=le,ee.promise=fe.resolve({result:le}))):(ee.dirty&&H(ce,ee),ee.subscribers.forEach(function(he){return E.add(he)})))}}}E.forEach(function(he){return he()})}}},w.addEventListener("abort",f(!1),{signal:y}),w.addEventListener("error",f(!1),{signal:y}),w.addEventListener("complete",f(!0),{signal:y})),w},table:function(a){var d=s.table(a),f=d.schema.primaryKey;return r(r({},d),{mutate:function(m){var y=me.trans;if(f.outbound||y.db._options.cache==="disabled"||y.explicit||y.idbtrans.mode!=="readwrite")return d.mutate(m);var w=Or["idb://".concat(l,"/").concat(a)];return w?(y=d.mutate(m),m.type!=="add"&&m.type!=="put"||!(50<=m.values.length||Sa(f,m).some(function(C){return C==null}))?(w.optimisticOps.push(m),m.mutatedParts&&yo(m.mutatedParts),y.then(function(C){0<C.numFailures&&(H(w.optimisticOps,m),(C=Id(0,m,C))&&w.optimisticOps.push(C),m.mutatedParts&&yo(m.mutatedParts))}),y.catch(function(){H(w.optimisticOps,m),m.mutatedParts&&yo(m.mutatedParts)})):y.then(function(C){var E=Id(0,r(r({},m),{values:m.values.map(function(L,j){var F;return C.failures[j]?L:(L=(F=f.keyPath)!==null&&F!==void 0&&F.includes(".")?se(L):r({},L),X(L,f.keyPath,C.results[j]),L)})}),C);w.optimisticOps.push(E),queueMicrotask(function(){return m.mutatedParts&&yo(m.mutatedParts)})}),y):d.mutate(m)},query:function(m){if(!Rd(me,d)||!Ld("query",m))return d.query(m);var y=((E=me.trans)===null||E===void 0?void 0:E.db._options.cache)==="immutable",j=me,w=j.requery,C=j.signal,E=function(O,R,I,M){var z=Or["idb://".concat(O,"/").concat(R)];if(!z)return[];if(!(R=z.queries[I]))return[null,!1,z,null];var K=R[(M.query?M.query.index.name:null)||""];if(!K)return[null,!1,z,null];switch(I){case"query":var V=K.find(function(ie){return ie.req.limit===M.limit&&ie.req.values===M.values&&Md(ie.req.query.range,M.query.range)});return V?[V,!0,z,K]:[K.find(function(ie){return("limit"in ie.req?ie.req.limit:1/0)>=M.limit&&(!M.values||ie.req.values)&&Py(ie.req.query.range,M.query.range)}),!1,z,K];case"count":return V=K.find(function(ie){return Md(ie.req.query.range,M.query.range)}),[V,!!V,z,K]}}(l,a,"query",m),L=E[0],j=E[1],F=E[2],P=E[3];return L&&j?L.obsSet=m.obsSet:(j=d.query(m).then(function(O){var R=O.result;if(L&&(L.res=R),y){for(var I=0,M=R.length;I<M;++I)Object.freeze(R[I]);Object.freeze(R)}else O.result=se(R);return O}).catch(function(O){return P&&L&&H(P,L),Promise.reject(O)}),L={obsSet:m.obsSet,promise:j,subscribers:new Set,type:"query",req:m,dirty:!1},P?P.push(L):(P=[L],(F=F||(Or["idb://".concat(l,"/").concat(a)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[m.query.index.name||""]=P)),Ty(L,P,w,C),L.promise.then(function(O){return{result:Fd(O.result,m,F==null?void 0:F.optimisticOps,d,L,y)}})}})}})}};function go(s,l){return new Proxy(s,{get:function(a,d,f){return d==="db"?l:Reflect.get(a,d,f)}})}var On=(nt.prototype.version=function(s){if(isNaN(s)||s<.1)throw new D.Type("Given version is not a positive number");if(s=Math.round(10*s)/10,this.idbdb||this._state.isBeingOpened)throw new D.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,s);var l=this._versions,a=l.filter(function(d){return d._cfg.version===s})[0];return a||(a=new this.Version(s),l.push(a),l.sort(wy),a.stores({}),this._state.autoSchema=!1,a)},nt.prototype._whenReady=function(s){var l=this;return this.idbdb&&(this._state.openComplete||me.letThrough||this._vip)?s():new fe(function(a,d){if(l._state.openComplete)return d(new D.DatabaseClosed(l._state.dbOpenError));if(!l._state.isBeingOpened){if(!l._state.autoOpen)return void d(new D.DatabaseClosed);l.open().catch(xe)}l._state.dbReadyPromise.then(a,d)}).then(s)},nt.prototype.use=function(s){var l=s.stack,a=s.create,d=s.level,f=s.name;return f&&this.unuse({stack:l,name:f}),s=this._middlewares[l]||(this._middlewares[l]=[]),s.push({stack:l,create:a,level:d??10,name:f}),s.sort(function(m,y){return m.level-y.level}),this},nt.prototype.unuse=function(s){var l=s.stack,a=s.name,d=s.create;return l&&this._middlewares[l]&&(this._middlewares[l]=this._middlewares[l].filter(function(f){return d?f.create!==d:!!a&&f.name!==a})),this},nt.prototype.open=function(){var s=this;return _r(Xt,function(){return jy(s)})},nt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var s=this._state,l=si.indexOf(this);if(0<=l&&si.splice(l,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}s.isBeingOpened||(s.dbReadyPromise=new fe(function(a){s.dbReadyResolve=a}),s.openCanceller=new fe(function(a,d){s.cancelOpen=d}))},nt.prototype.close=function(a){var l=(a===void 0?{disableAutoOpen:!0}:a).disableAutoOpen,a=this._state;l?(a.isBeingOpened&&a.cancelOpen(new D.DatabaseClosed),this._close(),a.autoOpen=!1,a.dbOpenError=new D.DatabaseClosed):(this._close(),a.autoOpen=this._options.autoOpen||a.isBeingOpened,a.openComplete=!1,a.dbOpenError=null)},nt.prototype.delete=function(s){var l=this;s===void 0&&(s={disableAutoOpen:!0});var a=0<arguments.length&&typeof arguments[0]!="object",d=this._state;return new fe(function(f,m){function y(){l.close(s);var w=l._deps.indexedDB.deleteDatabase(l.name);w.onsuccess=De(function(){var C,E,L;C=l._deps,E=l.name,L=C.indexedDB,C=C.IDBKeyRange,ha(L)||E===no||fa(L,C).delete(E).catch(xe),f()}),w.onerror=yn(m),w.onblocked=l._fireOnBlocked}if(a)throw new D.InvalidArgument("Invalid closeOptions argument to db.delete()");d.isBeingOpened?d.dbReadyPromise.then(y):y()})},nt.prototype.backendDB=function(){return this.idbdb},nt.prototype.isOpen=function(){return this.idbdb!==null},nt.prototype.hasBeenClosed=function(){var s=this._state.dbOpenError;return s&&s.name==="DatabaseClosed"},nt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},nt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(nt.prototype,"tables",{get:function(){var s=this;return c(this._allTables).map(function(l){return s._allTables[l]})},enumerable:!1,configurable:!0}),nt.prototype.transaction=function(){var s=(function(l,a,d){var f=arguments.length;if(f<2)throw new D.InvalidArgument("Too few arguments");for(var m=new Array(f-1);--f;)m[f-1]=arguments[f];return d=m.pop(),[l,ye(m),d]}).apply(this,arguments);return this._transaction.apply(this,s)},nt.prototype._transaction=function(s,l,a){var d=this,f=me.trans;f&&f.db===this&&s.indexOf("!")===-1||(f=null);var m,y,w=s.indexOf("?")!==-1;s=s.replace("!","").replace("?","");try{if(y=l.map(function(E){if(E=E instanceof d.Table?E.name:E,typeof E!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return E}),s=="r"||s===ta)m=ta;else{if(s!="rw"&&s!=na)throw new D.InvalidArgument("Invalid transaction mode: "+s);m=na}if(f){if(f.mode===ta&&m===na){if(!w)throw new D.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");f=null}f&&y.forEach(function(E){if(f&&f.storeNames.indexOf(E)===-1){if(!w)throw new D.SubTransaction("Table "+E+" not included in parent transaction.");f=null}}),w&&f&&!f.active&&(f=null)}}catch(E){return f?f._promise(null,function(L,j){j(E)}):tt(E)}var C=(function E(L,j,F,P,O){return fe.resolve().then(function(){var R=me.transless||me,I=L._createTransaction(j,F,L._dbSchema,P);if(I.explicit=!0,R={trans:I,transless:R},P)I.idbtrans=P.idbtrans;else try{I.create(),I.idbtrans._explicit=!0,L._state.PR1398_maxLoop=3}catch(K){return K.name===Lt.InvalidState&&L.isOpen()&&0<--L._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),L.close({disableAutoOpen:!1}),L.open().then(function(){return E(L,j,F,null,O)})):tt(K)}var M,z=we(O);return z&&ue(),R=fe.follow(function(){var K;(M=O.call(I,I))&&(z?(K=W.bind(null,null),M.then(K,K)):typeof M.next=="function"&&typeof M.throw=="function"&&(M=wa(M)))},R),(M&&typeof M.then=="function"?fe.resolve(M).then(function(K){return I.active?K:tt(new D.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):R.then(function(){return M})).then(function(K){return P&&I._resolve(),I._completion.then(function(){return K})}).catch(function(K){return I._reject(K),tt(K)})})}).bind(null,this,m,y,f,a);return f?f._promise(m,C,"lock"):me.trans?_r(me.transless,function(){return d._whenReady(C)}):this._whenReady(C)},nt.prototype.table=function(s){if(!b(this._allTables,s))throw new D.InvalidTable("Table ".concat(s," does not exist"));return this._allTables[s]},nt);function nt(s,l){var a=this;this._middlewares={},this.verno=0;var d=nt.dependencies;this._options=l=r({addons:nt.addons,autoOpen:!0,indexedDB:d.indexedDB,IDBKeyRange:d.IDBKeyRange,cache:"cloned"},l),this._deps={indexedDB:l.indexedDB,IDBKeyRange:l.IDBKeyRange},d=l.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var f,m,y,w,C,E={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:xe,dbReadyPromise:null,cancelOpen:xe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:l.autoOpen};E.dbReadyPromise=new fe(function(j){E.dbReadyResolve=j}),E.openCanceller=new fe(function(j,F){E.cancelOpen=F}),this._state=E,this.name=s,this.on=Xi(this,"populate","blocked","versionchange","close",{ready:[ti,xe]}),this.once=function(j,F){var P=function(){for(var O=[],R=0;R<arguments.length;R++)O[R]=arguments[R];a.on(j).unsubscribe(P),F.apply(a,O)};return a.on(j,P)},this.on.ready.subscribe=k(this.on.ready.subscribe,function(j){return function(F,P){nt.vip(function(){var O,R=a._state;R.openComplete?(R.dbOpenError||fe.resolve().then(F),P&&j(F)):R.onReadyBeingFired?(R.onReadyBeingFired.push(F),P&&j(F)):(j(F),O=a,P||j(function I(){O.on.ready.unsubscribe(F),O.on.ready.unsubscribe(I)}))})}}),this.Collection=(f=this,Ji(hy.prototype,function(M,I){this.db=f;var P=dd,O=null;if(I)try{P=I()}catch(z){O=z}var R=M._ctx,I=R.table,M=I.hook.reading.fire;this._ctx={table:I,index:R.index,isPrimKey:!R.index||I.schema.primKey.keyPath&&R.index===I.schema.primKey.name,range:P,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:O,or:R.or,valueMapper:M!==ze?M:null}})),this.Table=(m=this,Ji(vd.prototype,function(j,F,P){this.db=m,this._tx=P,this.name=j,this.schema=F,this.hook=m._allTables[j]?m._allTables[j].hook:Xi(null,{creating:[hn,xe],reading:[it,ze],updating:[Wn,xe],deleting:[Dt,xe]})})),this.Transaction=(y=this,Ji(yy.prototype,function(j,F,P,O,R){var I=this;j!=="readonly"&&F.forEach(function(M){M=(M=P[M])===null||M===void 0?void 0:M.yProps,M&&(F=F.concat(M.map(function(z){return z.updatesTable})))}),this.db=y,this.mode=j,this.storeNames=F,this.schema=P,this.chromeTransactionDurability=O,this.idbtrans=null,this.on=Xi(this,"complete","error","abort"),this.parent=R||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new fe(function(M,z){I._resolve=M,I._reject=z}),this._completion.then(function(){I.active=!1,I.on.complete.fire()},function(M){var z=I.active;return I.active=!1,I.on.error.fire(M),I.parent?I.parent._reject(M):z&&I.idbtrans&&I.idbtrans.abort(),tt(M)})})),this.Version=(w=this,Ji(ky.prototype,function(j){this.db=w,this._cfg={version:j,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(C=this,Ji(Sd.prototype,function(j,F,P){if(this.db=C,this._ctx={table:j,index:F===":id"?null:F,or:P},this._cmp=this._ascending=Le,this._descending=function(O,R){return Le(R,O)},this._max=function(O,R){return 0<Le(O,R)?O:R},this._min=function(O,R){return Le(O,R)<0?O:R},this._IDBKeyRange=C._deps.IDBKeyRange,!this._IDBKeyRange)throw new D.MissingAPI})),this.on("versionchange",function(j){0<j.newVersion?console.warn("Another connection wants to upgrade database '".concat(a.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(a.name,"'. Closing db now to resume the delete request.")),a.close({disableAutoOpen:!1})}),this.on("blocked",function(j){!j.newVersion||j.newVersion<j.oldVersion?console.warn("Dexie.delete('".concat(a.name,"') was blocked")):console.warn("Upgrade '".concat(a.name,"' blocked by other connection holding version ").concat(j.oldVersion/10))}),this._maxKey=ts(l.IDBKeyRange),this._createTransaction=function(j,F,P,O){return new a.Transaction(j,F,P,a._options.chromeTransactionDurability,O)},this._fireOnBlocked=function(j){a.on("blocked").fire(j),si.filter(function(F){return F.name===a.name&&F!==a&&!F._state.vcFired}).map(function(F){return F.on("versionchange").fire(j)})},this.use(Ey),this.use(Oy),this.use(_y),this.use(Ny),this.use(Cy);var L=new Proxy(this,{get:function(j,F,P){if(F==="_vip")return!0;if(F==="table")return function(R){return go(a.table(R),L)};var O=Reflect.get(j,F,P);return O instanceof vd?go(O,L):F==="tables"?O.map(function(R){return go(R,L)}):F==="_createTransaction"?function(){return go(O.apply(this,arguments),L)}:O}});this.vip=L,d.forEach(function(j){return j(a)})}var xo,Jt=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Ry=(ja.prototype.subscribe=function(s,l,a){return this._subscribe(s&&typeof s!="function"?s:{next:s,error:l,complete:a})},ja.prototype[Jt]=function(){return this},ja);function ja(s){this._subscribe=s}try{xo={indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch{xo={indexedDB:null,IDBKeyRange:null}}function zd(s){var l,a=!1,d=new Ry(function(f){var m=we(s),y,w=!1,C={},E={},L={get closed(){return w},unsubscribe:function(){w||(w=!0,y&&y.abort(),j&&Gn.storagemutated.unsubscribe(P))}};f.start&&f.start(L);var j=!1,F=function(){return ea(O)},P=function(R){mo(C,R),ya(E,C)&&F()},O=function(){var R,I,M;!w&&xo.indexedDB&&(C={},R={},y&&y.abort(),y=new AbortController,M=function(z){var K=qn();try{m&&ue();var V=T(s,z);return V=m?V.finally(W):V}finally{K&&_n()}}(I={subscr:R,signal:y.signal,requery:F,querier:s,trans:null}),Promise.resolve(M).then(function(z){a=!0,l=z,w||I.signal.aborted||(C={},function(K){for(var V in K)if(b(K,V))return;return 1}(E=R)||j||(Gn(es,P),j=!0),ea(function(){return!w&&f.next&&f.next(z)}))},function(z){a=!1,["DatabaseClosedError","AbortError"].includes(z==null?void 0:z.name)||w||ea(function(){w||f.error&&f.error(z)})}))};return setTimeout(F,0),L});return d.hasValue=function(){return a},d.getValue=function(){return l},d}var Rr=On;function Na(s){var l=Xn;try{Xn=!0,Gn.storagemutated.fire(s),xa(s,!0)}finally{Xn=l}}_(Rr,r(r({},ge),{delete:function(s){return new Rr(s,{addons:[]}).delete()},exists:function(s){return new Rr(s,{addons:[]}).open().then(function(l){return l.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(s){try{return l=Rr.dependencies,a=l.indexedDB,l=l.IDBKeyRange,(ha(a)?Promise.resolve(a.databases()).then(function(d){return d.map(function(f){return f.name}).filter(function(f){return f!==no})}):fa(a,l).toCollection().primaryKeys()).then(s)}catch{return tt(new D.MissingAPI)}var l,a},defineClass:function(){return function(s){p(this,s)}},ignoreTransaction:function(s){return me.trans?_r(me.transless,s):s()},vip:pa,async:function(s){return function(){try{var l=wa(s.apply(this,arguments));return l&&typeof l.then=="function"?l:fe.resolve(l)}catch(a){return tt(a)}}},spawn:function(s,l,a){try{var d=wa(s.apply(a,l||[]));return d&&typeof d.then=="function"?d:fe.resolve(d)}catch(f){return tt(f)}},currentTransaction:{get:function(){return me.trans||null}},waitFor:function(s,l){return l=fe.resolve(typeof s=="function"?Rr.ignoreTransaction(s):s).timeout(l||6e4),me.trans?me.trans.waitFor(l):l},Promise:fe,debug:{get:function(){return $t},set:function(s){kr(s)}},derive:B,extend:p,props:_,override:k,Events:Xi,on:Gn,liveQuery:zd,extendObservabilitySet:mo,getByKeyPath:Q,setByKeyPath:X,delByKeyPath:function(s,l){typeof l=="string"?X(s,l,void 0):"length"in l&&[].map.call(l,function(a){X(s,a,void 0)})},shallowClone:ne,deepClone:se,getObjectDiff:ba,cmp:Le,asap:J,minKey:-1/0,addons:[],connections:si,errnames:Lt,dependencies:xo,cache:Or,semVer:"4.2.1",version:"4.2.1".split(".").map(function(s){return parseInt(s)}).reduce(function(s,l,a){return s+l/Math.pow(10,2*a)})})),Rr.maxKey=ts(Rr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Gn(es,function(s){Xn||(s=new CustomEvent(sa,{detail:s}),Xn=!0,dispatchEvent(s),Xn=!1)}),addEventListener(sa,function(s){s=s.detail,Xn||Na(s)}));var ui,Xn=!1,Ad=function(){};return typeof BroadcastChannel<"u"&&((Ad=function(){(ui=new BroadcastChannel(sa)).onmessage=function(s){return s.data&&Na(s.data)}})(),typeof ui.unref=="function"&&ui.unref(),Gn(es,function(s){Xn||ui.postMessage(s)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(s){if(!On.disableBfCache&&s.persisted){$t&&console.debug("Dexie: handling persisted pagehide"),ui!=null&&ui.close();for(var l=0,a=si;l<a.length;l++)a[l].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(s){!On.disableBfCache&&s.persisted&&($t&&console.debug("Dexie: handling persisted pageshow"),Ad(),Na({all:new wt(-1/0,[[]])}))})),fe.rejectionMapper=function(s,l){return!s||s instanceof He||s instanceof TypeError||s instanceof SyntaxError||!s.name||!_e[s.name]?s:(l=new _e[s.name](l||s.message,s),"stack"in s&&A(l,"stack",{get:function(){return this.inner.stack}}),l)},kr($t),r(On,Object.freeze({__proto__:null,Dexie:On,liveQuery:zd,Entity:fd,cmp:Le,PropModification:Gi,replacePrefix:function(s,l){return new Gi({replacePrefix:[s,l]})},add:function(s){return new Gi({add:s})},remove:function(s){return new Gi({remove:s})},default:On,RangeSet:wt,mergeRanges:is,rangesOverlap:Ed}),{default:On}),On})})(ny);var Y0=ny.exports;const oc=fc(Y0),ah=Symbol.for("Dexie"),Pl=globalThis[ah]||(globalThis[ah]=oc);if(oc.semVer!==Pl.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${oc.semVer} and ${Pl.semVer}`);const{liveQuery:Yw,mergeRanges:Gw,rangesOverlap:Xw,RangeSet:Jw,cmp:Zw,Entity:eb,PropModification:tb,replacePrefix:nb,add:rb,remove:ib,DexieYProvider:sb}=Pl;class G0 extends Pl{constructor(){super("subtitle-learner");ci(this,"words");ci(this,"subtitleFiles");ci(this,"subtitleCues");ci(this,"prefs");ci(this,"sessions");this.version(1).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt"}),this.version(2).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt",subtitleCues:"&id, fileHash, index",sessions:"&id, updatedAt"}),this.version(3).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt",subtitleCues:"&id, fileHash, index",sessions:"&id, updatedAt"}),this.version(3).upgrade(n=>n.table("words").toArray().then(r=>{const i=r.map(o=>({id:o.id,original:o.original,originalSentence:o.originalSentence,normalized:o.normalized,stem:o.stem,createdAt:o.createdAt,updatedAt:o.updatedAt}));return n.table("words").clear().then(()=>n.table("words").bulkPut(i))})),this.version(4).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt",subtitleCues:"&id, fileHash, index",sessions:"&id, updatedAt"}),this.version(4).upgrade(n=>n.table("words").toArray().then(r=>{const i=r.map(o=>({id:o.id,original:o.original,originalSentence:o.originalSentence,normalized:o.normalized,stem:o.stem,createdAt:o.createdAt,updatedAt:o.updatedAt}));return n.table("words").clear().then(()=>n.table("words").bulkPut(i))}))}}const ke=new G0;async function X0(){return ke.words.toArray()}async function tu(e){await ke.words.put(e)}async function J0(e){await ke.words.delete(e)}async function nu(e){await ke.transaction("rw",ke.words,async()=>{await ke.words.clear(),e.length>0&&await ke.words.bulkPut(e)})}function fi(e){return[...e].sort((t,n)=>n.updatedAt-t.updatedAt)}function Z0(e){if(typeof e=="string"){const[t]=zn(e);return t}return e}function uh(e){let t=!1;return{next:e.map(r=>{const i=ad(r.normalized);return i===r.stem?r:(t=!0,{...r,stem:i})}),changed:t}}const vt=ty((e,t)=>({words:[],initialized:!1,initialize:async()=>{if(t().initialized)return;const n=await X0(),{next:r,changed:i}=uh(n),o=fi(r);e({words:o,initialized:!0}),i&&await nu(o)},addUnknownWordFromToken:async(n,r)=>{const i=Z0(n);if(!i||!i.isWord)return;const o=t().words.find(p=>p.normalized===i.normalized||p.stem===i.stem),c=Date.now();if(o){const p={...o,updatedAt:c,original:o.original||i.text,originalSentence:r??o.originalSentence};e(v=>({words:fi(v.words.map(S=>S.id===o.id?p:S))})),await tu(p);return}const h={id:sc(),original:i.text,originalSentence:r,normalized:i.normalized,stem:i.stem,createdAt:c,updatedAt:c};e(p=>({words:fi([...p.words,h])})),await tu(h)},updateWord:async(n,r)=>{const i=t().words.find(c=>c.id===n);if(!i)return;const o={...i,...r,updatedAt:Date.now()};e(c=>({words:fi(c.words.map(h=>h.id===n?o:h))})),await tu(o)},removeWord:async n=>{e(r=>({words:r.words.filter(i=>i.id!==n)})),await J0(n)},importWords:async n=>{const r=Date.now(),i=h=>`${h.normalized}::${h.stem}`,o=new Map;for(const h of t().words)o.set(i(h),h);for(const h of n){if(!h.normalized)continue;const p=h.normalized,v=h.stem??ad(p),S=`${p}::${v}`,b=o.get(S);o.set(S,{id:h.id??(b==null?void 0:b.id)??sc(),original:h.original??(b==null?void 0:b.original)??p,originalSentence:h.originalSentence??(b==null?void 0:b.originalSentence),normalized:p,stem:v,createdAt:h.createdAt??(b==null?void 0:b.createdAt)??r,updatedAt:h.updatedAt??r})}const c=fi(Array.from(o.values()));e({words:c,initialized:!0}),await nu(c)},reanalyzeStems:async()=>{const{next:n,changed:r}=uh(t().words);if(!r)return;const i=fi(n);e({words:i}),await nu(i)},classForToken:n=>{const r=new Set(t().words.map(o=>o.normalized)),i=new Set(t().words.map(o=>o.stem));return r.has(n.normalized)?"hl-exact text-white":i.has(n.stem)?"hl-variant text-white":"bg-transparent"}})),ry="prefs";async function ew(){const e=await ke.prefs.get(ry);return e==null?void 0:e.value}async function Ao(e){await ke.prefs.put({id:ry,value:e,updatedAt:Date.now()})}const ch={subtitleStyle:{fontFamily:"Inter",fontSizePx:42,secondaryFontSizePx:36,useMainForSecondaryFontSize:!0,fontWeight:600,color:"#ffffff",outline:!0,shadow:!0,bgColor:"rgba(0, 0, 0, 0.35)",lineHeight:1.35},highlightColors:{exact:"#10b981",variant:"#f97316"},mediaLibrary:void 0},st=ty((e,t)=>({prefs:ch,initialized:!1,initialize:async()=>{if(t().initialized)return;const n=await ew();e({prefs:n??ch,initialized:!0})},updateSubtitleStyle:async n=>{const r={...t().prefs,subtitleStyle:{...t().prefs.subtitleStyle,...n}};e({prefs:r}),await Ao(r)},updateHighlightColors:async n=>{const r={...t().prefs,highlightColors:{...t().prefs.highlightColors,...n}};e({prefs:r}),await Ao(r)},setLastOpened:async n=>{const r={...t().prefs,lastOpened:n};e({prefs:r}),await Ao(r)},setMediaLibrary:async n=>{const r={...t().prefs,mediaLibrary:n};e({prefs:r}),await Ao(r)}})),tw=/(\d{2}:\d{2}:\d{2},\d{3}) --> (\d{2}:\d{2}:\d{2},\d{3})/,lc="",ac="";function dh(e){const[t,n,r]=e.split(":"),[i,o]=r.split(",");return Number(t)*3600*1e3+Number(n)*60*1e3+Number(i)*1e3+Number(o)}function nw(e){return e.replace(/<i>/gi,lc).replace(/<\/i>/gi,ac).replace(/<[^>]+>/g,"").replace(/\s+/g," ").trim()}function vs(e){return e.split(/\r?\n\r?\n/).filter(Boolean).map((t,n)=>{const[r,i,...o]=t.split(/\r?\n/),c=i==null?void 0:i.match(tw),h=(c==null?void 0:c[1])??"00:00:00,000",p=(c==null?void 0:c[2])??"00:00:00,000",v=nw(o.join(`
`));return{index:Number.parseInt(r??String(n),10),startMs:dh(h),endMs:dh(p),rawText:v}}).filter(t=>t.rawText.length>0)}const rw=/^[\)\]\}.,!?;:%]+$/u,iw=/^[\(\[\{]+$/u;function Tl(e){return e.isWord||/^\d+$/.test(e.text)}function iy(e){return!e.isWord&&rw.test(e.text)}function sy(e){return!e.isWord&&iw.test(e.text)}function oy(e,t){if(!e||iy(t)||sy(e))return!1;const n=Tl(e),r=Tl(t);return!!(n&&r||n&&!r||!n&&r)}function sw(e){const t=new RegExp(`(${lc}|${ac})`,"g"),n=e.split(t).filter(o=>o.length>0);let r=!1;const i=[];for(const o of n){if(o===lc){r=!0;continue}if(o===ac){r=!1;continue}const c=zn(o);i.push(...c.map(h=>({token:h,italic:r})))}return i}function ow(e){const t=[];let n="",r=!1;if(e.forEach((i,o)=>{const c=e[o+1];if(!i.token.isWord&&sy(i.token)&&c&&Tl(c.token)){n+=i.token.text,r=r||i.italic;return}if(!i.token.isWord&&iy(i.token)&&t.length>0){const v=t[t.length-1];v.text+=i.token.text,v.italic=v.italic||i.italic;return}const h=`${n}${i.token.text}`,p=r||i.italic;n="",r=!1,h.trim().length!==0&&t.push({token:i.token,text:h,italic:p})}),n.trim().length>0){const i=n.trim();t.push({token:{text:i,normalized:i,stem:i,isWord:!1},text:i,italic:r})}return t}const lw=["INPUT","TEXTAREA","SELECT"];function aw(e){return typeof HTMLElement>"u"||!(e instanceof HTMLElement)?!1:e.isContentEditable?!0:lw.includes(e.tagName)}function Fr(e){e.preventDefault(),e.stopPropagation(),typeof e.stopImmediatePropagation=="function"&&e.stopImmediatePropagation()}function Mr(e,t,n){return t.includes(e.code)||n.includes(e.key)}function uw(e,t){const{video:n,seekBy:r,toggleFullscreen:i,toggleMute:o,togglePlayback:c,toggleSecondarySubtitle:h}=t;return!n||aw(e.target)||e.altKey||e.ctrlKey||e.metaKey?!1:Mr(e,["Space"],[" ","Spacebar"])||Mr(e,["KeyK"],["k","K"])?(Fr(e),c(),!0):Mr(e,["ArrowLeft"],["ArrowLeft"])?(Fr(e),r(-5),!0):Mr(e,["ArrowRight"],["ArrowRight"])?(Fr(e),r(5),!0):Mr(e,["KeyF"],["f","F"])?(Fr(e),i(),!0):Mr(e,["KeyM"],["m","M"])?(Fr(e),o(),!0):Mr(e,["KeyH"],["h","H"])?(Fr(e),h(),!0):!1}function Do(e){const t=Math.max(0,Math.floor(e/1e3)),n=Math.floor(t/60).toString().padStart(2,"0"),r=(t%60).toString().padStart(2,"0");return`${n}:${r}`}async function uc(e,t="SHA-256"){const n=await e.arrayBuffer(),r=await crypto.subtle.digest(t,n);return Array.from(new Uint8Array(r)).map(o=>o.toString(16).padStart(2,"0")).join("")}function cw(e){const{index:t,startMs:n,endMs:r,rawText:i,tokens:o}=e;return{index:t,startMs:n,endMs:r,rawText:i,tokens:o}}function dw(e,t){return{id:`${e}:${t.index}`,fileHash:e,index:t.index,startMs:t.startMs,endMs:t.endMs,rawText:t.rawText,tokens:t.tokens??[]}}async function Wr(e){const t=await ke.subtitleCues.where("fileHash").equals(e).sortBy("index");if(t.length!==0)return t.map(cw)}async function cc(e,t){await ke.transaction("rw",ke.subtitleCues,async()=>{await ke.subtitleCues.where("fileHash").equals(e).delete(),t.length>0&&await ke.subtitleCues.bulkPut(t.map(n=>dw(e,n)))})}async function fw(e){await ke.subtitleCues.where("fileHash").equals(e).delete()}async function $r(e){const t=await ke.subtitleFiles.where("bytesHash").equals(e.bytesHash).first(),n=t?{...t,...e,addedAt:e.addedAt??Date.now()}:{id:sc(),name:e.name,bytesHash:e.bytesHash,totalCues:e.totalCues,language:e.language,addedAt:e.addedAt??Date.now()};return await ke.subtitleFiles.put(n),n}async function ly(){return ke.subtitleFiles.orderBy("addedAt").reverse().toArray()}async function hw(e){await ke.transaction("rw",ke.subtitleFiles,ke.subtitleCues,async()=>{const t=await ke.subtitleFiles.get(e);t&&(await ke.subtitleFiles.delete(e),await fw(t.bytesHash))})}const ay="last-session";async function uy(){return ke.sessions.get(ay)}async function hi(e){const t=await uy(),n={id:ay,updatedAt:Date.now(),videoName:t==null?void 0:t.videoName,videoBlob:t==null?void 0:t.videoBlob,subtitleName:t==null?void 0:t.subtitleName,subtitleText:t==null?void 0:t.subtitleText,subtitleHash:t==null?void 0:t.subtitleHash,videoTimeSeconds:t==null?void 0:t.videoTimeSeconds,secondarySubtitleName:t==null?void 0:t.secondarySubtitleName,secondarySubtitleText:t==null?void 0:t.secondarySubtitleText,secondarySubtitleHash:t==null?void 0:t.secondarySubtitleHash,secondarySubtitleEnabled:t==null?void 0:t.secondarySubtitleEnabled,secondarySubtitleOffsetMs:t==null?void 0:t.secondarySubtitleOffsetMs};Object.prototype.hasOwnProperty.call(e,"videoName")&&(n.videoName=e.videoName),Object.prototype.hasOwnProperty.call(e,"videoBlob")&&(n.videoBlob=e.videoBlob),Object.prototype.hasOwnProperty.call(e,"subtitleName")&&(n.subtitleName=e.subtitleName),Object.prototype.hasOwnProperty.call(e,"subtitleText")&&(n.subtitleText=e.subtitleText),Object.prototype.hasOwnProperty.call(e,"subtitleHash")&&(n.subtitleHash=e.subtitleHash),Object.prototype.hasOwnProperty.call(e,"videoTimeSeconds")&&(n.videoTimeSeconds=e.videoTimeSeconds),Object.prototype.hasOwnProperty.call(e,"secondarySubtitleName")&&(n.secondarySubtitleName=e.secondarySubtitleName),Object.prototype.hasOwnProperty.call(e,"secondarySubtitleText")&&(n.secondarySubtitleText=e.secondarySubtitleText),Object.prototype.hasOwnProperty.call(e,"secondarySubtitleHash")&&(n.secondarySubtitleHash=e.secondarySubtitleHash),Object.prototype.hasOwnProperty.call(e,"secondarySubtitleEnabled")&&(n.secondarySubtitleEnabled=e.secondarySubtitleEnabled),Object.prototype.hasOwnProperty.call(e,"secondarySubtitleOffsetMs")&&(n.secondarySubtitleOffsetMs=e.secondarySubtitleOffsetMs),await ke.sessions.put(n)}const pw=/[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/,mw=/^[.!?]+$/u;function fh(e){return e.some(t=>pw.test(t.rawText))}function yw(e){return!e.isWord&&mw.test(e.text)}function vw(e){const t=e.trim();if(!t)return;const n=encodeURIComponent(`${t} definition`);window.open(`https://www.google.com/search?q=${n}`,"_blank","noopener,noreferrer")}function cy(e,t){const n=x.useMemo(()=>sw(e.rawText),[e.rawText]),r=x.useMemo(()=>{if(!t)return n;const i=n.findIndex(c=>Tl(c.token));if(i<=0)return n;const o=n.slice(0,i);return o.length===0?n:o.every(c=>yw(c.token))?[...n.slice(i),...o]:n},[t,n]);return x.useMemo(()=>ow(r),[r])}function ru({cue:e,onTokenClick:t,onTokenContextMenu:n,classForToken:r,isRtl:i=!1,className:o}){const c=cy(e,i);return u.jsx("div",{className:`pointer-events-none flex flex-wrap ${o??""}`,dir:i?"rtl":"ltr",children:c.map((h,p)=>{const v=p>0?c[p-1].token:void 0,S=h.token,b=oy(v,S)?"ms-1":"";return u.jsx("button",{type:"button",className:`pointer-events-auto relative z-50 rounded px-0.5 text-left ${b} ${S.isWord?"focus:outline-none focus-visible:outline-none":"cursor-default"}`,onClick:_=>{S.isWord&&(t(S,e),_.currentTarget instanceof HTMLElement&&_.currentTarget.blur())},onContextMenu:_=>{S.isWord&&(_.preventDefault(),n(S,e))},disabled:!S.isWord,children:u.jsx("span",{className:`rounded px-1 py-0.5 transition-colors ${h.italic?"italic":""} ${r(S)}`,children:h.text})},`${h.text}-${p}`)})})}function hh({cue:e,isRtl:t=!1,className:n}){const r=cy(e,t);return u.jsx("div",{className:`flex flex-wrap ${n??""}`,dir:t?"rtl":"ltr",children:r.map((i,o)=>{const c=o>0?r[o-1].token:void 0,h=i.token,p=oy(c,h)?"ms-1":"";return u.jsx("span",{className:`rounded px-1 py-0.5 ${p}`,children:i.text},`${i.text}-${o}`)})})}function ph(){const e=x.useRef(null),t=x.useRef(null),n=x.useRef(null),r=x.useRef(new Map),i=x.useRef({}),[o,c]=x.useState(""),[h,p]=x.useState(null),[v,S]=x.useState(null),[b,_]=x.useState(""),[U,A]=x.useState([]),[B,q]=x.useState(0),[N,g]=x.useState(!1),[k,$]=x.useState(0),[J,Q]=x.useState(null),[X,ne]=x.useState(!1),[be,ye]=x.useState(""),[Re,$e]=x.useState([]),[se,G]=x.useState(!1),[te,Y]=x.useState(0),[ve,H]=x.useState(null),[re,oe]=x.useState(!1),[we,Ne]=x.useState(!1),[He,Et]=x.useState(!1),[ut,ct]=x.useState(!1),[Lt,Hi]=x.useState(!1),[D,_e]=x.useState(1),[ge,xe]=x.useState(null),[ze,it]=x.useState(!0),Je=x.useRef(null),hn=x.useRef(0),Dt=vt(T=>T.addUnknownWordFromToken),Wn=vt(T=>T.classForToken),Sr=vt(T=>T.initialize),ti=vt(T=>T.initialized),$t=st(T=>T.initialize),kr=st(T=>T.initialized),Hn=st(T=>T.setLastOpened),ni=x.useCallback((T,ue)=>{Dt(T,ue.rawText)},[Dt]),kn=x.useCallback((T,ue)=>{vw(T.text),Dt(T,ue.rawText)},[Dt]),pt=x.useCallback(T=>{A(T),ne(T.length>0&&fh(T))},[]),mt=x.useCallback(T=>{$e(T),Ne(T.length>0&&fh(T))},[]),pn=x.useCallback(async(T,ue,W)=>{pt(W),await Promise.all([cc(T,W),$r({name:ue,bytesHash:T,totalCues:W.length})])},[pt]),Yt=x.useCallback(async(T,ue,W)=>{mt(W),await Promise.all([cc(T,W),$r({name:ue,bytesHash:T,totalCues:W.length})])},[mt]);x.useEffect(()=>{ti||Sr()},[ti,Sr]),x.useEffect(()=>{kr||$t()},[kr,$t]),x.useEffect(()=>{const T=()=>{const ue=e.current;Et(document.fullscreenElement===ue)};return document.addEventListener("fullscreenchange",T),()=>{document.removeEventListener("fullscreenchange",T)}},[]),x.useEffect(()=>{const T=t.current;if(!T)return;const ue=()=>ct(!T.paused),W=()=>Hi(T.muted),je=()=>_e(T.volume),Be=()=>{xe(Number.isFinite(T.duration)?T.duration*1e3:null)};return ue(),W(),je(),Be(),T.addEventListener("play",ue),T.addEventListener("pause",ue),T.addEventListener("volumechange",W),T.addEventListener("volumechange",je),T.addEventListener("loadedmetadata",Be),T.addEventListener("durationchange",Be),()=>{T.removeEventListener("play",ue),T.removeEventListener("pause",ue),T.removeEventListener("volumechange",W),T.removeEventListener("volumechange",je),T.removeEventListener("loadedmetadata",Be),T.removeEventListener("durationchange",Be)}},[]);const ri=x.useCallback(async()=>{const T=e.current;if(T&&document.fullscreenElement!==T)try{await T.requestFullscreen()}catch(ue){console.error("Failed to enter fullscreen",ue)}},[]),jr=x.useCallback(async()=>{if(document.fullscreenElement)try{await document.exitFullscreen()}catch(T){console.error("Failed to exit fullscreen",T)}},[]),Gt=x.useCallback(()=>{if(He){jr();return}ri()},[ri,jr,He]);x.useEffect(()=>{const T=new Worker(new URL(""+new URL("srtWorker-CQIlcpsu.js",import.meta.url).href,import.meta.url),{type:"module"});return n.current=T,()=>{T.terminate(),n.current=null}},[]),x.useEffect(()=>{const T=n.current;if(!T)return;const ue=async W=>{const je=r.current.get(W.data.id);if(je){if(i.current[je.target]!==W.data.id){r.current.delete(W.data.id);return}if(r.current.delete(W.data.id),W.data.error){je.target==="secondary"?(H(W.data.error),G(!1)):(Q(W.data.error),g(!1));return}try{je.target==="secondary"?(H(null),await Yt(je.hash,je.fileName,W.data.cues)):(Q(null),await pn(je.hash,je.fileName,W.data.cues))}catch(Be){console.error(Be),je.target==="secondary"?H("Failed to store parsed secondary subtitles."):Q("Failed to store parsed subtitles.")}finally{je.target==="secondary"?G(!1):g(!1)}}};return T.addEventListener("message",ue),()=>{T.removeEventListener("message",ue)}},[pn,Yt,pt,mt]),x.useEffect(()=>{let T=!1;return(async()=>{const W=await uy();if(!(T||!W)){if(W.videoBlob){const je=W.videoBlob;p(Be=>(Be&&URL.revokeObjectURL(Be),URL.createObjectURL(je))),c(W.videoName??"")}else W.videoName&&c(W.videoName);if(W.subtitleName&&_(W.subtitleName),typeof W.videoTimeSeconds=="number"&&S(W.videoTimeSeconds),W.secondarySubtitleName&&ye(W.secondarySubtitleName),typeof W.secondarySubtitleEnabled=="boolean"?oe(W.secondarySubtitleEnabled):W.secondarySubtitleHash&&oe(!0),typeof W.secondarySubtitleOffsetMs=="number"&&Y(W.secondarySubtitleOffsetMs),!(!W.subtitleHash&&!W.secondarySubtitleHash)){if(W.secondarySubtitleHash){G(!0),H(null);const je=await Wr(W.secondarySubtitleHash);if(T)return;if(je)mt(je),G(!1),await $r({name:W.secondarySubtitleName??W.secondarySubtitleHash,bytesHash:W.secondarySubtitleHash,totalCues:je.length});else if(W.secondarySubtitleText){const Be=n.current;if(Be){const Se=crypto.randomUUID();r.current.set(Se,{hash:W.secondarySubtitleHash,fileName:W.secondarySubtitleName??W.secondarySubtitleHash,target:"secondary"}),i.current.secondary=Se,Be.postMessage({id:Se,text:W.secondarySubtitleText})}else try{const Se=vs(W.secondarySubtitleText).map(Ue=>({...Ue,tokens:Ue.tokens??zn(Ue.rawText)}));await Yt(W.secondarySubtitleHash,W.secondarySubtitleName??W.secondarySubtitleHash,Se)}catch(Se){T||(H(Se instanceof Error?Se.message:"Failed to parse secondary subtitles"),mt([]))}finally{T||G(!1)}}else G(!1)}if(W.subtitleHash){g(!0),Q(null);const je=await Wr(W.subtitleHash);if(T)return;if(je){pt(je),g(!1),await $r({name:W.subtitleName??W.subtitleHash,bytesHash:W.subtitleHash,totalCues:je.length});return}if(!W.subtitleText){g(!1);return}const Be=n.current;if(Be){const Se=crypto.randomUUID();r.current.set(Se,{hash:W.subtitleHash,fileName:W.subtitleName??W.subtitleHash,target:"primary"}),i.current.primary=Se,Be.postMessage({id:Se,text:W.subtitleText});return}try{const Se=vs(W.subtitleText).map(Ue=>({...Ue,tokens:Ue.tokens??zn(Ue.rawText)}));await pn(W.subtitleHash,W.subtitleName??W.subtitleHash,Se)}catch(Se){T||(Q(Se instanceof Error?Se.message:"Failed to parse subtitles"),pt([]))}finally{T||g(!1)}}}}})(),()=>{T=!0}},[pn,Yt]),x.useEffect(()=>{if(h)return()=>{URL.revokeObjectURL(h)}},[h]),x.useEffect(()=>{const T=t.current;T&&(T.currentTime=0)},[h]),x.useEffect(()=>{const T=t.current;if(!T||v===null)return;const ue=()=>{T.currentTime=v};if(T.readyState>=1){ue();return}return T.addEventListener("loadedmetadata",ue),()=>{T.removeEventListener("loadedmetadata",ue)}},[v,h]),x.useEffect(()=>{if(!kr)return;Hn(o||b?{videoName:o||void 0,srtName:b||void 0}:void 0)},[kr,Hn,b,o]);const jn=x.useCallback(()=>{const T=t.current;T&&(T.pause(),T.currentTime=0)},[]),Vn=x.useCallback(()=>{const T=t.current;T&&(T.paused?T.play().catch(ue=>{console.error("Failed to play video",ue)}):T.pause())},[]),Xt=x.useCallback(()=>{const T=t.current;T&&(T.muted=!T.muted)},[]),me=x.useCallback(T=>{const ue=t.current;if(!ue||ue.readyState===0)return;const W=Math.min(Math.max(ue.currentTime+T,0),Number.isFinite(ue.duration)?ue.duration:Number.POSITIVE_INFINITY);ue.currentTime=W},[]),Nr=x.useCallback(T=>{const ue=t.current;if(!ue||ue.readyState===0)return;const W=Number(T.target.value);Number.isFinite(W)&&(ue.currentTime=W,q(W*1e3))},[]),Nn=x.useCallback(T=>{const ue=t.current;if(!ue)return;const W=Number(T.target.value);Number.isFinite(W)&&(ue.volume=W,W>0&&(ue.muted=!1),_e(W))},[]),Cn=x.useCallback(async T=>{jn(),Q(null),g(!0),q(0);const ue=await T.text(),W=await uc(T);_(T.name),pt([]),hi({subtitleName:T.name,subtitleText:ue,subtitleHash:W});const je=await Wr(W);if(je){pt(je),g(!1),await $r({name:T.name,bytesHash:W,totalCues:je.length});return}const Be=n.current;if(Be){const Se=crypto.randomUUID();r.current.set(Se,{hash:W,fileName:T.name,target:"primary"}),i.current.primary=Se,Be.postMessage({id:Se,text:ue});return}try{const Se=vs(ue).map(Ue=>({...Ue,tokens:Ue.tokens??zn(Ue.rawText)}));await pn(W,T.name,Se)}catch(Se){Q(Se instanceof Error?Se.message:"Failed to parse subtitles"),pt([])}finally{g(!1)}},[pn,pt,jn]),fe=x.useCallback(async T=>{H(null),G(!0);const ue=await T.text(),W=await uc(T);ye(T.name),mt([]),hi({secondarySubtitleName:T.name,secondarySubtitleText:ue,secondarySubtitleHash:W,secondarySubtitleEnabled:!0});const je=await Wr(W);if(je){mt(je),G(!1),oe(!0),await $r({name:T.name,bytesHash:W,totalCues:je.length});return}const Be=n.current;if(Be){const Se=crypto.randomUUID();r.current.set(Se,{hash:W,fileName:T.name,target:"secondary"}),i.current.secondary=Se,Be.postMessage({id:Se,text:ue});return}try{const Se=vs(ue).map(Ue=>({...Ue,tokens:Ue.tokens??zn(Ue.rawText)}));await Yt(W,T.name,Se),oe(!0)}catch(Se){H(Se instanceof Error?Se.message:"Failed to parse secondary subtitles"),mt([])}finally{G(!1)}},[Yt,mt]),Vi=x.useCallback(async T=>{const ue=T.target.files;if(!ue||ue.length===0)return;const W=Array.from(ue),je=W.find(Ue=>Ue.type.startsWith("video/")||Ue.name.toLowerCase().endsWith(".mkv"));if(!je){T.target.value="";return}jn(),S(0),hn.current=0,c(je.name),q(0),p(Ue=>(Ue&&URL.revokeObjectURL(Ue),URL.createObjectURL(je))),hi({videoName:je.name,videoBlob:je,videoTimeSeconds:0});const Be=je.name.replace(/\.[^.]+$/,"").toLowerCase(),Se=W.find(Ue=>Ue.name.toLowerCase()===`${Be}.srt`&&Ue!==je);Se&&await Cn(Se),T.target.value=""},[Cn,jn]),eo=x.useCallback(async T=>{var W;const ue=(W=T.target.files)==null?void 0:W[0];ue&&(await Cn(ue),T.target.value="")},[Cn]),qi=x.useCallback(async T=>{var W;const ue=(W=T.target.files)==null?void 0:W[0];ue&&(await fe(ue),T.target.value="")},[fe]),to=()=>{const T=t.current;T&&(q(T.currentTime*1e3),T.currentTime-hn.current>=2&&(hn.current=T.currentTime,hi({videoTimeSeconds:T.currentTime})))},En=x.useMemo(()=>U.filter(T=>{const ue=T.startMs+k,W=T.endMs+k;return ue<=B&&W>=B}),[U,B,k]),Qi=x.useMemo(()=>Re.filter(T=>{const ue=T.startMs+te,W=T.endMs+te;return ue<=B&&W>=B}),[Re,B,te]),Zl=x.useMemo(()=>Do(B),[B]),qn=x.useMemo(()=>ge?Do(ge):"--:--",[ge]),_n=x.useMemo(()=>ge?Math.min(100,Math.max(0,B/ge*100)):0,[B,ge]),ii=x.useCallback(T=>{$(ue=>ue+T)},[]),Cr=x.useCallback(T=>{Y(ue=>{const W=ue+T;return hi({secondarySubtitleOffsetMs:W}),W})},[]),De=x.useCallback(()=>{Re.length!==0&&oe(T=>{const ue=!T;return hi({secondarySubtitleEnabled:ue}),ue})},[Re.length]),Me=x.useCallback(()=>{var T;(T=e.current)==null||T.focus()},[]),Qn=x.useCallback(()=>{Je.current!==null&&(window.clearTimeout(Je.current),Je.current=null)},[]),Pn=x.useCallback(()=>{Qn(),ut&&(Je.current=window.setTimeout(()=>{it(!1)},2500))},[Qn,ut]),Er=x.useCallback(()=>{it(!0),Pn()},[Pn]),mn=x.useCallback(T=>uw(T,{video:t.current,seekBy:me,toggleFullscreen:Gt,toggleMute:Xt,togglePlayback:Vn,toggleSecondarySubtitle:De}),[me,Gt,Xt,Vn,De]),Yi=x.useCallback(T=>{mn(T.nativeEvent)&&(T.preventDefault(),T.stopPropagation())},[mn]);return x.useEffect(()=>(document.addEventListener("keydown",mn,!0),()=>{document.removeEventListener("keydown",mn,!0)}),[mn]),x.useEffect(()=>{if(!ut){Qn(),it(!0);return}Pn()},[Qn,ut,Pn]),x.useEffect(()=>()=>{Qn()},[Qn]),u.jsxs("div",{className:"grid gap-6 lg:grid-cols-[2fr,1fr]",onKeyDown:Yi,children:[u.jsxs("section",{className:"space-y-4",children:[u.jsxs("div",{ref:e,className:"relative aspect-video overflow-hidden rounded-lg bg-black shadow-xl",onDoubleClick:Gt,onMouseMove:Er,onMouseLeave:()=>{ut&&it(!1)},onFocusCapture:Er,tabIndex:-1,children:[u.jsx("video",{ref:t,className:"h-full w-full focus:outline-none focus-visible:outline-none",onClick:()=>{Vn(),Me()},onTimeUpdate:to,src:h??void 0,tabIndex:-1,children:u.jsx("track",{kind:"subtitles",srcLang:"en",label:b||"Subtitles"})}),u.jsx("div",{className:`absolute inset-x-0 bottom-0 z-20 flex flex-col gap-3 bg-gradient-to-t from-black/80 via-black/40 to-transparent px-4 pb-4 pt-6 text-white transition-opacity duration-300 ${ze?"opacity-100":"pointer-events-none opacity-0"}`,onDoubleClick:T=>T.stopPropagation(),children:u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("input",{type:"range",min:0,max:ge?Math.max(ge/1e3,0):0,step:.1,value:ge?Math.min(B/1e3,ge/1e3):0,onChange:Nr,onKeyDown:Yi,onFocus:T=>{T.currentTarget.blur(),Me()},className:"player-timeline w-full cursor-pointer","aria-label":"Seek position",disabled:!ge,tabIndex:-1,style:{"--timeline-gradient":`linear-gradient(90deg, rgba(56, 189, 248, 0.6) 0%, rgba(56, 189, 248, 0.6) ${_n}%, rgba(148, 163, 184, 0.35) ${_n}%, rgba(148, 163, 184, 0.35) 100%)`}}),u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-sm",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsxs("button",{type:"button",className:`group play-variant variant-24 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-200 ${ut?"is-paused":""}`,onClick:()=>{Vn(),Me()},"aria-label":ut?"Pause video":"Play video",children:[u.jsx("span",{className:"play-variant-icon","aria-hidden":!0}),u.jsx("span",{className:"player-tooltip",children:"Space"})]}),u.jsxs("div",{className:"group relative flex items-center gap-2",children:[u.jsxs("button",{type:"button",className:"player-icon-button text-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-200",onClick:()=>{Xt(),Me()},"aria-label":Lt?"Unmute video":"Mute video",children:[u.jsx("span",{"aria-hidden":!0,children:Lt?"":""}),u.jsx("span",{className:"player-tooltip",children:"M"})]}),u.jsx("div",{className:"max-w-0 overflow-hidden transition-all duration-300 group-hover:max-w-[120px]",children:u.jsx("input",{id:"player-volume",type:"range",min:0,max:1,step:.05,value:Lt?0:D,onChange:Nn,onKeyDown:Yi,className:"player-volume w-24 cursor-pointer","aria-label":"Volume"})})]})]}),u.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/70",style:{fontFamily:'"Comic Sans MS", "Comic Sans", cursive'},children:[Zl," / ",qn]}),u.jsx("div",{className:"flex flex-wrap items-center gap-2",children:u.jsxs("div",{className:"flex flex-row-reverse items-center gap-2",children:[u.jsxs("button",{type:"button",className:"group player-icon-button text-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-200",onClick:()=>{Gt(),Me()},"aria-label":He?"Exit fullscreen":"Enter fullscreen",children:[u.jsx("span",{"aria-hidden":!0,children:""}),u.jsx("span",{className:"player-tooltip",children:"F"})]}),u.jsxs("button",{type:"button",className:"group player-icon-button text-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-200",onClick:()=>{me(-5),Me()},"aria-label":"Seek backward 5 seconds",children:["-5s ",u.jsx("span",{className:"player-tooltip",children:""})]}),u.jsxs("button",{type:"button",className:"group player-icon-button text-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-200",onClick:()=>{me(5),Me()},"aria-label":"Seek forward 5 seconds",children:["+5s ",u.jsx("span",{className:"player-tooltip",children:""})]})]})})]})]})}),re&&Qi.length>0&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"pointer-events-none absolute inset-0 z-30 flex flex-col justify-start p-6",children:u.jsx("div",{className:"pointer-events-none flex flex-col items-center gap-3",children:Qi.map(T=>u.jsx("div",{className:"subtitle-overlay subtitle-overlay-secondary subtitle-overlay-bg max-w-3xl text-center",children:u.jsx(hh,{cue:T,isRtl:we,className:"justify-center text-center"})},`${T.startMs}-${T.endMs}-bg`))})}),u.jsx("div",{className:"pointer-events-none absolute inset-0 z-40 flex flex-col justify-start p-6",children:u.jsx("div",{className:"pointer-events-none flex flex-col items-center gap-3",children:Qi.map(T=>u.jsx("div",{className:"subtitle-overlay subtitle-overlay-secondary max-w-3xl text-center",children:u.jsx(ru,{cue:T,classForToken:Wn,onTokenClick:ni,onTokenContextMenu:kn,isRtl:we,className:"justify-center text-center"})},`${T.startMs}-${T.endMs}`))})})]}),En.length>0&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"pointer-events-none absolute inset-0 z-30 flex flex-col justify-end p-6",children:u.jsx("div",{className:"pointer-events-none flex flex-col items-center gap-3",children:En.map(T=>u.jsx("div",{className:"subtitle-overlay subtitle-overlay-bg max-w-3xl text-center",children:u.jsx(hh,{cue:T,isRtl:X,className:"justify-center text-center"})},`${T.startMs}-${T.endMs}-bg`))})}),u.jsx("div",{className:"pointer-events-none absolute inset-0 z-40 flex flex-col justify-end p-6",children:u.jsx("div",{className:"pointer-events-none flex flex-col items-center gap-3",children:En.map(T=>u.jsx("div",{className:"subtitle-overlay max-w-3xl text-center",children:u.jsx(ru,{cue:T,classForToken:Wn,onTokenClick:ni,onTokenContextMenu:kn,isRtl:X,className:"justify-center text-center"})},`${T.startMs}-${T.endMs}`))})})]})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3 rounded-lg bg-white/5 p-3 text-sm text-white/80",children:[u.jsx("span",{className:"font-medium text-white",children:"Subtitle timing"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",onClick:()=>{ii(-500),Me()},children:"0.5s"}),u.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",onClick:()=>{ii(500),Me()},children:"+0.5s"})]}),u.jsxs("span",{className:"text-xs text-white/60",children:["Offset: ",k>=0?"+":"",(k/1e3).toFixed(1),"s"]})]}),u.jsxs("label",{className:"flex w-full cursor-pointer flex-col gap-2 rounded-lg border border-dashed border-white/20 bg-white/5 p-4 text-sm hover:border-white/40",children:[u.jsx("span",{className:"font-medium",children:"Load video"}),u.jsx("input",{type:"file",accept:"video/*,video/x-matroska,.mkv,.MKV",multiple:!0,className:"hidden",onChange:Vi}),u.jsx("span",{className:"text-xs text-white/60",children:"Automatically pairs a matching .srt when selected together."}),u.jsxs("span",{className:"text-xs text-white/60",children:["Current: ",o||"None"]})]}),u.jsxs("label",{className:"flex w-full cursor-pointer flex-col gap-2 rounded-lg border border-dashed border-white/20 bg-white/5 p-4 text-sm hover:border-white/40",children:[u.jsx("span",{className:"font-medium",children:"Load subtitles (SRT)"}),u.jsx("input",{type:"file",accept:".srt",className:"hidden",onChange:eo}),u.jsxs("span",{className:"text-xs text-white/60",children:["Current: ",b||"None"]}),N&&u.jsx("span",{className:"text-xs text-amber-300",children:"Processing subtitles"}),J&&u.jsx("span",{className:"text-xs text-red-400",children:J})]}),u.jsxs("label",{className:"flex items-center gap-2 text-xs text-white/70",children:[u.jsx("input",{type:"checkbox",checked:X,onChange:T=>ne(T.target.checked),className:"h-3 w-3 rounded border-white/30 bg-slate-900"}),"Right-to-left order"]}),u.jsxs("details",{className:"rounded-lg border border-white/10 bg-white/5 p-4 text-sm",children:[u.jsx("summary",{className:"cursor-pointer list-none font-medium text-white/90",children:"Second subtitles (optional)"}),u.jsxs("div",{className:"mt-3 space-y-3",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 text-xs font-medium text-white transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",onClick:()=>{De(),Me()},disabled:Re.length===0,children:re?"On":"Off"}),u.jsx("span",{className:"text-xs text-white/60",children:"Shows a second line at the top. Shortcut: H/"})]}),u.jsxs("label",{className:"flex w-full cursor-pointer flex-col gap-2 rounded-lg border border-dashed border-white/20 bg-white/5 p-3 text-xs hover:border-white/40",children:[u.jsx("span",{className:"font-medium text-sm",children:"Load second subtitles (SRT)"}),u.jsx("input",{type:"file",accept:".srt",className:"hidden",onChange:qi}),u.jsxs("span",{className:"text-xs text-white/60",children:["Current: ",be||"None"]}),se&&u.jsx("span",{className:"text-xs text-amber-300",children:"Processing second subtitles"}),ve&&u.jsx("span",{className:"text-xs text-red-400",children:ve})]}),u.jsxs("label",{className:"flex items-center gap-2 text-xs text-white/70",children:[u.jsx("input",{type:"checkbox",checked:we,onChange:T=>Ne(T.target.checked),className:"h-3 w-3 rounded border-white/30 bg-slate-900"}),"Right-to-left order"]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3 rounded-lg bg-white/5 p-2 text-xs text-white/80",children:[u.jsx("span",{className:"font-medium text-white",children:"Second subtitle timing"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",onClick:()=>{Cr(-500),Me()},children:"0.5s"}),u.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",onClick:()=>{Cr(500),Me()},children:"+0.5s"})]}),u.jsxs("span",{className:"text-xs text-white/60",children:["Offset: ",te>=0?"+":"",(te/1e3).toFixed(1),"s"]})]})]})]})]}),u.jsx("aside",{className:"space-y-4",children:u.jsxs("div",{className:"rounded-lg bg-black/40 p-4",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Active Cue"}),N?u.jsx("p",{className:"mt-3 text-sm text-white/60",children:"Processing subtitles"}):En.length>0?u.jsx("div",{className:"mt-3 space-y-2 text-sm",children:En.map(T=>u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"text-white/60",children:[Do(Math.max(0,T.startMs+k)),"  ",Do(Math.max(0,T.endMs+k))]}),u.jsx(ru,{cue:T,classForToken:Wn,onTokenClick:ni,onTokenContextMenu:kn,isRtl:X})]},`${T.startMs}-${T.endMs}`))}):u.jsx("p",{className:"text-sm text-white/50",children:"Load a subtitle file to see cues."})]})})]})}const gw="./word-frequency.csv";function xw(e){const t=e.split(/\r?\n/),n=new Map;for(let r=1;r<t.length;r+=1){const i=t[r];if(!i)continue;const o=i.indexOf(","),c=(o===-1?i:i.slice(0,o)).trim().toLowerCase();!c||n.has(c)||n.set(c,r)}return n}async function ww(){const e=await fetch(gw);if(!e.ok)throw new Error("Failed to load frequency list.");const t=await e.text();return xw(t)}let iu=null;function bw(){return iu||(iu=ww()),iu}function Sw(e,t){if(!t)return null;const n=t.get(e.stem.toLowerCase());if(typeof n=="number")return n;const r=t.get(e.normalized.toLowerCase());return typeof r=="number"?r:null}function kw({word:e,frequencyRank:t,onDelete:n,visibleColumns:r}){return u.jsxs("tr",{className:"hover:bg-white/5",children:[r.word&&u.jsx("td",{className:"px-4 py-2 font-medium",children:e.original}),r.originalSentence&&u.jsx("td",{className:"px-4 py-2 text-white/70",children:e.originalSentence?u.jsx("span",{className:"block max-w-xl break-words",children:e.originalSentence}):""}),r.normalized&&u.jsx("td",{className:"px-4 py-2 text-white/70",children:e.normalized}),r.stem&&u.jsx("td",{className:"px-4 py-2 text-white/70",children:e.stem}),r.frequencyRank&&u.jsx("td",{className:"px-4 py-2 text-right text-white/70",children:typeof t=="number"?`#${t.toLocaleString()}`:"-"}),r.updatedAt&&u.jsx("td",{className:"px-4 py-2 text-right text-white/60",children:new Date(e.updatedAt).toLocaleString()}),r.actions&&u.jsx("td",{className:"px-4 py-2 text-right",children:u.jsx("button",{type:"button",className:"rounded border border-red-500/40 px-2 py-1 text-xs font-medium text-red-300 hover:bg-red-500/10",onClick:()=>{n(e.id)},children:"Delete"})})]})}function jw(){const[e,t]=x.useState(null),[n,r]=x.useState(null),[i,o]=x.useState(!1),[c,h]=x.useState(null),[p,v]=x.useState("updatedAt"),[S,b]=x.useState("desc"),[_,U]=x.useState(!1),[A,B]=x.useState({word:!0,originalSentence:!0,normalized:!0,stem:!0,frequencyRank:!0,updatedAt:!0,actions:!0}),[q,N]=x.useState(null),g=vt(G=>G.words),k=vt(G=>G.initialized),$=vt(G=>G.initialize),J=vt(G=>G.removeWord),Q=vt(G=>G.reanalyzeStems);x.useEffect(()=>{k||$()},[k,$]),x.useEffect(()=>{let G=!1;return o(!0),h(null),bw().then(te=>{G||N(te)}).catch(te=>{G||h(te instanceof Error?te.message:"Unable to load frequency list.")}).finally(()=>{G||o(!1)}),()=>{G=!0}},[]);const X=x.useMemo(()=>{const G=new Map;for(const te of g)G.set(te.id,Sw(te,q));return G},[q,g]),ne=x.useMemo(()=>{const G=[...g],te=S==="asc"?1:-1;return G.sort((Y,ve)=>{if(p==="alphabetical")return Y.normalized.localeCompare(ve.normalized,void 0,{sensitivity:"base"})*te;if(p==="frequencyRank"){const H=X.get(Y.id),re=X.get(ve.id),oe=typeof H=="number"?H:Number.POSITIVE_INFINITY,we=typeof re=="number"?re:Number.POSITIVE_INFINITY;return oe!==we?S==="asc"?oe-we:we-oe:Y.normalized.localeCompare(ve.normalized,void 0,{sensitivity:"base"})}return(Y.updatedAt-ve.updatedAt)*te}),G},[X,S,p,g]),be=x.useCallback(async()=>{var te;const G=ne.map(Y=>Y.original).join(`
`);if(G.trim()===""){t(null),r("No words available to copy.");return}try{if((te=navigator.clipboard)!=null&&te.writeText)await navigator.clipboard.writeText(G);else{const Y=document.createElement("textarea");Y.value=G,Y.setAttribute("readonly","true"),Y.style.position="absolute",Y.style.left="-9999px",document.body.appendChild(Y),Y.select(),document.execCommand("copy"),document.body.removeChild(Y)}t(null),r(`Copied ${ne.length} word${ne.length===1?"":"s"} to the clipboard.`)}catch(Y){r(null),t(Y instanceof Error?Y.message:"Failed to copy words.")}},[ne]),ye=x.useCallback(async()=>{var te;const G=ne.map(Y=>{const ve=(Y.originalSentence??"").trim();return`${Y.original}, as in "${ve}"`}).join(`
`);if(G.trim()===""){t(null),r("No words available to copy.");return}try{if((te=navigator.clipboard)!=null&&te.writeText)await navigator.clipboard.writeText(G);else{const Y=document.createElement("textarea");Y.value=G,Y.setAttribute("readonly","true"),Y.style.position="absolute",Y.style.left="-9999px",document.body.appendChild(Y),Y.select(),document.execCommand("copy"),document.body.removeChild(Y)}t(null),r(`Copied ${ne.length} word${ne.length===1?"":"s"} with sentences.`)}catch(Y){r(null),t(Y instanceof Error?Y.message:"Failed to copy words.")}},[ne]),Re=x.useCallback(G=>{v(G),b(G==="updatedAt"?"desc":"asc")},[]),$e=x.useCallback(G=>{b(te=>p===G?te==="asc"?"desc":"asc":G==="updatedAt"?"desc":"asc"),v(G)},[p]),se=x.useCallback(async()=>{U(!0),t(null),r(null);try{await Q(),r("Re-analyzed stems.")}catch(G){t(G instanceof Error?G.message:"Failed to re-analyze stems.")}finally{U(!1)}},[Q]);return k?ne.length===0?u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Unknown Words"}),u.jsx("p",{className:"text-sm text-white/60",children:"Click a word in the player to add it to your learning list."}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{be()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20",children:"Copy Words"}),u.jsx("button",{type:"button",onClick:()=>{ye()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20",children:"Copy Words + Sentences"}),u.jsx("a",{href:"https://chatgpt.com/share/69110ae1-0894-8013-ab12-c4e78af73786",target:"_blank",rel:"noreferrer",className:"rounded bg-emerald-500/20 px-3 py-1 text-xs font-medium text-emerald-200 hover:bg-emerald-500/30",children:"Play with ChatGPT"}),u.jsx("button",{type:"button",onClick:()=>{se()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20 disabled:opacity-50",disabled:_,children:_?"Re-analyzing":"Re-analyze"})]}),e&&u.jsx("p",{className:"text-xs text-red-400",children:e}),n&&u.jsx("p",{className:"text-xs text-emerald-400",children:n})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Unknown Words"}),u.jsx("p",{className:"text-xs text-white/50",children:"Review your list or prune items you no longer need."})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{be()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20",children:"Copy Words"}),u.jsx("button",{type:"button",onClick:()=>{ye()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20",children:"Copy Words + Sentences"}),u.jsx("a",{href:"https://chatgpt.com/share/69112ad9-3858-8013-a13d-061dd7661a56",target:"_blank",rel:"noreferrer",className:"rounded bg-emerald-500/20 px-3 py-1 text-xs font-medium text-emerald-200 hover:bg-emerald-500/30",children:"Play with ChatGPT"}),u.jsx("button",{type:"button",onClick:()=>{se()},className:"rounded bg-white/10 px-3 py-1 text-xs font-medium text-white hover:bg-white/20 disabled:opacity-50",disabled:_,children:_?"Re-analyzing...":"Re-analyze"})]})]}),u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-xs text-white/60",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsxs("span",{children:[ne.length," items"]}),u.jsxs("label",{className:"flex items-center gap-1",children:[u.jsx("span",{children:"Sort"}),u.jsxs("select",{value:p,onChange:G=>{Re(G.target.value)},className:"rounded border border-white/10 bg-slate-900/80 px-2 py-1 text-white hover:bg-slate-800 focus:outline-none focus-visible:outline-none",children:[u.jsx("option",{value:"updatedAt",className:"bg-slate-900 text-white",children:"Updated"}),u.jsx("option",{value:"alphabetical",className:"bg-slate-900 text-white",children:"A-Z"}),u.jsx("option",{value:"frequencyRank",className:"bg-slate-900 text-white",children:"Frequency Rank"})]})]}),u.jsx("button",{type:"button",className:"rounded border border-white/10 bg-white/5 px-2 py-1 text-white",onClick:()=>b(G=>G==="asc"?"desc":"asc"),children:S==="asc"?"Ascending":"Descending"}),u.jsxs("details",{className:"relative",children:[u.jsxs("summary",{className:"inline-flex cursor-pointer list-none items-center gap-1 rounded border border-white/10 bg-slate-900/80 px-2 py-1 text-white hover:bg-slate-800 focus:outline-none focus-visible:outline-none",children:["View",u.jsx("span",{className:"text-[10px] text-white/70",children:""})]}),u.jsx("div",{className:"absolute left-0 z-10 mt-2 w-56 rounded border border-white/10 bg-slate-900/95 p-3 text-xs text-white shadow-lg",children:[["word","Word"],["originalSentence","Original sentence"],["normalized","Normalized"],["stem","Stem"],["frequencyRank","Frequency Rank"],["updatedAt","Updated"],["actions","Actions"]].map(([G,te])=>u.jsxs("label",{className:"flex items-center gap-2 py-1",children:[u.jsx("input",{type:"checkbox",className:"h-3 w-3 rounded border-white/30 bg-slate-900",checked:A[G],onChange:()=>B(Y=>({...Y,[G]:!Y[G]}))}),u.jsx("span",{children:te})]},G))})]})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i&&u.jsx("span",{children:"Loading frequency ranks..."}),c&&u.jsx("span",{className:"text-amber-300",children:c}),e?u.jsx("span",{className:"text-red-400",children:e}):n?u.jsx("span",{className:"text-emerald-400",children:n}):null]})]}),u.jsx("div",{className:"overflow-hidden rounded-lg border border-white/10",children:u.jsxs("table",{className:"min-w-full divide-y divide-white/10",children:[u.jsx("thead",{className:"bg-white/5 text-left text-xs uppercase tracking-wide text-white/60",children:u.jsxs("tr",{children:[A.word&&u.jsx("th",{className:"px-4 py-2",children:u.jsxs("button",{type:"button",onClick:()=>$e("alphabetical"),className:"inline-flex items-center gap-1 hover:text-white",children:["Word",p==="alphabetical"&&u.jsx("span",{className:"text-[10px] text-white/70",children:S==="asc"?"":""})]})}),A.originalSentence&&u.jsx("th",{className:"px-4 py-2",children:"Original sentence"}),A.normalized&&u.jsx("th",{className:"px-4 py-2",children:"Normalized"}),A.stem&&u.jsx("th",{className:"px-4 py-2",children:"Stem"}),A.frequencyRank&&u.jsx("th",{className:"px-4 py-2 text-right",children:u.jsxs("button",{type:"button",onClick:()=>$e("frequencyRank"),className:"flex w-full items-center justify-end gap-1 hover:text-white",children:["Frequency Rank",p==="frequencyRank"&&u.jsx("span",{className:"text-[10px] text-white/70",children:S==="asc"?"":""})]})}),A.updatedAt&&u.jsx("th",{className:"px-4 py-2 text-right",children:u.jsxs("button",{type:"button",onClick:()=>$e("updatedAt"),className:"flex w-full items-center justify-end gap-1 hover:text-white",children:["Updated",p==="updatedAt"&&u.jsx("span",{className:"text-[10px] text-white/70",children:S==="asc"?"":""})]})}),A.actions&&u.jsx("th",{className:"px-4 py-2 text-right",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-white/10 text-sm",children:ne.map(G=>u.jsx(kw,{word:G,frequencyRank:X.get(G.id)??null,onDelete:J,visibleColumns:A},G.id))})]})})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Unknown Words"}),u.jsx("p",{className:"text-sm text-white/60",children:"Loading your saved vocabulary..."})]})}const Nw=[0,1,2,3],Cw=[".mp4",".mkv",".mov",".avi",".m4v",".webm"],mh={minHeight:"60vh",maxHeight:"calc(100vh - 10rem)"};function $o(e){const t=Math.max(0,Math.floor(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60).toString().padStart(2,"0"),i=(t%60).toString().padStart(2,"0");return n>0?`${n}:${r}:${i}`:`${r}:${i}`}function Ew(e,t){return e.some(n=>n.isWord&&(n.normalized===t.normalized||n.stem===t.stem))}function _w(e){return vs(e).map(t=>({...t,tokens:t.tokens??zn(t.rawText)}))}function Pw(){const[e,t]=x.useState(null),[n,r]=x.useState(1),[i,o]=x.useState([]),[c,h]=x.useState(!1),[p,v]=x.useState(!1),[S,b]=x.useState(null),[_,U]=x.useState({}),[A,B]=x.useState(!0),[q,N]=x.useState(null),[g,k]=x.useState(null),[$,J]=x.useState(null),[Q,X]=x.useState(null),ne=x.useRef(null),be=x.useRef(new Map),ye=x.useRef(null),Re=vt(D=>D.initialized),$e=vt(D=>D.initialize),se=vt(D=>D.words),G=st(D=>D.initialized),te=st(D=>D.initialize),Y=st(D=>D.prefs.mediaLibrary);x.useEffect(()=>{Re||$e()},[Re,$e]),x.useEffect(()=>{G||te()},[te,G]),x.useEffect(()=>{const D=new Worker(new URL(""+new URL("srtWorker-CQIlcpsu.js",import.meta.url).href,import.meta.url),{type:"module"}),_e=ge=>{const xe=be.current.get(ge.data.id);if(xe){if(be.current.delete(ge.data.id),ge.data.error){xe.reject(new Error(ge.data.error));return}xe.resolve(ge.data.cues)}};return D.addEventListener("message",_e),ne.current=D,()=>{D.removeEventListener("message",_e),D.terminate(),ne.current=null;for(const[,ge]of be.current)ge.reject(new Error("Parsing cancelled"));be.current.clear()}},[]);const ve=x.useCallback(async D=>{const _e=ne.current;if(!_e)return _w(D);const ge=typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2);return new Promise((xe,ze)=>{be.current.set(ge,{resolve:xe,reject:ze}),_e.postMessage({id:ge,text:D})})},[]),H=x.useCallback(async()=>{if(!(Y!=null&&Y.handle))return k("Select a media library folder in Settings to enable playback."),null;try{const D=Y.handle.queryPermission,_e=Y.handle.requestPermission;if(!D||!_e)return Y.handle;const ge=await D.call(Y.handle,{mode:"read"});return ge==="granted"?Y.handle:ge==="denied"?(k("Folder access denied. Re-select the library and allow access."),null):await _e.call(Y.handle,{mode:"read"})==="granted"?Y.handle:(k("Folder access denied. Re-select the library and allow access."),null)}catch(D){return k(D instanceof Error?D.message:"Unable to use media library."),null}},[Y]),re=x.useCallback(async D=>{const _e=await H();if(!_e)return null;const ge=D.toLowerCase(),xe=[_e];for(;xe.length>0;){const ze=xe.shift();if(!ze)continue;const it=ze.values;if(it)for await(const Je of it.call(ze))if(Je.kind==="file"){const hn=Je.name.toLowerCase();if(Cw.some(Dt=>hn===`${ge}${Dt}`))return Je}else Je.kind==="directory"&&xe.push(Je)}return null},[H]),oe=x.useCallback(async D=>{k(null),J("Searching for matching video");const _e=D.file.name.replace(/\.[^.]+$/,"");try{const ge=await re(_e);if(!ge){J(null),k("No matching video found under the selected media library.");return}const xe=await ge.getFile(),ze=URL.createObjectURL(xe);N(it=>(it&&URL.revokeObjectURL(it),ze)),X({startMs:D.contextStartMs,endMs:D.contextEndMs}),J(`Playing ${ge.name}`),queueMicrotask(()=>{const it=ye.current;it&&(it.currentTime=D.contextStartMs/1e3,it.play())})}catch(ge){J(null),k(ge instanceof Error?ge.message:"Unable to play quote.")}},[re]),we=x.useCallback(async()=>{h(!0);try{const D=await ly();o(D)}finally{h(!1)}},[]);x.useEffect(()=>{we()},[we]),x.useEffect(()=>{let D=!1;if(i.length===0){U({});return}return(async()=>{const _e=await Promise.all(i.map(async xe=>{const ze=await Wr(xe.bytesHash);return[xe.bytesHash,ze??[]]}));if(D)return;const ge={};for(const[xe,ze]of _e)ge[xe]=ze;U(ge)})(),()=>{D=!0}},[i]),x.useEffect(()=>()=>{N(D=>(D&&URL.revokeObjectURL(D),null))},[]),x.useEffect(()=>{const D=ye.current;if(!D||!Q)return;const _e=()=>{Q&&D.currentTime*1e3>=Q.endMs&&D.pause()};return D.addEventListener("timeupdate",_e),()=>{D.removeEventListener("timeupdate",_e)}},[Q,q]);const Ne=x.useMemo(()=>se,[se]);x.useEffect(()=>{if(Ne.length===0){t(null);return}(!e||!Ne.some(D=>D.id===e))&&t(Ne[0].id)},[Ne,e]);const He=x.useMemo(()=>Ne.find(D=>D.id===e)??null,[Ne,e]),Et=x.useMemo(()=>{if(!He)return[];const D=[];for(const _e of i){const ge=_[_e.bytesHash]??[];ge.forEach((xe,ze)=>{var Wn,Sr;const it=xe.tokens??zn(xe.rawText);if(!Ew(it,He))return;const Je=Math.max(0,ze-n),hn=Math.min(ge.length-1,ze+n),Dt=ge.slice(Je,hn+1);D.push({id:`${_e.id}:${xe.index}:${Je}:${hn}`,file:_e,focusIndex:ze-Je,cues:Dt,contextStartMs:((Wn=Dt[0])==null?void 0:Wn.startMs)??xe.startMs,contextEndMs:((Sr=Dt[Dt.length-1])==null?void 0:Sr.endMs)??xe.endMs})})}return D.sort((_e,ge)=>_e.file.name===ge.file.name?_e.contextStartMs-ge.contextStartMs:_e.file.name.localeCompare(ge.file.name))},[He,i,_,n]),ut=x.useCallback(D=>{t(D)},[]),ct=x.useCallback(D=>{r(Number(D.target.value))},[]),Lt=x.useCallback(async D=>{const _e=D.target.files;if(!(!_e||_e.length===0)){v(!0),b(null);try{for(const ge of Array.from(_e))try{const xe=await uc(ge);let ze=await Wr(xe);if(!ze){const it=await ge.text();ze=await ve(it),await cc(xe,ze)}await $r({name:ge.name,bytesHash:xe,totalCues:ze.length})}catch(xe){const ze=xe instanceof Error?xe.message:"Failed to add subtitle file.";b(`Failed to process ${ge.name}: ${ze}`)}await we()}finally{v(!1),D.target.value=""}}},[ve,we]),Hi=x.useCallback(async D=>{await hw(D.id),U(_e=>{const ge={..._e};return delete ge[D.bytesHash],ge}),await we()},[we]);return u.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr,2fr]",children:[u.jsx("section",{className:"space-y-4",children:u.jsxs("div",{className:"rounded-lg bg-black/40 p-4",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Unknown words"}),Ne.length===0?u.jsx("p",{className:"mt-3 text-sm text-white/60",children:"Add words from the player to explore their quotes."}):u.jsx("div",{className:"mt-3 space-y-2 overflow-y-auto pr-1",style:{minHeight:mh.minHeight,maxHeight:mh.maxHeight},children:Ne.map(D=>u.jsx("div",{children:u.jsxs("button",{type:"button",onClick:()=>ut(D.id),className:`flex w-full flex-col gap-1 rounded-lg border px-3 py-2 text-left transition focus:outline-none focus-visible:outline-none ${D.id===e?"border-emerald-500 bg-emerald-500/10 text-white":"border-white/10 bg-white/5 text-white/80 hover:border-white/20 hover:text-white"}`,children:[u.jsx("span",{className:"text-sm font-medium text-white",children:D.original}),u.jsx("div",{className:"text-xs text-white/60",children:"Tap to see contexts"})]})},D.id))})]})}),u.jsxs("section",{className:"space-y-6",children:[u.jsxs("div",{className:"rounded-lg bg-black/40 p-4",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Subtitle sources"}),u.jsx("p",{className:"text-sm text-white/60",children:"Quotes are gathered from the files listed below."})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>B(D=>!D),disabled:i.length===0,className:`rounded-md border px-3 py-2 text-xs font-medium text-white transition focus:outline-none focus-visible:outline-none ${i.length===0?"cursor-not-allowed border-white/10 bg-white/5 text-white/40":"border-white/20 bg-white/10 hover:border-white/30 hover:bg-white/20"}`,children:i.length===0?"No files yet":A?"Collapse list":`Expand list (${i.length})`}),u.jsxs("label",{className:"inline-flex cursor-pointer items-center gap-2 rounded-md border border-dashed border-white/20 bg-white/5 px-3 py-2 text-sm text-white/80 transition hover:border-white/40",children:[u.jsx("input",{type:"file",accept:".srt",multiple:!0,className:"hidden",onChange:Lt}),u.jsx("span",{className:"font-medium",children:"Add subtitles"})]})]})]}),p&&u.jsx("p",{className:"mt-3 text-xs text-white/50",children:"Processing subtitle files"}),S&&u.jsx("p",{className:"mt-2 text-xs text-red-400",children:S}),A?u.jsx("ul",{className:"mt-4 max-h-64 space-y-2 overflow-y-auto pr-1",children:c?u.jsx("li",{className:"text-sm text-white/60",children:"Loading files"}):i.length===0?u.jsx("li",{className:"text-sm text-white/60",children:"No subtitle files stored yet."}):i.map(D=>u.jsxs("li",{className:"flex items-center justify-between rounded-md border border-white/10 bg-white/5 px-3 py-2 text-sm text-white/80",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-white",children:D.name}),u.jsxs("div",{className:"text-xs text-white/50",children:[D.totalCues," cues  Added ",new Date(D.addedAt).toLocaleString()]})]}),u.jsx("button",{type:"button",onClick:()=>Hi(D),className:"rounded bg-white/10 px-2 py-1 text-xs text-white transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",children:"Remove"})]},D.id))}):u.jsx("p",{className:"mt-4 text-sm text-white/70",children:c?"Loading files":i.length===0?"No subtitle files stored yet.":`${i.length} subtitle file${i.length===1?"":"s"} stored. Expand to manage them.`})]}),u.jsxs("div",{className:"rounded-lg bg-black/40 p-4",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Quote contexts"}),u.jsxs("label",{className:"flex items-center gap-2 text-sm text-white/70",children:[u.jsx("span",{children:"Context lines"}),u.jsx("select",{value:n,onChange:ct,className:"rounded-md border border-white/20 bg-white/5 px-2 py-1 focus:outline-none focus-visible:outline-none",children:Nw.map(D=>u.jsx("option",{value:D,children:D},D))})]})]}),u.jsxs("div",{className:"mt-3 space-y-2 rounded-md border border-white/10 bg-black/40 p-3 text-sm text-white/80",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[u.jsx("span",{className:"font-medium text-white",children:"Quote playback"}),$&&u.jsx("span",{className:"text-xs text-white/60",children:$})]}),q?u.jsx("video",{ref:ye,controls:!0,className:"w-full rounded border border-white/10",src:q,onLoadedMetadata:()=>{Q&&ye.current&&(ye.current.currentTime=Q.startMs/1e3)}}):u.jsx("p",{className:"text-xs text-white/60",children:"Select a media library folder in Settings to enable quote playback. Matching videos will be looked up by subtitle filename."}),Q&&u.jsxs("p",{className:"text-xs text-white/60",children:["Segment: ",$o(Q.startMs),"  ",$o(Q.endMs)]}),g&&u.jsx("p",{className:"text-xs text-red-400",children:g})]}),He?Et.length===0?u.jsx("p",{className:"mt-3 text-sm text-white/60",children:"No quotes found for this word in the stored subtitle files."}):u.jsx("ul",{className:"mt-4 space-y-4",children:Et.map(D=>u.jsxs("li",{className:"space-y-2 rounded-md border border-white/10 bg-white/5 p-3 text-sm text-white/80",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-xs text-white/60",children:[u.jsx("span",{className:"font-medium text-white",children:D.file.name}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsxs("span",{children:[$o(D.contextStartMs),"  ",$o(D.contextEndMs)]}),u.jsx("button",{type:"button",onClick:()=>void oe(D),disabled:!(Y!=null&&Y.handle),className:"rounded border border-white/20 bg-white/10 px-2 py-1 text-[11px] font-medium text-white transition hover:border-white/30 hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/10 disabled:text-white/40",children:"Play quote"})]})]}),u.jsx("div",{className:"space-y-1 rounded bg-black/40 p-2",children:D.cues.map((_e,ge)=>u.jsx("p",{className:`whitespace-pre-line ${ge===D.focusIndex?"font-semibold text-white":"text-white/80"}`,children:_e.rawText},`${_e.index}-${ge}`))})]},D.id))}):u.jsx("p",{className:"mt-3 text-sm text-white/60",children:"Select a word to see how it appears across your subtitles."})]})]})]})}const tl="prefs";function Jl(e){return{...e,mediaLibrary:void 0}}function Ol(e){const{videoBlob:t,...n}=e;return n}function or(e){return Array.isArray(e)?e:[]}function yh(e){if(typeof e!="string")return e;const t=e.trim();if(!t)return e;try{return JSON.parse(t)}catch{return e}}function vh(e){if(!e||typeof e!="object")return!1;const t=e;return Array.isArray(t.words)||Array.isArray(t.subtitleFiles)||Array.isArray(t.subtitleCues)||Array.isArray(t.sessions)||!!(t.prefs&&typeof t.prefs=="object")}function dy(e){if(!e||typeof e!="object")throw new Error("Invalid backup file.");const t=[e,e.data,e.payload,e.backup];for(const n of t){const r=yh(n);if(vh(r))return r;if(r&&typeof r=="object"&&"data"in r){const i=yh(r.data);if(vh(i))return i}}throw new Error("Invalid backup file: missing data.")}function fy(e,t,n,r,i){return{words:e.length,subtitleFiles:t.length,subtitleCues:n.length,sessions:r.length,hasPrefs:!!i}}function Tw(e){const t=dy(e),n=or(t.words),r=or(t.subtitleFiles),i=or(t.subtitleCues),o=t.prefs&&typeof t.prefs=="object"?Jl(t.prefs):void 0,c=or(t.sessions).map(Ol);return fy(n,r,i,c,o)}function dc(e,t){return e&&e.trim()?e:t??""}function Ow(e,t){const n=new Map,r=i=>`${i.normalized}::${i.stem}`;for(const i of e)n.set(r(i),i);for(const i of t){const o=r(i),c=n.get(o);if(!c){n.set(o,i);continue}const h=(i.updatedAt??0)>=(c.updatedAt??0),p=h?i:c,v=h?c:i,S=Math.min(c.createdAt??p.createdAt??Date.now(),i.createdAt??p.createdAt??Date.now());n.set(o,{id:c.id,original:dc(p.original,v.original),originalSentence:dc(p.originalSentence,v.originalSentence)||void 0,normalized:c.normalized||i.normalized,stem:c.stem||i.stem,createdAt:S,updatedAt:Math.max(c.updatedAt??0,i.updatedAt??0)})}return Array.from(n.values())}function Rw(e,t){const n=new Map;for(const r of e)n.set(r.bytesHash,r);for(const r of t){const i=n.get(r.bytesHash);if(!i){n.set(r.bytesHash,r);continue}const o=(r.addedAt??0)>=(i.addedAt??0),c=o?r:i,h=o?i:r;n.set(r.bytesHash,{id:i.id,name:dc(c.name,h.name),bytesHash:i.bytesHash,totalCues:Math.max(i.totalCues??0,r.totalCues??0),language:c.language??h.language,addedAt:Math.max(i.addedAt??0,r.addedAt??0)})}return Array.from(n.values())}function Lw(e,t){const n=new Map;for(const r of e)n.set(r.id,r);for(const r of t)n.set(r.id,r);return Array.from(n.values())}function Iw(e,t){if(!t)return e;const n=e??t;return Jl({...n,...t,subtitleStyle:{...n.subtitleStyle,...t.subtitleStyle},highlightColors:{...n.highlightColors,...t.highlightColors}})}function Fw(e,t){const n=new Map;for(const r of e)n.set(r.id,r);for(const r of t){const i=n.get(r.id);(!i||(r.updatedAt??0)>=(i.updatedAt??0))&&n.set(r.id,r)}return Array.from(n.values())}async function Uo(e,t,n,r){if(t.length!==0)for(let i=0;i<t.length;i+=n){const o=t.slice(i,i+n);await e.bulkPut(o),r(o.length)}}async function Mw(){const[e,t,n,r,i]=await Promise.all([ke.words.toArray(),ke.subtitleFiles.toArray(),ke.subtitleCues.toArray(),ke.prefs.get(tl),ke.sessions.toArray()]),o=r!=null&&r.value?Jl(r.value):void 0,c=i.map(Ol);return{payload:{version:1,exportedAt:new Date().toISOString(),data:{words:e,subtitleFiles:t,subtitleCues:n,prefs:o,sessions:c}},counts:{words:e.length,addedWords:0,subtitleFiles:t.length,addedSubtitleFiles:0,subtitleCues:n.length,sessions:c.length,hasPrefs:!!o}}}async function zw(e,t){const n=(ve,H)=>{var re;(re=t==null?void 0:t.onProgress)==null||re.call(t,{percent:ve,stage:H})},r=dy(e);n(2,"Opening database"),await ke.open();const i=or(r.words),o=or(r.subtitleFiles),c=or(r.subtitleCues),h=r.prefs&&typeof r.prefs=="object"?Jl(r.prefs):void 0,p=or(r.sessions).map(Ol),v=fy(i,o,c,p,h);n(5,"Loading existing data");const[S,b,_,U,A]=await Promise.all([ke.words.toArray(),ke.subtitleFiles.toArray(),ke.subtitleCues.toArray(),ke.prefs.get(tl),ke.sessions.toArray()]),B=A.map(Ol);n(25,"Merging data");const q=Ow(S,i),N=Rw(b,o),g=Lw(_,c),k=Iw(U==null?void 0:U.value,h),$=Fw(B,p);Math.max(0,q.length-S.length),Math.max(0,N.length-b.length);const J=q.length+N.length+g.length+(k?1:0)+$.length;let Q=0;const X=35,ne=95,be=(ve,H=0)=>{if(J===0){n(ne,ve);return}H>0&&(Q+=H);const re=X+Q/J*(ne-X);n(Math.min(ne,Math.max(X,re)),ve)};q.length>0&&(be("Saving words"),await Uo(ke.words,q,500,ve=>be("Saving words",ve))),N.length>0&&(be("Saving subtitle files"),await Uo(ke.subtitleFiles,N,200,ve=>be("Saving subtitle files",ve))),g.length>0&&(be("Saving subtitle cues"),await Uo(ke.subtitleCues,g,1e3,ve=>be("Saving subtitle cues",ve))),k&&(be("Saving preferences"),await ke.prefs.put({id:tl,value:k,updatedAt:Date.now()}),be("Saving preferences",1)),$.length>0&&(be("Saving sessions"),await Uo(ke.sessions,$,200,ve=>be("Saving sessions",ve))),n(100,"Finalizing");const[ye,Re,$e,se,G]=await Promise.all([ke.words.count(),ke.subtitleFiles.count(),ke.subtitleCues.count(),ke.sessions.count(),ke.prefs.get(tl)]),te=v.words>0||v.subtitleFiles>0||v.subtitleCues>0||v.sessions>0||v.hasPrefs,Y=!!(G!=null&&G.value);if(te&&ye===0&&Re===0&&$e===0&&se===0&&!Y)throw new Error("Import did not write any data. Check browser storage permissions and retry.");return{words:ye,addedWords:Math.max(0,ye-S.length),subtitleFiles:Re,addedSubtitleFiles:Math.max(0,Re-b.length),subtitleCues:$e,sessions:se,hasPrefs:Y}}function Aw(){const e=st(se=>se.prefs.subtitleStyle),t=st(se=>se.prefs.highlightColors),n=st(se=>se.prefs.mediaLibrary),r=st(se=>se.updateSubtitleStyle),i=st(se=>se.updateHighlightColors),o=st(se=>se.setMediaLibrary),c=st(se=>se.initialized),h=st(se=>se.initialize),[p,v]=x.useState(null),[S,b]=x.useState(null),[_,U]=x.useState(null),[A,B]=x.useState(!1),[q,N]=x.useState(!1),[g,k]=x.useState(null),[$,J]=x.useState(0),Q=x.useRef(null);x.useEffect(()=>{c||h()},[c,h]),x.useEffect(()=>{if(!q){J(0);return}const se=Date.now();J(0);const G=window.setInterval(()=>{J(Math.floor((Date.now()-se)/1e3))},1e3);return()=>{window.clearInterval(G)}},[q]);const X=(se,G)=>{const te=Number(se.target.value);Number.isFinite(te)&&r({[G]:G==="lineHeight"?Number(te.toFixed(2)):te})},ne=typeof window<"u"&&"showDirectoryPicker"in window,be=async()=>{var se;if(v(null),!ne){v("Your browser does not support choosing a folder");return}try{const G=await((se=window.showDirectoryPicker)==null?void 0:se.call(window));if(!G)return;const te=G.requestPermission;if(te&&await te.call(G,{mode:"read"})==="denied"){v("Folder access was denied. Please allow access to play quotes.");return}await o({handle:G,label:G.name,lastPromptedAt:Date.now()})}catch(G){v(G instanceof Error?G.message:"Unable to pick folder.")}},ye=async()=>{v(null),await o(void 0)},Re=async()=>{b(null),U(null),B(!0);try{const{payload:se,counts:G}=await Mw(),te=new Blob([JSON.stringify(se,null,2)],{type:"application/json"}),Y=URL.createObjectURL(te),ve=document.createElement("a");ve.href=Y,ve.download=`subtitle-word-tracker-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(ve),ve.click(),document.body.removeChild(ve),URL.revokeObjectURL(Y),U(`Exported ${G.words} word${G.words===1?"":"s"} and ${G.subtitleFiles} subtitle file${G.subtitleFiles===1?"":"s"}.`)}catch(se){U(null),b(se instanceof Error?se.message:"Unable to export data.")}finally{B(!1)}},$e=async se=>{var te;const G=(te=se.target.files)==null?void 0:te[0];if(G){b(null),U(null),N(!0),k({percent:5,stage:"Reading file"});try{const Y=await G.text();k({percent:15,stage:"Parsing backup"});const ve=JSON.parse(Y),H=Tw(ve);k({percent:15,stage:`Parsed backup (${H.words} words, ${H.subtitleFiles} files)`});const re=await zw(ve,{onProgress:oe=>{const we=Math.min(100,Math.max(15,15+oe.percent*.85));k({percent:we,stage:oe.stage})}});st.setState({initialized:!1}),st.getState().initialize(),vt.setState({initialized:!1}),vt.getState().initialize(),U(`Merged data. Now storing ${re.words} word${re.words===1?"":"s"} (${re.addedWords} added) and ${re.subtitleFiles} subtitle file${re.subtitleFiles===1?"":"s"} (${re.addedSubtitleFiles} added).`)}catch(Y){U(null),b(Y instanceof Error?Y.message:"Unable to import data.")}finally{N(!1),k(null),se.target.value=""}}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("section",{className:"space-y-4",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Subtitle Appearance"}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[u.jsx("span",{className:"text-white/70",children:"Font family"}),u.jsx("input",{type:"text",value:e.fontFamily,onChange:se=>void r({fontFamily:se.target.value}),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none"})]}),u.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[u.jsx("span",{className:"text-white/70",children:"Font size (px)"}),u.jsx("input",{type:"number",min:16,max:96,value:e.fontSizePx,onChange:se=>X(se,"fontSizePx"),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none"})]}),u.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[u.jsx("span",{className:"text-white/70",children:"Second subtitle font size (px)"}),u.jsx("input",{type:"number",min:16,max:96,value:e.useMainForSecondaryFontSize?e.fontSizePx:e.secondaryFontSizePx,onChange:se=>X(se,"secondaryFontSizePx"),disabled:e.useMainForSecondaryFontSize,className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none disabled:text-white/40"})]}),u.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[u.jsx("input",{type:"checkbox",checked:e.useMainForSecondaryFontSize,onChange:se=>void r({useMainForSecondaryFontSize:se.target.checked}),className:"h-4 w-4 rounded border-white/20 bg-black/60"}),u.jsx("span",{className:"text-white/70",children:"Same as main"})]}),u.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[u.jsx("span",{className:"text-white/70",children:"Font weight"}),u.jsx("input",{type:"number",min:300,max:900,step:100,value:e.fontWeight,onChange:se=>X(se,"fontWeight"),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none"})]}),u.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[u.jsx("span",{className:"text-white/70",children:"Line height"}),u.jsx("input",{type:"number",min:1,max:2,step:.05,value:e.lineHeight,onChange:se=>X(se,"lineHeight"),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none"})]}),u.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[u.jsx("span",{className:"text-white/70",children:"Text color"}),u.jsx("input",{type:"color",value:e.color,onChange:se=>void r({color:se.target.value}),className:"h-10 w-full cursor-pointer rounded-md border border-white/10 bg-black/40"})]}),u.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[u.jsx("span",{className:"text-white/70",children:"Background"}),u.jsx("input",{type:"text",value:e.bgColor,onChange:se=>void r({bgColor:se.target.value}),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none",placeholder:"rgba(0,0,0,0.35)"})]}),u.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[u.jsx("input",{type:"checkbox",checked:e.outline,onChange:se=>void r({outline:se.target.checked}),className:"h-4 w-4 rounded border-white/20 bg-black/60"}),u.jsx("span",{className:"text-white/70",children:"Outline text"})]}),u.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[u.jsx("input",{type:"checkbox",checked:e.shadow,onChange:se=>void r({shadow:se.target.checked}),className:"h-4 w-4 rounded border-white/20 bg-black/60"}),u.jsx("span",{className:"text-white/70",children:"Drop shadow"})]})]})]}),u.jsxs("section",{className:"space-y-4",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Highlight Colors"}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[u.jsx("span",{className:"text-white/70",children:"Exact match"}),u.jsx("input",{type:"color",value:t.exact,onChange:se=>void i({exact:se.target.value}),className:"h-10 w-full cursor-pointer rounded-md border border-white/10 bg-black/40"})]}),u.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[u.jsx("span",{className:"text-white/70",children:"Variant match"}),u.jsx("input",{type:"color",value:t.variant,onChange:se=>void i({variant:se.target.value}),className:"h-10 w-full cursor-pointer rounded-md border border-white/10 bg-black/40"})]})]})]}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Media Library"}),u.jsx("p",{className:"text-sm text-white/70",children:"Pick the root folder that contains your shows/movies. This enables future quote-level playback by searching for matching video files alongside your subtitles."}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsx("button",{type:"button",onClick:be,className:"rounded-md border border-white/20 bg-white/10 px-3 py-2 text-sm font-medium text-white transition hover:border-white/30 hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/10 disabled:text-white/40",children:"Choose folder"}),u.jsx("button",{type:"button",onClick:ye,disabled:!n,className:"rounded-md border border-white/10 px-3 py-2 text-sm text-white/70 transition hover:border-white/30 hover:bg-white/10 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/5 disabled:text-white/40",children:"Clear selection"}),!ne&&u.jsx("span",{className:"text-xs text-amber-300",children:"Folder selection requires a Chromium-based browser."})]}),n?u.jsxs("p",{className:"text-sm text-white/70",children:["Selected: ",u.jsx("span",{className:"font-semibold text-white",children:n.label??"Folder"})]}):u.jsx("p",{className:"text-sm text-white/60",children:"No folder selected yet."}),p&&u.jsx("p",{className:"text-sm text-red-400",children:p})]}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Data Transfer"}),u.jsx("p",{className:"text-sm text-white/70",children:"Export a full backup of your words, subtitles database, preferences, and last session. Import merges with existing data; newer timestamps win for words and subtitle files, and prefs from the backup override local settings. Media library folder access cannot be exported; reselect it after import."}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsx("button",{type:"button",onClick:Re,disabled:A,className:"rounded-md border border-white/20 bg-white/10 px-3 py-2 text-sm font-medium text-white transition hover:border-white/30 hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/10 disabled:text-white/40",children:A?"Exporting...":"Export everything"}),u.jsx("button",{type:"button",onClick:()=>{var se;return(se=Q.current)==null?void 0:se.click()},disabled:q,className:"rounded-md border border-white/20 bg-white/10 px-3 py-2 text-sm font-medium text-white transition hover:border-white/30 hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/10 disabled:text-white/40",children:q?"Importing...":"Import everything"}),u.jsx("input",{ref:Q,type:"file",accept:".json",className:"hidden",onChange:$e})]}),q&&g?u.jsxs("div",{className:"mt-2 w-full",children:[u.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded bg-white/10",children:u.jsx("div",{className:"h-full bg-emerald-400 transition-all duration-300",style:{width:`${g.percent}%`}})}),u.jsxs("p",{className:"mt-1 text-xs text-white/60",children:["Importing: ",g.stage," (",Math.round(g.percent),"%, ",$,"s)"]})]}):null,S&&u.jsx("p",{className:"text-sm text-red-400",children:S}),_&&u.jsx("p",{className:"text-sm text-emerald-400",children:_})]}),u.jsxs("section",{className:"space-y-2",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Preview"}),u.jsxs("div",{className:"rounded-lg border border-white/10 bg-black/60 p-4 text-center text-lg",style:{fontFamily:e.fontFamily,fontSize:e.fontSizePx,fontWeight:e.fontWeight,lineHeight:e.lineHeight,color:e.color,textShadow:e.shadow?"0 2px 8px rgba(0,0,0,0.8)":"none",WebkitTextStroke:e.outline?"1px rgba(0,0,0,0.9)":"0",background:e.bgColor},children:["Subtitle preview with ",u.jsx("span",{style:{background:t.exact},children:"exact"})," and",u.jsx("span",{style:{background:t.variant,marginLeft:8},children:"variant"})," highlights."]})]})]})}function Dw(e,t){return t===0?0:Math.round(e/t*1e3)/10}function $w(){const e=vt(S=>S.words),t=vt(S=>S.initialize),n=vt(S=>S.initialized),[r,i]=x.useState([]),[o,c]=x.useState(!1),[h,p]=x.useState({totalTokens:0,unknownTokens:0});x.useEffect(()=>{n||t()},[t,n]),x.useEffect(()=>{let S=!1;return(async()=>{c(!0);const _=await ly();S||(i(_),c(!1))})(),()=>{S=!0}},[]),x.useEffect(()=>{let S=!1;if(r.length===0){p({totalTokens:0,unknownTokens:0});return}return(async()=>{const _=new Map,U=new Map;for(const q of e)_.set(q.normalized.toLowerCase(),q),U.set(q.stem,q);let A=0,B=0;for(const q of r){const N=await Wr(q.bytesHash);if(N)for(const g of N){const k=g.tokens??zn(g.rawText);for(const $ of k){if(!$.isWord)continue;A+=1,(_.get($.normalized)??U.get($.stem))&&(B+=1)}}}S||p({totalTokens:A,unknownTokens:B})})(),()=>{S=!0}},[r,e]);const v=x.useMemo(()=>h.unknownTokens===0?null:Math.max(1,Math.round(h.totalTokens/h.unknownTokens)),[h.totalTokens,h.unknownTokens]);return u.jsx("div",{className:"space-y-6",children:u.jsxs("section",{className:"grid gap-4 md:grid-cols-3",children:[u.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-4",children:[u.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Unknown words saved"}),u.jsx("p",{className:"mt-2 text-2xl font-semibold text-white",children:e.length}),u.jsx("p",{className:"text-xs text-white/60",children:e.length===0?"Add words from the player to start tracking.":`Covers ${h.totalTokens.toLocaleString()} word tokens in your library.`})]}),u.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-4",children:[u.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Encounter rate"}),u.jsx("p",{className:"mt-2 text-2xl font-semibold text-white",children:v?`1 in ${v}`:""}),u.jsx("p",{className:"text-xs text-white/60",children:h.totalTokens===0?"Add subtitles to measure coverage.":`${Dw(h.unknownTokens,h.totalTokens)}% of words you see are on your unknown list.`})]}),u.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-4",children:[u.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Library coverage"}),u.jsx("p",{className:"mt-2 text-2xl font-semibold text-white",children:r.length}),u.jsxs("p",{className:"text-xs text-white/60",children:["Subtitle files stored  ",o?"Loading":`${h.totalTokens.toLocaleString()} word tokens scanned`]})]})]})})}const su=64*1024,gh="https://api.opensubtitles.com/api/v1",ou="oq1XXcuCnNOnaFDKbknI2pxaQO8TiiU5",xh="Er4Y8GbS7JoCcLf9oJmjc2noj2wIsrNu",wh="UVUt5ZRVmROJD7ot9JVJY63n8RTIhxYW",Uw="ofir gaash v1.0",bh=async(e,t,n)=>{const i=await e.slice(t,t+n).arrayBuffer();return new DataView(i)},Sh=e=>{let t=0n;const n=e.byteLength-e.byteLength%8;for(let r=0;r<n;r+=8)t+=e.getBigUint64(r,!0);return t},Bw=async e=>{const t=e.size,n=await bh(e,0,su),r=Math.max(0,t-su),i=await bh(e,r,su);let o=BigInt(t);return o+=Sh(n),o+=Sh(i),o.toString(16).padStart(16,"0")},kh=e=>({"Api-Key":e.trim(),"Content-Type":"application/json","X-User-Agent":Uw}),lu=async e=>{let t="";try{t=await e.text()}catch(c){t=`Unable to read response body: ${c.message}`}const n=e.headers.get("x-kong-request-id")||e.headers.get("x-request-id")||e.headers.get("x-amzn-requestid"),r=e.headers.get("retry-after"),i=e.headers.get("content-type");return[`Status: ${e.status} ${e.statusText}`.trim(),n?`Request ID: ${n}`:null,r?`Retry-After: ${r}`:null,i?`Content-Type: ${i}`:null,t?`Body: ${t.slice(0,800)}`:null].filter(Boolean).join(`
`)},Kw={neutral:"border-white/10 bg-white/5 text-white/70",loading:"border-sky-400/40 bg-sky-400/10 text-sky-100",success:"border-emerald-400/40 bg-emerald-400/10 text-emerald-100",error:"border-rose-400/40 bg-rose-400/10 text-rose-100"};function Ww(){const[e,t]=x.useState(ou),[n,r]=x.useState(null),[i,o]=x.useState("en"),[c,h]=x.useState({summary:"",tone:"neutral"}),[p,v]=x.useState(null),[S,b]=x.useState(!1),[_,U]=x.useState(null),[A,B]=x.useState("downloads"),[q,N]=x.useState("desc"),g=x.useCallback((te,Y="neutral",ve)=>{h({summary:te,tone:Y,details:ve})},[]),k=x.useCallback(()=>e.trim()?n?!0:(g("Please choose a video file.","error"),!1):(g("Please enter your OpenSubtitles API key.","error"),!1),[e,n,g]),$=x.useCallback(()=>{v([])},[]),J=x.useCallback(async te=>{var Y;$(),g("Searching OpenSubtitles...","loading"),b(!0);try{const ve=new URL(`${gh}/subtitles`);Object.entries(te).forEach(([oe,we])=>{we&&ve.searchParams.set(oe,we)});const H=await fetch(ve,{headers:kh(e)});if(!H.ok){const oe=await lu(H);throw new Error(`Search failed.
${oe}`)}const re=await H.json();v(re.data??[]),g(`Found ${re.total_count??((Y=re.data)==null?void 0:Y.length)??0} subtitle(s).`,"success")}catch(ve){const H=ve.message||"Search failed.",[re,...oe]=H.split(`
`);g(re,"error",oe.join(`
`)),$()}finally{b(!1)}},[e,$,g]),Q=async()=>{if(!(!k()||!n)){g("Calculating video hash...","loading");try{const te=await Bw(n);await J({moviehash:te,moviehash_match:"1",languages:i})}catch(te){g(`Hash failed: ${te.message}`,"error")}}},X=async()=>{!k()||!n||await J({query:n.name,languages:i})},ne=async te=>{var ve;const Y=(ve=te.attributes.files)==null?void 0:ve[0];if(!(Y!=null&&Y.file_id)){g("This subtitle entry does not include a file id.","error");return}g("Preparing download...","loading");try{const H=await fetch(`${gh}/download`,{method:"POST",headers:kh(e),body:JSON.stringify({file_id:Y.file_id})});if(!H.ok){const oe=await lu(H);throw new Error(`Download request failed.
${oe}`)}const re=await H.json();v(oe=>(oe==null?void 0:oe.map(we=>we.id===te.id?{...we,downloadLink:re.link}:we))??[]),g("Download link ready.","success")}catch(H){const re=H.message||"Download request failed.",[oe,...we]=re.split(`
`);g(oe,"error",we.join(`
`))}},be=x.useCallback(async te=>{var ve,H;if(!te.downloadLink){g("Download link not ready yet.","error");return}const Y=((H=(ve=te.attributes.files)==null?void 0:ve[0])==null?void 0:H.file_name)??`subtitle-${te.id}.srt`;U(te.id),g(`Downloading ${Y}...`,"loading");try{const re=await fetch(te.downloadLink);if(!re.ok){const He=await lu(re);throw new Error(`Subtitle download failed.
${He}`)}const oe=await re.blob(),we=URL.createObjectURL(oe),Ne=document.createElement("a");Ne.href=we,Ne.download=Y,document.body.appendChild(Ne),Ne.click(),document.body.removeChild(Ne),URL.revokeObjectURL(we),g(`Downloaded ${Y}.`,"success")}catch(re){const oe=re.message||"Subtitle download failed.",[we,...Ne]=oe.split(`
`);g(we,"error",Ne.join(`
`))}finally{U(null)}},[g]),ye=Kw[c.tone],Re=c.summary||"",$e=x.useMemo(()=>p!==null&&p.length===0,[p]),se=x.useMemo(()=>{if(!p)return null;const te=q==="asc"?1:-1;return[...p].sort((Y,ve)=>{var oe,we,Ne,He;const H=((we=(oe=Y.attributes.files)==null?void 0:oe[0])==null?void 0:we.file_name)??"Untitled release",re=((He=(Ne=ve.attributes.files)==null?void 0:Ne[0])==null?void 0:He.file_name)??"Untitled release";switch(A){case"title":return H.localeCompare(re,void 0,{sensitivity:"base"})*te;case"downloads":return((Y.attributes.download_count??0)-(ve.attributes.download_count??0))*te;case"hearingImpaired":return(Number(Y.attributes.hearing_impaired)-Number(ve.attributes.hearing_impaired))*te;default:return 0}})},[p,q,A]),G=x.useCallback(te=>{if(A===te){N(Y=>Y==="asc"?"desc":"asc");return}B(te),N("desc")},[A]);return u.jsxs("div",{className:"space-y-8",children:[u.jsxs("header",{className:"rounded-2xl border border-white/10 bg-gradient-to-br from-white/10 via-white/5 to-transparent p-6 shadow-lg",children:[u.jsx("p",{className:"text-sm uppercase tracking-[0.2em] text-white/60",children:"VLSub Web"}),u.jsx("h2",{className:"mt-3 text-3xl font-semibold text-white",children:"Find subtitles for your video, straight from your browser."}),u.jsx("p",{className:"mt-3 max-w-2xl text-sm text-white/70",children:"Select a local video file, look up subtitles by hash or filename, and download the match you want. Powered by the OpenSubtitles API."})]}),u.jsxs("section",{className:"grid gap-6 lg:grid-cols-2",children:[u.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 shadow-md",children:[u.jsx("h3",{className:"text-lg font-semibold text-white",children:"1. Connect to OpenSubtitles"}),u.jsxs("p",{className:"mt-2 text-sm text-white/60",children:["Enter your OpenSubtitles API key to search and download subtitles. You can create one at"," ",u.jsx("a",{href:"https://www.opensubtitles.com/",target:"_blank",rel:"noreferrer",className:"text-white underline decoration-white/40 underline-offset-4",children:"opensubtitles.com"}),"."]}),u.jsxs("label",{className:"mt-4 flex flex-col gap-2 text-sm text-white/70",children:[u.jsx("span",{children:"API Key"}),u.jsx("input",{id:"apiKey",type:"text",placeholder:"Paste your API key",value:e,onChange:te=>t(te.target.value),className:"rounded-lg border border-white/10 bg-white/10 px-3 py-2 text-sm text-white placeholder:text-white/40 focus:border-white/40 focus:outline-none"}),u.jsxs("div",{className:"text-xs text-white/50",children:[u.jsx("div",{className:"mt-1",children:"If running locally, use:"}),u.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-white/70",children:[u.jsx("span",{className:"rounded bg-white/10 px-2 py-1 text-xs",children:xh}),u.jsx("button",{type:"button",onClick:()=>t(xh),className:"rounded border border-white/10 px-2 py-1 text-[11px] text-white/70 transition hover:border-white/30 hover:bg-white/10",children:"Use this"})]}),u.jsx("div",{className:"mt-2",children:"If running from GitHub, use:"}),u.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-white/70",children:[u.jsx("span",{className:"rounded bg-white/10 px-2 py-1 text-xs",children:ou}),u.jsx("button",{type:"button",onClick:()=>t(ou),className:"rounded border border-white/10 px-2 py-1 text-[11px] text-white/70 transition hover:border-white/30 hover:bg-white/10",children:"Use this"})]}),u.jsx("div",{className:"mt-2",children:"Or"}),u.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-white/70",children:[u.jsx("span",{className:"rounded bg-white/10 px-2 py-1 text-xs",children:wh}),u.jsx("button",{type:"button",onClick:()=>t(wh),className:"rounded border border-white/10 px-2 py-1 text-[11px] text-white/70 transition hover:border-white/30 hover:bg-white/10",children:"Use this"})]})]})]})]}),u.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 shadow-md",children:[u.jsx("h3",{className:"text-lg font-semibold text-white",children:"2. Choose your video"}),u.jsx("p",{className:"mt-2 text-sm text-white/60",children:"We never upload your video. The hash is computed locally in your browser."}),u.jsxs("div",{className:"mt-4 flex flex-col gap-2 text-sm text-white/70",children:[u.jsx("span",{children:"Video file"}),u.jsx("input",{id:"videoFile",type:"file",accept:"video/*,.mkv,.mp4,.mov,.avi,.wmv,.flv,.webm,.m4v,.mpg,.mpeg",onChange:te=>{var ve;const Y=((ve=te.target.files)==null?void 0:ve[0])??null;r(Y),g(Y?`Selected ${Y.name}`:"","neutral")},className:"rounded-lg border border-white/10 bg-white/10 px-3 py-2 text-sm text-white file:mr-4 file:rounded-md file:border-0 file:bg-white/20 file:px-3 file:py-2 file:text-sm file:text-white hover:file:bg-white/30"})]}),u.jsxs("div",{className:"mt-4 flex flex-col gap-2 text-sm text-white/70",children:[u.jsx("span",{children:"Preferred language"}),u.jsxs("select",{id:"language",value:i,onChange:te=>o(te.target.value),className:"rounded-lg border border-white/20 bg-white px-3 py-2 text-sm text-slate-900 focus:border-white/40 focus:outline-none",children:[u.jsx("option",{value:"en",children:"English"}),u.jsx("option",{value:"he",children:"Hebrew"}),u.jsx("option",{value:"ar",children:"Arabic"}),u.jsx("option",{value:"hi",children:"Hindi"}),u.jsx("option",{value:"es",children:"Spanish"}),u.jsx("option",{value:"fr",children:"French"}),u.jsx("option",{value:"de",children:"German"}),u.jsx("option",{value:"it",children:"Italian"}),u.jsx("option",{value:"pt",children:"Portuguese"}),u.jsx("option",{value:"nl",children:"Dutch"}),u.jsx("option",{value:"pl",children:"Polish"}),u.jsx("option",{value:"sv",children:"Swedish"}),u.jsx("option",{value:"tr",children:"Turkish"}),u.jsx("option",{value:"ja",children:"Japanese"}),u.jsx("option",{value:"ko",children:"Korean"}),u.jsx("option",{value:"zh",children:"Chinese"})]})]}),u.jsxs("div",{className:"mt-5 flex flex-wrap gap-3",children:[u.jsx("button",{id:"searchHash",type:"button",onClick:Q,disabled:S,className:"rounded-full border border-white/20 bg-white/10 px-4 py-2 text-sm font-medium text-white transition hover:bg-white/20 disabled:cursor-not-allowed disabled:opacity-60",children:"Search by hash"}),u.jsx("button",{id:"searchName",type:"button",onClick:X,disabled:S,className:"rounded-full border border-white/10 px-4 py-2 text-sm font-medium text-white/70 transition hover:border-white/20 hover:bg-white/10 disabled:cursor-not-allowed disabled:opacity-60",children:"Search by filename"})]}),u.jsxs("div",{id:"status",role:"status","aria-live":"polite",className:`mt-4 rounded-xl border px-4 py-3 text-sm ${ye}`,children:[Re,c.details?u.jsxs("details",{className:"mt-3 text-xs text-white/70",open:!0,children:[u.jsx("summary",{className:"cursor-pointer text-white/80",children:"Show details"}),u.jsx("pre",{className:"mt-2 whitespace-pre-wrap text-xs text-white/60",children:c.details})]}):null]})]})]}),u.jsxs("section",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 shadow-md",children:[u.jsx("h3",{className:"text-lg font-semibold text-white",children:"3. Download your subtitle"}),u.jsxs("div",{id:"results",className:"mt-4 space-y-4",children:[p===null?u.jsx("p",{className:"text-sm text-white/60",children:"Search results will appear here."}):null,$e?u.jsx("p",{className:"text-sm text-white/60",children:"No subtitles found. Try another search."}):null,se&&se.length>0?u.jsx("div",{className:"overflow-hidden rounded-xl border border-white/10",children:u.jsxs("table",{className:"w-full text-left text-sm text-white/80",children:[u.jsx("thead",{className:"bg-white/10 text-xs uppercase tracking-wide text-white/60",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3",children:u.jsxs("button",{type:"button",onClick:()=>G("title"),className:"flex items-center gap-2 hover:text-white",children:["Title",A==="title"?q==="asc"?"":"":null]})}),u.jsx("th",{className:"px-4 py-3",children:u.jsxs("button",{type:"button",onClick:()=>G("downloads"),className:"flex items-center gap-2 hover:text-white",children:["Downloads",A==="downloads"?q==="asc"?"":"":null]})}),u.jsx("th",{className:"px-4 py-3",children:u.jsxs("button",{type:"button",onClick:()=>G("hearingImpaired"),className:"flex items-center gap-2 hover:text-white",children:["Hearing impaired",A==="hearingImpaired"?q==="asc"?"":"":null]})}),u.jsx("th",{className:"px-4 py-3 text-right",children:"Action"})]})}),u.jsx("tbody",{className:"divide-y divide-white/5",children:se.map(te=>{var H;const Y=(H=te.attributes.files)==null?void 0:H[0],ve=(Y==null?void 0:Y.file_name)??"Untitled release";return u.jsxs("tr",{className:"bg-white/5",children:[u.jsx("td",{className:"px-4 py-3",children:u.jsx("div",{className:"font-semibold text-white",children:ve})}),u.jsx("td",{className:"px-4 py-3 text-xs",children:te.attributes.download_count??"-"}),u.jsx("td",{className:"px-4 py-3 text-xs",children:te.attributes.hearing_impaired?"Yes":"No"}),u.jsx("td",{className:"px-4 py-3 text-right text-xs",children:te.downloadLink?u.jsx("button",{type:"button",onClick:()=>void be(te),disabled:_===te.id,className:"inline-flex min-w-[9.5rem] items-center justify-center rounded-full border border-white/20 px-3 py-1 text-xs text-white/80 transition hover:bg-white/10 disabled:cursor-not-allowed disabled:opacity-60",children:_===te.id?"Downloading...":"Download subtitle"}):u.jsx("button",{type:"button",onClick:()=>ne(te),disabled:S,className:"inline-flex min-w-[9.5rem] items-center justify-center whitespace-nowrap rounded-full border border-white/20 bg-white/10 px-3 py-1 text-xs text-white transition hover:bg-white/20 disabled:cursor-not-allowed disabled:opacity-60",children:"Get download link"})})]},te.id)})})]})}):null]})]}),u.jsx("footer",{className:"text-xs text-white/50",children:"Built from the original VLSub workflow. This demo uses the OpenSubtitles API and requires your own API key."})]})}function Hw(){return u.jsxs("div",{className:"space-y-6 text-right text-sm text-white/80",dir:"rtl",children:[u.jsxs("section",{className:"space-y-3",children:[u.jsx("p",{children:"   ."}),u.jsxs("p",{children:["  ",u.jsx("strong",{children:"  "}),"    ."]})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:" 1    / "}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsx("li",{children:"    "}),u.jsxs("li",{children:["    ",u.jsx("strong",{children:""}),"  Dolby Digital",u.jsx("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:u.jsxs("li",{children:[" ",u.jsx("strong",{children:"AAC"}),"  "]})})]}),u.jsxs("li",{children:["    :",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsx("li",{children:u.jsx("a",{href:"http://rargb.to/",target:"_blank",rel:"noreferrer",className:"text-white underline decoration-white/40 underline-offset-4",children:"http://rargb.to/"})}),u.jsx("li",{children:u.jsx("a",{href:"https://1337x.to/",target:"_blank",rel:"noreferrer",className:"text-white underline decoration-white/40 underline-offset-4",children:"https://1337x.to/"})})]})]}),u.jsx("li",{children:"         (  )"})]})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:" 2    "}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsxs("li",{children:["   ",u.jsx("strong",{children:" "})]}),u.jsxs("li",{children:["     ",u.jsx("code",{className:"rounded bg-white/10 px-1",children:"srt"})]}),u.jsx("li",{children:"         "}),u.jsxs("li",{children:[" :",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsxs("li",{children:[" ",u.jsx("a",{href:"https://opensubtitles.org",target:"_blank",rel:"noreferrer",className:"mr-1 text-white underline decoration-white/40 underline-offset-4",children:"opensubtitles.org"})]}),u.jsxs("li",{children:["  ",u.jsx("strong",{children:"Find Subs"})," ",u.jsx("blockquote",{className:"mt-2 rounded border-l-2 border-white/20 bg-white/5 px-3 py-2 text-xs text-white/60",children:" :           "})]})]})]})]})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:" 3    ( )"}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsx("li",{children:"  "}),u.jsx("li",{children:"     2"})]})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:" 4   "}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsxs("li",{children:["  ",u.jsx("strong",{children:" "})]}),u.jsxs("li",{children:["  ",u.jsx("strong",{children:" "})]}),u.jsxs("li",{children:["   ",u.jsx("strong",{children:"Player"})]})]})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:" 5    "}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsx("li",{children:"  Play"}),u.jsxs("li",{children:["   :",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsx("li",{children:"     "}),u.jsx("li",{children:"      "})]})]}),u.jsxs("li",{children:["  :",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsxs("li",{children:["    ",u.jsx("strong",{children:"Second Subtitles"})]}),u.jsxs("li",{children:["  /      ",u.jsx("strong",{children:"H"})]})]})]})]})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:" 6   Words"}),u.jsx("ul",{className:"list-disc space-y-2 pr-5",children:u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Words"})," :",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsx("li",{children:"    "}),u.jsx("li",{children:"       "}),u.jsx("li",{children:"      "})]})]})})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:" 7    ChatGPT"}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsxs("li",{children:["    :",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsx("li",{children:"      "}),u.jsx("li",{children:"   ChatGPT"})]})]}),u.jsx("li",{children:"        "}),u.jsxs("li",{children:[": ",u.jsx("strong",{children:"   ChatGPT"}),"  "]})]})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:" 8   "}),u.jsx("ul",{className:"list-disc space-y-2 pr-5",children:u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Quotes ()"}),":",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsx("li",{children:"  "}),u.jsx("li",{children:"      "}),u.jsx("li",{children:"      "})]})]})})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:" 9    '"}),u.jsx("p",{children:"   '     ."}),u.jsx("h3",{className:"text-base font-semibold text-white",children:" "}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsxs("li",{children:["     (",u.jsx("strong",{children:"H"}),")"]}),u.jsx("li",{children:"     "}),u.jsxs("li",{children:["   (",u.jsx("strong",{children:"H"}),")"]}),u.jsxs("li",{children:[":",u.jsx("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:u.jsxs("li",{children:["",u.jsx("strong",{children:"Settings"}),"       (    )"]})})]})]}),u.jsx("h3",{className:"text-base font-semibold text-white",children:"  "}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsxs("li",{children:[u.jsx("strong",{children:"F"}),"   "]}),u.jsx("li",{children:"   5   / "}),u.jsxs("li",{children:[u.jsx("strong",{children:""}),"   / "]})]})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:"  (Settings)"}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsx("li",{children:"  "}),u.jsxs("li",{children:["   :",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsxs("li",{children:["  ( ",u.jsx("code",{className:"rounded bg-white/10 px-1",children:"actor"}),") :"]}),u.jsx("li",{children:"      "}),u.jsxs("li",{children:["      (",u.jsx("code",{className:"rounded bg-white/10 px-1",children:"act"}),","," ",u.jsx("code",{className:"rounded bg-white/10 px-1",children:"acting"}),","," ",u.jsx("code",{className:"rounded bg-white/10 px-1",children:"actress"})," )"]})]})]}),u.jsxs("li",{children:[" :",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsx("li",{children:"   / "}),u.jsxs("li",{children:["  ",u.jsx("strong",{children:"Offset"})]}),u.jsx("li",{children:" Offset    "})]})]})]})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:"   Words"}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsxs("li",{children:["  ",u.jsx("strong",{children:"  "}),":",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsx("li",{children:"    "}),u.jsxs("li",{children:["   ",u.jsx("em",{children:"nice to have"})]})]})]}),u.jsxs("li",{children:["  ",u.jsx("strong",{children:"  "}),":",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsx("li",{children:"   "}),u.jsxs("li",{children:[":",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsxs("li",{children:[u.jsx("code",{className:"rounded bg-white/10 px-1",children:"wind"})," =  "]}),u.jsxs("li",{children:[u.jsx("code",{className:"rounded bg-white/10 px-1",children:"to wind up"})," =  "]}),u.jsxs("li",{children:[u.jsx("code",{className:"rounded bg-white/10 px-1",children:"corporate"}),"   "]}),u.jsxs("li",{children:[u.jsx("code",{className:"rounded bg-white/10 px-1",children:"corporate"}),"      "]})]})]})]})]})]})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:"  "}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsxs("li",{children:["  ?",u.jsxs("ol",{className:"mt-2 list-decimal space-y-1 pr-5",children:[u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Words"}),"   ",u.jsx("strong",{children:"Export JSON"})]}),u.jsxs("li",{children:["    ",u.jsx("strong",{children:"Import"})]})]})]}),u.jsxs("li",{children:["   ?",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Quotes"}),"      "]}),u.jsx("li",{children:"    "})]})]})]})]}),u.jsx("hr",{className:"border-white/10"}),u.jsxs("section",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:"  Find Subtitles"}),u.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[u.jsx("li",{children:"    API"}),u.jsxs("li",{children:["   ",u.jsx("strong",{children:"5  "}),"  "]}),u.jsx("li",{children:"      "}),u.jsxs("li",{children:[":",u.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[u.jsxs("li",{children:["  ",u.jsx("strong",{children:" "}),"  "]}),u.jsxs("li",{children:["  ",u.jsx("strong",{children:"Hash"})," "]})]})]})]})]})]})}const zr=({isActive:e})=>`px-3 py-2 rounded-md text-sm font-medium transition-colors ${e?"bg-white/10 text-white":"text-white/70 hover:text-white hover:bg-white/5"}`;function Vw(){const e=st(i=>i.prefs.subtitleStyle),t=st(i=>i.prefs.highlightColors),n=st(i=>i.initialize),r=st(i=>i.initialized);return x.useEffect(()=>{r||n()},[r,n]),x.useEffect(()=>{const i=document.documentElement.style;i.setProperty("--subtitle-font-family",e.fontFamily),i.setProperty("--subtitle-font-size",`${e.fontSizePx}px`);const o=e.useMainForSecondaryFontSize?e.fontSizePx:e.secondaryFontSizePx;i.setProperty("--subtitle-secondary-font-size",`${o}px`),i.setProperty("--subtitle-font-weight",`${e.fontWeight}`),i.setProperty("--subtitle-color",e.color),i.setProperty("--subtitle-bg",e.bgColor),i.setProperty("--subtitle-line-height",`${e.lineHeight}`),i.setProperty("--subtitle-outline",e.outline?"1":"0"),i.setProperty("--subtitle-shadow",e.shadow?"1":"0"),i.setProperty("--highlight-exact",t.exact),i.setProperty("--highlight-variant",t.variant)},[e,t]),u.jsx("div",{className:"min-h-screen bg-background text-foreground",children:u.jsxs("div",{className:"mx-auto flex max-w-6xl flex-col gap-6 px-4 py-6",children:[u.jsxs("header",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsx("h1",{className:"text-2xl font-semibold",children:"Subtitle Word Tracker"}),u.jsxs("nav",{className:"flex gap-2",children:[u.jsx(Ir,{to:"/",className:zr,end:!0,children:"Player"}),u.jsx(Ir,{to:"/words",className:zr,children:"Words"}),u.jsx(Ir,{to:"/quotes",className:zr,children:"Quotes"}),u.jsx(Ir,{to:"/stats",className:zr,children:"Stats"}),u.jsx(Ir,{to:"/settings",className:zr,children:"Settings"}),u.jsx(Ir,{to:"/vlsub",className:zr,children:"Find Subs"}),u.jsx(Ir,{to:"/help",className:zr,children:"?"})]})]}),u.jsx("main",{className:"flex-1 rounded-lg border border-white/10 bg-white/5 p-6 shadow-xl backdrop-blur",children:u.jsxs(Jx,{children:[u.jsx(Rn,{path:"/",element:u.jsx(ph,{})}),u.jsx(Rn,{path:"/words",element:u.jsx(jw,{})}),u.jsx(Rn,{path:"/quotes",element:u.jsx(Pw,{})}),u.jsx(Rn,{path:"/stats",element:u.jsx($w,{})}),u.jsx(Rn,{path:"/settings",element:u.jsx(Aw,{})}),u.jsx(Rn,{path:"/vlsub",element:u.jsx(Ww,{})}),u.jsx(Rn,{path:"/help",element:u.jsx(Hw,{})}),u.jsx(Rn,{path:"*",element:u.jsx(ph,{})})]})}),u.jsx("footer",{className:"text-xs text-white/40",children:"Local-first learning tool for movie subtitles."})]})})}const qw="./",Bo=new URL(qw,window.location.href).pathname,nl=Bo.length>1&&Bo.endsWith("/")?Bo.slice(0,-1):Bo,jh=new URLSearchParams(window.location.search).get("path");if(jh){const e=decodeURIComponent(jh),t=nl==="/"?"":nl,n=e.startsWith(t)?e.slice(t.length)||"/":e;window.history.replaceState(null,"",`${nl}${n}`)}au.createRoot(document.getElementById("root")).render(u.jsx(vc.StrictMode,{children:u.jsx(o0,{basename:nl,children:u.jsx(Vw,{})})}));
