var rg=Object.defineProperty;var ig=(e,t,n)=>t in e?rg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Nr=(e,t,n)=>ig(e,typeof t!="symbol"?t+"":t,n);function sg(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var nf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ac(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xh={exports:{}},ra={},Jh={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var No=Symbol.for("react.element"),og=Symbol.for("react.portal"),lg=Symbol.for("react.fragment"),ag=Symbol.for("react.strict_mode"),ug=Symbol.for("react.profiler"),cg=Symbol.for("react.provider"),dg=Symbol.for("react.context"),fg=Symbol.for("react.forward_ref"),hg=Symbol.for("react.suspense"),pg=Symbol.for("react.memo"),mg=Symbol.for("react.lazy"),rf=Symbol.iterator;function yg(e){return e===null||typeof e!="object"?null:(e=rf&&e[rf]||e["@@iterator"],typeof e=="function"?e:null)}var Zh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ep=Object.assign,tp={};function xs(e,t,n){this.props=e,this.context=t,this.refs=tp,this.updater=n||Zh}xs.prototype.isReactComponent={};xs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function np(){}np.prototype=xs.prototype;function Dc(e,t,n){this.props=e,this.context=t,this.refs=tp,this.updater=n||Zh}var $c=Dc.prototype=new np;$c.constructor=Dc;ep($c,xs.prototype);$c.isPureReactComponent=!0;var sf=Array.isArray,rp=Object.prototype.hasOwnProperty,Uc={current:null},ip={key:!0,ref:!0,__self:!0,__source:!0};function sp(e,t,n){var r,i={},o=null,u=null;if(t!=null)for(r in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(o=""+t.key),t)rp.call(t,r)&&!ip.hasOwnProperty(r)&&(i[r]=t[r]);var f=arguments.length-2;if(f===1)i.children=n;else if(1<f){for(var p=Array(f),g=0;g<f;g++)p[g]=arguments[g+2];i.children=p}if(e&&e.defaultProps)for(r in f=e.defaultProps,f)i[r]===void 0&&(i[r]=f[r]);return{$$typeof:No,type:e,key:o,ref:u,props:i,_owner:Uc.current}}function gg(e,t){return{$$typeof:No,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Bc(e){return typeof e=="object"&&e!==null&&e.$$typeof===No}function vg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var of=/\/+/g;function Ya(e,t){return typeof e=="object"&&e!==null&&e.key!=null?vg(""+e.key):t.toString(36)}function pl(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(o){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case No:case og:u=!0}}if(u)return u=e,i=i(u),e=r===""?"."+Ya(u,0):r,sf(i)?(n="",e!=null&&(n=e.replace(of,"$&/")+"/"),pl(i,t,n,"",function(g){return g})):i!=null&&(Bc(i)&&(i=gg(i,n+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(of,"$&/")+"/")+e)),t.push(i)),1;if(u=0,r=r===""?".":r+":",sf(e))for(var f=0;f<e.length;f++){o=e[f];var p=r+Ya(o,f);u+=pl(o,t,n,p,i)}else if(p=yg(e),typeof p=="function")for(e=p.call(e),f=0;!(o=e.next()).done;)o=o.value,p=r+Ya(o,f++),u+=pl(o,t,n,p,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function Qo(e,t,n){if(e==null)return e;var r=[],i=0;return pl(e,r,"","",function(o){return t.call(n,o,i++)}),r}function xg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $t={current:null},ml={transition:null},wg={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:ml,ReactCurrentOwner:Uc};function op(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:Qo,forEach:function(e,t,n){Qo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Qo(e,function(){t++}),t},toArray:function(e){return Qo(e,function(t){return t})||[]},only:function(e){if(!Bc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ae.Component=xs;Ae.Fragment=lg;Ae.Profiler=ug;Ae.PureComponent=Dc;Ae.StrictMode=ag;Ae.Suspense=hg;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wg;Ae.act=op;Ae.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ep({},e.props),i=e.key,o=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,u=Uc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(p in t)rp.call(t,p)&&!ip.hasOwnProperty(p)&&(r[p]=t[p]===void 0&&f!==void 0?f[p]:t[p])}var p=arguments.length-2;if(p===1)r.children=n;else if(1<p){f=Array(p);for(var g=0;g<p;g++)f[g]=arguments[g+2];r.children=f}return{$$typeof:No,type:e.type,key:i,ref:o,props:r,_owner:u}};Ae.createContext=function(e){return e={$$typeof:dg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cg,_context:e},e.Consumer=e};Ae.createElement=sp;Ae.createFactory=function(e){var t=sp.bind(null,e);return t.type=e,t};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(e){return{$$typeof:fg,render:e}};Ae.isValidElement=Bc;Ae.lazy=function(e){return{$$typeof:mg,_payload:{_status:-1,_result:e},_init:xg}};Ae.memo=function(e,t){return{$$typeof:pg,type:e,compare:t===void 0?null:t}};Ae.startTransition=function(e){var t=ml.transition;ml.transition={};try{e()}finally{ml.transition=t}};Ae.unstable_act=op;Ae.useCallback=function(e,t){return $t.current.useCallback(e,t)};Ae.useContext=function(e){return $t.current.useContext(e)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(e){return $t.current.useDeferredValue(e)};Ae.useEffect=function(e,t){return $t.current.useEffect(e,t)};Ae.useId=function(){return $t.current.useId()};Ae.useImperativeHandle=function(e,t,n){return $t.current.useImperativeHandle(e,t,n)};Ae.useInsertionEffect=function(e,t){return $t.current.useInsertionEffect(e,t)};Ae.useLayoutEffect=function(e,t){return $t.current.useLayoutEffect(e,t)};Ae.useMemo=function(e,t){return $t.current.useMemo(e,t)};Ae.useReducer=function(e,t,n){return $t.current.useReducer(e,t,n)};Ae.useRef=function(e){return $t.current.useRef(e)};Ae.useState=function(e){return $t.current.useState(e)};Ae.useSyncExternalStore=function(e,t,n){return $t.current.useSyncExternalStore(e,t,n)};Ae.useTransition=function(){return $t.current.useTransition()};Ae.version="18.3.1";Jh.exports=Ae;var y=Jh.exports;const Wc=Ac(y),bg=sg({__proto__:null,default:Wc},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sg=y,kg=Symbol.for("react.element"),jg=Symbol.for("react.fragment"),Ng=Object.prototype.hasOwnProperty,Cg=Sg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Eg={key:!0,ref:!0,__self:!0,__source:!0};function lp(e,t,n){var r,i={},o=null,u=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(u=t.ref);for(r in t)Ng.call(t,r)&&!Eg.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:kg,type:e,key:o,ref:u,props:i,_owner:Cg.current}}ra.Fragment=jg;ra.jsx=lp;ra.jsxs=lp;Xh.exports=ra;var a=Xh.exports,Ru={},ap={exports:{}},sn={},up={exports:{}},cp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(K,se){var he=K.length;K.push(se);e:for(;0<he;){var _e=he-1>>>1,Ne=K[_e];if(0<i(Ne,se))K[_e]=se,K[he]=Ne,he=_e;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var se=K[0],he=K.pop();if(he!==se){K[0]=he;e:for(var _e=0,Ne=K.length,$e=Ne>>>1;_e<$e;){var Ve=2*(_e+1)-1,gt=K[Ve],Qe=Ve+1,ot=K[Qe];if(0>i(gt,he))Qe<Ne&&0>i(ot,gt)?(K[_e]=ot,K[Qe]=he,_e=Qe):(K[_e]=gt,K[Ve]=he,_e=Ve);else if(Qe<Ne&&0>i(ot,he))K[_e]=ot,K[Qe]=he,_e=Qe;else break e}}return se}function i(K,se){var he=K.sortIndex-se.sortIndex;return he!==0?he:K.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var p=[],g=[],S=1,w=null,E=3,U=!1,F=!1,W=!1,q=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(K){for(var se=n(g);se!==null;){if(se.callback===null)r(g);else if(se.startTime<=K)r(g),se.sortIndex=se.expirationTime,t(p,se);else break;se=n(g)}}function D(K){if(W=!1,j(K),!F)if(n(p)!==null)F=!0,je(Z);else{var se=n(g);se!==null&&Te(D,se.startTime-K)}}function Z(K,se){F=!1,W&&(W=!1,N(ne),ne=-1),U=!0;var he=E;try{for(j(se),w=n(p);w!==null&&(!(w.expirationTime>se)||K&&!Pe());){var _e=w.callback;if(typeof _e=="function"){w.callback=null,E=w.priorityLevel;var Ne=_e(w.expirationTime<=se);se=e.unstable_now(),typeof Ne=="function"?w.callback=Ne:w===n(p)&&r(p),j(se)}else r(p);w=n(p)}if(w!==null)var $e=!0;else{var Ve=n(g);Ve!==null&&Te(D,Ve.startTime-se),$e=!1}return $e}finally{w=null,E=he,U=!1}}var J=!1,Q=null,ne=-1,ke=5,ue=-1;function Pe(){return!(e.unstable_now()-ue<ke)}function Be(){if(Q!==null){var K=e.unstable_now();ue=K;var se=!0;try{se=Q(!0,K)}finally{se?H():(J=!1,Q=null)}}else J=!1}var H;if(typeof x=="function")H=function(){x(Be)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,ve=fe.port2;fe.port1.onmessage=Be,H=function(){ve.postMessage(null)}}else H=function(){q(Be,0)};function je(K){Q=K,J||(J=!0,H())}function Te(K,se){ne=q(function(){K(e.unstable_now())},se)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){F||U||(F=!0,je(Z))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ke=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_getFirstCallbackNode=function(){return n(p)},e.unstable_next=function(K){switch(E){case 1:case 2:case 3:var se=3;break;default:se=E}var he=E;E=se;try{return K()}finally{E=he}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,se){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var he=E;E=K;try{return se()}finally{E=he}},e.unstable_scheduleCallback=function(K,se,he){var _e=e.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?_e+he:_e):he=_e,K){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=he+Ne,K={id:S++,callback:se,priorityLevel:K,startTime:he,expirationTime:Ne,sortIndex:-1},he>_e?(K.sortIndex=he,t(g,K),n(p)===null&&K===n(g)&&(W?(N(ne),ne=-1):W=!0,Te(D,he-_e))):(K.sortIndex=Ne,t(p,K),F||U||(F=!0,je(Z))),K},e.unstable_shouldYield=Pe,e.unstable_wrapCallback=function(K){var se=E;return function(){var he=E;E=se;try{return K.apply(this,arguments)}finally{E=he}}}})(cp);up.exports=cp;var _g=up.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pg=y,rn=_g;function ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dp=new Set,ro={};function Ci(e,t){us(e,t),us(e+"Capture",t)}function us(e,t){for(ro[e]=t,e=0;e<t.length;e++)dp.add(t[e])}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ou=Object.prototype.hasOwnProperty,Tg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lf={},af={};function Rg(e){return Ou.call(af,e)?!0:Ou.call(lf,e)?!1:Tg.test(e)?af[e]=!0:(lf[e]=!0,!1)}function Og(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Mg(e,t,n,r){if(t===null||typeof t>"u"||Og(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ut(e,t,n,r,i,o,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=u}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_t[e]=new Ut(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_t[t]=new Ut(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_t[e]=new Ut(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_t[e]=new Ut(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_t[e]=new Ut(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_t[e]=new Ut(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_t[e]=new Ut(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_t[e]=new Ut(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_t[e]=new Ut(e,5,!1,e.toLowerCase(),null,!1,!1)});var Kc=/[\-:]([a-z])/g;function Hc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Kc,Hc);_t[t]=new Ut(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Kc,Hc);_t[t]=new Ut(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Kc,Hc);_t[t]=new Ut(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_t[e]=new Ut(e,1,!1,e.toLowerCase(),null,!1,!1)});_t.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_t[e]=new Ut(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vc(e,t,n,r){var i=_t.hasOwnProperty(t)?_t[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Mg(t,n,i,r)&&(n=null),r||i===null?Rg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var dr=Pg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yo=Symbol.for("react.element"),Hi=Symbol.for("react.portal"),Vi=Symbol.for("react.fragment"),qc=Symbol.for("react.strict_mode"),Mu=Symbol.for("react.profiler"),fp=Symbol.for("react.provider"),hp=Symbol.for("react.context"),Qc=Symbol.for("react.forward_ref"),Fu=Symbol.for("react.suspense"),Iu=Symbol.for("react.suspense_list"),Yc=Symbol.for("react.memo"),Er=Symbol.for("react.lazy"),pp=Symbol.for("react.offscreen"),uf=Symbol.iterator;function Fs(e){return e===null||typeof e!="object"?null:(e=uf&&e[uf]||e["@@iterator"],typeof e=="function"?e:null)}var st=Object.assign,Ga;function Ws(e){if(Ga===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ga=t&&t[1]||""}return`
`+Ga+e}var Xa=!1;function Ja(e,t){if(!e||Xa)return"";Xa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var r=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){r=g}e.call(t.prototype)}else{try{throw Error()}catch(g){r=g}e()}}catch(g){if(g&&r&&typeof g.stack=="string"){for(var i=g.stack.split(`
`),o=r.stack.split(`
`),u=i.length-1,f=o.length-1;1<=u&&0<=f&&i[u]!==o[f];)f--;for(;1<=u&&0<=f;u--,f--)if(i[u]!==o[f]){if(u!==1||f!==1)do if(u--,f--,0>f||i[u]!==o[f]){var p=`
`+i[u].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=u&&0<=f);break}}}finally{Xa=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ws(e):""}function Fg(e){switch(e.tag){case 5:return Ws(e.type);case 16:return Ws("Lazy");case 13:return Ws("Suspense");case 19:return Ws("SuspenseList");case 0:case 2:case 15:return e=Ja(e.type,!1),e;case 11:return e=Ja(e.type.render,!1),e;case 1:return e=Ja(e.type,!0),e;default:return""}}function Lu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vi:return"Fragment";case Hi:return"Portal";case Mu:return"Profiler";case qc:return"StrictMode";case Fu:return"Suspense";case Iu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hp:return(e.displayName||"Context")+".Consumer";case fp:return(e._context.displayName||"Context")+".Provider";case Qc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Yc:return t=e.displayName||null,t!==null?t:Lu(e.type)||"Memo";case Er:t=e._payload,e=e._init;try{return Lu(e(t))}catch{}}return null}function Ig(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lu(t);case 8:return t===qc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Kr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Lg(e){var t=mp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(u){r=""+u,o.call(this,u)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Go(e){e._valueTracker||(e._valueTracker=Lg(e))}function yp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=mp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function _l(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zu(e,t){var n=t.checked;return st({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function cf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Kr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function gp(e,t){t=t.checked,t!=null&&Vc(e,"checked",t,!1)}function Au(e,t){gp(e,t);var n=Kr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Du(e,t.type,n):t.hasOwnProperty("defaultValue")&&Du(e,t.type,Kr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function df(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Du(e,t,n){(t!=="number"||_l(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ks=Array.isArray;function rs(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Kr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function $u(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ee(91));return st({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ff(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ee(92));if(Ks(n)){if(1<n.length)throw Error(ee(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Kr(n)}}function vp(e,t){var n=Kr(t.value),r=Kr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function hf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function xp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?xp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xo,wp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xo=Xo||document.createElement("div"),Xo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function io(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Qs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zg=["Webkit","ms","Moz","O"];Object.keys(Qs).forEach(function(e){zg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qs[t]=Qs[e]})});function bp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Qs.hasOwnProperty(e)&&Qs[e]?(""+t).trim():t+"px"}function Sp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=bp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Ag=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bu(e,t){if(t){if(Ag[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ee(62))}}function Wu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ku=null;function Gc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hu=null,is=null,ss=null;function pf(e){if(e=_o(e)){if(typeof Hu!="function")throw Error(ee(280));var t=e.stateNode;t&&(t=aa(t),Hu(e.stateNode,e.type,t))}}function kp(e){is?ss?ss.push(e):ss=[e]:is=e}function jp(){if(is){var e=is,t=ss;if(ss=is=null,pf(e),t)for(e=0;e<t.length;e++)pf(t[e])}}function Np(e,t){return e(t)}function Cp(){}var Za=!1;function Ep(e,t,n){if(Za)return e(t,n);Za=!0;try{return Np(e,t,n)}finally{Za=!1,(is!==null||ss!==null)&&(Cp(),jp())}}function so(e,t){var n=e.stateNode;if(n===null)return null;var r=aa(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ee(231,t,typeof n));return n}var Vu=!1;if(lr)try{var Is={};Object.defineProperty(Is,"passive",{get:function(){Vu=!0}}),window.addEventListener("test",Is,Is),window.removeEventListener("test",Is,Is)}catch{Vu=!1}function Dg(e,t,n,r,i,o,u,f,p){var g=Array.prototype.slice.call(arguments,3);try{t.apply(n,g)}catch(S){this.onError(S)}}var Ys=!1,Pl=null,Tl=!1,qu=null,$g={onError:function(e){Ys=!0,Pl=e}};function Ug(e,t,n,r,i,o,u,f,p){Ys=!1,Pl=null,Dg.apply($g,arguments)}function Bg(e,t,n,r,i,o,u,f,p){if(Ug.apply(this,arguments),Ys){if(Ys){var g=Pl;Ys=!1,Pl=null}else throw Error(ee(198));Tl||(Tl=!0,qu=g)}}function Ei(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function _p(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function mf(e){if(Ei(e)!==e)throw Error(ee(188))}function Wg(e){var t=e.alternate;if(!t){if(t=Ei(e),t===null)throw Error(ee(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return mf(i),e;if(o===r)return mf(i),t;o=o.sibling}throw Error(ee(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,f=i.child;f;){if(f===n){u=!0,n=i,r=o;break}if(f===r){u=!0,r=i,n=o;break}f=f.sibling}if(!u){for(f=o.child;f;){if(f===n){u=!0,n=o,r=i;break}if(f===r){u=!0,r=o,n=i;break}f=f.sibling}if(!u)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?e:t}function Pp(e){return e=Wg(e),e!==null?Tp(e):null}function Tp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Tp(e);if(t!==null)return t;e=e.sibling}return null}var Rp=rn.unstable_scheduleCallback,yf=rn.unstable_cancelCallback,Kg=rn.unstable_shouldYield,Hg=rn.unstable_requestPaint,pt=rn.unstable_now,Vg=rn.unstable_getCurrentPriorityLevel,Xc=rn.unstable_ImmediatePriority,Op=rn.unstable_UserBlockingPriority,Rl=rn.unstable_NormalPriority,qg=rn.unstable_LowPriority,Mp=rn.unstable_IdlePriority,ia=null,Hn=null;function Qg(e){if(Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(ia,e,void 0,(e.current.flags&128)===128)}catch{}}var Rn=Math.clz32?Math.clz32:Xg,Yg=Math.log,Gg=Math.LN2;function Xg(e){return e>>>=0,e===0?32:31-(Yg(e)/Gg|0)|0}var Jo=64,Zo=4194304;function Hs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ol(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,u=n&268435455;if(u!==0){var f=u&~i;f!==0?r=Hs(f):(o&=u,o!==0&&(r=Hs(o)))}else u=n&~i,u!==0?r=Hs(u):o!==0&&(r=Hs(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Rn(t),i=1<<n,r|=e[n],t&=~i;return r}function Jg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zg(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var u=31-Rn(o),f=1<<u,p=i[u];p===-1?(!(f&n)||f&r)&&(i[u]=Jg(f,t)):p<=t&&(e.expiredLanes|=f),o&=~f}}function Qu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fp(){var e=Jo;return Jo<<=1,!(Jo&4194240)&&(Jo=64),e}function eu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Co(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Rn(t),e[t]=n}function ev(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Rn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Jc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Rn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ke=0;function Ip(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Lp,Zc,zp,Ap,Dp,Yu=!1,el=[],Ir=null,Lr=null,zr=null,oo=new Map,lo=new Map,Pr=[],tv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gf(e,t){switch(e){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":oo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lo.delete(t.pointerId)}}function Ls(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=_o(t),t!==null&&Zc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function nv(e,t,n,r,i){switch(t){case"focusin":return Ir=Ls(Ir,e,t,n,r,i),!0;case"dragenter":return Lr=Ls(Lr,e,t,n,r,i),!0;case"mouseover":return zr=Ls(zr,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return oo.set(o,Ls(oo.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,lo.set(o,Ls(lo.get(o)||null,e,t,n,r,i)),!0}return!1}function $p(e){var t=yi(e.target);if(t!==null){var n=Ei(t);if(n!==null){if(t=n.tag,t===13){if(t=_p(n),t!==null){e.blockedOn=t,Dp(e.priority,function(){zp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ku=r,n.target.dispatchEvent(r),Ku=null}else return t=_o(n),t!==null&&Zc(t),e.blockedOn=n,!1;t.shift()}return!0}function vf(e,t,n){yl(e)&&n.delete(t)}function rv(){Yu=!1,Ir!==null&&yl(Ir)&&(Ir=null),Lr!==null&&yl(Lr)&&(Lr=null),zr!==null&&yl(zr)&&(zr=null),oo.forEach(vf),lo.forEach(vf)}function zs(e,t){e.blockedOn===t&&(e.blockedOn=null,Yu||(Yu=!0,rn.unstable_scheduleCallback(rn.unstable_NormalPriority,rv)))}function ao(e){function t(i){return zs(i,e)}if(0<el.length){zs(el[0],e);for(var n=1;n<el.length;n++){var r=el[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ir!==null&&zs(Ir,e),Lr!==null&&zs(Lr,e),zr!==null&&zs(zr,e),oo.forEach(t),lo.forEach(t),n=0;n<Pr.length;n++)r=Pr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Pr.length&&(n=Pr[0],n.blockedOn===null);)$p(n),n.blockedOn===null&&Pr.shift()}var os=dr.ReactCurrentBatchConfig,Ml=!0;function iv(e,t,n,r){var i=Ke,o=os.transition;os.transition=null;try{Ke=1,ed(e,t,n,r)}finally{Ke=i,os.transition=o}}function sv(e,t,n,r){var i=Ke,o=os.transition;os.transition=null;try{Ke=4,ed(e,t,n,r)}finally{Ke=i,os.transition=o}}function ed(e,t,n,r){if(Ml){var i=Gu(e,t,n,r);if(i===null)cu(e,t,r,Fl,n),gf(e,r);else if(nv(i,e,t,n,r))r.stopPropagation();else if(gf(e,r),t&4&&-1<tv.indexOf(e)){for(;i!==null;){var o=_o(i);if(o!==null&&Lp(o),o=Gu(e,t,n,r),o===null&&cu(e,t,r,Fl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else cu(e,t,r,null,n)}}var Fl=null;function Gu(e,t,n,r){if(Fl=null,e=Gc(r),e=yi(e),e!==null)if(t=Ei(e),t===null)e=null;else if(n=t.tag,n===13){if(e=_p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Fl=e,null}function Up(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vg()){case Xc:return 1;case Op:return 4;case Rl:case qg:return 16;case Mp:return 536870912;default:return 16}default:return 16}}var Rr=null,td=null,gl=null;function Bp(){if(gl)return gl;var e,t=td,n=t.length,r,i="value"in Rr?Rr.value:Rr.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var u=n-e;for(r=1;r<=u&&t[n-r]===i[o-r];r++);return gl=i.slice(e,1<r?1-r:void 0)}function vl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function tl(){return!0}function xf(){return!1}function on(e){function t(n,r,i,o,u){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=u,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(n=e[f],this[f]=n?n(o):o[f]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?tl:xf,this.isPropagationStopped=xf,this}return st(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=tl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=tl)},persist:function(){},isPersistent:tl}),t}var ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nd=on(ws),Eo=st({},ws,{view:0,detail:0}),ov=on(Eo),tu,nu,As,sa=st({},Eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==As&&(As&&e.type==="mousemove"?(tu=e.screenX-As.screenX,nu=e.screenY-As.screenY):nu=tu=0,As=e),tu)},movementY:function(e){return"movementY"in e?e.movementY:nu}}),wf=on(sa),lv=st({},sa,{dataTransfer:0}),av=on(lv),uv=st({},Eo,{relatedTarget:0}),ru=on(uv),cv=st({},ws,{animationName:0,elapsedTime:0,pseudoElement:0}),dv=on(cv),fv=st({},ws,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hv=on(fv),pv=st({},ws,{data:0}),bf=on(pv),mv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gv[e])?!!t[e]:!1}function rd(){return vv}var xv=st({},Eo,{key:function(e){if(e.key){var t=mv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rd,charCode:function(e){return e.type==="keypress"?vl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wv=on(xv),bv=st({},sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sf=on(bv),Sv=st({},Eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rd}),kv=on(Sv),jv=st({},ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nv=on(jv),Cv=st({},sa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ev=on(Cv),_v=[9,13,27,32],id=lr&&"CompositionEvent"in window,Gs=null;lr&&"documentMode"in document&&(Gs=document.documentMode);var Pv=lr&&"TextEvent"in window&&!Gs,Wp=lr&&(!id||Gs&&8<Gs&&11>=Gs),kf=" ",jf=!1;function Kp(e,t){switch(e){case"keyup":return _v.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qi=!1;function Tv(e,t){switch(e){case"compositionend":return Hp(t);case"keypress":return t.which!==32?null:(jf=!0,kf);case"textInput":return e=t.data,e===kf&&jf?null:e;default:return null}}function Rv(e,t){if(qi)return e==="compositionend"||!id&&Kp(e,t)?(e=Bp(),gl=td=Rr=null,qi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wp&&t.locale!=="ko"?null:t.data;default:return null}}var Ov={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ov[e.type]:t==="textarea"}function Vp(e,t,n,r){kp(r),t=Il(t,"onChange"),0<t.length&&(n=new nd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xs=null,uo=null;function Mv(e){rm(e,0)}function oa(e){var t=Gi(e);if(yp(t))return e}function Fv(e,t){if(e==="change")return t}var qp=!1;if(lr){var iu;if(lr){var su="oninput"in document;if(!su){var Cf=document.createElement("div");Cf.setAttribute("oninput","return;"),su=typeof Cf.oninput=="function"}iu=su}else iu=!1;qp=iu&&(!document.documentMode||9<document.documentMode)}function Ef(){Xs&&(Xs.detachEvent("onpropertychange",Qp),uo=Xs=null)}function Qp(e){if(e.propertyName==="value"&&oa(uo)){var t=[];Vp(t,uo,e,Gc(e)),Ep(Mv,t)}}function Iv(e,t,n){e==="focusin"?(Ef(),Xs=t,uo=n,Xs.attachEvent("onpropertychange",Qp)):e==="focusout"&&Ef()}function Lv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return oa(uo)}function zv(e,t){if(e==="click")return oa(t)}function Av(e,t){if(e==="input"||e==="change")return oa(t)}function Dv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mn=typeof Object.is=="function"?Object.is:Dv;function co(e,t){if(Mn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ou.call(t,i)||!Mn(e[i],t[i]))return!1}return!0}function _f(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pf(e,t){var n=_f(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_f(n)}}function Yp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gp(){for(var e=window,t=_l();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=_l(e.document)}return t}function sd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $v(e){var t=Gp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Yp(n.ownerDocument.documentElement,n)){if(r!==null&&sd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Pf(n,o);var u=Pf(n,r);i&&u&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Uv=lr&&"documentMode"in document&&11>=document.documentMode,Qi=null,Xu=null,Js=null,Ju=!1;function Tf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ju||Qi==null||Qi!==_l(r)||(r=Qi,"selectionStart"in r&&sd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Js&&co(Js,r)||(Js=r,r=Il(Xu,"onSelect"),0<r.length&&(t=new nd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Qi)))}function nl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Yi={animationend:nl("Animation","AnimationEnd"),animationiteration:nl("Animation","AnimationIteration"),animationstart:nl("Animation","AnimationStart"),transitionend:nl("Transition","TransitionEnd")},ou={},Xp={};lr&&(Xp=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function la(e){if(ou[e])return ou[e];if(!Yi[e])return e;var t=Yi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Xp)return ou[e]=t[n];return e}var Jp=la("animationend"),Zp=la("animationiteration"),em=la("animationstart"),tm=la("transitionend"),nm=new Map,Rf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vr(e,t){nm.set(e,t),Ci(t,[e])}for(var lu=0;lu<Rf.length;lu++){var au=Rf[lu],Bv=au.toLowerCase(),Wv=au[0].toUpperCase()+au.slice(1);Vr(Bv,"on"+Wv)}Vr(Jp,"onAnimationEnd");Vr(Zp,"onAnimationIteration");Vr(em,"onAnimationStart");Vr("dblclick","onDoubleClick");Vr("focusin","onFocus");Vr("focusout","onBlur");Vr(tm,"onTransitionEnd");us("onMouseEnter",["mouseout","mouseover"]);us("onMouseLeave",["mouseout","mouseover"]);us("onPointerEnter",["pointerout","pointerover"]);us("onPointerLeave",["pointerout","pointerover"]);Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vs));function Of(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Bg(r,t,void 0,e),e.currentTarget=null}function rm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var u=r.length-1;0<=u;u--){var f=r[u],p=f.instance,g=f.currentTarget;if(f=f.listener,p!==o&&i.isPropagationStopped())break e;Of(i,f,g),o=p}else for(u=0;u<r.length;u++){if(f=r[u],p=f.instance,g=f.currentTarget,f=f.listener,p!==o&&i.isPropagationStopped())break e;Of(i,f,g),o=p}}}if(Tl)throw e=qu,Tl=!1,qu=null,e}function Xe(e,t){var n=t[rc];n===void 0&&(n=t[rc]=new Set);var r=e+"__bubble";n.has(r)||(im(t,e,2,!1),n.add(r))}function uu(e,t,n){var r=0;t&&(r|=4),im(n,e,r,t)}var rl="_reactListening"+Math.random().toString(36).slice(2);function fo(e){if(!e[rl]){e[rl]=!0,dp.forEach(function(n){n!=="selectionchange"&&(Kv.has(n)||uu(n,!1,e),uu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rl]||(t[rl]=!0,uu("selectionchange",!1,t))}}function im(e,t,n,r){switch(Up(t)){case 1:var i=iv;break;case 4:i=sv;break;default:i=ed}n=i.bind(null,t,n,e),i=void 0,!Vu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function cu(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var f=r.stateNode.containerInfo;if(f===i||f.nodeType===8&&f.parentNode===i)break;if(u===4)for(u=r.return;u!==null;){var p=u.tag;if((p===3||p===4)&&(p=u.stateNode.containerInfo,p===i||p.nodeType===8&&p.parentNode===i))return;u=u.return}for(;f!==null;){if(u=yi(f),u===null)return;if(p=u.tag,p===5||p===6){r=o=u;continue e}f=f.parentNode}}r=r.return}Ep(function(){var g=o,S=Gc(n),w=[];e:{var E=nm.get(e);if(E!==void 0){var U=nd,F=e;switch(e){case"keypress":if(vl(n)===0)break e;case"keydown":case"keyup":U=wv;break;case"focusin":F="focus",U=ru;break;case"focusout":F="blur",U=ru;break;case"beforeblur":case"afterblur":U=ru;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=wf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=av;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=kv;break;case Jp:case Zp:case em:U=dv;break;case tm:U=Nv;break;case"scroll":U=ov;break;case"wheel":U=Ev;break;case"copy":case"cut":case"paste":U=hv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Sf}var W=(t&4)!==0,q=!W&&e==="scroll",N=W?E!==null?E+"Capture":null:E;W=[];for(var x=g,j;x!==null;){j=x;var D=j.stateNode;if(j.tag===5&&D!==null&&(j=D,N!==null&&(D=so(x,N),D!=null&&W.push(ho(x,D,j)))),q)break;x=x.return}0<W.length&&(E=new U(E,F,null,n,S),w.push({event:E,listeners:W}))}}if(!(t&7)){e:{if(E=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",E&&n!==Ku&&(F=n.relatedTarget||n.fromElement)&&(yi(F)||F[ar]))break e;if((U||E)&&(E=S.window===S?S:(E=S.ownerDocument)?E.defaultView||E.parentWindow:window,U?(F=n.relatedTarget||n.toElement,U=g,F=F?yi(F):null,F!==null&&(q=Ei(F),F!==q||F.tag!==5&&F.tag!==6)&&(F=null)):(U=null,F=g),U!==F)){if(W=wf,D="onMouseLeave",N="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(W=Sf,D="onPointerLeave",N="onPointerEnter",x="pointer"),q=U==null?E:Gi(U),j=F==null?E:Gi(F),E=new W(D,x+"leave",U,n,S),E.target=q,E.relatedTarget=j,D=null,yi(S)===g&&(W=new W(N,x+"enter",F,n,S),W.target=j,W.relatedTarget=q,D=W),q=D,U&&F)t:{for(W=U,N=F,x=0,j=W;j;j=Bi(j))x++;for(j=0,D=N;D;D=Bi(D))j++;for(;0<x-j;)W=Bi(W),x--;for(;0<j-x;)N=Bi(N),j--;for(;x--;){if(W===N||N!==null&&W===N.alternate)break t;W=Bi(W),N=Bi(N)}W=null}else W=null;U!==null&&Mf(w,E,U,W,!1),F!==null&&q!==null&&Mf(w,q,F,W,!0)}}e:{if(E=g?Gi(g):window,U=E.nodeName&&E.nodeName.toLowerCase(),U==="select"||U==="input"&&E.type==="file")var Z=Fv;else if(Nf(E))if(qp)Z=Av;else{Z=Lv;var J=Iv}else(U=E.nodeName)&&U.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(Z=zv);if(Z&&(Z=Z(e,g))){Vp(w,Z,n,S);break e}J&&J(e,E,g),e==="focusout"&&(J=E._wrapperState)&&J.controlled&&E.type==="number"&&Du(E,"number",E.value)}switch(J=g?Gi(g):window,e){case"focusin":(Nf(J)||J.contentEditable==="true")&&(Qi=J,Xu=g,Js=null);break;case"focusout":Js=Xu=Qi=null;break;case"mousedown":Ju=!0;break;case"contextmenu":case"mouseup":case"dragend":Ju=!1,Tf(w,n,S);break;case"selectionchange":if(Uv)break;case"keydown":case"keyup":Tf(w,n,S)}var Q;if(id)e:{switch(e){case"compositionstart":var ne="onCompositionStart";break e;case"compositionend":ne="onCompositionEnd";break e;case"compositionupdate":ne="onCompositionUpdate";break e}ne=void 0}else qi?Kp(e,n)&&(ne="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ne="onCompositionStart");ne&&(Wp&&n.locale!=="ko"&&(qi||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&qi&&(Q=Bp()):(Rr=S,td="value"in Rr?Rr.value:Rr.textContent,qi=!0)),J=Il(g,ne),0<J.length&&(ne=new bf(ne,e,null,n,S),w.push({event:ne,listeners:J}),Q?ne.data=Q:(Q=Hp(n),Q!==null&&(ne.data=Q)))),(Q=Pv?Tv(e,n):Rv(e,n))&&(g=Il(g,"onBeforeInput"),0<g.length&&(S=new bf("onBeforeInput","beforeinput",null,n,S),w.push({event:S,listeners:g}),S.data=Q))}rm(w,t)})}function ho(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Il(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=so(e,n),o!=null&&r.unshift(ho(e,o,i)),o=so(e,t),o!=null&&r.push(ho(e,o,i))),e=e.return}return r}function Bi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Mf(e,t,n,r,i){for(var o=t._reactName,u=[];n!==null&&n!==r;){var f=n,p=f.alternate,g=f.stateNode;if(p!==null&&p===r)break;f.tag===5&&g!==null&&(f=g,i?(p=so(n,o),p!=null&&u.unshift(ho(n,p,f))):i||(p=so(n,o),p!=null&&u.push(ho(n,p,f)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}var Hv=/\r\n?/g,Vv=/\u0000|\uFFFD/g;function Ff(e){return(typeof e=="string"?e:""+e).replace(Hv,`
`).replace(Vv,"")}function il(e,t,n){if(t=Ff(t),Ff(e)!==t&&n)throw Error(ee(425))}function Ll(){}var Zu=null,ec=null;function tc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nc=typeof setTimeout=="function"?setTimeout:void 0,qv=typeof clearTimeout=="function"?clearTimeout:void 0,If=typeof Promise=="function"?Promise:void 0,Qv=typeof queueMicrotask=="function"?queueMicrotask:typeof If<"u"?function(e){return If.resolve(null).then(e).catch(Yv)}:nc;function Yv(e){setTimeout(function(){throw e})}function du(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ao(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ao(t)}function Ar(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Lf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var bs=Math.random().toString(36).slice(2),Wn="__reactFiber$"+bs,po="__reactProps$"+bs,ar="__reactContainer$"+bs,rc="__reactEvents$"+bs,Gv="__reactListeners$"+bs,Xv="__reactHandles$"+bs;function yi(e){var t=e[Wn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ar]||n[Wn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Lf(e);e!==null;){if(n=e[Wn])return n;e=Lf(e)}return t}e=n,n=e.parentNode}return null}function _o(e){return e=e[Wn]||e[ar],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ee(33))}function aa(e){return e[po]||null}var ic=[],Xi=-1;function qr(e){return{current:e}}function Je(e){0>Xi||(e.current=ic[Xi],ic[Xi]=null,Xi--)}function Ge(e,t){Xi++,ic[Xi]=e.current,e.current=t}var Hr={},Lt=qr(Hr),Ht=qr(!1),bi=Hr;function cs(e,t){var n=e.type.contextTypes;if(!n)return Hr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Vt(e){return e=e.childContextTypes,e!=null}function zl(){Je(Ht),Je(Lt)}function zf(e,t,n){if(Lt.current!==Hr)throw Error(ee(168));Ge(Lt,t),Ge(Ht,n)}function sm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ee(108,Ig(e)||"Unknown",i));return st({},n,r)}function Al(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hr,bi=Lt.current,Ge(Lt,e),Ge(Ht,Ht.current),!0}function Af(e,t,n){var r=e.stateNode;if(!r)throw Error(ee(169));n?(e=sm(e,t,bi),r.__reactInternalMemoizedMergedChildContext=e,Je(Ht),Je(Lt),Ge(Lt,e)):Je(Ht),Ge(Ht,n)}var nr=null,ua=!1,fu=!1;function om(e){nr===null?nr=[e]:nr.push(e)}function Jv(e){ua=!0,om(e)}function Qr(){if(!fu&&nr!==null){fu=!0;var e=0,t=Ke;try{var n=nr;for(Ke=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}nr=null,ua=!1}catch(i){throw nr!==null&&(nr=nr.slice(e+1)),Rp(Xc,Qr),i}finally{Ke=t,fu=!1}}return null}var Ji=[],Zi=0,Dl=null,$l=0,yn=[],gn=0,Si=null,rr=1,ir="";function hi(e,t){Ji[Zi++]=$l,Ji[Zi++]=Dl,Dl=e,$l=t}function lm(e,t,n){yn[gn++]=rr,yn[gn++]=ir,yn[gn++]=Si,Si=e;var r=rr;e=ir;var i=32-Rn(r)-1;r&=~(1<<i),n+=1;var o=32-Rn(t)+i;if(30<o){var u=i-i%5;o=(r&(1<<u)-1).toString(32),r>>=u,i-=u,rr=1<<32-Rn(t)+i|n<<i|r,ir=o+e}else rr=1<<o|n<<i|r,ir=e}function od(e){e.return!==null&&(hi(e,1),lm(e,1,0))}function ld(e){for(;e===Dl;)Dl=Ji[--Zi],Ji[Zi]=null,$l=Ji[--Zi],Ji[Zi]=null;for(;e===Si;)Si=yn[--gn],yn[gn]=null,ir=yn[--gn],yn[gn]=null,rr=yn[--gn],yn[gn]=null}var nn=null,tn=null,et=!1,Tn=null;function am(e,t){var n=vn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Df(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,nn=e,tn=Ar(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,nn=e,tn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Si!==null?{id:rr,overflow:ir}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=vn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,nn=e,tn=null,!0):!1;default:return!1}}function sc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function oc(e){if(et){var t=tn;if(t){var n=t;if(!Df(e,t)){if(sc(e))throw Error(ee(418));t=Ar(n.nextSibling);var r=nn;t&&Df(e,t)?am(r,n):(e.flags=e.flags&-4097|2,et=!1,nn=e)}}else{if(sc(e))throw Error(ee(418));e.flags=e.flags&-4097|2,et=!1,nn=e}}}function $f(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;nn=e}function sl(e){if(e!==nn)return!1;if(!et)return $f(e),et=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!tc(e.type,e.memoizedProps)),t&&(t=tn)){if(sc(e))throw um(),Error(ee(418));for(;t;)am(e,t),t=Ar(t.nextSibling)}if($f(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){tn=Ar(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}tn=null}}else tn=nn?Ar(e.stateNode.nextSibling):null;return!0}function um(){for(var e=tn;e;)e=Ar(e.nextSibling)}function ds(){tn=nn=null,et=!1}function ad(e){Tn===null?Tn=[e]:Tn.push(e)}var Zv=dr.ReactCurrentBatchConfig;function Ds(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(u){var f=i.refs;u===null?delete f[o]:f[o]=u},t._stringRef=o,t)}if(typeof e!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,e))}return e}function ol(e,t){throw e=Object.prototype.toString.call(t),Error(ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Uf(e){var t=e._init;return t(e._payload)}function cm(e){function t(N,x){if(e){var j=N.deletions;j===null?(N.deletions=[x],N.flags|=16):j.push(x)}}function n(N,x){if(!e)return null;for(;x!==null;)t(N,x),x=x.sibling;return null}function r(N,x){for(N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function i(N,x){return N=Br(N,x),N.index=0,N.sibling=null,N}function o(N,x,j){return N.index=j,e?(j=N.alternate,j!==null?(j=j.index,j<x?(N.flags|=2,x):j):(N.flags|=2,x)):(N.flags|=1048576,x)}function u(N){return e&&N.alternate===null&&(N.flags|=2),N}function f(N,x,j,D){return x===null||x.tag!==6?(x=xu(j,N.mode,D),x.return=N,x):(x=i(x,j),x.return=N,x)}function p(N,x,j,D){var Z=j.type;return Z===Vi?S(N,x,j.props.children,D,j.key):x!==null&&(x.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===Er&&Uf(Z)===x.type)?(D=i(x,j.props),D.ref=Ds(N,x,j),D.return=N,D):(D=Nl(j.type,j.key,j.props,null,N.mode,D),D.ref=Ds(N,x,j),D.return=N,D)}function g(N,x,j,D){return x===null||x.tag!==4||x.stateNode.containerInfo!==j.containerInfo||x.stateNode.implementation!==j.implementation?(x=wu(j,N.mode,D),x.return=N,x):(x=i(x,j.children||[]),x.return=N,x)}function S(N,x,j,D,Z){return x===null||x.tag!==7?(x=wi(j,N.mode,D,Z),x.return=N,x):(x=i(x,j),x.return=N,x)}function w(N,x,j){if(typeof x=="string"&&x!==""||typeof x=="number")return x=xu(""+x,N.mode,j),x.return=N,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Yo:return j=Nl(x.type,x.key,x.props,null,N.mode,j),j.ref=Ds(N,null,x),j.return=N,j;case Hi:return x=wu(x,N.mode,j),x.return=N,x;case Er:var D=x._init;return w(N,D(x._payload),j)}if(Ks(x)||Fs(x))return x=wi(x,N.mode,j,null),x.return=N,x;ol(N,x)}return null}function E(N,x,j,D){var Z=x!==null?x.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return Z!==null?null:f(N,x,""+j,D);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Yo:return j.key===Z?p(N,x,j,D):null;case Hi:return j.key===Z?g(N,x,j,D):null;case Er:return Z=j._init,E(N,x,Z(j._payload),D)}if(Ks(j)||Fs(j))return Z!==null?null:S(N,x,j,D,null);ol(N,j)}return null}function U(N,x,j,D,Z){if(typeof D=="string"&&D!==""||typeof D=="number")return N=N.get(j)||null,f(x,N,""+D,Z);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Yo:return N=N.get(D.key===null?j:D.key)||null,p(x,N,D,Z);case Hi:return N=N.get(D.key===null?j:D.key)||null,g(x,N,D,Z);case Er:var J=D._init;return U(N,x,j,J(D._payload),Z)}if(Ks(D)||Fs(D))return N=N.get(j)||null,S(x,N,D,Z,null);ol(x,D)}return null}function F(N,x,j,D){for(var Z=null,J=null,Q=x,ne=x=0,ke=null;Q!==null&&ne<j.length;ne++){Q.index>ne?(ke=Q,Q=null):ke=Q.sibling;var ue=E(N,Q,j[ne],D);if(ue===null){Q===null&&(Q=ke);break}e&&Q&&ue.alternate===null&&t(N,Q),x=o(ue,x,ne),J===null?Z=ue:J.sibling=ue,J=ue,Q=ke}if(ne===j.length)return n(N,Q),et&&hi(N,ne),Z;if(Q===null){for(;ne<j.length;ne++)Q=w(N,j[ne],D),Q!==null&&(x=o(Q,x,ne),J===null?Z=Q:J.sibling=Q,J=Q);return et&&hi(N,ne),Z}for(Q=r(N,Q);ne<j.length;ne++)ke=U(Q,N,ne,j[ne],D),ke!==null&&(e&&ke.alternate!==null&&Q.delete(ke.key===null?ne:ke.key),x=o(ke,x,ne),J===null?Z=ke:J.sibling=ke,J=ke);return e&&Q.forEach(function(Pe){return t(N,Pe)}),et&&hi(N,ne),Z}function W(N,x,j,D){var Z=Fs(j);if(typeof Z!="function")throw Error(ee(150));if(j=Z.call(j),j==null)throw Error(ee(151));for(var J=Z=null,Q=x,ne=x=0,ke=null,ue=j.next();Q!==null&&!ue.done;ne++,ue=j.next()){Q.index>ne?(ke=Q,Q=null):ke=Q.sibling;var Pe=E(N,Q,ue.value,D);if(Pe===null){Q===null&&(Q=ke);break}e&&Q&&Pe.alternate===null&&t(N,Q),x=o(Pe,x,ne),J===null?Z=Pe:J.sibling=Pe,J=Pe,Q=ke}if(ue.done)return n(N,Q),et&&hi(N,ne),Z;if(Q===null){for(;!ue.done;ne++,ue=j.next())ue=w(N,ue.value,D),ue!==null&&(x=o(ue,x,ne),J===null?Z=ue:J.sibling=ue,J=ue);return et&&hi(N,ne),Z}for(Q=r(N,Q);!ue.done;ne++,ue=j.next())ue=U(Q,N,ne,ue.value,D),ue!==null&&(e&&ue.alternate!==null&&Q.delete(ue.key===null?ne:ue.key),x=o(ue,x,ne),J===null?Z=ue:J.sibling=ue,J=ue);return e&&Q.forEach(function(Be){return t(N,Be)}),et&&hi(N,ne),Z}function q(N,x,j,D){if(typeof j=="object"&&j!==null&&j.type===Vi&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Yo:e:{for(var Z=j.key,J=x;J!==null;){if(J.key===Z){if(Z=j.type,Z===Vi){if(J.tag===7){n(N,J.sibling),x=i(J,j.props.children),x.return=N,N=x;break e}}else if(J.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===Er&&Uf(Z)===J.type){n(N,J.sibling),x=i(J,j.props),x.ref=Ds(N,J,j),x.return=N,N=x;break e}n(N,J);break}else t(N,J);J=J.sibling}j.type===Vi?(x=wi(j.props.children,N.mode,D,j.key),x.return=N,N=x):(D=Nl(j.type,j.key,j.props,null,N.mode,D),D.ref=Ds(N,x,j),D.return=N,N=D)}return u(N);case Hi:e:{for(J=j.key;x!==null;){if(x.key===J)if(x.tag===4&&x.stateNode.containerInfo===j.containerInfo&&x.stateNode.implementation===j.implementation){n(N,x.sibling),x=i(x,j.children||[]),x.return=N,N=x;break e}else{n(N,x);break}else t(N,x);x=x.sibling}x=wu(j,N.mode,D),x.return=N,N=x}return u(N);case Er:return J=j._init,q(N,x,J(j._payload),D)}if(Ks(j))return F(N,x,j,D);if(Fs(j))return W(N,x,j,D);ol(N,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,x!==null&&x.tag===6?(n(N,x.sibling),x=i(x,j),x.return=N,N=x):(n(N,x),x=xu(j,N.mode,D),x.return=N,N=x),u(N)):n(N,x)}return q}var fs=cm(!0),dm=cm(!1),Ul=qr(null),Bl=null,es=null,ud=null;function cd(){ud=es=Bl=null}function dd(e){var t=Ul.current;Je(Ul),e._currentValue=t}function lc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ls(e,t){Bl=e,ud=es=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Kt=!0),e.firstContext=null)}function wn(e){var t=e._currentValue;if(ud!==e)if(e={context:e,memoizedValue:t,next:null},es===null){if(Bl===null)throw Error(ee(308));es=e,Bl.dependencies={lanes:0,firstContext:e}}else es=es.next=e;return t}var gi=null;function fd(e){gi===null?gi=[e]:gi.push(e)}function fm(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,fd(t)):(n.next=i.next,i.next=n),t.interleaved=n,ur(e,r)}function ur(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var _r=!1;function hd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function or(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Dr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ue&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ur(e,n)}return i=r.interleaved,i===null?(t.next=t,fd(r)):(t.next=i.next,i.next=t),r.interleaved=t,ur(e,n)}function xl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Jc(e,n)}}function Bf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=u:o=o.next=u,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wl(e,t,n,r){var i=e.updateQueue;_r=!1;var o=i.firstBaseUpdate,u=i.lastBaseUpdate,f=i.shared.pending;if(f!==null){i.shared.pending=null;var p=f,g=p.next;p.next=null,u===null?o=g:u.next=g,u=p;var S=e.alternate;S!==null&&(S=S.updateQueue,f=S.lastBaseUpdate,f!==u&&(f===null?S.firstBaseUpdate=g:f.next=g,S.lastBaseUpdate=p))}if(o!==null){var w=i.baseState;u=0,S=g=p=null,f=o;do{var E=f.lane,U=f.eventTime;if((r&E)===E){S!==null&&(S=S.next={eventTime:U,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var F=e,W=f;switch(E=t,U=n,W.tag){case 1:if(F=W.payload,typeof F=="function"){w=F.call(U,w,E);break e}w=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=W.payload,E=typeof F=="function"?F.call(U,w,E):F,E==null)break e;w=st({},w,E);break e;case 2:_r=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,E=i.effects,E===null?i.effects=[f]:E.push(f))}else U={eventTime:U,lane:E,tag:f.tag,payload:f.payload,callback:f.callback,next:null},S===null?(g=S=U,p=w):S=S.next=U,u|=E;if(f=f.next,f===null){if(f=i.shared.pending,f===null)break;E=f,f=E.next,E.next=null,i.lastBaseUpdate=E,i.shared.pending=null}}while(!0);if(S===null&&(p=w),i.baseState=p,i.firstBaseUpdate=g,i.lastBaseUpdate=S,t=i.shared.interleaved,t!==null){i=t;do u|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);ji|=u,e.lanes=u,e.memoizedState=w}}function Wf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ee(191,i));i.call(r)}}}var Po={},Vn=qr(Po),mo=qr(Po),yo=qr(Po);function vi(e){if(e===Po)throw Error(ee(174));return e}function pd(e,t){switch(Ge(yo,t),Ge(mo,e),Ge(Vn,Po),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Uu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Uu(t,e)}Je(Vn),Ge(Vn,t)}function hs(){Je(Vn),Je(mo),Je(yo)}function pm(e){vi(yo.current);var t=vi(Vn.current),n=Uu(t,e.type);t!==n&&(Ge(mo,e),Ge(Vn,n))}function md(e){mo.current===e&&(Je(Vn),Je(mo))}var rt=qr(0);function Kl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hu=[];function yd(){for(var e=0;e<hu.length;e++)hu[e]._workInProgressVersionPrimary=null;hu.length=0}var wl=dr.ReactCurrentDispatcher,pu=dr.ReactCurrentBatchConfig,ki=0,it=null,vt=null,St=null,Hl=!1,Zs=!1,go=0,ex=0;function Mt(){throw Error(ee(321))}function gd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Mn(e[n],t[n]))return!1;return!0}function vd(e,t,n,r,i,o){if(ki=o,it=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wl.current=e===null||e.memoizedState===null?ix:sx,e=n(r,i),Zs){o=0;do{if(Zs=!1,go=0,25<=o)throw Error(ee(301));o+=1,St=vt=null,t.updateQueue=null,wl.current=ox,e=n(r,i)}while(Zs)}if(wl.current=Vl,t=vt!==null&&vt.next!==null,ki=0,St=vt=it=null,Hl=!1,t)throw Error(ee(300));return e}function xd(){var e=go!==0;return go=0,e}function Bn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?it.memoizedState=St=e:St=St.next=e,St}function bn(){if(vt===null){var e=it.alternate;e=e!==null?e.memoizedState:null}else e=vt.next;var t=St===null?it.memoizedState:St.next;if(t!==null)St=t,vt=e;else{if(e===null)throw Error(ee(310));vt=e,e={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},St===null?it.memoizedState=St=e:St=St.next=e}return St}function vo(e,t){return typeof t=="function"?t(e):t}function mu(e){var t=bn(),n=t.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=e;var r=vt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var f=u=null,p=null,g=o;do{var S=g.lane;if((ki&S)===S)p!==null&&(p=p.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),r=g.hasEagerState?g.eagerState:e(r,g.action);else{var w={lane:S,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};p===null?(f=p=w,u=r):p=p.next=w,it.lanes|=S,ji|=S}g=g.next}while(g!==null&&g!==o);p===null?u=r:p.next=f,Mn(r,t.memoizedState)||(Kt=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=p,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,it.lanes|=o,ji|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function yu(e){var t=bn(),n=t.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var u=i=i.next;do o=e(o,u.action),u=u.next;while(u!==i);Mn(o,t.memoizedState)||(Kt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function mm(){}function ym(e,t){var n=it,r=bn(),i=t(),o=!Mn(r.memoizedState,i);if(o&&(r.memoizedState=i,Kt=!0),r=r.queue,wd(xm.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||St!==null&&St.memoizedState.tag&1){if(n.flags|=2048,xo(9,vm.bind(null,n,r,i,t),void 0,null),jt===null)throw Error(ee(349));ki&30||gm(n,t,i)}return i}function gm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=it.updateQueue,t===null?(t={lastEffect:null,stores:null},it.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function vm(e,t,n,r){t.value=n,t.getSnapshot=r,wm(t)&&bm(e)}function xm(e,t,n){return n(function(){wm(t)&&bm(e)})}function wm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Mn(e,n)}catch{return!0}}function bm(e){var t=ur(e,1);t!==null&&On(t,e,1,-1)}function Kf(e){var t=Bn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:e},t.queue=e,e=e.dispatch=rx.bind(null,it,e),[t.memoizedState,e]}function xo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=it.updateQueue,t===null?(t={lastEffect:null,stores:null},it.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Sm(){return bn().memoizedState}function bl(e,t,n,r){var i=Bn();it.flags|=e,i.memoizedState=xo(1|t,n,void 0,r===void 0?null:r)}function ca(e,t,n,r){var i=bn();r=r===void 0?null:r;var o=void 0;if(vt!==null){var u=vt.memoizedState;if(o=u.destroy,r!==null&&gd(r,u.deps)){i.memoizedState=xo(t,n,o,r);return}}it.flags|=e,i.memoizedState=xo(1|t,n,o,r)}function Hf(e,t){return bl(8390656,8,e,t)}function wd(e,t){return ca(2048,8,e,t)}function km(e,t){return ca(4,2,e,t)}function jm(e,t){return ca(4,4,e,t)}function Nm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Cm(e,t,n){return n=n!=null?n.concat([e]):null,ca(4,4,Nm.bind(null,t,e),n)}function bd(){}function Em(e,t){var n=bn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _m(e,t){var n=bn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Pm(e,t,n){return ki&21?(Mn(n,t)||(n=Fp(),it.lanes|=n,ji|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Kt=!0),e.memoizedState=n)}function tx(e,t){var n=Ke;Ke=n!==0&&4>n?n:4,e(!0);var r=pu.transition;pu.transition={};try{e(!1),t()}finally{Ke=n,pu.transition=r}}function Tm(){return bn().memoizedState}function nx(e,t,n){var r=Ur(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Rm(e))Om(t,n);else if(n=fm(e,t,n,r),n!==null){var i=Dt();On(n,e,r,i),Mm(n,t,r)}}function rx(e,t,n){var r=Ur(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rm(e))Om(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var u=t.lastRenderedState,f=o(u,n);if(i.hasEagerState=!0,i.eagerState=f,Mn(f,u)){var p=t.interleaved;p===null?(i.next=i,fd(t)):(i.next=p.next,p.next=i),t.interleaved=i;return}}catch{}finally{}n=fm(e,t,i,r),n!==null&&(i=Dt(),On(n,e,r,i),Mm(n,t,r))}}function Rm(e){var t=e.alternate;return e===it||t!==null&&t===it}function Om(e,t){Zs=Hl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Mm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Jc(e,n)}}var Vl={readContext:wn,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},ix={readContext:wn,useCallback:function(e,t){return Bn().memoizedState=[e,t===void 0?null:t],e},useContext:wn,useEffect:Hf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,bl(4194308,4,Nm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bl(4194308,4,e,t)},useInsertionEffect:function(e,t){return bl(4,2,e,t)},useMemo:function(e,t){var n=Bn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Bn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=nx.bind(null,it,e),[r.memoizedState,e]},useRef:function(e){var t=Bn();return e={current:e},t.memoizedState=e},useState:Kf,useDebugValue:bd,useDeferredValue:function(e){return Bn().memoizedState=e},useTransition:function(){var e=Kf(!1),t=e[0];return e=tx.bind(null,e[1]),Bn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=it,i=Bn();if(et){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=t(),jt===null)throw Error(ee(349));ki&30||gm(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Hf(xm.bind(null,r,o,e),[e]),r.flags|=2048,xo(9,vm.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Bn(),t=jt.identifierPrefix;if(et){var n=ir,r=rr;n=(r&~(1<<32-Rn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=go++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ex++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sx={readContext:wn,useCallback:Em,useContext:wn,useEffect:wd,useImperativeHandle:Cm,useInsertionEffect:km,useLayoutEffect:jm,useMemo:_m,useReducer:mu,useRef:Sm,useState:function(){return mu(vo)},useDebugValue:bd,useDeferredValue:function(e){var t=bn();return Pm(t,vt.memoizedState,e)},useTransition:function(){var e=mu(vo)[0],t=bn().memoizedState;return[e,t]},useMutableSource:mm,useSyncExternalStore:ym,useId:Tm,unstable_isNewReconciler:!1},ox={readContext:wn,useCallback:Em,useContext:wn,useEffect:wd,useImperativeHandle:Cm,useInsertionEffect:km,useLayoutEffect:jm,useMemo:_m,useReducer:yu,useRef:Sm,useState:function(){return yu(vo)},useDebugValue:bd,useDeferredValue:function(e){var t=bn();return vt===null?t.memoizedState=e:Pm(t,vt.memoizedState,e)},useTransition:function(){var e=yu(vo)[0],t=bn().memoizedState;return[e,t]},useMutableSource:mm,useSyncExternalStore:ym,useId:Tm,unstable_isNewReconciler:!1};function _n(e,t){if(e&&e.defaultProps){t=st({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ac(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:st({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var da={isMounted:function(e){return(e=e._reactInternals)?Ei(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Dt(),i=Ur(e),o=or(r,i);o.payload=t,n!=null&&(o.callback=n),t=Dr(e,o,i),t!==null&&(On(t,e,i,r),xl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Dt(),i=Ur(e),o=or(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Dr(e,o,i),t!==null&&(On(t,e,i,r),xl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dt(),r=Ur(e),i=or(n,r);i.tag=2,t!=null&&(i.callback=t),t=Dr(e,i,r),t!==null&&(On(t,e,r,n),xl(t,e,r))}};function Vf(e,t,n,r,i,o,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,u):t.prototype&&t.prototype.isPureReactComponent?!co(n,r)||!co(i,o):!0}function Fm(e,t,n){var r=!1,i=Hr,o=t.contextType;return typeof o=="object"&&o!==null?o=wn(o):(i=Vt(t)?bi:Lt.current,r=t.contextTypes,o=(r=r!=null)?cs(e,i):Hr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=da,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function qf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&da.enqueueReplaceState(t,t.state,null)}function uc(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},hd(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=wn(o):(o=Vt(t)?bi:Lt.current,i.context=cs(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(ac(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&da.enqueueReplaceState(i,i.state,null),Wl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ps(e,t){try{var n="",r=t;do n+=Fg(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function gu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function cc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var lx=typeof WeakMap=="function"?WeakMap:Map;function Im(e,t,n){n=or(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ql||(Ql=!0,wc=r),cc(e,t)},n}function Lm(e,t,n){n=or(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){cc(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){cc(e,t),typeof r!="function"&&($r===null?$r=new Set([this]):$r.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),n}function Qf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new lx;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=bx.bind(null,e,t,n),t.then(e,e))}function Yf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Gf(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=or(-1,1),t.tag=2,Dr(n,t,1))),n.lanes|=1),e)}var ax=dr.ReactCurrentOwner,Kt=!1;function At(e,t,n,r){t.child=e===null?dm(t,null,n,r):fs(t,e.child,n,r)}function Xf(e,t,n,r,i){n=n.render;var o=t.ref;return ls(t,i),r=vd(e,t,n,r,o,i),n=xd(),e!==null&&!Kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,cr(e,t,i)):(et&&n&&od(t),t.flags|=1,At(e,t,r,i),t.child)}function Jf(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Pd(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,zm(e,t,o,r,i)):(e=Nl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var u=o.memoizedProps;if(n=n.compare,n=n!==null?n:co,n(u,r)&&e.ref===t.ref)return cr(e,t,i)}return t.flags|=1,e=Br(o,r),e.ref=t.ref,e.return=t,t.child=e}function zm(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(co(o,r)&&e.ref===t.ref)if(Kt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Kt=!0);else return t.lanes=e.lanes,cr(e,t,i)}return dc(e,t,n,r,i)}function Am(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(ns,en),en|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ge(ns,en),en|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ge(ns,en),en|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ge(ns,en),en|=r;return At(e,t,i,n),t.child}function Dm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function dc(e,t,n,r,i){var o=Vt(n)?bi:Lt.current;return o=cs(t,o),ls(t,i),n=vd(e,t,n,r,o,i),r=xd(),e!==null&&!Kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,cr(e,t,i)):(et&&r&&od(t),t.flags|=1,At(e,t,n,i),t.child)}function Zf(e,t,n,r,i){if(Vt(n)){var o=!0;Al(t)}else o=!1;if(ls(t,i),t.stateNode===null)Sl(e,t),Fm(t,n,r),uc(t,n,r,i),r=!0;else if(e===null){var u=t.stateNode,f=t.memoizedProps;u.props=f;var p=u.context,g=n.contextType;typeof g=="object"&&g!==null?g=wn(g):(g=Vt(n)?bi:Lt.current,g=cs(t,g));var S=n.getDerivedStateFromProps,w=typeof S=="function"||typeof u.getSnapshotBeforeUpdate=="function";w||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==r||p!==g)&&qf(t,u,r,g),_r=!1;var E=t.memoizedState;u.state=E,Wl(t,r,u,i),p=t.memoizedState,f!==r||E!==p||Ht.current||_r?(typeof S=="function"&&(ac(t,n,S,r),p=t.memoizedState),(f=_r||Vf(t,n,f,r,E,p,g))?(w||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=p),u.props=r,u.state=p,u.context=g,r=f):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,hm(e,t),f=t.memoizedProps,g=t.type===t.elementType?f:_n(t.type,f),u.props=g,w=t.pendingProps,E=u.context,p=n.contextType,typeof p=="object"&&p!==null?p=wn(p):(p=Vt(n)?bi:Lt.current,p=cs(t,p));var U=n.getDerivedStateFromProps;(S=typeof U=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==w||E!==p)&&qf(t,u,r,p),_r=!1,E=t.memoizedState,u.state=E,Wl(t,r,u,i);var F=t.memoizedState;f!==w||E!==F||Ht.current||_r?(typeof U=="function"&&(ac(t,n,U,r),F=t.memoizedState),(g=_r||Vf(t,n,g,r,E,F,p)||!1)?(S||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,F,p),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,F,p)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=F),u.props=r,u.state=F,u.context=p,r=g):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),r=!1)}return fc(e,t,n,r,o,i)}function fc(e,t,n,r,i,o){Dm(e,t);var u=(t.flags&128)!==0;if(!r&&!u)return i&&Af(t,n,!1),cr(e,t,o);r=t.stateNode,ax.current=t;var f=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&u?(t.child=fs(t,e.child,null,o),t.child=fs(t,null,f,o)):At(e,t,f,o),t.memoizedState=r.state,i&&Af(t,n,!0),t.child}function $m(e){var t=e.stateNode;t.pendingContext?zf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zf(e,t.context,!1),pd(e,t.containerInfo)}function eh(e,t,n,r,i){return ds(),ad(i),t.flags|=256,At(e,t,n,r),t.child}var hc={dehydrated:null,treeContext:null,retryLane:0};function pc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Um(e,t,n){var r=t.pendingProps,i=rt.current,o=!1,u=(t.flags&128)!==0,f;if((f=u)||(f=e!==null&&e.memoizedState===null?!1:(i&2)!==0),f?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ge(rt,i&1),e===null)return oc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=r.children,e=r.fallback,o?(r=t.mode,o=t.child,u={mode:"hidden",children:u},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=u):o=pa(u,r,0,null),e=wi(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=pc(n),t.memoizedState=hc,e):Sd(t,u));if(i=e.memoizedState,i!==null&&(f=i.dehydrated,f!==null))return ux(e,t,u,r,f,i,n);if(o){o=r.fallback,u=t.mode,i=e.child,f=i.sibling;var p={mode:"hidden",children:r.children};return!(u&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=p,t.deletions=null):(r=Br(i,p),r.subtreeFlags=i.subtreeFlags&14680064),f!==null?o=Br(f,o):(o=wi(o,u,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,u=e.child.memoizedState,u=u===null?pc(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},o.memoizedState=u,o.childLanes=e.childLanes&~n,t.memoizedState=hc,r}return o=e.child,e=o.sibling,r=Br(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Sd(e,t){return t=pa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ll(e,t,n,r){return r!==null&&ad(r),fs(t,e.child,null,n),e=Sd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ux(e,t,n,r,i,o,u){if(n)return t.flags&256?(t.flags&=-257,r=gu(Error(ee(422))),ll(e,t,u,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=pa({mode:"visible",children:r.children},i,0,null),o=wi(o,i,u,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&fs(t,e.child,null,u),t.child.memoizedState=pc(u),t.memoizedState=hc,o);if(!(t.mode&1))return ll(e,t,u,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var f=r.dgst;return r=f,o=Error(ee(419)),r=gu(o,r,void 0),ll(e,t,u,r)}if(f=(u&e.childLanes)!==0,Kt||f){if(r=jt,r!==null){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|u)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ur(e,i),On(r,e,i,-1))}return _d(),r=gu(Error(ee(421))),ll(e,t,u,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Sx.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,tn=Ar(i.nextSibling),nn=t,et=!0,Tn=null,e!==null&&(yn[gn++]=rr,yn[gn++]=ir,yn[gn++]=Si,rr=e.id,ir=e.overflow,Si=t),t=Sd(t,r.children),t.flags|=4096,t)}function th(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),lc(e.return,t,n)}function vu(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Bm(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(At(e,t,r.children,n),r=rt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&th(e,n,t);else if(e.tag===19)th(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ge(rt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Kl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),vu(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Kl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}vu(t,!0,n,null,o);break;case"together":vu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ji|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ee(153));if(t.child!==null){for(e=t.child,n=Br(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Br(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function cx(e,t,n){switch(t.tag){case 3:$m(t),ds();break;case 5:pm(t);break;case 1:Vt(t.type)&&Al(t);break;case 4:pd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ge(Ul,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ge(rt,rt.current&1),t.flags|=128,null):n&t.child.childLanes?Um(e,t,n):(Ge(rt,rt.current&1),e=cr(e,t,n),e!==null?e.sibling:null);Ge(rt,rt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Bm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ge(rt,rt.current),r)break;return null;case 22:case 23:return t.lanes=0,Am(e,t,n)}return cr(e,t,n)}var Wm,mc,Km,Hm;Wm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mc=function(){};Km=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,vi(Vn.current);var o=null;switch(n){case"input":i=zu(e,i),r=zu(e,r),o=[];break;case"select":i=st({},i,{value:void 0}),r=st({},r,{value:void 0}),o=[];break;case"textarea":i=$u(e,i),r=$u(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ll)}Bu(n,r);var u;n=null;for(g in i)if(!r.hasOwnProperty(g)&&i.hasOwnProperty(g)&&i[g]!=null)if(g==="style"){var f=i[g];for(u in f)f.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(ro.hasOwnProperty(g)?o||(o=[]):(o=o||[]).push(g,null));for(g in r){var p=r[g];if(f=i!=null?i[g]:void 0,r.hasOwnProperty(g)&&p!==f&&(p!=null||f!=null))if(g==="style")if(f){for(u in f)!f.hasOwnProperty(u)||p&&p.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in p)p.hasOwnProperty(u)&&f[u]!==p[u]&&(n||(n={}),n[u]=p[u])}else n||(o||(o=[]),o.push(g,n)),n=p;else g==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,f=f?f.__html:void 0,p!=null&&f!==p&&(o=o||[]).push(g,p)):g==="children"?typeof p!="string"&&typeof p!="number"||(o=o||[]).push(g,""+p):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(ro.hasOwnProperty(g)?(p!=null&&g==="onScroll"&&Xe("scroll",e),o||f===p||(o=[])):(o=o||[]).push(g,p))}n&&(o=o||[]).push("style",n);var g=o;(t.updateQueue=g)&&(t.flags|=4)}};Hm=function(e,t,n,r){n!==r&&(t.flags|=4)};function $s(e,t){if(!et)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ft(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function dx(e,t,n){var r=t.pendingProps;switch(ld(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(t),null;case 1:return Vt(t.type)&&zl(),Ft(t),null;case 3:return r=t.stateNode,hs(),Je(Ht),Je(Lt),yd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(sl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tn!==null&&(kc(Tn),Tn=null))),mc(e,t),Ft(t),null;case 5:md(t);var i=vi(yo.current);if(n=t.type,e!==null&&t.stateNode!=null)Km(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ee(166));return Ft(t),null}if(e=vi(Vn.current),sl(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Wn]=t,r[po]=o,e=(t.mode&1)!==0,n){case"dialog":Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(i=0;i<Vs.length;i++)Xe(Vs[i],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"input":cf(r,o),Xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Xe("invalid",r);break;case"textarea":ff(r,o),Xe("invalid",r)}Bu(n,o),i=null;for(var u in o)if(o.hasOwnProperty(u)){var f=o[u];u==="children"?typeof f=="string"?r.textContent!==f&&(o.suppressHydrationWarning!==!0&&il(r.textContent,f,e),i=["children",f]):typeof f=="number"&&r.textContent!==""+f&&(o.suppressHydrationWarning!==!0&&il(r.textContent,f,e),i=["children",""+f]):ro.hasOwnProperty(u)&&f!=null&&u==="onScroll"&&Xe("scroll",r)}switch(n){case"input":Go(r),df(r,o,!0);break;case"textarea":Go(r),hf(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ll)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{u=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),n==="select"&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Wn]=t,e[po]=r,Wm(e,t,!1,!1),t.stateNode=e;e:{switch(u=Wu(n,r),n){case"dialog":Xe("cancel",e),Xe("close",e),i=r;break;case"iframe":case"object":case"embed":Xe("load",e),i=r;break;case"video":case"audio":for(i=0;i<Vs.length;i++)Xe(Vs[i],e);i=r;break;case"source":Xe("error",e),i=r;break;case"img":case"image":case"link":Xe("error",e),Xe("load",e),i=r;break;case"details":Xe("toggle",e),i=r;break;case"input":cf(e,r),i=zu(e,r),Xe("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=st({},r,{value:void 0}),Xe("invalid",e);break;case"textarea":ff(e,r),i=$u(e,r),Xe("invalid",e);break;default:i=r}Bu(n,i),f=i;for(o in f)if(f.hasOwnProperty(o)){var p=f[o];o==="style"?Sp(e,p):o==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&wp(e,p)):o==="children"?typeof p=="string"?(n!=="textarea"||p!=="")&&io(e,p):typeof p=="number"&&io(e,""+p):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ro.hasOwnProperty(o)?p!=null&&o==="onScroll"&&Xe("scroll",e):p!=null&&Vc(e,o,p,u))}switch(n){case"input":Go(e),df(e,r,!1);break;case"textarea":Go(e),hf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Kr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?rs(e,!!r.multiple,o,!1):r.defaultValue!=null&&rs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ll)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ft(t),null;case 6:if(e&&t.stateNode!=null)Hm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ee(166));if(n=vi(yo.current),vi(Vn.current),sl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Wn]=t,(o=r.nodeValue!==n)&&(e=nn,e!==null))switch(e.tag){case 3:il(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&il(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wn]=t,t.stateNode=r}return Ft(t),null;case 13:if(Je(rt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(et&&tn!==null&&t.mode&1&&!(t.flags&128))um(),ds(),t.flags|=98560,o=!1;else if(o=sl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(ee(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ee(317));o[Wn]=t}else ds(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ft(t),o=!1}else Tn!==null&&(kc(Tn),Tn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||rt.current&1?xt===0&&(xt=3):_d())),t.updateQueue!==null&&(t.flags|=4),Ft(t),null);case 4:return hs(),mc(e,t),e===null&&fo(t.stateNode.containerInfo),Ft(t),null;case 10:return dd(t.type._context),Ft(t),null;case 17:return Vt(t.type)&&zl(),Ft(t),null;case 19:if(Je(rt),o=t.memoizedState,o===null)return Ft(t),null;if(r=(t.flags&128)!==0,u=o.rendering,u===null)if(r)$s(o,!1);else{if(xt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=Kl(e),u!==null){for(t.flags|=128,$s(o,!1),r=u.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,u=o.alternate,u===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ge(rt,rt.current&1|2),t.child}e=e.sibling}o.tail!==null&&pt()>ms&&(t.flags|=128,r=!0,$s(o,!1),t.lanes=4194304)}else{if(!r)if(e=Kl(u),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),$s(o,!0),o.tail===null&&o.tailMode==="hidden"&&!u.alternate&&!et)return Ft(t),null}else 2*pt()-o.renderingStartTime>ms&&n!==1073741824&&(t.flags|=128,r=!0,$s(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(n=o.last,n!==null?n.sibling=u:t.child=u,o.last=u)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=pt(),t.sibling=null,n=rt.current,Ge(rt,r?n&1|2:n&1),t):(Ft(t),null);case 22:case 23:return Ed(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?en&1073741824&&(Ft(t),t.subtreeFlags&6&&(t.flags|=8192)):Ft(t),null;case 24:return null;case 25:return null}throw Error(ee(156,t.tag))}function fx(e,t){switch(ld(t),t.tag){case 1:return Vt(t.type)&&zl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hs(),Je(Ht),Je(Lt),yd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return md(t),null;case 13:if(Je(rt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ee(340));ds()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Je(rt),null;case 4:return hs(),null;case 10:return dd(t.type._context),null;case 22:case 23:return Ed(),null;case 24:return null;default:return null}}var al=!1,It=!1,hx=typeof WeakSet=="function"?WeakSet:Set,ge=null;function ts(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ct(e,t,r)}else n.current=null}function yc(e,t,n){try{n()}catch(r){ct(e,t,r)}}var nh=!1;function px(e,t){if(Zu=Ml,e=Gp(),sd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var u=0,f=-1,p=-1,g=0,S=0,w=e,E=null;t:for(;;){for(var U;w!==n||i!==0&&w.nodeType!==3||(f=u+i),w!==o||r!==0&&w.nodeType!==3||(p=u+r),w.nodeType===3&&(u+=w.nodeValue.length),(U=w.firstChild)!==null;)E=w,w=U;for(;;){if(w===e)break t;if(E===n&&++g===i&&(f=u),E===o&&++S===r&&(p=u),(U=w.nextSibling)!==null)break;w=E,E=w.parentNode}w=U}n=f===-1||p===-1?null:{start:f,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(ec={focusedElem:e,selectionRange:n},Ml=!1,ge=t;ge!==null;)if(t=ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ge=e;else for(;ge!==null;){t=ge;try{var F=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(F!==null){var W=F.memoizedProps,q=F.memoizedState,N=t.stateNode,x=N.getSnapshotBeforeUpdate(t.elementType===t.type?W:_n(t.type,W),q);N.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(D){ct(t,t.return,D)}if(e=t.sibling,e!==null){e.return=t.return,ge=e;break}ge=t.return}return F=nh,nh=!1,F}function eo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&yc(t,n,o)}i=i.next}while(i!==r)}}function fa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function gc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Vm(e){var t=e.alternate;t!==null&&(e.alternate=null,Vm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Wn],delete t[po],delete t[rc],delete t[Gv],delete t[Xv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function qm(e){return e.tag===5||e.tag===3||e.tag===4}function rh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ll));else if(r!==4&&(e=e.child,e!==null))for(vc(e,t,n),e=e.sibling;e!==null;)vc(e,t,n),e=e.sibling}function xc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(xc(e,t,n),e=e.sibling;e!==null;)xc(e,t,n),e=e.sibling}var Ct=null,Pn=!1;function Cr(e,t,n){for(n=n.child;n!==null;)Qm(e,t,n),n=n.sibling}function Qm(e,t,n){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(ia,n)}catch{}switch(n.tag){case 5:It||ts(n,t);case 6:var r=Ct,i=Pn;Ct=null,Cr(e,t,n),Ct=r,Pn=i,Ct!==null&&(Pn?(e=Ct,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ct.removeChild(n.stateNode));break;case 18:Ct!==null&&(Pn?(e=Ct,n=n.stateNode,e.nodeType===8?du(e.parentNode,n):e.nodeType===1&&du(e,n),ao(e)):du(Ct,n.stateNode));break;case 4:r=Ct,i=Pn,Ct=n.stateNode.containerInfo,Pn=!0,Cr(e,t,n),Ct=r,Pn=i;break;case 0:case 11:case 14:case 15:if(!It&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,u=o.destroy;o=o.tag,u!==void 0&&(o&2||o&4)&&yc(n,t,u),i=i.next}while(i!==r)}Cr(e,t,n);break;case 1:if(!It&&(ts(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(f){ct(n,t,f)}Cr(e,t,n);break;case 21:Cr(e,t,n);break;case 22:n.mode&1?(It=(r=It)||n.memoizedState!==null,Cr(e,t,n),It=r):Cr(e,t,n);break;default:Cr(e,t,n)}}function ih(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new hx),t.forEach(function(r){var i=kx.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function En(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,f=u;e:for(;f!==null;){switch(f.tag){case 5:Ct=f.stateNode,Pn=!1;break e;case 3:Ct=f.stateNode.containerInfo,Pn=!0;break e;case 4:Ct=f.stateNode.containerInfo,Pn=!0;break e}f=f.return}if(Ct===null)throw Error(ee(160));Qm(o,u,i),Ct=null,Pn=!1;var p=i.alternate;p!==null&&(p.return=null),i.return=null}catch(g){ct(i,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ym(t,e),t=t.sibling}function Ym(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(En(t,e),Un(e),r&4){try{eo(3,e,e.return),fa(3,e)}catch(W){ct(e,e.return,W)}try{eo(5,e,e.return)}catch(W){ct(e,e.return,W)}}break;case 1:En(t,e),Un(e),r&512&&n!==null&&ts(n,n.return);break;case 5:if(En(t,e),Un(e),r&512&&n!==null&&ts(n,n.return),e.flags&32){var i=e.stateNode;try{io(i,"")}catch(W){ct(e,e.return,W)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,u=n!==null?n.memoizedProps:o,f=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{f==="input"&&o.type==="radio"&&o.name!=null&&gp(i,o),Wu(f,u);var g=Wu(f,o);for(u=0;u<p.length;u+=2){var S=p[u],w=p[u+1];S==="style"?Sp(i,w):S==="dangerouslySetInnerHTML"?wp(i,w):S==="children"?io(i,w):Vc(i,S,w,g)}switch(f){case"input":Au(i,o);break;case"textarea":vp(i,o);break;case"select":var E=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var U=o.value;U!=null?rs(i,!!o.multiple,U,!1):E!==!!o.multiple&&(o.defaultValue!=null?rs(i,!!o.multiple,o.defaultValue,!0):rs(i,!!o.multiple,o.multiple?[]:"",!1))}i[po]=o}catch(W){ct(e,e.return,W)}}break;case 6:if(En(t,e),Un(e),r&4){if(e.stateNode===null)throw Error(ee(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(W){ct(e,e.return,W)}}break;case 3:if(En(t,e),Un(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ao(t.containerInfo)}catch(W){ct(e,e.return,W)}break;case 4:En(t,e),Un(e);break;case 13:En(t,e),Un(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Nd=pt())),r&4&&ih(e);break;case 22:if(S=n!==null&&n.memoizedState!==null,e.mode&1?(It=(g=It)||S,En(t,e),It=g):En(t,e),Un(e),r&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!S&&e.mode&1)for(ge=e,S=e.child;S!==null;){for(w=ge=S;ge!==null;){switch(E=ge,U=E.child,E.tag){case 0:case 11:case 14:case 15:eo(4,E,E.return);break;case 1:ts(E,E.return);var F=E.stateNode;if(typeof F.componentWillUnmount=="function"){r=E,n=E.return;try{t=r,F.props=t.memoizedProps,F.state=t.memoizedState,F.componentWillUnmount()}catch(W){ct(r,n,W)}}break;case 5:ts(E,E.return);break;case 22:if(E.memoizedState!==null){oh(w);continue}}U!==null?(U.return=E,ge=U):oh(w)}S=S.sibling}e:for(S=null,w=e;;){if(w.tag===5){if(S===null){S=w;try{i=w.stateNode,g?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(f=w.stateNode,p=w.memoizedProps.style,u=p!=null&&p.hasOwnProperty("display")?p.display:null,f.style.display=bp("display",u))}catch(W){ct(e,e.return,W)}}}else if(w.tag===6){if(S===null)try{w.stateNode.nodeValue=g?"":w.memoizedProps}catch(W){ct(e,e.return,W)}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===e)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===e)break e;for(;w.sibling===null;){if(w.return===null||w.return===e)break e;S===w&&(S=null),w=w.return}S===w&&(S=null),w.sibling.return=w.return,w=w.sibling}}break;case 19:En(t,e),Un(e),r&4&&ih(e);break;case 21:break;default:En(t,e),Un(e)}}function Un(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(qm(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(io(i,""),r.flags&=-33);var o=rh(e);xc(e,o,i);break;case 3:case 4:var u=r.stateNode.containerInfo,f=rh(e);vc(e,f,u);break;default:throw Error(ee(161))}}catch(p){ct(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mx(e,t,n){ge=e,Gm(e)}function Gm(e,t,n){for(var r=(e.mode&1)!==0;ge!==null;){var i=ge,o=i.child;if(i.tag===22&&r){var u=i.memoizedState!==null||al;if(!u){var f=i.alternate,p=f!==null&&f.memoizedState!==null||It;f=al;var g=It;if(al=u,(It=p)&&!g)for(ge=i;ge!==null;)u=ge,p=u.child,u.tag===22&&u.memoizedState!==null?lh(i):p!==null?(p.return=u,ge=p):lh(i);for(;o!==null;)ge=o,Gm(o),o=o.sibling;ge=i,al=f,It=g}sh(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ge=o):sh(e)}}function sh(e){for(;ge!==null;){var t=ge;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:It||fa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!It)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:_n(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Wf(t,o,r);break;case 3:var u=t.updateQueue;if(u!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Wf(t,u,n)}break;case 5:var f=t.stateNode;if(n===null&&t.flags&4){n=f;var p=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&n.focus();break;case"img":p.src&&(n.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var S=g.memoizedState;if(S!==null){var w=S.dehydrated;w!==null&&ao(w)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}It||t.flags&512&&gc(t)}catch(E){ct(t,t.return,E)}}if(t===e){ge=null;break}if(n=t.sibling,n!==null){n.return=t.return,ge=n;break}ge=t.return}}function oh(e){for(;ge!==null;){var t=ge;if(t===e){ge=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ge=n;break}ge=t.return}}function lh(e){for(;ge!==null;){var t=ge;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{fa(4,t)}catch(p){ct(t,n,p)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(p){ct(t,i,p)}}var o=t.return;try{gc(t)}catch(p){ct(t,o,p)}break;case 5:var u=t.return;try{gc(t)}catch(p){ct(t,u,p)}}}catch(p){ct(t,t.return,p)}if(t===e){ge=null;break}var f=t.sibling;if(f!==null){f.return=t.return,ge=f;break}ge=t.return}}var yx=Math.ceil,ql=dr.ReactCurrentDispatcher,kd=dr.ReactCurrentOwner,xn=dr.ReactCurrentBatchConfig,Ue=0,jt=null,yt=null,Et=0,en=0,ns=qr(0),xt=0,wo=null,ji=0,ha=0,jd=0,to=null,Wt=null,Nd=0,ms=1/0,tr=null,Ql=!1,wc=null,$r=null,ul=!1,Or=null,Yl=0,no=0,bc=null,kl=-1,jl=0;function Dt(){return Ue&6?pt():kl!==-1?kl:kl=pt()}function Ur(e){return e.mode&1?Ue&2&&Et!==0?Et&-Et:Zv.transition!==null?(jl===0&&(jl=Fp()),jl):(e=Ke,e!==0||(e=window.event,e=e===void 0?16:Up(e.type)),e):1}function On(e,t,n,r){if(50<no)throw no=0,bc=null,Error(ee(185));Co(e,n,r),(!(Ue&2)||e!==jt)&&(e===jt&&(!(Ue&2)&&(ha|=n),xt===4&&Tr(e,Et)),qt(e,r),n===1&&Ue===0&&!(t.mode&1)&&(ms=pt()+500,ua&&Qr()))}function qt(e,t){var n=e.callbackNode;Zg(e,t);var r=Ol(e,e===jt?Et:0);if(r===0)n!==null&&yf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&yf(n),t===1)e.tag===0?Jv(ah.bind(null,e)):om(ah.bind(null,e)),Qv(function(){!(Ue&6)&&Qr()}),n=null;else{switch(Ip(r)){case 1:n=Xc;break;case 4:n=Op;break;case 16:n=Rl;break;case 536870912:n=Mp;break;default:n=Rl}n=iy(n,Xm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Xm(e,t){if(kl=-1,jl=0,Ue&6)throw Error(ee(327));var n=e.callbackNode;if(as()&&e.callbackNode!==n)return null;var r=Ol(e,e===jt?Et:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Gl(e,r);else{t=r;var i=Ue;Ue|=2;var o=Zm();(jt!==e||Et!==t)&&(tr=null,ms=pt()+500,xi(e,t));do try{xx();break}catch(f){Jm(e,f)}while(!0);cd(),ql.current=o,Ue=i,yt!==null?t=0:(jt=null,Et=0,t=xt)}if(t!==0){if(t===2&&(i=Qu(e),i!==0&&(r=i,t=Sc(e,i))),t===1)throw n=wo,xi(e,0),Tr(e,r),qt(e,pt()),n;if(t===6)Tr(e,r);else{if(i=e.current.alternate,!(r&30)&&!gx(i)&&(t=Gl(e,r),t===2&&(o=Qu(e),o!==0&&(r=o,t=Sc(e,o))),t===1))throw n=wo,xi(e,0),Tr(e,r),qt(e,pt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ee(345));case 2:pi(e,Wt,tr);break;case 3:if(Tr(e,r),(r&130023424)===r&&(t=Nd+500-pt(),10<t)){if(Ol(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Dt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=nc(pi.bind(null,e,Wt,tr),t);break}pi(e,Wt,tr);break;case 4:if(Tr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-Rn(r);o=1<<u,u=t[u],u>i&&(i=u),r&=~o}if(r=i,r=pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yx(r/1960))-r,10<r){e.timeoutHandle=nc(pi.bind(null,e,Wt,tr),r);break}pi(e,Wt,tr);break;case 5:pi(e,Wt,tr);break;default:throw Error(ee(329))}}}return qt(e,pt()),e.callbackNode===n?Xm.bind(null,e):null}function Sc(e,t){var n=to;return e.current.memoizedState.isDehydrated&&(xi(e,t).flags|=256),e=Gl(e,t),e!==2&&(t=Wt,Wt=n,t!==null&&kc(t)),e}function kc(e){Wt===null?Wt=e:Wt.push.apply(Wt,e)}function gx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Mn(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tr(e,t){for(t&=~jd,t&=~ha,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Rn(t),r=1<<n;e[n]=-1,t&=~r}}function ah(e){if(Ue&6)throw Error(ee(327));as();var t=Ol(e,0);if(!(t&1))return qt(e,pt()),null;var n=Gl(e,t);if(e.tag!==0&&n===2){var r=Qu(e);r!==0&&(t=r,n=Sc(e,r))}if(n===1)throw n=wo,xi(e,0),Tr(e,t),qt(e,pt()),n;if(n===6)throw Error(ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,pi(e,Wt,tr),qt(e,pt()),null}function Cd(e,t){var n=Ue;Ue|=1;try{return e(t)}finally{Ue=n,Ue===0&&(ms=pt()+500,ua&&Qr())}}function Ni(e){Or!==null&&Or.tag===0&&!(Ue&6)&&as();var t=Ue;Ue|=1;var n=xn.transition,r=Ke;try{if(xn.transition=null,Ke=1,e)return e()}finally{Ke=r,xn.transition=n,Ue=t,!(Ue&6)&&Qr()}}function Ed(){en=ns.current,Je(ns)}function xi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,qv(n)),yt!==null)for(n=yt.return;n!==null;){var r=n;switch(ld(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zl();break;case 3:hs(),Je(Ht),Je(Lt),yd();break;case 5:md(r);break;case 4:hs();break;case 13:Je(rt);break;case 19:Je(rt);break;case 10:dd(r.type._context);break;case 22:case 23:Ed()}n=n.return}if(jt=e,yt=e=Br(e.current,null),Et=en=t,xt=0,wo=null,jd=ha=ji=0,Wt=to=null,gi!==null){for(t=0;t<gi.length;t++)if(n=gi[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var u=o.next;o.next=i,r.next=u}n.pending=r}gi=null}return e}function Jm(e,t){do{var n=yt;try{if(cd(),wl.current=Vl,Hl){for(var r=it.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Hl=!1}if(ki=0,St=vt=it=null,Zs=!1,go=0,kd.current=null,n===null||n.return===null){xt=1,wo=t,yt=null;break}e:{var o=e,u=n.return,f=n,p=t;if(t=Et,f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var g=p,S=f,w=S.tag;if(!(S.mode&1)&&(w===0||w===11||w===15)){var E=S.alternate;E?(S.updateQueue=E.updateQueue,S.memoizedState=E.memoizedState,S.lanes=E.lanes):(S.updateQueue=null,S.memoizedState=null)}var U=Yf(u);if(U!==null){U.flags&=-257,Gf(U,u,f,o,t),U.mode&1&&Qf(o,g,t),t=U,p=g;var F=t.updateQueue;if(F===null){var W=new Set;W.add(p),t.updateQueue=W}else F.add(p);break e}else{if(!(t&1)){Qf(o,g,t),_d();break e}p=Error(ee(426))}}else if(et&&f.mode&1){var q=Yf(u);if(q!==null){!(q.flags&65536)&&(q.flags|=256),Gf(q,u,f,o,t),ad(ps(p,f));break e}}o=p=ps(p,f),xt!==4&&(xt=2),to===null?to=[o]:to.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var N=Im(o,p,t);Bf(o,N);break e;case 1:f=p;var x=o.type,j=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&($r===null||!$r.has(j)))){o.flags|=65536,t&=-t,o.lanes|=t;var D=Lm(o,f,t);Bf(o,D);break e}}o=o.return}while(o!==null)}ty(n)}catch(Z){t=Z,yt===n&&n!==null&&(yt=n=n.return);continue}break}while(!0)}function Zm(){var e=ql.current;return ql.current=Vl,e===null?Vl:e}function _d(){(xt===0||xt===3||xt===2)&&(xt=4),jt===null||!(ji&268435455)&&!(ha&268435455)||Tr(jt,Et)}function Gl(e,t){var n=Ue;Ue|=2;var r=Zm();(jt!==e||Et!==t)&&(tr=null,xi(e,t));do try{vx();break}catch(i){Jm(e,i)}while(!0);if(cd(),Ue=n,ql.current=r,yt!==null)throw Error(ee(261));return jt=null,Et=0,xt}function vx(){for(;yt!==null;)ey(yt)}function xx(){for(;yt!==null&&!Kg();)ey(yt)}function ey(e){var t=ry(e.alternate,e,en);e.memoizedProps=e.pendingProps,t===null?ty(e):yt=t,kd.current=null}function ty(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=fx(n,t),n!==null){n.flags&=32767,yt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xt=6,yt=null;return}}else if(n=dx(n,t,en),n!==null){yt=n;return}if(t=t.sibling,t!==null){yt=t;return}yt=t=e}while(t!==null);xt===0&&(xt=5)}function pi(e,t,n){var r=Ke,i=xn.transition;try{xn.transition=null,Ke=1,wx(e,t,n,r)}finally{xn.transition=i,Ke=r}return null}function wx(e,t,n,r){do as();while(Or!==null);if(Ue&6)throw Error(ee(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ee(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(ev(e,o),e===jt&&(yt=jt=null,Et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ul||(ul=!0,iy(Rl,function(){return as(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=xn.transition,xn.transition=null;var u=Ke;Ke=1;var f=Ue;Ue|=4,kd.current=null,px(e,n),Ym(n,e),$v(ec),Ml=!!Zu,ec=Zu=null,e.current=n,mx(n),Hg(),Ue=f,Ke=u,xn.transition=o}else e.current=n;if(ul&&(ul=!1,Or=e,Yl=i),o=e.pendingLanes,o===0&&($r=null),Qg(n.stateNode),qt(e,pt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ql)throw Ql=!1,e=wc,wc=null,e;return Yl&1&&e.tag!==0&&as(),o=e.pendingLanes,o&1?e===bc?no++:(no=0,bc=e):no=0,Qr(),null}function as(){if(Or!==null){var e=Ip(Yl),t=xn.transition,n=Ke;try{if(xn.transition=null,Ke=16>e?16:e,Or===null)var r=!1;else{if(e=Or,Or=null,Yl=0,Ue&6)throw Error(ee(331));var i=Ue;for(Ue|=4,ge=e.current;ge!==null;){var o=ge,u=o.child;if(ge.flags&16){var f=o.deletions;if(f!==null){for(var p=0;p<f.length;p++){var g=f[p];for(ge=g;ge!==null;){var S=ge;switch(S.tag){case 0:case 11:case 15:eo(8,S,o)}var w=S.child;if(w!==null)w.return=S,ge=w;else for(;ge!==null;){S=ge;var E=S.sibling,U=S.return;if(Vm(S),S===g){ge=null;break}if(E!==null){E.return=U,ge=E;break}ge=U}}}var F=o.alternate;if(F!==null){var W=F.child;if(W!==null){F.child=null;do{var q=W.sibling;W.sibling=null,W=q}while(W!==null)}}ge=o}}if(o.subtreeFlags&2064&&u!==null)u.return=o,ge=u;else e:for(;ge!==null;){if(o=ge,o.flags&2048)switch(o.tag){case 0:case 11:case 15:eo(9,o,o.return)}var N=o.sibling;if(N!==null){N.return=o.return,ge=N;break e}ge=o.return}}var x=e.current;for(ge=x;ge!==null;){u=ge;var j=u.child;if(u.subtreeFlags&2064&&j!==null)j.return=u,ge=j;else e:for(u=x;ge!==null;){if(f=ge,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:fa(9,f)}}catch(Z){ct(f,f.return,Z)}if(f===u){ge=null;break e}var D=f.sibling;if(D!==null){D.return=f.return,ge=D;break e}ge=f.return}}if(Ue=i,Qr(),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(ia,e)}catch{}r=!0}return r}finally{Ke=n,xn.transition=t}}return!1}function uh(e,t,n){t=ps(n,t),t=Im(e,t,1),e=Dr(e,t,1),t=Dt(),e!==null&&(Co(e,1,t),qt(e,t))}function ct(e,t,n){if(e.tag===3)uh(e,e,n);else for(;t!==null;){if(t.tag===3){uh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($r===null||!$r.has(r))){e=ps(n,e),e=Lm(t,e,1),t=Dr(t,e,1),e=Dt(),t!==null&&(Co(t,1,e),qt(t,e));break}}t=t.return}}function bx(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Dt(),e.pingedLanes|=e.suspendedLanes&n,jt===e&&(Et&n)===n&&(xt===4||xt===3&&(Et&130023424)===Et&&500>pt()-Nd?xi(e,0):jd|=n),qt(e,t)}function ny(e,t){t===0&&(e.mode&1?(t=Zo,Zo<<=1,!(Zo&130023424)&&(Zo=4194304)):t=1);var n=Dt();e=ur(e,t),e!==null&&(Co(e,t,n),qt(e,n))}function Sx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ny(e,n)}function kx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(t),ny(e,n)}var ry;ry=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ht.current)Kt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Kt=!1,cx(e,t,n);Kt=!!(e.flags&131072)}else Kt=!1,et&&t.flags&1048576&&lm(t,$l,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Sl(e,t),e=t.pendingProps;var i=cs(t,Lt.current);ls(t,n),i=vd(null,t,r,e,i,n);var o=xd();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Vt(r)?(o=!0,Al(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hd(t),i.updater=da,t.stateNode=i,i._reactInternals=t,uc(t,r,e,n),t=fc(null,t,r,!0,o,n)):(t.tag=0,et&&o&&od(t),At(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Sl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Nx(r),e=_n(r,e),i){case 0:t=dc(null,t,r,e,n);break e;case 1:t=Zf(null,t,r,e,n);break e;case 11:t=Xf(null,t,r,e,n);break e;case 14:t=Jf(null,t,r,_n(r.type,e),n);break e}throw Error(ee(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:_n(r,i),dc(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:_n(r,i),Zf(e,t,r,i,n);case 3:e:{if($m(t),e===null)throw Error(ee(387));r=t.pendingProps,o=t.memoizedState,i=o.element,hm(e,t),Wl(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=ps(Error(ee(423)),t),t=eh(e,t,r,n,i);break e}else if(r!==i){i=ps(Error(ee(424)),t),t=eh(e,t,r,n,i);break e}else for(tn=Ar(t.stateNode.containerInfo.firstChild),nn=t,et=!0,Tn=null,n=dm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ds(),r===i){t=cr(e,t,n);break e}At(e,t,r,n)}t=t.child}return t;case 5:return pm(t),e===null&&oc(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,u=i.children,tc(r,i)?u=null:o!==null&&tc(r,o)&&(t.flags|=32),Dm(e,t),At(e,t,u,n),t.child;case 6:return e===null&&oc(t),null;case 13:return Um(e,t,n);case 4:return pd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=fs(t,null,r,n):At(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:_n(r,i),Xf(e,t,r,i,n);case 7:return At(e,t,t.pendingProps,n),t.child;case 8:return At(e,t,t.pendingProps.children,n),t.child;case 12:return At(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ge(Ul,r._currentValue),r._currentValue=u,o!==null)if(Mn(o.value,u)){if(o.children===i.children&&!Ht.current){t=cr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var f=o.dependencies;if(f!==null){u=o.child;for(var p=f.firstContext;p!==null;){if(p.context===r){if(o.tag===1){p=or(-1,n&-n),p.tag=2;var g=o.updateQueue;if(g!==null){g=g.shared;var S=g.pending;S===null?p.next=p:(p.next=S.next,S.next=p),g.pending=p}}o.lanes|=n,p=o.alternate,p!==null&&(p.lanes|=n),lc(o.return,n,t),f.lanes|=n;break}p=p.next}}else if(o.tag===10)u=o.type===t.type?null:o.child;else if(o.tag===18){if(u=o.return,u===null)throw Error(ee(341));u.lanes|=n,f=u.alternate,f!==null&&(f.lanes|=n),lc(u,n,t),u=o.sibling}else u=o.child;if(u!==null)u.return=o;else for(u=o;u!==null;){if(u===t){u=null;break}if(o=u.sibling,o!==null){o.return=u.return,u=o;break}u=u.return}o=u}At(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ls(t,n),i=wn(i),r=r(i),t.flags|=1,At(e,t,r,n),t.child;case 14:return r=t.type,i=_n(r,t.pendingProps),i=_n(r.type,i),Jf(e,t,r,i,n);case 15:return zm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:_n(r,i),Sl(e,t),t.tag=1,Vt(r)?(e=!0,Al(t)):e=!1,ls(t,n),Fm(t,r,i),uc(t,r,i,n),fc(null,t,r,!0,e,n);case 19:return Bm(e,t,n);case 22:return Am(e,t,n)}throw Error(ee(156,t.tag))};function iy(e,t){return Rp(e,t)}function jx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,t,n,r){return new jx(e,t,n,r)}function Pd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Nx(e){if(typeof e=="function")return Pd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qc)return 11;if(e===Yc)return 14}return 2}function Br(e,t){var n=e.alternate;return n===null?(n=vn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nl(e,t,n,r,i,o){var u=2;if(r=e,typeof e=="function")Pd(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case Vi:return wi(n.children,i,o,t);case qc:u=8,i|=8;break;case Mu:return e=vn(12,n,t,i|2),e.elementType=Mu,e.lanes=o,e;case Fu:return e=vn(13,n,t,i),e.elementType=Fu,e.lanes=o,e;case Iu:return e=vn(19,n,t,i),e.elementType=Iu,e.lanes=o,e;case pp:return pa(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fp:u=10;break e;case hp:u=9;break e;case Qc:u=11;break e;case Yc:u=14;break e;case Er:u=16,r=null;break e}throw Error(ee(130,e==null?e:typeof e,""))}return t=vn(u,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function wi(e,t,n,r){return e=vn(7,e,r,t),e.lanes=n,e}function pa(e,t,n,r){return e=vn(22,e,r,t),e.elementType=pp,e.lanes=n,e.stateNode={isHidden:!1},e}function xu(e,t,n){return e=vn(6,e,null,t),e.lanes=n,e}function wu(e,t,n){return t=vn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cx(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eu(0),this.expirationTimes=eu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Td(e,t,n,r,i,o,u,f,p){return e=new Cx(e,t,n,f,p),t===1?(t=1,o===!0&&(t|=8)):t=0,o=vn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hd(o),e}function Ex(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function sy(e){if(!e)return Hr;e=e._reactInternals;e:{if(Ei(e)!==e||e.tag!==1)throw Error(ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Vt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ee(171))}if(e.tag===1){var n=e.type;if(Vt(n))return sm(e,n,t)}return t}function oy(e,t,n,r,i,o,u,f,p){return e=Td(n,r,!0,e,i,o,u,f,p),e.context=sy(null),n=e.current,r=Dt(),i=Ur(n),o=or(r,i),o.callback=t??null,Dr(n,o,i),e.current.lanes=i,Co(e,i,r),qt(e,r),e}function ma(e,t,n,r){var i=t.current,o=Dt(),u=Ur(i);return n=sy(n),t.context===null?t.context=n:t.pendingContext=n,t=or(o,u),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Dr(i,t,u),e!==null&&(On(e,i,u,o),xl(e,i,u)),u}function Xl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ch(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Rd(e,t){ch(e,t),(e=e.alternate)&&ch(e,t)}function _x(){return null}var ly=typeof reportError=="function"?reportError:function(e){console.error(e)};function Od(e){this._internalRoot=e}ya.prototype.render=Od.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ee(409));ma(e,t,null,null)};ya.prototype.unmount=Od.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ni(function(){ma(null,e,null,null)}),t[ar]=null}};function ya(e){this._internalRoot=e}ya.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ap();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pr.length&&t!==0&&t<Pr[n].priority;n++);Pr.splice(n,0,e),n===0&&$p(e)}};function Md(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ga(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function dh(){}function Px(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var g=Xl(u);o.call(g)}}var u=oy(t,r,e,0,null,!1,!1,"",dh);return e._reactRootContainer=u,e[ar]=u.current,fo(e.nodeType===8?e.parentNode:e),Ni(),u}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var f=r;r=function(){var g=Xl(p);f.call(g)}}var p=Td(e,0,!1,null,null,!1,!1,"",dh);return e._reactRootContainer=p,e[ar]=p.current,fo(e.nodeType===8?e.parentNode:e),Ni(function(){ma(t,p,n,r)}),p}function va(e,t,n,r,i){var o=n._reactRootContainer;if(o){var u=o;if(typeof i=="function"){var f=i;i=function(){var p=Xl(u);f.call(p)}}ma(t,u,e,i)}else u=Px(n,t,e,i,r);return Xl(u)}Lp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Hs(t.pendingLanes);n!==0&&(Jc(t,n|1),qt(t,pt()),!(Ue&6)&&(ms=pt()+500,Qr()))}break;case 13:Ni(function(){var r=ur(e,1);if(r!==null){var i=Dt();On(r,e,1,i)}}),Rd(e,1)}};Zc=function(e){if(e.tag===13){var t=ur(e,134217728);if(t!==null){var n=Dt();On(t,e,134217728,n)}Rd(e,134217728)}};zp=function(e){if(e.tag===13){var t=Ur(e),n=ur(e,t);if(n!==null){var r=Dt();On(n,e,t,r)}Rd(e,t)}};Ap=function(){return Ke};Dp=function(e,t){var n=Ke;try{return Ke=e,t()}finally{Ke=n}};Hu=function(e,t,n){switch(t){case"input":if(Au(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=aa(r);if(!i)throw Error(ee(90));yp(r),Au(r,i)}}}break;case"textarea":vp(e,n);break;case"select":t=n.value,t!=null&&rs(e,!!n.multiple,t,!1)}};Np=Cd;Cp=Ni;var Tx={usingClientEntryPoint:!1,Events:[_o,Gi,aa,kp,jp,Cd]},Us={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rx={bundleType:Us.bundleType,version:Us.version,rendererPackageName:Us.rendererPackageName,rendererConfig:Us.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Pp(e),e===null?null:e.stateNode},findFiberByHostInstance:Us.findFiberByHostInstance||_x,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cl.isDisabled&&cl.supportsFiber)try{ia=cl.inject(Rx),Hn=cl}catch{}}sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tx;sn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Md(t))throw Error(ee(200));return Ex(e,t,null,n)};sn.createRoot=function(e,t){if(!Md(e))throw Error(ee(299));var n=!1,r="",i=ly;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Td(e,1,!1,null,null,n,!1,r,i),e[ar]=t.current,fo(e.nodeType===8?e.parentNode:e),new Od(t)};sn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ee(188)):(e=Object.keys(e).join(","),Error(ee(268,e)));return e=Pp(t),e=e===null?null:e.stateNode,e};sn.flushSync=function(e){return Ni(e)};sn.hydrate=function(e,t,n){if(!ga(t))throw Error(ee(200));return va(null,e,t,!0,n)};sn.hydrateRoot=function(e,t,n){if(!Md(e))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",u=ly;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),t=oy(t,null,e,1,n??null,i,!1,o,u),e[ar]=t.current,fo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ya(t)};sn.render=function(e,t,n){if(!ga(t))throw Error(ee(200));return va(null,e,t,!1,n)};sn.unmountComponentAtNode=function(e){if(!ga(e))throw Error(ee(40));return e._reactRootContainer?(Ni(function(){va(null,null,e,!1,function(){e._reactRootContainer=null,e[ar]=null})}),!0):!1};sn.unstable_batchedUpdates=Cd;sn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ga(n))throw Error(ee(200));if(e==null||e._reactInternals===void 0)throw Error(ee(38));return va(e,t,n,!1,r)};sn.version="18.3.1-next-f1338f8080-20240426";function ay(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ay)}catch(e){console.error(e)}}ay(),ap.exports=sn;var Ox=ap.exports,fh=Ox;Ru.createRoot=fh.createRoot,Ru.hydrateRoot=fh.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bo(){return bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bo.apply(this,arguments)}var Mr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Mr||(Mr={}));const hh="popstate";function Mx(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:u,hash:f}=r.location;return jc("",{pathname:o,search:u,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Jl(i)}return Ix(t,n,null,e)}function dt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function uy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Fx(){return Math.random().toString(36).substr(2,8)}function ph(e,t){return{usr:e.state,key:e.key,idx:t}}function jc(e,t,n,r){return n===void 0&&(n=null),bo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ss(t):t,{state:n,key:t&&t.key||r||Fx()})}function Jl(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ss(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Ix(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,u=i.history,f=Mr.Pop,p=null,g=S();g==null&&(g=0,u.replaceState(bo({},u.state,{idx:g}),""));function S(){return(u.state||{idx:null}).idx}function w(){f=Mr.Pop;let q=S(),N=q==null?null:q-g;g=q,p&&p({action:f,location:W.location,delta:N})}function E(q,N){f=Mr.Push;let x=jc(W.location,q,N);g=S()+1;let j=ph(x,g),D=W.createHref(x);try{u.pushState(j,"",D)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;i.location.assign(D)}o&&p&&p({action:f,location:W.location,delta:1})}function U(q,N){f=Mr.Replace;let x=jc(W.location,q,N);g=S();let j=ph(x,g),D=W.createHref(x);u.replaceState(j,"",D),o&&p&&p({action:f,location:W.location,delta:0})}function F(q){let N=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof q=="string"?q:Jl(q);return x=x.replace(/ $/,"%20"),dt(N,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,N)}let W={get action(){return f},get location(){return e(i,u)},listen(q){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(hh,w),p=q,()=>{i.removeEventListener(hh,w),p=null}},createHref(q){return t(i,q)},createURL:F,encodeLocation(q){let N=F(q);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:E,replace:U,go(q){return u.go(q)}};return W}var mh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(mh||(mh={}));function Lx(e,t,n){return n===void 0&&(n="/"),zx(e,t,n)}function zx(e,t,n,r){let i=typeof t=="string"?Ss(t):t,o=ys(i.pathname||"/",n);if(o==null)return null;let u=cy(e);Ax(u);let f=null;for(let p=0;f==null&&p<u.length;++p){let g=Yx(o);f=qx(u[p],g)}return f}function cy(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,u,f)=>{let p={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};p.relativePath.startsWith("/")&&(dt(p.relativePath.startsWith(r),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(r.length));let g=Wr([r,p.relativePath]),S=n.concat(p);o.children&&o.children.length>0&&(dt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),cy(o.children,t,S,g)),!(o.path==null&&!o.index)&&t.push({path:g,score:Hx(g,o.index),routesMeta:S})};return e.forEach((o,u)=>{var f;if(o.path===""||!((f=o.path)!=null&&f.includes("?")))i(o,u);else for(let p of dy(o.path))i(o,u,p)}),t}function dy(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let u=dy(r.join("/")),f=[];return f.push(...u.map(p=>p===""?o:[o,p].join("/"))),i&&f.push(...u),f.map(p=>e.startsWith("/")&&p===""?"/":p)}function Ax(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Vx(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Dx=/^:[\w-]+$/,$x=3,Ux=2,Bx=1,Wx=10,Kx=-2,yh=e=>e==="*";function Hx(e,t){let n=e.split("/"),r=n.length;return n.some(yh)&&(r+=Kx),t&&(r+=Ux),n.filter(i=>!yh(i)).reduce((i,o)=>i+(Dx.test(o)?$x:o===""?Bx:Wx),r)}function Vx(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function qx(e,t,n){let{routesMeta:r}=e,i={},o="/",u=[];for(let f=0;f<r.length;++f){let p=r[f],g=f===r.length-1,S=o==="/"?t:t.slice(o.length)||"/",w=Nc({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},S),E=p.route;if(!w)return null;Object.assign(i,w.params),u.push({params:i,pathname:Wr([o,w.pathname]),pathnameBase:Zx(Wr([o,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(o=Wr([o,w.pathnameBase]))}return u}function Nc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Qx(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],u=o.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:r.reduce((g,S,w)=>{let{paramName:E,isOptional:U}=S;if(E==="*"){let W=f[w]||"";u=o.slice(0,o.length-W.length).replace(/(.)\/+$/,"$1")}const F=f[w];return U&&!F?g[E]=void 0:g[E]=(F||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:u,pattern:e}}function Qx(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),uy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,p)=>(r.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Yx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return uy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ys(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Gx(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ss(e):e;return{pathname:n?n.startsWith("/")?n:Xx(n,t):t,search:e0(r),hash:t0(i)}}function Xx(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function bu(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Jx(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function fy(e,t){let n=Jx(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function hy(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Ss(e):(i=bo({},e),dt(!i.pathname||!i.pathname.includes("?"),bu("?","pathname","search",i)),dt(!i.pathname||!i.pathname.includes("#"),bu("#","pathname","hash",i)),dt(!i.search||!i.search.includes("#"),bu("#","search","hash",i)));let o=e===""||i.pathname==="",u=o?"/":i.pathname,f;if(u==null)f=n;else{let w=t.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),w-=1;i.pathname=E.join("/")}f=w>=0?t[w]:"/"}let p=Gx(i,f),g=u&&u!=="/"&&u.endsWith("/"),S=(o||u===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||S)&&(p.pathname+="/"),p}const Wr=e=>e.join("/").replace(/\/\/+/g,"/"),Zx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),e0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,t0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function n0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const py=["post","put","patch","delete"];new Set(py);const r0=["get",...py];new Set(r0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function So(){return So=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},So.apply(this,arguments)}const xa=y.createContext(null),my=y.createContext(null),Yr=y.createContext(null),wa=y.createContext(null),_i=y.createContext({outlet:null,matches:[],isDataRoute:!1}),yy=y.createContext(null);function i0(e,t){let{relative:n}=t===void 0?{}:t;To()||dt(!1);let{basename:r,navigator:i}=y.useContext(Yr),{hash:o,pathname:u,search:f}=ba(e,{relative:n}),p=u;return r!=="/"&&(p=u==="/"?r:Wr([r,u])),i.createHref({pathname:p,search:f,hash:o})}function To(){return y.useContext(wa)!=null}function ks(){return To()||dt(!1),y.useContext(wa).location}function gy(e){y.useContext(Yr).static||y.useLayoutEffect(e)}function s0(){let{isDataRoute:e}=y.useContext(_i);return e?v0():o0()}function o0(){To()||dt(!1);let e=y.useContext(xa),{basename:t,future:n,navigator:r}=y.useContext(Yr),{matches:i}=y.useContext(_i),{pathname:o}=ks(),u=JSON.stringify(fy(i,n.v7_relativeSplatPath)),f=y.useRef(!1);return gy(()=>{f.current=!0}),y.useCallback(function(g,S){if(S===void 0&&(S={}),!f.current)return;if(typeof g=="number"){r.go(g);return}let w=hy(g,JSON.parse(u),o,S.relative==="path");e==null&&t!=="/"&&(w.pathname=w.pathname==="/"?t:Wr([t,w.pathname])),(S.replace?r.replace:r.push)(w,S.state,S)},[t,r,u,o,e])}function ba(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=y.useContext(Yr),{matches:i}=y.useContext(_i),{pathname:o}=ks(),u=JSON.stringify(fy(i,r.v7_relativeSplatPath));return y.useMemo(()=>hy(e,JSON.parse(u),o,n==="path"),[e,u,o,n])}function l0(e,t){return a0(e,t)}function a0(e,t,n,r){To()||dt(!1);let{navigator:i}=y.useContext(Yr),{matches:o}=y.useContext(_i),u=o[o.length-1],f=u?u.params:{};u&&u.pathname;let p=u?u.pathnameBase:"/";u&&u.route;let g=ks(),S;if(t){var w;let q=typeof t=="string"?Ss(t):t;p==="/"||(w=q.pathname)!=null&&w.startsWith(p)||dt(!1),S=q}else S=g;let E=S.pathname||"/",U=E;if(p!=="/"){let q=p.replace(/^\//,"").split("/");U="/"+E.replace(/^\//,"").split("/").slice(q.length).join("/")}let F=Lx(e,{pathname:U}),W=h0(F&&F.map(q=>Object.assign({},q,{params:Object.assign({},f,q.params),pathname:Wr([p,i.encodeLocation?i.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?p:Wr([p,i.encodeLocation?i.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),o,n,r);return t&&W?y.createElement(wa.Provider,{value:{location:So({pathname:"/",search:"",hash:"",state:null,key:"default"},S),navigationType:Mr.Pop}},W):W}function u0(){let e=g0(),t=n0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:i},n):null,null)}const c0=y.createElement(u0,null);class d0 extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?y.createElement(_i.Provider,{value:this.props.routeContext},y.createElement(yy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function f0(e){let{routeContext:t,match:n,children:r}=e,i=y.useContext(xa);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(_i.Provider,{value:t},r)}function h0(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let u=e,f=(i=n)==null?void 0:i.errors;if(f!=null){let S=u.findIndex(w=>w.route.id&&(f==null?void 0:f[w.route.id])!==void 0);S>=0||dt(!1),u=u.slice(0,Math.min(u.length,S+1))}let p=!1,g=-1;if(n&&r&&r.v7_partialHydration)for(let S=0;S<u.length;S++){let w=u[S];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(g=S),w.route.id){let{loaderData:E,errors:U}=n,F=w.route.loader&&E[w.route.id]===void 0&&(!U||U[w.route.id]===void 0);if(w.route.lazy||F){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((S,w,E)=>{let U,F=!1,W=null,q=null;n&&(U=f&&w.route.id?f[w.route.id]:void 0,W=w.route.errorElement||c0,p&&(g<0&&E===0?(x0("route-fallback"),F=!0,q=null):g===E&&(F=!0,q=w.route.hydrateFallbackElement||null)));let N=t.concat(u.slice(0,E+1)),x=()=>{let j;return U?j=W:F?j=q:w.route.Component?j=y.createElement(w.route.Component,null):w.route.element?j=w.route.element:j=S,y.createElement(f0,{match:w,routeContext:{outlet:S,matches:N,isDataRoute:n!=null},children:j})};return n&&(w.route.ErrorBoundary||w.route.errorElement||E===0)?y.createElement(d0,{location:n.location,revalidation:n.revalidation,component:W,error:U,children:x(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):x()},null)}var vy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(vy||{}),xy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(xy||{});function p0(e){let t=y.useContext(xa);return t||dt(!1),t}function m0(e){let t=y.useContext(my);return t||dt(!1),t}function y0(e){let t=y.useContext(_i);return t||dt(!1),t}function wy(e){let t=y0(),n=t.matches[t.matches.length-1];return n.route.id||dt(!1),n.route.id}function g0(){var e;let t=y.useContext(yy),n=m0(),r=wy();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function v0(){let{router:e}=p0(vy.UseNavigateStable),t=wy(xy.UseNavigateStable),n=y.useRef(!1);return gy(()=>{n.current=!0}),y.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,So({fromRouteId:t},o)))},[e,t])}const gh={};function x0(e,t,n){gh[e]||(gh[e]=!0)}function w0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function er(e){dt(!1)}function b0(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Mr.Pop,navigator:o,static:u=!1,future:f}=e;To()&&dt(!1);let p=t.replace(/^\/*/,"/"),g=y.useMemo(()=>({basename:p,navigator:o,static:u,future:So({v7_relativeSplatPath:!1},f)}),[p,f,o,u]);typeof r=="string"&&(r=Ss(r));let{pathname:S="/",search:w="",hash:E="",state:U=null,key:F="default"}=r,W=y.useMemo(()=>{let q=ys(S,p);return q==null?null:{location:{pathname:q,search:w,hash:E,state:U,key:F},navigationType:i}},[p,S,w,E,U,F,i]);return W==null?null:y.createElement(Yr.Provider,{value:g},y.createElement(wa.Provider,{children:n,value:W}))}function S0(e){let{children:t,location:n}=e;return l0(Cc(t),n)}new Promise(()=>{});function Cc(e,t){t===void 0&&(t=[]);let n=[];return y.Children.forEach(e,(r,i)=>{if(!y.isValidElement(r))return;let o=[...t,i];if(r.type===y.Fragment){n.push.apply(n,Cc(r.props.children,o));return}r.type!==er&&dt(!1),!r.props.index||!r.props.children||dt(!1);let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Cc(r.props.children,o)),n.push(u)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zl.apply(this,arguments)}function by(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function k0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function j0(e,t){return e.button===0&&(!t||t==="_self")&&!k0(e)}const N0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],C0=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],E0="6";try{window.__reactRouterVersion=E0}catch{}const _0=y.createContext({isTransitioning:!1}),P0="startTransition",vh=bg[P0];function T0(e){let{basename:t,children:n,future:r,window:i}=e,o=y.useRef();o.current==null&&(o.current=Mx({window:i,v5Compat:!0}));let u=o.current,[f,p]=y.useState({action:u.action,location:u.location}),{v7_startTransition:g}=r||{},S=y.useCallback(w=>{g&&vh?vh(()=>p(w)):p(w)},[p,g]);return y.useLayoutEffect(()=>u.listen(S),[u,S]),y.useEffect(()=>w0(r),[r]),y.createElement(b0,{basename:t,children:n,location:f.location,navigationType:f.action,navigator:u,future:r})}const R0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",O0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,M0=y.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:u,state:f,target:p,to:g,preventScrollReset:S,viewTransition:w}=t,E=by(t,N0),{basename:U}=y.useContext(Yr),F,W=!1;if(typeof g=="string"&&O0.test(g)&&(F=g,R0))try{let j=new URL(window.location.href),D=g.startsWith("//")?new URL(j.protocol+g):new URL(g),Z=ys(D.pathname,U);D.origin===j.origin&&Z!=null?g=Z+D.search+D.hash:W=!0}catch{}let q=i0(g,{relative:i}),N=I0(g,{replace:u,state:f,target:p,preventScrollReset:S,relative:i,viewTransition:w});function x(j){r&&r(j),j.defaultPrevented||N(j)}return y.createElement("a",Zl({},E,{href:F||q,onClick:W||o?r:x,ref:n,target:p}))}),ai=y.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:u=!1,style:f,to:p,viewTransition:g,children:S}=t,w=by(t,C0),E=ba(p,{relative:w.relative}),U=ks(),F=y.useContext(my),{navigator:W,basename:q}=y.useContext(Yr),N=F!=null&&L0(E)&&g===!0,x=W.encodeLocation?W.encodeLocation(E).pathname:E.pathname,j=U.pathname,D=F&&F.navigation&&F.navigation.location?F.navigation.location.pathname:null;i||(j=j.toLowerCase(),D=D?D.toLowerCase():null,x=x.toLowerCase()),D&&q&&(D=ys(D,q)||D);const Z=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let J=j===x||!u&&j.startsWith(x)&&j.charAt(Z)==="/",Q=D!=null&&(D===x||!u&&D.startsWith(x)&&D.charAt(x.length)==="/"),ne={isActive:J,isPending:Q,isTransitioning:N},ke=J?r:void 0,ue;typeof o=="function"?ue=o(ne):ue=[o,J?"active":null,Q?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let Pe=typeof f=="function"?f(ne):f;return y.createElement(M0,Zl({},w,{"aria-current":ke,className:ue,ref:n,style:Pe,to:p,viewTransition:g}),typeof S=="function"?S(ne):S)});var Ec;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ec||(Ec={}));var xh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(xh||(xh={}));function F0(e){let t=y.useContext(xa);return t||dt(!1),t}function I0(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:u,viewTransition:f}=t===void 0?{}:t,p=s0(),g=ks(),S=ba(e,{relative:u});return y.useCallback(w=>{if(j0(w,n)){w.preventDefault();let E=r!==void 0?r:Jl(g)===Jl(S);p(e,{replace:E,state:i,preventScrollReset:o,relative:u,viewTransition:f})}},[g,p,S,r,i,n,e,o,u,f])}function L0(e,t){t===void 0&&(t={});let n=y.useContext(_0);n==null&&dt(!1);let{basename:r}=F0(Ec.useViewTransitionState),i=ba(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=ys(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=ys(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Nc(i.pathname,u)!=null||Nc(i.pathname,o)!=null}let ko=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");const z0={},wh=e=>{let t;const n=new Set,r=(S,w)=>{const E=typeof S=="function"?S(t):S;if(!Object.is(E,t)){const U=t;t=w??(typeof E!="object"||E===null)?E:Object.assign({},t,E),n.forEach(F=>F(t,U))}},i=()=>t,p={setState:r,getState:i,getInitialState:()=>g,subscribe:S=>(n.add(S),()=>n.delete(S)),destroy:()=>{(z0?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},g=t=e(r,i,p);return p},A0=e=>e?wh(e):wh;var Sy={exports:{}},ky={},jy={exports:{}},Ny={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gs=y;function D0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $0=typeof Object.is=="function"?Object.is:D0,U0=gs.useState,B0=gs.useEffect,W0=gs.useLayoutEffect,K0=gs.useDebugValue;function H0(e,t){var n=t(),r=U0({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return W0(function(){i.value=n,i.getSnapshot=t,Su(i)&&o({inst:i})},[e,n,t]),B0(function(){return Su(i)&&o({inst:i}),e(function(){Su(i)&&o({inst:i})})},[e]),K0(n),n}function Su(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$0(e,n)}catch{return!0}}function V0(e,t){return t()}var q0=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?V0:H0;Ny.useSyncExternalStore=gs.useSyncExternalStore!==void 0?gs.useSyncExternalStore:q0;jy.exports=Ny;var Q0=jy.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sa=y,Y0=Q0;function G0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var X0=typeof Object.is=="function"?Object.is:G0,J0=Y0.useSyncExternalStore,Z0=Sa.useRef,ew=Sa.useEffect,tw=Sa.useMemo,nw=Sa.useDebugValue;ky.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=Z0(null);if(o.current===null){var u={hasValue:!1,value:null};o.current=u}else u=o.current;o=tw(function(){function p(U){if(!g){if(g=!0,S=U,U=r(U),i!==void 0&&u.hasValue){var F=u.value;if(i(F,U))return w=F}return w=U}if(F=w,X0(S,U))return F;var W=r(U);return i!==void 0&&i(F,W)?(S=U,F):(S=U,w=W)}var g=!1,S,w,E=n===void 0?null:n;return[function(){return p(t())},E===null?void 0:function(){return p(E())}]},[t,n,r,i]);var f=J0(e,o[0],o[1]);return ew(function(){u.hasValue=!0,u.value=f},[f]),nw(f),f};Sy.exports=ky;var rw=Sy.exports;const iw=Ac(rw),Cy={},{useDebugValue:sw}=Wc,{useSyncExternalStoreWithSelector:ow}=iw;let bh=!1;const lw=e=>e;function aw(e,t=lw,n){(Cy?"production":void 0)!=="production"&&n&&!bh&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),bh=!0);const r=ow(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return sw(r),r}const Sh=e=>{(Cy?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?A0(e):e,n=(r,i)=>aw(t,r,i);return Object.assign(n,t),n},Fd=e=>e?Sh(e):Sh,uw=/['\u2019\u02BC](s|d)$/u,cw=/['\u2019\u02BC]$/u,dw=new Set(["a","e","i","o","u"]),fw=["ness","ss","ous","us","is"],hw=new Map([["boonies","boonie"]]),pw=new Map([["cheated","cheat"],["cheating","cheat"],["dangled","dangle"],["amusing","amuse"],["gallows","gallows"],["ignored","ignore"],["eating","eat"],["cruising","cruise"],["gilos","gilos"],["prepared","prepare"],["decided","decide"],["calories","calorie"],["confusing","confuse"],["contributing","contribute"],["succeed","succeed"],["possibly","possible"],["evolved","evolve"],["themselves","themselves"],["believed","believe"],["believing","believe"],["advanced","advance"],["carved","carve"],["whining","whine"],["excited","excite"],["amazing","amaze"],["reproduced","reproduce"]]);function kh(e){return/[aeiouy]/u.test(e)}function ea(e){return dw.has(e)}function mw(e){if(e.length<2)return!1;const t=e[e.length-1],n=e[e.length-2];return t===n&&!ea(t)}function yw(e){if(e.length<3||!e.endsWith("l"))return!1;const t=e[e.length-2],n=e[e.length-3];return t===n&&!ea(t)}function jh(e){if(e.endsWith("at")||e.endsWith("bl")||e.endsWith("iz"))return`${e}e`;let t=e;return mw(t)&&!["l","s","z"].includes(t[t.length-1])&&(t=t.slice(0,-1)),yw(t)?`${t}e`:t}function ka(e){let t=e.toLowerCase().normalize("NFC");t=t.replace(uw,""),t=t.replace(cw,"");const n=pw.get(t);if(n)return n;if(t.length<=3)return t;if(t.endsWith("ier")&&t.length>5){const r=t.slice(0,-3),i=r[r.length-1],o=r[r.length-2];if(i&&o&&i===o&&!ea(i))return`${r}y`}if(t.endsWith("ied")&&t.length>3){const r=t.slice(0,-3);return t.length<=4?`${r}ie`:`${r}y`}if(t.endsWith("ies")&&t.length>3){const r=hw.get(t);if(r)return r;const i=t.slice(0,-3);return t.length<=4?`${i}ie`:`${i}y`}if(t.endsWith("ing")&&!t.endsWith("thing")){const r=t.slice(0,-3);if(r.length>=3&&kh(r))return jh(r)}if(t.endsWith("ed")){const r=t.slice(0,-2);if(r.length>=2&&kh(r)){const i=jh(r);return t.endsWith("sed")&&(i.endsWith("s")||i.endsWith("us")||i.endsWith("os"))?`${i}e`:t.endsWith("ured")&&i.endsWith("ur")?`${i}e`:i.endsWith("ok")?`${i}e`:i.endsWith("g")&&!i.endsWith("ng")&&!r.endsWith("gg")?`${i}e`:i}}if(t.endsWith("ically")&&t.length>7)return t.replace(/ically$/u,"ic");if(t.endsWith("ly")&&t.length>4){const r=t[t.length-3];if(r&&!ea(r))return t.slice(0,-2)}return t.endsWith("ves")&&t.length>4?`${t.slice(0,-3)}f`:t.endsWith("es")&&t.length>4?t.endsWith("ches")||t.endsWith("shes")||t.endsWith("xes")||t.endsWith("zes")?t.slice(0,-2):t.slice(0,-1):t.endsWith("s")&&t.length>4&&!fw.some(r=>t.endsWith(r))?t.slice(0,-1):t}const gw=new RegExp("(\\p{L}+(?:['\\u2019\\u02BC-]\\p{L}+)*)|(\\d+)|([^\\s\\p{L}\\d]+)","gu");function Kn(e){const t=e.replace(/[\u0001\u0002]/g,""),n=[];let r;for(;r=gw.exec(t);){const[i,o,u,f]=r;if(o){const p=o.toLowerCase().normalize("NFC");n.push({text:i,normalized:p,stem:ka(p),isWord:!0})}else u?n.push({text:i,normalized:u,stem:u,isWord:!1}):f&&n.push({text:i,normalized:f,stem:f,isWord:!1})}return n.length>0?n:[{text:e,normalized:e,stem:e,isWord:new RegExp("\\p{L}","u").test(e)}]}var Ey={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(nf,function(){var n=function(s,l){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(c[h]=d[h])})(s,l)},r=function(){return(r=Object.assign||function(s){for(var l,c=1,d=arguments.length;c<d;c++)for(var h in l=arguments[c])Object.prototype.hasOwnProperty.call(l,h)&&(s[h]=l[h]);return s}).apply(this,arguments)};function i(s,l,c){for(var d,h=0,m=l.length;h<m;h++)!d&&h in l||((d=d||Array.prototype.slice.call(l,0,h))[h]=l[h]);return s.concat(d||Array.prototype.slice.call(l))}var o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:nf,u=Object.keys,f=Array.isArray;function p(s,l){return typeof l!="object"||u(l).forEach(function(c){s[c]=l[c]}),s}typeof Promise>"u"||o.Promise||(o.Promise=Promise);var g=Object.getPrototypeOf,S={}.hasOwnProperty;function w(s,l){return S.call(s,l)}function E(s,l){typeof l=="function"&&(l=l(g(s))),(typeof Reflect>"u"?u:Reflect.ownKeys)(l).forEach(function(c){F(s,c,l[c])})}var U=Object.defineProperty;function F(s,l,c,d){U(s,l,p(c&&w(c,"get")&&typeof c.get=="function"?{get:c.get,set:c.set,configurable:!0}:{value:c,configurable:!0,writable:!0},d))}function W(s){return{from:function(l){return s.prototype=Object.create(l.prototype),F(s.prototype,"constructor",s),{extend:E.bind(null,s.prototype)}}}}var q=Object.getOwnPropertyDescriptor,N=[].slice;function x(s,l,c){return N.call(s,l,c)}function j(s,l){return l(s)}function D(s){if(!s)throw new Error("Assertion Failed")}function Z(s){o.setImmediate?setImmediate(s):setTimeout(s,0)}function J(s,l){if(typeof l=="string"&&w(s,l))return s[l];if(!l)return s;if(typeof l!="string"){for(var c=[],d=0,h=l.length;d<h;++d){var m=J(s,l[d]);c.push(m)}return c}var v=l.indexOf(".");if(v!==-1){var k=s[l.substr(0,v)];return k==null?void 0:J(k,l.substr(v+1))}}function Q(s,l,c){if(s&&l!==void 0&&!("isFrozen"in Object&&Object.isFrozen(s)))if(typeof l!="string"&&"length"in l){D(typeof c!="string"&&"length"in c);for(var d=0,h=l.length;d<h;++d)Q(s,l[d],c[d])}else{var m,v,k=l.indexOf(".");k!==-1?(m=l.substr(0,k),(v=l.substr(k+1))===""?c===void 0?f(s)&&!isNaN(parseInt(m))?s.splice(m,1):delete s[m]:s[m]=c:Q(k=!(k=s[m])||!w(s,m)?s[m]={}:k,v,c)):c===void 0?f(s)&&!isNaN(parseInt(l))?s.splice(l,1):delete s[l]:s[l]=c}}function ne(s){var l,c={};for(l in s)w(s,l)&&(c[l]=s[l]);return c}var ke=[].concat;function ue(s){return ke.apply([],s)}var an="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ue([8,16,32,64].map(function(s){return["Int","Uint","Float"].map(function(l){return l+s+"Array"})}))).filter(function(s){return o[s]}),Pe=new Set(an.map(function(s){return o[s]})),Be=null;function H(s){return Be=new WeakMap,s=function l(c){if(!c||typeof c!="object")return c;var d=Be.get(c);if(d)return d;if(f(c)){d=[],Be.set(c,d);for(var h=0,m=c.length;h<m;++h)d.push(l(c[h]))}else if(Pe.has(c.constructor))d=c;else{var v,k=g(c);for(v in d=k===Object.prototype?{}:Object.create(k),Be.set(c,d),c)w(c,v)&&(d[v]=l(c[v]))}return d}(s),Be=null,s}var fe={}.toString;function ve(s){return fe.call(s).slice(8,-1)}var je=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Te=typeof je=="symbol"?function(s){var l;return s!=null&&(l=s[je])&&l.apply(s)}:function(){return null};function K(s,l){return l=s.indexOf(l),0<=l&&s.splice(l,1),0<=l}var se={};function he(s){var l,c,d,h;if(arguments.length===1){if(f(s))return s.slice();if(this===se&&typeof s=="string")return[s];if(h=Te(s)){for(c=[];!(d=h.next()).done;)c.push(d.value);return c}if(s==null)return[s];if(typeof(l=s.length)!="number")return[s];for(c=new Array(l);l--;)c[l]=s[l];return c}for(l=arguments.length,c=new Array(l);l--;)c[l]=arguments[l];return c}var _e=typeof Symbol<"u"?function(s){return s[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},wt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],mn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(wt),Ne={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function $e(s,l){this.name=s,this.message=l}function Ve(s,l){return s+". Errors: "+Object.keys(l).map(function(c){return l[c].toString()}).filter(function(c,d,h){return h.indexOf(c)===d}).join(`
`)}function gt(s,l,c,d){this.failures=l,this.failedKeys=d,this.successCount=c,this.message=Ve(s,l)}function Qe(s,l){this.name="BulkError",this.failures=Object.keys(l).map(function(c){return l[c]}),this.failuresByPos=l,this.message=Ve(s,this.failures)}W($e).from(Error).extend({toString:function(){return this.name+": "+this.message}}),W(gt).from($e),W(Qe).from($e);var ot=mn.reduce(function(s,l){return s[l]=l+"Error",s},{}),fr=$e,A=mn.reduce(function(s,l){var c=l+"Error";function d(h,m){this.name=c,h?typeof h=="string"?(this.message="".concat(h).concat(m?`
 `+m:""),this.inner=m||null):typeof h=="object"&&(this.message="".concat(h.name," ").concat(h.message),this.inner=h):(this.message=Ne[l]||c,this.inner=null)}return W(d).from(fr),s[l]=d,s},{});A.Syntax=SyntaxError,A.Type=TypeError,A.Range=RangeError;var Ee=wt.reduce(function(s,l){return s[l+"Error"]=A[l],s},{}),we=mn.reduce(function(s,l){return["Syntax","Type","Range"].indexOf(l)===-1&&(s[l+"Error"]=A[l]),s},{});function me(){}function Ie(s){return s}function lt(s,l){return s==null||s===Ie?l:function(c){return l(s(c))}}function at(s,l){return function(){s.apply(this,arguments),l.apply(this,arguments)}}function Qt(s,l){return s===me?l:function(){var c=s.apply(this,arguments);c!==void 0&&(arguments[0]=c);var d=this.onsuccess,h=this.onerror;this.onsuccess=null,this.onerror=null;var m=l.apply(this,arguments);return d&&(this.onsuccess=this.onsuccess?at(d,this.onsuccess):d),h&&(this.onerror=this.onerror?at(h,this.onerror):h),m!==void 0?m:c}}function He(s,l){return s===me?l:function(){s.apply(this,arguments);var c=this.onsuccess,d=this.onerror;this.onsuccess=this.onerror=null,l.apply(this,arguments),c&&(this.onsuccess=this.onsuccess?at(c,this.onsuccess):c),d&&(this.onerror=this.onerror?at(d,this.onerror):d)}}function Fn(s,l){return s===me?l:function(c){var d=s.apply(this,arguments);p(c,d);var h=this.onsuccess,m=this.onerror;return this.onsuccess=null,this.onerror=null,c=l.apply(this,arguments),h&&(this.onsuccess=this.onsuccess?at(h,this.onsuccess):h),m&&(this.onerror=this.onerror?at(m,this.onerror):m),d===void 0?c===void 0?void 0:c:p(d,c)}}function hr(s,l){return s===me?l:function(){return l.apply(this,arguments)!==!1&&s.apply(this,arguments)}}function ln(s,l){return s===me?l:function(){var c=s.apply(this,arguments);if(c&&typeof c.then=="function"){for(var d=this,h=arguments.length,m=new Array(h);h--;)m[h]=arguments[h];return c.then(function(){return l.apply(d,m)})}return l.apply(this,arguments)}}we.ModifyError=gt,we.DexieError=$e,we.BulkError=Qe;var Y=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function xe(s){Y=s}var Me={},mt=100,an=typeof Promise>"u"?[]:function(){var s=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[s,g(s),s];var l=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[l,g(l),s]}(),wt=an[0],mn=an[1],an=an[2],mn=mn&&mn.then,Pt=wt&&wt.constructor,un=!!an,Sn=function(s,l){dn.push([s,l]),pr&&(queueMicrotask(yr),pr=!1)},Gr=!0,pr=!0,cn=[],Xr=[],Pi=Ie,kn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:me,pgp:!1,env:{},finalize:me},be=kn,dn=[],In=0,mr=[];function ie(s){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var l=this._PSD=be;if(typeof s!="function"){if(s!==Me)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Ti(this,this._value))}this._state=null,this._value=null,++l.ref,function c(d,h){try{h(function(m){if(d._state===null){if(m===d)throw new TypeError("A promise cannot be resolved with itself.");var v=d._lib&&Gt();m&&typeof m.then=="function"?c(d,function(k,_){m instanceof ie?m._then(k,_):m.then(k,_)}):(d._state=!0,d._value=m,Cs(d)),v&&qn()}},Ti.bind(null,d))}catch(m){Ti(d,m)}}(this,s)}var js={get:function(){var s=be,l=Mi;function c(d,h){var m=this,v=!s.global&&(s!==be||l!==Mi),k=v&&!Xt(),_=new ie(function(P,M){Yt(m,new Ns(Fi(d,s,v,k),Fi(h,s,v,k),P,M,s))});return this._consoleTask&&(_._consoleTask=this._consoleTask),_}return c.prototype=Me,c},set:function(s){F(this,"then",s&&s.prototype===Me?js:{get:function(){return s},set:js.set})}};function Ns(s,l,c,d,h){this.onFulfilled=typeof s=="function"?s:null,this.onRejected=typeof l=="function"?l:null,this.resolve=c,this.reject=d,this.psd=h}function Ti(s,l){var c,d;Xr.push(l),s._state===null&&(c=s._lib&&Gt(),l=Pi(l),s._state=!1,s._value=l,d=s,cn.some(function(h){return h._value===d._value})||cn.push(d),Cs(s),c&&qn())}function Cs(s){var l=s._listeners;s._listeners=[];for(var c=0,d=l.length;c<d;++c)Yt(s,l[c]);var h=s._PSD;--h.ref||h.finalize(),In===0&&(++In,Sn(function(){--In==0&&Ri()},[]))}function Yt(s,l){if(s._state!==null){var c=s._state?l.onFulfilled:l.onRejected;if(c===null)return(s._state?l.resolve:l.reject)(s._value);++l.psd.ref,++In,Sn(jn,[c,s,l])}else s._listeners.push(l)}function jn(s,l,c){try{var d,h=l._value;!l._state&&Xr.length&&(Xr=[]),d=Y&&l._consoleTask?l._consoleTask.run(function(){return s(h)}):s(h),l._state||Xr.indexOf(h)!==-1||function(m){for(var v=cn.length;v;)if(cn[--v]._value===m._value)return cn.splice(v,1)}(l),c.resolve(d)}catch(m){c.reject(m)}finally{--In==0&&Ri(),--c.psd.ref||c.psd.finalize()}}function yr(){Qn(kn,function(){Gt()&&qn()})}function Gt(){var s=Gr;return pr=Gr=!1,s}function qn(){var s,l,c;do for(;0<dn.length;)for(s=dn,dn=[],c=s.length,l=0;l<c;++l){var d=s[l];d[0].apply(null,d[1])}while(0<dn.length);pr=Gr=!0}function Ri(){var s=cn;cn=[],s.forEach(function(d){d._PSD.onunhandled.call(null,d._value,d)});for(var l=mr.slice(0),c=l.length;c;)l[--c]()}function gr(s){return new ie(Me,!1,s)}function qe(s,l){var c=be;return function(){var d=Gt(),h=be;try{return zn(c,!0),s.apply(this,arguments)}catch(m){l&&l(m)}finally{zn(h,!1),d&&qn()}}}E(ie.prototype,{then:js,_then:function(s,l){Yt(this,new Ns(null,null,s,l,be))},catch:function(s){if(arguments.length===1)return this.then(null,s);var l=s,c=arguments[1];return typeof l=="function"?this.then(null,function(d){return(d instanceof l?c:gr)(d)}):this.then(null,function(d){return(d&&d.name===l?c:gr)(d)})},finally:function(s){return this.then(function(l){return ie.resolve(s()).then(function(){return l})},function(l){return ie.resolve(s()).then(function(){return gr(l)})})},timeout:function(s,l){var c=this;return s<1/0?new ie(function(d,h){var m=setTimeout(function(){return h(new A.Timeout(l))},s);c.then(d,h).finally(clearTimeout.bind(null,m))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&F(ie.prototype,Symbol.toStringTag,"Dexie.Promise"),kn.env=Ro(),E(ie,{all:function(){var s=he.apply(null,arguments).map(Zr);return new ie(function(l,c){s.length===0&&l([]);var d=s.length;s.forEach(function(h,m){return ie.resolve(h).then(function(v){s[m]=v,--d||l(s)},c)})})},resolve:function(s){return s instanceof ie?s:s&&typeof s.then=="function"?new ie(function(l,c){s.then(l,c)}):new ie(Me,!0,s)},reject:gr,race:function(){var s=he.apply(null,arguments).map(Zr);return new ie(function(l,c){s.map(function(d){return ie.resolve(d).then(l,c)})})},PSD:{get:function(){return be},set:function(s){return be=s}},totalEchoes:{get:function(){return Mi}},newPSD:Ln,usePSD:Qn,scheduler:{get:function(){return Sn},set:function(s){Sn=s}},rejectionMapper:{get:function(){return Pi},set:function(s){Pi=s}},follow:function(s,l){return new ie(function(c,d){return Ln(function(h,m){var v=be;v.unhandleds=[],v.onunhandled=m,v.finalize=at(function(){var k,_=this;k=function(){_.unhandleds.length===0?h():m(_.unhandleds[0])},mr.push(function P(){k(),mr.splice(mr.indexOf(P),1)}),++In,Sn(function(){--In==0&&Ri()},[])},v.finalize),s()},l,c,d)})}}),Pt&&(Pt.allSettled&&F(ie,"allSettled",function(){var s=he.apply(null,arguments).map(Zr);return new ie(function(l){s.length===0&&l([]);var c=s.length,d=new Array(c);s.forEach(function(h,m){return ie.resolve(h).then(function(v){return d[m]={status:"fulfilled",value:v}},function(v){return d[m]={status:"rejected",reason:v}}).then(function(){return--c||l(d)})})})}),Pt.any&&typeof AggregateError<"u"&&F(ie,"any",function(){var s=he.apply(null,arguments).map(Zr);return new ie(function(l,c){s.length===0&&c(new AggregateError([]));var d=s.length,h=new Array(d);s.forEach(function(m,v){return ie.resolve(m).then(function(k){return l(k)},function(k){h[v]=k,--d||c(new AggregateError(h))})})})}),Pt.withResolvers&&(ie.withResolvers=Pt.withResolvers));var ft={awaits:0,echoes:0,id:0},Oi=0,vr=[],Jr=0,Mi=0,Na=0;function Ln(s,l,c,d){var h=be,m=Object.create(h);return m.parent=h,m.ref=0,m.global=!1,m.id=++Na,kn.env,m.env=un?{Promise:ie,PromiseProp:{value:ie,configurable:!0,writable:!0},all:ie.all,race:ie.race,allSettled:ie.allSettled,any:ie.any,resolve:ie.resolve,reject:ie.reject}:{},l&&p(m,l),++h.ref,m.finalize=function(){--this.parent.ref||this.parent.finalize()},d=Qn(m,s,c,d),m.ref===0&&m.finalize(),d}function xr(){return ft.id||(ft.id=++Oi),++ft.awaits,ft.echoes+=mt,ft.id}function Xt(){return!!ft.awaits&&(--ft.awaits==0&&(ft.id=0),ft.echoes=ft.awaits*mt,!0)}function Zr(s){return ft.echoes&&s&&s.constructor===Pt?(xr(),s.then(function(l){return Xt(),l},function(l){return Xt(),tt(l)})):s}function Ca(){var s=vr[vr.length-1];vr.pop(),zn(s,!1)}function zn(s,l){var c,d=be;(l?!ft.echoes||Jr++&&s===be:!Jr||--Jr&&s===be)||queueMicrotask(l?(function(h){++Mi,ft.echoes&&--ft.echoes!=0||(ft.echoes=ft.awaits=ft.id=0),vr.push(be),zn(h,!0)}).bind(null,s):Ca),s!==be&&(be=s,d===kn&&(kn.env=Ro()),un&&(c=kn.env.Promise,l=s.env,(d.global||s.global)&&(Object.defineProperty(o,"Promise",l.PromiseProp),c.all=l.all,c.race=l.race,c.resolve=l.resolve,c.reject=l.reject,l.allSettled&&(c.allSettled=l.allSettled),l.any&&(c.any=l.any))))}function Ro(){var s=o.Promise;return un?{Promise:s,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:s.all,race:s.race,allSettled:s.allSettled,any:s.any,resolve:s.resolve,reject:s.reject}:{}}function Qn(s,l,c,d,h){var m=be;try{return zn(s,!0),l(c,d,h)}finally{zn(m,!1)}}function Fi(s,l,c,d){return typeof s!="function"?s:function(){var h=be;c&&xr(),zn(l,!0);try{return s.apply(this,arguments)}finally{zn(h,!1),d&&queueMicrotask(Xt)}}}function ei(s){Promise===Pt&&ft.echoes===0?Jr===0?s():enqueueNativeMicroTask(s):setTimeout(s,0)}(""+mn).indexOf("[native code]")===-1&&(xr=Xt=me);var tt=ie.reject,Yn="",fn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",wr="String expected.",hn=[],Ii="__dbnames",An="readonly",ti="readwrite";function Nn(s,l){return s?l?function(){return s.apply(this,arguments)&&l.apply(this,arguments)}:s:l}var Es={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Li(s){return typeof s!="string"||/\./.test(s)?function(l){return l}:function(l){return l[s]===void 0&&s in l&&delete(l=H(l))[s],l}}function Oo(){throw A.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function ze(s,l){try{var c=Mo(s),d=Mo(l);if(c!==d)return c==="Array"?1:d==="Array"?-1:c==="binary"?1:d==="binary"?-1:c==="string"?1:d==="string"?-1:c==="Date"?1:d!=="Date"?NaN:-1;switch(c){case"number":case"Date":case"string":return l<s?1:s<l?-1:0;case"binary":return function(h,m){for(var v=h.length,k=m.length,_=v<k?v:k,P=0;P<_;++P)if(h[P]!==m[P])return h[P]<m[P]?-1:1;return v===k?0:v<k?-1:1}(Gn(s),Gn(l));case"Array":return function(h,m){for(var v=h.length,k=m.length,_=v<k?v:k,P=0;P<_;++P){var M=ze(h[P],m[P]);if(M!==0)return M}return v===k?0:v<k?-1:1}(s,l)}}catch{}return NaN}function Mo(s){var l=typeof s;return l!="object"?l:ArrayBuffer.isView(s)?"binary":(s=ve(s),s==="ArrayBuffer"?"binary":s)}function Gn(s){return s instanceof Uint8Array?s:ArrayBuffer.isView(s)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s)}function Cn(s,l,c){var d=s.schema.yProps;return d?(l&&0<c.numFailures&&(l=l.filter(function(h,m){return!c.failures[m]})),Promise.all(d.map(function(h){return h=h.updatesTable,l?s.db.table(h).where("k").anyOf(l).delete():s.db.table(h).clear()})).then(function(){return c})):c}var pn=(ni.prototype.execute=function(s){var l=this["@@propmod"];if(l.add!==void 0){var c=l.add;if(f(c))return i(i([],f(s)?s:[],!0),c).sort();if(typeof c=="number")return(Number(s)||0)+c;if(typeof c=="bigint")try{return BigInt(s)+c}catch{return BigInt(0)+c}throw new TypeError("Invalid term ".concat(c))}if(l.remove!==void 0){var d=l.remove;if(f(d))return f(s)?s.filter(function(h){return!d.includes(h)}).sort():[];if(typeof d=="number")return Number(s)-d;if(typeof d=="bigint")try{return BigInt(s)-d}catch{return BigInt(0)-d}throw new TypeError("Invalid subtrahend ".concat(d))}return c=(c=l.replacePrefix)===null||c===void 0?void 0:c[0],c&&typeof s=="string"&&s.startsWith(c)?l.replacePrefix[1]+s.substring(c.length):s},ni);function ni(s){this["@@propmod"]=s}function zi(s,l){for(var c=u(l),d=c.length,h=!1,m=0;m<d;++m){var v=c[m],k=l[v],_=J(s,v);k instanceof pn?(Q(s,v,k.execute(_)),h=!0):_!==k&&(Q(s,v,k),h=!0)}return h}var ri=(We.prototype._trans=function(s,l,c){var d=this._tx||be.trans,h=this.name,m=Y&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(s==="readonly"?"read":"write"," ").concat(this.name));function v(P,M,C){if(!C.schema[h])throw new A.NotFound("Table "+h+" not part of transaction");return l(C.idbtrans,C)}var k=Gt();try{var _=d&&d.db._novip===this.db._novip?d===be.trans?d._promise(s,v,c):Ln(function(){return d._promise(s,v,c)},{trans:d,transless:be.transless||be}):function P(M,C,L,T){if(M.idbdb&&(M._state.openComplete||be.letThrough||M._vip)){var R=M._createTransaction(C,L,M._dbSchema);try{R.create(),M._state.PR1398_maxLoop=3}catch(O){return O.name===ot.InvalidState&&M.isOpen()&&0<--M._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),M.close({disableAutoOpen:!1}),M.open().then(function(){return P(M,C,L,T)})):tt(O)}return R._promise(C,function(O,I){return Ln(function(){return be.trans=R,T(O,I,R)})}).then(function(O){if(C==="readwrite")try{R.idbtrans.commit()}catch{}return C==="readonly"?O:R._completion.then(function(){return O})})}if(M._state.openComplete)return tt(new A.DatabaseClosed(M._state.dbOpenError));if(!M._state.isBeingOpened){if(!M._state.autoOpen)return tt(new A.DatabaseClosed);M.open().catch(me)}return M._state.dbReadyPromise.then(function(){return P(M,C,L,T)})}(this.db,s,[this.name],v);return m&&(_._consoleTask=m,_=_.catch(function(P){return console.trace(P),tt(P)})),_}finally{k&&qn()}},We.prototype.get=function(s,l){var c=this;return s&&s.constructor===Object?this.where(s).first(l):s==null?tt(new A.Type("Invalid argument to Table.get()")):this._trans("readonly",function(d){return c.core.get({trans:d,key:s}).then(function(h){return c.hook.reading.fire(h)})}).then(l)},We.prototype.where=function(s){if(typeof s=="string")return new this.db.WhereClause(this,s);if(f(s))return new this.db.WhereClause(this,"[".concat(s.join("+"),"]"));var l=u(s);if(l.length===1)return this.where(l[0]).equals(s[l[0]]);var c=this.schema.indexes.concat(this.schema.primKey).filter(function(k){if(k.compound&&l.every(function(P){return 0<=k.keyPath.indexOf(P)})){for(var _=0;_<l.length;++_)if(l.indexOf(k.keyPath[_])===-1)return!1;return!0}return!1}).sort(function(k,_){return k.keyPath.length-_.keyPath.length})[0];if(c&&this.db._maxKey!==Yn){var m=c.keyPath.slice(0,l.length);return this.where(m).equals(m.map(function(_){return s[_]}))}!c&&Y&&console.warn("The query ".concat(JSON.stringify(s)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(l.join("+"),"]"));var d=this.schema.idxByName;function h(k,_){return ze(k,_)===0}var v=l.reduce(function(C,_){var P=C[0],M=C[1],C=d[_],L=s[_];return[P||C,P||!C?Nn(M,C&&C.multi?function(T){return T=J(T,_),f(T)&&T.some(function(R){return h(L,R)})}:function(T){return h(L,J(T,_))}):M]},[null,null]),m=v[0],v=v[1];return m?this.where(m.name).equals(s[m.keyPath]).filter(v):c?this.filter(v):this.where(l).equals("")},We.prototype.filter=function(s){return this.toCollection().and(s)},We.prototype.count=function(s){return this.toCollection().count(s)},We.prototype.offset=function(s){return this.toCollection().offset(s)},We.prototype.limit=function(s){return this.toCollection().limit(s)},We.prototype.each=function(s){return this.toCollection().each(s)},We.prototype.toArray=function(s){return this.toCollection().toArray(s)},We.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},We.prototype.orderBy=function(s){return new this.db.Collection(new this.db.WhereClause(this,f(s)?"[".concat(s.join("+"),"]"):s))},We.prototype.reverse=function(){return this.toCollection().reverse()},We.prototype.mapToClass=function(s){var l,c=this.db,d=this.name;function h(){return l!==null&&l.apply(this,arguments)||this}(this.schema.mappedClass=s).prototype instanceof Oo&&(function(_,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function M(){this.constructor=_}n(_,P),_.prototype=P===null?Object.create(P):(M.prototype=P.prototype,new M)}(h,l=s),Object.defineProperty(h.prototype,"db",{get:function(){return c},enumerable:!1,configurable:!0}),h.prototype.table=function(){return d},s=h);for(var m=new Set,v=s.prototype;v;v=g(v))Object.getOwnPropertyNames(v).forEach(function(_){return m.add(_)});function k(_){if(!_)return _;var P,M=Object.create(s.prototype);for(P in _)if(!m.has(P))try{M[P]=_[P]}catch{}return M}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=k,this.hook("reading",k),s},We.prototype.defineClass=function(){return this.mapToClass(function(s){p(this,s)})},We.prototype.add=function(s,l){var c=this,d=this.schema.primKey,h=d.auto,m=d.keyPath,v=s;return m&&h&&(v=Li(m)(s)),this._trans("readwrite",function(k){return c.core.mutate({trans:k,type:"add",keys:l!=null?[l]:null,values:[v]})}).then(function(k){return k.numFailures?ie.reject(k.failures[0]):k.lastResult}).then(function(k){if(m)try{Q(s,m,k)}catch{}return k})},We.prototype.upsert=function(s,l){var c=this,d=this.schema.primKey.keyPath;return this._trans("readwrite",function(h){return c.core.get({trans:h,key:s}).then(function(m){var v=m??{};return zi(v,l),d&&Q(v,d,s),c.core.mutate({trans:h,type:"put",values:[v],keys:[s],upsert:!0,updates:{keys:[s],changeSpecs:[l]}}).then(function(k){return k.numFailures?ie.reject(k.failures[0]):!!m})})})},We.prototype.update=function(s,l){return typeof s!="object"||f(s)?this.where(":id").equals(s).modify(l):(s=J(s,this.schema.primKey.keyPath),s===void 0?tt(new A.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(s).modify(l))},We.prototype.put=function(s,l){var c=this,d=this.schema.primKey,h=d.auto,m=d.keyPath,v=s;return m&&h&&(v=Li(m)(s)),this._trans("readwrite",function(k){return c.core.mutate({trans:k,type:"put",values:[v],keys:l!=null?[l]:null})}).then(function(k){return k.numFailures?ie.reject(k.failures[0]):k.lastResult}).then(function(k){if(m)try{Q(s,m,k)}catch{}return k})},We.prototype.delete=function(s){var l=this;return this._trans("readwrite",function(c){return l.core.mutate({trans:c,type:"delete",keys:[s]}).then(function(d){return Cn(l,[s],d)}).then(function(d){return d.numFailures?ie.reject(d.failures[0]):void 0})})},We.prototype.clear=function(){var s=this;return this._trans("readwrite",function(l){return s.core.mutate({trans:l,type:"deleteRange",range:Es}).then(function(c){return Cn(s,null,c)})}).then(function(l){return l.numFailures?ie.reject(l.failures[0]):void 0})},We.prototype.bulkGet=function(s){var l=this;return this._trans("readonly",function(c){return l.core.getMany({keys:s,trans:c}).then(function(d){return d.map(function(h){return l.hook.reading.fire(h)})})})},We.prototype.bulkAdd=function(s,l,c){var d=this,h=Array.isArray(l)?l:void 0,m=(c=c||(h?void 0:l))?c.allKeys:void 0;return this._trans("readwrite",function(v){var P=d.schema.primKey,k=P.auto,P=P.keyPath;if(P&&h)throw new A.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(h&&h.length!==s.length)throw new A.InvalidArgument("Arguments objects and keys must have the same length");var _=s.length,P=P&&k?s.map(Li(P)):s;return d.core.mutate({trans:v,type:"add",keys:h,values:P,wantResults:m}).then(function(R){var C=R.numFailures,L=R.results,T=R.lastResult,R=R.failures;if(C===0)return m?L:T;throw new Qe("".concat(d.name,".bulkAdd(): ").concat(C," of ").concat(_," operations failed"),R)})})},We.prototype.bulkPut=function(s,l,c){var d=this,h=Array.isArray(l)?l:void 0,m=(c=c||(h?void 0:l))?c.allKeys:void 0;return this._trans("readwrite",function(v){var P=d.schema.primKey,k=P.auto,P=P.keyPath;if(P&&h)throw new A.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(h&&h.length!==s.length)throw new A.InvalidArgument("Arguments objects and keys must have the same length");var _=s.length,P=P&&k?s.map(Li(P)):s;return d.core.mutate({trans:v,type:"put",keys:h,values:P,wantResults:m}).then(function(R){var C=R.numFailures,L=R.results,T=R.lastResult,R=R.failures;if(C===0)return m?L:T;throw new Qe("".concat(d.name,".bulkPut(): ").concat(C," of ").concat(_," operations failed"),R)})})},We.prototype.bulkUpdate=function(s){var l=this,c=this.core,d=s.map(function(v){return v.key}),h=s.map(function(v){return v.changes}),m=[];return this._trans("readwrite",function(v){return c.getMany({trans:v,keys:d,cache:"clone"}).then(function(k){var _=[],P=[];s.forEach(function(C,L){var T=C.key,R=C.changes,O=k[L];if(O){for(var I=0,z=Object.keys(R);I<z.length;I++){var $=z[I],V=R[$];if($===l.schema.primKey.keyPath){if(ze(V,T)!==0)throw new A.Constraint("Cannot update primary key in bulkUpdate()")}else Q(O,$,V)}m.push(L),_.push(T),P.push(O)}});var M=_.length;return c.mutate({trans:v,type:"put",keys:_,values:P,updates:{keys:d,changeSpecs:h}}).then(function(C){var L=C.numFailures,T=C.failures;if(L===0)return M;for(var R=0,O=Object.keys(T);R<O.length;R++){var I,z=O[R],$=m[Number(z)];$!=null&&(I=T[z],delete T[z],T[$]=I)}throw new Qe("".concat(l.name,".bulkUpdate(): ").concat(L," of ").concat(M," operations failed"),T)})})})},We.prototype.bulkDelete=function(s){var l=this,c=s.length;return this._trans("readwrite",function(d){return l.core.mutate({trans:d,type:"delete",keys:s}).then(function(h){return Cn(l,s,h)})}).then(function(v){var h=v.numFailures,m=v.lastResult,v=v.failures;if(h===0)return m;throw new Qe("".concat(l.name,".bulkDelete(): ").concat(h," of ").concat(c," operations failed"),v)})},We);function We(){}function ii(s){function l(v,k){if(k){for(var _=arguments.length,P=new Array(_-1);--_;)P[_-1]=arguments[_];return c[v].subscribe.apply(null,P),s}if(typeof v=="string")return c[v]}var c={};l.addEventType=m;for(var d=1,h=arguments.length;d<h;++d)m(arguments[d]);return l;function m(v,k,_){if(typeof v!="object"){var P;k=k||hr;var M={subscribers:[],fire:_=_||me,subscribe:function(C){M.subscribers.indexOf(C)===-1&&(M.subscribers.push(C),M.fire=k(M.fire,C))},unsubscribe:function(C){M.subscribers=M.subscribers.filter(function(L){return L!==C}),M.fire=M.subscribers.reduce(k,_)}};return c[v]=l[v]=M}u(P=v).forEach(function(C){var L=P[C];if(f(L))m(C,P[C][0],P[C][1]);else{if(L!=="asap")throw new A.InvalidArgument("Invalid event config");var T=m(C,Ie,function(){for(var R=arguments.length,O=new Array(R);R--;)O[R]=arguments[R];T.subscribers.forEach(function(I){Z(function(){I.apply(null,O)})})})}})}}function Ye(s,l){return W(l).from({prototype:s}),l}function Nt(s,l){return!(s.filter||s.algorithm||s.or)&&(l?s.justLimit:!s.replayFilter)}function Bt(s,l){s.filter=Nn(s.filter,l)}function Ai(s,l,c){var d=s.replayFilter;s.replayFilter=d?function(){return Nn(d(),l())}:l,s.justLimit=c&&!d}function br(s,l){if(s.isPrimKey)return l.primaryKey;var c=l.getIndexByKeyPath(s.index);if(!c)throw new A.Schema("KeyPath "+s.index+" on object store "+l.name+" is not indexed");return c}function b(s,l,c){var d=br(s,l.schema);return l.openCursor({trans:c,values:!s.keysOnly,reverse:s.dir==="prev",unique:!!s.unique,query:{index:d,range:s.range}})}function X(s,l,c,d){var h=s.replayFilter?Nn(s.filter,s.replayFilter()):s.filter;if(s.or){var m={},v=function(k,_,P){var M,C;h&&!h(_,P,function(L){return _.stop(L)},function(L){return _.fail(L)})||((C=""+(M=_.primaryKey))=="[object ArrayBuffer]"&&(C=""+new Uint8Array(M)),w(m,C)||(m[C]=!0,l(k,_,P)))};return Promise.all([s.or._iterate(v,c),B(b(s,d,c),s.algorithm,v,!s.keysOnly&&s.valueMapper)])}return B(b(s,d,c),Nn(s.algorithm,h),l,!s.keysOnly&&s.valueMapper)}function B(s,l,c,d){var h=qe(d?function(m,v,k){return c(d(m),v,k)}:c);return s.then(function(m){if(m)return m.start(function(){var v=function(){return m.continue()};l&&!l(m,function(k){return v=k},function(k){m.stop(k),v=me},function(k){m.fail(k),v=me})||h(m.value,m,function(k){return v=k}),v()})})}var pe=(de.prototype._read=function(s,l){var c=this._ctx;return c.error?c.table._trans(null,tt.bind(null,c.error)):c.table._trans("readonly",s).then(l)},de.prototype._write=function(s){var l=this._ctx;return l.error?l.table._trans(null,tt.bind(null,l.error)):l.table._trans("readwrite",s,"locked")},de.prototype._addAlgorithm=function(s){var l=this._ctx;l.algorithm=Nn(l.algorithm,s)},de.prototype._iterate=function(s,l){return X(this._ctx,s,l,this._ctx.table.core)},de.prototype.clone=function(s){var l=Object.create(this.constructor.prototype),c=Object.create(this._ctx);return s&&p(c,s),l._ctx=c,l},de.prototype.raw=function(){return this._ctx.valueMapper=null,this},de.prototype.each=function(s){var l=this._ctx;return this._read(function(c){return X(l,s,c,l.table.core)})},de.prototype.count=function(s){var l=this;return this._read(function(c){var d=l._ctx,h=d.table.core;if(Nt(d,!0))return h.count({trans:c,query:{index:br(d,h.schema),range:d.range}}).then(function(v){return Math.min(v,d.limit)});var m=0;return X(d,function(){return++m,!1},c,h).then(function(){return m})}).then(s)},de.prototype.sortBy=function(s,l){var c=s.split(".").reverse(),d=c[0],h=c.length-1;function m(_,P){return P?m(_[c[P]],P-1):_[d]}var v=this._ctx.dir==="next"?1:-1;function k(_,P){return ze(m(_,h),m(P,h))*v}return this.toArray(function(_){return _.sort(k)}).then(l)},de.prototype.toArray=function(s){var l=this;return this._read(function(c){var d=l._ctx;if(d.dir==="next"&&Nt(d,!0)&&0<d.limit){var h=d.valueMapper,m=br(d,d.table.core.schema);return d.table.core.query({trans:c,limit:d.limit,values:!0,query:{index:m,range:d.range}}).then(function(k){return k=k.result,h?k.map(h):k})}var v=[];return X(d,function(k){return v.push(k)},c,d.table.core).then(function(){return v})},s)},de.prototype.offset=function(s){var l=this._ctx;return s<=0||(l.offset+=s,Nt(l)?Ai(l,function(){var c=s;return function(d,h){return c===0||(c===1?--c:h(function(){d.advance(c),c=0}),!1)}}):Ai(l,function(){var c=s;return function(){return--c<0}})),this},de.prototype.limit=function(s){return this._ctx.limit=Math.min(this._ctx.limit,s),Ai(this._ctx,function(){var l=s;return function(c,d,h){return--l<=0&&d(h),0<=l}},!0),this},de.prototype.until=function(s,l){return Bt(this._ctx,function(c,d,h){return!s(c.value)||(d(h),l)}),this},de.prototype.first=function(s){return this.limit(1).toArray(function(l){return l[0]}).then(s)},de.prototype.last=function(s){return this.reverse().first(s)},de.prototype.filter=function(s){var l;return Bt(this._ctx,function(c){return s(c.value)}),(l=this._ctx).isMatch=Nn(l.isMatch,s),this},de.prototype.and=function(s){return this.filter(s)},de.prototype.or=function(s){return new this.db.WhereClause(this._ctx.table,s,this)},de.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},de.prototype.desc=function(){return this.reverse()},de.prototype.eachKey=function(s){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(c,d){s(d.key,d)})},de.prototype.eachUniqueKey=function(s){return this._ctx.unique="unique",this.eachKey(s)},de.prototype.eachPrimaryKey=function(s){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(c,d){s(d.primaryKey,d)})},de.prototype.keys=function(s){var l=this._ctx;l.keysOnly=!l.isMatch;var c=[];return this.each(function(d,h){c.push(h.key)}).then(function(){return c}).then(s)},de.prototype.primaryKeys=function(s){var l=this._ctx;if(l.dir==="next"&&Nt(l,!0)&&0<l.limit)return this._read(function(d){var h=br(l,l.table.core.schema);return l.table.core.query({trans:d,values:!1,limit:l.limit,query:{index:h,range:l.range}})}).then(function(d){return d.result}).then(s);l.keysOnly=!l.isMatch;var c=[];return this.each(function(d,h){c.push(h.primaryKey)}).then(function(){return c}).then(s)},de.prototype.uniqueKeys=function(s){return this._ctx.unique="unique",this.keys(s)},de.prototype.firstKey=function(s){return this.limit(1).keys(function(l){return l[0]}).then(s)},de.prototype.lastKey=function(s){return this.reverse().firstKey(s)},de.prototype.distinct=function(){var s=this._ctx,s=s.index&&s.table.schema.idxByName[s.index];if(!s||!s.multi)return this;var l={};return Bt(this._ctx,function(h){var d=h.primaryKey.toString(),h=w(l,d);return l[d]=!0,!h}),this},de.prototype.modify=function(s){var l=this,c=this._ctx;return this._write(function(d){var h=typeof s=="function"?s:function(O){return zi(O,s)},m=c.table.core,P=m.schema.primaryKey,v=P.outbound,k=P.extractKey,_=200,P=l.db._options.modifyChunkSize;P&&(_=typeof P=="object"?P[m.name]||P["*"]||200:P);function M(O,$){var z=$.failures,$=$.numFailures;L+=O-$;for(var V=0,G=u(z);V<G.length;V++){var re=G[V];C.push(z[re])}}var C=[],L=0,T=[],R=s===Ce;return l.clone().primaryKeys().then(function(O){function I($){var V=Math.min(_,O.length-$),G=O.slice($,$+V);return(R?Promise.resolve([]):m.getMany({trans:d,keys:G,cache:"immutable"})).then(function(re){var ae=[],te=[],oe=v?[]:null,ce=R?G:[];if(!R)for(var le=0;le<V;++le){var ye=re[le],Oe={value:H(ye),primKey:O[$+le]};h.call(Oe,Oe.value,Oe)!==!1&&(Oe.value==null?ce.push(O[$+le]):v||ze(k(ye),k(Oe.value))===0?(te.push(Oe.value),v&&oe.push(O[$+le])):(ce.push(O[$+le]),ae.push(Oe.value)))}return Promise.resolve(0<ae.length&&m.mutate({trans:d,type:"add",values:ae}).then(function(Fe){for(var Le in Fe.failures)ce.splice(parseInt(Le),1);M(ae.length,Fe)})).then(function(){return(0<te.length||z&&typeof s=="object")&&m.mutate({trans:d,type:"put",keys:oe,values:te,criteria:z,changeSpec:typeof s!="function"&&s,isAdditionalChunk:0<$}).then(function(Fe){return M(te.length,Fe)})}).then(function(){return(0<ce.length||z&&R)&&m.mutate({trans:d,type:"delete",keys:ce,criteria:z,isAdditionalChunk:0<$}).then(function(Fe){return Cn(c.table,ce,Fe)}).then(function(Fe){return M(ce.length,Fe)})}).then(function(){return O.length>$+V&&I($+_)})})}var z=Nt(c)&&c.limit===1/0&&(typeof s!="function"||R)&&{index:c.index,range:c.range};return I(0).then(function(){if(0<C.length)throw new gt("Error modifying one or more objects",C,L,T);return O.length})})})},de.prototype.delete=function(){var s=this._ctx,l=s.range;return!Nt(s)||s.table.schema.yProps||!s.isPrimKey&&l.type!==3?this.modify(Ce):this._write(function(c){var d=s.table.core.schema.primaryKey,h=l;return s.table.core.count({trans:c,query:{index:d,range:h}}).then(function(m){return s.table.core.mutate({trans:c,type:"deleteRange",range:h}).then(function(_){var k=_.failures,_=_.numFailures;if(_)throw new gt("Could not delete some values",Object.keys(k).map(function(P){return k[P]}),m-_);return m-_})})})},de);function de(){}var Ce=function(s,l){return l.value=null};function De(s,l){return s<l?-1:s===l?0:1}function Fo(s,l){return l<s?-1:s===l?0:1}function Jt(s,l,c){return s=s instanceof Dd?new s.Collection(s):s,s._ctx.error=new(c||TypeError)(l),s}function Di(s){return new s.Collection(s,function(){return Ad("")}).limit(0)}function Io(s,l,c,d){var h,m,v,k,_,P,M,C=c.length;if(!c.every(function(R){return typeof R=="string"}))return Jt(s,wr);function L(R){h=R==="next"?function(I){return I.toUpperCase()}:function(I){return I.toLowerCase()},m=R==="next"?function(I){return I.toLowerCase()}:function(I){return I.toUpperCase()},v=R==="next"?De:Fo;var O=c.map(function(I){return{lower:m(I),upper:h(I)}}).sort(function(I,z){return v(I.lower,z.lower)});k=O.map(function(I){return I.upper}),_=O.map(function(I){return I.lower}),M=(P=R)==="next"?"":d}L("next"),s=new s.Collection(s,function(){return Sr(k[0],_[C-1]+d)}),s._ondirectionchange=function(R){L(R)};var T=0;return s._addAlgorithm(function(R,O,I){var z=R.key;if(typeof z!="string")return!1;var $=m(z);if(l($,_,T))return!0;for(var V=null,G=T;G<C;++G){var re=function(ae,te,oe,ce,le,ye){for(var Oe=Math.min(ae.length,ce.length),Fe=-1,Le=0;Le<Oe;++Le){var Zt=te[Le];if(Zt!==ce[Le])return le(ae[Le],oe[Le])<0?ae.substr(0,Le)+oe[Le]+oe.substr(Le+1):le(ae[Le],ce[Le])<0?ae.substr(0,Le)+ce[Le]+oe.substr(Le+1):0<=Fe?ae.substr(0,Fe)+te[Fe]+oe.substr(Fe+1):null;le(ae[Le],Zt)<0&&(Fe=Le)}return Oe<ce.length&&ye==="next"?ae+oe.substr(ae.length):Oe<ae.length&&ye==="prev"?ae.substr(0,oe.length):Fe<0?null:ae.substr(0,Fe)+ce[Fe]+oe.substr(Fe+1)}(z,$,k[G],_[G],v,P);re===null&&V===null?T=G+1:(V===null||0<v(V,re))&&(V=re)}return O(V!==null?function(){R.continue(V+M)}:I),!1}),s}function Sr(s,l,c,d){return{type:2,lower:s,upper:l,lowerOpen:c,upperOpen:d}}function Ad(s){return{type:1,lower:s,upper:s}}var Dd=(Object.defineProperty(bt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),bt.prototype.between=function(s,l,c,d){c=c!==!1,d=d===!0;try{return 0<this._cmp(s,l)||this._cmp(s,l)===0&&(c||d)&&(!c||!d)?Di(this):new this.Collection(this,function(){return Sr(s,l,!c,!d)})}catch{return Jt(this,fn)}},bt.prototype.equals=function(s){return s==null?Jt(this,fn):new this.Collection(this,function(){return Ad(s)})},bt.prototype.above=function(s){return s==null?Jt(this,fn):new this.Collection(this,function(){return Sr(s,void 0,!0)})},bt.prototype.aboveOrEqual=function(s){return s==null?Jt(this,fn):new this.Collection(this,function(){return Sr(s,void 0,!1)})},bt.prototype.below=function(s){return s==null?Jt(this,fn):new this.Collection(this,function(){return Sr(void 0,s,!1,!0)})},bt.prototype.belowOrEqual=function(s){return s==null?Jt(this,fn):new this.Collection(this,function(){return Sr(void 0,s)})},bt.prototype.startsWith=function(s){return typeof s!="string"?Jt(this,wr):this.between(s,s+Yn,!0,!0)},bt.prototype.startsWithIgnoreCase=function(s){return s===""?this.startsWith(s):Io(this,function(l,c){return l.indexOf(c[0])===0},[s],Yn)},bt.prototype.equalsIgnoreCase=function(s){return Io(this,function(l,c){return l===c[0]},[s],"")},bt.prototype.anyOfIgnoreCase=function(){var s=he.apply(se,arguments);return s.length===0?Di(this):Io(this,function(l,c){return c.indexOf(l)!==-1},s,"")},bt.prototype.startsWithAnyOfIgnoreCase=function(){var s=he.apply(se,arguments);return s.length===0?Di(this):Io(this,function(l,c){return c.some(function(d){return l.indexOf(d)===0})},s,Yn)},bt.prototype.anyOf=function(){var s=this,l=he.apply(se,arguments),c=this._cmp;try{l.sort(c)}catch{return Jt(this,fn)}if(l.length===0)return Di(this);var d=new this.Collection(this,function(){return Sr(l[0],l[l.length-1])});d._ondirectionchange=function(m){c=m==="next"?s._ascending:s._descending,l.sort(c)};var h=0;return d._addAlgorithm(function(m,v,k){for(var _=m.key;0<c(_,l[h]);)if(++h===l.length)return v(k),!1;return c(_,l[h])===0||(v(function(){m.continue(l[h])}),!1)}),d},bt.prototype.notEqual=function(s){return this.inAnyRange([[-1/0,s],[s,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},bt.prototype.noneOf=function(){var s=he.apply(se,arguments);if(s.length===0)return new this.Collection(this);try{s.sort(this._ascending)}catch{return Jt(this,fn)}var l=s.reduce(function(c,d){return c?c.concat([[c[c.length-1][1],d]]):[[-1/0,d]]},null);return l.push([s[s.length-1],this.db._maxKey]),this.inAnyRange(l,{includeLowers:!1,includeUppers:!1})},bt.prototype.inAnyRange=function(z,l){var c=this,d=this._cmp,h=this._ascending,m=this._descending,v=this._min,k=this._max;if(z.length===0)return Di(this);if(!z.every(function($){return $[0]!==void 0&&$[1]!==void 0&&h($[0],$[1])<=0}))return Jt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",A.InvalidArgument);var _=!l||l.includeLowers!==!1,P=l&&l.includeUppers===!0,M,C=h;function L($,V){return C($[0],V[0])}try{(M=z.reduce(function($,V){for(var G=0,re=$.length;G<re;++G){var ae=$[G];if(d(V[0],ae[1])<0&&0<d(V[1],ae[0])){ae[0]=v(ae[0],V[0]),ae[1]=k(ae[1],V[1]);break}}return G===re&&$.push(V),$},[])).sort(L)}catch{return Jt(this,fn)}var T=0,R=P?function($){return 0<h($,M[T][1])}:function($){return 0<=h($,M[T][1])},O=_?function($){return 0<m($,M[T][0])}:function($){return 0<=m($,M[T][0])},I=R,z=new this.Collection(this,function(){return Sr(M[0][0],M[M.length-1][1],!_,!P)});return z._ondirectionchange=function($){C=$==="next"?(I=R,h):(I=O,m),M.sort(L)},z._addAlgorithm(function($,V,G){for(var re,ae=$.key;I(ae);)if(++T===M.length)return V(G),!1;return!R(re=ae)&&!O(re)||(c._cmp(ae,M[T][1])===0||c._cmp(ae,M[T][0])===0||V(function(){C===h?$.continue(M[T][0]):$.continue(M[T][1])}),!1)}),z},bt.prototype.startsWithAnyOf=function(){var s=he.apply(se,arguments);return s.every(function(l){return typeof l=="string"})?s.length===0?Di(this):this.inAnyRange(s.map(function(l){return[l,l+Yn]})):Jt(this,"startsWithAnyOf() only works with strings")},bt);function bt(){}function Dn(s){return qe(function(l){return _s(l),s(l.target.error),!1})}function _s(s){s.stopPropagation&&s.stopPropagation(),s.preventDefault&&s.preventDefault()}var Ps="storagemutated",Ea="x-storagemutated-1",kr=ii(null,Ps),$y=($n.prototype._lock=function(){return D(!be.global),++this._reculock,this._reculock!==1||be.global||(be.lockOwnerFor=this),this},$n.prototype._unlock=function(){if(D(!be.global),--this._reculock==0)for(be.global||(be.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var s=this._blockedFuncs.shift();try{Qn(s[1],s[0])}catch{}}return this},$n.prototype._locked=function(){return this._reculock&&be.lockOwnerFor!==this},$n.prototype.create=function(s){var l=this;if(!this.mode)return this;var c=this.db.idbdb,d=this.db._state.dbOpenError;if(D(!this.idbtrans),!s&&!c)switch(d&&d.name){case"DatabaseClosedError":throw new A.DatabaseClosed(d);case"MissingAPIError":throw new A.MissingAPI(d.message,d);default:throw new A.OpenFailed(d)}if(!this.active)throw new A.TransactionInactive;return D(this._completion._state===null),(s=this.idbtrans=s||(this.db.core||c).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=qe(function(h){_s(h),l._reject(s.error)}),s.onabort=qe(function(h){_s(h),l.active&&l._reject(new A.Abort(s.error)),l.active=!1,l.on("abort").fire(h)}),s.oncomplete=qe(function(){l.active=!1,l._resolve(),"mutatedParts"in s&&kr.storagemutated.fire(s.mutatedParts)}),this},$n.prototype._promise=function(s,l,c){var d=this;if(s==="readwrite"&&this.mode!=="readwrite")return tt(new A.ReadOnly("Transaction is readonly"));if(!this.active)return tt(new A.TransactionInactive);if(this._locked())return new ie(function(m,v){d._blockedFuncs.push([function(){d._promise(s,l,c).then(m,v)},be])});if(c)return Ln(function(){var m=new ie(function(v,k){d._lock();var _=l(v,k,d);_&&_.then&&_.then(v,k)});return m.finally(function(){return d._unlock()}),m._lib=!0,m});var h=new ie(function(m,v){var k=l(m,v,d);k&&k.then&&k.then(m,v)});return h._lib=!0,h},$n.prototype._root=function(){return this.parent?this.parent._root():this},$n.prototype.waitFor=function(s){var l,c=this._root(),d=ie.resolve(s);c._waitingFor?c._waitingFor=c._waitingFor.then(function(){return d}):(c._waitingFor=d,c._waitingQueue=[],l=c.idbtrans.objectStore(c.storeNames[0]),function m(){for(++c._spinCount;c._waitingQueue.length;)c._waitingQueue.shift()();c._waitingFor&&(l.get(-1/0).onsuccess=m)}());var h=c._waitingFor;return new ie(function(m,v){d.then(function(k){return c._waitingQueue.push(qe(m.bind(null,k)))},function(k){return c._waitingQueue.push(qe(v.bind(null,k)))}).finally(function(){c._waitingFor===h&&(c._waitingFor=null)})})},$n.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new A.Abort))},$n.prototype.table=function(s){var l=this._memoizedTables||(this._memoizedTables={});if(w(l,s))return l[s];var c=this.schema[s];if(!c)throw new A.NotFound("Table "+s+" not part of transaction");return c=new this.db.Table(s,c,this),c.core=this.db.core.table(s),l[s]=c},$n);function $n(){}function _a(s,l,c,d,h,m,v,k){return{name:s,keyPath:l,unique:c,multi:d,auto:h,compound:m,src:(c&&!v?"&":"")+(d?"*":"")+(h?"++":"")+$d(l),type:k}}function $d(s){return typeof s=="string"?s:s?"["+[].join.call(s,"+")+"]":""}function Pa(s,l,c){return{name:s,primKey:l,indexes:c,mappedClass:null,idxByName:(d=function(h){return[h.name,h]},c.reduce(function(h,m,v){return v=d(m,v),v&&(h[v[0]]=v[1]),h},{}))};var d}var Ts=function(s){try{return s.only([[]]),Ts=function(){return[[]]},[[]]}catch{return Ts=function(){return Yn},Yn}};function Ta(s){return s==null?function(){}:typeof s=="string"?(l=s).split(".").length===1?function(c){return c[l]}:function(c){return J(c,l)}:function(c){return J(c,s)};var l}function Ud(s){return[].slice.call(s)}var Uy=0;function Rs(s){return s==null?":id":typeof s=="string"?s:"[".concat(s.join("+"),"]")}function By(s,l,_){function d(I){if(I.type===3)return null;if(I.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var T=I.lower,R=I.upper,O=I.lowerOpen,I=I.upperOpen;return T===void 0?R===void 0?null:l.upperBound(R,!!I):R===void 0?l.lowerBound(T,!!O):l.bound(T,R,!!O,!!I)}function h(L){var T,R=L.name;return{name:R,schema:L,mutate:function(O){var I=O.trans,z=O.type,$=O.keys,V=O.values,G=O.range;return new Promise(function(re,ae){re=qe(re);var te=I.objectStore(R),oe=te.keyPath==null,ce=z==="put"||z==="add";if(!ce&&z!=="delete"&&z!=="deleteRange")throw new Error("Invalid operation type: "+z);var le,ye=($||V||{length:1}).length;if($&&V&&$.length!==V.length)throw new Error("Given keys array must have same length as given values array.");if(ye===0)return re({numFailures:0,failures:{},results:[],lastResult:void 0});function Oe(zt){++Zt,_s(zt)}var Fe=[],Le=[],Zt=0;if(z==="deleteRange"){if(G.type===4)return re({numFailures:Zt,failures:Le,results:[],lastResult:void 0});G.type===3?Fe.push(le=te.clear()):Fe.push(le=te.delete(d(G)))}else{var oe=ce?oe?[V,$]:[V,null]:[$,null],Re=oe[0],Rt=oe[1];if(ce)for(var Ot=0;Ot<ye;++Ot)Fe.push(le=Rt&&Rt[Ot]!==void 0?te[z](Re[Ot],Rt[Ot]):te[z](Re[Ot])),le.onerror=Oe;else for(Ot=0;Ot<ye;++Ot)Fe.push(le=te[z](Re[Ot])),le.onerror=Oe}function qo(zt){zt=zt.target.result,Fe.forEach(function(li,Qa){return li.error!=null&&(Le[Qa]=li.error)}),re({numFailures:Zt,failures:Le,results:z==="delete"?$:Fe.map(function(li){return li.result}),lastResult:zt})}le.onerror=function(zt){Oe(zt),qo(zt)},le.onsuccess=qo})},getMany:function(O){var I=O.trans,z=O.keys;return new Promise(function($,V){$=qe($);for(var G,re=I.objectStore(R),ae=z.length,te=new Array(ae),oe=0,ce=0,le=function(Fe){Fe=Fe.target,te[Fe._pos]=Fe.result,++ce===oe&&$(te)},ye=Dn(V),Oe=0;Oe<ae;++Oe)z[Oe]!=null&&((G=re.get(z[Oe]))._pos=Oe,G.onsuccess=le,G.onerror=ye,++oe);oe===0&&$(te)})},get:function(O){var I=O.trans,z=O.key;return new Promise(function($,V){$=qe($);var G=I.objectStore(R).get(z);G.onsuccess=function(re){return $(re.target.result)},G.onerror=Dn(V)})},query:(T=P,function(O){return new Promise(function(I,z){I=qe(I);var $,V,G,oe=O.trans,re=O.values,ae=O.limit,le=O.query,te=ae===1/0?void 0:ae,ce=le.index,le=le.range,oe=oe.objectStore(R),ce=ce.isPrimaryKey?oe:oe.index(ce.name),le=d(le);if(ae===0)return I({result:[]});T?((te=re?ce.getAll(le,te):ce.getAllKeys(le,te)).onsuccess=function(ye){return I({result:ye.target.result})},te.onerror=Dn(z)):($=0,V=!re&&"openKeyCursor"in ce?ce.openKeyCursor(le):ce.openCursor(le),G=[],V.onsuccess=function(ye){var Oe=V.result;return Oe?(G.push(re?Oe.value:Oe.primaryKey),++$===ae?I({result:G}):void Oe.continue()):I({result:G})},V.onerror=Dn(z))})}),openCursor:function(O){var I=O.trans,z=O.values,$=O.query,V=O.reverse,G=O.unique;return new Promise(function(re,ae){re=qe(re);var ce=$.index,te=$.range,oe=I.objectStore(R),oe=ce.isPrimaryKey?oe:oe.index(ce.name),ce=V?G?"prevunique":"prev":G?"nextunique":"next",le=!z&&"openKeyCursor"in oe?oe.openKeyCursor(d(te),ce):oe.openCursor(d(te),ce);le.onerror=Dn(ae),le.onsuccess=qe(function(ye){var Oe,Fe,Le,Zt,Re=le.result;Re?(Re.___id=++Uy,Re.done=!1,Oe=Re.continue.bind(Re),Fe=(Fe=Re.continuePrimaryKey)&&Fe.bind(Re),Le=Re.advance.bind(Re),Zt=function(){throw new Error("Cursor not stopped")},Re.trans=I,Re.stop=Re.continue=Re.continuePrimaryKey=Re.advance=function(){throw new Error("Cursor not started")},Re.fail=qe(ae),Re.next=function(){var Rt=this,Ot=1;return this.start(function(){return Ot--?Rt.continue():Rt.stop()}).then(function(){return Rt})},Re.start=function(Rt){function Ot(){if(le.result)try{Rt()}catch(zt){Re.fail(zt)}else Re.done=!0,Re.start=function(){throw new Error("Cursor behind last entry")},Re.stop()}var qo=new Promise(function(zt,li){zt=qe(zt),le.onerror=Dn(li),Re.fail=li,Re.stop=function(Qa){Re.stop=Re.continue=Re.continuePrimaryKey=Re.advance=Zt,zt(Qa)}});return le.onsuccess=qe(function(zt){le.onsuccess=Ot,Ot()}),Re.continue=Oe,Re.continuePrimaryKey=Fe,Re.advance=Le,Ot(),qo},re(Re)):re(null)},ae)})},count:function(O){var I=O.query,z=O.trans,$=I.index,V=I.range;return new Promise(function(G,re){var ae=z.objectStore(R),te=$.isPrimaryKey?ae:ae.index($.name),ae=d(V),te=ae?te.count(ae):te.count();te.onsuccess=qe(function(oe){return G(oe.target.result)}),te.onerror=Dn(re)})}}}var m,v,k,M=(v=_,k=Ud((m=s).objectStoreNames),{schema:{name:m.name,tables:k.map(function(L){return v.objectStore(L)}).map(function(L){var T=L.keyPath,I=L.autoIncrement,R=f(T),O={},I={name:L.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:T==null,compound:R,keyPath:T,autoIncrement:I,unique:!0,extractKey:Ta(T)},indexes:Ud(L.indexNames).map(function(z){return L.index(z)}).map(function(G){var $=G.name,V=G.unique,re=G.multiEntry,G=G.keyPath,re={name:$,compound:f(G),keyPath:G,unique:V,multiEntry:re,extractKey:Ta(G)};return O[Rs(G)]=re}),getIndexByKeyPath:function(z){return O[Rs(z)]}};return O[":id"]=I.primaryKey,T!=null&&(O[Rs(T)]=I.primaryKey),I})},hasGetAll:0<k.length&&"getAll"in v.objectStore(k[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),_=M.schema,P=M.hasGetAll,M=_.tables.map(h),C={};return M.forEach(function(L){return C[L.name]=L}),{stack:"dbcore",transaction:s.transaction.bind(s),table:function(L){if(!C[L])throw new Error("Table '".concat(L,"' not found"));return C[L]},MIN_KEY:-1/0,MAX_KEY:Ts(l),schema:_}}function Wy(s,l,c,d){var h=c.IDBKeyRange;return c.indexedDB,{dbcore:(d=By(l,h,d),s.dbcore.reduce(function(m,v){return v=v.create,r(r({},m),v(m))},d))}}function Lo(s,d){var c=d.db,d=Wy(s._middlewares,c,s._deps,d);s.core=d.dbcore,s.tables.forEach(function(h){var m=h.name;s.core.schema.tables.some(function(v){return v.name===m})&&(h.core=s.core.table(m),s[m]instanceof s.Table&&(s[m].core=h.core))})}function zo(s,l,c,d){c.forEach(function(h){var m=d[h];l.forEach(function(v){var k=function _(P,M){return q(P,M)||(P=g(P))&&_(P,M)}(v,h);(!k||"value"in k&&k.value===void 0)&&(v===s.Transaction.prototype||v instanceof s.Transaction?F(v,h,{get:function(){return this.table(h)},set:function(_){U(this,h,{value:_,writable:!0,configurable:!0,enumerable:!0})}}):v[h]=new s.Table(h,m))})})}function Ra(s,l){l.forEach(function(c){for(var d in c)c[d]instanceof s.Table&&delete c[d]})}function Ky(s,l){return s._cfg.version-l._cfg.version}function Hy(s,l,c,d){var h=s._dbSchema;c.objectStoreNames.contains("$meta")&&!h.$meta&&(h.$meta=Pa("$meta",Wd("")[0],[]),s._storeNames.push("$meta"));var m=s._createTransaction("readwrite",s._storeNames,h);m.create(c),m._completion.catch(d);var v=m._reject.bind(m),k=be.transless||be;Ln(function(){return be.trans=m,be.transless=k,l!==0?(Lo(s,c),P=l,((_=m).storeNames.includes("$meta")?_.table("$meta").get("version").then(function(M){return M??P}):ie.resolve(P)).then(function(M){return L=M,T=m,R=c,O=[],M=(C=s)._versions,I=C._dbSchema=Do(0,C.idbdb,R),(M=M.filter(function(z){return z._cfg.version>=L})).length!==0?(M.forEach(function(z){O.push(function(){var $=I,V=z._cfg.dbschema;$o(C,$,R),$o(C,V,R),I=C._dbSchema=V;var G=Oa($,V);G.add.forEach(function(ce){Ma(R,ce[0],ce[1].primKey,ce[1].indexes)}),G.change.forEach(function(ce){if(ce.recreate)throw new A.Upgrade("Not yet support for changing primary key");var le=R.objectStore(ce.name);ce.add.forEach(function(ye){return Ao(le,ye)}),ce.change.forEach(function(ye){le.deleteIndex(ye.name),Ao(le,ye)}),ce.del.forEach(function(ye){return le.deleteIndex(ye)})});var re=z._cfg.contentUpgrade;if(re&&z._cfg.version>L){Lo(C,R),T._memoizedTables={};var ae=ne(V);G.del.forEach(function(ce){ae[ce]=$[ce]}),Ra(C,[C.Transaction.prototype]),zo(C,[C.Transaction.prototype],u(ae),ae),T.schema=ae;var te,oe=_e(re);return oe&&xr(),G=ie.follow(function(){var ce;(te=re(T))&&oe&&(ce=Xt.bind(null,null),te.then(ce,ce))}),te&&typeof te.then=="function"?ie.resolve(te):G.then(function(){return te})}}),O.push(function($){var V,G,re=z._cfg.dbschema;V=re,G=$,[].slice.call(G.db.objectStoreNames).forEach(function(ae){return V[ae]==null&&G.db.deleteObjectStore(ae)}),Ra(C,[C.Transaction.prototype]),zo(C,[C.Transaction.prototype],C._storeNames,C._dbSchema),T.schema=C._dbSchema}),O.push(function($){C.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(C.idbdb.version/10)===z._cfg.version?(C.idbdb.deleteObjectStore("$meta"),delete C._dbSchema.$meta,C._storeNames=C._storeNames.filter(function(V){return V!=="$meta"})):$.objectStore("$meta").put(z._cfg.version,"version"))})}),function z(){return O.length?ie.resolve(O.shift()(T.idbtrans)).then(z):ie.resolve()}().then(function(){Bd(I,R)})):ie.resolve();var C,L,T,R,O,I}).catch(v)):(u(h).forEach(function(M){Ma(c,M,h[M].primKey,h[M].indexes)}),Lo(s,c),void ie.follow(function(){return s.on.populate.fire(m)}).catch(v));var _,P})}function Vy(s,l){Bd(s._dbSchema,l),l.db.version%10!=0||l.objectStoreNames.contains("$meta")||l.db.createObjectStore("$meta").add(Math.ceil(l.db.version/10-1),"version");var c=Do(0,s.idbdb,l);$o(s,s._dbSchema,l);for(var d=0,h=Oa(c,s._dbSchema).change;d<h.length;d++){var m=function(v){if(v.change.length||v.recreate)return console.warn("Unable to patch indexes of table ".concat(v.name," because it has changes on the type of index or primary key.")),{value:void 0};var k=l.objectStore(v.name);v.add.forEach(function(_){Y&&console.debug("Dexie upgrade patch: Creating missing index ".concat(v.name,".").concat(_.src)),Ao(k,_)})}(h[d]);if(typeof m=="object")return m.value}}function Oa(s,l){var c,d={del:[],add:[],change:[]};for(c in s)l[c]||d.del.push(c);for(c in l){var h=s[c],m=l[c];if(h){var v={name:c,def:m,recreate:!1,del:[],add:[],change:[]};if(""+(h.primKey.keyPath||"")!=""+(m.primKey.keyPath||"")||h.primKey.auto!==m.primKey.auto)v.recreate=!0,d.change.push(v);else{var k=h.idxByName,_=m.idxByName,P=void 0;for(P in k)_[P]||v.del.push(P);for(P in _){var M=k[P],C=_[P];M?M.src!==C.src&&v.change.push(C):v.add.push(C)}(0<v.del.length||0<v.add.length||0<v.change.length)&&d.change.push(v)}}else d.add.push([c,m])}return d}function Ma(s,l,c,d){var h=s.db.createObjectStore(l,c.keyPath?{keyPath:c.keyPath,autoIncrement:c.auto}:{autoIncrement:c.auto});return d.forEach(function(m){return Ao(h,m)}),h}function Bd(s,l){u(s).forEach(function(c){l.db.objectStoreNames.contains(c)||(Y&&console.debug("Dexie: Creating missing table",c),Ma(l,c,s[c].primKey,s[c].indexes))})}function Ao(s,l){s.createIndex(l.name,l.keyPath,{unique:l.unique,multiEntry:l.multi})}function Do(s,l,c){var d={};return x(l.objectStoreNames,0).forEach(function(h){for(var m=c.objectStore(h),v=_a($d(P=m.keyPath),P||"",!0,!1,!!m.autoIncrement,P&&typeof P!="string",!0),k=[],_=0;_<m.indexNames.length;++_){var M=m.index(m.indexNames[_]),P=M.keyPath,M=_a(M.name,P,!!M.unique,!!M.multiEntry,!1,P&&typeof P!="string",!1);k.push(M)}d[h]=Pa(h,v,k)}),d}function $o(s,l,c){for(var d=c.db.objectStoreNames,h=0;h<d.length;++h){var m=d[h],v=c.objectStore(m);s._hasGetAll="getAll"in v;for(var k=0;k<v.indexNames.length;++k){var _=v.indexNames[k],P=v.index(_).keyPath,M=typeof P=="string"?P:"["+x(P).join("+")+"]";!l[m]||(P=l[m].idxByName[M])&&(P.name=_,delete l[m].idxByName[M],l[m].idxByName[_]=P)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(s._hasGetAll=!1)}function Wd(s){return s.split(",").map(function(l,c){var m=l.split(":"),d=(h=m[1])===null||h===void 0?void 0:h.trim(),h=(l=m[0].trim()).replace(/([&*]|\+\+)/g,""),m=/^\[/.test(h)?h.match(/^\[(.*)\]$/)[1].split("+"):h;return _a(h,m||null,/\&/.test(l),/\*/.test(l),/\+\+/.test(l),f(m),c===0,d)})}var qy=($i.prototype._createTableSchema=Pa,$i.prototype._parseIndexSyntax=Wd,$i.prototype._parseStoresSpec=function(s,l){var c=this;u(s).forEach(function(d){if(s[d]!==null){var h=c._parseIndexSyntax(s[d]),m=h.shift();if(!m)throw new A.Schema("Invalid schema for table "+d+": "+s[d]);if(m.unique=!0,m.multi)throw new A.Schema("Primary key cannot be multiEntry*");h.forEach(function(v){if(v.auto)throw new A.Schema("Only primary key can be marked as autoIncrement (++)");if(!v.keyPath)throw new A.Schema("Index must have a name and cannot be an empty string")}),h=c._createTableSchema(d,m,h),l[d]=h}})},$i.prototype.stores=function(c){var l=this.db;this._cfg.storesSource=this._cfg.storesSource?p(this._cfg.storesSource,c):c;var c=l._versions,d={},h={};return c.forEach(function(m){p(d,m._cfg.storesSource),h=m._cfg.dbschema={},m._parseStoresSpec(d,h)}),l._dbSchema=h,Ra(l,[l._allTables,l,l.Transaction.prototype]),zo(l,[l._allTables,l,l.Transaction.prototype,this._cfg.tables],u(h),h),l._storeNames=u(h),this},$i.prototype.upgrade=function(s){return this._cfg.contentUpgrade=ln(this._cfg.contentUpgrade||me,s),this},$i);function $i(){}function Fa(s,l){var c=s._dbNamesDB;return c||(c=s._dbNamesDB=new Xn(Ii,{addons:[],indexedDB:s,IDBKeyRange:l})).version(1).stores({dbnames:"name"}),c.table("dbnames")}function Ia(s){return s&&typeof s.databases=="function"}function La(s){return Ln(function(){return be.letThrough=!0,s()})}function za(s){return!("from"in s)}var Tt=function(s,l){if(!this){var c=new Tt;return s&&"d"in s&&p(c,s),c}p(this,arguments.length?{d:1,from:s,to:1<arguments.length?l:s}:{d:0})};function Os(s,l,c){var d=ze(l,c);if(!isNaN(d)){if(0<d)throw RangeError();if(za(s))return p(s,{from:l,to:c,d:1});var h=s.l,d=s.r;if(ze(c,s.from)<0)return h?Os(h,l,c):s.l={from:l,to:c,d:1,l:null,r:null},Hd(s);if(0<ze(l,s.to))return d?Os(d,l,c):s.r={from:l,to:c,d:1,l:null,r:null},Hd(s);ze(l,s.from)<0&&(s.from=l,s.l=null,s.d=d?d.d+1:1),0<ze(c,s.to)&&(s.to=c,s.r=null,s.d=s.l?s.l.d+1:1),c=!s.r,h&&!s.l&&Ms(s,h),d&&c&&Ms(s,d)}}function Ms(s,l){za(l)||function c(d,_){var m=_.from,v=_.to,k=_.l,_=_.r;Os(d,m,v),k&&c(d,k),_&&c(d,_)}(s,l)}function Kd(s,l){var c=Uo(l),d=c.next();if(d.done)return!1;for(var h=d.value,m=Uo(s),v=m.next(h.from),k=v.value;!d.done&&!v.done;){if(ze(k.from,h.to)<=0&&0<=ze(k.to,h.from))return!0;ze(h.from,k.from)<0?h=(d=c.next(k.from)).value:k=(v=m.next(h.from)).value}return!1}function Uo(s){var l=za(s)?null:{s:0,n:s};return{next:function(c){for(var d=0<arguments.length;l;)switch(l.s){case 0:if(l.s=1,d)for(;l.n.l&&ze(c,l.n.from)<0;)l={up:l,n:l.n.l,s:1};else for(;l.n.l;)l={up:l,n:l.n.l,s:1};case 1:if(l.s=2,!d||ze(c,l.n.to)<=0)return{value:l.n,done:!1};case 2:if(l.n.r){l.s=3,l={up:l,n:l.n.r,s:0};continue}case 3:l=l.up}return{done:!0}}}}function Hd(s){var l,c,d=(((l=s.r)===null||l===void 0?void 0:l.d)||0)-(((c=s.l)===null||c===void 0?void 0:c.d)||0),h=1<d?"r":d<-1?"l":"";h&&(l=h=="r"?"l":"r",c=r({},s),d=s[h],s.from=d.from,s.to=d.to,s[h]=d[h],c[h]=d[l],(s[l]=c).d=Vd(c)),s.d=Vd(s)}function Vd(c){var l=c.r,c=c.l;return(l?c?Math.max(l.d,c.d):l.d:c?c.d:0)+1}function Bo(s,l){return u(l).forEach(function(c){s[c]?Ms(s[c],l[c]):s[c]=function d(h){var m,v,k={};for(m in h)w(h,m)&&(v=h[m],k[m]=!v||typeof v!="object"||Pe.has(v.constructor)?v:d(v));return k}(l[c])}),s}function Aa(s,l){return s.all||l.all||Object.keys(s).some(function(c){return l[c]&&Kd(l[c],s[c])})}E(Tt.prototype,((mn={add:function(s){return Ms(this,s),this},addKey:function(s){return Os(this,s,s),this},addKeys:function(s){var l=this;return s.forEach(function(c){return Os(l,c,c)}),this},hasKey:function(s){var l=Uo(this).next(s).value;return l&&ze(l.from,s)<=0&&0<=ze(l.to,s)}})[je]=function(){return Uo(this)},mn));var si={},Da={},$a=!1;function Wo(s){Bo(Da,s),$a||($a=!0,setTimeout(function(){$a=!1,Ua(Da,!(Da={}))},0))}function Ua(s,l){l===void 0&&(l=!1);var c=new Set;if(s.all)for(var d=0,h=Object.values(si);d<h.length;d++)qd(v=h[d],s,c,l);else for(var m in s){var v,k=/^idb\:\/\/(.*)\/(.*)\//.exec(m);k&&(m=k[1],k=k[2],(v=si["idb://".concat(m,"/").concat(k)])&&qd(v,s,c,l))}c.forEach(function(_){return _()})}function qd(s,l,c,d){for(var h=[],m=0,v=Object.entries(s.queries.query);m<v.length;m++){for(var k=v[m],_=k[0],P=[],M=0,C=k[1];M<C.length;M++){var L=C[M];Aa(l,L.obsSet)?L.subscribers.forEach(function(I){return c.add(I)}):d&&P.push(L)}d&&h.push([_,P])}if(d)for(var T=0,R=h;T<R.length;T++){var O=R[T],_=O[0],P=O[1];s.queries.query[_]=P}}function Qy(s){var l=s._state,c=s._deps.indexedDB;if(l.isBeingOpened||s.idbdb)return l.dbReadyPromise.then(function(){return l.dbOpenError?tt(l.dbOpenError):s});l.isBeingOpened=!0,l.dbOpenError=null,l.openComplete=!1;var d=l.openCanceller,h=Math.round(10*s.verno),m=!1;function v(){if(l.openCanceller!==d)throw new A.DatabaseClosed("db.open() was cancelled")}function k(){return new ie(function(L,T){if(v(),!c)throw new A.MissingAPI;var R=s.name,O=l.autoSchema||!h?c.open(R):c.open(R,h);if(!O)throw new A.MissingAPI;O.onerror=Dn(T),O.onblocked=qe(s._fireOnBlocked),O.onupgradeneeded=qe(function(I){var z;M=O.transaction,l.autoSchema&&!s._options.allowEmptyDB?(O.onerror=_s,M.abort(),O.result.close(),(z=c.deleteDatabase(R)).onsuccess=z.onerror=qe(function(){T(new A.NoSuchDatabase("Database ".concat(R," doesnt exist")))})):(M.onerror=Dn(T),I=I.oldVersion>Math.pow(2,62)?0:I.oldVersion,C=I<1,s.idbdb=O.result,m&&Vy(s,M),Hy(s,I/10,M,T))},T),O.onsuccess=qe(function(){M=null;var I,z,$,V,G,re=s.idbdb=O.result,ae=x(re.objectStoreNames);if(0<ae.length)try{var te=re.transaction((V=ae).length===1?V[0]:V,"readonly");if(l.autoSchema)z=re,$=te,(I=s).verno=z.version/10,$=I._dbSchema=Do(0,z,$),I._storeNames=x(z.objectStoreNames,0),zo(I,[I._allTables],u($),$);else if($o(s,s._dbSchema,te),((G=Oa(Do(0,(G=s).idbdb,te),G._dbSchema)).add.length||G.change.some(function(oe){return oe.add.length||oe.change.length}))&&!m)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),re.close(),h=re.version+1,m=!0,L(k());Lo(s,te)}catch{}hn.push(s),re.onversionchange=qe(function(oe){l.vcFired=!0,s.on("versionchange").fire(oe)}),re.onclose=qe(function(){s.close({disableAutoOpen:!1})}),C&&(G=s._deps,te=R,re=G.indexedDB,G=G.IDBKeyRange,Ia(re)||te===Ii||Fa(re,G).put({name:te}).catch(me)),L()},T)}).catch(function(L){switch(L==null?void 0:L.name){case"UnknownError":if(0<l.PR1398_maxLoop)return l.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),k();break;case"VersionError":if(0<h)return h=0,k()}return ie.reject(L)})}var _,P=l.dbReadyResolve,M=null,C=!1;return ie.race([d,(typeof navigator>"u"?ie.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(L){function T(){return indexedDB.databases().finally(L)}_=setInterval(T,100),T()}).finally(function(){return clearInterval(_)}):Promise.resolve()).then(k)]).then(function(){return v(),l.onReadyBeingFired=[],ie.resolve(La(function(){return s.on.ready.fire(s.vip)})).then(function L(){if(0<l.onReadyBeingFired.length){var T=l.onReadyBeingFired.reduce(ln,me);return l.onReadyBeingFired=[],ie.resolve(La(function(){return T(s.vip)})).then(L)}})}).finally(function(){l.openCanceller===d&&(l.onReadyBeingFired=null,l.isBeingOpened=!1)}).catch(function(L){l.dbOpenError=L;try{M&&M.abort()}catch{}return d===l.openCanceller&&s._close(),tt(L)}).finally(function(){l.openComplete=!0,P()}).then(function(){var L;return C&&(L={},s.tables.forEach(function(T){T.schema.indexes.forEach(function(R){R.name&&(L["idb://".concat(s.name,"/").concat(T.name,"/").concat(R.name)]=new Tt(-1/0,[[[]]]))}),L["idb://".concat(s.name,"/").concat(T.name,"/")]=L["idb://".concat(s.name,"/").concat(T.name,"/:dels")]=new Tt(-1/0,[[[]]])}),kr(Ps).fire(L),Ua(L,!0)),s})}function Ba(s){function l(m){return s.next(m)}var c=h(l),d=h(function(m){return s.throw(m)});function h(m){return function(_){var k=m(_),_=k.value;return k.done?_:_&&typeof _.then=="function"?_.then(c,d):f(_)?Promise.all(_).then(c,d):c(_)}}return h(l)()}function Ko(s,l,c){for(var d=f(s)?s.slice():[s],h=0;h<c;++h)d.push(l);return d}var Yy={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(s){return r(r({},s),{table:function(l){var c=s.table(l),d=c.schema,h={},m=[];function v(C,L,T){var R=Rs(C),O=h[R]=h[R]||[],I=C==null?0:typeof C=="string"?1:C.length,z=0<L,z=r(r({},T),{name:z?"".concat(R,"(virtual-from:").concat(T.name,")"):T.name,lowLevelIndex:T,isVirtual:z,keyTail:L,keyLength:I,extractKey:Ta(C),unique:!z&&T.unique});return O.push(z),z.isPrimaryKey||m.push(z),1<I&&v(I===2?C[0]:C.slice(0,I-1),L+1,T),O.sort(function($,V){return $.keyTail-V.keyTail}),z}l=v(d.primaryKey.keyPath,0,d.primaryKey),h[":id"]=[l];for(var k=0,_=d.indexes;k<_.length;k++){var P=_[k];v(P.keyPath,0,P)}function M(C){var L,T=C.query.index;return T.isVirtual?r(r({},C),{query:{index:T.lowLevelIndex,range:(L=C.query.range,T=T.keyTail,{type:L.type===1?2:L.type,lower:Ko(L.lower,L.lowerOpen?s.MAX_KEY:s.MIN_KEY,T),lowerOpen:!0,upper:Ko(L.upper,L.upperOpen?s.MIN_KEY:s.MAX_KEY,T),upperOpen:!0})}}):C}return r(r({},c),{schema:r(r({},d),{primaryKey:l,indexes:m,getIndexByKeyPath:function(C){return(C=h[Rs(C)])&&C[0]}}),count:function(C){return c.count(M(C))},query:function(C){return c.query(M(C))},openCursor:function(C){var L=C.query.index,T=L.keyTail,R=L.isVirtual,O=L.keyLength;return R?c.openCursor(M(C)).then(function(z){return z&&I(z)}):c.openCursor(C);function I(z){return Object.create(z,{continue:{value:function($){$!=null?z.continue(Ko($,C.reverse?s.MAX_KEY:s.MIN_KEY,T)):C.unique?z.continue(z.key.slice(0,O).concat(C.reverse?s.MIN_KEY:s.MAX_KEY,T)):z.continue()}},continuePrimaryKey:{value:function($,V){z.continuePrimaryKey(Ko($,s.MAX_KEY,T),V)}},primaryKey:{get:function(){return z.primaryKey}},key:{get:function(){var $=z.key;return O===1?$[0]:$.slice(0,O)}},value:{get:function(){return z.value}}})}}})}})}};function Wa(s,l,c,d){return c=c||{},d=d||"",u(s).forEach(function(h){var m,v,k;w(l,h)?(m=s[h],v=l[h],typeof m=="object"&&typeof v=="object"&&m&&v?(k=ve(m))!==ve(v)?c[d+h]=l[h]:k==="Object"?Wa(m,v,c,d+h+"."):m!==v&&(c[d+h]=l[h]):m!==v&&(c[d+h]=l[h])):c[d+h]=void 0}),u(l).forEach(function(h){w(s,h)||(c[d+h]=l[h])}),c}function Ka(s,l){return l.type==="delete"?l.keys:l.keys||l.values.map(s.extractKey)}var Gy={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(s){return r(r({},s),{table:function(l){var c=s.table(l),d=c.schema.primaryKey;return r(r({},c),{mutate:function(h){var m=be.trans,v=m.table(l).hook,k=v.deleting,_=v.creating,P=v.updating;switch(h.type){case"add":if(_.fire===me)break;return m._promise("readwrite",function(){return M(h)},!0);case"put":if(_.fire===me&&P.fire===me)break;return m._promise("readwrite",function(){return M(h)},!0);case"delete":if(k.fire===me)break;return m._promise("readwrite",function(){return M(h)},!0);case"deleteRange":if(k.fire===me)break;return m._promise("readwrite",function(){return function C(L,T,R){return c.query({trans:L,values:!1,query:{index:d,range:T},limit:R}).then(function(O){var I=O.result;return M({type:"delete",keys:I,trans:L}).then(function(z){return 0<z.numFailures?Promise.reject(z.failures[0]):I.length<R?{failures:[],numFailures:0,lastResult:void 0}:C(L,r(r({},T),{lower:I[I.length-1],lowerOpen:!0}),R)})})}(h.trans,h.range,1e4)},!0)}return c.mutate(h);function M(C){var L,T,R,O=be.trans,I=C.keys||Ka(d,C);if(!I)throw new Error("Keys missing");return(C=C.type==="add"||C.type==="put"?r(r({},C),{keys:I}):r({},C)).type!=="delete"&&(C.values=i([],C.values)),C.keys&&(C.keys=i([],C.keys)),L=c,R=I,((T=C).type==="add"?Promise.resolve([]):L.getMany({trans:T.trans,keys:R,cache:"immutable"})).then(function(z){var $=I.map(function(V,G){var re,ae,te,oe=z[G],ce={onerror:null,onsuccess:null};return C.type==="delete"?k.fire.call(ce,V,oe,O):C.type==="add"||oe===void 0?(re=_.fire.call(ce,V,C.values[G],O),V==null&&re!=null&&(C.keys[G]=V=re,d.outbound||Q(C.values[G],d.keyPath,V))):(re=Wa(oe,C.values[G]),(ae=P.fire.call(ce,re,V,oe,O))&&(te=C.values[G],Object.keys(ae).forEach(function(le){w(te,le)?te[le]=ae[le]:Q(te,le,ae[le])}))),ce});return c.mutate(C).then(function(V){for(var G=V.failures,re=V.results,ae=V.numFailures,V=V.lastResult,te=0;te<I.length;++te){var oe=(re||I)[te],ce=$[te];oe==null?ce.onerror&&ce.onerror(G[te]):ce.onsuccess&&ce.onsuccess(C.type==="put"&&z[te]?C.values[te]:oe)}return{failures:G,results:re,numFailures:ae,lastResult:V}}).catch(function(V){return $.forEach(function(G){return G.onerror&&G.onerror(V)}),Promise.reject(V)})})}}})}})}};function Qd(s,l,c){try{if(!l||l.keys.length<s.length)return null;for(var d=[],h=0,m=0;h<l.keys.length&&m<s.length;++h)ze(l.keys[h],s[m])===0&&(d.push(c?H(l.values[h]):l.values[h]),++m);return d.length===s.length?d:null}catch{return null}}var Xy={stack:"dbcore",level:-1,create:function(s){return{table:function(l){var c=s.table(l);return r(r({},c),{getMany:function(d){if(!d.cache)return c.getMany(d);var h=Qd(d.keys,d.trans._cache,d.cache==="clone");return h?ie.resolve(h):c.getMany(d).then(function(m){return d.trans._cache={keys:d.keys,values:d.cache==="clone"?H(m):m},m})},mutate:function(d){return d.type!=="add"&&(d.trans._cache=null),c.mutate(d)}})}}}};function Yd(s,l){return s.trans.mode==="readonly"&&!!s.subscr&&!s.trans.explicit&&s.trans.db._options.cache!=="disabled"&&!l.schema.primaryKey.outbound}function Gd(s,l){switch(s){case"query":return l.values&&!l.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Jy={stack:"dbcore",level:0,name:"Observability",create:function(s){var l=s.schema.name,c=new Tt(s.MIN_KEY,s.MAX_KEY);return r(r({},s),{transaction:function(d,h,m){if(be.subscr&&h!=="readonly")throw new A.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(be.querier));return s.transaction(d,h,m)},table:function(d){var h=s.table(d),m=h.schema,v=m.primaryKey,C=m.indexes,k=v.extractKey,_=v.outbound,P=v.autoIncrement&&C.filter(function(T){return T.compound&&T.keyPath.includes(v.keyPath)}),M=r(r({},h),{mutate:function(T){function R(le){return le="idb://".concat(l,"/").concat(d,"/").concat(le),V[le]||(V[le]=new Tt)}var O,I,z,$=T.trans,V=T.mutatedParts||(T.mutatedParts={}),G=R(""),re=R(":dels"),ae=T.type,ce=T.type==="deleteRange"?[T.range]:T.type==="delete"?[T.keys]:T.values.length<50?[Ka(v,T).filter(function(le){return le}),T.values]:[],te=ce[0],oe=ce[1],ce=T.trans._cache;return f(te)?(G.addKeys(te),(ce=ae==="delete"||te.length===oe.length?Qd(te,ce):null)||re.addKeys(te),(ce||oe)&&(O=R,I=ce,z=oe,m.indexes.forEach(function(le){var ye=O(le.name||"");function Oe(Le){return Le!=null?le.extractKey(Le):null}function Fe(Le){return le.multiEntry&&f(Le)?Le.forEach(function(Zt){return ye.addKey(Zt)}):ye.addKey(Le)}(I||z).forEach(function(Le,Rt){var Re=I&&Oe(I[Rt]),Rt=z&&Oe(z[Rt]);ze(Re,Rt)!==0&&(Re!=null&&Fe(Re),Rt!=null&&Fe(Rt))})}))):te?(oe={from:(oe=te.lower)!==null&&oe!==void 0?oe:s.MIN_KEY,to:(oe=te.upper)!==null&&oe!==void 0?oe:s.MAX_KEY},re.add(oe),G.add(oe)):(G.add(c),re.add(c),m.indexes.forEach(function(le){return R(le.name).add(c)})),h.mutate(T).then(function(le){return!te||T.type!=="add"&&T.type!=="put"||(G.addKeys(le.results),P&&P.forEach(function(ye){for(var Oe=T.values.map(function(Re){return ye.extractKey(Re)}),Fe=ye.keyPath.findIndex(function(Re){return Re===v.keyPath}),Le=0,Zt=le.results.length;Le<Zt;++Le)Oe[Le][Fe]=le.results[Le];R(ye.name).addKeys(Oe)})),$.mutatedParts=Bo($.mutatedParts||{},V),le})}}),C=function(R){var O=R.query,R=O.index,O=O.range;return[R,new Tt((R=O.lower)!==null&&R!==void 0?R:s.MIN_KEY,(O=O.upper)!==null&&O!==void 0?O:s.MAX_KEY)]},L={get:function(T){return[v,new Tt(T.key)]},getMany:function(T){return[v,new Tt().addKeys(T.keys)]},count:C,query:C,openCursor:C};return u(L).forEach(function(T){M[T]=function(R){var O=be.subscr,I=!!O,z=Yd(be,h)&&Gd(T,R)?R.obsSet={}:O;if(I){var $=function(oe){return oe="idb://".concat(l,"/").concat(d,"/").concat(oe),z[oe]||(z[oe]=new Tt)},V=$(""),G=$(":dels"),O=L[T](R),I=O[0],O=O[1];if((T==="query"&&I.isPrimaryKey&&!R.values?G:$(I.name||"")).add(O),!I.isPrimaryKey){if(T!=="count"){var re=T==="query"&&_&&R.values&&h.query(r(r({},R),{values:!1}));return h[T].apply(this,arguments).then(function(oe){if(T==="query"){if(_&&R.values)return re.then(function(Oe){return Oe=Oe.result,V.addKeys(Oe),oe});var ce=R.values?oe.result.map(k):oe.result;(R.values?V:G).addKeys(ce)}else if(T==="openCursor"){var le=oe,ye=R.values;return le&&Object.create(le,{key:{get:function(){return G.addKey(le.primaryKey),le.key}},primaryKey:{get:function(){var Oe=le.primaryKey;return G.addKey(Oe),Oe}},value:{get:function(){return ye&&V.addKey(le.primaryKey),le.value}}})}return oe})}G.add(c)}}return h[T].apply(this,arguments)}}),M}})}};function Xd(s,l,c){if(c.numFailures===0)return l;if(l.type==="deleteRange")return null;var d=l.keys?l.keys.length:"values"in l&&l.values?l.values.length:1;return c.numFailures===d?null:(l=r({},l),f(l.keys)&&(l.keys=l.keys.filter(function(h,m){return!(m in c.failures)})),"values"in l&&f(l.values)&&(l.values=l.values.filter(function(h,m){return!(m in c.failures)})),l)}function Ha(s,l){return c=s,((d=l).lower===void 0||(d.lowerOpen?0<ze(c,d.lower):0<=ze(c,d.lower)))&&(s=s,(l=l).upper===void 0||(l.upperOpen?ze(s,l.upper)<0:ze(s,l.upper)<=0));var c,d}function Jd(s,l,L,d,h,m){if(!L||L.length===0)return s;var v=l.query.index,k=v.multiEntry,_=l.query.range,P=d.schema.primaryKey.extractKey,M=v.extractKey,C=(v.lowLevelIndex||v).extractKey,L=L.reduce(function(T,R){var O=T,I=[];if(R.type==="add"||R.type==="put")for(var z=new Tt,$=R.values.length-1;0<=$;--$){var V,G=R.values[$],re=P(G);z.hasKey(re)||(V=M(G),(k&&f(V)?V.some(function(le){return Ha(le,_)}):Ha(V,_))&&(z.addKey(re),I.push(G)))}switch(R.type){case"add":var ae=new Tt().addKeys(l.values?T.map(function(ye){return P(ye)}):T),O=T.concat(l.values?I.filter(function(ye){return ye=P(ye),!ae.hasKey(ye)&&(ae.addKey(ye),!0)}):I.map(function(ye){return P(ye)}).filter(function(ye){return!ae.hasKey(ye)&&(ae.addKey(ye),!0)}));break;case"put":var te=new Tt().addKeys(R.values.map(function(ye){return P(ye)}));O=T.filter(function(ye){return!te.hasKey(l.values?P(ye):ye)}).concat(l.values?I:I.map(function(ye){return P(ye)}));break;case"delete":var oe=new Tt().addKeys(R.keys);O=T.filter(function(ye){return!oe.hasKey(l.values?P(ye):ye)});break;case"deleteRange":var ce=R.range;O=T.filter(function(ye){return!Ha(P(ye),ce)})}return O},s);return L===s?s:(L.sort(function(T,R){return ze(C(T),C(R))||ze(P(T),P(R))}),l.limit&&l.limit<1/0&&(L.length>l.limit?L.length=l.limit:s.length===l.limit&&L.length<l.limit&&(h.dirty=!0)),m?Object.freeze(L):L)}function Zd(s,l){return ze(s.lower,l.lower)===0&&ze(s.upper,l.upper)===0&&!!s.lowerOpen==!!l.lowerOpen&&!!s.upperOpen==!!l.upperOpen}function Zy(s,l){return function(c,d,h,m){if(c===void 0)return d!==void 0?-1:0;if(d===void 0)return 1;if((d=ze(c,d))===0){if(h&&m)return 0;if(h)return 1;if(m)return-1}return d}(s.lower,l.lower,s.lowerOpen,l.lowerOpen)<=0&&0<=function(c,d,h,m){if(c===void 0)return d!==void 0?1:0;if(d===void 0)return-1;if((d=ze(c,d))===0){if(h&&m)return 0;if(h)return-1;if(m)return 1}return d}(s.upper,l.upper,s.upperOpen,l.upperOpen)}function eg(s,l,c,d){s.subscribers.add(c),d.addEventListener("abort",function(){var h,m;s.subscribers.delete(c),s.subscribers.size===0&&(h=s,m=l,setTimeout(function(){h.subscribers.size===0&&K(m,h)},3e3))})}var tg={stack:"dbcore",level:0,name:"Cache",create:function(s){var l=s.schema.name;return r(r({},s),{transaction:function(c,d,h){var m,v,k=s.transaction(c,d,h);return d==="readwrite"&&(v=(m=new AbortController).signal,h=function(_){return function(){if(m.abort(),d==="readwrite"){for(var P=new Set,M=0,C=c;M<C.length;M++){var L=C[M],T=si["idb://".concat(l,"/").concat(L)];if(T){var R=s.table(L),O=T.optimisticOps.filter(function(ye){return ye.trans===k});if(k._explicit&&_&&k.mutatedParts)for(var I=0,z=Object.values(T.queries.query);I<z.length;I++)for(var $=0,V=(ae=z[I]).slice();$<V.length;$++)Aa((te=V[$]).obsSet,k.mutatedParts)&&(K(ae,te),te.subscribers.forEach(function(ye){return P.add(ye)}));else if(0<O.length){T.optimisticOps=T.optimisticOps.filter(function(ye){return ye.trans!==k});for(var G=0,re=Object.values(T.queries.query);G<re.length;G++)for(var ae,te,oe,ce=0,le=(ae=re[G]).slice();ce<le.length;ce++)(te=le[ce]).res!=null&&k.mutatedParts&&(_&&!te.dirty?(oe=Object.isFrozen(te.res),oe=Jd(te.res,te.req,O,R,te,oe),te.dirty?(K(ae,te),te.subscribers.forEach(function(ye){return P.add(ye)})):oe!==te.res&&(te.res=oe,te.promise=ie.resolve({result:oe}))):(te.dirty&&K(ae,te),te.subscribers.forEach(function(ye){return P.add(ye)})))}}}P.forEach(function(ye){return ye()})}}},k.addEventListener("abort",h(!1),{signal:v}),k.addEventListener("error",h(!1),{signal:v}),k.addEventListener("complete",h(!0),{signal:v})),k},table:function(c){var d=s.table(c),h=d.schema.primaryKey;return r(r({},d),{mutate:function(m){var v=be.trans;if(h.outbound||v.db._options.cache==="disabled"||v.explicit||v.idbtrans.mode!=="readwrite")return d.mutate(m);var k=si["idb://".concat(l,"/").concat(c)];return k?(v=d.mutate(m),m.type!=="add"&&m.type!=="put"||!(50<=m.values.length||Ka(h,m).some(function(_){return _==null}))?(k.optimisticOps.push(m),m.mutatedParts&&Wo(m.mutatedParts),v.then(function(_){0<_.numFailures&&(K(k.optimisticOps,m),(_=Xd(0,m,_))&&k.optimisticOps.push(_),m.mutatedParts&&Wo(m.mutatedParts))}),v.catch(function(){K(k.optimisticOps,m),m.mutatedParts&&Wo(m.mutatedParts)})):v.then(function(_){var P=Xd(0,r(r({},m),{values:m.values.map(function(M,C){var L;return _.failures[C]?M:(M=(L=h.keyPath)!==null&&L!==void 0&&L.includes(".")?H(M):r({},M),Q(M,h.keyPath,_.results[C]),M)})}),_);k.optimisticOps.push(P),queueMicrotask(function(){return m.mutatedParts&&Wo(m.mutatedParts)})}),v):d.mutate(m)},query:function(m){if(!Yd(be,d)||!Gd("query",m))return d.query(m);var v=((P=be.trans)===null||P===void 0?void 0:P.db._options.cache)==="immutable",C=be,k=C.requery,_=C.signal,P=function(R,O,I,z){var $=si["idb://".concat(R,"/").concat(O)];if(!$)return[];if(!(O=$.queries[I]))return[null,!1,$,null];var V=O[(z.query?z.query.index.name:null)||""];if(!V)return[null,!1,$,null];switch(I){case"query":var G=V.find(function(re){return re.req.limit===z.limit&&re.req.values===z.values&&Zd(re.req.query.range,z.query.range)});return G?[G,!0,$,V]:[V.find(function(re){return("limit"in re.req?re.req.limit:1/0)>=z.limit&&(!z.values||re.req.values)&&Zy(re.req.query.range,z.query.range)}),!1,$,V];case"count":return G=V.find(function(re){return Zd(re.req.query.range,z.query.range)}),[G,!!G,$,V]}}(l,c,"query",m),M=P[0],C=P[1],L=P[2],T=P[3];return M&&C?M.obsSet=m.obsSet:(C=d.query(m).then(function(R){var O=R.result;if(M&&(M.res=O),v){for(var I=0,z=O.length;I<z;++I)Object.freeze(O[I]);Object.freeze(O)}else R.result=H(O);return R}).catch(function(R){return T&&M&&K(T,M),Promise.reject(R)}),M={obsSet:m.obsSet,promise:C,subscribers:new Set,type:"query",req:m,dirty:!1},T?T.push(M):(T=[M],(L=L||(si["idb://".concat(l,"/").concat(c)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[m.query.index.name||""]=T)),eg(M,T,k,_),M.promise.then(function(R){return{result:Jd(R.result,m,L==null?void 0:L.optimisticOps,d,M,v)}})}})}})}};function Ho(s,l){return new Proxy(s,{get:function(c,d,h){return d==="db"?l:Reflect.get(c,d,h)}})}var Xn=(ht.prototype.version=function(s){if(isNaN(s)||s<.1)throw new A.Type("Given version is not a positive number");if(s=Math.round(10*s)/10,this.idbdb||this._state.isBeingOpened)throw new A.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,s);var l=this._versions,c=l.filter(function(d){return d._cfg.version===s})[0];return c||(c=new this.Version(s),l.push(c),l.sort(Ky),c.stores({}),this._state.autoSchema=!1,c)},ht.prototype._whenReady=function(s){var l=this;return this.idbdb&&(this._state.openComplete||be.letThrough||this._vip)?s():new ie(function(c,d){if(l._state.openComplete)return d(new A.DatabaseClosed(l._state.dbOpenError));if(!l._state.isBeingOpened){if(!l._state.autoOpen)return void d(new A.DatabaseClosed);l.open().catch(me)}l._state.dbReadyPromise.then(c,d)}).then(s)},ht.prototype.use=function(s){var l=s.stack,c=s.create,d=s.level,h=s.name;return h&&this.unuse({stack:l,name:h}),s=this._middlewares[l]||(this._middlewares[l]=[]),s.push({stack:l,create:c,level:d??10,name:h}),s.sort(function(m,v){return m.level-v.level}),this},ht.prototype.unuse=function(s){var l=s.stack,c=s.name,d=s.create;return l&&this._middlewares[l]&&(this._middlewares[l]=this._middlewares[l].filter(function(h){return d?h.create!==d:!!c&&h.name!==c})),this},ht.prototype.open=function(){var s=this;return Qn(kn,function(){return Qy(s)})},ht.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var s=this._state,l=hn.indexOf(this);if(0<=l&&hn.splice(l,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}s.isBeingOpened||(s.dbReadyPromise=new ie(function(c){s.dbReadyResolve=c}),s.openCanceller=new ie(function(c,d){s.cancelOpen=d}))},ht.prototype.close=function(c){var l=(c===void 0?{disableAutoOpen:!0}:c).disableAutoOpen,c=this._state;l?(c.isBeingOpened&&c.cancelOpen(new A.DatabaseClosed),this._close(),c.autoOpen=!1,c.dbOpenError=new A.DatabaseClosed):(this._close(),c.autoOpen=this._options.autoOpen||c.isBeingOpened,c.openComplete=!1,c.dbOpenError=null)},ht.prototype.delete=function(s){var l=this;s===void 0&&(s={disableAutoOpen:!0});var c=0<arguments.length&&typeof arguments[0]!="object",d=this._state;return new ie(function(h,m){function v(){l.close(s);var k=l._deps.indexedDB.deleteDatabase(l.name);k.onsuccess=qe(function(){var _,P,M;_=l._deps,P=l.name,M=_.indexedDB,_=_.IDBKeyRange,Ia(M)||P===Ii||Fa(M,_).delete(P).catch(me),h()}),k.onerror=Dn(m),k.onblocked=l._fireOnBlocked}if(c)throw new A.InvalidArgument("Invalid closeOptions argument to db.delete()");d.isBeingOpened?d.dbReadyPromise.then(v):v()})},ht.prototype.backendDB=function(){return this.idbdb},ht.prototype.isOpen=function(){return this.idbdb!==null},ht.prototype.hasBeenClosed=function(){var s=this._state.dbOpenError;return s&&s.name==="DatabaseClosed"},ht.prototype.hasFailed=function(){return this._state.dbOpenError!==null},ht.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(ht.prototype,"tables",{get:function(){var s=this;return u(this._allTables).map(function(l){return s._allTables[l]})},enumerable:!1,configurable:!0}),ht.prototype.transaction=function(){var s=(function(l,c,d){var h=arguments.length;if(h<2)throw new A.InvalidArgument("Too few arguments");for(var m=new Array(h-1);--h;)m[h-1]=arguments[h];return d=m.pop(),[l,ue(m),d]}).apply(this,arguments);return this._transaction.apply(this,s)},ht.prototype._transaction=function(s,l,c){var d=this,h=be.trans;h&&h.db===this&&s.indexOf("!")===-1||(h=null);var m,v,k=s.indexOf("?")!==-1;s=s.replace("!","").replace("?","");try{if(v=l.map(function(P){if(P=P instanceof d.Table?P.name:P,typeof P!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return P}),s=="r"||s===An)m=An;else{if(s!="rw"&&s!=ti)throw new A.InvalidArgument("Invalid transaction mode: "+s);m=ti}if(h){if(h.mode===An&&m===ti){if(!k)throw new A.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");h=null}h&&v.forEach(function(P){if(h&&h.storeNames.indexOf(P)===-1){if(!k)throw new A.SubTransaction("Table "+P+" not included in parent transaction.");h=null}}),k&&h&&!h.active&&(h=null)}}catch(P){return h?h._promise(null,function(M,C){C(P)}):tt(P)}var _=(function P(M,C,L,T,R){return ie.resolve().then(function(){var O=be.transless||be,I=M._createTransaction(C,L,M._dbSchema,T);if(I.explicit=!0,O={trans:I,transless:O},T)I.idbtrans=T.idbtrans;else try{I.create(),I.idbtrans._explicit=!0,M._state.PR1398_maxLoop=3}catch(V){return V.name===ot.InvalidState&&M.isOpen()&&0<--M._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),M.close({disableAutoOpen:!1}),M.open().then(function(){return P(M,C,L,null,R)})):tt(V)}var z,$=_e(R);return $&&xr(),O=ie.follow(function(){var V;(z=R.call(I,I))&&($?(V=Xt.bind(null,null),z.then(V,V)):typeof z.next=="function"&&typeof z.throw=="function"&&(z=Ba(z)))},O),(z&&typeof z.then=="function"?ie.resolve(z).then(function(V){return I.active?V:tt(new A.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):O.then(function(){return z})).then(function(V){return T&&I._resolve(),I._completion.then(function(){return V})}).catch(function(V){return I._reject(V),tt(V)})})}).bind(null,this,m,v,h,c);return h?h._promise(m,_,"lock"):be.trans?Qn(be.transless,function(){return d._whenReady(_)}):this._whenReady(_)},ht.prototype.table=function(s){if(!w(this._allTables,s))throw new A.InvalidTable("Table ".concat(s," does not exist"));return this._allTables[s]},ht);function ht(s,l){var c=this;this._middlewares={},this.verno=0;var d=ht.dependencies;this._options=l=r({addons:ht.addons,autoOpen:!0,indexedDB:d.indexedDB,IDBKeyRange:d.IDBKeyRange,cache:"cloned"},l),this._deps={indexedDB:l.indexedDB,IDBKeyRange:l.IDBKeyRange},d=l.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var h,m,v,k,_,P={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:me,dbReadyPromise:null,cancelOpen:me,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:l.autoOpen};P.dbReadyPromise=new ie(function(C){P.dbReadyResolve=C}),P.openCanceller=new ie(function(C,L){P.cancelOpen=L}),this._state=P,this.name=s,this.on=ii(this,"populate","blocked","versionchange","close",{ready:[ln,me]}),this.once=function(C,L){var T=function(){for(var R=[],O=0;O<arguments.length;O++)R[O]=arguments[O];c.on(C).unsubscribe(T),L.apply(c,R)};return c.on(C,T)},this.on.ready.subscribe=j(this.on.ready.subscribe,function(C){return function(L,T){ht.vip(function(){var R,O=c._state;O.openComplete?(O.dbOpenError||ie.resolve().then(L),T&&C(L)):O.onReadyBeingFired?(O.onReadyBeingFired.push(L),T&&C(L)):(C(L),R=c,T||C(function I(){R.on.ready.unsubscribe(L),R.on.ready.unsubscribe(I)}))})}}),this.Collection=(h=this,Ye(pe.prototype,function(z,I){this.db=h;var T=Es,R=null;if(I)try{T=I()}catch($){R=$}var O=z._ctx,I=O.table,z=I.hook.reading.fire;this._ctx={table:I,index:O.index,isPrimKey:!O.index||I.schema.primKey.keyPath&&O.index===I.schema.primKey.name,range:T,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:R,or:O.or,valueMapper:z!==Ie?z:null}})),this.Table=(m=this,Ye(ri.prototype,function(C,L,T){this.db=m,this._tx=T,this.name=C,this.schema=L,this.hook=m._allTables[C]?m._allTables[C].hook:ii(null,{creating:[Qt,me],reading:[lt,Ie],updating:[Fn,me],deleting:[He,me]})})),this.Transaction=(v=this,Ye($y.prototype,function(C,L,T,R,O){var I=this;C!=="readonly"&&L.forEach(function(z){z=(z=T[z])===null||z===void 0?void 0:z.yProps,z&&(L=L.concat(z.map(function($){return $.updatesTable})))}),this.db=v,this.mode=C,this.storeNames=L,this.schema=T,this.chromeTransactionDurability=R,this.idbtrans=null,this.on=ii(this,"complete","error","abort"),this.parent=O||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ie(function(z,$){I._resolve=z,I._reject=$}),this._completion.then(function(){I.active=!1,I.on.complete.fire()},function(z){var $=I.active;return I.active=!1,I.on.error.fire(z),I.parent?I.parent._reject(z):$&&I.idbtrans&&I.idbtrans.abort(),tt(z)})})),this.Version=(k=this,Ye(qy.prototype,function(C){this.db=k,this._cfg={version:C,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(_=this,Ye(Dd.prototype,function(C,L,T){if(this.db=_,this._ctx={table:C,index:L===":id"?null:L,or:T},this._cmp=this._ascending=ze,this._descending=function(R,O){return ze(O,R)},this._max=function(R,O){return 0<ze(R,O)?R:O},this._min=function(R,O){return ze(R,O)<0?R:O},this._IDBKeyRange=_._deps.IDBKeyRange,!this._IDBKeyRange)throw new A.MissingAPI})),this.on("versionchange",function(C){0<C.newVersion?console.warn("Another connection wants to upgrade database '".concat(c.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(c.name,"'. Closing db now to resume the delete request.")),c.close({disableAutoOpen:!1})}),this.on("blocked",function(C){!C.newVersion||C.newVersion<C.oldVersion?console.warn("Dexie.delete('".concat(c.name,"') was blocked")):console.warn("Upgrade '".concat(c.name,"' blocked by other connection holding version ").concat(C.oldVersion/10))}),this._maxKey=Ts(l.IDBKeyRange),this._createTransaction=function(C,L,T,R){return new c.Transaction(C,L,T,c._options.chromeTransactionDurability,R)},this._fireOnBlocked=function(C){c.on("blocked").fire(C),hn.filter(function(L){return L.name===c.name&&L!==c&&!L._state.vcFired}).map(function(L){return L.on("versionchange").fire(C)})},this.use(Xy),this.use(tg),this.use(Jy),this.use(Yy),this.use(Gy);var M=new Proxy(this,{get:function(C,L,T){if(L==="_vip")return!0;if(L==="table")return function(O){return Ho(c.table(O),M)};var R=Reflect.get(C,L,T);return R instanceof ri?Ho(R,M):L==="tables"?R.map(function(O){return Ho(O,M)}):L==="_createTransaction"?function(){return Ho(R.apply(this,arguments),M)}:R}});this.vip=M,d.forEach(function(C){return C(c)})}var Vo,mn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",ng=(Va.prototype.subscribe=function(s,l,c){return this._subscribe(s&&typeof s!="function"?s:{next:s,error:l,complete:c})},Va.prototype[mn]=function(){return this},Va);function Va(s){this._subscribe=s}try{Vo={indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch{Vo={indexedDB:null,IDBKeyRange:null}}function ef(s){var l,c=!1,d=new ng(function(h){var m=_e(s),v,k=!1,_={},P={},M={get closed(){return k},unsubscribe:function(){k||(k=!0,v&&v.abort(),C&&kr.storagemutated.unsubscribe(T))}};h.start&&h.start(M);var C=!1,L=function(){return ei(R)},T=function(O){Bo(_,O),Aa(P,_)&&L()},R=function(){var O,I,z;!k&&Vo.indexedDB&&(_={},O={},v&&v.abort(),v=new AbortController,z=function($){var V=Gt();try{m&&xr();var G=Ln(s,$);return G=m?G.finally(Xt):G}finally{V&&qn()}}(I={subscr:O,signal:v.signal,requery:L,querier:s,trans:null}),Promise.resolve(z).then(function($){c=!0,l=$,k||I.signal.aborted||(_={},function(V){for(var G in V)if(w(V,G))return;return 1}(P=O)||C||(kr(Ps,T),C=!0),ei(function(){return!k&&h.next&&h.next($)}))},function($){c=!1,["DatabaseClosedError","AbortError"].includes($==null?void 0:$.name)||k||ei(function(){k||h.error&&h.error($)})}))};return setTimeout(L,0),M});return d.hasValue=function(){return c},d.getValue=function(){return l},d}var oi=Xn;function qa(s){var l=jr;try{jr=!0,kr.storagemutated.fire(s),Ua(s,!0)}finally{jr=l}}E(oi,r(r({},we),{delete:function(s){return new oi(s,{addons:[]}).delete()},exists:function(s){return new oi(s,{addons:[]}).open().then(function(l){return l.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(s){try{return l=oi.dependencies,c=l.indexedDB,l=l.IDBKeyRange,(Ia(c)?Promise.resolve(c.databases()).then(function(d){return d.map(function(h){return h.name}).filter(function(h){return h!==Ii})}):Fa(c,l).toCollection().primaryKeys()).then(s)}catch{return tt(new A.MissingAPI)}var l,c},defineClass:function(){return function(s){p(this,s)}},ignoreTransaction:function(s){return be.trans?Qn(be.transless,s):s()},vip:La,async:function(s){return function(){try{var l=Ba(s.apply(this,arguments));return l&&typeof l.then=="function"?l:ie.resolve(l)}catch(c){return tt(c)}}},spawn:function(s,l,c){try{var d=Ba(s.apply(c,l||[]));return d&&typeof d.then=="function"?d:ie.resolve(d)}catch(h){return tt(h)}},currentTransaction:{get:function(){return be.trans||null}},waitFor:function(s,l){return l=ie.resolve(typeof s=="function"?oi.ignoreTransaction(s):s).timeout(l||6e4),be.trans?be.trans.waitFor(l):l},Promise:ie,debug:{get:function(){return Y},set:function(s){xe(s)}},derive:W,extend:p,props:E,override:j,Events:ii,on:kr,liveQuery:ef,extendObservabilitySet:Bo,getByKeyPath:J,setByKeyPath:Q,delByKeyPath:function(s,l){typeof l=="string"?Q(s,l,void 0):"length"in l&&[].map.call(l,function(c){Q(s,c,void 0)})},shallowClone:ne,deepClone:H,getObjectDiff:Wa,cmp:ze,asap:Z,minKey:-1/0,addons:[],connections:hn,errnames:ot,dependencies:Vo,cache:si,semVer:"4.2.1",version:"4.2.1".split(".").map(function(s){return parseInt(s)}).reduce(function(s,l,c){return s+l/Math.pow(10,2*c)})})),oi.maxKey=Ts(oi.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(kr(Ps,function(s){jr||(s=new CustomEvent(Ea,{detail:s}),jr=!0,dispatchEvent(s),jr=!1)}),addEventListener(Ea,function(s){s=s.detail,jr||qa(s)}));var Ui,jr=!1,tf=function(){};return typeof BroadcastChannel<"u"&&((tf=function(){(Ui=new BroadcastChannel(Ea)).onmessage=function(s){return s.data&&qa(s.data)}})(),typeof Ui.unref=="function"&&Ui.unref(),kr(Ps,function(s){jr||Ui.postMessage(s)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(s){if(!Xn.disableBfCache&&s.persisted){Y&&console.debug("Dexie: handling persisted pagehide"),Ui!=null&&Ui.close();for(var l=0,c=hn;l<c.length;l++)c[l].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(s){!Xn.disableBfCache&&s.persisted&&(Y&&console.debug("Dexie: handling persisted pageshow"),tf(),qa({all:new Tt(-1/0,[[]])}))})),ie.rejectionMapper=function(s,l){return!s||s instanceof $e||s instanceof TypeError||s instanceof SyntaxError||!s.name||!Ee[s.name]?s:(l=new Ee[s.name](l||s.message,s),"stack"in s&&F(l,"stack",{get:function(){return this.inner.stack}}),l)},xe(Y),r(Xn,Object.freeze({__proto__:null,Dexie:Xn,liveQuery:ef,Entity:Oo,cmp:ze,PropModification:pn,replacePrefix:function(s,l){return new pn({replacePrefix:[s,l]})},add:function(s){return new pn({add:s})},remove:function(s){return new pn({remove:s})},default:Xn,RangeSet:Tt,mergeRanges:Ms,rangesOverlap:Kd}),{default:Xn}),Xn})})(Ey);var vw=Ey.exports;const _c=Ac(vw),Nh=Symbol.for("Dexie"),ta=globalThis[Nh]||(globalThis[Nh]=_c);if(_c.semVer!==ta.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${_c.semVer} and ${ta.semVer}`);const{liveQuery:zb,mergeRanges:Ab,rangesOverlap:Db,RangeSet:$b,cmp:Ub,Entity:Bb,PropModification:Wb,replacePrefix:Kb,add:Hb,remove:Vb,DexieYProvider:qb}=ta,Pc=new Set;let vs=[];function _y(){for(const e of Pc)e(vs)}function xw(e){return Pc.add(e),e(vs),()=>{Pc.delete(e)}}function ww(e){const t=typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2);vs=[...vs,{...e,id:t,timestamp:Date.now()}].slice(-5),_y()}function bw(e){vs=vs.filter(t=>t.id!==e),_y()}function Sw(e){return e.map(t=>({id:t.id,original:t.original,originalSentence:t.originalSentence,normalized:t.normalized,stem:t.stem,createdAt:t.createdAt,updatedAt:t.updatedAt}))}async function Ch(e){const t=e,n=await t.table("words").toArray(),r=Sw(n);await t.table("words").clear(),await t.table("words").bulkPut(r)}class kw extends ta{constructor(){super("subtitle-learner");Nr(this,"words");Nr(this,"subtitleFiles");Nr(this,"subtitleCues");Nr(this,"prefs");Nr(this,"sessions");Nr(this,"candidateWordSources");Nr(this,"wordDecisions");this.version(1).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt"}),this.version(2).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt",subtitleCues:"&id, fileHash, index",sessions:"&id, updatedAt"}),this.version(3).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt",subtitleCues:"&id, fileHash, index",sessions:"&id, updatedAt"}).upgrade(n=>Ch(n)),this.version(4).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt",subtitleCues:"&id, fileHash, index",sessions:"&id, updatedAt"}).upgrade(n=>Ch(n)),this.version(5).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt",subtitleCues:"&id, fileHash, index",sessions:"&id, updatedAt"}).upgrade(n=>n.table("sessions").toArray().then(r=>{const i=r.map(o=>{if(!o||typeof o!="object")return o;const{videoBlob:u,...f}=o;return f});return n.table("sessions").clear().then(()=>n.table("sessions").bulkPut(i))})),this.version(6).stores({words:"&id, normalized, stem, updatedAt",subtitleFiles:"&id, bytesHash, addedAt",prefs:"&id, updatedAt",subtitleCues:"&id, fileHash, index",sessions:"&id, updatedAt",candidateWordSources:"&id, normalized, stem, fileHash, updatedAt",wordDecisions:"&normalized, decision, updatedAt"})}}const Se=new kw;let ku=null,Eh=!1,_h=!1;function Id(e,t){const n=e instanceof Error?e.message:String(e);ww({context:t,message:n,stack:e instanceof Error?e.stack:void 0})}async function Ld(){return Eh?!0:_h?!1:(ku||(ku=Se.open().then(()=>(Eh=!0,!0)).catch(e=>(_h=!0,Id(e,"Failed to open IndexedDB"),!1))),ku)}async function Ze(e,t){if(!await Ld())return e;try{return await t()}catch(r){return Id(r,"DB operation failed"),e}}async function kt(e){if(await Ld())try{await e()}catch(n){Id(n,"DB operation failed")}}async function jw(){return Ze([],()=>Se.words.toArray())}async function ju(e){await kt(()=>Se.words.put(e))}async function Nw(e){await kt(()=>Se.words.delete(e))}async function Nu(e){await kt(()=>Se.transaction("rw",Se.words,async()=>{await Se.words.clear(),e.length>0&&await Se.words.bulkPut(e)}))}function Cw(e){return!e.isWord||!e.normalized||e.normalized.trim().length<2||/^\d+$/.test(e.normalized)?null:e}function Py(e){const t=new Map;for(const n of e){const r=n.tokens??[];for(const i of r){const o=Cw(i);if(!o)continue;const u=o.normalized,f=t.get(u);f?(f.count+=1,!f.example&&n.rawText.trim()&&(f.example=n.rawText.trim())):t.set(u,{stem:o.stem,count:1,example:n.rawText.trim()})}}return t}async function Ew(e,t){const n=Py(t),r=Date.now();await kt(()=>Se.transaction("rw",Se.candidateWordSources,async()=>{if(await Se.candidateWordSources.where("fileHash").equals(e).delete(),n.size===0)return;const i=[];for(const[o,u]of n)i.push({id:`${e}:${o}:${ko(6)}`,normalized:o,stem:u.stem,fileHash:e,count:u.count,example:u.example,updatedAt:r});await Se.candidateWordSources.bulkPut(i)}))}async function _w(e){await kt(()=>Se.candidateWordSources.where("fileHash").equals(e).delete())}async function Ph(){return Ze([],()=>Se.candidateWordSources.toArray())}async function Pw(e,t){const n={normalized:e,decision:t,updatedAt:Date.now()};await kt(()=>Se.wordDecisions.put(n))}async function Tc(){return Ze([],()=>Se.wordDecisions.toArray())}async function Tw(e){await kt(()=>Se.transaction("rw",Se.candidateWordSources,async()=>{await Se.candidateWordSources.clear();for(const t of e){const n=Py(t.cues),r=Date.now(),i=[];for(const[o,u]of n)i.push({id:`${t.fileHash}:${o}:${ko(6)}`,normalized:o,stem:u.stem,fileHash:t.fileHash,count:u.count,example:u.example,updatedAt:r});i.length>0&&await Se.candidateWordSources.bulkPut(i)}}))}function Wi(e){return[...e].sort((t,n)=>n.updatedAt-t.updatedAt)}function Rw(e){if(typeof e=="string"){const[t]=Kn(e);return t}return e}function Th(e){let t=!1;return{next:e.map(r=>{const i=ka(r.normalized);return i===r.stem?r:(t=!0,{...r,stem:i})}),changed:t}}const ut=Fd((e,t)=>({words:[],candidateWords:[],decisions:{},initialized:!1,initialize:async()=>{if(t().initialized)return;const[n,r,i]=await Promise.all([jw(),Ph(),Tc()]),{next:o,changed:u}=Th(n),f=Wi(o),p=new Map;for(const S of r){const w=p.get(S.normalized);w?(w.subtitleCount+=S.count,w.sourceCount+=1,S.updatedAt>w.updatedAt&&(w.updatedAt=S.updatedAt,w.example=S.example||w.example,w.stem=S.stem||w.stem)):p.set(S.normalized,{normalized:S.normalized,stem:S.stem,subtitleCount:S.count,sourceCount:1,example:S.example,updatedAt:S.updatedAt})}const g=Object.fromEntries(i.map(S=>[S.normalized,S.decision]));e({words:f,candidateWords:Array.from(p.values()),decisions:g,initialized:!0}),u&&await Nu(f)},addUnknownWordFromToken:async(n,r)=>{const i=Rw(n);if(!i||!i.isWord)return;const o=t().words.find(p=>p.normalized===i.normalized||p.stem===i.stem),u=Date.now();if(o){const p={...o,updatedAt:u,original:o.original||i.text,originalSentence:r??o.originalSentence};e(g=>({words:Wi(g.words.map(S=>S.id===o.id?p:S))})),await ju(p);return}const f={id:ko(),original:i.text,originalSentence:r,normalized:i.normalized,stem:i.stem,createdAt:u,updatedAt:u};e(p=>({words:Wi([...p.words,f])})),await ju(f)},updateWord:async(n,r)=>{const i=t().words.find(u=>u.id===n);if(!i)return;const o={...i,...r,updatedAt:Date.now()};e(u=>({words:Wi(u.words.map(f=>f.id===n?o:f))})),await ju(o)},removeWord:async n=>{e(r=>({words:r.words.filter(i=>i.id!==n)})),await Nw(n)},importWords:async n=>{const r=Date.now(),i=f=>`${f.normalized}::${f.stem}`,o=new Map;for(const f of t().words)o.set(i(f),f);for(const f of n){if(!f.normalized)continue;const p=f.normalized,g=f.stem??ka(p),S=`${p}::${g}`,w=o.get(S);o.set(S,{id:f.id??(w==null?void 0:w.id)??ko(),original:f.original??(w==null?void 0:w.original)??p,originalSentence:f.originalSentence??(w==null?void 0:w.originalSentence),normalized:p,stem:g,createdAt:f.createdAt??(w==null?void 0:w.createdAt)??r,updatedAt:f.updatedAt??r})}const u=Wi(Array.from(o.values()));e({words:u,initialized:!0}),await Nu(u)},reanalyzeStems:async()=>{const{next:n,changed:r}=Th(t().words);if(!r)return;const i=Wi(n);e({words:i}),await Nu(i)},classForToken:n=>{const r=new Set(t().words.map(o=>o.normalized)),i=new Set(t().words.map(o=>o.stem));return r.has(n.normalized)?"hl-exact text-white":i.has(n.stem)?"hl-variant text-white":"bg-transparent"},refreshCandidateWords:async()=>{const[n,r]=await Promise.all([Ph(),Tc()]),i=new Map;for(const u of n){const f=i.get(u.normalized);f?(f.subtitleCount+=u.count,f.sourceCount+=1,u.updatedAt>f.updatedAt&&(f.updatedAt=u.updatedAt,f.example=u.example||f.example,f.stem=u.stem||f.stem)):i.set(u.normalized,{normalized:u.normalized,stem:u.stem,subtitleCount:u.count,sourceCount:1,example:u.example,updatedAt:u.updatedAt})}const o=Object.fromEntries(r.map(u=>[u.normalized,u.decision]));e({candidateWords:Array.from(i.values()),decisions:o})},setWordDecision:async(n,r)=>{e(i=>({decisions:{...i.decisions,[n]:r}})),await Pw(n,r)}})),Ty="prefs";async function Ow(){return Ze(void 0,async()=>{const e=await Se.prefs.get(Ty);return e==null?void 0:e.value})}async function Bs(e){await kt(()=>Se.prefs.put({id:Ty,value:e,updatedAt:Date.now()}))}const Ki={subtitleStyle:{fontFamily:"Inter",fontSizePx:42,secondaryFontSizePx:36,useMainForSecondaryFontSize:!0,fontWeight:600,color:"#ffffff",outline:!0,shadow:!0,bgColor:"rgba(0, 0, 0, 0.35)",lineHeight:1.35},highlightColors:{exact:"#10b981",variant:"#f97316"},playerShortcuts:{toggleSecondarySubtitle:{code:"KeyH",label:"H"},mainSubtitleOffsetBack:{code:"BracketLeft",label:"["},mainSubtitleOffsetForward:{code:"BracketRight",label:"]"}},mediaLibrary:void 0},nt=Fd((e,t)=>({prefs:Ki,initialized:!1,initialize:async()=>{if(t().initialized)return;const n=await Ow();if(!n){e({prefs:Ki,initialized:!0});return}const r={...Ki,...n,subtitleStyle:{...Ki.subtitleStyle,...n.subtitleStyle},highlightColors:{...Ki.highlightColors,...n.highlightColors},playerShortcuts:{...Ki.playerShortcuts,...n.playerShortcuts}};e({prefs:r,initialized:!0})},updateSubtitleStyle:async n=>{const r={...t().prefs,subtitleStyle:{...t().prefs.subtitleStyle,...n}};e({prefs:r}),await Bs(r)},updateHighlightColors:async n=>{const r={...t().prefs,highlightColors:{...t().prefs.highlightColors,...n}};e({prefs:r}),await Bs(r)},updatePlayerShortcuts:async n=>{const r={...t().prefs,playerShortcuts:{...t().prefs.playerShortcuts,...n}};e({prefs:r}),await Bs(r)},setLastOpened:async n=>{const r={...t().prefs,lastOpened:n};e({prefs:r}),await Bs(r)},setMediaLibrary:async n=>{const r={...t().prefs,mediaLibrary:n};e({prefs:r}),await Bs(r)}})),ui=Fd((e,t)=>({videoName:"",videoUrl:null,videoBlob:null,videoDurationMs:null,setVideoFromFile:n=>{const r=t().videoUrl;r&&URL.revokeObjectURL(r),e({videoName:n.name,videoUrl:URL.createObjectURL(n),videoBlob:n,videoDurationMs:null})},setVideoFromBlob:(n,r)=>{const i=t().videoUrl;i&&URL.revokeObjectURL(i),e({videoName:n,videoUrl:URL.createObjectURL(r),videoBlob:r,videoDurationMs:null})},setVideoNameOnly:n=>{const r=t().videoUrl;r&&URL.revokeObjectURL(r),e({videoName:n,videoUrl:null,videoBlob:null,videoDurationMs:null})},clearVideo:()=>{const n=t().videoUrl;n&&URL.revokeObjectURL(n),e({videoName:"",videoUrl:null,videoBlob:null,videoDurationMs:null})},setVideoDurationMs:n=>{e({videoDurationMs:n})}})),Rh=/(\d{2}:\d{2}:\d{2},\d{3}) --> (\d{2}:\d{2}:\d{2},\d{3})/,Rc="",Oc="";function Oh(e){const[t,n,r]=e.split(":"),[i,o]=r.split(",");return Number(t)*3600*1e3+Number(n)*60*1e3+Number(i)*1e3+Number(o)}function Mw(e){return e.replace(/<i>/gi,Rc).replace(/<\/i>/gi,Oc).replace(/<[^>]+>/g,"").replace(/\s+/g," ").trim()}function Fw(e,t){const n=Number.parseInt((e==null?void 0:e.trim())??"",10);return Number.isFinite(n)?n:t}function qs(e){var r;const t=[],n=e.split(/\r?\n\r?\n/).filter(Boolean);for(const i of n){const o=i.split(/\r?\n/).map(w=>w.trim()).filter(w=>w.length>0);if(o.length<2)continue;const u=o.findIndex(w=>Rh.test(w));if(u===-1)continue;const f=(r=o[u])==null?void 0:r.match(Rh);if(!f)continue;const p=Mw(o.slice(u+1).join(`
`));if(!p)continue;const g=Oh(f[1]),S=Oh(f[2]);!Number.isFinite(g)||!Number.isFinite(S)||S<g||t.push({index:Fw(o[u-1],t.length),startMs:g,endMs:S,rawText:p})}return t}const Iw=/^[\)\]\}.,!?;:%]+$/u,Lw=/^[\(\[\{]+$/u,zw=/^[.]+$/u;function jo(e){return e.isWord||/^\d+$/.test(e.text)}function Ry(e){return!e.isWord&&Iw.test(e.text)}function Oy(e){return!e.isWord&&Lw.test(e.text)}function My(e,t){if(!e||Ry(t)||Oy(e))return!1;const n=jo(e),r=jo(t);return!!(n&&r||n&&!r||!n&&r)}function Aw(e){const t=new RegExp(`(${Rc}|${Oc})`,"g"),n=e.split(t).filter(o=>o.length>0);let r=!1;const i=[];for(const o of n){if(o===Rc){r=!0;continue}if(o===Oc){r=!1;continue}const u=Kn(o);i.push(...u.map(f=>({token:f,italic:r})))}return i}function Dw(e,t={}){const{isRtl:n=!1}=t,r=[];let i="",o=!1;if(e.forEach((u,f)=>{const p=e[f+1];if(n&&!u.token.isWord&&zw.test(u.token.text)&&p&&jo(p.token)){i+=u.token.text,o=o||u.italic;return}if(!u.token.isWord&&Oy(u.token)&&p&&jo(p.token)){i+=u.token.text,o=o||u.italic;return}if(!u.token.isWord&&Ry(u.token)&&r.length>0){const w=r[r.length-1];w.text+=u.token.text,w.italic=w.italic||u.italic;return}const g=`${i}${u.token.text}`,S=o||u.italic;i="",o=!1,g.trim().length!==0&&r.push({token:u.token,text:g,italic:S})}),i.trim().length>0){const u=i.trim();r.push({token:{text:u,normalized:u,stem:u,isWord:!1},text:u,italic:o})}return r}function $w(e){return!e.isWord&&/^[.!?]+$/u.test(e.text)}function Fy(e,t){const n=y.useMemo(()=>Aw(e.rawText),[e.rawText]),r=y.useMemo(()=>{if(!t)return n;const i=n.findIndex(u=>jo(u.token));if(i<=0)return n;const o=n.slice(0,i);return o.length===0?n:o.every(u=>$w(u.token))?[...n.slice(i),...o]:n},[t,n]);return y.useMemo(()=>Dw(r,{isRtl:t}),[r,t])}function Mh({cue:e,onTokenClick:t,onTokenContextMenu:n,classForToken:r,isRtl:i=!1,className:o}){const u=Fy(e,i);return a.jsx("div",{className:`pointer-events-none flex flex-wrap ${o??""}`,dir:i?"rtl":"ltr",children:u.map((f,p)=>{const g=p>0?u[p-1].token:void 0,S=f.token,w=My(g,S)?"ms-1":"";return a.jsx("button",{type:"button",className:`pointer-events-auto relative z-50 rounded px-0.5 text-left ${w} ${S.isWord?"focus:outline-none focus-visible:outline-none":"cursor-default"}`,onClick:E=>{S.isWord&&(t(S,e),E.currentTarget instanceof HTMLElement&&E.currentTarget.blur())},onContextMenu:E=>{S.isWord&&(E.preventDefault(),n(S,e))},disabled:!S.isWord,children:a.jsx("span",{className:`rounded px-1 py-0.5 transition-colors ${f.italic?"italic":""} ${r(S)}`,children:f.text})},`${f.text}-${p}`)})})}function Fh({cue:e,isRtl:t=!1,className:n}){const r=Fy(e,t);return a.jsx("div",{className:`flex flex-wrap ${n??""}`,dir:t?"rtl":"ltr",children:r.map((i,o)=>{const u=o>0?r[o-1].token:void 0,f=i.token,p=My(u,f)?"ms-1":"";return a.jsx("span",{className:`rounded px-1 py-0.5 text-transparent ${p} ${i.italic?"italic":""}`,children:i.text},`${i.text}-${o}`)})})}const Uw=["INPUT","TEXTAREA","SELECT"];function Bw(e){return typeof HTMLElement>"u"||!(e instanceof HTMLElement)?!1:e.isContentEditable?!0:Uw.includes(e.tagName)}function Jn(e){e.preventDefault(),e.stopPropagation(),typeof e.stopImmediatePropagation=="function"&&e.stopImmediatePropagation()}function Zn(e,t,n){return t.includes(e.code)||n.includes(e.key)}function Ww(e,t){const{video:n,seekBy:r,toggleFullscreen:i,toggleMute:o,togglePlayback:u,toggleSecondarySubtitle:f}=t,{stepVolume:p}=t;return!n||Bw(e.target)||e.altKey||e.ctrlKey||e.metaKey?!1:Zn(e,["Space"],[" ","Spacebar"])||Zn(e,["KeyK"],["k","K"])?(Jn(e),u(),!0):Zn(e,["ArrowLeft"],["ArrowLeft"])?(Jn(e),r(-5),!0):Zn(e,["ArrowRight"],["ArrowRight"])?(Jn(e),r(5),!0):Zn(e,["ArrowUp"],["ArrowUp"])?(Jn(e),p("up"),!0):Zn(e,["ArrowDown"],["ArrowDown"])?(Jn(e),p("down"),!0):Zn(e,["KeyF"],["f","F"])?(Jn(e),i(),!0):Zn(e,["KeyM"],["m","M"])?(Jn(e),o(),!0):!t.ignoreSecondarySubtitleShortcut&&Zn(e,["KeyH"],["h","H"])?(Jn(e),f(),!0):!1}const Kw=["INPUT","TEXTAREA","SELECT","BUTTON","SUMMARY"];function Hw(e){return typeof HTMLElement>"u"||!(e instanceof HTMLElement)?!1:e.isContentEditable?!0:Kw.includes(e.tagName)}function Vw(e){return e.key===" "?"Space":e.key==="Escape"?"Esc":e.key.startsWith("Arrow")?e.key.replace("Arrow","Arrow "):e.key.length===1?e.key.toUpperCase():e.key}function Ih(e){e.preventDefault(),e.stopPropagation(),typeof e.stopImmediatePropagation=="function"&&e.stopImmediatePropagation()}function qw({isActive:e,playerShortcuts:t,updatePlayerShortcuts:n,callbacks:r}){const[i,o]=y.useState(null),u=y.useMemo(()=>t??{},[t]),f=y.useCallback(w=>{o(E=>E===w?null:w)},[]),p=y.useCallback(w=>{var E;return i===w?"Press a key":((E=u[w])==null?void 0:E.label)??"None"},[i,u]);y.useEffect(()=>{if(!i)return;const w=E=>{if(E.altKey||E.ctrlKey||E.metaKey)return;if(Ih(E),E.key==="Escape"){o(null);return}if(E.key==="Backspace"||E.key==="Delete"){const F={[i]:void 0};n(F),o(null);return}if(E.key==="Shift"||E.key==="Alt"||E.key==="Control"||E.key==="Meta")return;const U={[i]:{code:E.code,label:Vw(E)}};n(U),o(null)};return document.addEventListener("keydown",w,!0),()=>{document.removeEventListener("keydown",w,!0)}},[i,n]);const g=y.useCallback(w=>{if(i||Hw(w.target)||w.altKey||w.ctrlKey||w.metaKey)return!1;const E={mainSubtitleOffsetBack:()=>r.adjustSubtitleOffset(-500),mainSubtitleOffsetForward:()=>r.adjustSubtitleOffset(500),secondarySubtitleOffsetBack:()=>r.adjustSecondarySubtitleOffset(-500),secondarySubtitleOffsetForward:()=>r.adjustSecondarySubtitleOffset(500),toggleSecondarySubtitle:r.toggleSecondarySubtitle,jumpNextSentence:r.jumpToNextSentence,jumpPrevSentence:r.jumpToPreviousSentence,toggleMainSubtitleRtl:r.toggleMainSubtitleRtl,toggleSecondarySubtitleRtl:r.toggleSecondarySubtitleRtl,toggleSkipSubtitleGaps:r.toggleSkipSubtitleGaps};for(const[U,F]of Object.entries(E)){const W=u[U];if(W&&W.code===w.code)return Ih(w),F(),r.focusPlayerContainer(),!0}return!1},[r,i,u]),S=y.useCallback(w=>g(w)?!0:Ww(w,{video:r.video,seekBy:r.seekBy,toggleFullscreen:r.toggleFullscreen,toggleMute:r.toggleMute,togglePlayback:r.togglePlayback,toggleSecondarySubtitle:r.toggleSecondarySubtitle,stepVolume:r.stepVolume,ignoreSecondarySubtitleShortcut:!!u.toggleSecondarySubtitle}),[r,g,u]);return y.useEffect(()=>{if(e)return document.addEventListener("keydown",S,!0),()=>{document.removeEventListener("keydown",S,!0)}},[S,e]),{listeningShortcut:i,handleShortcutEditToggle:f,getShortcutLabel:p,handleShortcutKeyDown:S}}function Lh(e){const t=Math.max(0,Math.floor(e/1e3)),n=Math.floor(t/60).toString().padStart(2,"0"),r=(t%60).toString().padStart(2,"0");return`${n}:${r}`}async function Mc(e,t="SHA-256"){const n=await e.arrayBuffer(),r=await crypto.subtle.digest(t,n);return Array.from(new Uint8Array(r)).map(o=>o.toString(16).padStart(2,"0")).join("")}async function Fc(e){const t=await e.arrayBuffer();if(t.byteLength>=2){const r=new Uint8Array(t);if(r[0]===255&&r[1]===254)return new TextDecoder("utf-16le").decode(t);if(r[0]===254&&r[1]===255)return new TextDecoder("utf-16be").decode(t);if(t.byteLength>=3&&r[0]===239&&r[1]===187&&r[2]===191)return new TextDecoder("utf-8").decode(t)}const n=new TextDecoder("utf-8",{fatal:!0});try{return n.decode(t)}catch{return new TextDecoder("windows-1255").decode(t)}}function Iy(e){return Number.isInteger(e.index)&&e.index>=0&&Number.isFinite(e.startMs)&&e.startMs>=0&&Number.isFinite(e.endMs)&&e.endMs>=e.startMs&&typeof e.rawText=="string"&&e.rawText.trim().length>0}function Qw(e){return Iy({index:e.index,startMs:e.startMs,endMs:e.endMs,rawText:e.rawText,tokens:e.tokens})}function Yw(e){const{index:t,startMs:n,endMs:r,rawText:i,tokens:o}=e;return{index:t,startMs:n,endMs:r,rawText:i,tokens:o}}function Gw(e,t){return{id:`${e}:${t.index}`,fileHash:e,index:t.index,startMs:t.startMs,endMs:t.endMs,rawText:t.rawText,tokens:t.tokens??[]}}async function sr(e){return Ze(void 0,async()=>{const n=(await Se.subtitleCues.where("fileHash").equals(e).sortBy("index")).filter(Qw);if(n.length!==0)return n.map(Yw)})}async function Ic(e,t){const n=t.filter(Iy);await kt(()=>Se.transaction("rw",Se.subtitleCues,async()=>{await Se.subtitleCues.where("fileHash").equals(e).delete(),n.length>0&&await Se.subtitleCues.bulkPut(n.map(r=>Gw(e,r)))})),await Ew(e,n)}async function Xw(e){await kt(()=>Se.subtitleCues.where("fileHash").equals(e).delete())}async function mi(e){const t=await Ze(void 0,()=>Se.subtitleFiles.where("bytesHash").equals(e.bytesHash).first()),n=t?{...t,...e,addedAt:e.addedAt??Date.now()}:{id:ko(),name:e.name,bytesHash:e.bytesHash,totalCues:e.totalCues,language:e.language,addedAt:e.addedAt??Date.now()};return await kt(()=>Se.subtitleFiles.put(n)),n}async function zd(){return Ze([],()=>Se.subtitleFiles.orderBy("addedAt").reverse().toArray())}async function zh(e){await kt(()=>Se.transaction("rw",Se.subtitleFiles,Se.subtitleCues,Se.candidateWordSources,async()=>{const t=await Se.subtitleFiles.get(e);t&&(await Se.subtitleFiles.delete(e),await Xw(t.bytesHash),await _w(t.bytesHash))}))}const Lc="last-session";async function Jw(){return Ze(void 0,()=>Se.sessions.get(Lc))}async function ci(e){const t=Date.now();if(await Ze(0,()=>Se.sessions.update(Lc,{...e,updatedAt:t}))>0)return;const r={id:Lc,updatedAt:t,videoName:e.videoName,subtitleName:e.subtitleName,subtitleText:e.subtitleText,subtitleHash:e.subtitleHash,subtitleOffsetMs:e.subtitleOffsetMs,videoTimeSeconds:e.videoTimeSeconds,secondarySubtitleName:e.secondarySubtitleName,secondarySubtitleText:e.secondarySubtitleText,secondarySubtitleHash:e.secondarySubtitleHash,secondarySubtitleEnabled:e.secondarySubtitleEnabled,secondarySubtitleOffsetMs:e.secondarySubtitleOffsetMs};await kt(()=>Se.sessions.put(r))}const Zw=/[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/,di=[1,2,3,4,5,10,15,20,25,30,40,50,60,70,80,90,100],eb="No valid subtitle cues found. Use a valid .srt file.";function Ah(e){return e.some(t=>Zw.test(t.rawText))}function Dh(e){if(e.length===0)throw new Error(eb);return e}function tb(e){const t=e.trim();if(!t)return;const n=encodeURIComponent(`${t} definition`);window.open(`https://www.google.com/search?q=${n}`,"_blank","noopener,noreferrer")}function $h({isActive:e=!0}){const t=y.useRef(null),n=y.useRef(null),r=y.useRef(null),i=y.useRef(new Map),o=y.useRef({}),u=ui(b=>b.videoName),f=ui(b=>b.videoUrl),p=ui(b=>b.videoDurationMs),g=ui(b=>b.videoBlob),S=ui(b=>b.setVideoFromFile),w=ui(b=>b.setVideoFromBlob),E=ui(b=>b.setVideoDurationMs),[U,F]=y.useState(null),[W,q]=y.useState(""),[N,x]=y.useState([]),[j,D]=y.useState(0),[Z,J]=y.useState(!1),[Q,ne]=y.useState(0),[ke,ue]=y.useState(null),[Pe,Be]=y.useState(!1),[H,fe]=y.useState(""),[ve,je]=y.useState([]),[Te,K]=y.useState(!1),[se,he]=y.useState(0),[_e,Ne]=y.useState(null),[$e,Ve]=y.useState(!1),[gt,Qe]=y.useState(!1),[ot,fr]=y.useState(!1),[A,Ee]=y.useState(!1),[we,me]=y.useState(!1),[Ie,lt]=y.useState(1),[at,Qt]=y.useState(null),[He,Fn]=y.useState(null),[hr,ln]=y.useState(!0),[Y,xe]=y.useState(!0),[Me,mt]=y.useState(!1),[wt,an]=y.useState(null),Pt=y.useRef(null),un=y.useRef(null),Sn=y.useRef(null),Gr=y.useRef(0),pr=y.useRef(!1),cn=ut(b=>b.addUnknownWordFromToken),Xr=ut(b=>b.classForToken),Pi=ut(b=>b.initialize),kn=ut(b=>b.initialized),be=nt(b=>b.initialize),dn=nt(b=>b.initialized),In=nt(b=>b.setLastOpened),mr=nt(b=>b.prefs.playerShortcuts),ie=nt(b=>b.prefs.mediaLibrary),js=nt(b=>b.updatePlayerShortcuts),Ns=y.useCallback((b,X)=>{cn(b,X.rawText)},[cn]),Ti=y.useCallback((b,X)=>{tb(b.text),cn(b,X.rawText)},[cn]),Cs=y.useCallback(b=>{Qt(b),Sn.current!==null&&window.clearTimeout(Sn.current),Sn.current=window.setTimeout(()=>{Qt(null)},500)},[]),Yt=y.useCallback(b=>{x(b),Be(b.length>0&&Ah(b))},[]),jn=y.useCallback(b=>{je(b),Qe(b.length>0&&Ah(b))},[]),yr=y.useCallback(async(b,X,B)=>{const pe=Dh(B);Yt(pe),await Promise.all([Ic(b,pe),mi({name:X,bytesHash:b,totalCues:pe.length})])},[Yt]),Gt=y.useCallback(async(b,X,B)=>{const pe=Dh(B);jn(pe),await Promise.all([Ic(b,pe),mi({name:X,bytesHash:b,totalCues:pe.length})])},[jn]);y.useEffect(()=>{kn||Pi()},[kn,Pi]),y.useEffect(()=>{dn||be()},[dn,be]),y.useEffect(()=>{const b=()=>{const X=t.current;fr(document.fullscreenElement===X)};return document.addEventListener("fullscreenchange",b),()=>{document.removeEventListener("fullscreenchange",b)}},[]),y.useEffect(()=>{const b=n.current;if(!b)return;const X=()=>Ee(!b.paused),B=()=>me(b.muted),pe=()=>lt(b.volume),de=()=>{const Ce=Number.isFinite(b.duration)?b.duration*1e3:null;Fn(Ce),Ce&&E(Ce)};return X(),B(),pe(),de(),b.addEventListener("play",X),b.addEventListener("pause",X),b.addEventListener("volumechange",B),b.addEventListener("volumechange",pe),b.addEventListener("loadedmetadata",de),b.addEventListener("durationchange",de),()=>{b.removeEventListener("play",X),b.removeEventListener("pause",X),b.removeEventListener("volumechange",B),b.removeEventListener("volumechange",pe),b.removeEventListener("loadedmetadata",de),b.removeEventListener("durationchange",de)}},[]);const qn=y.useCallback(async()=>{const b=t.current;if(b&&document.fullscreenElement!==b)try{await b.requestFullscreen()}catch(X){console.error("Failed to enter fullscreen",X)}},[]),Ri=y.useCallback(async()=>{if(document.fullscreenElement)try{await document.exitFullscreen()}catch(b){console.error("Failed to exit fullscreen",b)}},[]),gr=y.useCallback(()=>{if(ot){Ri();return}qn()},[qn,Ri,ot]);y.useEffect(()=>{const b=new Worker(new URL(""+new URL("srtWorker-CL7pQELh.js",import.meta.url).href,import.meta.url),{type:"module"});return r.current=b,()=>{b.terminate(),r.current=null}},[]),y.useEffect(()=>{const b=r.current;if(!b)return;const X=async B=>{const pe=i.current.get(B.data.id);if(pe){if(o.current[pe.target]!==B.data.id){i.current.delete(B.data.id);return}if(i.current.delete(B.data.id),B.data.error){pe.target==="secondary"?(Ne(B.data.error),K(!1)):(ue(B.data.error),J(!1));return}try{pe.target==="secondary"?(Ne(null),await Gt(pe.hash,pe.fileName,B.data.cues)):(ue(null),await yr(pe.hash,pe.fileName,B.data.cues))}catch(de){console.error(de),pe.target==="secondary"?Ne(de instanceof Error?de.message:"Failed to store parsed secondary subtitles."):ue(de instanceof Error?de.message:"Failed to store parsed subtitles.")}finally{pe.target==="secondary"?K(!1):J(!1)}}};return b.addEventListener("message",X),()=>{b.removeEventListener("message",X)}},[yr,Gt,Yt,jn]);const qe=y.useCallback(async()=>{if(!(ie!=null&&ie.handle))return null;try{const b=ie.handle.queryPermission,X=ie.handle.requestPermission;if(!b||!X)return ie.handle;const B=await b.call(ie.handle,{mode:"read"});return B==="granted"?ie.handle:B==="denied"?null:await X.call(ie.handle,{mode:"read"})==="granted"?ie.handle:null}catch{return null}},[ie]),ft=y.useCallback(async b=>{const X=await qe();if(!X)return null;const B=b.toLowerCase(),pe=[X];for(;pe.length>0;){const de=pe.shift();if(!de)continue;const Ce=de.values;if(Ce)for await(const De of Ce.call(de))if(De.kind==="file"){if(De.name.toLowerCase()===B)return De}else De.kind==="directory"&&pe.push(De)}return null},[qe]);y.useEffect(()=>{let b=!1;return(async()=>{const B=await Jw();if(!(b||!B)&&(B.videoName&&!f&&(pr.current=!1,an(B.videoName)),B.subtitleName&&q(B.subtitleName),typeof B.subtitleOffsetMs=="number"&&ne(B.subtitleOffsetMs),typeof B.videoTimeSeconds=="number"&&F(B.videoTimeSeconds),B.secondarySubtitleName&&fe(B.secondarySubtitleName),typeof B.secondarySubtitleEnabled=="boolean"?Ve(B.secondarySubtitleEnabled):B.secondarySubtitleHash&&Ve(!0),typeof B.secondarySubtitleOffsetMs=="number"&&he(B.secondarySubtitleOffsetMs),!(!B.subtitleHash&&!B.secondarySubtitleHash))){if(B.secondarySubtitleHash){K(!0),Ne(null);const pe=await sr(B.secondarySubtitleHash);if(b)return;if(pe)jn(pe),K(!1),await mi({name:B.secondarySubtitleName??B.secondarySubtitleHash,bytesHash:B.secondarySubtitleHash,totalCues:pe.length});else if(B.secondarySubtitleText){const de=r.current;if(de){const Ce=crypto.randomUUID();i.current.set(Ce,{hash:B.secondarySubtitleHash,fileName:B.secondarySubtitleName??B.secondarySubtitleHash,target:"secondary"}),o.current.secondary=Ce,de.postMessage({id:Ce,text:B.secondarySubtitleText})}else try{const Ce=qs(B.secondarySubtitleText).map(De=>({...De,tokens:De.tokens??Kn(De.rawText)}));await Gt(B.secondarySubtitleHash,B.secondarySubtitleName??B.secondarySubtitleHash,Ce)}catch(Ce){b||(Ne(Ce instanceof Error?Ce.message:"Failed to parse secondary subtitles"),jn([]))}finally{b||K(!1)}}else K(!1)}if(B.subtitleHash){J(!0),ue(null);const pe=await sr(B.subtitleHash);if(b)return;if(pe){Yt(pe),J(!1),await mi({name:B.subtitleName??B.subtitleHash,bytesHash:B.subtitleHash,totalCues:pe.length});return}if(!B.subtitleText){J(!1);return}const de=r.current;if(de){const Ce=crypto.randomUUID();i.current.set(Ce,{hash:B.subtitleHash,fileName:B.subtitleName??B.subtitleHash,target:"primary"}),o.current.primary=Ce,de.postMessage({id:Ce,text:B.subtitleText});return}try{const Ce=qs(B.subtitleText).map(De=>({...De,tokens:De.tokens??Kn(De.rawText)}));await yr(B.subtitleHash,B.subtitleName??B.subtitleHash,Ce)}catch(Ce){b||(ue(Ce instanceof Error?Ce.message:"Failed to parse subtitles"),Yt([]))}finally{b||J(!1)}}}})(),()=>{b=!0}},[yr,Gt,f]),y.useEffect(()=>{if(!dn||!wt||f||pr.current)return;pr.current=!0;let b=!1;return(async()=>{try{const B=await ft(wt);if(b)return;if(B){const pe=await B.getFile();b||S(pe)}}catch{}})(),()=>{b=!0}},[ft,wt,dn,S,f]),y.useEffect(()=>{const b=n.current;if(b){if(b.currentTime=0,f){b.src!==f&&(b.src=f),b.load();return}b.removeAttribute("src"),b.load()}},[f]),y.useEffect(()=>{He!==null||!p||Fn(p)},[He,p]),y.useEffect(()=>{if(!g||!f||!u)return;let b=!1;const X=window.setTimeout(()=>{if(b)return;const B=n.current;B&&B.readyState===0&&w(u,g)},800);return()=>{b=!0,window.clearTimeout(X)}},[w,g,u,f]),y.useEffect(()=>{if(!f)return;const b=n.current;if(!b)return;let X=!1,B=0;const pe=()=>{if(X)return;const de=b.duration;if(Number.isFinite(de)&&de>0){Fn(de*1e3);return}B+=1,B<20&&window.setTimeout(pe,250)};return pe(),()=>{X=!0}},[f]),y.useEffect(()=>{const b=n.current;if(!b||U===null)return;const X=()=>{b.currentTime=U};if(b.readyState>=1){X();return}return b.addEventListener("loadedmetadata",X),()=>{b.removeEventListener("loadedmetadata",X)}},[U,f]),y.useEffect(()=>{if(!dn)return;In(u||W?{videoName:u||void 0,srtName:W||void 0}:void 0)},[dn,In,W,u]);const Oi=y.useCallback(()=>{const b=n.current;b&&(b.pause(),b.currentTime=0)},[]),vr=y.useCallback(()=>{const b=n.current;b&&(b.paused?b.play().catch(X=>{console.error("Failed to play video",X)}):b.pause())},[]),Jr=y.useCallback(()=>{const b=n.current;b&&(b.muted=!b.muted)},[]),Mi=y.useCallback(b=>{const X=n.current;if(!X||X.readyState===0)return;const B=Math.min(Math.max(X.currentTime+b,0),Number.isFinite(X.duration)?X.duration:Number.POSITIVE_INFINITY);X.currentTime=B},[]),Na=y.useCallback(b=>{const X=n.current;if(!X||X.readyState===0)return;const B=Number(b.target.value);Number.isFinite(B)&&(X.currentTime=B,D(B*1e3))},[]),Ln=y.useCallback(b=>{const X=n.current;if(!X)return;const B=Number(b.target.value);Number.isFinite(B)&&(X.volume=B,B>0&&(X.muted=!1),lt(B))},[]),xr=y.useCallback(b=>{const X=n.current;if(!X)return;const B=Math.round(X.volume*100),pe=Math.min(Math.max(B,0),100);let de=di[0];if(b==="up"){de=di[di.length-1];for(const De of di)if(De>pe){de=De;break}}else{de=di[0];for(let De=di.length-1;De>=0;De-=1){const Fo=di[De];if(Fo<pe){de=Fo;break}}}const Ce=de/100;X.volume=Ce,Ce>0&&(X.muted=!1),lt(Ce),Cs(de)},[Cs]),Xt=y.useCallback(async b=>{Oi(),ue(null),J(!0),D(0);const X=await Fc(b),B=await Mc(b);q(b.name),Yt([]),ci({subtitleName:b.name,subtitleText:X,subtitleHash:B});const pe=await sr(B);if(pe){Yt(pe),J(!1),await mi({name:b.name,bytesHash:B,totalCues:pe.length});return}const de=r.current;if(de){const Ce=crypto.randomUUID();i.current.set(Ce,{hash:B,fileName:b.name,target:"primary"}),o.current.primary=Ce,de.postMessage({id:Ce,text:X});return}try{const Ce=qs(X).map(De=>({...De,tokens:De.tokens??Kn(De.rawText)}));await yr(B,b.name,Ce)}catch(Ce){ue(Ce instanceof Error?Ce.message:"Failed to parse subtitles"),Yt([])}finally{J(!1)}},[yr,Yt,Oi]),Zr=y.useCallback(async b=>{Ne(null),K(!0);const X=await Fc(b),B=await Mc(b);fe(b.name),jn([]),ci({secondarySubtitleName:b.name,secondarySubtitleText:X,secondarySubtitleHash:B,secondarySubtitleEnabled:!0});const pe=await sr(B);if(pe){jn(pe),K(!1),Ve(!0),await mi({name:b.name,bytesHash:B,totalCues:pe.length});return}const de=r.current;if(de){const Ce=crypto.randomUUID();i.current.set(Ce,{hash:B,fileName:b.name,target:"secondary"}),o.current.secondary=Ce,de.postMessage({id:Ce,text:X});return}try{const Ce=qs(X).map(De=>({...De,tokens:De.tokens??Kn(De.rawText)}));await Gt(B,b.name,Ce),Ve(!0)}catch(Ce){Ne(Ce instanceof Error?Ce.message:"Failed to parse secondary subtitles"),jn([])}finally{K(!1)}},[Gt,jn]),Ca=y.useCallback(async b=>{const X=b.target.files;if(!X||X.length===0)return;const B=Array.from(X),pe=B.find(De=>De.type.startsWith("video/")||De.name.toLowerCase().endsWith(".mkv"));if(!pe){b.target.value="";return}Oi(),F(0),Gr.current=0,D(0),S(pe),ci({videoName:pe.name,videoTimeSeconds:0});const de=pe.name.replace(/\.[^.]+$/,"").toLowerCase(),Ce=B.find(De=>De.name.toLowerCase()===`${de}.srt`&&De!==pe);Ce&&await Xt(Ce),b.target.value=""},[Xt,Oi]),zn=y.useCallback(async b=>{var B;const X=(B=b.target.files)==null?void 0:B[0];X&&(await Xt(X),b.target.value="")},[Xt]),Ro=y.useCallback(async b=>{var B;const X=(B=b.target.files)==null?void 0:B[0];X&&(await Zr(X),b.target.value="")},[Zr]),Qn=()=>{const b=n.current;if(!b)return;const X=b.currentTime*1e3;if(Me&&!b.paused){const B=Ii(X);if(B!==null){b.currentTime=B/1e3,D(B);return}}D(X),b.currentTime-Gr.current>=2&&(Gr.current=b.currentTime,ci({videoTimeSeconds:b.currentTime}))},Fi=y.useMemo(()=>N.filter(b=>{const X=b.startMs+Q,B=b.endMs+Q;return X<=j&&B>=j}),[N,j,Q]),ei=y.useMemo(()=>ve.filter(b=>{const X=b.startMs+se,B=b.endMs+se;return X<=j&&B>=j}),[ve,j,se]),tt=y.useMemo(()=>Lh(j),[j]),Yn=y.useMemo(()=>He?Lh(He):"--:--",[He]),fn=y.useMemo(()=>He?Math.min(100,Math.max(0,j/He*100)):0,[j,He]),wr=y.useCallback(b=>{for(const X of N){const B=X.startMs+Q;if(B>b+50)return Math.max(0,B)}return null},[N,Q]),hn=y.useCallback(b=>{for(let X=N.length-1;X>=0;X-=1){const pe=N[X].startMs+Q;if(pe<b-50)return Math.max(0,pe)}return null},[N,Q]),Ii=y.useCallback(b=>{let X=null;for(const B of N){const pe=B.startMs+Q,de=B.endMs+Q;if(b>=pe&&b<=de)return null;if(pe>b)return X===null?pe-b>150?Math.max(0,pe):null:b-X>150?Math.max(0,pe):null;X=de}return null},[N,Q]),An=y.useCallback((b,X={})=>{var pe;const B=n.current;B&&(B.currentTime=b/1e3,D(b),X.focus!==!1&&((pe=t.current)==null||pe.focus()))},[]),ti=y.useCallback(b=>{ne(X=>{const B=X+b;return ci({subtitleOffsetMs:B}),B})},[]),Nn=y.useCallback(b=>{he(X=>{const B=X+b;return ci({secondarySubtitleOffsetMs:B}),B})},[]),Es=y.useCallback(()=>{ve.length!==0&&Ve(b=>{const X=!b;return ci({secondarySubtitleEnabled:X}),X})},[ve.length]),Li=y.useCallback(()=>{const b=wr(j);b!==null&&An(b)},[j,wr,An]),Oo=y.useCallback(()=>{const b=hn(j);b!==null&&An(b)},[j,hn,An]),ze=y.useMemo(()=>wr(j),[j,wr]),Mo=y.useMemo(()=>hn(j),[j,hn]),Gn=y.useCallback(()=>{var b;(b=t.current)==null||b.focus()},[]),Cn=y.useCallback(()=>{Pt.current!==null&&(window.clearTimeout(Pt.current),Pt.current=null)},[]),pn=y.useCallback(()=>{un.current!==null&&(window.clearTimeout(un.current),un.current=null)},[]),ni=y.useCallback(()=>{Cn(),A&&(Pt.current=window.setTimeout(()=>{ln(!1)},2500))},[Cn,A]),zi=y.useCallback(()=>{ln(!0),ni()},[ni]),ri=y.useCallback(()=>{pn(),ot&&(un.current=window.setTimeout(()=>{xe(!1)},1e3))},[pn,ot]),We=y.useCallback(()=>{xe(!0),ri()},[ri]),ii=y.useCallback(()=>{zi(),We()},[zi,We]);y.useMemo(()=>mr??{},[mr]);const{listeningShortcut:Ye,handleShortcutEditToggle:Nt,getShortcutLabel:Bt,handleShortcutKeyDown:Ai}=qw({isActive:e,playerShortcuts:mr,updatePlayerShortcuts:js,callbacks:{adjustSubtitleOffset:ti,adjustSecondarySubtitleOffset:Nn,toggleSecondarySubtitle:Es,jumpToNextSentence:Li,jumpToPreviousSentence:Oo,toggleMainSubtitleRtl:()=>Be(b=>!b),toggleSecondarySubtitleRtl:()=>Qe(b=>!b),toggleSkipSubtitleGaps:()=>mt(b=>!b),focusPlayerContainer:Gn,seekBy:Mi,toggleFullscreen:gr,toggleMute:Jr,togglePlayback:vr,stepVolume:xr,video:n.current}}),br=y.useCallback(b=>{Ai(b.nativeEvent)&&(b.preventDefault(),b.stopPropagation())},[Ai]);return y.useEffect(()=>{if(e)return;const b=n.current;b&&!b.paused&&b.pause()},[e]),y.useEffect(()=>{if(!A){Cn(),ln(!0);return}ni()},[Cn,A,ni]),y.useEffect(()=>{if(!ot){pn(),xe(!0);return}ri()},[pn,ot,ri]),y.useEffect(()=>()=>{Cn(),pn()},[Cn,pn]),y.useEffect(()=>()=>{Sn.current!==null&&window.clearTimeout(Sn.current)},[]),a.jsx("div",{className:"space-y-6",onKeyDown:br,children:a.jsxs("section",{className:"space-y-4",children:[a.jsxs("div",{ref:t,className:`relative aspect-video overflow-hidden rounded-lg bg-black shadow-xl focus:outline-none focus-visible:outline-none ${ot&&!Y?"cursor-none":""}`,onDoubleClick:gr,onMouseMove:ii,onMouseLeave:()=>{A&&ln(!1)},onFocusCapture:zi,tabIndex:-1,children:[a.jsx("video",{ref:n,className:"h-full w-full focus:outline-none focus-visible:outline-none",onClick:()=>{vr(),Gn()},onTimeUpdate:Qn,src:f??void 0,preload:"metadata",tabIndex:-1,children:a.jsx("track",{kind:"subtitles",srcLang:"en",label:W||"Subtitles"})}),a.jsx("div",{className:`pointer-events-none absolute inset-0 z-40 flex items-center justify-center transition-opacity duration-300 ${at===null?"opacity-0":"opacity-100"}`,"aria-hidden":!0,children:a.jsxs("div",{className:"rounded-full bg-black/50 px-4 py-2 text-lg font-semibold text-white/90 shadow-lg backdrop-blur-sm",children:[at??Math.round(Ie*100),"%"]})}),a.jsx("div",{className:`absolute inset-x-0 bottom-0 z-20 flex flex-col gap-3 bg-gradient-to-t from-black/80 via-black/40 to-transparent px-4 pb-4 pt-6 text-white transition-opacity duration-300 ${hr?"opacity-100":"pointer-events-none opacity-0"}`,onDoubleClick:b=>b.stopPropagation(),children:a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("input",{type:"range",min:0,max:He?Math.max(He/1e3,0):0,step:.1,value:He?Math.min(j/1e3,He/1e3):0,onChange:Na,onKeyDown:br,onFocus:b=>{b.currentTarget.blur(),Gn()},className:"player-timeline w-full cursor-pointer","aria-label":"Seek position",disabled:!He,tabIndex:-1,style:{"--timeline-gradient":`linear-gradient(90deg, rgba(56, 189, 248, 0.6) 0%, rgba(56, 189, 248, 0.6) ${fn}%, rgba(148, 163, 184, 0.35) ${fn}%, rgba(148, 163, 184, 0.35) 100%)`}}),a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-sm",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxs("button",{type:"button",className:`group play-variant variant-24 focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-200 ${A?"is-paused":""}`,onClick:()=>{vr(),Gn()},"aria-label":A?"Pause video":"Play video",children:[a.jsx("span",{className:"play-variant-icon","aria-hidden":!0}),a.jsx("span",{className:"player-tooltip",children:"Space"})]}),a.jsxs("div",{className:"group relative flex items-center gap-2",children:[a.jsxs("button",{type:"button",className:"player-icon-button text-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-200",onClick:()=>{Jr(),Gn()},"aria-label":we?"Unmute video":"Mute video",children:[a.jsx("span",{"aria-hidden":!0,children:we?"":""}),a.jsx("span",{className:"player-tooltip",children:"M"})]}),a.jsx("div",{className:"max-w-0 overflow-hidden transition-all duration-300 group-hover:max-w-[120px]",children:a.jsx("input",{id:"player-volume",type:"range",min:0,max:1,step:.05,value:we?0:Ie,onChange:Ln,onKeyDown:br,className:"player-volume w-24 cursor-pointer","aria-label":"Volume"})})]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/70",style:{fontFamily:'"Comic Sans MS", "Comic Sans", cursive'},children:[tt," / ",Yn]}),a.jsx("div",{className:"flex flex-wrap items-center gap-2",children:a.jsx("div",{className:"flex flex-row-reverse items-center gap-2",children:a.jsxs("button",{type:"button",className:"group player-icon-button text-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-200",onClick:()=>{gr(),Gn()},"aria-label":ot?"Exit fullscreen":"Enter fullscreen",children:[a.jsx("span",{"aria-hidden":!0,children:""}),a.jsx("span",{className:"player-tooltip",children:"F"})]})})})]})]})}),$e&&ei.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"pointer-events-none absolute inset-0 z-30 flex flex-col justify-start p-6",children:a.jsx("div",{className:"pointer-events-none flex flex-col items-center gap-3",children:ei.map(b=>a.jsx("div",{className:"subtitle-overlay subtitle-overlay-secondary subtitle-overlay-bg max-w-3xl text-center",children:a.jsx(Fh,{cue:b,isRtl:gt,className:"justify-center text-center"})},`${b.startMs}-${b.endMs}-bg`))})}),a.jsx("div",{className:"pointer-events-none absolute inset-0 z-40 flex flex-col justify-start p-6",children:a.jsx("div",{className:"pointer-events-none flex flex-col items-center gap-3",children:ei.map(b=>a.jsx("div",{className:"subtitle-overlay subtitle-overlay-secondary max-w-3xl text-center",children:a.jsx(Mh,{cue:b,classForToken:Xr,onTokenClick:Ns,onTokenContextMenu:Ti,isRtl:gt,className:"justify-center text-center"})},`${b.startMs}-${b.endMs}`))})})]}),Fi.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"pointer-events-none absolute inset-0 z-30 flex flex-col justify-end p-6",children:a.jsx("div",{className:"pointer-events-none flex flex-col items-center gap-3",children:Fi.map(b=>a.jsx("div",{className:"subtitle-overlay subtitle-overlay-bg max-w-3xl text-center",children:a.jsx(Fh,{cue:b,isRtl:Pe,className:"justify-center text-center"})},`${b.startMs}-${b.endMs}-bg`))})}),a.jsx("div",{className:"pointer-events-none absolute inset-0 z-40 flex flex-col justify-end p-6",children:a.jsx("div",{className:"pointer-events-none flex flex-col items-center gap-3",children:Fi.map(b=>a.jsx("div",{className:"subtitle-overlay max-w-3xl text-center",children:a.jsx(Mh,{cue:b,classForToken:Xr,onTokenClick:Ns,onTokenContextMenu:Ti,isRtl:Pe,className:"justify-center text-center"})},`${b.startMs}-${b.endMs}`))})})]})]}),a.jsxs("div",{className:"space-y-4 rounded-lg border border-white/10 bg-white/5 p-4 text-sm text-white/80",children:[a.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[a.jsxs("label",{className:"flex w-full cursor-pointer flex-col gap-2 rounded-lg border border-dashed border-white/20 bg-white/5 p-4 text-sm hover:border-white/40",children:[a.jsx("span",{className:"font-medium",children:"Load video"}),a.jsx("input",{type:"file",accept:"video/*,video/x-matroska,.mkv,.MKV",multiple:!0,className:"hidden",onChange:Ca}),a.jsx("span",{className:"text-xs text-white/60",children:"Automatically pairs a matching .srt when selected together."}),a.jsxs("span",{className:"text-xs text-white/60",children:["Current: ",u||"None"]})]}),a.jsxs("label",{className:"flex w-full cursor-pointer flex-col gap-2 rounded-lg border border-dashed border-white/20 bg-white/5 p-4 text-sm hover:border-white/40",children:[a.jsx("span",{className:"font-medium",children:"Load subtitles (SRT)"}),a.jsx("input",{type:"file",accept:".srt",className:"hidden",onChange:zn}),a.jsxs("span",{className:"text-xs text-white/60",children:["Current: ",W||"None"]}),Z&&a.jsx("span",{className:"text-xs text-amber-300",children:"Processing subtitles"}),ke&&a.jsx("span",{className:"text-xs text-red-400",children:ke})]}),a.jsxs("label",{className:"flex w-full cursor-pointer flex-col gap-2 rounded-lg border border-dashed border-white/20 bg-white/5 p-4 text-sm hover:border-white/40",children:[a.jsx("span",{className:"font-medium",children:"Load second subtitles (SRT, optional)"}),a.jsx("input",{type:"file",accept:".srt",className:"hidden",onChange:Ro}),a.jsxs("span",{className:"text-xs text-white/60",children:["Current: ",H||"None"]}),Te&&a.jsx("span",{className:"text-xs text-amber-300",children:"Processing second subtitles"}),_e&&a.jsx("span",{className:"text-xs text-red-400",children:_e})]})]}),a.jsxs("details",{className:"rounded-lg border border-white/10 bg-white/5 p-4 text-sm",children:[a.jsx("summary",{className:"cursor-pointer list-none font-medium text-white/90",children:"More controls & keyboard shortcuts"}),a.jsxs("div",{className:"mt-4 space-y-3 text-xs text-white/70",children:[a.jsx("p",{className:"text-xs text-white/60",children:"Click a shortcut badge, then press a key. Press Backspace/Delete to clear."}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-xs text-white/80",children:[a.jsx("thead",{className:"text-[11px] uppercase tracking-wide text-white/50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2 pr-4",children:"Function"}),a.jsx("th",{className:"py-2 text-right sm:text-left",children:"Shortcut (click to change)"})]})}),a.jsxs("tbody",{className:"divide-y divide-white/10",children:[a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 pr-4",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Main subtitles timing"}),a.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",onClick:()=>{ti(-500)},children:"0.5s"}),a.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",onClick:()=>{ti(500)},children:"+0.5s"}),a.jsxs("span",{className:"text-xs text-white/60",children:["Offset: ",Q>=0?"+":"",(Q/1e3).toFixed(1),"s"]})]})}),a.jsx("td",{className:"py-3",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:justify-start",children:[a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Ye==="mainSubtitleOffsetBack"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>Nt("mainSubtitleOffsetBack"),"aria-pressed":Ye==="mainSubtitleOffsetBack",children:Bt("mainSubtitleOffsetBack")}),a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Ye==="mainSubtitleOffsetForward"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>Nt("mainSubtitleOffsetForward"),"aria-pressed":Ye==="mainSubtitleOffsetForward",children:Bt("mainSubtitleOffsetForward")})]})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 pr-4",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Second subtitles timing"}),a.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>{Nn(-500)},disabled:ve.length===0,children:"0.5s"}),a.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>{Nn(500)},disabled:ve.length===0,children:"+0.5s"}),a.jsxs("span",{className:"text-xs text-white/60",children:["Offset: ",se>=0?"+":"",(se/1e3).toFixed(1),"s"]})]})}),a.jsx("td",{className:"py-3",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:justify-start",children:[a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Ye==="secondarySubtitleOffsetBack"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>Nt("secondarySubtitleOffsetBack"),"aria-pressed":Ye==="secondarySubtitleOffsetBack",children:Bt("secondarySubtitleOffsetBack")}),a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Ye==="secondarySubtitleOffsetForward"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>Nt("secondarySubtitleOffsetForward"),"aria-pressed":Ye==="secondarySubtitleOffsetForward",children:Bt("secondarySubtitleOffsetForward")})]})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 pr-4",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Second subtitles visible"}),a.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 text-xs font-medium text-white transition hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>{Es()},disabled:ve.length===0,children:$e?"On":"Off"})]})}),a.jsx("td",{className:"py-3",children:a.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:justify-start",children:a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Ye==="toggleSecondarySubtitle"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>Nt("toggleSecondarySubtitle"),"aria-pressed":Ye==="toggleSecondarySubtitle",children:Bt("toggleSecondarySubtitle")})})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 pr-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Main subtitles right-to-left order"}),a.jsx("input",{type:"checkbox",checked:Pe,onChange:b=>Be(b.target.checked),className:"h-3 w-3 rounded border-white/30 bg-slate-900"})]})}),a.jsx("td",{className:"py-3",children:a.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:justify-start",children:a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Ye==="toggleMainSubtitleRtl"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>Nt("toggleMainSubtitleRtl"),"aria-pressed":Ye==="toggleMainSubtitleRtl",children:Bt("toggleMainSubtitleRtl")})})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 pr-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Second subtitles right-to-left order"}),a.jsx("input",{type:"checkbox",checked:gt,onChange:b=>Qe(b.target.checked),className:"h-3 w-3 rounded border-white/30 bg-slate-900"})]})}),a.jsx("td",{className:"py-3",children:a.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:justify-start",children:a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Ye==="toggleSecondarySubtitleRtl"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>Nt("toggleSecondarySubtitleRtl"),"aria-pressed":Ye==="toggleSecondarySubtitleRtl",children:Bt("toggleSecondarySubtitleRtl")})})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 pr-4",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Jump to next sentence"}),a.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>{const b=wr(j);b!==null&&An(b,{focus:!1})},disabled:ze===null,children:"Next"})]})}),a.jsx("td",{className:"py-3",children:a.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:justify-start",children:a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Ye==="jumpNextSentence"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>Nt("jumpNextSentence"),"aria-pressed":Ye==="jumpNextSentence",children:Bt("jumpNextSentence")})})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 pr-4",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Jump to previous sentence"}),a.jsx("button",{type:"button",className:"rounded bg-white/10 px-2 py-1 transition hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>{const b=hn(j);b!==null&&An(b,{focus:!1})},disabled:Mo===null,children:"Back"})]})}),a.jsx("td",{className:"py-3",children:a.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:justify-start",children:a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Ye==="jumpPrevSentence"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>Nt("jumpPrevSentence"),"aria-pressed":Ye==="jumpPrevSentence",children:Bt("jumpPrevSentence")})})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 pr-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Skip all gaps between sentences"}),a.jsx("input",{type:"checkbox",checked:Me,onChange:b=>mt(b.target.checked),className:"h-3 w-3 rounded border-white/30 bg-slate-900"})]})}),a.jsx("td",{className:"py-3",children:a.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2 sm:justify-start",children:a.jsx("button",{type:"button",className:`rounded border border-white/10 px-2 py-1 transition ${Ye==="toggleSkipSubtitleGaps"?"bg-sky-500/20 text-white":"bg-white/10 text-white/80 hover:bg-white/20"}`,onClick:()=>Nt("toggleSkipSubtitleGaps"),"aria-pressed":Ye==="toggleSkipSubtitleGaps",children:Bt("toggleSkipSubtitleGaps")})})})]})]})]})})]})]})]})]})})}const nb="./word-frequency.csv";function rb(e){const t=e.split(/\r?\n/),n=new Map;for(let r=1;r<t.length;r+=1){const i=t[r];if(!i)continue;const o=i.indexOf(","),u=(o===-1?i:i.slice(0,o)).trim().toLowerCase();!u||n.has(u)||n.set(u,r)}return n}async function ib(){const e=await fetch(nb);if(!e.ok)throw new Error("Failed to load frequency list.");const t=await e.text();return rb(t)}let Cu=null;function sb(){return Cu||(Cu=ib()),Cu}function Ly(e,t){if(!t)return null;const n=t.get(e.normalized.toLowerCase()),r=t.get(e.stem.toLowerCase());return typeof n=="number"&&typeof r=="number"?Math.min(n,r):typeof n=="number"?n:typeof r=="number"?r:null}function ob({word:e,frequencyRank:t,onDelete:n,visibleColumns:r,usageStats:i}){return a.jsxs("tr",{className:"hover:bg-white/5",children:[r.word&&a.jsx("td",{className:"px-4 py-2 font-medium",children:e.original}),r.originalSentence&&a.jsx("td",{className:"px-4 py-2 text-white/70",children:e.originalSentence?a.jsx("span",{className:"block max-w-xl break-words",children:e.originalSentence}):""}),r.normalized&&a.jsx("td",{className:"px-4 py-2 text-white/70",children:e.normalized}),r.stem&&a.jsx("td",{className:"px-4 py-2 text-white/70",children:e.stem}),r.frequencyRank&&a.jsx("td",{className:"px-4 py-2 text-right text-white/70",children:typeof t=="number"?`#${t.toLocaleString()}`:"-"}),r.updatedAt&&a.jsx("td",{className:"px-4 py-2 text-right text-white/60",children:new Date(e.updatedAt).toLocaleString()}),r.subtitleCount&&a.jsx("td",{className:"px-4 py-2 text-right text-white/70",children:i.subtitleCount.toLocaleString()}),r.sourceCount&&a.jsx("td",{className:"px-4 py-2 text-right text-white/70",children:i.sourceCount.toLocaleString()}),r.actions&&a.jsx("td",{className:"px-4 py-2 text-right",children:a.jsx("button",{type:"button",className:"rounded border border-red-500/40 px-2 py-1 text-xs font-medium text-red-300 hover:bg-red-500/10",onClick:()=>{n(e.id)},children:"Delete"})})]})}function Uh(e,t){if(!t)return null;const n={id:e.normalized,original:e.normalized,normalized:e.normalized,stem:e.stem,createdAt:e.updatedAt,updatedAt:e.updatedAt};return Ly(n,t)}function lb(){const[e,t]=y.useState(null),[n,r]=y.useState(null),[i,o]=y.useState(!1),[u,f]=y.useState(null),[p,g]=y.useState("updatedAt"),[S,w]=y.useState("desc"),[E,U]=y.useState(!1),[F,W]=y.useState(!1),[q,N]=y.useState("unknowns"),[x,j]=y.useState(2e4),[D,Z]=y.useState({word:!0,originalSentence:!0,normalized:!1,stem:!0,frequencyRank:!0,updatedAt:!1,subtitleCount:!1,sourceCount:!1,actions:!0}),[J,Q]=y.useState(!1),ne=y.useRef(null),[ke,ue]=y.useState("frequencyRank"),[Pe,Be]=y.useState("desc"),[H,fe]=y.useState({word:!0,stem:!0,frequencyRank:!0,subtitleCount:!1,sourceCount:!1,example:!0,actions:!0}),[ve,je]=y.useState(!1),Te=y.useRef(null),[K,se]=y.useState(null),he=ut(Y=>Y.words),_e=ut(Y=>Y.candidateWords),Ne=ut(Y=>Y.decisions),$e=ut(Y=>Y.initialized),Ve=ut(Y=>Y.initialize),gt=ut(Y=>Y.removeWord),Qe=ut(Y=>Y.reanalyzeStems),ot=ut(Y=>Y.addUnknownWordFromToken),fr=ut(Y=>Y.setWordDecision),A=ut(Y=>Y.refreshCandidateWords);y.useEffect(()=>{$e||Ve()},[$e,Ve]),y.useEffect(()=>{let Y=!1;return o(!0),f(null),sb().then(xe=>{Y||se(xe)}).catch(xe=>{Y||f(xe instanceof Error?xe.message:"Unable to load frequency list.")}).finally(()=>{Y||o(!1)}),()=>{Y=!0}},[]),y.useEffect(()=>{if(!J&&!ve)return;const Y=xe=>{var mt,wt;const Me=xe.target;(mt=ne.current)!=null&&mt.contains(Me)||(wt=Te.current)!=null&&wt.contains(Me)||(Q(!1),je(!1))};return document.addEventListener("mousedown",Y),()=>{document.removeEventListener("mousedown",Y)}},[ve,J]);const Ee=y.useMemo(()=>{const Y=new Map;for(const xe of he)Y.set(xe.id,Ly(xe,K));return Y},[K,he]),we=y.useMemo(()=>{const Y=[...he],xe=S==="asc"?1:-1;return Y.sort((Me,mt)=>{if(p==="alphabetical")return Me.normalized.localeCompare(mt.normalized,void 0,{sensitivity:"base"})*xe;if(p==="frequencyRank"){const wt=Ee.get(Me.id),an=Ee.get(mt.id),Pt=typeof wt=="number"?wt:Number.POSITIVE_INFINITY,un=typeof an=="number"?an:Number.POSITIVE_INFINITY;return Pt!==un?S==="asc"?Pt-un:un-Pt:Me.normalized.localeCompare(mt.normalized,void 0,{sensitivity:"base"})}return(Me.updatedAt-mt.updatedAt)*xe}),Y},[Ee,S,p,he]),me=y.useMemo(()=>new Set(he.map(Y=>Y.normalized)),[he]),Ie=y.useMemo(()=>{const Y=new Map;for(const xe of _e)Y.set(xe.normalized,{subtitleCount:xe.subtitleCount,sourceCount:xe.sourceCount});return Y},[_e]),lt=y.useMemo(()=>{const Y=Pe==="asc"?1:-1;return _e.filter(xe=>!/[-]/u.test(xe.normalized)).filter(xe=>{const Me=Uh(xe,K);return Me?Me>x:!0}).filter(xe=>!me.has(xe.normalized)).filter(xe=>!Ne[xe.normalized]).map(xe=>({candidate:xe,rank:Uh(xe,K),decision:Ne[xe.normalized]??null})).sort((xe,Me)=>{if(ke==="word")return xe.candidate.normalized.localeCompare(Me.candidate.normalized)*Y;if(ke==="stem")return(xe.candidate.stem||"").localeCompare(Me.candidate.stem||"")*Y;if(ke==="subtitleCount")return(xe.candidate.subtitleCount-Me.candidate.subtitleCount)*Y;if(ke==="sourceCount")return(xe.candidate.sourceCount-Me.candidate.sourceCount)*Y;const mt=typeof xe.rank=="number"?xe.rank:Number.NEGATIVE_INFINITY,wt=typeof Me.rank=="number"?Me.rank:Number.NEGATIVE_INFINITY;return mt!==wt?(mt-wt)*Y:xe.candidate.subtitleCount!==Me.candidate.subtitleCount?(xe.candidate.subtitleCount-Me.candidate.subtitleCount)*Y:xe.candidate.normalized.localeCompare(Me.candidate.normalized)})},[_e,Ne,x,K,Pe,ke,me]),at=y.useCallback(Y=>{g(Y),w(Y==="updatedAt"?"desc":"asc")},[]),Qt=y.useCallback(Y=>{w(xe=>p===Y?xe==="asc"?"desc":"asc":Y==="updatedAt"?"desc":"asc"),g(Y)},[p]),He=y.useCallback(Y=>{Be(xe=>ke===Y?xe==="asc"?"desc":"asc":Y==="frequencyRank"?"desc":"asc"),ue(Y)},[ke]),Fn=y.useCallback(async()=>{U(!0),t(null),r(null);try{await Qe(),r("Re-analyzed stems.")}catch(Y){t(Y instanceof Error?Y.message:"Failed to re-analyze stems.")}finally{U(!1)}},[Qe]),hr=y.useCallback(async()=>{W(!0),t(null),r(null);try{const Y=await zd(),xe=[];for(const Me of Y){const mt=await sr(Me.bytesHash);mt&&mt.length>0&&xe.push({fileHash:Me.bytesHash,cues:mt})}await Tw(xe),await A(),r(`Rebuilt inbox from ${xe.length} subtitle file${xe.length===1?"":"s"}.`)}catch(Y){t(Y instanceof Error?Y.message:"Failed to rebuild inbox.")}finally{W(!1)}},[A]),ln=y.useCallback(async(Y,xe)=>{xe==="unknown"&&await ot(Y.normalized,Y.example),await fr(Y.normalized,xe),await A()},[ot,A,fr]);return $e?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Unknown Words"}),a.jsx("p",{className:"text-xs text-white/50",children:"Use Unknowns for your list, Inbox to mine subtitles you already imported."})]}),a.jsxs("div",{className:"flex items-center gap-2 rounded border border-white/10 bg-black/20 p-1 text-xs",children:[a.jsx("button",{type:"button",className:`rounded px-3 py-1 ${q==="unknowns"?"bg-white/20 text-white":"text-white/70"}`,onClick:()=>N("unknowns"),children:"Unknowns"}),a.jsx("button",{type:"button",className:`rounded px-3 py-1 ${q==="inbox"?"bg-white/20 text-white":"text-white/70"}`,onClick:()=>N("inbox"),children:"Inbox candidates"})]})]}),q==="unknowns"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex flex-wrap items-center justify-between gap-3 text-xs text-white/60",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("span",{children:[we.length," items"]}),a.jsxs("label",{className:"flex items-center gap-1",children:[a.jsx("span",{children:"Sort"}),a.jsxs("select",{value:p,onChange:Y=>{at(Y.target.value)},className:"rounded border border-white/10 bg-slate-900/80 px-2 py-1 text-white",children:[a.jsx("option",{value:"updatedAt",children:"Updated"}),a.jsx("option",{value:"alphabetical",children:"A-Z"}),a.jsx("option",{value:"frequencyRank",children:"Frequency Rank"})]})]}),a.jsx("button",{type:"button",className:"rounded border border-white/10 bg-white/5 px-2 py-1 text-white",onClick:()=>w(Y=>Y==="asc"?"desc":"asc"),children:S==="asc"?"Ascending":"Descending"}),a.jsxs("div",{className:"relative",ref:ne,children:[a.jsxs("button",{type:"button",className:"inline-flex items-center gap-1 rounded border border-white/10 bg-slate-900/80 px-2 py-1 text-white hover:bg-slate-800",onClick:()=>Q(Y=>!Y),children:["View",a.jsx("span",{className:"text-[10px] text-white/70",children:""})]}),J&&a.jsx("div",{className:"absolute left-0 z-10 mt-2 w-56 rounded border border-white/10 bg-slate-900/95 p-3 text-xs text-white shadow-lg",children:[["word","Word"],["originalSentence","Original sentence"],["normalized","Normalized"],["stem","Stem"],["frequencyRank","Frequency Rank"],["updatedAt","Updated"],["subtitleCount","Subtitle freq"],["sourceCount","Source count"],["actions","Actions"]].map(([Y,xe])=>a.jsxs("label",{className:"flex items-center gap-2 py-1",children:[a.jsx("input",{type:"checkbox",className:"h-3 w-3 rounded border-white/30 bg-slate-900",checked:D[Y],onChange:()=>Z(Me=>({...Me,[Y]:!Me[Y]}))}),a.jsx("span",{children:xe})]},Y))})]}),a.jsx("button",{type:"button",onClick:()=>void Fn(),className:"rounded bg-white/10 px-2 py-1 text-white",disabled:E,children:E?"Re-analyzing":"Re-analyze"})]})}),we.length===0?a.jsx("p",{className:"text-sm text-white/60",children:"No unknown words yet. Use Inbox candidates to add words from subtitle history."}):a.jsx("div",{className:"overflow-hidden rounded-lg border border-white/10",children:a.jsxs("table",{className:"min-w-full divide-y divide-white/10",children:[a.jsx("thead",{className:"bg-white/5 text-left text-xs uppercase tracking-wide text-white/60",children:a.jsxs("tr",{children:[D.word&&a.jsx("th",{className:"px-4 py-2",children:a.jsxs("button",{type:"button",onClick:()=>Qt("alphabetical"),className:"inline-flex items-center gap-1 hover:text-white",children:["Word",p==="alphabetical"&&a.jsx("span",{className:"text-[10px] text-white/70",children:S==="asc"?"":""})]})}),D.originalSentence&&a.jsx("th",{className:"px-4 py-2",children:"Original sentence"}),D.normalized&&a.jsx("th",{className:"px-4 py-2",children:"Normalized"}),D.stem&&a.jsx("th",{className:"px-4 py-2",children:"Stem"}),D.frequencyRank&&a.jsx("th",{className:"px-4 py-2 text-right",children:a.jsxs("button",{type:"button",onClick:()=>Qt("frequencyRank"),className:"flex w-full items-center justify-end gap-1 hover:text-white",children:["Frequency Rank",p==="frequencyRank"&&a.jsx("span",{className:"text-[10px] text-white/70",children:S==="asc"?"":""})]})}),D.updatedAt&&a.jsx("th",{className:"px-4 py-2 text-right",children:a.jsxs("button",{type:"button",onClick:()=>Qt("updatedAt"),className:"flex w-full items-center justify-end gap-1 hover:text-white",children:["Updated",p==="updatedAt"&&a.jsx("span",{className:"text-[10px] text-white/70",children:S==="asc"?"":""})]})}),D.subtitleCount&&a.jsx("th",{className:"px-4 py-2 text-right",children:"Subtitle freq"}),D.sourceCount&&a.jsx("th",{className:"px-4 py-2 text-right",children:"Source count"}),D.actions&&a.jsx("th",{className:"px-4 py-2 text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-white/10 text-sm",children:we.map(Y=>a.jsx(ob,{word:Y,frequencyRank:Ee.get(Y.id)??null,onDelete:gt,visibleColumns:D,usageStats:Ie.get(Y.normalized)??{subtitleCount:0,sourceCount:0}},Y.id))})]})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-white/70",children:[a.jsx("button",{type:"button",onClick:()=>void hr(),className:"rounded bg-white/10 px-3 py-1 text-white hover:bg-white/20",disabled:F,children:F?"Rebuilding":"Rebuild Inbox"}),a.jsxs("label",{className:"flex items-center gap-1",children:["Exclude top rank ",a.jsx("input",{type:"number",className:"w-20 rounded border border-white/10 bg-slate-900/80 px-2 py-1",value:x,min:0,onChange:Y=>j(Number(Y.target.value)||0)})]}),a.jsxs("span",{children:[lt.length," candidates"]}),a.jsxs("div",{className:"relative",ref:Te,children:[a.jsxs("button",{type:"button",className:"inline-flex items-center gap-1 rounded border border-white/10 bg-slate-900/80 px-2 py-1 text-white hover:bg-slate-800",onClick:()=>je(Y=>!Y),children:["View",a.jsx("span",{className:"text-[10px] text-white/70",children:""})]}),ve&&a.jsx("div",{className:"absolute left-0 z-10 mt-2 w-56 rounded border border-white/10 bg-slate-900/95 p-3 text-xs text-white shadow-lg",children:[["word","Word"],["stem","Stem"],["frequencyRank","Frequency rank"],["subtitleCount","Subtitle freq"],["sourceCount","Source count"],["example","Example"],["actions","Actions"]].map(([Y,xe])=>a.jsxs("label",{className:"flex items-center gap-2 py-1",children:[a.jsx("input",{type:"checkbox",className:"h-3 w-3 rounded border-white/30 bg-slate-900",checked:H[Y],onChange:()=>fe(Me=>({...Me,[Y]:!Me[Y]}))}),a.jsx("span",{children:xe})]},Y))})]})]}),a.jsx("div",{className:"overflow-hidden rounded-lg border border-white/10",children:a.jsxs("table",{className:"min-w-full divide-y divide-white/10",children:[a.jsx("thead",{className:"bg-white/5 text-left text-xs uppercase tracking-wide text-white/60",children:a.jsxs("tr",{children:[H.word&&a.jsx("th",{className:"px-4 py-2",children:a.jsxs("button",{type:"button",onClick:()=>He("word"),className:"inline-flex items-center gap-1 hover:text-white",children:["Word",ke==="word"&&a.jsx("span",{className:"text-[10px] text-white/70",children:Pe==="asc"?"":""})]})}),H.stem&&a.jsx("th",{className:"px-4 py-2",children:a.jsxs("button",{type:"button",onClick:()=>He("stem"),className:"inline-flex items-center gap-1 hover:text-white",children:["Stem",ke==="stem"&&a.jsx("span",{className:"text-[10px] text-white/70",children:Pe==="asc"?"":""})]})}),H.frequencyRank&&a.jsx("th",{className:"px-4 py-2 text-right",children:a.jsxs("button",{type:"button",onClick:()=>He("frequencyRank"),className:"flex w-full items-center justify-end gap-1 hover:text-white",children:["Frequency rank",ke==="frequencyRank"&&a.jsx("span",{className:"text-[10px] text-white/70",children:Pe==="asc"?"":""})]})}),H.subtitleCount&&a.jsx("th",{className:"px-4 py-2 text-right",children:a.jsxs("button",{type:"button",onClick:()=>He("subtitleCount"),className:"flex w-full items-center justify-end gap-1 hover:text-white",children:["Subtitle freq",ke==="subtitleCount"&&a.jsx("span",{className:"text-[10px] text-white/70",children:Pe==="asc"?"":""})]})}),H.sourceCount&&a.jsx("th",{className:"px-4 py-2 text-right",children:a.jsxs("button",{type:"button",onClick:()=>He("sourceCount"),className:"flex w-full items-center justify-end gap-1 hover:text-white",children:["Source count",ke==="sourceCount"&&a.jsx("span",{className:"text-[10px] text-white/70",children:Pe==="asc"?"":""})]})}),H.example&&a.jsx("th",{className:"px-4 py-2",children:"Example"}),H.actions&&a.jsx("th",{className:"px-4 py-2 text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-white/10 text-sm",children:lt.map(({candidate:Y,rank:xe,decision:Me})=>a.jsxs("tr",{className:"hover:bg-white/5",children:[H.word&&a.jsx("td",{className:"px-4 py-2 font-medium",children:Y.normalized}),H.stem&&a.jsx("td",{className:"px-4 py-2 text-white/70",children:Y.stem||ka(Y.normalized)}),H.frequencyRank&&a.jsx("td",{className:"px-4 py-2 text-right text-white/70",children:typeof xe=="number"?`#${xe.toLocaleString()}`:"-"}),H.subtitleCount&&a.jsx("td",{className:"px-4 py-2 text-right text-white/70",children:Y.subtitleCount.toLocaleString()}),H.sourceCount&&a.jsx("td",{className:"px-4 py-2 text-right text-white/70",children:Y.sourceCount.toLocaleString()}),H.example&&a.jsx("td",{className:"px-4 py-2 text-white/60",children:a.jsx("span",{className:"line-clamp-2",children:Y.example||""})}),H.actions&&a.jsxs("td",{className:"px-4 py-2",children:[a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{type:"button",className:"rounded border border-emerald-400/40 px-2 py-1 text-xs text-emerald-200",onClick:()=>void ln(Y,"unknown"),children:"Add"}),a.jsx("button",{type:"button",className:"rounded border border-sky-400/40 px-2 py-1 text-xs text-sky-200",onClick:()=>void ln(Y,"known"),children:"Known"}),a.jsx("button",{type:"button",className:"rounded border border-white/20 px-2 py-1 text-xs text-white/80",onClick:()=>void ln(Y,"ignored"),children:"Ignore"})]}),Me&&a.jsxs("div",{className:"mt-1 text-right text-[10px] text-white/40",children:["Resolved: ",Me]})]})]},Y.normalized))})]})})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-white/60",children:[i&&a.jsx("span",{children:"Loading frequency ranks..."}),u&&a.jsx("span",{className:"text-amber-300",children:u}),e?a.jsx("span",{className:"text-red-400",children:e}):null,n?a.jsx("span",{className:"text-emerald-400",children:n}):null]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Unknown Words"}),a.jsx("p",{className:"text-sm text-white/60",children:"Loading your vocabulary..."})]})}const ab=[0,1,2,3],ub=[".mp4",".mkv",".mov",".avi",".m4v",".webm"],Bh={minHeight:"60vh",maxHeight:"calc(100vh - 10rem)"};function dl(e){const t=Math.max(0,Math.floor(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60).toString().padStart(2,"0"),i=(t%60).toString().padStart(2,"0");return n>0?`${n}:${r}:${i}`:`${r}:${i}`}function cb(e,t){return e.some(n=>n.isWord&&(n.normalized===t.normalized||n.stem===t.stem))}function db(e){return qs(e).map(t=>({...t,tokens:t.tokens??Kn(t.rawText)}))}function fb(){const[e,t]=y.useState(null),[n,r]=y.useState(3),[i,o]=y.useState([]),[u,f]=y.useState(!1),[p,g]=y.useState(!1),[S,w]=y.useState(null),[E,U]=y.useState({}),[F,W]=y.useState(!1),[q,N]=y.useState(null),[x,j]=y.useState(null),[D,Z]=y.useState(null),[J,Q]=y.useState(null),ne=y.useRef(null),ke=y.useRef(new Map),ue=y.useRef(null),Pe=ut(A=>A.initialized),Be=ut(A=>A.initialize),H=ut(A=>A.words),fe=nt(A=>A.initialized),ve=nt(A=>A.initialize),je=nt(A=>A.prefs.mediaLibrary);y.useEffect(()=>{Pe||Be()},[Pe,Be]),y.useEffect(()=>{fe||ve()},[ve,fe]),y.useEffect(()=>{const A=new Worker(new URL(""+new URL("srtWorker-CL7pQELh.js",import.meta.url).href,import.meta.url),{type:"module"}),Ee=we=>{const me=ke.current.get(we.data.id);if(me){if(ke.current.delete(we.data.id),we.data.error){me.reject(new Error(we.data.error));return}me.resolve(we.data.cues)}};return A.addEventListener("message",Ee),ne.current=A,()=>{A.removeEventListener("message",Ee),A.terminate(),ne.current=null;for(const[,we]of ke.current)we.reject(new Error("Parsing cancelled"));ke.current.clear()}},[]);const Te=y.useCallback(async A=>{const Ee=ne.current;if(!Ee)return db(A);const we=typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Math.random().toString(36).slice(2);return new Promise((me,Ie)=>{ke.current.set(we,{resolve:me,reject:Ie}),Ee.postMessage({id:we,text:A})})},[]),K=y.useCallback(async()=>{if(!(je!=null&&je.handle))return j("Select a media library folder in Settings to enable playback."),null;try{const A=je.handle.queryPermission,Ee=je.handle.requestPermission;if(!A||!Ee)return je.handle;const we=await A.call(je.handle,{mode:"read"});return we==="granted"?je.handle:we==="denied"?(j("Folder access denied. Re-select the library and allow access."),null):await Ee.call(je.handle,{mode:"read"})==="granted"?je.handle:(j("Folder access denied. Re-select the library and allow access."),null)}catch(A){return j(A instanceof Error?A.message:"Unable to use media library."),null}},[je]),se=y.useCallback(async A=>{const Ee=await K();if(!Ee)return null;const we=A.toLowerCase(),me=[Ee];for(;me.length>0;){const Ie=me.shift();if(!Ie)continue;const lt=Ie.values;if(lt)for await(const at of lt.call(Ie))if(at.kind==="file"){const Qt=at.name.toLowerCase();if(ub.some(He=>Qt===`${we}${He}`))return at}else at.kind==="directory"&&me.push(at)}return null},[K]),he=y.useCallback(async A=>{j(null),Z("Searching for matching video");const Ee=A.file.name.replace(/\.[^.]+$/,"");try{const we=await se(Ee);if(!we){Z(null),j("No matching video found under the selected media library.");return}const me=await we.getFile(),Ie=URL.createObjectURL(me);N(lt=>(lt&&URL.revokeObjectURL(lt),Ie)),Q({startMs:A.contextStartMs,endMs:A.contextEndMs}),Z(`Playing ${we.name}`),queueMicrotask(()=>{const lt=ue.current;lt&&(lt.currentTime=A.contextStartMs/1e3,lt.play())})}catch(we){Z(null),j(we instanceof Error?we.message:"Unable to play quote.")}},[se]),_e=y.useCallback(async()=>{f(!0);try{const A=await zd(),Ee=[];let we=0;for(const me of A){const Ie=await sr(me.bytesHash);if(Ie&&Ie.length>0){Ee.push(me);continue}await zh(me.id),we+=1}we>0&&w(me=>me??`Removed ${we} invalid subtitle source${we===1?"":"s"}.`),o(Ee)}finally{f(!1)}},[]);y.useEffect(()=>{_e()},[_e]),y.useEffect(()=>{let A=!1;if(i.length===0){U({});return}return(async()=>{const Ee=await Promise.all(i.map(async me=>{const Ie=await sr(me.bytesHash);return[me.bytesHash,Ie??[]]}));if(A)return;const we={};for(const[me,Ie]of Ee)we[me]=Ie;U(we)})(),()=>{A=!0}},[i]),y.useEffect(()=>()=>{N(Ee=>(Ee&&URL.revokeObjectURL(Ee),null));const A=ue.current;A&&(A.pause(),A.removeAttribute("src"),A.load())},[]),y.useEffect(()=>{const A=ue.current;if(!A||!J)return;const Ee=()=>{J&&A.currentTime*1e3>=J.endMs&&A.pause()};return A.addEventListener("timeupdate",Ee),()=>{A.removeEventListener("timeupdate",Ee)}},[J,q]);const Ne=y.useMemo(()=>H,[H]);y.useEffect(()=>{if(Ne.length===0){t(null);return}(!e||!Ne.some(A=>A.id===e))&&t(Ne[0].id)},[Ne,e]);const $e=y.useMemo(()=>Ne.find(A=>A.id===e)??null,[Ne,e]),Ve=y.useMemo(()=>{if(!$e)return[];const A=[];for(const Ee of i){const we=E[Ee.bytesHash]??[];we.forEach((me,Ie)=>{var Fn,hr;const lt=me.tokens??Kn(me.rawText);if(!cb(lt,$e))return;const at=Math.max(0,Ie-n),Qt=Math.min(we.length-1,Ie+n),He=we.slice(at,Qt+1);A.push({id:`${Ee.id}:${me.index}:${at}:${Qt}`,file:Ee,focusIndex:Ie-at,cues:He,contextStartMs:((Fn=He[0])==null?void 0:Fn.startMs)??me.startMs,contextEndMs:((hr=He[He.length-1])==null?void 0:hr.endMs)??me.endMs})})}return A.sort((Ee,we)=>Ee.file.name===we.file.name?Ee.contextStartMs-we.contextStartMs:Ee.file.name.localeCompare(we.file.name))},[$e,i,E,n]),gt=y.useCallback(A=>{t(A)},[]),Qe=y.useCallback(A=>{r(Number(A.target.value))},[]),ot=y.useCallback(async A=>{const Ee=A.target.files;if(!(!Ee||Ee.length===0)){g(!0),w(null);try{for(const we of Array.from(Ee))try{const me=await Mc(we);let Ie=await sr(me);if(!Ie){const lt=await Fc(we);Ie=await Te(lt)}if(!Ie||Ie.length===0)throw new Error("No valid subtitle cues found. Use a valid .srt file.");await Ic(me,Ie),await mi({name:we.name,bytesHash:me,totalCues:Ie.length})}catch(me){const Ie=me instanceof Error?me.message:"Failed to add subtitle file.";w(`Failed to process ${we.name}: ${Ie}`)}await _e()}finally{g(!1),A.target.value=""}}},[Te,_e]),fr=y.useCallback(async A=>{await zh(A.id),U(Ee=>{const we={...Ee};return delete we[A.bytesHash],we}),await _e()},[_e]);return a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr,2fr]",children:[a.jsx("section",{className:"space-y-4",children:a.jsxs("div",{className:"rounded-lg bg-black/40 p-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Unknown words"}),Ne.length===0?a.jsx("p",{className:"mt-3 text-sm text-white/60",children:"Add words from the player to explore their quotes."}):a.jsx("div",{className:"mt-3 space-y-2 overflow-y-auto pr-1",style:{minHeight:Bh.minHeight,maxHeight:Bh.maxHeight},children:Ne.map(A=>a.jsx("div",{children:a.jsxs("button",{type:"button",onClick:()=>gt(A.id),className:`flex w-full flex-col gap-1 rounded-lg border px-3 py-2 text-left transition focus:outline-none focus-visible:outline-none ${A.id===e?"border-emerald-500 bg-emerald-500/10 text-white":"border-white/10 bg-white/5 text-white/80 hover:border-white/20 hover:text-white"}`,children:[a.jsx("span",{className:"text-sm font-medium text-white",children:A.original}),a.jsx("div",{className:"text-xs text-white/60",children:"Tap to see contexts"})]})},A.id))})]})}),a.jsxs("section",{className:"space-y-6",children:[a.jsxs("div",{className:"rounded-lg bg-black/40 p-4",children:[a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Subtitle sources"}),a.jsx("p",{className:"text-sm text-white/60",children:"Quotes are gathered from the files listed below."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>W(A=>!A),disabled:i.length===0,className:`rounded-md border px-3 py-2 text-xs font-medium text-white transition focus:outline-none focus-visible:outline-none ${i.length===0?"cursor-not-allowed border-white/10 bg-white/5 text-white/40":"border-white/20 bg-white/10 hover:border-white/30 hover:bg-white/20"}`,children:i.length===0?"No files yet":F?"Collapse list":`Expand list (${i.length})`}),a.jsxs("label",{className:"inline-flex cursor-pointer items-center gap-2 rounded-md border border-dashed border-white/20 bg-white/5 px-3 py-2 text-sm text-white/80 transition hover:border-white/40",children:[a.jsx("input",{type:"file",accept:".srt",multiple:!0,className:"hidden",onChange:ot}),a.jsx("span",{className:"font-medium",children:"Add subtitles"})]})]})]}),p&&a.jsx("p",{className:"mt-3 text-xs text-white/50",children:"Processing subtitle files"}),S&&a.jsx("p",{className:"mt-2 text-xs text-red-400",children:S}),F?a.jsx("ul",{className:"mt-4 max-h-64 space-y-2 overflow-y-auto pr-1",children:u?a.jsx("li",{className:"text-sm text-white/60",children:"Loading files"}):i.length===0?a.jsx("li",{className:"text-sm text-white/60",children:"No subtitle files stored yet."}):i.map(A=>a.jsxs("li",{className:"flex items-center justify-between rounded-md border border-white/10 bg-white/5 px-3 py-2 text-sm text-white/80",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-white",children:A.name}),a.jsxs("div",{className:"text-xs text-white/50",children:[A.totalCues," cues  Added ",new Date(A.addedAt).toLocaleString()]})]}),a.jsx("button",{type:"button",onClick:()=>fr(A),className:"rounded bg-white/10 px-2 py-1 text-xs text-white transition hover:bg-white/20 focus:outline-none focus-visible:outline-none",children:"Remove"})]},A.id))}):null]}),a.jsxs("div",{className:"rounded-lg bg-black/40 p-4",children:[a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Quote contexts"}),a.jsxs("label",{className:"flex items-center gap-2 text-sm text-white/70",children:[a.jsx("span",{children:"Context lines"}),a.jsx("select",{value:n,onChange:Qe,className:"rounded-md border border-white/20 bg-white/5 px-2 py-1 text-white focus:outline-none focus-visible:outline-none",children:ab.map(A=>a.jsx("option",{value:A,className:"text-black",children:A},A))})]})]}),a.jsxs("div",{className:"mt-3 space-y-2 rounded-md border border-white/10 bg-black/40 p-3 text-sm text-white/80",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:"Quote playback"}),D&&a.jsx("span",{className:"text-xs text-white/60",children:D})]}),q?a.jsx("video",{ref:ue,controls:!0,className:"w-full rounded border border-white/10",src:q,onLoadedMetadata:()=>{J&&ue.current&&(ue.current.currentTime=J.startMs/1e3)}}):a.jsx("p",{className:"text-xs text-white/60",children:"Select a media library folder in Settings to enable quote playback. Matching videos will be looked up by subtitle filename."}),J&&a.jsxs("p",{className:"text-xs text-white/60",children:["Segment: ",dl(J.startMs),"  ",dl(J.endMs)]}),x&&a.jsx("p",{className:"text-xs text-red-400",children:x})]}),$e?Ve.length===0?a.jsx("p",{className:"mt-3 text-sm text-white/60",children:"No quotes found for this word in the stored subtitle files."}):a.jsx("ul",{className:"mt-4 space-y-4",children:Ve.map(A=>a.jsxs("li",{className:"space-y-2 rounded-md border border-white/10 bg-white/5 p-3 text-sm text-white/80",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-xs text-white/60",children:[a.jsx("span",{className:"font-medium text-white",children:A.file.name}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("span",{children:[dl(A.contextStartMs),"  ",dl(A.contextEndMs)]}),a.jsx("button",{type:"button",onClick:()=>{if(!(je!=null&&je.handle)){j("Select a media library folder in Settings to enable quote playback. Matching videos will be looked up by subtitle filename.");return}he(A)},title:je!=null&&je.handle?void 0:"Select a media library folder in Settings to enable quote playback. Matching videos will be looked up by subtitle filename.",className:`rounded border bg-white/10 px-2 py-1 text-[11px] font-medium text-white transition focus:outline-none focus-visible:outline-none ${je!=null&&je.handle?"border-white/20 hover:border-white/30 hover:bg-white/20":"border-white/10 hover:border-white/20 hover:bg-white/15"}`,children:"Play quote"})]})]}),a.jsx("div",{className:"space-y-1 rounded bg-black/40 p-2",children:A.cues.map((Ee,we)=>a.jsx("p",{className:`whitespace-pre-line ${we===A.focusIndex?"font-semibold text-white":"text-white/80"}`,children:Ee.rawText},`${Ee.index}-${we}`))})]},A.id))}):a.jsx("p",{className:"mt-3 text-sm text-white/60",children:"Select a word to see how it appears across your subtitles."})]})]})]})}const Cl="prefs";function ja(e){return{...e,mediaLibrary:void 0}}function na(e){return e}function hb(e){const{tokens:t,...n}=e;return n}function pb(e,t){return e.map(hb)}function mb(e){if(Array.isArray(e.tokens))return e;const t=typeof e.rawText=="string"?e.rawText:"";return{...e,rawText:t,tokens:Kn(t)}}function yb(e){return Number.isInteger(e.index)&&e.index>=0&&Number.isFinite(e.startMs)&&e.startMs>=0&&Number.isFinite(e.endMs)&&e.endMs>=e.startMs&&typeof e.rawText=="string"&&e.rawText.trim().length>0&&typeof e.fileHash=="string"&&e.fileHash.length>0&&typeof e.id=="string"&&e.id.length>0}function gb(e){return typeof e!="number"||!Number.isFinite(e)||e<0?0:Math.floor(e)}function zy(e,t){const n=t.map(mb).filter(yb),r=new Map;for(const o of n)r.set(o.fileHash,(r.get(o.fileHash)??0)+1);return{subtitleFiles:e.filter(o=>r.has(o.bytesHash)).map(o=>{const u=r.get(o.bytesHash)??0;return{...o,totalCues:Math.max(gb(o.totalCues),u)}}),subtitleCues:n}}function Fr(e){return Array.isArray(e)?e:[]}function Wh(e){if(typeof e!="string")return e;const t=e.trim();if(!t)return e;try{return JSON.parse(t)}catch{return e}}function Kh(e){if(!e||typeof e!="object")return!1;const t=e;return Array.isArray(t.words)||Array.isArray(t.subtitleFiles)||Array.isArray(t.subtitleCues)||Array.isArray(t.sessions)||!!(t.prefs&&typeof t.prefs=="object")}function Ay(e){if(!e||typeof e!="object")throw new Error("Invalid backup file.");const t=[e,e.data,e.payload,e.backup];for(const n of t){const r=Wh(n);if(Kh(r))return r;if(r&&typeof r=="object"&&"data"in r){const i=Wh(r.data);if(Kh(i))return i}}throw new Error("Invalid backup file: missing data.")}function Dy(e,t,n,r,i){return{words:e.length,subtitleFiles:t.length,subtitleCues:n.length,sessions:r.length,hasPrefs:!!i}}function vb(e){const t=Ay(e),n=Fr(t.words),{subtitleFiles:r,subtitleCues:i}=zy(Fr(t.subtitleFiles),Fr(t.subtitleCues)),o=t.prefs&&typeof t.prefs=="object"?ja(t.prefs):void 0,u=Fr(t.sessions).map(na);return Dy(n,r,i,u,o)}function zc(e,t){return e&&e.trim()?e:t??""}function xb(e,t){const n=new Map,r=i=>`${i.normalized}::${i.stem}`;for(const i of e)n.set(r(i),i);for(const i of t){const o=r(i),u=n.get(o);if(!u){n.set(o,i);continue}const f=(i.updatedAt??0)>=(u.updatedAt??0),p=f?i:u,g=f?u:i,S=Math.min(u.createdAt??p.createdAt??Date.now(),i.createdAt??p.createdAt??Date.now());n.set(o,{id:u.id,original:zc(p.original,g.original),originalSentence:zc(p.originalSentence,g.originalSentence)||void 0,normalized:u.normalized||i.normalized,stem:u.stem||i.stem,createdAt:S,updatedAt:Math.max(u.updatedAt??0,i.updatedAt??0)})}return Array.from(n.values())}function wb(e,t){const n=new Map;for(const r of e)n.set(r.bytesHash,r);for(const r of t){const i=n.get(r.bytesHash);if(!i){n.set(r.bytesHash,r);continue}const o=(r.addedAt??0)>=(i.addedAt??0),u=o?r:i,f=o?i:r;n.set(r.bytesHash,{id:i.id,name:zc(u.name,f.name),bytesHash:i.bytesHash,totalCues:Math.max(i.totalCues??0,r.totalCues??0),language:u.language??f.language,addedAt:Math.max(i.addedAt??0,r.addedAt??0)})}return Array.from(n.values())}function bb(e,t){const n=new Map;for(const r of e)n.set(r.id,r);for(const r of t)n.set(r.id,r);return Array.from(n.values())}function Sb(e,t){if(!t)return e;const n=e??t;return ja({...n,...t,subtitleStyle:{...n.subtitleStyle,...t.subtitleStyle},highlightColors:{...n.highlightColors,...t.highlightColors}})}function kb(e,t){const n=new Map;for(const r of e)n.set(r.id,r);for(const r of t){const i=n.get(r.id);(!i||(r.updatedAt??0)>=(i.updatedAt??0))&&n.set(r.id,r)}return Array.from(n.values())}async function fl(e,t,n,r){if(t.length!==0)for(let i=0;i<t.length;i+=n){const o=t.slice(i,i+n);await e.bulkPut(o),r(o.length)}}async function jb(e){const[t,n,r,i,o]=await Promise.all([Ze([],()=>Se.words.toArray()),Ze([],()=>Se.subtitleFiles.toArray()),Ze([],()=>Se.subtitleCues.toArray()),Ze(void 0,()=>Se.prefs.get(Cl)),Ze([],()=>Se.sessions.toArray())]),u=i!=null&&i.value?ja(i.value):void 0,f=o.map(na),p=pb(r);return{payload:{version:1,exportedAt:new Date().toISOString(),data:{words:t,subtitleFiles:n,subtitleCues:p,prefs:u,sessions:f}},counts:{words:t.length,addedWords:0,subtitleFiles:n.length,addedSubtitleFiles:0,subtitleCues:r.length,sessions:f.length,hasPrefs:!!u}}}async function Nb(e,t){const n=(K,se)=>{var he;(he=t==null?void 0:t.onProgress)==null||he.call(t,{percent:K,stage:se})},r=Ay(e);if(n(2,"Opening database"),!await Ld())return{words:0,addedWords:0,subtitleFiles:0,addedSubtitleFiles:0,subtitleCues:0,sessions:0,hasPrefs:!1};const o=Fr(r.words),{subtitleFiles:u,subtitleCues:f}=zy(Fr(r.subtitleFiles),Fr(r.subtitleCues)),p=r.prefs&&typeof r.prefs=="object"?ja(r.prefs):void 0,g=Fr(r.sessions).map(na),S=Dy(o,u,f,g,p);n(5,"Loading existing data");const[w,E,U,F,W]=await Promise.all([Ze([],()=>Se.words.toArray()),Ze([],()=>Se.subtitleFiles.toArray()),Ze([],()=>Se.subtitleCues.toArray()),Ze(void 0,()=>Se.prefs.get(Cl)),Ze([],()=>Se.sessions.toArray())]),q=W.map(na);n(25,"Merging data");const N=xb(w,o),x=wb(E,u),j=bb(U,f),D=Sb(F==null?void 0:F.value,p),Z=kb(q,g);Math.max(0,N.length-w.length),Math.max(0,x.length-E.length);const J=N.length+x.length+j.length+(D?1:0)+Z.length;let Q=0;const ne=35,ke=95,ue=(K,se=0)=>{if(J===0){n(ke,K);return}se>0&&(Q+=se);const he=ne+Q/J*(ke-ne);n(Math.min(ke,Math.max(ne,he)),K)};N.length>0&&(ue("Saving words"),await kt(()=>fl(Se.words,N,500,K=>ue("Saving words",K)))),x.length>0&&(ue("Saving subtitle files"),await kt(()=>fl(Se.subtitleFiles,x,200,K=>ue("Saving subtitle files",K)))),j.length>0&&(ue("Saving subtitle cues"),await kt(()=>fl(Se.subtitleCues,j,1e3,K=>ue("Saving subtitle cues",K)))),D&&(ue("Saving preferences"),await kt(()=>Se.prefs.put({id:Cl,value:D,updatedAt:Date.now()})),ue("Saving preferences",1)),Z.length>0&&(ue("Saving sessions"),await kt(()=>fl(Se.sessions,Z,200,K=>ue("Saving sessions",K)))),n(100,"Finalizing");const[Pe,Be,H,fe,ve]=await Promise.all([Ze(0,()=>Se.words.count()),Ze(0,()=>Se.subtitleFiles.count()),Ze(0,()=>Se.subtitleCues.count()),Ze(0,()=>Se.sessions.count()),Ze(void 0,()=>Se.prefs.get(Cl))]),je=S.words>0||S.subtitleFiles>0||S.subtitleCues>0||S.sessions>0||S.hasPrefs,Te=!!(ve!=null&&ve.value);if(je&&Pe===0&&Be===0&&H===0&&fe===0&&!Te)throw new Error("Import did not write any data. Check browser storage permissions and retry.");return{words:Pe,addedWords:Math.max(0,Pe-w.length),subtitleFiles:Be,addedSubtitleFiles:Math.max(0,Be-E.length),subtitleCues:H,sessions:fe,hasPrefs:Te}}function Cb(){const e=nt(H=>H.prefs.subtitleStyle),t=nt(H=>H.prefs.highlightColors),n=nt(H=>H.prefs.mediaLibrary),r=nt(H=>H.updateSubtitleStyle),i=nt(H=>H.updateHighlightColors),o=nt(H=>H.setMediaLibrary),u=nt(H=>H.initialized),f=nt(H=>H.initialize),[p,g]=y.useState(null),[S,w]=y.useState(null),[E,U]=y.useState(null),[F,W]=y.useState(!1),[q,N]=y.useState(!1),[x,j]=y.useState(null),[D,Z]=y.useState(0),J=y.useRef(null);y.useEffect(()=>{u||f()},[u,f]),y.useEffect(()=>{if(!q){Z(0);return}const H=Date.now();Z(0);const fe=window.setInterval(()=>{Z(Math.floor((Date.now()-H)/1e3))},1e3);return()=>{window.clearInterval(fe)}},[q]);const Q=(H,fe)=>{const ve=Number(H.target.value);Number.isFinite(ve)&&r({[fe]:fe==="lineHeight"?Number(ve.toFixed(2)):ve})},ne=typeof window<"u"&&"showDirectoryPicker"in window,ke=async()=>{var H;if(g(null),!ne){g("Your browser does not support choosing a folder");return}try{const fe=await((H=window.showDirectoryPicker)==null?void 0:H.call(window));if(!fe)return;const ve=fe.requestPermission;if(ve&&await ve.call(fe,{mode:"read"})==="denied"){g("Folder access was denied. Please allow access to play quotes.");return}await o({handle:fe,label:fe.name,lastPromptedAt:Date.now()})}catch(fe){g(fe instanceof Error?fe.message:"Unable to pick folder.")}},ue=async()=>{g(null),await o(void 0)},Pe=async()=>{w(null),U(null),W(!0);try{const{payload:H,counts:fe}=await jb({includeCueTokens:!1}),ve=new Blob([JSON.stringify(H)],{type:"application/json"}),je=URL.createObjectURL(ve),Te=document.createElement("a");Te.href=je,Te.download=`subtitle-word-tracker-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Te),Te.click(),document.body.removeChild(Te),URL.revokeObjectURL(je),U(`Exported a compact backup with ${fe.words} word${fe.words===1?"":"s"} and ${fe.subtitleFiles} subtitle file${fe.subtitleFiles===1?"":"s"}.`)}catch(H){U(null),w(H instanceof Error?H.message:"Unable to export data.")}finally{W(!1)}},Be=async H=>{const fe=Array.from(H.target.files??[]);if(fe.length!==0){w(null),U(null),N(!0);try{const ve=fe.length,je=100/ve;let Te=null;for(let K=0;K<fe.length;K+=1){const se=fe[K],he=`${K+1}/${ve}`,_e=K*je,Ne=$e=>Math.min(100,Math.max(0,_e+$e/100*je));j({percent:Ne(5),stage:"Reading file",fileName:se.name,fileIndex:K+1,totalFiles:ve});try{const $e=await se.text();j({percent:Ne(15),stage:"Parsing backup",fileName:se.name,fileIndex:K+1,totalFiles:ve});const Ve=JSON.parse($e),gt=vb(Ve);j({percent:Ne(15),stage:`Parsed backup (${gt.words} words, ${gt.subtitleFiles} files)`,fileName:se.name,fileIndex:K+1,totalFiles:ve}),Te=await Nb(Ve,{onProgress:Qe=>{j({percent:Ne(Qe.percent),stage:Qe.stage,fileName:se.name,fileIndex:K+1,totalFiles:ve})}})}catch($e){const Ve=$e instanceof Error?$e.message:"Unable to import data.";throw new Error(`File ${he} (${se.name}) failed: ${Ve}`)}j({percent:Ne(100),stage:ve>1?`Finished file ${he}`:"Finished",fileName:se.name,fileIndex:K+1,totalFiles:ve})}if(nt.setState({initialized:!1}),nt.getState().initialize(),ut.setState({initialized:!1}),ut.getState().initialize(),!Te)throw new Error("Import finished with no result.");U(`Imported ${fe.length} backup file${fe.length===1?"":"s"} and merged everything. You can now delete old backup files and export a single fresh JSON. Current totals: ${Te.words} word${Te.words===1?"":"s"} and ${Te.subtitleFiles} subtitle file${Te.subtitleFiles===1?"":"s"}.`)}catch(ve){U(null),w(ve instanceof Error?ve.message:"Unable to import data.")}finally{N(!1),j(null),H.target.value=""}}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Subtitle Appearance"}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Font family"}),a.jsx("input",{type:"text",value:e.fontFamily,onChange:H=>void r({fontFamily:H.target.value}),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Font size (px)"}),a.jsx("input",{type:"number",min:16,max:96,value:e.fontSizePx,onChange:H=>Q(H,"fontSizePx"),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Second subtitle font size (px)"}),a.jsx("input",{type:"number",min:16,max:96,value:e.useMainForSecondaryFontSize?e.fontSizePx:e.secondaryFontSizePx,onChange:H=>Q(H,"secondaryFontSizePx"),disabled:e.useMainForSecondaryFontSize,className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none disabled:text-white/40"})]}),a.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[a.jsx("input",{type:"checkbox",checked:e.useMainForSecondaryFontSize,onChange:H=>void r({useMainForSecondaryFontSize:H.target.checked}),className:"h-4 w-4 rounded border-white/20 bg-black/60"}),a.jsx("span",{className:"text-white/70",children:"Same as main"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Font weight"}),a.jsx("input",{type:"number",min:300,max:900,step:100,value:e.fontWeight,onChange:H=>Q(H,"fontWeight"),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Line height"}),a.jsx("input",{type:"number",min:1,max:2,step:.05,value:e.lineHeight,onChange:H=>Q(H,"lineHeight"),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Text color"}),a.jsx("input",{type:"color",value:e.color,onChange:H=>void r({color:H.target.value}),className:"h-10 w-full cursor-pointer rounded-md border border-white/10 bg-black/40"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Background"}),a.jsx("input",{type:"text",value:e.bgColor,onChange:H=>void r({bgColor:H.target.value}),className:"rounded-md border border-white/10 bg-black/40 px-3 py-2 text-white focus:border-white/40 focus:outline-none",placeholder:"rgba(0,0,0,0.35)"})]}),a.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[a.jsx("input",{type:"checkbox",checked:e.outline,onChange:H=>void r({outline:H.target.checked}),className:"h-4 w-4 rounded border-white/20 bg-black/60"}),a.jsx("span",{className:"text-white/70",children:"Outline text"})]}),a.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[a.jsx("input",{type:"checkbox",checked:e.shadow,onChange:H=>void r({shadow:H.target.checked}),className:"h-4 w-4 rounded border-white/20 bg-black/60"}),a.jsx("span",{className:"text-white/70",children:"Drop shadow"})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Highlight Colors"}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Exact match"}),a.jsx("input",{type:"color",value:t.exact,onChange:H=>void i({exact:H.target.value}),className:"h-10 w-full cursor-pointer rounded-md border border-white/10 bg-black/40"})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"text-white/70",children:"Variant match"}),a.jsx("input",{type:"color",value:t.variant,onChange:H=>void i({variant:H.target.value}),className:"h-10 w-full cursor-pointer rounded-md border border-white/10 bg-black/40"})]})]})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Media Library"}),a.jsx("p",{className:"text-sm text-white/70",children:"Pick the root folder that contains your shows/movies. This enables future quote-level playback by searching for matching video files alongside your subtitles."}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsx("button",{type:"button",onClick:ke,className:"rounded-md border border-white/20 bg-white/10 px-3 py-2 text-sm font-medium text-white transition hover:border-white/30 hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/10 disabled:text-white/40",children:"Choose folder"}),a.jsx("button",{type:"button",onClick:ue,disabled:!n,className:"rounded-md border border-white/10 px-3 py-2 text-sm text-white/70 transition hover:border-white/30 hover:bg-white/10 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/5 disabled:text-white/40",children:"Clear selection"}),!ne&&a.jsx("span",{className:"text-xs text-amber-300",children:"Folder selection requires a Chromium-based browser."})]}),n?a.jsxs("p",{className:"text-sm text-white/70",children:["Selected: ",a.jsx("span",{className:"font-semibold text-white",children:n.label??"Folder"})]}):a.jsx("p",{className:"text-sm text-white/60",children:"No folder selected yet."}),p&&a.jsx("p",{className:"text-sm text-red-400",children:p})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Data Transfer"}),a.jsx("p",{className:"text-sm text-white/70",children:"Export a compact backup of your words, subtitles database, preferences, and last session. The export omits derived token caches to keep file sizes much smaller. Import accepts one or many JSON backups and merges each one in order. Newer timestamps win for words and subtitle files, and prefs from backups override local settings. Media library folder access cannot be exported; reselect it after import."}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsx("button",{type:"button",onClick:Pe,disabled:F,className:"rounded-md border border-white/20 bg-white/10 px-3 py-2 text-sm font-medium text-white transition hover:border-white/30 hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/10 disabled:text-white/40",children:F?"Exporting...":"Export everything"}),a.jsx("button",{type:"button",onClick:()=>{var H;return(H=J.current)==null?void 0:H.click()},disabled:q,className:"rounded-md border border-white/20 bg-white/10 px-3 py-2 text-sm font-medium text-white transition hover:border-white/30 hover:bg-white/20 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:border-white/10 disabled:text-white/40",children:q?"Importing...":"Import everything"}),a.jsx("input",{ref:J,type:"file",accept:".json",multiple:!0,className:"hidden",onChange:Be})]}),q&&x?a.jsxs("div",{className:"mt-2 w-full",children:[a.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded bg-white/10",children:a.jsx("div",{className:"h-full bg-emerald-400 transition-all duration-300",style:{width:`${x.percent}%`}})}),a.jsxs("p",{className:"mt-1 text-xs text-white/60",children:["Importing",x.fileIndex&&x.totalFiles?` ${x.fileIndex}/${x.totalFiles}`:"",": ",x.stage,x.fileName?` (${x.fileName})`:""," (",Math.round(x.percent),"%, ",D,"s)"]})]}):null,S&&a.jsx("p",{className:"text-sm text-red-400",children:S}),E&&a.jsx("p",{className:"text-sm text-emerald-400",children:E})]}),a.jsxs("section",{className:"space-y-2",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Preview"}),a.jsxs("div",{className:"rounded-lg border border-white/10 bg-black/60 p-4 text-center text-lg",style:{fontFamily:e.fontFamily,fontSize:e.fontSizePx,fontWeight:e.fontWeight,lineHeight:e.lineHeight,color:e.color,textShadow:e.shadow?"0 2px 8px rgba(0,0,0,0.8)":"none",WebkitTextStroke:e.outline?"1px rgba(0,0,0,0.9)":"0",background:e.bgColor},children:["Subtitle preview with ",a.jsx("span",{style:{background:t.exact},children:"exact"})," and",a.jsx("span",{style:{background:t.variant,marginLeft:8},children:"variant"})," highlights."]})]})]})}function Hh(e,t){return t===0?0:Math.round(e/t*1e3)/10}function Eu(e){const t=new Date(e),r=(t.getDay()+6)%7;return t.setDate(t.getDate()-r),t.setHours(0,0,0,0),t.getTime()}function _u({value:e,max:t,label:n}){const r=t<=0?0:Math.max(3,Math.round(e/t*100));return a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs text-white/60",children:[a.jsx("span",{children:n}),a.jsx("span",{children:e})]}),a.jsx("div",{className:"h-2 w-full overflow-hidden rounded bg-white/10",children:a.jsx("div",{className:"h-full rounded bg-emerald-400",style:{width:`${r}%`}})})]})}function Eb(){const e=ut(F=>F.words),t=ut(F=>F.initialize),n=ut(F=>F.initialized),[r,i]=y.useState([]),[o,u]=y.useState(!1),[f,p]=y.useState([]),[g,S]=y.useState({totalTokens:0,unknownTokens:0,perShow:[],topStems:[]});y.useEffect(()=>{n||t()},[t,n]),y.useEffect(()=>{let F=!1;return(async()=>{u(!0);const[q,N]=await Promise.all([zd(),Tc()]);F||(i(q),p(N),u(!1))})(),()=>{F=!0}},[]),y.useEffect(()=>{let F=!1;if(r.length===0){S({totalTokens:0,unknownTokens:0,perShow:[],topStems:[]});return}return(async()=>{const q=new Map,N=new Map;for(const Q of e)q.set(Q.normalized.toLowerCase(),Q),N.set(Q.stem,Q);let x=0,j=0;const D=[],Z=new Map;for(const Q of r){const ne=await sr(Q.bytesHash);if(!ne)continue;let ke=0,ue=0;for(const Pe of ne){const Be=Pe.tokens??Kn(Pe.rawText);for(const H of Be){if(!H.isWord)continue;x+=1,ke+=1;const fe=q.get(H.normalized)??N.get(H.stem);fe&&(j+=1,ue+=1,Z.set(fe.stem,(Z.get(fe.stem)??0)+1))}}D.push({name:Q.name,totalTokens:ke,unknownTokens:ue,difficulty:Hh(ue,ke)})}const J=[...Z.entries()].sort((Q,ne)=>ne[1]-Q[1]).slice(0,8).map(([Q,ne])=>({stem:Q,count:ne}));F||S({totalTokens:x,unknownTokens:j,perShow:D.sort((Q,ne)=>ne.difficulty-Q.difficulty).slice(0,8),topStems:J})})(),()=>{F=!0}},[r,e]);const w=y.useMemo(()=>g.unknownTokens===0?null:Math.max(1,Math.round(g.totalTokens/g.unknownTokens)),[g.totalTokens,g.unknownTokens]),E=y.useMemo(()=>{const F=Date.now(),W=new Map;for(let q=0;q<8;q+=1){const N=Eu(F-q*7*24*60*60*1e3);W.set(N,{added:0,cleared:0})}for(const q of e){const N=Eu(q.createdAt),x=W.get(N);x&&(x.added+=1)}for(const q of f){if(q.decision!=="known"&&q.decision!=="ignored")continue;const N=Eu(q.updatedAt),x=W.get(N);x&&(x.cleared+=1)}return[...W.entries()].sort((q,N)=>q[0]-N[0]).map(([q,N])=>({weekStart:q,label:new Date(q).toLocaleDateString(void 0,{month:"short",day:"numeric"}),...N}))},[f,e]),U=y.useMemo(()=>Math.max(1,...E.map(F=>Math.max(F.added,F.cleared))),[E]);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("section",{className:"grid gap-4 md:grid-cols-3",children:[a.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-4",children:[a.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Unknown words saved"}),a.jsx("p",{className:"mt-2 text-2xl font-semibold text-white",children:e.length}),a.jsx("p",{className:"text-xs text-white/60",children:e.length===0?"Add words from the player to start tracking.":`Covers ${g.totalTokens.toLocaleString()} word tokens in your library.`})]}),a.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-4",children:[a.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Encounter rate"}),a.jsx("p",{className:"mt-2 text-2xl font-semibold text-white",children:w?`1 in ${w}`:""}),a.jsx("p",{className:"text-xs text-white/60",children:g.totalTokens===0?"Add subtitles to measure coverage.":`${Hh(g.unknownTokens,g.totalTokens)}% of words you see are on your unknown list.`})]}),a.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-4",children:[a.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Library coverage"}),a.jsx("p",{className:"mt-2 text-2xl font-semibold text-white",children:r.length}),a.jsxs("p",{className:"text-xs text-white/60",children:["Subtitle files stored  ",o?"Loading":`${g.totalTokens.toLocaleString()} word tokens scanned`]})]})]}),a.jsxs("section",{className:"rounded-lg border border-white/10 bg-white/5 p-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Weekly unknown activity"}),a.jsx("p",{className:"text-xs text-white/60",children:"Added uses word creation dates; cleared uses known/ignored decisions."}),a.jsx("div",{className:"mt-4 grid gap-3 md:grid-cols-2",children:E.map(F=>a.jsxs("div",{className:"rounded border border-white/10 bg-black/20 p-3",children:[a.jsxs("div",{className:"mb-2 text-xs text-white/60",children:["Week of ",F.label]}),a.jsx(_u,{value:F.added,max:U,label:"Added"}),a.jsx("div",{className:"mt-2",children:a.jsx(_u,{value:F.cleared,max:U,label:"Cleared"})})]},F.weekStart))})]}),a.jsxs("section",{className:"grid gap-4 lg:grid-cols-2",children:[a.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Per-show difficulty"}),a.jsx("p",{className:"text-xs text-white/60",children:"Higher percentages mean a higher unknown-word density."}),a.jsx("div",{className:"mt-4 space-y-3",children:g.perShow.length===0?a.jsx("p",{className:"text-sm text-white/60",children:"No subtitle files analyzed yet."}):g.perShow.map(F=>a.jsxs("div",{className:"rounded border border-white/10 bg-black/20 p-3",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm",children:[a.jsx("span",{className:"truncate text-white",children:F.name}),a.jsxs("span",{className:"font-medium text-amber-300",children:[F.difficulty,"%"]})]}),a.jsxs("p",{className:"mt-1 text-xs text-white/60",children:[F.unknownTokens.toLocaleString()," unknown / ",F.totalTokens.toLocaleString()," tokens"]})]},F.name))})]}),a.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Top recurring unknown stems"}),a.jsx("p",{className:"text-xs text-white/60",children:"Stems that appear most often across your subtitle library."}),a.jsx("div",{className:"mt-4 space-y-3",children:g.topStems.length===0?a.jsx("p",{className:"text-sm text-white/60",children:"No stem data yet."}):g.topStems.map(F=>{var W;return a.jsx(_u,{value:F.count,max:((W=g.topStems[0])==null?void 0:W.count)??1,label:F.stem},F.stem)})})]})]})]})}const Vh="https://api.opensubtitles.com/api/v1",Pu="oq1XXcuCnNOnaFDKbknI2pxaQO8TiiU5",qh="Er4Y8GbS7JoCcLf9oJmjc2noj2wIsrNu",Qh="UVUt5ZRVmROJD7ot9JVJY63n8RTIhxYW",_b="ofir gaash v1.0",Yh=e=>({"Api-Key":e.trim(),"Content-Type":"application/json","X-User-Agent":_b}),Pb=(e,t)=>{const n=(e==null?void 0:e.trim())||`subtitle-${t}`;return/\.srt$/i.test(n)?n:/\.[^.\\/]+$/.test(n)?n.replace(/\.[^.\\/]+$/,".srt"):`${n}.srt`},Tu=async e=>{let t="";try{t=await e.text()}catch(u){t=`Unable to read response body: ${u.message}`}const n=e.headers.get("x-kong-request-id")||e.headers.get("x-request-id")||e.headers.get("x-amzn-requestid"),r=e.headers.get("retry-after"),i=e.headers.get("content-type");return[`Status: ${e.status} ${e.statusText}`.trim(),n?`Request ID: ${n}`:null,r?`Retry-After: ${r}`:null,i?`Content-Type: ${i}`:null,t?`Body: ${t.slice(0,800)}`:null].filter(Boolean).join(`
`)},Tb={neutral:"border-white/10 bg-white/5 text-white/70",loading:"border-sky-400/40 bg-sky-400/10 text-sky-100",success:"border-emerald-400/40 bg-emerald-400/10 text-emerald-100",error:"border-rose-400/40 bg-rose-400/10 text-rose-100"};function Rb(){const[e,t]=y.useState(Pu),[n,r]=y.useState(null),[i,o]=y.useState("en"),[u,f]=y.useState({summary:"",tone:"neutral"}),[p,g]=y.useState(null),[S,w]=y.useState(!1),[E,U]=y.useState(null),[F,W]=y.useState("downloads"),[q,N]=y.useState("desc"),x=y.useCallback((H,fe="neutral",ve)=>{f({summary:H,tone:fe,details:ve})},[]),j=y.useCallback(()=>e.trim()?n?!0:(x("Please choose a video file.","error"),!1):(x("Please enter your OpenSubtitles API key.","error"),!1),[e,n,x]),D=y.useCallback(()=>{g([])},[]),Z=y.useCallback(async H=>{var fe;D(),x("Searching OpenSubtitles...","loading"),w(!0);try{const ve=new URL(`${Vh}/subtitles`);Object.entries(H).forEach(([K,se])=>{se&&ve.searchParams.set(K,se)});const je=await fetch(ve,{headers:Yh(e)});if(!je.ok){const K=await Tu(je);throw new Error(`Search failed.
${K}`)}const Te=await je.json();g(Te.data??[]),x(`Found ${Te.total_count??((fe=Te.data)==null?void 0:fe.length)??0} subtitle(s).`,"success")}catch(ve){const je=ve.message||"Search failed.",[Te,...K]=je.split(`
`);x(Te,"error",K.join(`
`)),D()}finally{w(!1)}},[e,D,x]),J=async()=>{!j()||!n||await Z({query:n.name,languages:i})},Q=y.useCallback(async H=>{var ve;const fe=(ve=H.attributes.files)==null?void 0:ve[0];if(!(fe!=null&&fe.file_id)){x("This subtitle entry does not include a file id.","error");return}U(H.id),x("Preparing download...","loading");try{const je=await fetch(`${Vh}/download`,{method:"POST",headers:Yh(e),body:JSON.stringify({file_id:fe.file_id})});if(!je.ok){const $e=await Tu(je);throw new Error(`Download request failed.
${$e}`)}const Te=await je.json();if(!Te.link)throw new Error("Download request succeeded but returned no link.");const K=Pb(Te.file_name??fe.file_name,H.id);x(`Downloading ${K}...`,"loading");const se=await fetch(Te.link);if(!se.ok){const $e=await Tu(se);throw new Error(`Subtitle download failed.
${$e}`)}const he=await se.blob(),_e=URL.createObjectURL(he),Ne=document.createElement("a");Ne.href=_e,Ne.download=K,document.body.appendChild(Ne),Ne.click(),document.body.removeChild(Ne),URL.revokeObjectURL(_e),x(`Downloaded ${K}.`,"success")}catch(je){const Te=je.message||"Subtitle download failed.",[K,...se]=Te.split(`
`);x(K,"error",se.join(`
`))}finally{U(null)}},[e,x]),ne=Tb[u.tone],ke=u.summary||"",ue=y.useMemo(()=>p!==null&&p.length===0,[p]),Pe=y.useMemo(()=>{if(!p)return null;const H=q==="asc"?1:-1;return[...p].sort((fe,ve)=>{var K,se,he,_e;const je=((se=(K=fe.attributes.files)==null?void 0:K[0])==null?void 0:se.file_name)??"Untitled release",Te=((_e=(he=ve.attributes.files)==null?void 0:he[0])==null?void 0:_e.file_name)??"Untitled release";switch(F){case"title":return je.localeCompare(Te,void 0,{sensitivity:"base"})*H;case"downloads":return((fe.attributes.download_count??0)-(ve.attributes.download_count??0))*H;case"hearingImpaired":return(Number(fe.attributes.hearing_impaired)-Number(ve.attributes.hearing_impaired))*H;default:return 0}})},[p,q,F]),Be=y.useCallback(H=>{if(F===H){N(fe=>fe==="asc"?"desc":"asc");return}W(H),N("desc")},[F]);return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("header",{className:"rounded-2xl border border-white/10 bg-gradient-to-br from-white/10 via-white/5 to-transparent p-6 shadow-lg",children:[a.jsx("p",{className:"text-sm uppercase tracking-[0.2em] text-white/60",children:"VLSub Web"}),a.jsx("h2",{className:"mt-3 text-3xl font-semibold text-white",children:"Find subtitles for your video, straight from your browser."}),a.jsx("p",{className:"mt-3 max-w-2xl text-sm text-white/70",children:"Select a local video file, look up subtitles by filename, and download the match you want. Powered by the OpenSubtitles API."})]}),a.jsxs("section",{className:"grid gap-6 lg:grid-cols-2",children:[a.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 shadow-md",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"1. Connect to OpenSubtitles"}),a.jsxs("p",{className:"mt-2 text-sm text-white/60",children:["Enter your OpenSubtitles API key to search and download subtitles. You can create one at"," ",a.jsx("a",{href:"https://www.opensubtitles.com/",target:"_blank",rel:"noreferrer",className:"text-white underline decoration-white/40 underline-offset-4",children:"opensubtitles.com"}),"."]}),a.jsxs("label",{className:"mt-4 flex flex-col gap-2 text-sm text-white/70",children:[a.jsx("span",{children:"API Key"}),a.jsx("input",{id:"apiKey",type:"text",placeholder:"Paste your API key",value:e,onChange:H=>t(H.target.value),className:"rounded-lg border border-white/10 bg-white/10 px-3 py-2 text-sm text-white placeholder:text-white/40 focus:border-white/40 focus:outline-none"}),a.jsxs("div",{className:"text-xs text-white/50",children:[a.jsx("div",{className:"mt-1",children:"If running locally, use:"}),a.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-white/70",children:[a.jsx("span",{className:"rounded bg-white/10 px-2 py-1 text-xs",children:qh}),a.jsx("button",{type:"button",onClick:()=>t(qh),className:"rounded border border-white/10 px-2 py-1 text-[11px] text-white/70 transition hover:border-white/30 hover:bg-white/10",children:"Use this"})]}),a.jsx("div",{className:"mt-2",children:"If running from GitHub, use:"}),a.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-white/70",children:[a.jsx("span",{className:"rounded bg-white/10 px-2 py-1 text-xs",children:Pu}),a.jsx("button",{type:"button",onClick:()=>t(Pu),className:"rounded border border-white/10 px-2 py-1 text-[11px] text-white/70 transition hover:border-white/30 hover:bg-white/10",children:"Use this"})]}),a.jsx("div",{className:"mt-2",children:"Or"}),a.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-white/70",children:[a.jsx("span",{className:"rounded bg-white/10 px-2 py-1 text-xs",children:Qh}),a.jsx("button",{type:"button",onClick:()=>t(Qh),className:"rounded border border-white/10 px-2 py-1 text-[11px] text-white/70 transition hover:border-white/30 hover:bg-white/10",children:"Use this"})]})]})]})]}),a.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 shadow-md",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"2. Choose your video"}),a.jsx("p",{className:"mt-2 text-sm text-white/60",children:"We never upload your video. Only the filename is used for search."}),a.jsxs("div",{className:"mt-4 flex flex-col gap-2 text-sm text-white/70",children:[a.jsx("span",{children:"Video file"}),a.jsx("input",{id:"videoFile",type:"file",accept:"video/*,video/x-matroska,.mkv,.MKV,.mp4,.mov,.avi,.wmv,.flv,.webm,.m4v,.mpg,.mpeg",onChange:H=>{var ve;const fe=((ve=H.target.files)==null?void 0:ve[0])??null;r(fe),x(fe?`Selected ${fe.name}`:"","neutral")},className:"rounded-lg border border-white/10 bg-white/10 px-3 py-2 text-sm text-white file:mr-4 file:rounded-md file:border-0 file:bg-white/20 file:px-3 file:py-2 file:text-sm file:text-white hover:file:bg-white/30"})]}),a.jsxs("div",{className:"mt-4 flex flex-col gap-2 text-sm text-white/70",children:[a.jsx("span",{children:"Preferred language"}),a.jsxs("select",{id:"language",value:i,onChange:H=>o(H.target.value),className:"rounded-lg border border-white/20 bg-white px-3 py-2 text-sm text-slate-900 focus:border-white/40 focus:outline-none",children:[a.jsx("option",{value:"en",children:"English"}),a.jsx("option",{value:"he",children:"Hebrew"}),a.jsx("option",{value:"ar",children:"Arabic"}),a.jsx("option",{value:"hi",children:"Hindi"}),a.jsx("option",{value:"es",children:"Spanish"}),a.jsx("option",{value:"fr",children:"French"}),a.jsx("option",{value:"de",children:"German"}),a.jsx("option",{value:"it",children:"Italian"}),a.jsx("option",{value:"pt",children:"Portuguese"}),a.jsx("option",{value:"nl",children:"Dutch"}),a.jsx("option",{value:"pl",children:"Polish"}),a.jsx("option",{value:"sv",children:"Swedish"}),a.jsx("option",{value:"tr",children:"Turkish"}),a.jsx("option",{value:"ja",children:"Japanese"}),a.jsx("option",{value:"ko",children:"Korean"}),a.jsx("option",{value:"zh",children:"Chinese"})]})]}),a.jsx("div",{className:"mt-5 flex flex-wrap gap-3",children:a.jsx("button",{id:"searchName",type:"button",onClick:J,disabled:S,className:"rounded-full border border-white/20 bg-white/10 px-4 py-2 text-sm font-medium text-white transition hover:bg-white/20 disabled:cursor-not-allowed disabled:opacity-60",children:"Find subtitles"})}),a.jsxs("div",{id:"status",role:"status","aria-live":"polite",className:`mt-4 rounded-xl border px-4 py-3 text-sm ${ne}`,children:[ke,u.details?a.jsxs("details",{className:"mt-3 text-xs text-white/70",open:!0,children:[a.jsx("summary",{className:"cursor-pointer text-white/80",children:"Show details"}),a.jsx("pre",{className:"mt-2 whitespace-pre-wrap text-xs text-white/60",children:u.details})]}):null]})]})]}),a.jsxs("section",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 shadow-md",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"3. Download your subtitle"}),a.jsxs("div",{id:"results",className:"mt-4 space-y-4",children:[p===null?a.jsx("p",{className:"text-sm text-white/60",children:"Search results will appear here."}):null,ue?a.jsx("p",{className:"text-sm text-white/60",children:"No subtitles found. Try another search."}):null,Pe&&Pe.length>0?a.jsx("div",{className:"overflow-hidden rounded-xl border border-white/10",children:a.jsxs("table",{className:"w-full text-left text-sm text-white/80",children:[a.jsx("thead",{className:"bg-white/10 text-xs uppercase tracking-wide text-white/60",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3",children:a.jsxs("button",{type:"button",onClick:()=>Be("title"),className:"flex items-center gap-2 hover:text-white",children:["Title",F==="title"?q==="asc"?"":"":null]})}),a.jsx("th",{className:"px-4 py-3",children:a.jsxs("button",{type:"button",onClick:()=>Be("downloads"),className:"flex items-center gap-2 hover:text-white",children:["Downloads",F==="downloads"?q==="asc"?"":"":null]})}),a.jsx("th",{className:"px-4 py-3",children:a.jsxs("button",{type:"button",onClick:()=>Be("hearingImpaired"),className:"flex items-center gap-2 hover:text-white",children:["Hearing impaired",F==="hearingImpaired"?q==="asc"?"":"":null]})}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Action"})]})}),a.jsx("tbody",{className:"divide-y divide-white/5",children:Pe.map(H=>{var je;const fe=(je=H.attributes.files)==null?void 0:je[0],ve=(fe==null?void 0:fe.file_name)??"Untitled release";return a.jsxs("tr",{className:"bg-white/5",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsx("div",{className:"font-semibold text-white",children:ve})}),a.jsx("td",{className:"px-4 py-3 text-xs",children:H.attributes.download_count??"-"}),a.jsx("td",{className:"px-4 py-3 text-xs",children:H.attributes.hearing_impaired?"Yes":"No"}),a.jsx("td",{className:"px-4 py-3 text-right text-xs",children:a.jsx("button",{type:"button",onClick:()=>void Q(H),disabled:S||E===H.id||!(fe!=null&&fe.file_id),className:"inline-flex min-w-[9.5rem] items-center justify-center whitespace-nowrap rounded-full border border-white/20 bg-white/10 px-3 py-1 text-xs text-white transition hover:bg-white/20 disabled:cursor-not-allowed disabled:opacity-60",children:E===H.id?"Downloading...":"Download subtitle"})})]},H.id)})})]})}):null]})]}),a.jsx("footer",{className:"text-xs text-white/50",children:"Built from the original VLSub workflow. This demo uses the OpenSubtitles API and requires your own API key."})]})}function Ob(){const e=y.useRef(null);return y.useEffect(()=>()=>{e.current&&(e.current.src="about:blank")},[]),a.jsxs("div",{className:"space-y-6 text-right text-sm text-white/80",dir:"rtl",children:[a.jsx("section",{className:"space-y-3",children:a.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-start",children:[a.jsxs("div",{className:"space-y-3 lg:flex-1",children:[a.jsx("p",{children:"   ."}),a.jsxs("p",{children:["  ",a.jsx("strong",{children:"  "}),"    ."]})]}),a.jsx("div",{className:"w-full overflow-hidden rounded-lg border border-white/10 bg-black/40 lg:w-[22rem]",children:a.jsx("div",{className:"aspect-video w-full",children:a.jsx("iframe",{ref:e,className:"h-full w-full",src:"https://www.youtube.com/embed/0n2JBXuHEoc",title:"Tutorial",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})})]})}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 1    / "}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsx("li",{children:"    "}),a.jsxs("li",{children:["    ",a.jsx("strong",{children:""}),"  Dolby Digital",a.jsx("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:a.jsxs("li",{children:[" ",a.jsx("strong",{children:"AAC"}),"  "]})})]}),a.jsxs("li",{children:["    :",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsx("li",{children:a.jsx("a",{href:"http://rargb.to/",target:"_blank",rel:"noreferrer",className:"text-white underline decoration-white/40 underline-offset-4",children:"http://rargb.to/"})}),a.jsx("li",{children:a.jsx("a",{href:"https://1337x.to/",target:"_blank",rel:"noreferrer",className:"text-white underline decoration-white/40 underline-offset-4",children:"https://1337x.to/"})})]})]}),a.jsx("li",{children:"         (  )"})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 2    "}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsxs("li",{children:["   ",a.jsx("strong",{children:" "})]}),a.jsxs("li",{children:["     ",a.jsx("code",{className:"rounded bg-white/10 px-1",children:"srt"})]}),a.jsx("li",{children:"         "}),a.jsxs("li",{children:[" :",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsxs("li",{children:[" ",a.jsx("a",{href:"https://opensubtitles.org",target:"_blank",rel:"noreferrer",className:"mr-1 text-white underline decoration-white/40 underline-offset-4",children:"opensubtitles.org"})]}),a.jsxs("li",{children:["  ",a.jsx("strong",{children:"Find Subs"})," ",a.jsx("blockquote",{className:"mt-2 rounded border-l-2 border-white/20 bg-white/5 px-3 py-2 text-xs text-white/60",children:" :           "})]})]})]})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 3    ( )"}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsx("li",{children:"  "}),a.jsx("li",{children:"     2"})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 4   "}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsxs("li",{children:["  ",a.jsx("strong",{children:" "})]}),a.jsxs("li",{children:["  ",a.jsx("strong",{children:" "})]}),a.jsxs("li",{children:["   ",a.jsx("strong",{children:"Player"})]})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 5    "}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsx("li",{children:"  Play"}),a.jsxs("li",{children:["   :",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsx("li",{children:"     "}),a.jsx("li",{children:"      "})]})]}),a.jsxs("li",{children:["  :",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsxs("li",{children:["    ",a.jsx("strong",{children:"Second Subtitles"})]}),a.jsxs("li",{children:["  /      ",a.jsx("strong",{children:"H"})]})]})]})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 6   Words"}),a.jsx("ul",{className:"list-disc space-y-2 pr-5",children:a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Words"})," :",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsx("li",{children:"    "}),a.jsx("li",{children:"       "}),a.jsx("li",{children:"      "})]})]})})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 7    ChatGPT"}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsxs("li",{children:["    :",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsx("li",{children:"      "}),a.jsx("li",{children:"   ChatGPT"})]})]}),a.jsx("li",{children:"        "}),a.jsxs("li",{children:[": ",a.jsx("strong",{children:"   ChatGPT"}),"  "]})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 8   "}),a.jsx("ul",{className:"list-disc space-y-2 pr-5",children:a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Quotes ()"}),":",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsx("li",{children:"  "}),a.jsx("li",{children:"      "}),a.jsx("li",{children:"      "})]})]})})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:" 9    '"}),a.jsx("p",{children:"   '     ."}),a.jsx("h3",{className:"text-base font-semibold text-white",children:" "}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsxs("li",{children:["     (",a.jsx("strong",{children:"H"}),")"]}),a.jsx("li",{children:"     "}),a.jsxs("li",{children:["   (",a.jsx("strong",{children:"H"}),")"]}),a.jsxs("li",{children:[":",a.jsx("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:a.jsxs("li",{children:["",a.jsx("strong",{children:"Settings"}),"       (    )"]})})]})]}),a.jsx("h3",{className:"text-base font-semibold text-white",children:"  "}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"F"}),"   "]}),a.jsx("li",{children:"   5   / "}),a.jsxs("li",{children:[a.jsx("strong",{children:""}),"   / "]})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"  (Settings)"}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsx("li",{children:"  "}),a.jsxs("li",{children:["   :",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsxs("li",{children:["  ( ",a.jsx("code",{className:"rounded bg-white/10 px-1",children:"actor"}),") :"]}),a.jsx("li",{children:"      "}),a.jsxs("li",{children:["      (",a.jsx("code",{className:"rounded bg-white/10 px-1",children:"act"}),","," ",a.jsx("code",{className:"rounded bg-white/10 px-1",children:"acting"}),","," ",a.jsx("code",{className:"rounded bg-white/10 px-1",children:"actress"})," )"]})]})]}),a.jsxs("li",{children:[" :",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsx("li",{children:"   / "}),a.jsxs("li",{children:["  ",a.jsx("strong",{children:"Offset"})]}),a.jsx("li",{children:" Offset    "})]})]})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"   Words"}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsxs("li",{children:["  ",a.jsx("strong",{children:"  "}),":",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsx("li",{children:"    "}),a.jsxs("li",{children:["   ",a.jsx("em",{children:"nice to have"})]})]})]}),a.jsxs("li",{children:["  ",a.jsx("strong",{children:"  "}),":",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsx("li",{children:"   "}),a.jsxs("li",{children:[":",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsxs("li",{children:[a.jsx("code",{className:"rounded bg-white/10 px-1",children:"wind"})," =  "]}),a.jsxs("li",{children:[a.jsx("code",{className:"rounded bg-white/10 px-1",children:"to wind up"})," =  "]}),a.jsxs("li",{children:[a.jsx("code",{className:"rounded bg-white/10 px-1",children:"corporate"}),"   "]}),a.jsxs("li",{children:[a.jsx("code",{className:"rounded bg-white/10 px-1",children:"corporate"}),"      "]})]})]})]})]})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"  "}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsxs("li",{children:["  ?",a.jsxs("ol",{className:"mt-2 list-decimal space-y-1 pr-5",children:[a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Words"}),"   ",a.jsx("strong",{children:"Export JSON"})]}),a.jsxs("li",{children:["    ",a.jsx("strong",{children:"Import"})]})]})]}),a.jsxs("li",{children:["   ?",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Quotes"}),"      "]}),a.jsx("li",{children:"    "})]})]})]})]}),a.jsx("hr",{className:"border-white/10"}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"  Find Subtitles"}),a.jsxs("ul",{className:"list-disc space-y-2 pr-5",children:[a.jsx("li",{children:"    API"}),a.jsxs("li",{children:["   ",a.jsx("strong",{children:"5  "}),"  "]}),a.jsx("li",{children:"      "}),a.jsxs("li",{children:[":",a.jsxs("ul",{className:"mt-2 list-disc space-y-1 pr-5",children:[a.jsxs("li",{children:["  ",a.jsx("strong",{children:" "}),"  "]}),a.jsxs("li",{children:["  ",a.jsx("strong",{children:"Hash"})," "]})]})]})]})]})]})}const fi=({isActive:e})=>`px-3 py-2 rounded-md text-sm font-medium transition-colors ${e?"bg-white/10 text-white":"text-white/70 hover:text-white hover:bg-white/5"}`;function Mb(){const[e,t]=y.useState([]);return y.useEffect(()=>xw(t),[]),e.length===0?null:a.jsx("div",{className:"fixed bottom-4 right-4 z-[1000] flex w-[min(28rem,calc(100vw-2rem))] flex-col gap-2",children:e.map(n=>{const r=[`Context: ${n.context}`,`Message: ${n.message}`,`Time: ${new Date(n.timestamp).toISOString()}`,n.stack?`Stack:
${n.stack}`:void 0].filter(Boolean).join(`

`);return a.jsxs("div",{className:"rounded-lg border border-red-400/40 bg-slate-950/95 p-3 text-xs text-white shadow-xl",children:[a.jsx("div",{className:"font-semibold text-red-200",children:"IndexedDB error"}),a.jsxs("div",{className:"mt-1 text-white/80",children:[n.context,": ",n.message]}),a.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[a.jsx("button",{type:"button",className:"rounded border border-white/20 px-2 py-1 text-[11px] text-white/90 hover:bg-white/10",onClick:()=>{var i;(i=navigator.clipboard)==null||i.writeText(r)},children:"Copy"}),a.jsx("button",{type:"button",className:"rounded border border-white/10 px-2 py-1 text-[11px] text-white/70 hover:bg-white/10",onClick:()=>bw(n.id),children:"Dismiss"})]})]},n.id)})})}function Fb(){const e=ks(),t=e.pathname==="/"||e.pathname==="",n=nt(u=>u.prefs.subtitleStyle),r=nt(u=>u.prefs.highlightColors),i=nt(u=>u.initialize),o=nt(u=>u.initialized);return y.useEffect(()=>{o||i()},[o,i]),y.useEffect(()=>{const u=document.documentElement.style;u.setProperty("--subtitle-font-family",n.fontFamily),u.setProperty("--subtitle-font-size",`${n.fontSizePx}px`);const f=n.useMainForSecondaryFontSize?n.fontSizePx:n.secondaryFontSizePx;u.setProperty("--subtitle-secondary-font-size",`${f}px`),u.setProperty("--subtitle-font-weight",`${n.fontWeight}`),u.setProperty("--subtitle-color",n.color),u.setProperty("--subtitle-bg",n.bgColor),u.setProperty("--subtitle-line-height",`${n.lineHeight}`),u.setProperty("--subtitle-outline",n.outline?"1":"0"),u.setProperty("--subtitle-shadow",n.shadow?"1":"0"),u.setProperty("--highlight-exact",r.exact),u.setProperty("--highlight-variant",r.variant)},[n,r]),a.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[a.jsxs("div",{className:"mx-auto flex max-w-6xl flex-col gap-6 px-4 py-6",children:[a.jsxs("header",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Subtitle Word Tracker"}),a.jsxs("nav",{className:"flex gap-2",children:[a.jsx(ai,{to:"/",className:fi,end:!0,children:"Player"}),a.jsx(ai,{to:"/words",className:fi,children:"Words"}),a.jsx(ai,{to:"/quotes",className:fi,children:"Quotes"}),a.jsx(ai,{to:"/stats",className:fi,children:"Stats"}),a.jsx(ai,{to:"/settings",className:fi,children:"Settings"}),a.jsx(ai,{to:"/vlsub",className:fi,children:"Find Subs"}),a.jsx(ai,{to:"/help",className:fi,children:"?"})]})]}),a.jsxs("main",{className:"flex-1 rounded-lg border border-white/10 bg-white/5 p-6 shadow-xl backdrop-blur",children:[a.jsx("div",{className:t?"":"hidden","aria-hidden":!t,children:a.jsx($h,{isActive:t})}),a.jsxs(S0,{children:[a.jsx(er,{path:"/",element:a.jsx("div",{})}),a.jsx(er,{path:"/words",element:a.jsx(lb,{})}),a.jsx(er,{path:"/quotes",element:a.jsx(fb,{})}),a.jsx(er,{path:"/stats",element:a.jsx(Eb,{})}),a.jsx(er,{path:"/settings",element:a.jsx(Cb,{})}),a.jsx(er,{path:"/vlsub",element:a.jsx(Rb,{})}),a.jsx(er,{path:"/help",element:a.jsx(Ob,{})}),a.jsx(er,{path:"*",element:a.jsx($h,{})})]})]}),a.jsx("footer",{className:"text-xs text-white/40",children:"Local-first learning tool for movie subtitles."})]}),a.jsx(Mb,{})]})}const Ib="./",hl=new URL(Ib,window.location.href).pathname,El=hl.length>1&&hl.endsWith("/")?hl.slice(0,-1):hl,Gh=new URLSearchParams(window.location.search).get("path");if(Gh){const e=decodeURIComponent(Gh),t=El==="/"?"":El,n=e.startsWith(t)?e.slice(t.length)||"/":e;window.history.replaceState(null,"",`${El}${n}`)}Ru.createRoot(document.getElementById("root")).render(a.jsx(Wc.StrictMode,{children:a.jsx(T0,{basename:El,future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:a.jsx(Fb,{})})}));
